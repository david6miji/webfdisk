/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	__webpack_require__(14);
	
	__webpack_require__(25);
	
	__webpack_require__(29);
	
	__webpack_require__(32);
	
	var _global2 = __webpack_require__(34);
	
	var _global3 = _interopRequireDefault(_global2);
	
	var _libEditor = __webpack_require__(35);
	
	var _libEditor2 = _interopRequireDefault(_libEditor);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	var topStyle = 'background-color: #F5F6F7; border: 1px solid #dfdfdf; padding: 0px 0px 1px 0px;';
	var pstyle = 'background-color: #F5F6F7; border: 1px solid #dfdfdf; padding: 5px;';
	var topContent = '<div class="mainTitle" ui-view="title"></div>' + '<div class="mainMenu" ui-view="menu"></div>';
	var leftContent = '<div class="mainLeft" ui-view="left"></div>';
	var mainContent = '<div class="mainMain" ui-view="main"></div>';
	var previewContent = '<div class="mainPreview" ui-view="preview"></div>';
	var rightContent = '<div class="mainRight" ui-view="right"></div>';
	var bottomContent = '<div class="mainBottom" ui-view="bottom"></div>';
	
	console.log('CALL beforeAngular.js');
	
	$('#layout').w2layout({
		name: 'layout',
		panels: [{ type: 'top', size: 65, resizable: false, style: topStyle, content: topContent }, { type: 'left', size: 200, resizable: true, style: pstyle, content: leftContent }, { type: 'main', style: pstyle, content: mainContent,
	
			tabs: {
				onClick: function onClick(event) {
	
					var idString = _libEditor2.default.getIdFromEventTarget(event.target);
	
					_libEditor2.default.selectCodeMirror(_global3.default.codeViewId, idString);
				},
				onClose: function onClose(event) {
	
					var idString = _libEditor2.default.getIdFromEventTarget(event.target);
	
					_libEditor2.default.removeCodeMirror(idString);
				}
			}
	
		}, { type: 'preview', size: '20%', resizable: true, style: pstyle, content: previewContent }, { type: 'right', size: 200, resizable: true, style: pstyle, content: rightContent }, { type: 'bottom', size: 40, resizable: false, style: pstyle, content: bottomContent }]
	});

/***/ },
/* 1 */,
/* 2 */,
/* 3 */,
/* 4 */,
/* 5 */,
/* 6 */,
/* 7 */,
/* 8 */,
/* 9 */,
/* 10 */,
/* 11 */,
/* 12 */,
/* 13 */,
/* 14 */
/***/ function(module, exports, __webpack_require__) {

	__webpack_require__(15);


/***/ },
/* 15 */
/***/ function(module, exports, __webpack_require__) {

	// style-loader: Adds some css to the DOM by adding a <style> tag
	
	// load the styles
	var content = __webpack_require__(16);
	if(typeof content === 'string') content = [[module.id, content, '']];
	// add the styles to the DOM
	var update = __webpack_require__(24)(content, {});
	if(content.locals) module.exports = content.locals;
	// Hot Module Replacement
	if(false) {
		// When the styles change, update the <style> tags
		if(!content.locals) {
			module.hot.accept("!!./node_modules/css-loader/index.js!./node_modules/less-loader/index.js!./font-awesome-styles.loader.js!./font-awesome.config.js", function() {
				var newContent = require("!!./node_modules/css-loader/index.js!./node_modules/less-loader/index.js!./font-awesome-styles.loader.js!./font-awesome.config.js");
				if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
				update(newContent);
			});
		}
		// When the module is disposed, remove the <style> tags
		module.hot.dispose(function() { update(); });
	}

/***/ },
/* 16 */
/***/ function(module, exports, __webpack_require__) {

	exports = module.exports = __webpack_require__(17)();
	// imports
	
	
	// module
	exports.push([module.id, ".fa-border {\n  padding: .2em .25em .15em;\n  border: solid 0.08em #eee;\n  border-radius: .1em;\n}\n.fa-pull-left {\n  float: left;\n}\n.fa-pull-right {\n  float: right;\n}\n.fa.fa-pull-left {\n  margin-right: .3em;\n}\n.fa.fa-pull-right {\n  margin-left: .3em;\n}\n/* Deprecated as of 4.4.0 */\n.pull-right {\n  float: right;\n}\n.pull-left {\n  float: left;\n}\n.fa.pull-left {\n  margin-right: .3em;\n}\n.fa.pull-right {\n  margin-left: .3em;\n}\n.fa {\n  display: inline-block;\n  font: normal normal normal 14px/1 FontAwesome;\n  font-size: inherit;\n  text-rendering: auto;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.fa-fw {\n  width: 1.28571429em;\n  text-align: center;\n}\n/* Font Awesome uses the Unicode Private Use Area (PUA) to ensure screen\n   readers do not read off random characters that represent icons */\n.fa-glass:before {\n  content: \"\\F000\";\n}\n.fa-music:before {\n  content: \"\\F001\";\n}\n.fa-search:before {\n  content: \"\\F002\";\n}\n.fa-envelope-o:before {\n  content: \"\\F003\";\n}\n.fa-heart:before {\n  content: \"\\F004\";\n}\n.fa-star:before {\n  content: \"\\F005\";\n}\n.fa-star-o:before {\n  content: \"\\F006\";\n}\n.fa-user:before {\n  content: \"\\F007\";\n}\n.fa-film:before {\n  content: \"\\F008\";\n}\n.fa-th-large:before {\n  content: \"\\F009\";\n}\n.fa-th:before {\n  content: \"\\F00A\";\n}\n.fa-th-list:before {\n  content: \"\\F00B\";\n}\n.fa-check:before {\n  content: \"\\F00C\";\n}\n.fa-remove:before,\n.fa-close:before,\n.fa-times:before {\n  content: \"\\F00D\";\n}\n.fa-search-plus:before {\n  content: \"\\F00E\";\n}\n.fa-search-minus:before {\n  content: \"\\F010\";\n}\n.fa-power-off:before {\n  content: \"\\F011\";\n}\n.fa-signal:before {\n  content: \"\\F012\";\n}\n.fa-gear:before,\n.fa-cog:before {\n  content: \"\\F013\";\n}\n.fa-trash-o:before {\n  content: \"\\F014\";\n}\n.fa-home:before {\n  content: \"\\F015\";\n}\n.fa-file-o:before {\n  content: \"\\F016\";\n}\n.fa-clock-o:before {\n  content: \"\\F017\";\n}\n.fa-road:before {\n  content: \"\\F018\";\n}\n.fa-download:before {\n  content: \"\\F019\";\n}\n.fa-arrow-circle-o-down:before {\n  content: \"\\F01A\";\n}\n.fa-arrow-circle-o-up:before {\n  content: \"\\F01B\";\n}\n.fa-inbox:before {\n  content: \"\\F01C\";\n}\n.fa-play-circle-o:before {\n  content: \"\\F01D\";\n}\n.fa-rotate-right:before,\n.fa-repeat:before {\n  content: \"\\F01E\";\n}\n.fa-refresh:before {\n  content: \"\\F021\";\n}\n.fa-list-alt:before {\n  content: \"\\F022\";\n}\n.fa-lock:before {\n  content: \"\\F023\";\n}\n.fa-flag:before {\n  content: \"\\F024\";\n}\n.fa-headphones:before {\n  content: \"\\F025\";\n}\n.fa-volume-off:before {\n  content: \"\\F026\";\n}\n.fa-volume-down:before {\n  content: \"\\F027\";\n}\n.fa-volume-up:before {\n  content: \"\\F028\";\n}\n.fa-qrcode:before {\n  content: \"\\F029\";\n}\n.fa-barcode:before {\n  content: \"\\F02A\";\n}\n.fa-tag:before {\n  content: \"\\F02B\";\n}\n.fa-tags:before {\n  content: \"\\F02C\";\n}\n.fa-book:before {\n  content: \"\\F02D\";\n}\n.fa-bookmark:before {\n  content: \"\\F02E\";\n}\n.fa-print:before {\n  content: \"\\F02F\";\n}\n.fa-camera:before {\n  content: \"\\F030\";\n}\n.fa-font:before {\n  content: \"\\F031\";\n}\n.fa-bold:before {\n  content: \"\\F032\";\n}\n.fa-italic:before {\n  content: \"\\F033\";\n}\n.fa-text-height:before {\n  content: \"\\F034\";\n}\n.fa-text-width:before {\n  content: \"\\F035\";\n}\n.fa-align-left:before {\n  content: \"\\F036\";\n}\n.fa-align-center:before {\n  content: \"\\F037\";\n}\n.fa-align-right:before {\n  content: \"\\F038\";\n}\n.fa-align-justify:before {\n  content: \"\\F039\";\n}\n.fa-list:before {\n  content: \"\\F03A\";\n}\n.fa-dedent:before,\n.fa-outdent:before {\n  content: \"\\F03B\";\n}\n.fa-indent:before {\n  content: \"\\F03C\";\n}\n.fa-video-camera:before {\n  content: \"\\F03D\";\n}\n.fa-photo:before,\n.fa-image:before,\n.fa-picture-o:before {\n  content: \"\\F03E\";\n}\n.fa-pencil:before {\n  content: \"\\F040\";\n}\n.fa-map-marker:before {\n  content: \"\\F041\";\n}\n.fa-adjust:before {\n  content: \"\\F042\";\n}\n.fa-tint:before {\n  content: \"\\F043\";\n}\n.fa-edit:before,\n.fa-pencil-square-o:before {\n  content: \"\\F044\";\n}\n.fa-share-square-o:before {\n  content: \"\\F045\";\n}\n.fa-check-square-o:before {\n  content: \"\\F046\";\n}\n.fa-arrows:before {\n  content: \"\\F047\";\n}\n.fa-step-backward:before {\n  content: \"\\F048\";\n}\n.fa-fast-backward:before {\n  content: \"\\F049\";\n}\n.fa-backward:before {\n  content: \"\\F04A\";\n}\n.fa-play:before {\n  content: \"\\F04B\";\n}\n.fa-pause:before {\n  content: \"\\F04C\";\n}\n.fa-stop:before {\n  content: \"\\F04D\";\n}\n.fa-forward:before {\n  content: \"\\F04E\";\n}\n.fa-fast-forward:before {\n  content: \"\\F050\";\n}\n.fa-step-forward:before {\n  content: \"\\F051\";\n}\n.fa-eject:before {\n  content: \"\\F052\";\n}\n.fa-chevron-left:before {\n  content: \"\\F053\";\n}\n.fa-chevron-right:before {\n  content: \"\\F054\";\n}\n.fa-plus-circle:before {\n  content: \"\\F055\";\n}\n.fa-minus-circle:before {\n  content: \"\\F056\";\n}\n.fa-times-circle:before {\n  content: \"\\F057\";\n}\n.fa-check-circle:before {\n  content: \"\\F058\";\n}\n.fa-question-circle:before {\n  content: \"\\F059\";\n}\n.fa-info-circle:before {\n  content: \"\\F05A\";\n}\n.fa-crosshairs:before {\n  content: \"\\F05B\";\n}\n.fa-times-circle-o:before {\n  content: \"\\F05C\";\n}\n.fa-check-circle-o:before {\n  content: \"\\F05D\";\n}\n.fa-ban:before {\n  content: \"\\F05E\";\n}\n.fa-arrow-left:before {\n  content: \"\\F060\";\n}\n.fa-arrow-right:before {\n  content: \"\\F061\";\n}\n.fa-arrow-up:before {\n  content: \"\\F062\";\n}\n.fa-arrow-down:before {\n  content: \"\\F063\";\n}\n.fa-mail-forward:before,\n.fa-share:before {\n  content: \"\\F064\";\n}\n.fa-expand:before {\n  content: \"\\F065\";\n}\n.fa-compress:before {\n  content: \"\\F066\";\n}\n.fa-plus:before {\n  content: \"\\F067\";\n}\n.fa-minus:before {\n  content: \"\\F068\";\n}\n.fa-asterisk:before {\n  content: \"\\F069\";\n}\n.fa-exclamation-circle:before {\n  content: \"\\F06A\";\n}\n.fa-gift:before {\n  content: \"\\F06B\";\n}\n.fa-leaf:before {\n  content: \"\\F06C\";\n}\n.fa-fire:before {\n  content: \"\\F06D\";\n}\n.fa-eye:before {\n  content: \"\\F06E\";\n}\n.fa-eye-slash:before {\n  content: \"\\F070\";\n}\n.fa-warning:before,\n.fa-exclamation-triangle:before {\n  content: \"\\F071\";\n}\n.fa-plane:before {\n  content: \"\\F072\";\n}\n.fa-calendar:before {\n  content: \"\\F073\";\n}\n.fa-random:before {\n  content: \"\\F074\";\n}\n.fa-comment:before {\n  content: \"\\F075\";\n}\n.fa-magnet:before {\n  content: \"\\F076\";\n}\n.fa-chevron-up:before {\n  content: \"\\F077\";\n}\n.fa-chevron-down:before {\n  content: \"\\F078\";\n}\n.fa-retweet:before {\n  content: \"\\F079\";\n}\n.fa-shopping-cart:before {\n  content: \"\\F07A\";\n}\n.fa-folder:before {\n  content: \"\\F07B\";\n}\n.fa-folder-open:before {\n  content: \"\\F07C\";\n}\n.fa-arrows-v:before {\n  content: \"\\F07D\";\n}\n.fa-arrows-h:before {\n  content: \"\\F07E\";\n}\n.fa-bar-chart-o:before,\n.fa-bar-chart:before {\n  content: \"\\F080\";\n}\n.fa-twitter-square:before {\n  content: \"\\F081\";\n}\n.fa-facebook-square:before {\n  content: \"\\F082\";\n}\n.fa-camera-retro:before {\n  content: \"\\F083\";\n}\n.fa-key:before {\n  content: \"\\F084\";\n}\n.fa-gears:before,\n.fa-cogs:before {\n  content: \"\\F085\";\n}\n.fa-comments:before {\n  content: \"\\F086\";\n}\n.fa-thumbs-o-up:before {\n  content: \"\\F087\";\n}\n.fa-thumbs-o-down:before {\n  content: \"\\F088\";\n}\n.fa-star-half:before {\n  content: \"\\F089\";\n}\n.fa-heart-o:before {\n  content: \"\\F08A\";\n}\n.fa-sign-out:before {\n  content: \"\\F08B\";\n}\n.fa-linkedin-square:before {\n  content: \"\\F08C\";\n}\n.fa-thumb-tack:before {\n  content: \"\\F08D\";\n}\n.fa-external-link:before {\n  content: \"\\F08E\";\n}\n.fa-sign-in:before {\n  content: \"\\F090\";\n}\n.fa-trophy:before {\n  content: \"\\F091\";\n}\n.fa-github-square:before {\n  content: \"\\F092\";\n}\n.fa-upload:before {\n  content: \"\\F093\";\n}\n.fa-lemon-o:before {\n  content: \"\\F094\";\n}\n.fa-phone:before {\n  content: \"\\F095\";\n}\n.fa-square-o:before {\n  content: \"\\F096\";\n}\n.fa-bookmark-o:before {\n  content: \"\\F097\";\n}\n.fa-phone-square:before {\n  content: \"\\F098\";\n}\n.fa-twitter:before {\n  content: \"\\F099\";\n}\n.fa-facebook-f:before,\n.fa-facebook:before {\n  content: \"\\F09A\";\n}\n.fa-github:before {\n  content: \"\\F09B\";\n}\n.fa-unlock:before {\n  content: \"\\F09C\";\n}\n.fa-credit-card:before {\n  content: \"\\F09D\";\n}\n.fa-feed:before,\n.fa-rss:before {\n  content: \"\\F09E\";\n}\n.fa-hdd-o:before {\n  content: \"\\F0A0\";\n}\n.fa-bullhorn:before {\n  content: \"\\F0A1\";\n}\n.fa-bell:before {\n  content: \"\\F0F3\";\n}\n.fa-certificate:before {\n  content: \"\\F0A3\";\n}\n.fa-hand-o-right:before {\n  content: \"\\F0A4\";\n}\n.fa-hand-o-left:before {\n  content: \"\\F0A5\";\n}\n.fa-hand-o-up:before {\n  content: \"\\F0A6\";\n}\n.fa-hand-o-down:before {\n  content: \"\\F0A7\";\n}\n.fa-arrow-circle-left:before {\n  content: \"\\F0A8\";\n}\n.fa-arrow-circle-right:before {\n  content: \"\\F0A9\";\n}\n.fa-arrow-circle-up:before {\n  content: \"\\F0AA\";\n}\n.fa-arrow-circle-down:before {\n  content: \"\\F0AB\";\n}\n.fa-globe:before {\n  content: \"\\F0AC\";\n}\n.fa-wrench:before {\n  content: \"\\F0AD\";\n}\n.fa-tasks:before {\n  content: \"\\F0AE\";\n}\n.fa-filter:before {\n  content: \"\\F0B0\";\n}\n.fa-briefcase:before {\n  content: \"\\F0B1\";\n}\n.fa-arrows-alt:before {\n  content: \"\\F0B2\";\n}\n.fa-group:before,\n.fa-users:before {\n  content: \"\\F0C0\";\n}\n.fa-chain:before,\n.fa-link:before {\n  content: \"\\F0C1\";\n}\n.fa-cloud:before {\n  content: \"\\F0C2\";\n}\n.fa-flask:before {\n  content: \"\\F0C3\";\n}\n.fa-cut:before,\n.fa-scissors:before {\n  content: \"\\F0C4\";\n}\n.fa-copy:before,\n.fa-files-o:before {\n  content: \"\\F0C5\";\n}\n.fa-paperclip:before {\n  content: \"\\F0C6\";\n}\n.fa-save:before,\n.fa-floppy-o:before {\n  content: \"\\F0C7\";\n}\n.fa-square:before {\n  content: \"\\F0C8\";\n}\n.fa-navicon:before,\n.fa-reorder:before,\n.fa-bars:before {\n  content: \"\\F0C9\";\n}\n.fa-list-ul:before {\n  content: \"\\F0CA\";\n}\n.fa-list-ol:before {\n  content: \"\\F0CB\";\n}\n.fa-strikethrough:before {\n  content: \"\\F0CC\";\n}\n.fa-underline:before {\n  content: \"\\F0CD\";\n}\n.fa-table:before {\n  content: \"\\F0CE\";\n}\n.fa-magic:before {\n  content: \"\\F0D0\";\n}\n.fa-truck:before {\n  content: \"\\F0D1\";\n}\n.fa-pinterest:before {\n  content: \"\\F0D2\";\n}\n.fa-pinterest-square:before {\n  content: \"\\F0D3\";\n}\n.fa-google-plus-square:before {\n  content: \"\\F0D4\";\n}\n.fa-google-plus:before {\n  content: \"\\F0D5\";\n}\n.fa-money:before {\n  content: \"\\F0D6\";\n}\n.fa-caret-down:before {\n  content: \"\\F0D7\";\n}\n.fa-caret-up:before {\n  content: \"\\F0D8\";\n}\n.fa-caret-left:before {\n  content: \"\\F0D9\";\n}\n.fa-caret-right:before {\n  content: \"\\F0DA\";\n}\n.fa-columns:before {\n  content: \"\\F0DB\";\n}\n.fa-unsorted:before,\n.fa-sort:before {\n  content: \"\\F0DC\";\n}\n.fa-sort-down:before,\n.fa-sort-desc:before {\n  content: \"\\F0DD\";\n}\n.fa-sort-up:before,\n.fa-sort-asc:before {\n  content: \"\\F0DE\";\n}\n.fa-envelope:before {\n  content: \"\\F0E0\";\n}\n.fa-linkedin:before {\n  content: \"\\F0E1\";\n}\n.fa-rotate-left:before,\n.fa-undo:before {\n  content: \"\\F0E2\";\n}\n.fa-legal:before,\n.fa-gavel:before {\n  content: \"\\F0E3\";\n}\n.fa-dashboard:before,\n.fa-tachometer:before {\n  content: \"\\F0E4\";\n}\n.fa-comment-o:before {\n  content: \"\\F0E5\";\n}\n.fa-comments-o:before {\n  content: \"\\F0E6\";\n}\n.fa-flash:before,\n.fa-bolt:before {\n  content: \"\\F0E7\";\n}\n.fa-sitemap:before {\n  content: \"\\F0E8\";\n}\n.fa-umbrella:before {\n  content: \"\\F0E9\";\n}\n.fa-paste:before,\n.fa-clipboard:before {\n  content: \"\\F0EA\";\n}\n.fa-lightbulb-o:before {\n  content: \"\\F0EB\";\n}\n.fa-exchange:before {\n  content: \"\\F0EC\";\n}\n.fa-cloud-download:before {\n  content: \"\\F0ED\";\n}\n.fa-cloud-upload:before {\n  content: \"\\F0EE\";\n}\n.fa-user-md:before {\n  content: \"\\F0F0\";\n}\n.fa-stethoscope:before {\n  content: \"\\F0F1\";\n}\n.fa-suitcase:before {\n  content: \"\\F0F2\";\n}\n.fa-bell-o:before {\n  content: \"\\F0A2\";\n}\n.fa-coffee:before {\n  content: \"\\F0F4\";\n}\n.fa-cutlery:before {\n  content: \"\\F0F5\";\n}\n.fa-file-text-o:before {\n  content: \"\\F0F6\";\n}\n.fa-building-o:before {\n  content: \"\\F0F7\";\n}\n.fa-hospital-o:before {\n  content: \"\\F0F8\";\n}\n.fa-ambulance:before {\n  content: \"\\F0F9\";\n}\n.fa-medkit:before {\n  content: \"\\F0FA\";\n}\n.fa-fighter-jet:before {\n  content: \"\\F0FB\";\n}\n.fa-beer:before {\n  content: \"\\F0FC\";\n}\n.fa-h-square:before {\n  content: \"\\F0FD\";\n}\n.fa-plus-square:before {\n  content: \"\\F0FE\";\n}\n.fa-angle-double-left:before {\n  content: \"\\F100\";\n}\n.fa-angle-double-right:before {\n  content: \"\\F101\";\n}\n.fa-angle-double-up:before {\n  content: \"\\F102\";\n}\n.fa-angle-double-down:before {\n  content: \"\\F103\";\n}\n.fa-angle-left:before {\n  content: \"\\F104\";\n}\n.fa-angle-right:before {\n  content: \"\\F105\";\n}\n.fa-angle-up:before {\n  content: \"\\F106\";\n}\n.fa-angle-down:before {\n  content: \"\\F107\";\n}\n.fa-desktop:before {\n  content: \"\\F108\";\n}\n.fa-laptop:before {\n  content: \"\\F109\";\n}\n.fa-tablet:before {\n  content: \"\\F10A\";\n}\n.fa-mobile-phone:before,\n.fa-mobile:before {\n  content: \"\\F10B\";\n}\n.fa-circle-o:before {\n  content: \"\\F10C\";\n}\n.fa-quote-left:before {\n  content: \"\\F10D\";\n}\n.fa-quote-right:before {\n  content: \"\\F10E\";\n}\n.fa-spinner:before {\n  content: \"\\F110\";\n}\n.fa-circle:before {\n  content: \"\\F111\";\n}\n.fa-mail-reply:before,\n.fa-reply:before {\n  content: \"\\F112\";\n}\n.fa-github-alt:before {\n  content: \"\\F113\";\n}\n.fa-folder-o:before {\n  content: \"\\F114\";\n}\n.fa-folder-open-o:before {\n  content: \"\\F115\";\n}\n.fa-smile-o:before {\n  content: \"\\F118\";\n}\n.fa-frown-o:before {\n  content: \"\\F119\";\n}\n.fa-meh-o:before {\n  content: \"\\F11A\";\n}\n.fa-gamepad:before {\n  content: \"\\F11B\";\n}\n.fa-keyboard-o:before {\n  content: \"\\F11C\";\n}\n.fa-flag-o:before {\n  content: \"\\F11D\";\n}\n.fa-flag-checkered:before {\n  content: \"\\F11E\";\n}\n.fa-terminal:before {\n  content: \"\\F120\";\n}\n.fa-code:before {\n  content: \"\\F121\";\n}\n.fa-mail-reply-all:before,\n.fa-reply-all:before {\n  content: \"\\F122\";\n}\n.fa-star-half-empty:before,\n.fa-star-half-full:before,\n.fa-star-half-o:before {\n  content: \"\\F123\";\n}\n.fa-location-arrow:before {\n  content: \"\\F124\";\n}\n.fa-crop:before {\n  content: \"\\F125\";\n}\n.fa-code-fork:before {\n  content: \"\\F126\";\n}\n.fa-unlink:before,\n.fa-chain-broken:before {\n  content: \"\\F127\";\n}\n.fa-question:before {\n  content: \"\\F128\";\n}\n.fa-info:before {\n  content: \"\\F129\";\n}\n.fa-exclamation:before {\n  content: \"\\F12A\";\n}\n.fa-superscript:before {\n  content: \"\\F12B\";\n}\n.fa-subscript:before {\n  content: \"\\F12C\";\n}\n.fa-eraser:before {\n  content: \"\\F12D\";\n}\n.fa-puzzle-piece:before {\n  content: \"\\F12E\";\n}\n.fa-microphone:before {\n  content: \"\\F130\";\n}\n.fa-microphone-slash:before {\n  content: \"\\F131\";\n}\n.fa-shield:before {\n  content: \"\\F132\";\n}\n.fa-calendar-o:before {\n  content: \"\\F133\";\n}\n.fa-fire-extinguisher:before {\n  content: \"\\F134\";\n}\n.fa-rocket:before {\n  content: \"\\F135\";\n}\n.fa-maxcdn:before {\n  content: \"\\F136\";\n}\n.fa-chevron-circle-left:before {\n  content: \"\\F137\";\n}\n.fa-chevron-circle-right:before {\n  content: \"\\F138\";\n}\n.fa-chevron-circle-up:before {\n  content: \"\\F139\";\n}\n.fa-chevron-circle-down:before {\n  content: \"\\F13A\";\n}\n.fa-html5:before {\n  content: \"\\F13B\";\n}\n.fa-css3:before {\n  content: \"\\F13C\";\n}\n.fa-anchor:before {\n  content: \"\\F13D\";\n}\n.fa-unlock-alt:before {\n  content: \"\\F13E\";\n}\n.fa-bullseye:before {\n  content: \"\\F140\";\n}\n.fa-ellipsis-h:before {\n  content: \"\\F141\";\n}\n.fa-ellipsis-v:before {\n  content: \"\\F142\";\n}\n.fa-rss-square:before {\n  content: \"\\F143\";\n}\n.fa-play-circle:before {\n  content: \"\\F144\";\n}\n.fa-ticket:before {\n  content: \"\\F145\";\n}\n.fa-minus-square:before {\n  content: \"\\F146\";\n}\n.fa-minus-square-o:before {\n  content: \"\\F147\";\n}\n.fa-level-up:before {\n  content: \"\\F148\";\n}\n.fa-level-down:before {\n  content: \"\\F149\";\n}\n.fa-check-square:before {\n  content: \"\\F14A\";\n}\n.fa-pencil-square:before {\n  content: \"\\F14B\";\n}\n.fa-external-link-square:before {\n  content: \"\\F14C\";\n}\n.fa-share-square:before {\n  content: \"\\F14D\";\n}\n.fa-compass:before {\n  content: \"\\F14E\";\n}\n.fa-toggle-down:before,\n.fa-caret-square-o-down:before {\n  content: \"\\F150\";\n}\n.fa-toggle-up:before,\n.fa-caret-square-o-up:before {\n  content: \"\\F151\";\n}\n.fa-toggle-right:before,\n.fa-caret-square-o-right:before {\n  content: \"\\F152\";\n}\n.fa-euro:before,\n.fa-eur:before {\n  content: \"\\F153\";\n}\n.fa-gbp:before {\n  content: \"\\F154\";\n}\n.fa-dollar:before,\n.fa-usd:before {\n  content: \"\\F155\";\n}\n.fa-rupee:before,\n.fa-inr:before {\n  content: \"\\F156\";\n}\n.fa-cny:before,\n.fa-rmb:before,\n.fa-yen:before,\n.fa-jpy:before {\n  content: \"\\F157\";\n}\n.fa-ruble:before,\n.fa-rouble:before,\n.fa-rub:before {\n  content: \"\\F158\";\n}\n.fa-won:before,\n.fa-krw:before {\n  content: \"\\F159\";\n}\n.fa-bitcoin:before,\n.fa-btc:before {\n  content: \"\\F15A\";\n}\n.fa-file:before {\n  content: \"\\F15B\";\n}\n.fa-file-text:before {\n  content: \"\\F15C\";\n}\n.fa-sort-alpha-asc:before {\n  content: \"\\F15D\";\n}\n.fa-sort-alpha-desc:before {\n  content: \"\\F15E\";\n}\n.fa-sort-amount-asc:before {\n  content: \"\\F160\";\n}\n.fa-sort-amount-desc:before {\n  content: \"\\F161\";\n}\n.fa-sort-numeric-asc:before {\n  content: \"\\F162\";\n}\n.fa-sort-numeric-desc:before {\n  content: \"\\F163\";\n}\n.fa-thumbs-up:before {\n  content: \"\\F164\";\n}\n.fa-thumbs-down:before {\n  content: \"\\F165\";\n}\n.fa-youtube-square:before {\n  content: \"\\F166\";\n}\n.fa-youtube:before {\n  content: \"\\F167\";\n}\n.fa-xing:before {\n  content: \"\\F168\";\n}\n.fa-xing-square:before {\n  content: \"\\F169\";\n}\n.fa-youtube-play:before {\n  content: \"\\F16A\";\n}\n.fa-dropbox:before {\n  content: \"\\F16B\";\n}\n.fa-stack-overflow:before {\n  content: \"\\F16C\";\n}\n.fa-instagram:before {\n  content: \"\\F16D\";\n}\n.fa-flickr:before {\n  content: \"\\F16E\";\n}\n.fa-adn:before {\n  content: \"\\F170\";\n}\n.fa-bitbucket:before {\n  content: \"\\F171\";\n}\n.fa-bitbucket-square:before {\n  content: \"\\F172\";\n}\n.fa-tumblr:before {\n  content: \"\\F173\";\n}\n.fa-tumblr-square:before {\n  content: \"\\F174\";\n}\n.fa-long-arrow-down:before {\n  content: \"\\F175\";\n}\n.fa-long-arrow-up:before {\n  content: \"\\F176\";\n}\n.fa-long-arrow-left:before {\n  content: \"\\F177\";\n}\n.fa-long-arrow-right:before {\n  content: \"\\F178\";\n}\n.fa-apple:before {\n  content: \"\\F179\";\n}\n.fa-windows:before {\n  content: \"\\F17A\";\n}\n.fa-android:before {\n  content: \"\\F17B\";\n}\n.fa-linux:before {\n  content: \"\\F17C\";\n}\n.fa-dribbble:before {\n  content: \"\\F17D\";\n}\n.fa-skype:before {\n  content: \"\\F17E\";\n}\n.fa-foursquare:before {\n  content: \"\\F180\";\n}\n.fa-trello:before {\n  content: \"\\F181\";\n}\n.fa-female:before {\n  content: \"\\F182\";\n}\n.fa-male:before {\n  content: \"\\F183\";\n}\n.fa-gittip:before,\n.fa-gratipay:before {\n  content: \"\\F184\";\n}\n.fa-sun-o:before {\n  content: \"\\F185\";\n}\n.fa-moon-o:before {\n  content: \"\\F186\";\n}\n.fa-archive:before {\n  content: \"\\F187\";\n}\n.fa-bug:before {\n  content: \"\\F188\";\n}\n.fa-vk:before {\n  content: \"\\F189\";\n}\n.fa-weibo:before {\n  content: \"\\F18A\";\n}\n.fa-renren:before {\n  content: \"\\F18B\";\n}\n.fa-pagelines:before {\n  content: \"\\F18C\";\n}\n.fa-stack-exchange:before {\n  content: \"\\F18D\";\n}\n.fa-arrow-circle-o-right:before {\n  content: \"\\F18E\";\n}\n.fa-arrow-circle-o-left:before {\n  content: \"\\F190\";\n}\n.fa-toggle-left:before,\n.fa-caret-square-o-left:before {\n  content: \"\\F191\";\n}\n.fa-dot-circle-o:before {\n  content: \"\\F192\";\n}\n.fa-wheelchair:before {\n  content: \"\\F193\";\n}\n.fa-vimeo-square:before {\n  content: \"\\F194\";\n}\n.fa-turkish-lira:before,\n.fa-try:before {\n  content: \"\\F195\";\n}\n.fa-plus-square-o:before {\n  content: \"\\F196\";\n}\n.fa-space-shuttle:before {\n  content: \"\\F197\";\n}\n.fa-slack:before {\n  content: \"\\F198\";\n}\n.fa-envelope-square:before {\n  content: \"\\F199\";\n}\n.fa-wordpress:before {\n  content: \"\\F19A\";\n}\n.fa-openid:before {\n  content: \"\\F19B\";\n}\n.fa-institution:before,\n.fa-bank:before,\n.fa-university:before {\n  content: \"\\F19C\";\n}\n.fa-mortar-board:before,\n.fa-graduation-cap:before {\n  content: \"\\F19D\";\n}\n.fa-yahoo:before {\n  content: \"\\F19E\";\n}\n.fa-google:before {\n  content: \"\\F1A0\";\n}\n.fa-reddit:before {\n  content: \"\\F1A1\";\n}\n.fa-reddit-square:before {\n  content: \"\\F1A2\";\n}\n.fa-stumbleupon-circle:before {\n  content: \"\\F1A3\";\n}\n.fa-stumbleupon:before {\n  content: \"\\F1A4\";\n}\n.fa-delicious:before {\n  content: \"\\F1A5\";\n}\n.fa-digg:before {\n  content: \"\\F1A6\";\n}\n.fa-pied-piper-pp:before {\n  content: \"\\F1A7\";\n}\n.fa-pied-piper-alt:before {\n  content: \"\\F1A8\";\n}\n.fa-drupal:before {\n  content: \"\\F1A9\";\n}\n.fa-joomla:before {\n  content: \"\\F1AA\";\n}\n.fa-language:before {\n  content: \"\\F1AB\";\n}\n.fa-fax:before {\n  content: \"\\F1AC\";\n}\n.fa-building:before {\n  content: \"\\F1AD\";\n}\n.fa-child:before {\n  content: \"\\F1AE\";\n}\n.fa-paw:before {\n  content: \"\\F1B0\";\n}\n.fa-spoon:before {\n  content: \"\\F1B1\";\n}\n.fa-cube:before {\n  content: \"\\F1B2\";\n}\n.fa-cubes:before {\n  content: \"\\F1B3\";\n}\n.fa-behance:before {\n  content: \"\\F1B4\";\n}\n.fa-behance-square:before {\n  content: \"\\F1B5\";\n}\n.fa-steam:before {\n  content: \"\\F1B6\";\n}\n.fa-steam-square:before {\n  content: \"\\F1B7\";\n}\n.fa-recycle:before {\n  content: \"\\F1B8\";\n}\n.fa-automobile:before,\n.fa-car:before {\n  content: \"\\F1B9\";\n}\n.fa-cab:before,\n.fa-taxi:before {\n  content: \"\\F1BA\";\n}\n.fa-tree:before {\n  content: \"\\F1BB\";\n}\n.fa-spotify:before {\n  content: \"\\F1BC\";\n}\n.fa-deviantart:before {\n  content: \"\\F1BD\";\n}\n.fa-soundcloud:before {\n  content: \"\\F1BE\";\n}\n.fa-database:before {\n  content: \"\\F1C0\";\n}\n.fa-file-pdf-o:before {\n  content: \"\\F1C1\";\n}\n.fa-file-word-o:before {\n  content: \"\\F1C2\";\n}\n.fa-file-excel-o:before {\n  content: \"\\F1C3\";\n}\n.fa-file-powerpoint-o:before {\n  content: \"\\F1C4\";\n}\n.fa-file-photo-o:before,\n.fa-file-picture-o:before,\n.fa-file-image-o:before {\n  content: \"\\F1C5\";\n}\n.fa-file-zip-o:before,\n.fa-file-archive-o:before {\n  content: \"\\F1C6\";\n}\n.fa-file-sound-o:before,\n.fa-file-audio-o:before {\n  content: \"\\F1C7\";\n}\n.fa-file-movie-o:before,\n.fa-file-video-o:before {\n  content: \"\\F1C8\";\n}\n.fa-file-code-o:before {\n  content: \"\\F1C9\";\n}\n.fa-vine:before {\n  content: \"\\F1CA\";\n}\n.fa-codepen:before {\n  content: \"\\F1CB\";\n}\n.fa-jsfiddle:before {\n  content: \"\\F1CC\";\n}\n.fa-life-bouy:before,\n.fa-life-buoy:before,\n.fa-life-saver:before,\n.fa-support:before,\n.fa-life-ring:before {\n  content: \"\\F1CD\";\n}\n.fa-circle-o-notch:before {\n  content: \"\\F1CE\";\n}\n.fa-ra:before,\n.fa-resistance:before,\n.fa-rebel:before {\n  content: \"\\F1D0\";\n}\n.fa-ge:before,\n.fa-empire:before {\n  content: \"\\F1D1\";\n}\n.fa-git-square:before {\n  content: \"\\F1D2\";\n}\n.fa-git:before {\n  content: \"\\F1D3\";\n}\n.fa-y-combinator-square:before,\n.fa-yc-square:before,\n.fa-hacker-news:before {\n  content: \"\\F1D4\";\n}\n.fa-tencent-weibo:before {\n  content: \"\\F1D5\";\n}\n.fa-qq:before {\n  content: \"\\F1D6\";\n}\n.fa-wechat:before,\n.fa-weixin:before {\n  content: \"\\F1D7\";\n}\n.fa-send:before,\n.fa-paper-plane:before {\n  content: \"\\F1D8\";\n}\n.fa-send-o:before,\n.fa-paper-plane-o:before {\n  content: \"\\F1D9\";\n}\n.fa-history:before {\n  content: \"\\F1DA\";\n}\n.fa-circle-thin:before {\n  content: \"\\F1DB\";\n}\n.fa-header:before {\n  content: \"\\F1DC\";\n}\n.fa-paragraph:before {\n  content: \"\\F1DD\";\n}\n.fa-sliders:before {\n  content: \"\\F1DE\";\n}\n.fa-share-alt:before {\n  content: \"\\F1E0\";\n}\n.fa-share-alt-square:before {\n  content: \"\\F1E1\";\n}\n.fa-bomb:before {\n  content: \"\\F1E2\";\n}\n.fa-soccer-ball-o:before,\n.fa-futbol-o:before {\n  content: \"\\F1E3\";\n}\n.fa-tty:before {\n  content: \"\\F1E4\";\n}\n.fa-binoculars:before {\n  content: \"\\F1E5\";\n}\n.fa-plug:before {\n  content: \"\\F1E6\";\n}\n.fa-slideshare:before {\n  content: \"\\F1E7\";\n}\n.fa-twitch:before {\n  content: \"\\F1E8\";\n}\n.fa-yelp:before {\n  content: \"\\F1E9\";\n}\n.fa-newspaper-o:before {\n  content: \"\\F1EA\";\n}\n.fa-wifi:before {\n  content: \"\\F1EB\";\n}\n.fa-calculator:before {\n  content: \"\\F1EC\";\n}\n.fa-paypal:before {\n  content: \"\\F1ED\";\n}\n.fa-google-wallet:before {\n  content: \"\\F1EE\";\n}\n.fa-cc-visa:before {\n  content: \"\\F1F0\";\n}\n.fa-cc-mastercard:before {\n  content: \"\\F1F1\";\n}\n.fa-cc-discover:before {\n  content: \"\\F1F2\";\n}\n.fa-cc-amex:before {\n  content: \"\\F1F3\";\n}\n.fa-cc-paypal:before {\n  content: \"\\F1F4\";\n}\n.fa-cc-stripe:before {\n  content: \"\\F1F5\";\n}\n.fa-bell-slash:before {\n  content: \"\\F1F6\";\n}\n.fa-bell-slash-o:before {\n  content: \"\\F1F7\";\n}\n.fa-trash:before {\n  content: \"\\F1F8\";\n}\n.fa-copyright:before {\n  content: \"\\F1F9\";\n}\n.fa-at:before {\n  content: \"\\F1FA\";\n}\n.fa-eyedropper:before {\n  content: \"\\F1FB\";\n}\n.fa-paint-brush:before {\n  content: \"\\F1FC\";\n}\n.fa-birthday-cake:before {\n  content: \"\\F1FD\";\n}\n.fa-area-chart:before {\n  content: \"\\F1FE\";\n}\n.fa-pie-chart:before {\n  content: \"\\F200\";\n}\n.fa-line-chart:before {\n  content: \"\\F201\";\n}\n.fa-lastfm:before {\n  content: \"\\F202\";\n}\n.fa-lastfm-square:before {\n  content: \"\\F203\";\n}\n.fa-toggle-off:before {\n  content: \"\\F204\";\n}\n.fa-toggle-on:before {\n  content: \"\\F205\";\n}\n.fa-bicycle:before {\n  content: \"\\F206\";\n}\n.fa-bus:before {\n  content: \"\\F207\";\n}\n.fa-ioxhost:before {\n  content: \"\\F208\";\n}\n.fa-angellist:before {\n  content: \"\\F209\";\n}\n.fa-cc:before {\n  content: \"\\F20A\";\n}\n.fa-shekel:before,\n.fa-sheqel:before,\n.fa-ils:before {\n  content: \"\\F20B\";\n}\n.fa-meanpath:before {\n  content: \"\\F20C\";\n}\n.fa-buysellads:before {\n  content: \"\\F20D\";\n}\n.fa-connectdevelop:before {\n  content: \"\\F20E\";\n}\n.fa-dashcube:before {\n  content: \"\\F210\";\n}\n.fa-forumbee:before {\n  content: \"\\F211\";\n}\n.fa-leanpub:before {\n  content: \"\\F212\";\n}\n.fa-sellsy:before {\n  content: \"\\F213\";\n}\n.fa-shirtsinbulk:before {\n  content: \"\\F214\";\n}\n.fa-simplybuilt:before {\n  content: \"\\F215\";\n}\n.fa-skyatlas:before {\n  content: \"\\F216\";\n}\n.fa-cart-plus:before {\n  content: \"\\F217\";\n}\n.fa-cart-arrow-down:before {\n  content: \"\\F218\";\n}\n.fa-diamond:before {\n  content: \"\\F219\";\n}\n.fa-ship:before {\n  content: \"\\F21A\";\n}\n.fa-user-secret:before {\n  content: \"\\F21B\";\n}\n.fa-motorcycle:before {\n  content: \"\\F21C\";\n}\n.fa-street-view:before {\n  content: \"\\F21D\";\n}\n.fa-heartbeat:before {\n  content: \"\\F21E\";\n}\n.fa-venus:before {\n  content: \"\\F221\";\n}\n.fa-mars:before {\n  content: \"\\F222\";\n}\n.fa-mercury:before {\n  content: \"\\F223\";\n}\n.fa-intersex:before,\n.fa-transgender:before {\n  content: \"\\F224\";\n}\n.fa-transgender-alt:before {\n  content: \"\\F225\";\n}\n.fa-venus-double:before {\n  content: \"\\F226\";\n}\n.fa-mars-double:before {\n  content: \"\\F227\";\n}\n.fa-venus-mars:before {\n  content: \"\\F228\";\n}\n.fa-mars-stroke:before {\n  content: \"\\F229\";\n}\n.fa-mars-stroke-v:before {\n  content: \"\\F22A\";\n}\n.fa-mars-stroke-h:before {\n  content: \"\\F22B\";\n}\n.fa-neuter:before {\n  content: \"\\F22C\";\n}\n.fa-genderless:before {\n  content: \"\\F22D\";\n}\n.fa-facebook-official:before {\n  content: \"\\F230\";\n}\n.fa-pinterest-p:before {\n  content: \"\\F231\";\n}\n.fa-whatsapp:before {\n  content: \"\\F232\";\n}\n.fa-server:before {\n  content: \"\\F233\";\n}\n.fa-user-plus:before {\n  content: \"\\F234\";\n}\n.fa-user-times:before {\n  content: \"\\F235\";\n}\n.fa-hotel:before,\n.fa-bed:before {\n  content: \"\\F236\";\n}\n.fa-viacoin:before {\n  content: \"\\F237\";\n}\n.fa-train:before {\n  content: \"\\F238\";\n}\n.fa-subway:before {\n  content: \"\\F239\";\n}\n.fa-medium:before {\n  content: \"\\F23A\";\n}\n.fa-yc:before,\n.fa-y-combinator:before {\n  content: \"\\F23B\";\n}\n.fa-optin-monster:before {\n  content: \"\\F23C\";\n}\n.fa-opencart:before {\n  content: \"\\F23D\";\n}\n.fa-expeditedssl:before {\n  content: \"\\F23E\";\n}\n.fa-battery-4:before,\n.fa-battery:before,\n.fa-battery-full:before {\n  content: \"\\F240\";\n}\n.fa-battery-3:before,\n.fa-battery-three-quarters:before {\n  content: \"\\F241\";\n}\n.fa-battery-2:before,\n.fa-battery-half:before {\n  content: \"\\F242\";\n}\n.fa-battery-1:before,\n.fa-battery-quarter:before {\n  content: \"\\F243\";\n}\n.fa-battery-0:before,\n.fa-battery-empty:before {\n  content: \"\\F244\";\n}\n.fa-mouse-pointer:before {\n  content: \"\\F245\";\n}\n.fa-i-cursor:before {\n  content: \"\\F246\";\n}\n.fa-object-group:before {\n  content: \"\\F247\";\n}\n.fa-object-ungroup:before {\n  content: \"\\F248\";\n}\n.fa-sticky-note:before {\n  content: \"\\F249\";\n}\n.fa-sticky-note-o:before {\n  content: \"\\F24A\";\n}\n.fa-cc-jcb:before {\n  content: \"\\F24B\";\n}\n.fa-cc-diners-club:before {\n  content: \"\\F24C\";\n}\n.fa-clone:before {\n  content: \"\\F24D\";\n}\n.fa-balance-scale:before {\n  content: \"\\F24E\";\n}\n.fa-hourglass-o:before {\n  content: \"\\F250\";\n}\n.fa-hourglass-1:before,\n.fa-hourglass-start:before {\n  content: \"\\F251\";\n}\n.fa-hourglass-2:before,\n.fa-hourglass-half:before {\n  content: \"\\F252\";\n}\n.fa-hourglass-3:before,\n.fa-hourglass-end:before {\n  content: \"\\F253\";\n}\n.fa-hourglass:before {\n  content: \"\\F254\";\n}\n.fa-hand-grab-o:before,\n.fa-hand-rock-o:before {\n  content: \"\\F255\";\n}\n.fa-hand-stop-o:before,\n.fa-hand-paper-o:before {\n  content: \"\\F256\";\n}\n.fa-hand-scissors-o:before {\n  content: \"\\F257\";\n}\n.fa-hand-lizard-o:before {\n  content: \"\\F258\";\n}\n.fa-hand-spock-o:before {\n  content: \"\\F259\";\n}\n.fa-hand-pointer-o:before {\n  content: \"\\F25A\";\n}\n.fa-hand-peace-o:before {\n  content: \"\\F25B\";\n}\n.fa-trademark:before {\n  content: \"\\F25C\";\n}\n.fa-registered:before {\n  content: \"\\F25D\";\n}\n.fa-creative-commons:before {\n  content: \"\\F25E\";\n}\n.fa-gg:before {\n  content: \"\\F260\";\n}\n.fa-gg-circle:before {\n  content: \"\\F261\";\n}\n.fa-tripadvisor:before {\n  content: \"\\F262\";\n}\n.fa-odnoklassniki:before {\n  content: \"\\F263\";\n}\n.fa-odnoklassniki-square:before {\n  content: \"\\F264\";\n}\n.fa-get-pocket:before {\n  content: \"\\F265\";\n}\n.fa-wikipedia-w:before {\n  content: \"\\F266\";\n}\n.fa-safari:before {\n  content: \"\\F267\";\n}\n.fa-chrome:before {\n  content: \"\\F268\";\n}\n.fa-firefox:before {\n  content: \"\\F269\";\n}\n.fa-opera:before {\n  content: \"\\F26A\";\n}\n.fa-internet-explorer:before {\n  content: \"\\F26B\";\n}\n.fa-tv:before,\n.fa-television:before {\n  content: \"\\F26C\";\n}\n.fa-contao:before {\n  content: \"\\F26D\";\n}\n.fa-500px:before {\n  content: \"\\F26E\";\n}\n.fa-amazon:before {\n  content: \"\\F270\";\n}\n.fa-calendar-plus-o:before {\n  content: \"\\F271\";\n}\n.fa-calendar-minus-o:before {\n  content: \"\\F272\";\n}\n.fa-calendar-times-o:before {\n  content: \"\\F273\";\n}\n.fa-calendar-check-o:before {\n  content: \"\\F274\";\n}\n.fa-industry:before {\n  content: \"\\F275\";\n}\n.fa-map-pin:before {\n  content: \"\\F276\";\n}\n.fa-map-signs:before {\n  content: \"\\F277\";\n}\n.fa-map-o:before {\n  content: \"\\F278\";\n}\n.fa-map:before {\n  content: \"\\F279\";\n}\n.fa-commenting:before {\n  content: \"\\F27A\";\n}\n.fa-commenting-o:before {\n  content: \"\\F27B\";\n}\n.fa-houzz:before {\n  content: \"\\F27C\";\n}\n.fa-vimeo:before {\n  content: \"\\F27D\";\n}\n.fa-black-tie:before {\n  content: \"\\F27E\";\n}\n.fa-fonticons:before {\n  content: \"\\F280\";\n}\n.fa-reddit-alien:before {\n  content: \"\\F281\";\n}\n.fa-edge:before {\n  content: \"\\F282\";\n}\n.fa-credit-card-alt:before {\n  content: \"\\F283\";\n}\n.fa-codiepie:before {\n  content: \"\\F284\";\n}\n.fa-modx:before {\n  content: \"\\F285\";\n}\n.fa-fort-awesome:before {\n  content: \"\\F286\";\n}\n.fa-usb:before {\n  content: \"\\F287\";\n}\n.fa-product-hunt:before {\n  content: \"\\F288\";\n}\n.fa-mixcloud:before {\n  content: \"\\F289\";\n}\n.fa-scribd:before {\n  content: \"\\F28A\";\n}\n.fa-pause-circle:before {\n  content: \"\\F28B\";\n}\n.fa-pause-circle-o:before {\n  content: \"\\F28C\";\n}\n.fa-stop-circle:before {\n  content: \"\\F28D\";\n}\n.fa-stop-circle-o:before {\n  content: \"\\F28E\";\n}\n.fa-shopping-bag:before {\n  content: \"\\F290\";\n}\n.fa-shopping-basket:before {\n  content: \"\\F291\";\n}\n.fa-hashtag:before {\n  content: \"\\F292\";\n}\n.fa-bluetooth:before {\n  content: \"\\F293\";\n}\n.fa-bluetooth-b:before {\n  content: \"\\F294\";\n}\n.fa-percent:before {\n  content: \"\\F295\";\n}\n.fa-gitlab:before {\n  content: \"\\F296\";\n}\n.fa-wpbeginner:before {\n  content: \"\\F297\";\n}\n.fa-wpforms:before {\n  content: \"\\F298\";\n}\n.fa-envira:before {\n  content: \"\\F299\";\n}\n.fa-universal-access:before {\n  content: \"\\F29A\";\n}\n.fa-wheelchair-alt:before {\n  content: \"\\F29B\";\n}\n.fa-question-circle-o:before {\n  content: \"\\F29C\";\n}\n.fa-blind:before {\n  content: \"\\F29D\";\n}\n.fa-audio-description:before {\n  content: \"\\F29E\";\n}\n.fa-volume-control-phone:before {\n  content: \"\\F2A0\";\n}\n.fa-braille:before {\n  content: \"\\F2A1\";\n}\n.fa-assistive-listening-systems:before {\n  content: \"\\F2A2\";\n}\n.fa-asl-interpreting:before,\n.fa-american-sign-language-interpreting:before {\n  content: \"\\F2A3\";\n}\n.fa-deafness:before,\n.fa-hard-of-hearing:before,\n.fa-deaf:before {\n  content: \"\\F2A4\";\n}\n.fa-glide:before {\n  content: \"\\F2A5\";\n}\n.fa-glide-g:before {\n  content: \"\\F2A6\";\n}\n.fa-signing:before,\n.fa-sign-language:before {\n  content: \"\\F2A7\";\n}\n.fa-low-vision:before {\n  content: \"\\F2A8\";\n}\n.fa-viadeo:before {\n  content: \"\\F2A9\";\n}\n.fa-viadeo-square:before {\n  content: \"\\F2AA\";\n}\n.fa-snapchat:before {\n  content: \"\\F2AB\";\n}\n.fa-snapchat-ghost:before {\n  content: \"\\F2AC\";\n}\n.fa-snapchat-square:before {\n  content: \"\\F2AD\";\n}\n.fa-pied-piper:before {\n  content: \"\\F2AE\";\n}\n.fa-first-order:before {\n  content: \"\\F2B0\";\n}\n.fa-yoast:before {\n  content: \"\\F2B1\";\n}\n.fa-themeisle:before {\n  content: \"\\F2B2\";\n}\n.fa-google-plus-circle:before,\n.fa-google-plus-official:before {\n  content: \"\\F2B3\";\n}\n.fa-fa:before,\n.fa-font-awesome:before {\n  content: \"\\F2B4\";\n}\n.fa-handshake-o:before {\n  content: \"\\F2B5\";\n}\n.fa-envelope-open:before {\n  content: \"\\F2B6\";\n}\n.fa-envelope-open-o:before {\n  content: \"\\F2B7\";\n}\n.fa-linode:before {\n  content: \"\\F2B8\";\n}\n.fa-address-book:before {\n  content: \"\\F2B9\";\n}\n.fa-address-book-o:before {\n  content: \"\\F2BA\";\n}\n.fa-vcard:before,\n.fa-address-card:before {\n  content: \"\\F2BB\";\n}\n.fa-vcard-o:before,\n.fa-address-card-o:before {\n  content: \"\\F2BC\";\n}\n.fa-user-circle:before {\n  content: \"\\F2BD\";\n}\n.fa-user-circle-o:before {\n  content: \"\\F2BE\";\n}\n.fa-user-o:before {\n  content: \"\\F2C0\";\n}\n.fa-id-badge:before {\n  content: \"\\F2C1\";\n}\n.fa-drivers-license:before,\n.fa-id-card:before {\n  content: \"\\F2C2\";\n}\n.fa-drivers-license-o:before,\n.fa-id-card-o:before {\n  content: \"\\F2C3\";\n}\n.fa-quora:before {\n  content: \"\\F2C4\";\n}\n.fa-free-code-camp:before {\n  content: \"\\F2C5\";\n}\n.fa-telegram:before {\n  content: \"\\F2C6\";\n}\n.fa-thermometer-4:before,\n.fa-thermometer:before,\n.fa-thermometer-full:before {\n  content: \"\\F2C7\";\n}\n.fa-thermometer-3:before,\n.fa-thermometer-three-quarters:before {\n  content: \"\\F2C8\";\n}\n.fa-thermometer-2:before,\n.fa-thermometer-half:before {\n  content: \"\\F2C9\";\n}\n.fa-thermometer-1:before,\n.fa-thermometer-quarter:before {\n  content: \"\\F2CA\";\n}\n.fa-thermometer-0:before,\n.fa-thermometer-empty:before {\n  content: \"\\F2CB\";\n}\n.fa-shower:before {\n  content: \"\\F2CC\";\n}\n.fa-bathtub:before,\n.fa-s15:before,\n.fa-bath:before {\n  content: \"\\F2CD\";\n}\n.fa-podcast:before {\n  content: \"\\F2CE\";\n}\n.fa-window-maximize:before {\n  content: \"\\F2D0\";\n}\n.fa-window-minimize:before {\n  content: \"\\F2D1\";\n}\n.fa-window-restore:before {\n  content: \"\\F2D2\";\n}\n.fa-times-rectangle:before,\n.fa-window-close:before {\n  content: \"\\F2D3\";\n}\n.fa-times-rectangle-o:before,\n.fa-window-close-o:before {\n  content: \"\\F2D4\";\n}\n.fa-bandcamp:before {\n  content: \"\\F2D5\";\n}\n.fa-grav:before {\n  content: \"\\F2D6\";\n}\n.fa-etsy:before {\n  content: \"\\F2D7\";\n}\n.fa-imdb:before {\n  content: \"\\F2D8\";\n}\n.fa-ravelry:before {\n  content: \"\\F2D9\";\n}\n.fa-eercast:before {\n  content: \"\\F2DA\";\n}\n.fa-microchip:before {\n  content: \"\\F2DB\";\n}\n.fa-snowflake-o:before {\n  content: \"\\F2DC\";\n}\n.fa-superpowers:before {\n  content: \"\\F2DD\";\n}\n.fa-wpexplorer:before {\n  content: \"\\F2DE\";\n}\n.fa-meetup:before {\n  content: \"\\F2E0\";\n}\n/* makes the font 33% larger relative to the icon container */\n.fa-lg {\n  font-size: 1.33333333em;\n  line-height: 0.75em;\n  vertical-align: -15%;\n}\n.fa-2x {\n  font-size: 2em;\n}\n.fa-3x {\n  font-size: 3em;\n}\n.fa-4x {\n  font-size: 4em;\n}\n.fa-5x {\n  font-size: 5em;\n}\n.fa-ul {\n  padding-left: 0;\n  margin-left: 2.14285714em;\n  list-style-type: none;\n}\n.fa-ul > li {\n  position: relative;\n}\n.fa-li {\n  position: absolute;\n  left: -2.14285714em;\n  width: 2.14285714em;\n  top: 0.14285714em;\n  text-align: center;\n}\n.fa-li.fa-lg {\n  left: -1.85714286em;\n}\n/* FONT PATH\n * -------------------------- */\n@font-face {\n  font-family: 'FontAwesome';\n  src: url(" + __webpack_require__(18) + ");\n  src: url(" + __webpack_require__(19) + "?#iefix&v=4.7.0) format('embedded-opentype'), url(" + __webpack_require__(20) + ") format('woff2'), url(" + __webpack_require__(21) + ") format('woff'), url(" + __webpack_require__(22) + ") format('truetype'), url(" + __webpack_require__(23) + "#fontawesomeregular) format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n.fa-rotate-90 {\n  -ms-filter: \"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)\";\n  -webkit-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n.fa-rotate-180 {\n  -ms-filter: \"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)\";\n  -webkit-transform: rotate(180deg);\n  -ms-transform: rotate(180deg);\n  transform: rotate(180deg);\n}\n.fa-rotate-270 {\n  -ms-filter: \"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)\";\n  -webkit-transform: rotate(270deg);\n  -ms-transform: rotate(270deg);\n  transform: rotate(270deg);\n}\n.fa-flip-horizontal {\n  -ms-filter: \"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)\";\n  -webkit-transform: scale(-1, 1);\n  -ms-transform: scale(-1, 1);\n  transform: scale(-1, 1);\n}\n.fa-flip-vertical {\n  -ms-filter: \"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)\";\n  -webkit-transform: scale(1, -1);\n  -ms-transform: scale(1, -1);\n  transform: scale(1, -1);\n}\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical {\n  filter: none;\n}\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n  animation: fa-spin 2s infinite linear;\n}\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n  animation: fa-spin 1s infinite steps(8);\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(359deg);\n    transform: rotate(359deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(359deg);\n    transform: rotate(359deg);\n  }\n}\n.fa-stack {\n  position: relative;\n  display: inline-block;\n  width: 2em;\n  height: 2em;\n  line-height: 2em;\n  vertical-align: middle;\n}\n.fa-stack-1x,\n.fa-stack-2x {\n  position: absolute;\n  left: 0;\n  width: 100%;\n  text-align: center;\n}\n.fa-stack-1x {\n  line-height: inherit;\n}\n.fa-stack-2x {\n  font-size: 2em;\n}\n.fa-inverse {\n  color: #fff;\n}\n", ""]);
	
	// exports


/***/ },
/* 17 */
/***/ function(module, exports) {

	/*
		MIT License http://www.opensource.org/licenses/mit-license.php
		Author Tobias Koppers @sokra
	*/
	// css base code, injected by the css-loader
	module.exports = function() {
		var list = [];
	
		// return the list of modules as css string
		list.toString = function toString() {
			var result = [];
			for(var i = 0; i < this.length; i++) {
				var item = this[i];
				if(item[2]) {
					result.push("@media " + item[2] + "{" + item[1] + "}");
				} else {
					result.push(item[1]);
				}
			}
			return result.join("");
		};
	
		// import a list of modules into the list
		list.i = function(modules, mediaQuery) {
			if(typeof modules === "string")
				modules = [[null, modules, ""]];
			var alreadyImportedModules = {};
			for(var i = 0; i < this.length; i++) {
				var id = this[i][0];
				if(typeof id === "number")
					alreadyImportedModules[id] = true;
			}
			for(i = 0; i < modules.length; i++) {
				var item = modules[i];
				// skip already imported module
				// this implementation is not 100% perfect for weird media query combinations
				//  when a module is imported multiple times with different media queries.
				//  I hope this will never occur (Hey this way we have smaller bundles)
				if(typeof item[0] !== "number" || !alreadyImportedModules[item[0]]) {
					if(mediaQuery && !item[2]) {
						item[2] = mediaQuery;
					} else if(mediaQuery) {
						item[2] = "(" + item[2] + ") and (" + mediaQuery + ")";
					}
					list.push(item);
				}
			}
		};
		return list;
	};


/***/ },
/* 18 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = __webpack_require__.p + "674f50d287a8c48dc19ba404d20fe713.eot";

/***/ },
/* 19 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = __webpack_require__.p + "674f50d287a8c48dc19ba404d20fe713.eot";

/***/ },
/* 20 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = __webpack_require__.p + "af7ae505a9eed503f8b8e6982036873e.woff2";

/***/ },
/* 21 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = __webpack_require__.p + "fee66e712a8a08eef5805a46892932ad.woff";

/***/ },
/* 22 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = __webpack_require__.p + "b06871f281fee6b241d60582ae9369b9.ttf";

/***/ },
/* 23 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = __webpack_require__.p + "912ec66d7572ff821749319396470bde.svg";

/***/ },
/* 24 */
/***/ function(module, exports, __webpack_require__) {

	/*
		MIT License http://www.opensource.org/licenses/mit-license.php
		Author Tobias Koppers @sokra
	*/
	var stylesInDom = {},
		memoize = function(fn) {
			var memo;
			return function () {
				if (typeof memo === "undefined") memo = fn.apply(this, arguments);
				return memo;
			};
		},
		isOldIE = memoize(function() {
			return /msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase());
		}),
		getHeadElement = memoize(function () {
			return document.head || document.getElementsByTagName("head")[0];
		}),
		singletonElement = null,
		singletonCounter = 0;
	
	module.exports = function(list, options) {
		if(false) {
			if(typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");
		}
	
		options = options || {};
		// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
		// tags it will allow on a page
		if (typeof options.singleton === "undefined") options.singleton = isOldIE();
	
		var styles = listToStyles(list);
		addStylesToDom(styles, options);
	
		return function update(newList) {
			var mayRemove = [];
			for(var i = 0; i < styles.length; i++) {
				var item = styles[i];
				var domStyle = stylesInDom[item.id];
				domStyle.refs--;
				mayRemove.push(domStyle);
			}
			if(newList) {
				var newStyles = listToStyles(newList);
				addStylesToDom(newStyles, options);
			}
			for(var i = 0; i < mayRemove.length; i++) {
				var domStyle = mayRemove[i];
				if(domStyle.refs === 0) {
					for(var j = 0; j < domStyle.parts.length; j++)
						domStyle.parts[j]();
					delete stylesInDom[domStyle.id];
				}
			}
		};
	}
	
	function addStylesToDom(styles, options) {
		for(var i = 0; i < styles.length; i++) {
			var item = styles[i];
			var domStyle = stylesInDom[item.id];
			if(domStyle) {
				domStyle.refs++;
				for(var j = 0; j < domStyle.parts.length; j++) {
					domStyle.parts[j](item.parts[j]);
				}
				for(; j < item.parts.length; j++) {
					domStyle.parts.push(addStyle(item.parts[j], options));
				}
			} else {
				var parts = [];
				for(var j = 0; j < item.parts.length; j++) {
					parts.push(addStyle(item.parts[j], options));
				}
				stylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};
			}
		}
	}
	
	function listToStyles(list) {
		var styles = [];
		var newStyles = {};
		for(var i = 0; i < list.length; i++) {
			var item = list[i];
			var id = item[0];
			var css = item[1];
			var media = item[2];
			var sourceMap = item[3];
			var part = {css: css, media: media, sourceMap: sourceMap};
			if(!newStyles[id])
				styles.push(newStyles[id] = {id: id, parts: [part]});
			else
				newStyles[id].parts.push(part);
		}
		return styles;
	}
	
	function createStyleElement() {
		var styleElement = document.createElement("style");
		var head = getHeadElement();
		styleElement.type = "text/css";
		head.appendChild(styleElement);
		return styleElement;
	}
	
	function createLinkElement() {
		var linkElement = document.createElement("link");
		var head = getHeadElement();
		linkElement.rel = "stylesheet";
		head.appendChild(linkElement);
		return linkElement;
	}
	
	function addStyle(obj, options) {
		var styleElement, update, remove;
	
		if (options.singleton) {
			var styleIndex = singletonCounter++;
			styleElement = singletonElement || (singletonElement = createStyleElement());
			update = applyToSingletonTag.bind(null, styleElement, styleIndex, false);
			remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);
		} else if(obj.sourceMap &&
			typeof URL === "function" &&
			typeof URL.createObjectURL === "function" &&
			typeof URL.revokeObjectURL === "function" &&
			typeof Blob === "function" &&
			typeof btoa === "function") {
			styleElement = createLinkElement();
			update = updateLink.bind(null, styleElement);
			remove = function() {
				styleElement.parentNode.removeChild(styleElement);
				if(styleElement.href)
					URL.revokeObjectURL(styleElement.href);
			};
		} else {
			styleElement = createStyleElement();
			update = applyToTag.bind(null, styleElement);
			remove = function() {
				styleElement.parentNode.removeChild(styleElement);
			};
		}
	
		update(obj);
	
		return function updateStyle(newObj) {
			if(newObj) {
				if(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)
					return;
				update(obj = newObj);
			} else {
				remove();
			}
		};
	}
	
	var replaceText = (function () {
		var textStore = [];
	
		return function (index, replacement) {
			textStore[index] = replacement;
			return textStore.filter(Boolean).join('\n');
		};
	})();
	
	function applyToSingletonTag(styleElement, index, remove, obj) {
		var css = remove ? "" : obj.css;
	
		if (styleElement.styleSheet) {
			styleElement.styleSheet.cssText = replaceText(index, css);
		} else {
			var cssNode = document.createTextNode(css);
			var childNodes = styleElement.childNodes;
			if (childNodes[index]) styleElement.removeChild(childNodes[index]);
			if (childNodes.length) {
				styleElement.insertBefore(cssNode, childNodes[index]);
			} else {
				styleElement.appendChild(cssNode);
			}
		}
	}
	
	function applyToTag(styleElement, obj) {
		var css = obj.css;
		var media = obj.media;
		var sourceMap = obj.sourceMap;
	
		if(media) {
			styleElement.setAttribute("media", media)
		}
	
		if(styleElement.styleSheet) {
			styleElement.styleSheet.cssText = css;
		} else {
			while(styleElement.firstChild) {
				styleElement.removeChild(styleElement.firstChild);
			}
			styleElement.appendChild(document.createTextNode(css));
		}
	}
	
	function updateLink(linkElement, obj) {
		var css = obj.css;
		var media = obj.media;
		var sourceMap = obj.sourceMap;
	
		if(sourceMap) {
			// http://stackoverflow.com/a/26603875
			css += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";
		}
	
		var blob = new Blob([css], { type: "text/css" });
	
		var oldSrc = linkElement.href;
	
		linkElement.href = URL.createObjectURL(blob);
	
		if(oldSrc)
			URL.revokeObjectURL(oldSrc);
	}


/***/ },
/* 25 */
/***/ function(module, exports, __webpack_require__) {

	// style-loader: Adds some css to the DOM by adding a <style> tag
	
	// load the styles
	var content = __webpack_require__(26);
	if(typeof content === 'string') content = [[module.id, content, '']];
	// add the styles to the DOM
	var update = __webpack_require__(28)(content, {});
	if(content.locals) module.exports = content.locals;
	// Hot Module Replacement
	if(false) {
		// When the styles change, update the <style> tags
		if(!content.locals) {
			module.hot.accept("!!./../css-loader/index.js!./w2ui.css", function() {
				var newContent = require("!!./../css-loader/index.js!./w2ui.css");
				if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];
				update(newContent);
			});
		}
		// When the module is disposed, remove the <style> tags
		module.hot.dispose(function() { update(); });
	}

/***/ },
/* 26 */
/***/ function(module, exports, __webpack_require__) {

	exports = module.exports = __webpack_require__(27)();
	// imports
	
	
	// module
	exports.push([module.id, "/* w2ui 1.4.x (nightly) (c) http://w2ui.com, vitmalina@gmail.com */\n@font-face {\n  font-family: \"w2ui-font\";\n  src: url(\"data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAWIAAoAAAAACAgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAAA9AAAAEMAAABWQLxMsmNtYXAAAAE4AAAAOgAAAUriGRC2Z2x5ZgAAAXQAAAH9AAACgLu4vTRoZWFkAAADdAAAADAAAAA2AOYXBGhoZWEAAAOkAAAAIAAAACQD8wHHaG10eAAAA8QAAAAWAAAAIA7dAABsb2NhAAAD3AAAABIAAAASAngBuG1heHAAAAPwAAAAHwAAACABFQA2bmFtZQAABBAAAAEtAAACIsTQ/zJwb3N0AAAFQAAAAEgAAABi4/7ZEHicY2BkvMM4gYGVgYPRhTGNgYHBHUp/ZZBkaGFgYGJgZWbACgLSXFMYHD4yfmRnPPD/AIMe4wEGR6AwI0gOANHZC/IAeJxjYGBgZoBgGQZGBhBwAfIYwXwWBg0gzQakGRmYGBg+sv//D1LwkRFE8zNA1QMBIxvDiAcAddwGvgAAeJxFkLFv01AQxu97LrHdRImjpnaS1gnEia3IoqAktkkiEhaEOiCsDkEo8dyBDkytKpYKVWwssKKKAYmBREKMLJSFoRJ/AGJhY0NZGFgSzrUinvR+d++7T+/ePQLRci4IJ3SFCLIjG8CH+ZPwHHdwkkSS2PMXP3DGmUxpoo123lrt5nj8fjyejsc4W0zwNtl8FfHCKV5QnaOhF3IJUrUbkGPYnSGcGH6risBvGQhdVY0iVXXVkhJN1JL6/6xOIqWk4tRlJiVFiSJFSUrsZ+tkoqpEgt/6Hb/wjtZog2gonBx24AyFJUuNwMvha+/CvLi3vq1f785GsxGuTqfWc5O1N/r2+lNrOl38ZHnWpdUMr/CaLKLGZiHl4hI1+zasGB2/Dy9GSzfRbul4qaWPtHSQ0Y7SWpxmgnSc/mblMKNpmcOVEhfj+5d/8BGfqMl9bKuWFYWKaLf8YIAq9IKc5TY7ojNgTTcC7iEjaN4yPdswbM+81t8UimRLojq66YbdWq0bus375t21bwgcw/H6nmNUyhIkR/DsTasXPgx7VtV8oDx6XIxHE8vl8rMAzqlEDZ7QseUBPP6tLOQKDH5HqooKfLvB2gABa1lgflzI60VxsLd3IJj1YRn5/Wx9Syy++LvArn/JzH4e5WE98TCLer5wnBNb9WcrB5PoH084dg8AAAB4nGNgZGBgAOKMsPib8fw2Xxm4mRhA4PzjbBcY/f////1MjIwHgFwOBrA0AFcuDPF4nGNgZGBgPPD/AIMeEwMDw/9/TEwMQBEUwAEAe34EvHicY2JgYGCCYsbJCJpxO4QNABdTAesAAAAAAAAAEgAsAGgAjgC+AP4BQAAAeJxjYGRgYOBg0GJgZgABJiDmAkIGhv9gPgMADYEBTAB4nG2PTW7CMBCFXyBQFaQKtVKl7qwuuqkIPwsWHAD2LNiH4ARQEkeOQeICPUHP0DP0BF32DD1KX8IoixZbHn/z5o1/AAzwBQ/V8HBbx2q0cMPswm3SQNgnPwl30MezcJf6ULiHV8yE+3hAyBM8vzrtHk64hTu8Cbepvwv75A/hDh7xKdyl/i3cwxo/wn28eLN9ZPJhbHK30skxDW2TN7DWttybXE2CcaMtda5t6PRWbc6qPCVT52IVW5OpBas6TY0qrDnoyAU754r5aBSLHkQmwx4RDHL+Oq53hxU0EhyR8sf2Sv2/smaHRclKlStMEGB8xbekL6+9ITONLb0bnBlLnHjnlKqjW3FZ9mSkhfRqviclKxR17UAloh5gV3cVmGPEGf/xB/Ursl9uDmByAAAAeJxtwUEOgCAMBMAu0sI3SdMEIwKh8n8PXp2hQB+mf5kIAQciGIKEzFpNr6Sj7bs76xruMq3r2eJs22XZtPKIW1laiV6rCBDA\") format(\"woff\");\n  font-weight: normal;\n  font-style: normal;\n}\n[class^=\"w2ui-icon-\"]:before,\n[class*=\" w2ui-icon-\"]:before {\n  font-family: \"w2ui-font\";\n  display: inline-block;\n  vertical-align: middle;\n  line-height: 1;\n  font-weight: normal;\n  font-style: normal;\n  speak: none;\n  text-decoration: inherit;\n  text-transform: none;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n/* Icons */\n.w2ui-icon-check:before {\n  content: \"\\F101\";\n}\n.w2ui-icon-columns:before {\n  content: \"\\F102\";\n}\n.w2ui-icon-cross:before {\n  content: \"\\F103\";\n}\n.w2ui-icon-pencil:before {\n  content: \"\\F104\";\n}\n.w2ui-icon-plus:before {\n  content: \"\\F105\";\n}\n.w2ui-icon-reload:before {\n  content: \"\\F106\";\n}\n.w2ui-icon-search:before {\n  content: \"\\F107\";\n}\n/*************************************************\n* --- Reset (used for all w2ui wdigetes)\n* --- The reset is needed to coexist with other CSS\n* --- on the same page (for example bootstrap)\n*/\n.w2ui-reset {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -ms-box-sizing: border-box;\n  -o-box-sizing: border-box;\n  box-sizing: border-box;\n  font-family: Verdana, Arial, sans-serif;\n  font-size: 11px;\n}\n.w2ui-reset * {\n  color: default;\n  line-height: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -ms-box-sizing: border-box;\n  -o-box-sizing: border-box;\n  box-sizing: border-box;\n  margin: 0px;\n  padding: 0px;\n}\n.w2ui-reset table {\n  font-family: Verdana, Arial, sans-serif;\n  font-size: 11px;\n  max-width: none;\n  background-color: transparent;\n  border-collapse: separate;\n  border-spacing: 0;\n}\n.w2ui-reset input,\n.w2ui-reset textarea {\n  width: auto;\n  height: auto;\n  vertical-align: baseline;\n  padding: 4px;\n}\n.w2ui-reset select {\n  padding: 1px;\n  height: 23px;\n}\n.w2ui-centered {\n  position: absolute;\n  left: 0px;\n  right: 0px;\n  top: 50%;\n  -webkit-transform: translateY(-50%);\n  -moz-transform: translateY(-50%);\n  -ms-transform: translateY(-50%);\n  -o-transform: translateY(-50%);\n  transform: translateY(-50%);\n  max-height: 100%;\n  margin: 0px;\n  padding: 0px 10px;\n  text-align: center;\n}\n.w2ui-disabled,\n.w2ui-readonly {\n  background-color: #f1f1f1 !important;\n  color: #777 !important;\n}\n/*************************************************\n* ---- Input Controls ----\n*/\ninput:not([type=button]),\nselect,\ntextarea {\n  padding: 4px;\n  border: 1px solid #bbbbbb;\n  border-radius: 3px;\n  color: #000000;\n  background-color: #ffffff;\n  line-height: normal;\n}\ninput:not([type=button]):focus,\nselect:focus,\ntextarea:focus {\n  outline-color: #72b2ff;\n}\ninput:not([type=button]):disabled,\nselect:disabled,\ntextarea:disabled,\ninput:not([type=button])[readonly],\nselect[readonly],\ntextarea[readonly] {\n  background-color: #f1f1f1;\n  color: #777;\n}\n/* IE9-11 specific classes */\n/* needs doblue :: */\ninput::-ms-clear {\n  display: none;\n}\ninput:-ms-input-placeholder {\n  color: #aaa !important;\n}\nselect {\n  padding: 2px;\n}\n/* On/Off switch */\ninput[type=\"checkbox\"].w2ui-toggle {\n  position: absolute;\n  opacity: 0;\n  width: 46px;\n  height: 22px;\n  padding: 0px;\n  margin: 0px;\n  margin-left: 2px;\n}\n/* Track */\ninput[type=\"checkbox\"].w2ui-toggle + div {\n  display: inline-block;\n  width: 46px;\n  height: 22px;\n  border: 1px solid #bbb;\n  border-radius: 30px;\n  background-color: #eee;\n  -webkit-transition-duration: .3s;\n  -webkit-transition-property: background-color, box-shadow;\n  -moz-transition-duration: .3s;\n  -moz-transition-property: background-color, box-shadow;\n  box-shadow: inset 0 0 0 0px rgba(0, 0, 0, 0.4);\n  margin-left: 2px;\n}\ninput[type=\"checkbox\"].w2ui-toggle:disabled + div {\n  opacity: 0.3;\n}\n/* Knob */\ninput[type=\"checkbox\"].w2ui-toggle + div > div {\n  float: left;\n  width: 22px;\n  height: 22px;\n  border-radius: inherit;\n  background: #f5f5f5;\n  -webkit-transition-duration: 0.3s;\n  -webkit-transition-property: transform, background-color, box-shadow;\n  -moz-transition-duration: 0.3s;\n  -moz-transition-property: transform, background-color;\n  box-shadow: 0px 0px 1px #323232, 0 0 0 1px rgba(200, 200, 200, 0.6);\n  pointer-events: none;\n  margin-top: -1px;\n  margin-left: -1px;\n}\n/* Default Green */\ninput[type=\"checkbox\"].w2ui-toggle:checked + div {\n  border: 1px solid #00a23f;\n  box-shadow: inset 0 0 0 12px #54B350;\n}\ninput[type=\"checkbox\"].w2ui-toggle:checked + div > div {\n  -webkit-transform: translate3d(24px, 0, 0);\n  -moz-transform: translate3d(24px, 0, 0);\n  background-color: #ffffff;\n  box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.3), 0 0 0 1px #00a23f;\n}\n/* Blue */\ninput[type=\"checkbox\"].w2ui-toggle.blue:checked + div {\n  border: 1px solid #206FAD;\n  box-shadow: inset 0 0 0 12px #35A6EB;\n}\ninput[type=\"checkbox\"].w2ui-toggle.blue:checked + div > div {\n  box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.3), 0px 0px 0 1px #206fad;\n}\ninput[type=checkbox].w2ui-toggle:focus {\n  outline: none;\n}\n/*************************************************\n* ---- Overlay and Bubble ----\n*/\n.w2ui-overlay {\n  position: absolute;\n  margin-top: 6px;\n  margin-left: -17px;\n  display: none;\n  z-index: 1300;\n  color: inherit;\n  background-color: #fbfbfb;\n  border: 3px solid #777777;\n  box-shadow: 0px 2px 10px #999999;\n  border-radius: 4px;\n  text-align: left;\n}\n.w2ui-overlay table td {\n  color: inherit;\n}\n.w2ui-overlay:before {\n  content: \"\";\n  position: absolute;\n  -webkit-transform: rotate(-45deg);\n  -moz-transform: rotate(-45deg);\n  -ms-transform: rotate(-45deg);\n  -o-transform: rotate(-45deg);\n  transform: rotate(-45deg);\n  width: 12px;\n  height: 12px;\n  border: 3px solid #777777;\n  border-color: inherit;\n  background-color: inherit;\n  border-left: 1px solid transparent;\n  border-bottom: 1px solid transparent;\n  border-bottom-left-radius: 50px;\n  margin: -9px 0 0 30px;\n}\n.w2ui-overlay:after {\n  display: none;\n  content: \"\";\n  position: absolute;\n  -webkit-transform: rotate(135deg);\n  -moz-transform: rotate(135deg);\n  -ms-transform: rotate(135deg);\n  -o-transform: rotate(135deg);\n  transform: rotate(135deg);\n  width: 12px;\n  height: 12px;\n  border: 3px solid #777777;\n  border-color: inherit;\n  background-color: inherit;\n  border-left: 1px solid transparent;\n  border-bottom: 1px solid transparent;\n  border-bottom-left-radius: 50px;\n  margin: -7px 0 0 30px;\n}\n.w2ui-overlay.w2ui-overlay-popup {\n  z-index: 1700;\n}\n.w2ui-tag {\n  position: absolute;\n  z-index: 1300;\n  opacity: 0;\n  -webkit-transition: opacity 0.3s;\n  -moz-transition: opacity 0.3s;\n  -ms-transition: opacity 0.3s;\n  -o-transition: opacity 0.3s;\n  transition: opacity 0.3s;\n}\n.w2ui-tag .w2ui-tag-body {\n  background-color: rgba(60, 60, 60, 0.82);\n  display: inline-block;\n  position: absolute;\n  border-radius: 4px;\n  padding: 4px 10px;\n  margin-left: 10px;\n  margin-top: 0px;\n  color: #ffffff !important;\n  box-shadow: 1px 1px 3px #000000;\n  line-height: 100%;\n  font-size: 11px;\n  font-family: Verdana, Arial, sans-serif;\n}\n.w2ui-tag .w2ui-tag-body:before {\n  content: \"\";\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-top: 5px solid transparent;\n  border-right: 5px solid rgba(60, 60, 60, 0.82);\n  border-bottom: 5px solid transparent;\n  margin: 2px 0 0 -15px;\n}\n.w2ui-tag.w2ui-tag-popup {\n  z-index: 1700;\n}\n/*\n*    Drop down menu\n*/\n.w2ui-overlay table.w2ui-drop-menu {\n  width: 100%;\n  color: #000000;\n  background-color: #ffffff;\n  padding: 5px 0px;\n  cursor: default;\n}\n.w2ui-overlay table.w2ui-drop-menu td {\n  white-space: nowrap;\n}\n.w2ui-overlay table.w2ui-drop-menu .w2ui-item-even {\n  color: inherit;\n  background-color: #ffffff;\n}\n.w2ui-overlay table.w2ui-drop-menu .w2ui-item-odd {\n  color: inherit;\n  background-color: #f3f6fa;\n}\n.w2ui-overlay table.w2ui-drop-menu .w2ui-item-group {\n  color: #444;\n  font-weight: bold;\n  background-color: #ECEDF0;\n  border-bottom: 1px solid #D3D2D4;\n}\n.w2ui-overlay table.w2ui-drop-menu td.menu-icon {\n  padding: 3px 0px 4px 6px;\n  width: 20px;\n}\n.w2ui-overlay table.w2ui-drop-menu td.menu-text {\n  padding: 8px 10px 8px 5px;\n  width: auto;\n}\n.w2ui-overlay table.w2ui-drop-menu td.menu-count {\n  text-align: right;\n}\n.w2ui-overlay table.w2ui-drop-menu td.menu-count > span {\n  border: 1px solid #9da4af;\n  border-radius: 20px;\n  width: auto;\n  height: 18px;\n  padding: 2px 7px;\n  margin: 3px 5px 0px 5px;\n  background-color: #e7f0fc;\n  color: #667274;\n  box-shadow: 0 0 2px #ffffff;\n  text-shadow: 1px 1px 1px #e6e6e6;\n}\n.w2ui-overlay table.w2ui-drop-menu tr:hover {\n  color: inherit;\n  background-color: #e6f0ff;\n}\n.w2ui-overlay table.w2ui-drop-menu tr.w2ui-selected {\n  background-color: #b6d5fb;\n}\n.w2ui-overlay table.w2ui-drop-menu tr.w2ui-selected td {\n  color: inherit;\n}\n.w2ui-overlay table.w2ui-drop-menu tr.w2ui-disabled {\n  opacity: 0.4;\n  background-color: white !important;\n}\n.w2ui-overlay table.w2ui-drop-menu .w2ui-icon {\n  font-size: 14px;\n  color: #8d99a7;\n  display: inline-block;\n  padding-top: 4px;\n}\n/*************************************************\n* ---- Common Classes ----\n*/\n.w2ui-marker {\n  color: #444;\n  background-color: rgba(252, 244, 161, 0.48);\n}\n.w2ui-spinner {\n  display: inline-block;\n  background-size: 100%;\n  background-repeat: no-repeat;\n  background-image: url(data:image/gif;base64,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);\n}\n/* common icons */\n.w2ui-icon {\n  background-repeat: no-repeat;\n  height: 16px;\n  width: 16px;\n  overflow: hidden;\n  margin: 2px 2px;\n  display: inline-block;\n}\n.w2ui-icon.icon-search,\n.w2ui-icon.icon-search-down {\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAgCAYAAAB+ZAqzAAACuElEQVRYw9WXSWhTQRjHR0UKLqhFaV0OUih68GAOWjyJKypCpAoV8aIiioIICiKiB1GMtE3MYmry2moXDz1UDx7sUXHBhQpSaRVxrYpWcMO9avx/8AJh/CbznHkxdeB3Cd/8589kvuUJkWcdjCTHghUgAi6DJ+AVeAqugSQIggniXywcNBJsB70g44EHYBcYXUhTM8EFj4ZkboKqQpiqAv2GprK8o7/f75t6pjn0M3gNPmri3vtycxAZA64qDvkJ2kENqAQTQQWoBg74qth3B4y3NbZDIX4fzNfsnQtuK/YfsjFVCh4pMq3Co0Y5uMVoUGkpy8aFT5xaeSzVEo45bXdBt4LeaLq1k0RXMYJfdDfFmAuAD4zWlty4UNyZEkm19MUb2zMw8Sfp1u+IWSrcIimLnTG8/SijdU6OO5poDESdtgHZVBzUHm/amhW7zoitMTS2mNHqASPk2FDCCcLMYK6p+obmulyxfiYLA4bGKFvfSnrUvkq5+Lpk8z4yRH8r3l/X4WiqJFfspSQ0CGYZGpsMnkt6L+h31Z76hpMdeOwPQ7H0NFnssST0C8wxNDaDKb6kP06150gsHahNNlVzYheZd7HJ0BiX4VRGhpmIhRixKyZilM2M1mnTArtIUbU3/qVO0H0GvmQ4CY4C3YopYYlHjXlggNG4R33Ypi2tVtwaPeTdNMkq9pVQZQdvFPs32zbx4aAjzxhDRfIAWAeWg7VgrzsY5ht/zoNJtubKwA3LITGjSKRyW3NTwaUCmKOSMd3WHH0ZJRQZZkOP1zFKZ3CB++4+aQ6kEeksWAb2a2L7qDv49S1Q6T72MOgEXa6RGFhP3wpS/B6NOWpRs0UxFg7eqTFHjX1hscxtAz/ymEuIYi0cvgF8Y0w5Ro3dZ3M1boJkTaXEUFlug6fsdsRQWzTj0cey+N/Xb2sj5lTh2M6OAAAAAElFTkSuQmCC) no-repeat center !important;\n  background-size: 14px 12px !important;\n  opacity: 0.9;\n}\n.w2ui-icon.icon-folder {\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAGrSURBVDjLxZO7ihRBFIa/6u0ZW7GHBUV0UQQTZzd3QdhMQxOfwMRXEANBMNQX0MzAzFAwEzHwARbNFDdwEd31Mj3X7a6uOr9BtzNjYjKBJ6nicP7v3KqcJFaxhBVtZUAK8OHlld2st7Xl3DJPVONP+zEUV4HqL5UDYHr5xvuQAjgl/Qs7TzvOOVAjxjlC+ePSwe6DfbVegLVuT4r14eTr6zvA8xSAoBLzx6pvj4l+DZIezuVkG9fY2H7YRQIMZIBwycmzH1/s3F8AapfIPNF3kQk7+kw9PWBy+IZOdg5Ug3mkAATy/t0usovzGeCUWTjCz0B+Sj0ekfdvkZ3abBv+U4GaCtJ1iEm6ANQJ6fEzrG/engcKw/wXQvEKxSEKQxRGKE7Izt+DSiwBJMUSm71rguMYhQKrBygOIRStf4TiFFRBvbRGKiQLWP29yRSHKBTtfdBmHs0BUpgvtgF4yRFR+NUKi0XZcYjCeCG2smkzLAHkbRBmP0/Uk26O5YnUActBp1GsAI+S5nRJJJal5K1aAMrq0d6Tm9uI6zjyf75dAe6tx/SsWeD//o2/Ab6IH3/h25pOAAAAAElFTkSuQmCC) no-repeat center !important;\n}\n.w2ui-icon.icon-page {\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAINSURBVBgZBcG/r55zGAfg6/4+z3va01NHlYgzEfE7MdCIGISFgS4Gk8ViYyM2Mdlsko4GSf8Do0FLRCIkghhYJA3aVBtEz3nP89wf11VJvPDepdd390+8Nso5nESBQoq0pfvXm9fzWf19453LF85vASqJlz748vInb517dIw6EyYBIIG49u+xi9/c9MdvR//99MPPZ7+4cP4IZhhTPbwzT2d+vGoaVRRp1rRliVvHq+cfvM3TD82+7mun0o/ceO7NT+/4/KOXjwZU1ekk0840bAZzMQ2mooqh0A72d5x/6sB9D5zYnff3PoYBoWBgFKPKqDKqjCpjKr//dcu9p489dra88cydps30KswACfNEKanSaxhlntjJ8Mv12Paie+vZ+0+oeSwwQ0Iw1xAR1CiFNJkGO4wu3ZMY1AAzBI0qSgmCNJsJUEOtJSMaCTBDLyQ0CknAGOgyTyFFiLI2awMzdEcSQgSAAKVUmAeNkxvWJWCGtVlDmgYQ0GFtgg4pNtOwbBcwQy/Rife/2yrRRVI0qYCEBly8Z+P4qMEMy7JaVw72N568e+iwhrXoECQkfH91kY7jwwXMsBx1L93ZruqrK6uuiAIdSnTIKKPLPFcvay8ww/Hh+ufeznTXu49v95IMoQG3784gYXdTqvRmqn/Wpa/ADFX58MW3L71SVU9ETgEIQQQIOOzub+fhIvwPRDgeVjWDahIAAAAASUVORK5CYII=) no-repeat center !important;\n}\n/*************************************************\n* ---- Locking portion of the screen (in grid, form, layout)\n*/\n.w2ui-lock {\n  display: none;\n  position: absolute;\n  z-index: 1400;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  opacity: 0.15;\n  filter: alpha(opacity=15);\n  background-color: #333333;\n}\n.w2ui-lock-msg {\n  display: none;\n  position: absolute;\n  z-index: 1400;\n  top: 45%;\n  left: 50%;\n  -webkit-transform: translateX(-50%) translateY(-50%);\n  -moz-transform: translateX(-50%) translateY(-50%);\n  -ms-transform: translateX(-50%) translateY(-50%);\n  -o-transform: translateX(-50%) translateY(-50%);\n  transform: translateX(-50%) translateY(-50%);\n  width: 200px;\n  height: 80px;\n  padding: 30px 8px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  font-size: 13px;\n  font-family: Verdana, Arial, sans-serif;\n  opacity: 0.8;\n  filter: alpha(opacity=80);\n  background-color: #555555;\n  color: #ffffff;\n  text-align: center;\n  border-radius: 5px;\n  border: 2px solid #444444;\n}\n.w2ui-lock-msg .w2ui-spinner {\n  display: inline-block;\n  width: 24px;\n  height: 24px;\n  margin: -3px 8px -7px -10px;\n}\nbutton.w2ui-btn {\n  display: inline-block;\n  border-radius: 4px;\n  margin: 0px 5px;\n  padding: 7px 12px 6px 12px !important;\n  color: #666;\n  font-size: 12px !important;\n  border: 1px solid #B6B6B6;\n  background-image: -webkit-linear-gradient(#ffffff 0%, #e7e7e7 100%);\n  background-image: -moz-linear-gradient(#ffffff 0%, #e7e7e7 100%);\n  background-image: -ms-linear-gradient(#ffffff 0%, #e7e7e7 100%);\n  background-image: -o-linear-gradient(#ffffff 0%, #e7e7e7 100%);\n  background-image: linear-gradient(#ffffff 0%, #e7e7e7 100%);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#ffe7e7e7', endColorstr='#ffffffff', GradientType=0);\n  outline: none;\n  box-shadow: 0px 1px 0px white;\n  cursor: default;\n  min-width: 75px;\n  line-height: 100% !important;\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\nbutton.w2ui-btn:hover {\n  text-decoration: none;\n  border: 1px solid #bbb;\n  background-image: -webkit-linear-gradient(#f7f7f7 0%, #dddddd 100%);\n  background-image: -moz-linear-gradient(#f7f7f7 0%, #dddddd 100%);\n  background-image: -ms-linear-gradient(#f7f7f7 0%, #dddddd 100%);\n  background-image: -o-linear-gradient(#f7f7f7 0%, #dddddd 100%);\n  background-image: linear-gradient(#f7f7f7 0%, #dddddd 100%);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#ffdddddd', endColorstr='#fff7f7f7', GradientType=0);\n  color: #333;\n}\nbutton.w2ui-btn:active,\nbutton.w2ui-btn.clicked {\n  border: 1px solid #999;\n  background-image: -webkit-linear-gradient(#cccccc 0%, #cccccc 100%);\n  background-image: -moz-linear-gradient(#cccccc 0%, #cccccc 100%);\n  background-image: -ms-linear-gradient(#cccccc 0%, #cccccc 100%);\n  background-image: -o-linear-gradient(#cccccc 0%, #cccccc 100%);\n  background-image: linear-gradient(#cccccc 0%, #cccccc 100%);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#ffcccccc', endColorstr='#ffcccccc', GradientType=0);\n  text-shadow: 1px 1px 1px #eee;\n}\nbutton.w2ui-btn:disabled {\n  border: 1px solid #bbb !important;\n  background: #f7f7f7 !important;\n  color: #bdbcbc !important;\n  text-shadow: none !important;\n}\nbutton.w2ui-btn-blue {\n  color: white;\n  background-image: -webkit-linear-gradient(#80c0f7 0%, #269df0 100%);\n  background-image: -moz-linear-gradient(#80c0f7 0%, #269df0 100%);\n  background-image: -ms-linear-gradient(#80c0f7 0%, #269df0 100%);\n  background-image: -o-linear-gradient(#80c0f7 0%, #269df0 100%);\n  background-image: linear-gradient(#80c0f7 0%, #269df0 100%);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#ff269df0', endColorstr='#ff80c0f7', GradientType=0);\n  border: 1px solid #538AB7;\n  text-shadow: 1px 1px 1px #777777;\n}\nbutton.w2ui-btn-blue:hover {\n  color: white;\n  background-image: -webkit-linear-gradient(#73b6f0 0%, #2391dd 100%);\n  background-image: -moz-linear-gradient(#73b6f0 0%, #2391dd 100%);\n  background-image: -ms-linear-gradient(#73b6f0 0%, #2391dd 100%);\n  background-image: -o-linear-gradient(#73b6f0 0%, #2391dd 100%);\n  background-image: linear-gradient(#73b6f0 0%, #2391dd 100%);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#ff2391dd', endColorstr='#ff73b6f0', GradientType=0);\n  border: 1px solid #497BA3;\n  text-shadow: 1px 1px 1px #777777;\n}\nbutton.w2ui-btn-blue:active,\nbutton.w2ui-btn-blue.clicked {\n  color: white;\n  background-image: -webkit-linear-gradient(#1e83c9 0%, #1e83c9 100%);\n  background-image: -moz-linear-gradient(#1e83c9 0%, #1e83c9 100%);\n  background-image: -ms-linear-gradient(#1e83c9 0%, #1e83c9 100%);\n  background-image: -o-linear-gradient(#1e83c9 0%, #1e83c9 100%);\n  background-image: linear-gradient(#1e83c9 0%, #1e83c9 100%);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#ff1e83c9', endColorstr='#ff1e83c9', GradientType=0);\n  border: 1px solid #1268A6;\n  text-shadow: 1px 1px 1px #777777;\n}\nbutton.w2ui-btn-green {\n  color: white;\n  background-image: -webkit-linear-gradient(#81cf81 0%, #52a452 100%);\n  background-image: -moz-linear-gradient(#81cf81 0%, #52a452 100%);\n  background-image: -ms-linear-gradient(#81cf81 0%, #52a452 100%);\n  background-image: -o-linear-gradient(#81cf81 0%, #52a452 100%);\n  background-image: linear-gradient(#81cf81 0%, #52a452 100%);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#ff52a452', endColorstr='#ff81cf81', GradientType=0);\n  border: 1px solid #479247;\n  text-shadow: 1px 1px 1px #777777;\n}\nbutton.w2ui-btn-green:hover {\n  color: white;\n  background-image: -webkit-linear-gradient(#6abe68 0%, #3f8f3d 100%);\n  background-image: -moz-linear-gradient(#6abe68 0%, #3f8f3d 100%);\n  background-image: -ms-linear-gradient(#6abe68 0%, #3f8f3d 100%);\n  background-image: -o-linear-gradient(#6abe68 0%, #3f8f3d 100%);\n  background-image: linear-gradient(#6abe68 0%, #3f8f3d 100%);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#ff3f8f3d', endColorstr='#ff6abe68', GradientType=0);\n  border: 1px solid #479247;\n  text-shadow: 1px 1px 1px #777777;\n}\nbutton.w2ui-btn-green:active,\nbutton.w2ui-btn-green.clicked {\n  color: white;\n  background-image: -webkit-linear-gradient(#377d36 0%, #377d36 100%);\n  background-image: -moz-linear-gradient(#377d36 0%, #377d36 100%);\n  background-image: -ms-linear-gradient(#377d36 0%, #377d36 100%);\n  background-image: -o-linear-gradient(#377d36 0%, #377d36 100%);\n  background-image: linear-gradient(#377d36 0%, #377d36 100%);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#ff377d36', endColorstr='#ff377d36', GradientType=0);\n  border: 1px solid #555 !important;\n  text-shadow: 1px 1px 1px #777777;\n}\nbutton.w2ui-btn-orange {\n  color: white;\n  background-image: -webkit-linear-gradient(#fcc272 0%, #fb8822 100%);\n  background-image: -moz-linear-gradient(#fcc272 0%, #fb8822 100%);\n  background-image: -ms-linear-gradient(#fcc272 0%, #fb8822 100%);\n  background-image: -o-linear-gradient(#fcc272 0%, #fb8822 100%);\n  background-image: linear-gradient(#fcc272 0%, #fb8822 100%);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#fffb8822', endColorstr='#fffcc272', GradientType=0);\n  border: 1px solid #B68B4C;\n  text-shadow: 1px 1px 1px #777777;\n}\nbutton.w2ui-btn-orange:hover {\n  color: white;\n  background-image: -webkit-linear-gradient(#f4ad59 0%, #f1731f 100%);\n  background-image: -moz-linear-gradient(#f4ad59 0%, #f1731f 100%);\n  background-image: -ms-linear-gradient(#f4ad59 0%, #f1731f 100%);\n  background-image: -o-linear-gradient(#f4ad59 0%, #f1731f 100%);\n  background-image: linear-gradient(#f4ad59 0%, #f1731f 100%);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#fff1731f', endColorstr='#fff4ad59', GradientType=0);\n  border: 1px solid #B68B4C;\n  text-shadow: 1px 1px 1px #777777;\n}\nbutton.w2ui-btn-orange:active,\nbutton.w2ui-btn-orange.clicked {\n  color: white;\n  border: 1px solid #666;\n  background-image: -webkit-linear-gradient(#b98747 0%, #b98747 100%);\n  background-image: -moz-linear-gradient(#b98747 0%, #b98747 100%);\n  background-image: -ms-linear-gradient(#b98747 0%, #b98747 100%);\n  background-image: -o-linear-gradient(#b98747 0%, #b98747 100%);\n  background-image: linear-gradient(#b98747 0%, #b98747 100%);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#ffb98747', endColorstr='#ffb98747', GradientType=0);\n  text-shadow: 1px 1px 1px #777777;\n}\nbutton.w2ui-btn-red {\n  color: white;\n  background-image: -webkit-linear-gradient(#ff6e70 0%, #c72d2d 100%);\n  background-image: -moz-linear-gradient(#ff6e70 0%, #c72d2d 100%);\n  background-image: -ms-linear-gradient(#ff6e70 0%, #c72d2d 100%);\n  background-image: -o-linear-gradient(#ff6e70 0%, #c72d2d 100%);\n  background-image: linear-gradient(#ff6e70 0%, #c72d2d 100%);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#ffc72d2d', endColorstr='#ffff6e70', GradientType=0);\n  border: 1px solid #BB3C3E;\n  text-shadow: 1px 1px 1px #777777;\n}\nbutton.w2ui-btn-red:hover {\n  color: white;\n  background-image: -webkit-linear-gradient(#ee696c 0%, #ae2527 100%);\n  background-image: -moz-linear-gradient(#ee696c 0%, #ae2527 100%);\n  background-image: -ms-linear-gradient(#ee696c 0%, #ae2527 100%);\n  background-image: -o-linear-gradient(#ee696c 0%, #ae2527 100%);\n  background-image: linear-gradient(#ee696c 0%, #ae2527 100%);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#ffae2527', endColorstr='#ffee696c', GradientType=0);\n  border: 1px solid #BB3C3E;\n  text-shadow: 1px 1px 1px #777777;\n}\nbutton.w2ui-btn-red:active,\nbutton.w2ui-btn-red.clicked {\n  color: white;\n  border: 1px solid #861C1E;\n  background-image: -webkit-linear-gradient(#9c2123 0%, #9c2123 100%);\n  background-image: -moz-linear-gradient(#9c2123 0%, #9c2123 100%);\n  background-image: -ms-linear-gradient(#9c2123 0%, #9c2123 100%);\n  background-image: -o-linear-gradient(#9c2123 0%, #9c2123 100%);\n  background-image: linear-gradient(#9c2123 0%, #9c2123 100%);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#ff9c2123', endColorstr='#ff9c2123', GradientType=0);\n  text-shadow: 1px 1px 1px #777777;\n}\n/*************************************************\n* ---- Forms ----\n*/\n.w2ui-form {\n  position: relative;\n  color: #000000;\n  background-color: #f5f6f7;\n  border: 1px solid #c0c0c0;\n  border-radius: 3px;\n  padding: 0px;\n  overflow: hidden !important;\n}\n.w2ui-form > div {\n  position: absolute;\n  overflow: hidden;\n}\n.w2ui-form .w2ui-form-header {\n  position: absolute;\n  left: 0;\n  right: 0;\n  border-bottom: 1px solid #99bbe8 !important;\n  overflow: hidden;\n  color: #444444;\n  font-size: 13px;\n  text-align: center;\n  padding: 8px;\n  background-image: -webkit-linear-gradient(#dae6f3, #c2d5ed);\n  background-image: -moz-linear-gradient(#dae6f3, #c2d5ed);\n  background-image: -ms-linear-gradient(#dae6f3, #c2d5ed);\n  background-image: -o-linear-gradient(#dae6f3, #c2d5ed);\n  background-image: linear-gradient(#dae6f3, #c2d5ed);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#ffdae6f3', endColorstr='#ffc2d5ed', GradientType=0);\n  border-top-left-radius: 3px;\n  border-top-right-radius: 3px;\n}\n.w2ui-form .w2ui-form-toolbar {\n  position: absolute;\n  left: 0px;\n  right: 0px;\n  margin: 0px;\n  padding: 6px 3px;\n  border-bottom: 1px solid #d5d8d8;\n}\n.w2ui-form .w2ui-form-tabs {\n  margin: 0px;\n  padding: 0px;\n}\n.w2ui-form .w2ui-tabs {\n  position: absolute;\n  left: 0;\n  right: 0;\n  border-top-left-radius: 3px;\n  border-top-right-radius: 3px;\n  padding-top: 5px !important;\n  background-color: #fafafa;\n}\n.w2ui-form .w2ui-tabs .w2ui-tab.active {\n  background-color: #f5f6f7;\n}\n.w2ui-form .w2ui-page {\n  position: absolute;\n  left: 0;\n  right: 0;\n  overflow: auto;\n  padding: 10px;\n  border-left: 1px solid inherit;\n  border-right: 1px solid inherit;\n  background-color: inherit;\n  border-radius: 3px;\n}\n.w2ui-form .w2ui-buttons {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  text-align: center;\n  border-top: 1px solid #d5d8d8;\n  border-bottom: 0px solid #d5d8d8;\n  background-color: #fafafa;\n  padding: 15px 0px !important;\n  border-bottom-left-radius: 3px;\n  border-bottom-right-radius: 3px;\n}\n.w2ui-form .w2ui-buttons input[type=\"button\"],\n.w2ui-form .w2ui-buttons button {\n  min-width: 80px;\n  margin-right: 5px;\n}\n.w2ui-form input[type=checkbox],\n.w2ui-form input[type=radio] {\n  margin-top: 4px;\n  margin-bottom: 4px;\n}\n.w2ui-form input[type=checkbox].w2ui-toggle {\n  margin: 0px;\n}\n.w2ui-group-title {\n  padding: 5px 2px;\n  color: #8D96A2;\n  text-shadow: 1px 1px 2px #fdfdfd;\n  font-size: 120%;\n}\n.w2ui-group {\n  background-color: #ebecef;\n  margin: 5px 0px 10px 0px;\n  padding: 10px 5px;\n  border-top: 1px solid #cedcea;\n  border-bottom: 1px solid #cedcea;\n}\n.w2ui-field > label {\n  display: block;\n  float: left;\n  margin-top: 7px;\n  margin-bottom: 3px;\n  width: 120px;\n  padding: 0px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-align: right;\n  min-height: 20px;\n  color: #666;\n}\n.w2ui-field > div {\n  /* do not include width */\n  margin-bottom: 3px;\n  margin-left: 128px;\n  padding: 3px;\n  min-height: 28px;\n  float: none;\n}\n.w2ui-field.w2ui-required > div {\n  position: relative;\n}\n.w2ui-field.w2ui-required > div::before {\n  content: '*';\n  position: absolute;\n  margin-top: 5px;\n  margin-left: -9px;\n  color: #ff0000;\n}\n.w2ui-field.w2ui-span1 > label {\n  width: 20px;\n}\n.w2ui-field.w2ui-span1 > div {\n  margin-left: 28px;\n}\n.w2ui-field.w2ui-span2 > label {\n  width: 40px;\n}\n.w2ui-field.w2ui-span2 > div {\n  margin-left: 48px;\n}\n.w2ui-field.w2ui-span3 > label {\n  width: 60px;\n}\n.w2ui-field.w2ui-span3 > div {\n  margin-left: 68px;\n}\n.w2ui-field.w2ui-span4 > label {\n  width: 80px;\n}\n.w2ui-field.w2ui-span4 > div {\n  margin-left: 88px;\n}\n.w2ui-field.w2ui-span5 > label {\n  width: 100px;\n}\n.w2ui-field.w2ui-span5 > div {\n  margin-left: 108px;\n}\n.w2ui-field.w2ui-span6 > label {\n  width: 120px;\n}\n.w2ui-field.w2ui-span6 > div {\n  margin-left: 128px;\n}\n.w2ui-field.w2ui-span7 > label {\n  width: 140px;\n}\n.w2ui-field.w2ui-span7 > div {\n  margin-left: 148px;\n}\n.w2ui-field.w2ui-span8 > label {\n  width: 160px;\n}\n.w2ui-field.w2ui-span8 > div {\n  margin-left: 168px;\n}\n.w2ui-field.w2ui-span9 > label {\n  width: 180px;\n}\n.w2ui-field.w2ui-span9 > div {\n  margin-left: 188px;\n}\n.w2ui-field.w2ui-span10 > label {\n  width: 200px;\n}\n.w2ui-field.w2ui-span10 > div {\n  margin-left: 208px;\n}\n.w2ui-error {\n  border: 1px solid #ffa8a8 !important;\n  background-color: #fff4eb !important;\n}\n.w2field {\n  padding: 3px;\n  border-radius: 3px;\n  border: 1px solid silver;\n}\n.w2ui-field-helper {\n  position: absolute;\n  display: inline-block;\n  line-height: 100%;\n  /* pointer-events: none; - do not use as IE does not support it */\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n}\n.w2ui-field-helper .w2ui-field-up {\n  position: absolute;\n  top: 0px;\n  padding: 2px 3px;\n}\n.w2ui-field-helper .w2ui-field-down {\n  position: absolute;\n  bottom: 0px;\n  padding: 2px 3px;\n}\n.w2ui-field-helper .arrow-up:hover {\n  border-bottom-color: #81C6FF;\n}\n.w2ui-field-helper .arrow-down:hover {\n  border-top-color: #81C6FF;\n}\n/*\n*    ARROWS \n*/\n.arrow-up {\n  background: none;\n  width: 0;\n  height: 0;\n  border-left: 4px solid transparent;\n  /* left arrow slant */\n  border-right: 4px solid transparent;\n  /* right arrow slant */\n  border-bottom: 5px solid #777;\n  /* bottom, add background color here */\n  font-size: 0;\n  line-height: 0;\n}\n.arrow-down {\n  background: none;\n  width: 0;\n  height: 0;\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-top: 5px solid #777;\n  font-size: 0;\n  line-height: 0;\n}\n.arrow-left {\n  background: none;\n  width: 0;\n  height: 0;\n  border-bottom: 4px solid transparent;\n  /* left arrow slant */\n  border-top: 4px solid transparent;\n  /* right arrow slant */\n  border-right: 5px solid #777;\n  /* bottom, add background color here */\n  font-size: 0;\n  line-height: 0;\n}\n.arrow-right {\n  background: none;\n  width: 0;\n  height: 0;\n  border-bottom: 4px solid transparent;\n  /* left arrow slant */\n  border-top: 4px solid transparent;\n  /* right arrow slant */\n  border-left: 5px solid #777;\n  /* bottom, add background color here */\n  font-size: 0;\n  line-height: 0;\n}\n/*\n*    COLOR overlay\n*/\n.w2ui-color {\n  padding: 5px;\n  padding-top: 8px;\n  background-color: white;\n  border-radius: 3px;\n}\n.w2ui-color > table {\n  table-layout: fixed;\n  width: 160px;\n}\n.w2ui-color > table td {\n  width: 20px;\n  height: 20px;\n  text-align: center;\n}\n.w2ui-color > table td div {\n  cursor: pointer;\n  display: inline-block;\n  width: 16px;\n  height: 17px;\n  padding: 1px 4px;\n  border: 1px solid transparent;\n  color: white;\n  text-shadow: 0px 0px 2px #000;\n}\n.w2ui-color > table td div:hover {\n  outline: 1px solid #666;\n  border: 1px solid #fff;\n}\n/* \n*    DATE overlay\n*/\n.w2ui-calendar {\n  margin: 0px;\n  padding: 1px;\n  line-height: 108%;\n}\n.w2ui-calendar .w2ui-calendar-title {\n  margin: 0px -1px;\n  padding: 7px 2px;\n  background-image: -webkit-linear-gradient(#f6f6f6, #d9d9d9);\n  background-image: -moz-linear-gradient(#f6f6f6, #d9d9d9);\n  background-image: -ms-linear-gradient(#f6f6f6, #d9d9d9);\n  background-image: -o-linear-gradient(#f6f6f6, #d9d9d9);\n  background-image: linear-gradient(#f6f6f6, #d9d9d9);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#fff6f6f6', endColorstr='#ffd9d9d9', GradientType=0);\n  border-bottom: 1px solid #bbbbbb;\n  color: #555555;\n  text-align: center;\n  text-shadow: 1px 1px 1px #eeeeee;\n  cursor: pointer;\n}\n.w2ui-calendar .w2ui-calendar-jump {\n  position: absolute;\n  top: 27px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  background-color: #FaFaFa;\n}\n.w2ui-calendar .w2ui-calendar-jump > :first-child {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  bottom: 0px;\n  width: 110px;\n  overflow: hidden;\n  padding-top: 5px;\n  border-right: 1px solid #c0c0c0;\n}\n.w2ui-calendar .w2ui-calendar-jump > :last-child {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  width: 88px;\n  overflow-x: hidden;\n  overflow-y: auto;\n  padding-top: 5px;\n  text-align: center;\n}\n.w2ui-calendar .w2ui-calendar-jump .w2ui-jump-month,\n.w2ui-calendar .w2ui-calendar-jump .w2ui-jump-year {\n  display: inline-block;\n  padding: 5px 0px;\n  text-align: center;\n  float: left;\n  margin: 2px;\n  width: 50px;\n  cursor: default;\n  border: 1px solid transparent;\n  border-radius: 2px;\n}\n.w2ui-calendar .w2ui-calendar-jump .w2ui-jump-year {\n  float: none;\n  width: 95%;\n}\n.w2ui-calendar .w2ui-calendar-jump .w2ui-jump-month:hover,\n.w2ui-calendar .w2ui-calendar-jump .w2ui-jump-year:hover {\n  border: 1px solid #cccccc;\n  color: #000000;\n  background-color: #efefef;\n}\n.w2ui-calendar .w2ui-calendar-jump .w2ui-jump-month.selected,\n.w2ui-calendar .w2ui-calendar-jump .w2ui-jump-year.selected {\n  border: 1px solid #cccccc;\n  color: #000000;\n  background-color: #dadada;\n}\n.w2ui-calendar .w2ui-calendar-previous,\n.w2ui-calendar .w2ui-calendar-next {\n  width: 24px;\n  height: 20px;\n  color: #666666;\n  border: 1px solid transparent;\n  border-radius: 3px;\n  padding: 2px 3px 1px 2px;\n  margin: -4px 0px 0px 0px;\n  cursor: default;\n}\n.w2ui-calendar .w2ui-calendar-previous:hover,\n.w2ui-calendar .w2ui-calendar-next:hover {\n  border: 1px solid #c0c0c0;\n  background-color: #efefef;\n}\n.w2ui-calendar .w2ui-calendar-previous > div,\n.w2ui-calendar .w2ui-calendar-next > div {\n  position: absolute;\n  border-left: 4px solid #888;\n  border-top: 4px solid #888;\n  border-right: 4px solid transparent;\n  border-bottom: 4px solid transparent;\n  width: 0px;\n  height: 0px;\n  padding: 0px;\n  margin: 3px 0px 0px 0px;\n}\n.w2ui-calendar .w2ui-calendar-previous {\n  float: left;\n}\n.w2ui-calendar .w2ui-calendar-previous > div {\n  -webkit-transform: rotate(-45deg);\n  -moz-transform: rotate(-45deg);\n  -ms-transform: rotate(-45deg);\n  -o-transform: rotate(-45deg);\n  transform: rotate(-45deg);\n  margin-left: 6px;\n}\n.w2ui-calendar .w2ui-calendar-next {\n  float: right;\n}\n.w2ui-calendar .w2ui-calendar-next > div {\n  -webkit-transform: rotate(135deg);\n  -moz-transform: rotate(135deg);\n  -ms-transform: rotate(135deg);\n  -o-transform: rotate(135deg);\n  transform: rotate(135deg);\n  margin-left: 2px;\n  margin-right: 2px;\n}\n.w2ui-calendar table.w2ui-calendar-days {\n  padding: 0px;\n}\n.w2ui-calendar table.w2ui-calendar-days td {\n  border: 1px solid #ffffff;\n  color: #000000;\n  background-color: #f9f9f9;\n  padding: 6px;\n  cursor: default;\n  text-align: right;\n}\n.w2ui-calendar table.w2ui-calendar-days td.w2ui-saturday,\n.w2ui-calendar table.w2ui-calendar-days td.w2ui-sunday {\n  border: 1px solid #ffffff;\n  color: #c8493b;\n  background-color: #f9f9f9;\n}\n.w2ui-calendar table.w2ui-calendar-days td.w2ui-saturday:hover,\n.w2ui-calendar table.w2ui-calendar-days td.w2ui-sunday:hover {\n  border: 1px solid #cccccc;\n  color: #000000;\n  background-color: #e9e9e9;\n}\n.w2ui-calendar table.w2ui-calendar-days td.w2ui-saturday.w2ui-blocked,\n.w2ui-calendar table.w2ui-calendar-days td.w2ui-sunday.w2ui-blocked {\n  text-decoration: line-through;\n  border: 1px solid #ffffff;\n  color: #cccccc;\n  background-color: #ffffff;\n}\n.w2ui-calendar table.w2ui-calendar-days td.w2ui-today {\n  border: 1px solid #8cb067;\n  color: #000000;\n  background-color: #e2f7cd;\n}\n.w2ui-calendar table.w2ui-calendar-days td:hover {\n  border: 1px solid #cccccc;\n  color: #000000;\n  background-color: #e9e9e9;\n}\n.w2ui-calendar table.w2ui-calendar-days td.w2ui-blocked {\n  text-decoration: line-through;\n  border: 1px solid #ffffff;\n  color: #cccccc;\n  background-color: #ffffff;\n}\n.w2ui-calendar table.w2ui-calendar-days td.w2ui-day-empty {\n  border: 1px solid #ffffff;\n  background-color: #fdfdfd;\n}\n.w2ui-calendar table.w2ui-calendar-days tr.w2ui-day-title td {\n  border: 1px solid #ffffff;\n  color: #808080;\n  background-color: #ffffff;\n  text-align: center;\n  padding: 6px;\n}\n/*\n*    Time\n*/\n.w2ui-calendar-time {\n  padding: 5px;\n  cursor: default;\n}\n.w2ui-calendar-time td div {\n  padding: 7px 10px;\n  text-align: center;\n  border: 1px solid transparent;\n  white-space: nowrap;\n}\n.w2ui-calendar-time td:nth-child(even) {\n  background-color: #f6f6f6;\n}\n.w2ui-calendar-time td div:hover {\n  border: 1px solid #cccccc;\n  color: #000000;\n  background-color: #e9e9e9;\n}\n.w2ui-calendar-time td div.w2ui-blocked {\n  text-decoration: line-through;\n  border: 1px solid #ffffff;\n  color: #cccccc;\n  background-color: #ffffff;\n}\n.w2ui-select {\n  cursor: default;\n  color: black !important;\n  background-image: -webkit-linear-gradient(top,#ffffff 20%,#f6f6f6 50%,#eeeeee 52%,#f4f4f4 100%);\n  background-image: -moz-linear-gradient(top,#ffffff 20%,#f6f6f6 50%,#eeeeee 52%,#f4f4f4 100%);\n  background-image: -ms-linear-gradient(top,#ffffff 20%,#f6f6f6 50%,#eeeeee 52%,#f4f4f4 100%);\n  background-image: -o-linear-gradient(top,#ffffff 20%,#f6f6f6 50%,#eeeeee 52%,#f4f4f4 100%);\n  background-image: linear-gradient(top,#ffffff 20%,#f6f6f6 50%,#eeeeee 52%,#f4f4f4 100%);\n}\n/*\n*    ENUM items\n*/\n.w2ui-list {\n  color: inherit;\n  position: absolute;\n  padding: 0px;\n  margin: 0px;\n  min-height: 25px;\n  overflow: auto;\n  border: 1px solid #c0c0c0;\n  border-radius: 3px;\n  font-size: 6px;\n  line-height: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -ms-box-sizing: border-box;\n  -o-box-sizing: border-box;\n  box-sizing: border-box;\n  background-color: #ffffff;\n}\n.w2ui-list input[type=text] {\n  -webkit-box-shadow: none;\n  -moz-box-shadow: none;\n  -ms-box-shadow: none;\n  -o-box-shadow: none;\n  box-shadow: none;\n}\n.w2ui-list ul {\n  list-style-type: none;\n  background-color: black;\n  margin: 0px;\n  padding: 0px;\n}\n.w2ui-list ul li {\n  float: left;\n  margin: 2px 1px 0px 2px;\n  border-radius: 3px;\n  width: auto;\n  padding: 3px 10px 1px 7px;\n  border: 1px solid #88b0d6;\n  background-color: #eff3f5;\n  white-space: nowrap;\n  cursor: default;\n  font-family: verdana;\n  font-size: 11px;\n  line-height: 100%;\n  height: 20px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -ms-box-sizing: border-box;\n  -o-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.w2ui-list ul li:hover {\n  background-color: #d0dbe1;\n}\n.w2ui-list ul li:last-child {\n  border-radius: 0px;\n  border: 1px solid transparent;\n  background-color: transparent;\n}\n.w2ui-list ul li:last-child input {\n  padding: 1px;\n  padding-top: 0px;\n  margin: 0px;\n  border: 0px;\n  outline: none;\n  height: auto;\n  line-height: 100%;\n  font-size: inherit;\n  font-family: inherit;\n  background-color: transparent;\n}\n.w2ui-list ul li .w2ui-list-remove {\n  float: right;\n  width: 15px;\n  height: 14px;\n  margin: -1px -9px 0px 3px;\n  border-radius: 15px;\n}\n.w2ui-list ul li .w2ui-list-remove:hover {\n  background-color: #D77F7F;\n  color: white;\n}\n.w2ui-list ul li .w2ui-list-remove:before {\n  position: relative;\n  top: 0px;\n  padding: 0px;\n  margin: 0px;\n  left: 5px;\n  color: inherit;\n  opacity: 0.7;\n  text-shadow: inherit;\n  font-size: inherit;\n  font-variant: small-caps;\n  content: 'x';\n  line-height: 100%;\n}\n.w2ui-list ul li > span.file-size {\n  pointer-events: none;\n  color: #777;\n}\n.w2ui-list .w2ui-enum-placeholder {\n  display: inline;\n  position: absolute;\n  pointer-events: none;\n  color: #999;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -ms-box-sizing: border-box;\n  -o-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.w2ui-list.w2ui-file-dragover {\n  background-color: #E4FFDA;\n  border: 1px solid #93E07D;\n}\n/*************************************************\n* ---- Layout ----\n*/\n.w2ui-layout {\n  overflow: hidden !important;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -ms-box-sizing: border-box;\n  -o-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.w2ui-layout * {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -ms-box-sizing: border-box;\n  -o-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.w2ui-layout > div {\n  position: absolute;\n  overflow: hidden;\n  border: 0px;\n  margin: 0px;\n  padding: 0px;\n  outline: 0px;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -ms-box-sizing: border-box;\n  -o-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.w2ui-layout > div .w2ui-panel {\n  display: none;\n  position: absolute;\n  z-index: 120;\n}\n.w2ui-layout > div .w2ui-panel .w2ui-panel-title {\n  padding: 5px;\n  background-image: -webkit-linear-gradient(#dae6f3, #c2d5ed);\n  background-image: -moz-linear-gradient(#dae6f3, #c2d5ed);\n  background-image: -ms-linear-gradient(#dae6f3, #c2d5ed);\n  background-image: -o-linear-gradient(#dae6f3, #c2d5ed);\n  background-image: linear-gradient(#dae6f3, #c2d5ed);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#ffdae6f3', endColorstr='#ffc2d5ed', GradientType=0);\n  border: 1px solid #b9cee9;\n  border-bottom: 1px solid #99bbe8;\n}\n.w2ui-layout > div .w2ui-panel .w2ui-panel-tabs {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  right: 0px;\n  z-index: 2;\n  display: none;\n  overflow: hidden;\n  background-color: #fafafa;\n  padding: 4px 0px;\n}\n.w2ui-layout > div .w2ui-panel .w2ui-panel-tabs > .w2ui-tab.active {\n  background-color: #f5f6f7;\n}\n.w2ui-layout > div .w2ui-panel .w2ui-panel-toolbar {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  right: 0px;\n  z-index: 2;\n  display: none;\n  overflow: hidden;\n  background-color: #fafafa;\n  border-bottom: 1px solid silver;\n  padding: 4px;\n}\n.w2ui-layout > div .w2ui-panel .w2ui-panel-content {\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  z-index: 1;\n  color: inherit;\n  background-color: #f5f6f7;\n}\n.w2ui-layout > div .w2ui-resizer {\n  display: none;\n  position: absolute;\n  z-index: 121;\n  background-color: transparent;\n}\n.w2ui-layout > div .w2ui-resizer:hover,\n.w2ui-layout > div .w2ui-resizer.active {\n  background-color: #d7e4f2;\n}\n/*************************************************\n* ---- Grid ----\n*/\n.w2ui-grid {\n  position: relative;\n  border: 1px solid #c0c0c0;\n  border-radius: 2px;\n  overflow: hidden !important;\n}\n.w2ui-grid > div {\n  position: absolute;\n  overflow: hidden;\n}\n.w2ui-grid .w2ui-grid-header {\n  position: absolute;\n  border-bottom: 1px solid #99bbe8 !important;\n  height: 28px;\n  overflow: hidden;\n  color: #444444;\n  font-size: 13px;\n  text-align: center;\n  padding: 7px;\n  background-image: -webkit-linear-gradient(#dae6f3, #c2d5ed);\n  background-image: -moz-linear-gradient(#dae6f3, #c2d5ed);\n  background-image: -ms-linear-gradient(#dae6f3, #c2d5ed);\n  background-image: -o-linear-gradient(#dae6f3, #c2d5ed);\n  background-image: linear-gradient(#dae6f3, #c2d5ed);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#ffdae6f3', endColorstr='#ffc2d5ed', GradientType=0);\n  border-top-left-radius: 2px;\n  border-top-right-radius: 2px;\n}\n.w2ui-grid .w2ui-grid-toolbar {\n  position: absolute;\n  border-bottom: 1px solid #c0c0c0;\n  background-color: #eaeaea;\n  height: 38px;\n  padding: 7px 3px 4px 3px;\n  margin: 0px;\n  box-shadow: 0px 1px 2px #dddddd;\n}\n.w2ui-grid .w2ui-toolbar-search {\n  width: 160px;\n  margin-right: 3px;\n}\n.w2ui-grid .w2ui-toolbar-search .w2ui-search-all {\n  outline: none !important;\n  width: 160px;\n  border-radius: 10px;\n  line-height: normal;\n  height: 22px;\n  border: 1px solid #b9b9b9;\n  color: #000000;\n  background-color: #ffffff;\n  padding: 3px 18px 3px 23px;\n  margin: 0px;\n}\n.w2ui-grid .w2ui-toolbar-search .w2ui-search-down {\n  position: absolute;\n  margin-top: -7px;\n  margin-left: 6px;\n}\n.w2ui-grid .w2ui-toolbar-search .w2ui-search-clear {\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  margin-top: -8px;\n  margin-left: -20px;\n  border-radius: 15px;\n  cursor: default;\n}\n.w2ui-grid .w2ui-toolbar-search .w2ui-search-clear:hover {\n  background-color: #D77F7F;\n  color: white;\n}\n.w2ui-grid .w2ui-toolbar-search .w2ui-search-clear:before {\n  position: relative;\n  top: 1px;\n  left: 5px;\n  opacity: 0.6;\n  color: inherit;\n  text-shadow: inherit;\n  content: 'x';\n  cursor: default;\n}\n.w2ui-grid .w2ui-grid-body {\n  position: absolute;\n  overflow: hidden;\n  padding: 0px;\n  background-color: #ffffff;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n}\n.w2ui-grid .w2ui-grid-body input,\n.w2ui-grid .w2ui-grid-body select,\n.w2ui-grid .w2ui-grid-body textarea {\n  user-select: text;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  -o-user-select: text;\n}\n.w2ui-grid .w2ui-grid-body .w2ui-grid-columns {\n  overflow: hidden;\n  position: absolute;\n  left: 0px;\n  top: 0px;\n  right: 0px;\n  box-shadow: 0px 1px 4px #dddddd;\n  height: auto;\n}\n.w2ui-grid .w2ui-grid-body .w2ui-grid-columns table {\n  height: auto;\n}\n.w2ui-grid .w2ui-grid-body .w2ui-grid-columns .w2ui-resizer {\n  position: absolute;\n  z-index: 1000;\n  display: block;\n  background-image: none;\n  background-color: rgba(0, 0, 0, 0);\n  /* needed for IE */\n  padding: 0px;\n  margin: 0px;\n  width: 6px;\n  height: 12px;\n  cursor: col-resize;\n}\n.w2ui-grid .w2ui-grid-body .w2ui-grid-records {\n  position: absolute;\n  left: 0px;\n  right: 0px;\n  top: 0px;\n  bottom: 0px;\n}\n.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr.w2ui-odd {\n  color: inherit;\n  background-color: #ffffff;\n}\n.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr.w2ui-odd:hover {\n  color: inherit;\n  background-color: #e6f0ff;\n}\n.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr.w2ui-odd.w2ui-empty-record:hover {\n  background-color: #ffffff;\n}\n.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr.w2ui-even {\n  color: inherit;\n  background-color: #f3f6fa;\n}\n.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr.w2ui-even:hover {\n  color: inherit;\n  background-color: #e6f0ff;\n}\n.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr.w2ui-even.w2ui-empty-record:hover {\n  background-color: #f3f6fa;\n}\n.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr.w2ui-selected,\n.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr td.w2ui-selected {\n  color: #000000 !important;\n  background-color: #b6d5ff !important;\n}\n.w2ui-grid .w2ui-grid-body .w2ui-grid-records .w2ui-expanded {\n  background-color: #CCDCF0 !important;\n}\n.w2ui-grid .w2ui-grid-body .w2ui-grid-records .w2ui-expanded1 {\n  height: 0px;\n  border-bottom: 1px solid #b2bac0;\n  background-color: #CCDCF0;\n}\n.w2ui-grid .w2ui-grid-body .w2ui-grid-records .w2ui-expanded1 > div {\n  height: 100%;\n  margin: 0px;\n  padding: 0px;\n}\n.w2ui-grid .w2ui-grid-body .w2ui-grid-records .w2ui-expanded2 {\n  height: 0px;\n  border-radius: 0px;\n  border-bottom: 1px solid #b2bac0;\n}\n.w2ui-grid .w2ui-grid-body .w2ui-grid-records .w2ui-expanded2 > div {\n  height: 0px;\n  border: 0px;\n  transition: height .3s, opacity .3s;\n}\n.w2ui-grid .w2ui-grid-body .w2ui-grid-records .w2ui-load-more {\n  border-top: 1px solid #d6d5d7;\n  cursor: pointer;\n}\n.w2ui-grid .w2ui-grid-body .w2ui-grid-records .w2ui-load-more > div {\n  text-align: center;\n  color: #777777;\n  background-color: rgba(233, 237, 243, 0.5);\n  padding: 10px 0px 15px 0px;\n  border-top: 1px solid #ffffff;\n}\n.w2ui-grid .w2ui-grid-body .w2ui-grid-records .w2ui-load-more > div:hover {\n  color: inherit;\n  background-color: #e6f0ff;\n}\n.w2ui-grid .w2ui-grid-body table {\n  border-spacing: 0px;\n  border-collapse: collapse;\n  table-layout: fixed;\n  width: 1px;\n}\n.w2ui-grid .w2ui-grid-body table .w2ui-head {\n  margin: 0px;\n  padding: 0px;\n  border-right: 1px solid #c5c5c5;\n  border-bottom: 1px solid #c5c5c5;\n  color: #000000;\n  background-image: -webkit-linear-gradient(#f9f9f9, #e4e4e4);\n  background-image: -moz-linear-gradient(#f9f9f9, #e4e4e4);\n  background-image: -ms-linear-gradient(#f9f9f9, #e4e4e4);\n  background-image: -o-linear-gradient(#f9f9f9, #e4e4e4);\n  background-image: linear-gradient(#f9f9f9, #e4e4e4);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#fff9f9f9', endColorstr='#ffe4e4e4', GradientType=0);\n}\n.w2ui-grid .w2ui-grid-body table .w2ui-head > div {\n  padding: 7px 3px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  position: relative;\n}\n.w2ui-grid .w2ui-grid-body table .w2ui-head.w2ui-col-intersection {\n  border-right-color: #72b2ff;\n}\n.w2ui-grid .w2ui-grid-body table .w2ui-head.w2ui-reorder-cols-head:hover {\n  cursor: move;\n}\n.w2ui-grid .w2ui-grid-body table .w2ui-head .col-intersection-marker {\n  padding: 0;\n  position: absolute;\n  height: 100%;\n  top: 0;\n}\n.w2ui-grid .w2ui-grid-body table .w2ui-head .col-intersection-marker.left {\n  left: 0;\n  margin-left: -5px;\n}\n.w2ui-grid .w2ui-grid-body table .w2ui-head .col-intersection-marker.right {\n  right: 0;\n  margin-right: -5px;\n}\n.w2ui-grid .w2ui-grid-body table .w2ui-head .col-intersection-marker .top-marker {\n  position: absolute;\n  top: 0;\n  height: 0;\n  width: 0;\n  border-top: 5px solid #72b2ff;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n}\n.w2ui-grid .w2ui-grid-body table .w2ui-head .col-intersection-marker .bottom-marker {\n  position: absolute;\n  bottom: 0;\n  height: 0;\n  width: 0;\n  border-bottom: 5px solid #72b2ff;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n}\n.w2ui-grid .w2ui-grid-body table td {\n  border-right: 1px solid #d6d5d7;\n  border-bottom: 0px solid #d6d5d7;\n  cursor: default;\n  overflow: hidden;\n}\n.w2ui-grid .w2ui-grid-body table td.w2ui-grid-data {\n  margin: 0px;\n  padding: 0px;\n}\n.w2ui-grid .w2ui-grid-body table td.w2ui-grid-data > div {\n  padding: 3px 3px 3px 3px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.w2ui-grid .w2ui-grid-body table td.w2ui-grid-data > div.flexible-record {\n  height: auto;\n  overflow: visible;\n  white-space: normal;\n}\n.w2ui-grid .w2ui-grid-body table td:last-child {\n  border-right: 0px;\n}\n.w2ui-grid .w2ui-grid-body table .w2ui-col-number {\n  width: 34px;\n  color: #777777;\n  background-color: rgba(233, 237, 243, 0.5);\n}\n.w2ui-grid .w2ui-grid-body table .w2ui-col-number div {\n  padding: 0px 7px 0px 3px;\n  text-align: right;\n}\n.w2ui-grid .w2ui-grid-body table .w2ui-col-select {\n  width: 26px;\n}\n.w2ui-grid .w2ui-grid-body table .w2ui-col-select div {\n  padding: 0px 0px;\n  text-align: center;\n  overflow: hidden;\n}\n.w2ui-grid .w2ui-grid-body table .w2ui-col-select div input[type=checkbox] {\n  margin-top: 2px;\n  position: relative;\n}\n.w2ui-grid .w2ui-grid-body table .w2ui-col-expand {\n  width: 26px;\n}\n.w2ui-grid .w2ui-grid-body table .w2ui-col-expand div {\n  padding: 0px 0px;\n  text-align: center;\n  font-weight: bold;\n}\n.w2ui-grid .w2ui-grid-body div.w2ui-col-header {\n  height: auto !important;\n  width: 100%;\n  overflow: hidden;\n  padding-right: 10px !important;\n}\n.w2ui-grid .w2ui-grid-body div.w2ui-col-header > div.w2ui-sort-up {\n  border: 4px solid transparent;\n  border-bottom: 5px solid #8D99A7;\n  margin-top: -2px;\n  margin-right: -7px;\n  float: right;\n}\n.w2ui-grid .w2ui-grid-body div.w2ui-col-header > div.w2ui-sort-down {\n  border: 4px solid transparent;\n  border-top: 5px solid #8D99A7;\n  margin-top: 2px;\n  margin-right: -7px;\n  float: right;\n}\n.w2ui-grid .w2ui-grid-body .w2ui-col-group {\n  text-align: center;\n}\n.w2ui-grid .w2ui-changed {\n  background: url(data:image/gif;base64,R0lGODlhCgAKAJEAALAABf///wAAAAAAACH5BAEAAAIALAAAAAAKAAoAAAIPlI8Hy8mbxIsSUnup3rQAADs=) no-repeat top right;\n}\n.w2ui-grid .w2ui-editable {\n  overflow: hidden;\n  height: 100% !important;\n  margin: 0px !important;\n  padding: 0px !important;\n}\n.w2ui-grid .w2ui-editable input {\n  border: 0px;\n  border-radius: 0px;\n  margin: 0px;\n  padding: 4px 3px;\n  width: 100%;\n  height: 100%;\n}\n.w2ui-grid .w2ui-editable input.w2ui-select {\n  outline: none !important;\n  background: #fff;\n}\n.w2ui-grid .w2ui-grid-summary {\n  position: absolute;\n  box-shadow: 0px -1px 4px #aaaaaa;\n}\n.w2ui-grid .w2ui-grid-summary table {\n  color: inherit;\n}\n.w2ui-grid .w2ui-grid-summary table .w2ui-odd {\n  background-color: #eef5eb;\n}\n.w2ui-grid .w2ui-grid-summary table .w2ui-even {\n  background-color: #f8fff5;\n}\n.w2ui-grid .w2ui-grid-footer {\n  position: absolute;\n  margin: 0px;\n  padding: 0px;\n  text-align: center;\n  height: 24px;\n  overflow: hidden;\n  user-select: text;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  -o-user-select: text;\n  box-shadow: 0px -1px 4px #eeeeee;\n  color: #444444;\n  background-color: #f8f8f8;\n  border-top: 1px solid #dddddd;\n  border-bottom-left-radius: 2px;\n  border-bottom-right-radius: 2px;\n}\n.w2ui-grid .w2ui-grid-footer .w2ui-footer-left {\n  float: left;\n  padding-top: 5px;\n  padding-left: 5px;\n}\n.w2ui-grid .w2ui-grid-footer .w2ui-footer-right {\n  float: right;\n  padding-top: 5px;\n  padding-right: 5px;\n}\n.w2ui-grid .w2ui-grid-footer .w2ui-footer-center {\n  padding: 2px;\n  text-align: center;\n}\n.w2ui-grid .w2ui-grid-footer .w2ui-footer-center .w2ui-footer-nav {\n  width: 110px;\n  margin: 0 auto;\n  padding: 0px;\n  text-align: center;\n}\n.w2ui-grid .w2ui-grid-footer .w2ui-footer-center .w2ui-footer-nav input[type=text] {\n  padding: 1px 2px 2px 2px;\n  border-radius: 3px;\n  width: 40px;\n  text-align: center;\n}\n.w2ui-grid .w2ui-grid-footer .w2ui-footer-center .w2ui-footer-nav a.w2ui-footer-btn {\n  display: inline-block;\n  border-radius: 3px;\n  cursor: pointer;\n  font-size: 11px;\n  line-height: 16px;\n  padding: 1px 5px;\n  width: 30px;\n  height: 18px;\n  margin-top: -1px;\n  color: #000000;\n  background-color: transparent;\n}\n.w2ui-grid .w2ui-grid-footer .w2ui-footer-center .w2ui-footer-nav a.w2ui-footer-btn:hover {\n  color: #000000;\n  background-color: #aec8ff;\n}\n/* SpeadSheet */\n.w2ui-ss .w2ui-grid-body .w2ui-grid-records table tr.w2ui-odd,\n.w2ui-ss .w2ui-grid-body .w2ui-grid-records table tr.w2ui-even,\n.w2ui-ss .w2ui-grid-body .w2ui-grid-records table tr.w2ui-odd:hover,\n.w2ui-ss .w2ui-grid-body .w2ui-grid-records table tr.w2ui-even:hover {\n  background-color: inherit;\n}\n.w2ui-ss .w2ui-grid-records table td {\n  border-right-width: 1px;\n  border-bottom: 1px solid #efefef;\n}\n.w2ui-ss .w2ui-grid-records table tr:first-child td {\n  border-bottom: 0px;\n}\n.w2ui-ss .w2ui-grid-body .w2ui-grid-records table tr.w2ui-selected,\n.w2ui-ss .w2ui-grid-body .w2ui-grid-records table tr td.w2ui-selected {\n  background-color: #EEF4FE !important;\n}\n.w2ui-ss .w2ui-changed {\n  background: inherit;\n}\n.w2ui-ss .w2ui-grid-body .w2ui-selection {\n  position: absolute;\n  border: 2px solid #6299DA;\n  /* #457FC2; */\n  pointer-events: none;\n}\n.w2ui-ss .w2ui-grid-body .w2ui-selection .w2ui-selection-resizer {\n  cursor: crosshair;\n  position: absolute;\n  bottom: 0px;\n  right: 0px;\n  width: 6px;\n  height: 6px;\n  margin-right: -3px;\n  margin-bottom: -3px;\n  background-color: #457FC2;\n  border: 0.5px solid #fff;\n  outline: 1px solid white;\n  pointer-events: auto;\n}\n.w2ui-overlay .w2ui-select-field {\n  padding: 8px 5px;\n  cursor: default;\n}\n.w2ui-overlay .w2ui-select-field table {\n  font-size: 11px;\n  font-family: Verdana, Arial, sans-serif;\n  border-spacing: 0px;\n  border-collapse: border-collapse;\n}\n.w2ui-overlay .w2ui-select-field table tr:hover {\n  background-color: #b6d5ff;\n}\n.w2ui-overlay .w2ui-select-field table td:nth-child(1) {\n  padding: 3px 3px 3px 6px;\n}\n.w2ui-overlay .w2ui-select-field table td:nth-child(1) input {\n  margin: 3px 2px 2px 2px;\n}\n.w2ui-overlay .w2ui-select-field table td:nth-child(2) {\n  padding: 3px 15px 3px 3px;\n}\n.w2ui-overlay .w2ui-col-on-off {\n  padding: 4px 0px;\n}\n.w2ui-overlay .w2ui-col-on-off table {\n  border-spacing: 0px;\n  border-collapse: border-collapse;\n}\n.w2ui-overlay .w2ui-col-on-off table tr:hover {\n  background-color: #b6d5ff;\n}\n.w2ui-overlay .w2ui-col-on-off table td input[type=checkbox] {\n  margin: 3px 2px 2px 2px;\n}\n.w2ui-overlay .w2ui-col-on-off table td label {\n  display: block;\n  padding: 3px 0px;\n  padding-right: 10px;\n}\n.w2ui-overlay .w2ui-col-on-off table td:first-child {\n  padding: 4px 0px 4px 6px;\n}\n.w2ui-overlay .w2ui-col-on-off table td:last-child {\n  padding: 4px 6px 4px 0px;\n}\n.w2ui-overlay .w2ui-grid-searches {\n  text-align: left;\n  padding: 0px;\n  border-top: 0px;\n  background-color: #f7f6f0;\n}\n.w2ui-overlay .w2ui-grid-searches table {\n  padding: 4px;\n  padding-top: 12px;\n  border-collapse: border-collapse;\n}\n.w2ui-overlay .w2ui-grid-searches table td {\n  padding: 4px;\n  /* for IE */\n}\n.w2ui-overlay .w2ui-grid-searches table td.close-btn {\n  width: 20px;\n  padding-right: 20px;\n}\n.w2ui-overlay .w2ui-grid-searches table td.close-btn button {\n  min-width: 24px;\n  height: 24px;\n  padding-top: 6px !important;\n}\n.w2ui-overlay .w2ui-grid-searches table td.caption {\n  text-align: right;\n  padding-right: 5px;\n  border-right: 1px solid #e8e8e3;\n}\n.w2ui-overlay .w2ui-grid-searches table td.operator {\n  text-align: left;\n  padding: 0px 10px;\n  padding-right: 5px;\n  border-right: 1px solid #e8e8e3;\n}\n.w2ui-overlay .w2ui-grid-searches table td.operator select {\n  width: 100%;\n  color: black;\n  padding: 0px 15px 0px 5px;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  -ms-appearance: none;\n  -o-appearance: none;\n  background-image: -webkit-linear-gradient(top,#ffffff 20%,#f6f6f6 50%,#eeeeee 52%,#f4f4f4 100%);\n  background-image: -moz-linear-gradient(top,#ffffff 20%,#f6f6f6 50%,#eeeeee 52%,#f4f4f4 100%);\n  background-image: -ms-linear-gradient(top,#ffffff 20%,#f6f6f6 50%,#eeeeee 52%,#f4f4f4 100%);\n  background-image: -o-linear-gradient(top,#ffffff 20%,#f6f6f6 50%,#eeeeee 52%,#f4f4f4 100%);\n  background-image: linear-gradient(top,#ffffff 20%,#f6f6f6 50%,#eeeeee 52%,#f4f4f4 100%);\n}\n.w2ui-overlay .w2ui-grid-searches table td.operator select::-ms-expand {\n  display: none;\n}\n.w2ui-overlay .w2ui-grid-searches table td.value {\n  padding-right: 5px;\n  padding-left: 5px;\n}\n.w2ui-overlay .w2ui-grid-searches table td.value input[type=text] {\n  border-radius: 3px;\n  padding: 3px;\n  margin-right: 3px;\n  height: 23px;\n}\n.w2ui-overlay .w2ui-grid-searches table td.value select {\n  padding: 3px;\n  margin-right: 3px;\n  height: 23px;\n}\n.w2ui-overlay .w2ui-grid-searches table td.actions {\n  border-right: 0px;\n}\n.w2ui-overlay .w2ui-grid-searches table td.actions > div {\n  margin: -7px;\n  margin-top: 15px;\n  padding: 13px 0px;\n  text-align: center;\n  background-color: #efefe9;\n  border-top: 1px solid #e8e8e3;\n}\n/*************************************************\n* ---- Popup ----\n*/\n.w2ui-popup {\n  position: fixed;\n  z-index: 1600;\n  overflow: hidden;\n  font-family: Verdana, Arial, sans-serif;\n  border-radius: 6px;\n  padding: 0px;\n  margin: 0px;\n  border: 1px solid #777777;\n  background-color: #eeeeee;\n  box-shadow: 0px 0px 25px #555555;\n}\n.w2ui-popup,\n.w2ui-popup * {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -ms-box-sizing: border-box;\n  -o-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.w2ui-popup .w2ui-msg-title {\n  padding: 6px;\n  border-radius: 6px 6px 0px 0px;\n  background-image: -webkit-linear-gradient(#ececec, #dfdfdf);\n  background-image: -moz-linear-gradient(#ececec, #dfdfdf);\n  background-image: -ms-linear-gradient(#ececec, #dfdfdf);\n  background-image: -o-linear-gradient(#ececec, #dfdfdf);\n  background-image: linear-gradient(#ececec, #dfdfdf);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#ffececec', endColorstr='#ffdfdfdf', GradientType=0);\n  border-bottom: 2px solid #bfbfbf;\n  position: absolute;\n  overflow: hidden;\n  height: 32px;\n  left: 0px;\n  right: 0px;\n  top: 0px;\n  text-overflow: ellipsis;\n  text-align: center;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n  cursor: move;\n  font-size: 15px;\n  color: #555555;\n  z-index: 300;\n}\n.w2ui-popup .w2ui-msg-button {\n  float: right;\n  width: 18px;\n  height: 18px;\n  cursor: pointer;\n  overflow: hidden;\n  padding: 0px;\n  margin: 0px 3px 0px 0px;\n  background: url(data:image/png;base64,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) no-repeat center left;\n  background-position: 0px 0px;\n  color: transparent !important;\n  border-radius: 3px;\n  border: 1px solid transparent;\n}\n.w2ui-popup .w2ui-msg-close {\n  margin-top: 0px;\n  background-position: -32px 0px;\n}\n.w2ui-popup .w2ui-msg-close:hover {\n  background-color: #cccccc;\n  border: 1px solid #aaaaaa;\n}\n.w2ui-popup .w2ui-msg-max {\n  background-position: -16px 0px;\n}\n.w2ui-popup .w2ui-msg-max:hover {\n  background-color: #cccccc;\n  border: 1px solid #aaaaaa;\n}\n.w2ui-popup .w2ui-box1,\n.w2ui-popup .w2ui-box2 {\n  position: absolute;\n  left: 0px;\n  right: 0px;\n  top: 32px;\n  bottom: 55px;\n  z-index: 100;\n}\n.w2ui-popup .w2ui-msg-body {\n  font-size: 13px;\n  line-height: 130%;\n  padding: 0px 7px 7px 7px;\n  color: #000000;\n  background-color: #eeeeee;\n  position: absolute;\n  overflow: auto;\n  width: 100%;\n  height: 100%;\n}\n.w2ui-popup .w2ui-popup-message {\n  position: absolute;\n  z-index: 250;\n  background-color: #f9f9f9;\n  border: 1px solid #999999;\n  box-shadow: 0px 0px 15px #aaaaaa;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -ms-box-sizing: border-box;\n  -o-box-sizing: border-box;\n  box-sizing: border-box;\n  border-top: 0px;\n  border-radius: 0px 0px 6px 6px;\n  overflow: auto;\n}\n.w2ui-popup .w2ui-msg-buttons {\n  padding: 12px;\n  border-radius: 0px 0px 6px 6px;\n  border-top: 1px solid #d5d8d8;\n  background-color: #f1f1f1;\n  text-align: center;\n  position: absolute;\n  overflow: hidden;\n  height: 52px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  z-index: 200;\n}\n.w2ui-popup .w2ui-msg-no-title {\n  border-top-left-radius: 6px;\n  border-top-right-radius: 6px;\n  top: 0px !important;\n}\n.w2ui-popup .w2ui-msg-no-buttons {\n  border-bottom-left-radius: 6px;\n  border-bottom-right-radius: 6px;\n  bottom: 0px !important;\n}\n/*************************************************\n* ---- Sidebar ----\n*/\n.w2ui-sidebar {\n  cursor: default;\n  overflow: hidden !important;\n  background-color: #edf1f6 !important;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -ms-box-sizing: border-box;\n  -o-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.w2ui-sidebar * {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -ms-box-sizing: border-box;\n  -o-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.w2ui-sidebar > div {\n  position: relative;\n  overflow: hidden;\n}\n.w2ui-sidebar .w2ui-sidebar-top {\n  position: absolute;\n  z-index: 2;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n}\n.w2ui-sidebar .w2ui-sidebar-bottom {\n  position: absolute;\n  z-index: 2;\n  bottom: 0px;\n  left: 0px;\n  right: 0px;\n}\n.w2ui-sidebar .w2ui-sidebar-div {\n  position: absolute;\n  z-index: 1;\n  overflow: auto;\n  top: 0px;\n  bottom: 0px;\n  left: 0px;\n  right: 0px;\n  padding: 2px 0px;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n}\n.w2ui-sidebar .w2ui-sidebar-div table {\n  width: 100%;\n}\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-node {\n  background-color: #edf1f6;\n  border-top: 1px solid transparent;\n  border-bottom: 1px solid transparent;\n  margin: 0px;\n  padding: 1px 0px;\n}\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-node table {\n  pointer-events: none;\n}\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-node .w2ui-node-caption,\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-node .w2ui-node-image,\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-node .w2ui-node-image > span,\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-node td.w2ui-node-dots {\n  color: #000000;\n  text-shadow: 0px 0px 0px #ffffff;\n  pointer-events: none;\n}\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-node .w2ui-node-caption:hover,\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-node .w2ui-node-image:hover,\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-node .w2ui-node-image > span:hover,\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-node td.w2ui-node-dots:hover {\n  color: inherit;\n}\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-node:hover {\n  border-top: 1px solid #f9f9f9;\n  border-bottom: 1px solid #f9f9f9;\n  background-color: #d7e1ef;\n}\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-node .w2ui-node-image {\n  width: 22px;\n  text-align: center;\n  pointer-events: none;\n}\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-node .w2ui-node-image > span {\n  color: #516173 !important;\n}\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-node input {\n  pointer-events: auto;\n}\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected,\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected:hover {\n  background-image: -webkit-linear-gradient(#69b1e0, #4a96d3);\n  background-image: -moz-linear-gradient(#69b1e0, #4a96d3);\n  background-image: -ms-linear-gradient(#69b1e0, #4a96d3);\n  background-image: -o-linear-gradient(#69b1e0, #4a96d3);\n  background-image: linear-gradient(#69b1e0, #4a96d3);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#ff69b1e0', endColorstr='#ff4a96d3', GradientType=0);\n  border-top: 1px solid #5295cd;\n  border-bottom: 1px solid #2661a6;\n}\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected .w2ui-node-caption,\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected:hover .w2ui-node-caption,\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected .w2ui-node-image,\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected:hover .w2ui-node-image,\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected .w2ui-node-image > span,\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected:hover .w2ui-node-image > span,\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected td.w2ui-node-dots,\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected:hover td.w2ui-node-dots {\n  color: #ffffff !important;\n  text-shadow: 1px 1px 2px #666666 !important;\n}\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled,\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled:hover {\n  background: transparent !important;\n  border-top: 1px solid transparent;\n  border-bottom: 1px solid transparent;\n}\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled .w2ui-node-caption,\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled:hover .w2ui-node-caption,\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled .w2ui-node-image,\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled:hover .w2ui-node-image,\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled .w2ui-node-image > span,\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled:hover .w2ui-node-image > span,\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled td.w2ui-node-dots,\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled:hover td.w2ui-node-dots {\n  opacity: 0.4;\n  filter: alpha(opacity=40);\n  color: #000000 !important;\n  text-shadow: 0px 0px 0px #ffffff !important;\n}\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-node-caption {\n  white-space: nowrap;\n  padding: 5px 0px 5px 3px;\n  margin: 1px 0px 1px 22px;\n  position: relative;\n  z-index: 1;\n  font-size: 12px;\n}\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-node-group {\n  white-space: nowrap;\n  overflow: hidden;\n  padding: 10px 0px 10px 10px;\n  margin: 0px;\n  cursor: default;\n  color: #868b92;\n  background-color: transparent;\n}\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-node-group :nth-child(1) {\n  /* show / hide link */\n  margin-right: 10px;\n  float: right;\n  color: transparent;\n}\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-node-group :nth-child(2) {\n  /* title text */\n  font-weight: normal;\n  text-transform: uppercase;\n}\n.w2ui-sidebar .w2ui-sidebar-div .w2ui-node-sub {\n  overflow: hidden;\n}\n.w2ui-sidebar .w2ui-sidebar-div td.w2ui-node-dots {\n  width: 18px;\n  padding: 0px 0px 1px 7px;\n  text-align: center;\n}\n.w2ui-sidebar .w2ui-sidebar-div td.w2ui-node-dots .w2ui-expand {\n  width: 16px;\n  margin-top: -3px;\n  pointer-events: auto;\n}\n.w2ui-sidebar .w2ui-sidebar-div td.w2ui-node-data {\n  padding: 1px 1px 3px 1px;\n}\n.w2ui-sidebar .w2ui-sidebar-div td.w2ui-node-data .w2ui-node-image {\n  padding: 3px 0px 0px 0px;\n  float: left;\n}\n.w2ui-sidebar .w2ui-sidebar-div td.w2ui-node-data .w2ui-node-image > span {\n  font-size: 16px;\n  color: #000000;\n  text-shadow: 0px 0px 0px #ffffff;\n}\n.w2ui-sidebar .w2ui-sidebar-div td.w2ui-node-data .w2ui-node-image.w2ui-icon {\n  margin-top: 3px;\n}\n.w2ui-sidebar .w2ui-sidebar-div td.w2ui-node-data .w2ui-node-count {\n  float: right;\n  border: 1px solid #9da4af;\n  border-radius: 20px;\n  width: auto;\n  height: 18px;\n  padding: 2px 7px;\n  margin: 3px 4px -2px 0;\n  background-color: #e7f0fc;\n  color: #667274;\n  box-shadow: 0 0 2px #ffffff;\n  text-shadow: 1px 1px 1px #e6e6e6;\n  position: relative;\n  z-index: 2;\n}\n/*************************************************\n* ---- Tabs ----\n*/\n.w2ui-tabs {\n  cursor: default;\n  overflow: hidden !important;\n  background-color: #fafafa;\n  padding: 3px 0px;\n  padding-bottom: 0px !important;\n}\n.w2ui-tabs table {\n  border-bottom: 1px solid silver;\n  padding: 0px 7px;\n}\n.w2ui-tabs .w2ui-tab {\n  padding: 6px 20px;\n  text-align: center;\n  color: #000000;\n  background-color: transparent;\n  border: 1px solid #c0c0c0;\n  border-bottom: 1px solid silver;\n  white-space: nowrap;\n  margin: 1px 1px -1px 0px;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n  cursor: default;\n}\n.w2ui-tabs .w2ui-tab.active {\n  color: #000000;\n  background-color: #ffffff;\n  border: 1px solid #c0c0c0;\n  border-bottom: 1px solid transparent;\n}\n.w2ui-tabs .w2ui-tab.closable {\n  padding: 6px 28px 6px 20px;\n}\n.w2ui-tabs .w2ui-tab-close {\n  color: #555;\n  text-shadow: 1px 1px 1px #bbb;\n  float: right;\n  margin: 6px 4px 0px 0px;\n  padding: 0px 0px 0px 5px;\n  width: 16px;\n  height: 16px;\n  opacity: 0.9;\n  border: 0px;\n  border-top: 3px solid transparent;\n  border-radius: 9px;\n}\n.w2ui-tabs .w2ui-tab-close:hover {\n  background-color: #D77F7F;\n  color: white;\n}\n.w2ui-tabs .w2ui-tab-close:before {\n  position: relative;\n  top: -2px;\n  left: 0px;\n  opacity: 0.6;\n  color: inherit;\n  text-shadow: inherit;\n  content: 'x';\n}\n/*************************************************\n* ---- Toolbar ----\n*/\n.w2ui-toolbar {\n  margin: 0px;\n  padding: 2px;\n  outline: 0px;\n  background-color: #efefef;\n  overflow: hidden !important;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n}\n.w2ui-toolbar .disabled {\n  opacity: 0.3;\n  filter: alpha(opacity=30);\n}\n.w2ui-toolbar table {\n  table-layout: auto !important;\n}\n.w2ui-toolbar table td {\n  border: 0px !important;\n}\n.w2ui-toolbar table.w2ui-button {\n  margin: 0px 1px;\n  border-radius: 4px;\n  height: 24px;\n  border: 1px solid transparent;\n  background-color: transparent;\n}\n.w2ui-toolbar table.w2ui-button .w2ui-tb-image {\n  width: 16px;\n  height: 16px;\n  padding: 0px;\n  margin: 2px 4px 3px 3px !important;\n  border: 0px !important;\n  text-align: center;\n}\n.w2ui-toolbar table.w2ui-button .w2ui-tb-image > span {\n  font-size: 15px;\n  margin-top: 3px;\n  display: block;\n  color: #8d99a7;\n}\n.w2ui-toolbar table.w2ui-button .w2ui-tb-caption {\n  color: #000000;\n  padding: 0px 4px 0px 2px;\n}\n.w2ui-toolbar table.w2ui-button .w2ui-tb-count {\n  padding: 0px 4px 0px 0px;\n}\n.w2ui-toolbar table.w2ui-button .w2ui-tb-count > span {\n  border: 1px solid #9da4af;\n  border-radius: 20px;\n  width: auto;\n  height: 18px;\n  padding: 2px 7px;\n  background-color: #e7f0fc;\n  color: #667274;\n  box-shadow: 0 0 2px #ffffff;\n  text-shadow: 1px 1px 1px #e6e6e6;\n}\n.w2ui-toolbar table.w2ui-button .w2ui-tb-down {\n  padding: 3px;\n}\n.w2ui-toolbar table.w2ui-button .w2ui-tb-down > div {\n  border: 4px solid transparent;\n  border-top: 5px solid #8D99A7;\n  margin-top: 5px;\n}\n.w2ui-toolbar table.w2ui-button.over {\n  border: 1px solid #cccccc;\n  background-color: #eeeeee;\n}\n.w2ui-toolbar table.w2ui-button.over .w2ui-tb-caption {\n  color: #000000;\n}\n.w2ui-toolbar table.w2ui-button.down {\n  border: 1px solid #aaaaaa;\n  background-color: #dddddd;\n}\n.w2ui-toolbar table.w2ui-button.down .w2ui-tb-caption {\n  color: #666666;\n}\n.w2ui-toolbar table.w2ui-button.checked {\n  border: 1px solid #aaaaaa;\n  background-color: #ffffff;\n}\n.w2ui-toolbar table.w2ui-button.checked .w2ui-tb-caption {\n  color: #000000;\n}\n.w2ui-toolbar table.w2ui-button table {\n  height: 17px;\n  border-radius: 4px;\n  cursor: default;\n}\n.w2ui-toolbar .w2ui-break {\n  background-image: -webkit-linear-gradient(top, rgba(153, 153, 153, 0.1) 0%, #999999 40%, #999999 60%, rgba(153, 153, 153, 0.1) 100%);\n  background-image: -moz-linear-gradient(top, rgba(153, 153, 153, 0.1) 0%, #999999 40%, #999999 60%, rgba(153, 153, 153, 0.1) 100%);\n  background-image: -ms-linear-gradient(top, rgba(153, 153, 153, 0.1) 0%, #999999 40%, #999999 60%, rgba(153, 153, 153, 0.1) 100%);\n  background-image: -o-linear-gradient(top, rgba(153, 153, 153, 0.1) 0%, #999999 40%, #999999 60%, rgba(153, 153, 153, 0.1) 100%);\n  background-image: linear-gradient(top, rgba(153, 153, 153, 0.1) 0%, #999999 40%, #999999 60%, rgba(153, 153, 153, 0.1) 100%);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#ff999999', endColorstr='#ff999999', GradientType=0);\n  width: 1px !important;\n  height: 22px;\n  padding: 0px;\n  margin: 0px 6px;\n}\n.w2ui-listview {\n  overflow: auto !important;\n  background-color: #ffffff !important;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -ms-box-sizing: border-box;\n  -o-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.w2ui-listview * {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -ms-box-sizing: border-box;\n  -o-box-sizing: border-box;\n  box-sizing: border-box;\n}\n.w2ui-listview > ul {\n  list-style-type: none;\n  margin: 0;\n  cursor: default;\n}\n.w2ui-listview > ul > li {\n  display: inline-block;\n  vertical-align: top;\n  overflow: hidden;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n  border: 1px solid transparent;\n  border-radius: 4px;\n}\n.w2ui-listview > ul > li.w2ui-focused {\n  border: 1px solid #2661a6;\n}\n.w2ui-listview > ul > li.w2ui-selected {\n  border: 1px solid #2661a6;\n}\n.w2ui-listview > ul > li.w2ui-selected,\n.w2ui-listview > ul > li.w2ui-selected.hover {\n  background-image: -webkit-linear-gradient(#69b1e0, #4a96d3);\n  background-image: -moz-linear-gradient(#69b1e0, #4a96d3);\n  background-image: -ms-linear-gradient(#69b1e0, #4a96d3);\n  background-image: -o-linear-gradient(#69b1e0, #4a96d3);\n  background-image: linear-gradient(#69b1e0, #4a96d3);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#ff69b1e0', endColorstr='#ff4a96d3', GradientType=0);\n}\n.w2ui-listview > ul > li.w2ui-selected > div > div.caption,\n.w2ui-listview > ul > li.w2ui-selected.hover > div > div.caption {\n  color: #ffffff;\n}\n.w2ui-listview > ul > li.w2ui-selected > div > div.description,\n.w2ui-listview > ul > li.w2ui-selected.hover > div > div.description {\n  color: #dddddd;\n}\n.w2ui-listview > ul > li.w2ui-selected > div > div.extra > div > div,\n.w2ui-listview > ul > li.w2ui-selected.hover > div > div.extra > div > div {\n  color: #dddddd;\n}\n.w2ui-listview > ul > li.hover {\n  background-color: #d7e1ef;\n  border: 1px solid #2661a6;\n}\n.w2ui-listview > ul > li div {\n  vertical-align: middle;\n}\n.w2ui-listview > ul > li > div > div.caption {\n  display: block;\n  text-align: center;\n  word-wrap: break-word;\n  max-height: 50px;\n  color: #000000;\n  font-size: 12px;\n}\n.w2ui-listview > ul > li > div > div.description {\n  display: none;\n  text-align: left;\n  color: #777777;\n  font-size: 12px;\n}\n.w2ui-listview > ul > li > div > div.extra {\n  display: none;\n}\n.w2ui-listview > ul > li > div > div.extra > div > div {\n  color: #777777;\n}\n.w2ui-icon-small > ul {\n  padding: 1px 0px 0px 1px;\n}\n.w2ui-icon-small > ul > li {\n  margin: 0px 1px 1px 0px;\n  padding: 2px;\n  width: 250px;\n  white-space: nowrap;\n}\n.w2ui-icon-small > ul > li > div > div.w2ui-listview-img {\n  display: inline-block;\n  width: 26px;\n  height: 22px;\n  font-size: 21px;\n  margin-right: 2px;\n}\n.w2ui-icon-small > ul > li > div > div.caption {\n  display: inline-block;\n}\n.w2ui-icon-medium > ul {\n  padding: 4px 0px 0px 4px;\n}\n.w2ui-icon-medium > ul > li {\n  margin: 0px 4px 4px 0px;\n  padding: 4px;\n  width: 100px;\n}\n.w2ui-icon-medium > ul > li > div > div.w2ui-listview-img {\n  display: block;\n  width: 92px;\n  height: 60px;\n  font-size: 57px;\n  margin-left: auto;\n  margin-right: auto;\n  background-position: center;\n}\n.w2ui-icon-large > ul {\n  padding: 4px 0px 0px 4px;\n}\n.w2ui-icon-large > ul > li {\n  margin: 0px 4px 4px 0px;\n  padding: 4px;\n  width: 160px;\n}\n.w2ui-icon-large > ul > li > div > div.w2ui-listview-img {\n  display: block;\n  width: 152px;\n  height: 120px;\n  font-size: 114px;\n  margin-left: auto;\n  margin-right: auto;\n  background-position: center;\n}\n.w2ui-icon-tile > ul {\n  padding: 1px 0px 0px 1px;\n}\n.w2ui-icon-tile > ul > li {\n  margin: 0px 1px 1px 0px;\n  padding: 4px;\n  width: 250px;\n  white-space: nowrap;\n}\n.w2ui-icon-tile > ul > li > div > div.w2ui-listview-img {\n  display: inline-block;\n  width: 72px;\n  height: 60px;\n  font-size: 57px;\n  float: left;\n  margin-right: 4px;\n}\n.w2ui-icon-tile > ul > li > div > div.caption {\n  text-align: left;\n}\n.w2ui-icon-tile > ul > li > div > div.description {\n  display: block;\n}\n.w2ui-table > ul {\n  padding: 0;\n}\n.w2ui-table > ul > li {\n  width: 100%;\n  padding: 2px;\n  border-radius: 0px;\n  border-bottom: 1px dotted lightgray;\n}\n.w2ui-table > ul > li > div {\n  display: inline-block;\n  position: relative;\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n}\n.w2ui-table > ul > li > div > div.w2ui-listview-img {\n  display: inline-block;\n  width: 38px;\n  height: 32px;\n  font-size: 31px;\n  margin-right: 2px;\n}\n.w2ui-table > ul > li > div > div.caption {\n  display: inline-block;\n}\n.w2ui-table > ul > li > div > div.extra {\n  display: inline-block;\n  position: absolute;\n  right: 0;\n  height: 100%;\n  background-color: #ffffff;\n}\n.w2ui-table > ul > li > div > div.extra > div:before {\n  display: inline-block;\n  height: 100%;\n  width: 0;\n  content: '';\n  vertical-align: middle;\n}\n.w2ui-table > ul > li > div > div.extra > div {\n  display: inline;\n}\n.w2ui-table > ul > li > div > div.extra > div > div {\n  display: inline-block;\n  font-size: 12px;\n}\n.w2ui-table > ul > li.w2ui-selected div.extra,\n.w2ui-table > ul > li.w2ui-selected.hover div.extra {\n  background-image: -webkit-linear-gradient(#69b1e0, #4a96d3);\n  background-image: -moz-linear-gradient(#69b1e0, #4a96d3);\n  background-image: -ms-linear-gradient(#69b1e0, #4a96d3);\n  background-image: -o-linear-gradient(#69b1e0, #4a96d3);\n  background-image: linear-gradient(#69b1e0, #4a96d3);\n  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#ff69b1e0', endColorstr='#ff4a96d3', GradientType=0);\n}\n.w2ui-table > ul > li.hover div.extra {\n  background-color: #d7e1ef;\n}\n.w2ui-listview > ul > li div.icon-none {\n  border: 1px solid rgba(102, 102, 102, 0.35);\n}\n", ""]);
	
	// exports


/***/ },
/* 27 */
/***/ function(module, exports) {

	/*
		MIT License http://www.opensource.org/licenses/mit-license.php
		Author Tobias Koppers @sokra
	*/
	// css base code, injected by the css-loader
	module.exports = function() {
		var list = [];
	
		// return the list of modules as css string
		list.toString = function toString() {
			var result = [];
			for(var i = 0; i < this.length; i++) {
				var item = this[i];
				if(item[2]) {
					result.push("@media " + item[2] + "{" + item[1] + "}");
				} else {
					result.push(item[1]);
				}
			}
			return result.join("");
		};
	
		// import a list of modules into the list
		list.i = function(modules, mediaQuery) {
			if(typeof modules === "string")
				modules = [[null, modules, ""]];
			var alreadyImportedModules = {};
			for(var i = 0; i < this.length; i++) {
				var id = this[i][0];
				if(typeof id === "number")
					alreadyImportedModules[id] = true;
			}
			for(i = 0; i < modules.length; i++) {
				var item = modules[i];
				// skip already imported module
				// this implementation is not 100% perfect for weird media query combinations
				//  when a module is imported multiple times with different media queries.
				//  I hope this will never occur (Hey this way we have smaller bundles)
				if(typeof item[0] !== "number" || !alreadyImportedModules[item[0]]) {
					if(mediaQuery && !item[2]) {
						item[2] = mediaQuery;
					} else if(mediaQuery) {
						item[2] = "(" + item[2] + ") and (" + mediaQuery + ")";
					}
					list.push(item);
				}
			}
		};
		return list;
	};


/***/ },
/* 28 */
/***/ function(module, exports, __webpack_require__) {

	/*
		MIT License http://www.opensource.org/licenses/mit-license.php
		Author Tobias Koppers @sokra
	*/
	var stylesInDom = {},
		memoize = function(fn) {
			var memo;
			return function () {
				if (typeof memo === "undefined") memo = fn.apply(this, arguments);
				return memo;
			};
		},
		isOldIE = memoize(function() {
			return /msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase());
		}),
		getHeadElement = memoize(function () {
			return document.head || document.getElementsByTagName("head")[0];
		}),
		singletonElement = null,
		singletonCounter = 0,
		styleElementsInsertedAtTop = [];
	
	module.exports = function(list, options) {
		if(false) {
			if(typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");
		}
	
		options = options || {};
		// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
		// tags it will allow on a page
		if (typeof options.singleton === "undefined") options.singleton = isOldIE();
	
		// By default, add <style> tags to the bottom of <head>.
		if (typeof options.insertAt === "undefined") options.insertAt = "bottom";
	
		var styles = listToStyles(list);
		addStylesToDom(styles, options);
	
		return function update(newList) {
			var mayRemove = [];
			for(var i = 0; i < styles.length; i++) {
				var item = styles[i];
				var domStyle = stylesInDom[item.id];
				domStyle.refs--;
				mayRemove.push(domStyle);
			}
			if(newList) {
				var newStyles = listToStyles(newList);
				addStylesToDom(newStyles, options);
			}
			for(var i = 0; i < mayRemove.length; i++) {
				var domStyle = mayRemove[i];
				if(domStyle.refs === 0) {
					for(var j = 0; j < domStyle.parts.length; j++)
						domStyle.parts[j]();
					delete stylesInDom[domStyle.id];
				}
			}
		};
	}
	
	function addStylesToDom(styles, options) {
		for(var i = 0; i < styles.length; i++) {
			var item = styles[i];
			var domStyle = stylesInDom[item.id];
			if(domStyle) {
				domStyle.refs++;
				for(var j = 0; j < domStyle.parts.length; j++) {
					domStyle.parts[j](item.parts[j]);
				}
				for(; j < item.parts.length; j++) {
					domStyle.parts.push(addStyle(item.parts[j], options));
				}
			} else {
				var parts = [];
				for(var j = 0; j < item.parts.length; j++) {
					parts.push(addStyle(item.parts[j], options));
				}
				stylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};
			}
		}
	}
	
	function listToStyles(list) {
		var styles = [];
		var newStyles = {};
		for(var i = 0; i < list.length; i++) {
			var item = list[i];
			var id = item[0];
			var css = item[1];
			var media = item[2];
			var sourceMap = item[3];
			var part = {css: css, media: media, sourceMap: sourceMap};
			if(!newStyles[id])
				styles.push(newStyles[id] = {id: id, parts: [part]});
			else
				newStyles[id].parts.push(part);
		}
		return styles;
	}
	
	function insertStyleElement(options, styleElement) {
		var head = getHeadElement();
		var lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];
		if (options.insertAt === "top") {
			if(!lastStyleElementInsertedAtTop) {
				head.insertBefore(styleElement, head.firstChild);
			} else if(lastStyleElementInsertedAtTop.nextSibling) {
				head.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);
			} else {
				head.appendChild(styleElement);
			}
			styleElementsInsertedAtTop.push(styleElement);
		} else if (options.insertAt === "bottom") {
			head.appendChild(styleElement);
		} else {
			throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");
		}
	}
	
	function removeStyleElement(styleElement) {
		styleElement.parentNode.removeChild(styleElement);
		var idx = styleElementsInsertedAtTop.indexOf(styleElement);
		if(idx >= 0) {
			styleElementsInsertedAtTop.splice(idx, 1);
		}
	}
	
	function createStyleElement(options) {
		var styleElement = document.createElement("style");
		styleElement.type = "text/css";
		insertStyleElement(options, styleElement);
		return styleElement;
	}
	
	function createLinkElement(options) {
		var linkElement = document.createElement("link");
		linkElement.rel = "stylesheet";
		insertStyleElement(options, linkElement);
		return linkElement;
	}
	
	function addStyle(obj, options) {
		var styleElement, update, remove;
	
		if (options.singleton) {
			var styleIndex = singletonCounter++;
			styleElement = singletonElement || (singletonElement = createStyleElement(options));
			update = applyToSingletonTag.bind(null, styleElement, styleIndex, false);
			remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);
		} else if(obj.sourceMap &&
			typeof URL === "function" &&
			typeof URL.createObjectURL === "function" &&
			typeof URL.revokeObjectURL === "function" &&
			typeof Blob === "function" &&
			typeof btoa === "function") {
			styleElement = createLinkElement(options);
			update = updateLink.bind(null, styleElement);
			remove = function() {
				removeStyleElement(styleElement);
				if(styleElement.href)
					URL.revokeObjectURL(styleElement.href);
			};
		} else {
			styleElement = createStyleElement(options);
			update = applyToTag.bind(null, styleElement);
			remove = function() {
				removeStyleElement(styleElement);
			};
		}
	
		update(obj);
	
		return function updateStyle(newObj) {
			if(newObj) {
				if(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)
					return;
				update(obj = newObj);
			} else {
				remove();
			}
		};
	}
	
	var replaceText = (function () {
		var textStore = [];
	
		return function (index, replacement) {
			textStore[index] = replacement;
			return textStore.filter(Boolean).join('\n');
		};
	})();
	
	function applyToSingletonTag(styleElement, index, remove, obj) {
		var css = remove ? "" : obj.css;
	
		if (styleElement.styleSheet) {
			styleElement.styleSheet.cssText = replaceText(index, css);
		} else {
			var cssNode = document.createTextNode(css);
			var childNodes = styleElement.childNodes;
			if (childNodes[index]) styleElement.removeChild(childNodes[index]);
			if (childNodes.length) {
				styleElement.insertBefore(cssNode, childNodes[index]);
			} else {
				styleElement.appendChild(cssNode);
			}
		}
	}
	
	function applyToTag(styleElement, obj) {
		var css = obj.css;
		var media = obj.media;
	
		if(media) {
			styleElement.setAttribute("media", media)
		}
	
		if(styleElement.styleSheet) {
			styleElement.styleSheet.cssText = css;
		} else {
			while(styleElement.firstChild) {
				styleElement.removeChild(styleElement.firstChild);
			}
			styleElement.appendChild(document.createTextNode(css));
		}
	}
	
	function updateLink(linkElement, obj) {
		var css = obj.css;
		var sourceMap = obj.sourceMap;
	
		if(sourceMap) {
			// http://stackoverflow.com/a/26603875
			css += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";
		}
	
		var blob = new Blob([css], { type: "text/css" });
	
		var oldSrc = linkElement.href;
	
		linkElement.href = URL.createObjectURL(blob);
	
		if(oldSrc)
			URL.revokeObjectURL(oldSrc);
	}


/***/ },
/* 29 */
/***/ function(module, exports, __webpack_require__) {

	__webpack_require__(30)(__webpack_require__(31))

/***/ },
/* 30 */
/***/ function(module, exports) {

	/*
		MIT License http://www.opensource.org/licenses/mit-license.php
		Author Tobias Koppers @sokra
	*/
	module.exports = function(src) {
		if (typeof execScript !== "undefined")
			execScript(src);
		else
			eval.call(null, src);
	}


/***/ },
/* 31 */
/***/ function(module, exports) {

	module.exports = "/*!\n * jQuery JavaScript Library v3.1.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2016-09-22T22:30Z\n */\n( function( global, factory ) {\n\n\t\"use strict\";\n\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\n\t\t// For CommonJS and CommonJS-like environments where a proper `window`\n\t\t// is present, execute the factory and get jQuery.\n\t\t// For environments that do not have a `window` with a `document`\n\t\t// (such as Node.js), expose a factory as module.exports.\n\t\t// This accentuates the need for the creation of a real `window`.\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket #14549 for more info.\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n} )( typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1\n// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode\n// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common\n// enough that all such attempts are guarded in a try block.\n\"use strict\";\n\nvar arr = [];\n\nvar document = window.document;\n\nvar getProto = Object.getPrototypeOf;\n\nvar slice = arr.slice;\n\nvar concat = arr.concat;\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar fnToString = hasOwn.toString;\n\nvar ObjectFunctionString = fnToString.call( Object );\n\nvar support = {};\n\n\n\n\tfunction DOMEval( code, doc ) {\n\t\tdoc = doc || document;\n\n\t\tvar script = doc.createElement( \"script\" );\n\n\t\tscript.text = code;\n\t\tdoc.head.appendChild( script ).parentNode.removeChild( script );\n\t}\n/* global Symbol */\n// Defining this global in .eslintrc.json would create a danger of using the global\n// unguarded in another place, it seems safer to define global only for this module\n\n\n\nvar\n\tversion = \"3.1.1\",\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t},\n\n\t// Support: Android <=4.0 only\n\t// Make sure we trim BOM and NBSP\n\trtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\n\n\t// Matches dashed string for camelizing\n\trmsPrefix = /^-ms-/,\n\trdashAlpha = /-([a-z])/g,\n\n\t// Used by jQuery.camelCase as callback to replace()\n\tfcamelCase = function( all, letter ) {\n\t\treturn letter.toUpperCase();\n\t};\n\njQuery.fn = jQuery.prototype = {\n\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\n\t\t// Return all the elements in a clean array\n\t\tif ( num == null ) {\n\t\t\treturn slice.call( this );\n\t\t}\n\n\t\t// Return just the one element from the set\n\t\treturn num < 0 ? this[ num + this.length ] : this[ num ];\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\teach: function( callback ) {\n\t\treturn jQuery.each( this, callback );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map( this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t} ) );\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor();\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[ 0 ] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !jQuery.isFunction( target ) ) {\n\t\ttarget = {};\n\t}\n\n\t// Extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\n\t\t// Only deal with non-null/undefined values\n\t\tif ( ( options = arguments[ i ] ) != null ) {\n\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tsrc = target[ name ];\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n\t\t\t\t\t( copyIsArray = jQuery.isArray( copy ) ) ) ) {\n\n\t\t\t\t\tif ( copyIsArray ) {\n\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\tclone = src && jQuery.isArray( src ) ? src : [];\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src && jQuery.isPlainObject( src ) ? src : {};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend( {\n\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\tisFunction: function( obj ) {\n\t\treturn jQuery.type( obj ) === \"function\";\n\t},\n\n\tisArray: Array.isArray,\n\n\tisWindow: function( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t},\n\n\tisNumeric: function( obj ) {\n\n\t\t// As of jQuery 3.0, isNumeric is limited to\n\t\t// strings and numbers (primitives or objects)\n\t\t// that can be coerced to finite numbers (gh-2662)\n\t\tvar type = jQuery.type( obj );\n\t\treturn ( type === \"number\" || type === \"string\" ) &&\n\n\t\t\t// parseFloat NaNs numeric-cast false positives (\"\")\n\t\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t\t// subtraction forces infinities to NaN\n\t\t\t!isNaN( obj - parseFloat( obj ) );\n\t},\n\n\tisPlainObject: function( obj ) {\n\t\tvar proto, Ctor;\n\n\t\t// Detect obvious negatives\n\t\t// Use toString instead of jQuery.type to catch host objects\n\t\tif ( !obj || toString.call( obj ) !== \"[object Object]\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tproto = getProto( obj );\n\n\t\t// Objects with no prototype (e.g., `Object.create( null )`) are plain\n\t\tif ( !proto ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Objects with prototype are plain iff they were constructed by a global Object function\n\t\tCtor = hasOwn.call( proto, \"constructor\" ) && proto.constructor;\n\t\treturn typeof Ctor === \"function\" && fnToString.call( Ctor ) === ObjectFunctionString;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\n\t\t/* eslint-disable no-unused-vars */\n\t\t// See https://github.com/eslint/eslint/issues/6125\n\t\tvar name;\n\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\ttype: function( obj ) {\n\t\tif ( obj == null ) {\n\t\t\treturn obj + \"\";\n\t\t}\n\n\t\t// Support: Android <=2.3 only (functionish RegExp)\n\t\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\t\tclass2type[ toString.call( obj ) ] || \"object\" :\n\t\t\ttypeof obj;\n\t},\n\n\t// Evaluates a script in a global context\n\tglobalEval: function( code ) {\n\t\tDOMEval( code );\n\t},\n\n\t// Convert dashed to camelCase; used by the css and data modules\n\t// Support: IE <=9 - 11, Edge 12 - 13\n\t// Microsoft forgot to hump their vendor prefix (#9572)\n\tcamelCase: function( string ) {\n\t\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n\t},\n\n\tnodeName: function( elem, name ) {\n\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\t},\n\n\teach: function( obj, callback ) {\n\t\tvar length, i = 0;\n\n\t\tif ( isArrayLike( obj ) ) {\n\t\t\tlength = obj.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t// Support: Android <=4.0 only\n\ttrim: function( text ) {\n\t\treturn text == null ?\n\t\t\t\"\" :\n\t\t\t( text + \"\" ).replace( rtrim, \"\" );\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArrayLike( Object( arr ) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t// push.apply(_, arraylike) throws on ancient WebKit\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar length, value,\n\t\t\ti = 0,\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArrayLike( elems ) ) {\n\t\t\tlength = elems.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn concat.apply( [], ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// Bind a function to a context, optionally partially applying any\n\t// arguments.\n\tproxy: function( fn, context ) {\n\t\tvar tmp, args, proxy;\n\n\t\tif ( typeof context === \"string\" ) {\n\t\t\ttmp = fn[ context ];\n\t\t\tcontext = fn;\n\t\t\tfn = tmp;\n\t\t}\n\n\t\t// Quick check to determine if target is callable, in the spec\n\t\t// this throws a TypeError, but we will just return undefined.\n\t\tif ( !jQuery.isFunction( fn ) ) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// Simulated bind\n\t\targs = slice.call( arguments, 2 );\n\t\tproxy = function() {\n\t\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t\t};\n\n\t\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\t\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\t\treturn proxy;\n\t},\n\n\tnow: Date.now,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n} );\n\nif ( typeof Symbol === \"function\" ) {\n\tjQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];\n}\n\n// Populate the class2type map\njQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\nfunction( i, name ) {\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n} );\n\nfunction isArrayLike( obj ) {\n\n\t// Support: real iOS 8.2 only (not reproducible in simulator)\n\t// `in` check used to prevent JIT error (gh-2145)\n\t// hasOwn isn't used here due to false negatives\n\t// regarding Nodelist length in IE\n\tvar length = !!obj && \"length\" in obj && obj.length,\n\t\ttype = jQuery.type( obj );\n\n\tif ( type === \"function\" || jQuery.isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\nvar Sizzle =\n/*!\n * Sizzle CSS Selector Engine v2.3.3\n * https://sizzlejs.com/\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license\n * http://jquery.org/license\n *\n * Date: 2016-08-08\n */\n(function( window ) {\n\nvar i,\n\tsupport,\n\tExpr,\n\tgetText,\n\tisXML,\n\ttokenize,\n\tcompile,\n\tselect,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\n\t// Local document vars\n\tsetDocument,\n\tdocument,\n\tdocElem,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\trbuggyMatches,\n\tmatches,\n\tcontains,\n\n\t// Instance-specific data\n\texpando = \"sizzle\" + 1 * new Date(),\n\tpreferredDoc = window.document,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\t// Instance methods\n\thasOwn = ({}).hasOwnProperty,\n\tarr = [],\n\tpop = arr.pop,\n\tpush_native = arr.push,\n\tpush = arr.push,\n\tslice = arr.slice,\n\t// Use a stripped-down indexOf as it's faster than native\n\t// https://jsperf.com/thor-indexof-vs-for/5\n\tindexOf = function( list, elem ) {\n\t\tvar i = 0,\n\t\t\tlen = list.length;\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( list[i] === elem ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// http://www.w3.org/TR/css3-selectors/#whitespace\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\n\t// http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\n\tidentifier = \"(?:\\\\\\\\.|[\\\\w-]|[^\\0-\\\\xa0])+\",\n\n\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\t\t// \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" + whitespace +\n\t\t\"*\\\\]\",\n\n\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace + \"*\" ),\n\n\trattributeQuotes = new RegExp( \"=\" + whitespace + \"*([^\\\\]'\\\"]*?)\" + whitespace + \"*\\\\]\", \"g\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\t\"ID\": new RegExp( \"^#(\" + identifier + \")\" ),\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + identifier + \")\" ),\n\t\t\"TAG\": new RegExp( \"^(\" + identifier + \"|[*])\" ),\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" + whitespace +\n\t\t\t\"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" + whitespace +\n\t\t\t\"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace + \"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" +\n\t\t\twhitespace + \"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\trnative = /^[^{]+\\{\\s*\\[native \\w/,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\n\t// CSS escapes\n\t// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\([\\\\da-f]{1,6}\" + whitespace + \"?|(\" + whitespace + \")|.)\", \"ig\" ),\n\tfunescape = function( _, escaped, escapedWhitespace ) {\n\t\tvar high = \"0x\" + escaped - 0x10000;\n\t\t// NaN means non-codepoint\n\t\t// Support: Firefox<24\n\t\t// Workaround erroneous numeric interpretation of +\"0x\"\n\t\treturn high !== high || escapedWhitespace ?\n\t\t\tescaped :\n\t\t\thigh < 0 ?\n\t\t\t\t// BMP codepoint\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t\t// Supplemental Plane codepoint (surrogate pair)\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// CSS string/identifier serialization\n\t// https://drafts.csswg.org/cssom/#common-serializing-idioms\n\trcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,\n\tfcssescape = function( ch, asCodePoint ) {\n\t\tif ( asCodePoint ) {\n\n\t\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\t\tif ( ch === \"\\0\" ) {\n\t\t\t\treturn \"\\uFFFD\";\n\t\t\t}\n\n\t\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\t\treturn ch.slice( 0, -1 ) + \"\\\\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t\t}\n\n\t\t// Other potentially-special ASCII characters get backslash-escaped\n\t\treturn \"\\\\\" + ch;\n\t},\n\n\t// Used for iframes\n\t// See setDocument()\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t},\n\n\tdisabledAncestor = addCombinator(\n\t\tfunction( elem ) {\n\t\t\treturn elem.disabled === true && (\"form\" in elem || \"label\" in elem);\n\t\t},\n\t\t{ dir: \"parentNode\", next: \"legend\" }\n\t);\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t(arr = slice.call( preferredDoc.childNodes )),\n\t\tpreferredDoc.childNodes\n\t);\n\t// Support: Android<4.0\n\t// Detect silently failing push.apply\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = { apply: arr.length ?\n\n\t\t// Leverage slice if possible\n\t\tfunction( target, els ) {\n\t\t\tpush_native.apply( target, slice.call(els) );\n\t\t} :\n\n\t\t// Support: IE<9\n\t\t// Otherwise append directly\n\t\tfunction( target, els ) {\n\t\t\tvar j = target.length,\n\t\t\t\ti = 0;\n\t\t\t// Can't trust NodeList.length\n\t\t\twhile ( (target[j++] = els[i++]) ) {}\n\t\t\ttarget.length = j - 1;\n\t\t}\n\t};\n}\n\nfunction Sizzle( selector, context, results, seed ) {\n\tvar m, i, elem, nid, match, groups, newSelector,\n\t\tnewContext = context && context.ownerDocument,\n\n\t\t// nodeType defaults to 9, since context defaults to document\n\t\tnodeType = context ? context.nodeType : 9;\n\n\tresults = results || [];\n\n\t// Return early from calls with invalid selector or context\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\t// Try to shortcut find operations (as opposed to filters) in HTML documents\n\tif ( !seed ) {\n\n\t\tif ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {\n\t\t\tsetDocument( context );\n\t\t}\n\t\tcontext = context || document;\n\n\t\tif ( documentIsHTML ) {\n\n\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\n\t\t\tif ( nodeType !== 11 && (match = rquickExpr.exec( selector )) ) {\n\n\t\t\t\t// ID selector\n\t\t\t\tif ( (m = match[1]) ) {\n\n\t\t\t\t\t// Document context\n\t\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\t\tif ( (elem = context.getElementById( m )) ) {\n\n\t\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// Element context\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\tif ( newContext && (elem = newContext.getElementById( m )) &&\n\t\t\t\t\t\t\tcontains( context, elem ) &&\n\t\t\t\t\t\t\telem.id === m ) {\n\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t// Type selector\n\t\t\t\t} else if ( match[2] ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\t\treturn results;\n\n\t\t\t\t// Class selector\n\t\t\t\t} else if ( (m = match[3]) && support.getElementsByClassName &&\n\t\t\t\t\tcontext.getElementsByClassName ) {\n\n\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take advantage of querySelectorAll\n\t\t\tif ( support.qsa &&\n\t\t\t\t!compilerCache[ selector + \" \" ] &&\n\t\t\t\t(!rbuggyQSA || !rbuggyQSA.test( selector )) ) {\n\n\t\t\t\tif ( nodeType !== 1 ) {\n\t\t\t\t\tnewContext = context;\n\t\t\t\t\tnewSelector = selector;\n\n\t\t\t\t// qSA looks outside Element context, which is not what we want\n\t\t\t\t// Thanks to Andrew Dupont for this workaround technique\n\t\t\t\t// Support: IE <=8\n\t\t\t\t// Exclude object elements\n\t\t\t\t} else if ( context.nodeName.toLowerCase() !== \"object\" ) {\n\n\t\t\t\t\t// Capture the context ID, setting it first if necessary\n\t\t\t\t\tif ( (nid = context.getAttribute( \"id\" )) ) {\n\t\t\t\t\t\tnid = nid.replace( rcssescape, fcssescape );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontext.setAttribute( \"id\", (nid = expando) );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prefix every selector in the list\n\t\t\t\t\tgroups = tokenize( selector );\n\t\t\t\t\ti = groups.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tgroups[i] = \"#\" + nid + \" \" + toSelector( groups[i] );\n\t\t\t\t\t}\n\t\t\t\t\tnewSelector = groups.join( \",\" );\n\n\t\t\t\t\t// Expand context for sibling selectors\n\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext;\n\t\t\t\t}\n\n\t\t\t\tif ( newSelector ) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t} catch ( qsaError ) {\n\t\t\t\t\t} finally {\n\t\t\t\t\t\tif ( nid === expando ) {\n\t\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn (cache[ key + \" \" ] = value);\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created element and returns a boolean result\n */\nfunction assert( fn ) {\n\tvar el = document.createElement(\"fieldset\");\n\n\ttry {\n\t\treturn !!fn( el );\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\t// Remove from its parent by default\n\t\tif ( el.parentNode ) {\n\t\t\tel.parentNode.removeChild( el );\n\t\t}\n\t\t// release memory in IE\n\t\tel = null;\n\t}\n}\n\n/**\n * Adds the same handler for all of the specified attrs\n * @param {String} attrs Pipe-separated list of attributes\n * @param {Function} handler The method that will be applied\n */\nfunction addHandle( attrs, handler ) {\n\tvar arr = attrs.split(\"|\"),\n\t\ti = arr.length;\n\n\twhile ( i-- ) {\n\t\tExpr.attrHandle[ arr[i] ] = handler;\n\t}\n}\n\n/**\n * Checks document order of two siblings\n * @param {Element} a\n * @param {Element} b\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */\nfunction siblingCheck( a, b ) {\n\tvar cur = b && a,\n\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\n\t\t\ta.sourceIndex - b.sourceIndex;\n\n\t// Use IE sourceIndex if available on both nodes\n\tif ( diff ) {\n\t\treturn diff;\n\t}\n\n\t// Check if b follows a\n\tif ( cur ) {\n\t\twhile ( (cur = cur.nextSibling) ) {\n\t\t\tif ( cur === b ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a ? 1 : -1;\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn name === \"input\" && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn (name === \"input\" || name === \"button\") && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param {Boolean} disabled true for :disabled; false for :enabled\n */\nfunction createDisabledPseudo( disabled ) {\n\n\t// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\n\treturn function( elem ) {\n\n\t\t// Only certain elements can match :enabled or :disabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled\n\t\tif ( \"form\" in elem ) {\n\n\t\t\t// Check for inherited disabledness on relevant non-disabled elements:\n\t\t\t// * listed form-associated elements in a disabled fieldset\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#category-listed\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled\n\t\t\t// * option elements in a disabled optgroup\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled\n\t\t\t// All such elements have a \"form\" property.\n\t\t\tif ( elem.parentNode && elem.disabled === false ) {\n\n\t\t\t\t// Option elements defer to a parent optgroup if present\n\t\t\t\tif ( \"label\" in elem ) {\n\t\t\t\t\tif ( \"label\" in elem.parentNode ) {\n\t\t\t\t\t\treturn elem.parentNode.disabled === disabled;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn elem.disabled === disabled;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Support: IE 6 - 11\n\t\t\t\t// Use the isDisabled shortcut property to check for disabled fieldset ancestors\n\t\t\t\treturn elem.isDisabled === disabled ||\n\n\t\t\t\t\t// Where there is no isDisabled, check manually\n\t\t\t\t\t/* jshint -W018 */\n\t\t\t\t\telem.isDisabled !== !disabled &&\n\t\t\t\t\t\tdisabledAncestor( elem ) === disabled;\n\t\t\t}\n\n\t\t\treturn elem.disabled === disabled;\n\n\t\t// Try to winnow out elements that can't be disabled before trusting the disabled property.\n\t\t// Some victims get caught in our net (label, legend, menu, track), but it shouldn't\n\t\t// even exist on them, let alone have a boolean value.\n\t\t} else if ( \"label\" in elem ) {\n\t\t\treturn elem.disabled === disabled;\n\t\t}\n\n\t\t// Remaining elements are neither :enabled nor :disabled\n\t\treturn false;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction(function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction(function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ (j = matchIndexes[i]) ] ) {\n\t\t\t\t\tseed[j] = !(matches[j] = seed[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Checks a node for validity as a Sizzle context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n// Expose support vars for convenience\nsupport = Sizzle.support = {};\n\n/**\n * Detects XML nodes\n * @param {Element|Object} elem An element or a document\n * @returns {Boolean} True iff elem is a non-HTML XML node\n */\nisXML = Sizzle.isXML = function( elem ) {\n\t// documentElement is verified for cases where it doesn't yet exist\n\t// (such as loading iframes in IE - #4833)\n\tvar documentElement = elem && (elem.ownerDocument || elem).documentElement;\n\treturn documentElement ? documentElement.nodeName !== \"HTML\" : false;\n};\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nsetDocument = Sizzle.setDocument = function( node ) {\n\tvar hasCompare, subWindow,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// Return early if doc is invalid or already selected\n\tif ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Update global variables\n\tdocument = doc;\n\tdocElem = document.documentElement;\n\tdocumentIsHTML = !isXML( document );\n\n\t// Support: IE 9-11, Edge\n\t// Accessing iframe documents after unload throws \"permission denied\" errors (jQuery #13936)\n\tif ( preferredDoc !== document &&\n\t\t(subWindow = document.defaultView) && subWindow.top !== subWindow ) {\n\n\t\t// Support: IE 11, Edge\n\t\tif ( subWindow.addEventListener ) {\n\t\t\tsubWindow.addEventListener( \"unload\", unloadHandler, false );\n\n\t\t// Support: IE 9 - 10 only\n\t\t} else if ( subWindow.attachEvent ) {\n\t\t\tsubWindow.attachEvent( \"onunload\", unloadHandler );\n\t\t}\n\t}\n\n\t/* Attributes\n\t---------------------------------------------------------------------- */\n\n\t// Support: IE<8\n\t// Verify that getAttribute really returns attributes and not properties\n\t// (excepting IE8 booleans)\n\tsupport.attributes = assert(function( el ) {\n\t\tel.className = \"i\";\n\t\treturn !el.getAttribute(\"className\");\n\t});\n\n\t/* getElement(s)By*\n\t---------------------------------------------------------------------- */\n\n\t// Check if getElementsByTagName(\"*\") returns only elements\n\tsupport.getElementsByTagName = assert(function( el ) {\n\t\tel.appendChild( document.createComment(\"\") );\n\t\treturn !el.getElementsByTagName(\"*\").length;\n\t});\n\n\t// Support: IE<9\n\tsupport.getElementsByClassName = rnative.test( document.getElementsByClassName );\n\n\t// Support: IE<10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programmatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert(function( el ) {\n\t\tdocElem.appendChild( el ).id = expando;\n\t\treturn !document.getElementsByName || !document.getElementsByName( expando ).length;\n\t});\n\n\t// ID filter and find\n\tif ( support.getById ) {\n\t\tExpr.filter[\"ID\"] = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute(\"id\") === attrId;\n\t\t\t};\n\t\t};\n\t\tExpr.find[\"ID\"] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar elem = context.getElementById( id );\n\t\t\t\treturn elem ? [ elem ] : [];\n\t\t\t}\n\t\t};\n\t} else {\n\t\tExpr.filter[\"ID\"] =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\n\t\t\t\t\telem.getAttributeNode(\"id\");\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\n\t\t// Support: IE 6 - 7 only\n\t\t// getElementById is not reliable as a find shortcut\n\t\tExpr.find[\"ID\"] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar node, i, elems,\n\t\t\t\t\telem = context.getElementById( id );\n\n\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t// Verify the id attribute\n\t\t\t\t\tnode = elem.getAttributeNode(\"id\");\n\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fall back on getElementsByName\n\t\t\t\t\telems = context.getElementsByName( id );\n\t\t\t\t\ti = 0;\n\t\t\t\t\twhile ( (elem = elems[i++]) ) {\n\t\t\t\t\t\tnode = elem.getAttributeNode(\"id\");\n\t\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t}\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find[\"TAG\"] = support.getElementsByTagName ?\n\t\tfunction( tag, context ) {\n\t\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t\t// DocumentFragment nodes don't have gEBTN\n\t\t\t} else if ( support.qsa ) {\n\t\t\t\treturn context.querySelectorAll( tag );\n\t\t\t}\n\t\t} :\n\n\t\tfunction( tag, context ) {\n\t\t\tvar elem,\n\t\t\t\ttmp = [],\n\t\t\t\ti = 0,\n\t\t\t\t// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too\n\t\t\t\tresults = context.getElementsByTagName( tag );\n\n\t\t\t// Filter out possible comments\n\t\t\tif ( tag === \"*\" ) {\n\t\t\t\twhile ( (elem = results[i++]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\ttmp.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t// Class\n\tExpr.find[\"CLASS\"] = support.getElementsByClassName && function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n\trbuggyMatches = [];\n\n\t// qSa(:focus) reports false when true (Chrome 21)\n\t// We allow this because of a bug in IE8/9 that throws an error\n\t// whenever `document.activeElement` is accessed on an iframe\n\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\n\t// See https://bugs.jquery.com/ticket/13378\n\trbuggyQSA = [];\n\n\tif ( (support.qsa = rnative.test( document.querySelectorAll )) ) {\n\t\t// Build QSA regex\n\t\t// Regex strategy adopted from Diego Perini\n\t\tassert(function( el ) {\n\t\t\t// Select is set to empty string on purpose\n\t\t\t// This is to test IE's treatment of not explicitly\n\t\t\t// setting a boolean content attribute,\n\t\t\t// since its presence should be enough\n\t\t\t// https://bugs.jquery.com/ticket/12359\n\t\t\tdocElem.appendChild( el ).innerHTML = \"<a id='\" + expando + \"'></a>\" +\n\t\t\t\t\"<select id='\" + expando + \"-\\r\\\\' msallowcapture=''>\" +\n\t\t\t\t\"<option selected=''></option></select>\";\n\n\t\t\t// Support: IE8, Opera 11-12.16\n\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\n\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\n\t\t\t// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n\t\t\tif ( el.querySelectorAll(\"[msallowcapture^='']\").length ) {\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Support: IE8\n\t\t\t// Boolean attributes and \"value\" are not treated correctly\n\t\t\tif ( !el.querySelectorAll(\"[selected]\").length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t\t}\n\n\t\t\t// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+\n\t\t\tif ( !el.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\t\trbuggyQSA.push(\"~=\");\n\t\t\t}\n\n\t\t\t// Webkit/Opera - :checked should return selected option elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !el.querySelectorAll(\":checked\").length ) {\n\t\t\t\trbuggyQSA.push(\":checked\");\n\t\t\t}\n\n\t\t\t// Support: Safari 8+, iOS 8+\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t\t// In-page `selector#id sibling-combinator selector` fails\n\t\t\tif ( !el.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\t\trbuggyQSA.push(\".#.+[+~]\");\n\t\t\t}\n\t\t});\n\n\t\tassert(function( el ) {\n\t\t\tel.innerHTML = \"<a href='' disabled='disabled'></a>\" +\n\t\t\t\t\"<select disabled='disabled'><option/></select>\";\n\n\t\t\t// Support: Windows 8 Native Apps\n\t\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\t\tvar input = document.createElement(\"input\");\n\t\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\t\tel.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t\t// Support: IE8\n\t\t\t// Enforce case-sensitivity of name attribute\n\t\t\tif ( el.querySelectorAll(\"[name=d]\").length ) {\n\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\n\t\t\t}\n\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( el.querySelectorAll(\":enabled\").length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: IE9-11+\n\t\t\t// IE's :disabled selector does not pick up the children of disabled fieldsets\n\t\t\tdocElem.appendChild( el ).disabled = true;\n\t\t\tif ( el.querySelectorAll(\":disabled\").length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\n\t\t\tel.querySelectorAll(\"*,:x\");\n\t\t\trbuggyQSA.push(\",.*:\");\n\t\t});\n\t}\n\n\tif ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||\n\t\tdocElem.webkitMatchesSelector ||\n\t\tdocElem.mozMatchesSelector ||\n\t\tdocElem.oMatchesSelector ||\n\t\tdocElem.msMatchesSelector) )) ) {\n\n\t\tassert(function( el ) {\n\t\t\t// Check to see if it's possible to do matchesSelector\n\t\t\t// on a disconnected node (IE 9)\n\t\t\tsupport.disconnectedMatch = matches.call( el, \"*\" );\n\n\t\t\t// This should fail with an exception\n\t\t\t// Gecko does not error, returns false instead\n\t\t\tmatches.call( el, \"[s!='']:x\" );\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\n\t\t});\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join(\"|\") );\n\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join(\"|\") );\n\n\t/* Contains\n\t---------------------------------------------------------------------- */\n\thasCompare = rnative.test( docElem.compareDocumentPosition );\n\n\t// Element contains another\n\t// Purposefully self-exclusive\n\t// As in, an element does not contain itself\n\tcontains = hasCompare || rnative.test( docElem.contains ) ?\n\t\tfunction( a, b ) {\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\t\tbup = b && b.parentNode;\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\t\t\t\tadown.contains ?\n\t\t\t\t\tadown.contains( bup ) :\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t\t\t));\n\t\t} :\n\t\tfunction( a, b ) {\n\t\t\tif ( b ) {\n\t\t\t\twhile ( (b = b.parentNode) ) {\n\t\t\t\t\tif ( b === a ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = hasCompare ?\n\tfunction( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\tcompare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\tif ( a === document || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif ( b === document || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t} :\n\tfunction( a, b ) {\n\t\t// Exit early if the nodes are identical\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\taup = a.parentNode,\n\t\t\tbup = b.parentNode,\n\t\t\tap = [ a ],\n\t\t\tbp = [ b ];\n\n\t\t// Parentless nodes are either documents or disconnected\n\t\tif ( !aup || !bup ) {\n\t\t\treturn a === document ? -1 :\n\t\t\t\tb === document ? 1 :\n\t\t\t\taup ? -1 :\n\t\t\t\tbup ? 1 :\n\t\t\t\tsortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\n\t\t// If the nodes are siblings, we can do a quick check\n\t\t} else if ( aup === bup ) {\n\t\t\treturn siblingCheck( a, b );\n\t\t}\n\n\t\t// Otherwise we need full lists of their ancestors for comparison\n\t\tcur = a;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tap.unshift( cur );\n\t\t}\n\t\tcur = b;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tbp.unshift( cur );\n\t\t}\n\n\t\t// Walk down the tree looking for a discrepancy\n\t\twhile ( ap[i] === bp[i] ) {\n\t\t\ti++;\n\t\t}\n\n\t\treturn i ?\n\t\t\t// Do a sibling check if the nodes have a common ancestor\n\t\t\tsiblingCheck( ap[i], bp[i] ) :\n\n\t\t\t// Otherwise nodes in our document sort first\n\t\t\tap[i] === preferredDoc ? -1 :\n\t\t\tbp[i] === preferredDoc ? 1 :\n\t\t\t0;\n\t};\n\n\treturn document;\n};\n\nSizzle.matches = function( expr, elements ) {\n\treturn Sizzle( expr, null, null, elements );\n};\n\nSizzle.matchesSelector = function( elem, expr ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\t// Make sure that attribute selectors are quoted\n\texpr = expr.replace( rattributeQuotes, \"='$1']\" );\n\n\tif ( support.matchesSelector && documentIsHTML &&\n\t\t!compilerCache[ expr + \" \" ] &&\n\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\n\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\t\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t\t// fragment in IE 9\n\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch (e) {}\n\t}\n\n\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\n};\n\nSizzle.contains = function( context, elem ) {\n\t// Set document vars if needed\n\tif ( ( context.ownerDocument || context ) !== document ) {\n\t\tsetDocument( context );\n\t}\n\treturn contains( context, elem );\n};\n\nSizzle.attr = function( elem, name ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\treturn val !== undefined ?\n\t\tval :\n\t\tsupport.attributes || !documentIsHTML ?\n\t\t\telem.getAttribute( name ) :\n\t\t\t(val = elem.getAttributeNode(name)) && val.specified ?\n\t\t\t\tval.value :\n\t\t\t\tnull;\n};\n\nSizzle.escape = function( sel ) {\n\treturn (sel + \"\").replace( rcssescape, fcssescape );\n};\n\nSizzle.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\nSizzle.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\thasDuplicate = !support.detectDuplicates;\n\tsortInput = !support.sortStable && results.slice( 0 );\n\tresults.sort( sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( (elem = results[i++]) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tresults.splice( duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\n/**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */\ngetText = Sizzle.getText = function( elem ) {\n\tvar node,\n\t\tret = \"\",\n\t\ti = 0,\n\t\tnodeType = elem.nodeType;\n\n\tif ( !nodeType ) {\n\t\t// If no nodeType, this is expected to be an array\n\t\twhile ( (node = elem[i++]) ) {\n\t\t\t// Do not traverse comment nodes\n\t\t\tret += getText( node );\n\t\t}\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\n\t\t// Use textContent for elements\n\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\n\t\tif ( typeof elem.textContent === \"string\" ) {\n\t\t\treturn elem.textContent;\n\t\t} else {\n\t\t\t// Traverse its children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tret += getText( elem );\n\t\t\t}\n\t\t}\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\n\t\treturn elem.nodeValue;\n\t}\n\t// Do not include comment or processing instruction nodes\n\n\treturn ret;\n};\n\nExpr = Sizzle.selectors = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\t\"ATTR\": function( match ) {\n\t\t\tmatch[1] = match[1].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[3] = ( match[3] || match[4] || match[5] || \"\" ).replace( runescape, funescape );\n\n\t\t\tif ( match[2] === \"~=\" ) {\n\t\t\t\tmatch[3] = \" \" + match[3] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\t\"CHILD\": function( match ) {\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[1] = match[1].toLowerCase();\n\n\t\t\tif ( match[1].slice( 0, 3 ) === \"nth\" ) {\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[3] ) {\n\t\t\t\t\tSizzle.error( match[0] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === \"even\" || match[3] === \"odd\" ) );\n\t\t\t\tmatch[5] = +( ( match[7] + match[8] ) || match[3] === \"odd\" );\n\n\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[3] ) {\n\t\t\t\tSizzle.error( match[0] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\t\"PSEUDO\": function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[6] && match[2];\n\n\t\t\tif ( matchExpr[\"CHILD\"].test( match[0] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[3] ) {\n\t\t\t\tmatch[2] = match[4] || match[5] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t(excess = tokenize( unquoted, true )) &&\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t(excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[0] = match[0].slice( 0, excess );\n\t\t\t\tmatch[2] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\t\"TAG\": function( nodeNameSelector ) {\n\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() { return true; } :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n\t\t\t\t};\n\t\t},\n\n\t\t\"CLASS\": function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t(pattern = new RegExp( \"(^|\" + whitespace + \")\" + className + \"(\" + whitespace + \"|$)\" )) &&\n\t\t\t\tclassCache( className, function( elem ) {\n\t\t\t\t\treturn pattern.test( typeof elem.className === \"string\" && elem.className || typeof elem.getAttribute !== \"undefined\" && elem.getAttribute(\"class\") || \"\" );\n\t\t\t\t});\n\t\t},\n\n\t\t\"ATTR\": function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = Sizzle.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\treturn operator === \"=\" ? result === check :\n\t\t\t\t\toperator === \"!=\" ? result !== check :\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" ).indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\n\t\t\t\t\tfalse;\n\t\t\t};\n\t\t},\n\n\t\t\"CHILD\": function( type, what, argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tvar cache, uniqueCache, outerCache, node, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType,\n\t\t\t\t\t\tdiff = false;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( (node = node[ dir ]) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\n\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\tnode = parent;\n\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\t\tdiff = nodeIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// xml :nth-child(...)\n\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\tif ( diff === false ) {\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t\tif ( ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\n\t\t\t\t\t\t\t\t\t\t++diff ) {\n\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\t\"PSEUDO\": function( pseudo, argument ) {\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as Sizzle does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction(function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf( seed, matched[i] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[i] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\t\t// Potentially complex pseudos\n\t\t\"not\": markFunction(function( selector ) {\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction(function( seed, matches, context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = unmatched[i]) ) {\n\t\t\t\t\t\t\tseed[i] = !(matches[i] = elem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}) :\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tinput[0] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\t\t\t\t\t// Don't keep the element (issue #299)\n\t\t\t\t\tinput[0] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t}),\n\n\t\t\"has\": markFunction(function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\n\t\t\t};\n\t\t}),\n\n\t\t\"contains\": markFunction(function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t}),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\n\t\t\"lang\": markFunction( function( lang ) {\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test(lang || \"\") ) {\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( (elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute(\"xml:lang\") || elem.getAttribute(\"lang\")) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( (elem = elem.parentNode) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t}),\n\n\t\t// Miscellaneous\n\t\t\"target\": function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\t\"root\": function( elem ) {\n\t\t\treturn elem === docElem;\n\t\t},\n\n\t\t\"focus\": function( elem ) {\n\t\t\treturn elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n\t\t},\n\n\t\t// Boolean properties\n\t\t\"enabled\": createDisabledPseudo( false ),\n\t\t\"disabled\": createDisabledPseudo( true ),\n\n\t\t\"checked\": function( elem ) {\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t\t\treturn (nodeName === \"input\" && !!elem.checked) || (nodeName === \"option\" && !!elem.selected);\n\t\t},\n\n\t\t\"selected\": function( elem ) {\n\t\t\t// Accessing this property makes selected-by-default\n\t\t\t// options in Safari work properly\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\t\"empty\": function( elem ) {\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t\"parent\": function( elem ) {\n\t\t\treturn !Expr.pseudos[\"empty\"]( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\t\"header\": function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\t\"input\": function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\t\"button\": function( elem ) {\n\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\n\t\t},\n\n\t\t\"text\": function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\n\t\t\t\telem.type === \"text\" &&\n\n\t\t\t\t// Support: IE<8\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n\t\t\t\t( (attr = elem.getAttribute(\"type\")) == null || attr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\t\"first\": createPositionalPseudo(function() {\n\t\t\treturn [ 0 ];\n\t\t}),\n\n\t\t\"last\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t}),\n\n\t\t\"eq\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t}),\n\n\t\t\"even\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"odd\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"lt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"gt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t})\n\t}\n};\n\nExpr.pseudos[\"nth\"] = Expr.pseudos[\"eq\"];\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || (match = rcomma.exec( soFar )) ) {\n\t\t\tif ( match ) {\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[0].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( (tokens = []) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( (match = rcombinators.exec( soFar )) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push({\n\t\t\t\tvalue: matched,\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[0].replace( rtrim, \" \" )\n\t\t\t});\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||\n\t\t\t\t(match = preFilters[ type ]( match ))) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push({\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t});\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\treturn parseOnly ?\n\t\tsoFar.length :\n\t\tsoFar ?\n\t\t\tSizzle.error( selector ) :\n\t\t\t// Cache the tokens\n\t\t\ttokenCache( selector, groups ).slice( 0 );\n};\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[i].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tskip = combinator.next,\n\t\tkey = skip || dir,\n\t\tcheckNonElements = base && key === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, uniqueCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || (elem[ expando ] = {});\n\n\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\tuniqueCache = outerCache[ elem.uniqueID ] || (outerCache[ elem.uniqueID ] = {});\n\n\t\t\t\t\t\tif ( skip && skip === elem.nodeName.toLowerCase() ) {\n\t\t\t\t\t\t\telem = elem[ dir ] || elem;\n\t\t\t\t\t\t} else if ( (oldCache = uniqueCache[ key ]) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn (newCache[ 2 ] = oldCache[ 2 ]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\tuniqueCache[ key ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[i]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[0];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tSizzle( selector, contexts[i], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (elem = unmatched[i]) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction(function( seed, results, context, xml ) {\n\t\tvar temp, i, elem,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed || multipleContexts( selector || \"*\", context.nodeType ? [ context ] : context, [] ),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems,\n\n\t\t\tmatcherOut = matcher ?\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t\t[] :\n\n\t\t\t\t\t// ...otherwise use results directly\n\t\t\t\t\tresults :\n\t\t\t\tmatcherIn;\n\n\t\t// Find primary matches\n\t\tif ( matcher ) {\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( (elem = temp[i]) ) {\n\t\t\t\t\tmatcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = matcherOut[i]) ) {\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( (matcherIn[i] = elem) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, (matcherOut = []), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( (elem = matcherOut[i]) &&\n\t\t\t\t\t\t(temp = postFinder ? indexOf( seed, elem ) : preMap[i]) > -1 ) {\n\n\t\t\t\t\t\tseed[temp] = !(results[temp] = elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[0].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[\" \"],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\t\t\tvar ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\n\t\t\t\t(checkContext = context).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\t\t\t// Avoid hanging onto element (issue #299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (matcher = Expr.relative[ tokens[i].type ]) ) {\n\t\t\tmatchers = [ addCombinator(elementMatcher( matchers ), matcher) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[j].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\t\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\t\ttokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" })\n\t\t\t\t\t).replace( rtrim, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( (tokens = tokens.slice( j )) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find[\"TAG\"]( \"*\", outermost ),\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\t\t\t\toutermostContext = context === document || context || outermost;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Support: IE<9, Safari\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n\t\t\tfor ( ; i !== len && (elem = elems[i]) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\tif ( !context && elem.ownerDocument !== document ) {\n\t\t\t\t\t\tsetDocument( elem );\n\t\t\t\t\t\txml = !documentIsHTML;\n\t\t\t\t\t}\n\t\t\t\t\twhile ( (matcher = elementMatchers[j++]) ) {\n\t\t\t\t\t\tif ( matcher( elem, context || document, xml) ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( (elem = !matcher && elem) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\n\t\t\t// makes the latter nonnegative.\n\t\t\tmatchedCount += i;\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n\t\t\t// no element matchers and no seed.\n\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n\t\t\t// numerically zero.\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( (matcher = setMatchers[j++]) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !(unmatched[i] || setMatched[i]) ) {\n\t\t\t\t\t\t\t\tsetMatched[i] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tSizzle.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[i] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n};\n\n/**\n * A low-level selection function that works with Sizzle's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nselect = Sizzle.select = function( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( (selector = compiled.selector || selector) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is only one selector in the list and no seed\n\t// (the latter of which guarantees us context)\n\tif ( match.length === 1 ) {\n\n\t\t// Reduce context if the leading compound selector is an ID\n\t\ttokens = match[0] = match[0].slice( 0 );\n\t\tif ( tokens.length > 2 && (token = tokens[0]).type === \"ID\" &&\n\t\t\t\tcontext.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[1].type ] ) {\n\n\t\t\tcontext = ( Expr.find[\"ID\"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr[\"needsContext\"].test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[i];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ (type = token.type) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( (find = Expr.find[ type ]) ) {\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( (seed = find(\n\t\t\t\t\ttoken.matches[0].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context\n\t\t\t\t)) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n};\n\n// One-time assignments\n\n// Sort stability\nsupport.sortStable = expando.split(\"\").sort( sortOrder ).join(\"\") === expando;\n\n// Support: Chrome 14-35+\n// Always assume duplicates if they aren't passed to the comparison function\nsupport.detectDuplicates = !!hasDuplicate;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert(function( el ) {\n\t// Should return 1, but returns 4 (following)\n\treturn el.compareDocumentPosition( document.createElement(\"fieldset\") ) & 1;\n});\n\n// Support: IE<8\n// Prevent attribute/property \"interpolation\"\n// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif ( !assert(function( el ) {\n\tel.innerHTML = \"<a href='#'></a>\";\n\treturn el.firstChild.getAttribute(\"href\") === \"#\" ;\n}) ) {\n\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\n\t\tif ( !isXML ) {\n\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use defaultValue in place of getAttribute(\"value\")\nif ( !support.attributes || !assert(function( el ) {\n\tel.innerHTML = \"<input/>\";\n\tel.firstChild.setAttribute( \"value\", \"\" );\n\treturn el.firstChild.getAttribute( \"value\" ) === \"\";\n}) ) {\n\taddHandle( \"value\", function( elem, name, isXML ) {\n\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\n\t\t\treturn elem.defaultValue;\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use getAttributeNode to fetch booleans when getAttribute lies\nif ( !assert(function( el ) {\n\treturn el.getAttribute(\"disabled\") == null;\n}) ) {\n\taddHandle( booleans, function( elem, name, isXML ) {\n\t\tvar val;\n\t\tif ( !isXML ) {\n\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\n\t\t\t\t\t(val = elem.getAttributeNode( name )) && val.specified ?\n\t\t\t\t\tval.value :\n\t\t\t\tnull;\n\t\t}\n\t});\n}\n\nreturn Sizzle;\n\n})( window );\n\n\n\njQuery.find = Sizzle;\njQuery.expr = Sizzle.selectors;\n\n// Deprecated\njQuery.expr[ \":\" ] = jQuery.expr.pseudos;\njQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;\njQuery.text = Sizzle.getText;\njQuery.isXMLDoc = Sizzle.isXML;\njQuery.contains = Sizzle.contains;\njQuery.escapeSelector = Sizzle.escape;\n\n\n\n\nvar dir = function( elem, dir, until ) {\n\tvar matched = [],\n\t\ttruncate = until !== undefined;\n\n\twhile ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {\n\t\tif ( elem.nodeType === 1 ) {\n\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatched.push( elem );\n\t\t}\n\t}\n\treturn matched;\n};\n\n\nvar siblings = function( n, elem ) {\n\tvar matched = [];\n\n\tfor ( ; n; n = n.nextSibling ) {\n\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\tmatched.push( n );\n\t\t}\n\t}\n\n\treturn matched;\n};\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\nvar rsingleTag = ( /^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i );\n\n\n\nvar risSimple = /^.[^:#\\[\\.,]*$/;\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( jQuery.isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t} );\n\t}\n\n\t// Single element\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t} );\n\t}\n\n\t// Arraylike of elements (jQuery, arguments, Array)\n\tif ( typeof qualifier !== \"string\" ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not;\n\t\t} );\n\t}\n\n\t// Simple selector that can be filtered directly, removing non-Elements\n\tif ( risSimple.test( qualifier ) ) {\n\t\treturn jQuery.filter( qualifier, elements, not );\n\t}\n\n\t// Complex selector, compare the two sets, removing non-Elements\n\tqualifier = jQuery.filter( qualifier, elements );\n\treturn jQuery.grep( elements, function( elem ) {\n\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not && elem.nodeType === 1;\n\t} );\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\tif ( elems.length === 1 && elem.nodeType === 1 ) {\n\t\treturn jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];\n\t}\n\n\treturn jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\treturn elem.nodeType === 1;\n\t} ) );\n};\n\njQuery.fn.extend( {\n\tfind: function( selector ) {\n\t\tvar i, ret,\n\t\t\tlen = this.length,\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter( function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ) );\n\t\t}\n\n\t\tret = this.pushStack( [] );\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\treturn len > 1 ? jQuery.uniqueSort( ret ) : ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], false ) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], true ) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n} );\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n\t// Strict HTML recognition (#11290: must start with <)\n\t// Shortcut simple #id case for speed\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/,\n\n\tinit = jQuery.fn.init = function( selector, context, root ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Method init() accepts an alternate rootjQuery\n\t\t// so migrate can support jQuery.sub (gh-2101)\n\t\troot = root || rootjQuery;\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[ 0 ] === \"<\" &&\n\t\t\t\tselector[ selector.length - 1 ] === \">\" &&\n\t\t\t\tselector.length >= 3 ) {\n\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && ( match[ 1 ] || !context ) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[ 1 ] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[ 0 ] : context;\n\n\t\t\t\t\t// Option to run scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[ 1 ],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( jQuery.isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[ 2 ] );\n\n\t\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis[ 0 ] = elem;\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || root ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis[ 0 ] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( jQuery.isFunction( selector ) ) {\n\t\t\treturn root.ready !== undefined ?\n\t\t\t\troot.ready( selector ) :\n\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\n\t// Methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend( {\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter( function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[ i ] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\ttargets = typeof selectors !== \"string\" && jQuery( selectors );\n\n\t\t// Positional selectors never match, since there's no _selection_ context\n\t\tif ( !rneedsContext.test( selectors ) ) {\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tfor ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {\n\n\t\t\t\t\t// Always skip document fragments\n\t\t\t\t\tif ( cur.nodeType < 11 && ( targets ?\n\t\t\t\t\t\ttargets.index( cur ) > -1 :\n\n\t\t\t\t\t\t// Don't pass non-elements to Sizzle\n\t\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\t\tjQuery.find.matchesSelector( cur, selectors ) ) ) {\n\n\t\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within the set\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// Index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.uniqueSort(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t}\n} );\n\nfunction sibling( cur, dir ) {\n\twhile ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each( {\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn siblings( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn siblings( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\treturn elem.contentDocument || jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.uniqueSort( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n} );\nvar rnothtmlwhite = ( /[^\\x20\\t\\r\\n\\f]+/g );\n\n\n\n// Convert String-formatted options into Object-formatted ones\nfunction createOptions( options ) {\n\tvar object = {};\n\tjQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t} );\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\tcreateOptions( options ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Flag to know if list is currently firing\n\t\tfiring,\n\n\t\t// Last fire value for non-forgettable lists\n\t\tmemory,\n\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\n\t\t// Flag to prevent firing\n\t\tlocked,\n\n\t\t// Actual callback list\n\t\tlist = [],\n\n\t\t// Queue of execution data for repeatable lists\n\t\tqueue = [],\n\n\t\t// Index of currently firing callback (modified by add/remove as needed)\n\t\tfiringIndex = -1,\n\n\t\t// Fire callbacks\n\t\tfire = function() {\n\n\t\t\t// Enforce single-firing\n\t\t\tlocked = options.once;\n\n\t\t\t// Execute callbacks for all pending executions,\n\t\t\t// respecting firingIndex overrides and runtime changes\n\t\t\tfired = firing = true;\n\t\t\tfor ( ; queue.length; firingIndex = -1 ) {\n\t\t\t\tmemory = queue.shift();\n\t\t\t\twhile ( ++firingIndex < list.length ) {\n\n\t\t\t\t\t// Run callback and check for early termination\n\t\t\t\t\tif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&\n\t\t\t\t\t\toptions.stopOnFalse ) {\n\n\t\t\t\t\t\t// Jump to end and forget the data so .add doesn't re-fire\n\t\t\t\t\t\tfiringIndex = list.length;\n\t\t\t\t\t\tmemory = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Forget the data if we're done with it\n\t\t\tif ( !options.memory ) {\n\t\t\t\tmemory = false;\n\t\t\t}\n\n\t\t\tfiring = false;\n\n\t\t\t// Clean up if we're done firing for good\n\t\t\tif ( locked ) {\n\n\t\t\t\t// Keep an empty list if we have data for future add calls\n\t\t\t\tif ( memory ) {\n\t\t\t\t\tlist = [];\n\n\t\t\t\t// Otherwise, this object is spent\n\t\t\t\t} else {\n\t\t\t\t\tlist = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Actual Callbacks object\n\t\tself = {\n\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\n\t\t\t\t\t// If we have memory from a past run, we should fire after adding\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfiringIndex = list.length - 1;\n\t\t\t\t\t\tqueue.push( memory );\n\t\t\t\t\t}\n\n\t\t\t\t\t( function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tif ( jQuery.isFunction( arg ) ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && jQuery.type( arg ) !== \"string\" ) {\n\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )( arguments );\n\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\tvar index;\n\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\tlist.splice( index, 1 );\n\n\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ?\n\t\t\t\t\tjQuery.inArray( fn, list ) > -1 :\n\t\t\t\t\tlist.length > 0;\n\t\t\t},\n\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Disable .fire and .add\n\t\t\t// Abort any current/pending executions\n\t\t\t// Clear all callbacks and values\n\t\t\tdisable: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tlist = memory = \"\";\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\n\t\t\t// Disable .fire\n\t\t\t// Also disable .add unless we have memory (since it would have no effect)\n\t\t\t// Abort any pending executions\n\t\t\tlock: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tif ( !memory && !firing ) {\n\t\t\t\t\tlist = memory = \"\";\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tlocked: function() {\n\t\t\t\treturn !!locked;\n\t\t\t},\n\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( !locked ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tqueue.push( args );\n\t\t\t\t\tif ( !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\nfunction Identity( v ) {\n\treturn v;\n}\nfunction Thrower( ex ) {\n\tthrow ex;\n}\n\nfunction adoptValue( value, resolve, reject ) {\n\tvar method;\n\n\ttry {\n\n\t\t// Check for promise aspect first to privilege synchronous behavior\n\t\tif ( value && jQuery.isFunction( ( method = value.promise ) ) ) {\n\t\t\tmethod.call( value ).done( resolve ).fail( reject );\n\n\t\t// Other thenables\n\t\t} else if ( value && jQuery.isFunction( ( method = value.then ) ) ) {\n\t\t\tmethod.call( value, resolve, reject );\n\n\t\t// Other non-thenables\n\t\t} else {\n\n\t\t\t// Support: Android 4.0 only\n\t\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\t\tresolve.call( undefined, value );\n\t\t}\n\n\t// For Promises/A+, convert exceptions into rejections\n\t// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in\n\t// Deferred#then to conditionally suppress rejection.\n\t} catch ( value ) {\n\n\t\t// Support: Android 4.0 only\n\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\treject.call( undefined, value );\n\t}\n}\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, callbacks,\n\t\t\t\t// ... .then handlers, argument index, [final state]\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"memory\" ), 2 ],\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 0, \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 1, \"rejected\" ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\t\"catch\": function( fn ) {\n\t\t\t\t\treturn promise.then( null, fn );\n\t\t\t\t},\n\n\t\t\t\t// Keep pipe for back-compat\n\t\t\t\tpipe: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( i, tuple ) {\n\n\t\t\t\t\t\t\t// Map tuples (progress, done, fail) to arguments (done, fail, progress)\n\t\t\t\t\t\t\tvar fn = jQuery.isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];\n\n\t\t\t\t\t\t\t// deferred.progress(function() { bind to newDefer or newDefer.notify })\n\t\t\t\t\t\t\t// deferred.done(function() { bind to newDefer or newDefer.resolve })\n\t\t\t\t\t\t\t// deferred.fail(function() { bind to newDefer or newDefer.reject })\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && jQuery.isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\t\t\t\tthen: function( onFulfilled, onRejected, onProgress ) {\n\t\t\t\t\tvar maxDepth = 0;\n\t\t\t\t\tfunction resolve( depth, deferred, handler, special ) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\t\targs = arguments,\n\t\t\t\t\t\t\t\tmightThrow = function() {\n\t\t\t\t\t\t\t\t\tvar returned, then;\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.3\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-59\n\t\t\t\t\t\t\t\t\t// Ignore double-resolution attempts\n\t\t\t\t\t\t\t\t\tif ( depth < maxDepth ) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturned = handler.apply( that, args );\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.1\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-48\n\t\t\t\t\t\t\t\t\tif ( returned === deferred.promise() ) {\n\t\t\t\t\t\t\t\t\t\tthrow new TypeError( \"Thenable self-resolution\" );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ sections 2.3.3.1, 3.5\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-54\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-75\n\t\t\t\t\t\t\t\t\t// Retrieve `then` only once\n\t\t\t\t\t\t\t\t\tthen = returned &&\n\n\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.4\n\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-64\n\t\t\t\t\t\t\t\t\t\t// Only check objects and functions for thenability\n\t\t\t\t\t\t\t\t\t\t( typeof returned === \"object\" ||\n\t\t\t\t\t\t\t\t\t\t\ttypeof returned === \"function\" ) &&\n\t\t\t\t\t\t\t\t\t\treturned.then;\n\n\t\t\t\t\t\t\t\t\t// Handle a returned thenable\n\t\t\t\t\t\t\t\t\tif ( jQuery.isFunction( then ) ) {\n\n\t\t\t\t\t\t\t\t\t\t// Special processors (notify) just wait for resolution\n\t\t\t\t\t\t\t\t\t\tif ( special ) {\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special )\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// Normal processors (resolve) also hook into progress\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t// ...and disregard older resolution values\n\t\t\t\t\t\t\t\t\t\t\tmaxDepth++;\n\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.notifyWith )\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Handle all other returned values\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\tif ( handler !== Identity ) {\n\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\targs = [ returned ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Process the value(s)\n\t\t\t\t\t\t\t\t\t\t// Default process is resolve\n\t\t\t\t\t\t\t\t\t\t( special || deferred.resolveWith )( that, args );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t// Only normal processors (resolve) catch and reject exceptions\n\t\t\t\t\t\t\t\tprocess = special ?\n\t\t\t\t\t\t\t\t\tmightThrow :\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tmightThrow();\n\t\t\t\t\t\t\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( jQuery.Deferred.exceptionHook ) {\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery.Deferred.exceptionHook( e,\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.stackTrace );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.4.1\n\t\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-61\n\t\t\t\t\t\t\t\t\t\t\t// Ignore post-resolution exceptions\n\t\t\t\t\t\t\t\t\t\t\tif ( depth + 1 >= maxDepth ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\t\t\tif ( handler !== Thrower ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\targs = [ e ];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdeferred.rejectWith( that, args );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.1\n\t\t\t\t\t\t\t// https://promisesaplus.com/#point-57\n\t\t\t\t\t\t\t// Re-resolve promises immediately to dodge false rejection from\n\t\t\t\t\t\t\t// subsequent errors\n\t\t\t\t\t\t\tif ( depth ) {\n\t\t\t\t\t\t\t\tprocess();\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// Call an optional hook to record the stack, in case of exception\n\t\t\t\t\t\t\t\t// since it's otherwise lost when execution goes async\n\t\t\t\t\t\t\t\tif ( jQuery.Deferred.getStackHook ) {\n\t\t\t\t\t\t\t\t\tprocess.stackTrace = jQuery.Deferred.getStackHook();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.setTimeout( process );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\n\t\t\t\t\t\t// progress_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 0 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tjQuery.isFunction( onProgress ) ?\n\t\t\t\t\t\t\t\t\tonProgress :\n\t\t\t\t\t\t\t\t\tIdentity,\n\t\t\t\t\t\t\t\tnewDefer.notifyWith\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// fulfilled_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 1 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tjQuery.isFunction( onFulfilled ) ?\n\t\t\t\t\t\t\t\t\tonFulfilled :\n\t\t\t\t\t\t\t\t\tIdentity\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// rejected_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 2 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tjQuery.isFunction( onRejected ) ?\n\t\t\t\t\t\t\t\t\tonRejected :\n\t\t\t\t\t\t\t\t\tThrower\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 5 ];\n\n\t\t\t// promise.progress = list.add\n\t\t\t// promise.done = list.add\n\t\t\t// promise.fail = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(\n\t\t\t\t\tfunction() {\n\n\t\t\t\t\t\t// state = \"resolved\" (i.e., fulfilled)\n\t\t\t\t\t\t// state = \"rejected\"\n\t\t\t\t\t\tstate = stateString;\n\t\t\t\t\t},\n\n\t\t\t\t\t// rejected_callbacks.disable\n\t\t\t\t\t// fulfilled_callbacks.disable\n\t\t\t\t\ttuples[ 3 - i ][ 2 ].disable,\n\n\t\t\t\t\t// progress_callbacks.lock\n\t\t\t\t\ttuples[ 0 ][ 2 ].lock\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// progress_handlers.fire\n\t\t\t// fulfilled_handlers.fire\n\t\t\t// rejected_handlers.fire\n\t\t\tlist.add( tuple[ 3 ].fire );\n\n\t\t\t// deferred.notify = function() { deferred.notifyWith(...) }\n\t\t\t// deferred.resolve = function() { deferred.resolveWith(...) }\n\t\t\t// deferred.reject = function() { deferred.rejectWith(...) }\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? undefined : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\t// deferred.notifyWith = list.fireWith\n\t\t\t// deferred.resolveWith = list.fireWith\n\t\t\t// deferred.rejectWith = list.fireWith\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( singleValue ) {\n\t\tvar\n\n\t\t\t// count of uncompleted subordinates\n\t\t\tremaining = arguments.length,\n\n\t\t\t// count of unprocessed arguments\n\t\t\ti = remaining,\n\n\t\t\t// subordinate fulfillment data\n\t\t\tresolveContexts = Array( i ),\n\t\t\tresolveValues = slice.call( arguments ),\n\n\t\t\t// the master Deferred\n\t\t\tmaster = jQuery.Deferred(),\n\n\t\t\t// subordinate callback factory\n\t\t\tupdateFunc = function( i ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tresolveContexts[ i ] = this;\n\t\t\t\t\tresolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( !( --remaining ) ) {\n\t\t\t\t\t\tmaster.resolveWith( resolveContexts, resolveValues );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t// Single- and empty arguments are adopted like Promise.resolve\n\t\tif ( remaining <= 1 ) {\n\t\t\tadoptValue( singleValue, master.done( updateFunc( i ) ).resolve, master.reject );\n\n\t\t\t// Use .then() to unwrap secondary thenables (cf. gh-3000)\n\t\t\tif ( master.state() === \"pending\" ||\n\t\t\t\tjQuery.isFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {\n\n\t\t\t\treturn master.then();\n\t\t\t}\n\t\t}\n\n\t\t// Multiple arguments are aggregated like Promise.all array elements\n\t\twhile ( i-- ) {\n\t\t\tadoptValue( resolveValues[ i ], updateFunc( i ), master.reject );\n\t\t}\n\n\t\treturn master.promise();\n\t}\n} );\n\n\n// These usually indicate a programmer mistake during development,\n// warn about them ASAP rather than swallowing them by default.\nvar rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;\n\njQuery.Deferred.exceptionHook = function( error, stack ) {\n\n\t// Support: IE 8 - 9 only\n\t// Console exists when dev tools are open, which can happen at any time\n\tif ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {\n\t\twindow.console.warn( \"jQuery.Deferred exception: \" + error.message, error.stack, stack );\n\t}\n};\n\n\n\n\njQuery.readyException = function( error ) {\n\twindow.setTimeout( function() {\n\t\tthrow error;\n\t} );\n};\n\n\n\n\n// The deferred used on DOM ready\nvar readyList = jQuery.Deferred();\n\njQuery.fn.ready = function( fn ) {\n\n\treadyList\n\t\t.then( fn )\n\n\t\t// Wrap jQuery.readyException in a function so that the lookup\n\t\t// happens at the time of error handling instead of callback\n\t\t// registration.\n\t\t.catch( function( error ) {\n\t\t\tjQuery.readyException( error );\n\t\t} );\n\n\treturn this;\n};\n\njQuery.extend( {\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See #6781\n\treadyWait: 1,\n\n\t// Hold (or release) the ready event\n\tholdReady: function( hold ) {\n\t\tif ( hold ) {\n\t\t\tjQuery.readyWait++;\n\t\t} else {\n\t\t\tjQuery.ready( true );\n\t\t}\n\t},\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\t}\n} );\n\njQuery.ready.then = readyList.then;\n\n// The ready event handler and self cleanup method\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed );\n\twindow.removeEventListener( \"load\", completed );\n\tjQuery.ready();\n}\n\n// Catch cases where $(document).ready() is called\n// after the browser event has already occurred.\n// Support: IE <=9 - 10 only\n// Older IE sometimes signals \"interactive\" too soon\nif ( document.readyState === \"complete\" ||\n\t( document.readyState !== \"loading\" && !document.documentElement.doScroll ) ) {\n\n\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\twindow.setTimeout( jQuery.ready );\n\n} else {\n\n\t// Use the handy event callback\n\tdocument.addEventListener( \"DOMContentLoaded\", completed );\n\n\t// A fallback to window.onload, that will always work\n\twindow.addEventListener( \"load\", completed );\n}\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( jQuery.type( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\taccess( elems, fn, i, key[ i ], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !jQuery.isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn(\n\t\t\t\t\telems[ i ], key, raw ?\n\t\t\t\t\tvalue :\n\t\t\t\t\tvalue.call( elems[ i ], i, fn( elems[ i ], key ) )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( chainable ) {\n\t\treturn elems;\n\t}\n\n\t// Gets\n\tif ( bulk ) {\n\t\treturn fn.call( elems );\n\t}\n\n\treturn len ? fn( elems[ 0 ], key ) : emptyGet;\n};\nvar acceptData = function( owner ) {\n\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\n\n\nfunction Data() {\n\tthis.expando = jQuery.expando + Data.uid++;\n}\n\nData.uid = 1;\n\nData.prototype = {\n\n\tcache: function( owner ) {\n\n\t\t// Check if the owner object already has a cache\n\t\tvar value = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !value ) {\n\t\t\tvalue = {};\n\n\t\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t\t// but we should not, see #8335.\n\t\t\t// Always return an empty object.\n\t\t\tif ( acceptData( owner ) ) {\n\n\t\t\t\t// If it is a node unlikely to be stringify-ed or looped over\n\t\t\t\t// use plain assignment\n\t\t\t\tif ( owner.nodeType ) {\n\t\t\t\t\towner[ this.expando ] = value;\n\n\t\t\t\t// Otherwise secure it in a non-enumerable property\n\t\t\t\t// configurable must be true to allow the property to be\n\t\t\t\t// deleted when data is removed\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty( owner, this.expando, {\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\tcache = this.cache( owner );\n\n\t\t// Handle: [ owner, key, value ] args\n\t\t// Always use camelCase key (gh-2257)\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ jQuery.camelCase( data ) ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\n\t\t\t// Copy the properties one-by-one to the cache object\n\t\t\tfor ( prop in data ) {\n\t\t\t\tcache[ jQuery.camelCase( prop ) ] = data[ prop ];\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\treturn key === undefined ?\n\t\t\tthis.cache( owner ) :\n\n\t\t\t// Always use camelCase key (gh-2257)\n\t\t\towner[ this.expando ] && owner[ this.expando ][ jQuery.camelCase( key ) ];\n\t},\n\taccess: function( owner, key, value ) {\n\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t( ( key && typeof key === \"string\" ) && value === undefined ) ) {\n\n\t\t\treturn this.get( owner, key );\n\t\t}\n\n\t\t// When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i,\n\t\t\tcache = owner[ this.expando ];\n\n\t\tif ( cache === undefined ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key !== undefined ) {\n\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( jQuery.isArray( key ) ) {\n\n\t\t\t\t// If key is an array of keys...\n\t\t\t\t// We always set camelCase keys, so remove that.\n\t\t\t\tkey = key.map( jQuery.camelCase );\n\t\t\t} else {\n\t\t\t\tkey = jQuery.camelCase( key );\n\n\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\tkey = key in cache ?\n\t\t\t\t\t[ key ] :\n\t\t\t\t\t( key.match( rnothtmlwhite ) || [] );\n\t\t\t}\n\n\t\t\ti = key.length;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ key[ i ] ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if there's no more data\n\t\tif ( key === undefined || jQuery.isEmptyObject( cache ) ) {\n\n\t\t\t// Support: Chrome <=35 - 45\n\t\t\t// Webkit & Blink performance suffers when deleting properties\n\t\t\t// from DOM nodes, so set to undefined instead\n\t\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)\n\t\t\tif ( owner.nodeType ) {\n\t\t\t\towner[ this.expando ] = undefined;\n\t\t\t} else {\n\t\t\t\tdelete owner[ this.expando ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\tvar cache = owner[ this.expando ];\n\t\treturn cache !== undefined && !jQuery.isEmptyObject( cache );\n\t}\n};\nvar dataPriv = new Data();\n\nvar dataUser = new Data();\n\n\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /[A-Z]/g;\n\nfunction getData( data ) {\n\tif ( data === \"true\" ) {\n\t\treturn true;\n\t}\n\n\tif ( data === \"false\" ) {\n\t\treturn false;\n\t}\n\n\tif ( data === \"null\" ) {\n\t\treturn null;\n\t}\n\n\t// Only convert to a number if it doesn't change the string\n\tif ( data === +data + \"\" ) {\n\t\treturn +data;\n\t}\n\n\tif ( rbrace.test( data ) ) {\n\t\treturn JSON.parse( data );\n\t}\n\n\treturn data;\n}\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$&\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = getData( data );\n\t\t\t} catch ( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdataUser.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend( {\n\thasData: function( elem ) {\n\t\treturn dataUser.hasData( elem ) || dataPriv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn dataUser.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdataUser.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to dataPriv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn dataPriv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdataPriv.remove( elem, name );\n\t}\n} );\n\njQuery.fn.extend( {\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = dataUser.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !dataPriv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE 11 only\n\t\t\t\t\t\t// The attrs elements can be null (#14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = jQuery.camelCase( name.slice( 5 ) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataPriv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tdataUser.set( this, key );\n\t\t\t} );\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data;\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// The key will always be camelCased in Data\n\t\t\t\tdata = dataUser.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each( function() {\n\n\t\t\t\t// We always store the camelCased key\n\t\t\t\tdataUser.set( this, key, value );\n\t\t\t} );\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each( function() {\n\t\t\tdataUser.remove( this, key );\n\t\t} );\n\t}\n} );\n\n\njQuery.extend( {\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = dataPriv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || jQuery.isArray( data ) ) {\n\t\t\t\t\tqueue = dataPriv.access( elem, type, jQuery.makeArray( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// Clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// Not public - generate a queueHooks object, or return the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn dataPriv.get( elem, key ) || dataPriv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\n\t\t\t\tdataPriv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t} )\n\t\t} );\n\t}\n} );\n\njQuery.fn.extend( {\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[ 0 ], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each( function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// Ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t} );\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t} );\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = dataPriv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n} );\nvar pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source;\n\nvar rcssNum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" );\n\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar isHiddenWithinTree = function( elem, el ) {\n\n\t\t// isHiddenWithinTree might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\n\t\t// Inline style trumps all\n\t\treturn elem.style.display === \"none\" ||\n\t\t\telem.style.display === \"\" &&\n\n\t\t\t// Otherwise, check computed style\n\t\t\t// Support: Firefox <=43 - 45\n\t\t\t// Disconnected elements can have computed display: none, so first confirm that elem is\n\t\t\t// in the document.\n\t\t\tjQuery.contains( elem.ownerDocument, elem ) &&\n\n\t\t\tjQuery.css( elem, \"display\" ) === \"none\";\n\t};\n\nvar swap = function( elem, options, callback, args ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.apply( elem, args || [] );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\n\n\nfunction adjustCSS( elem, prop, valueParts, tween ) {\n\tvar adjusted,\n\t\tscale = 1,\n\t\tmaxIterations = 20,\n\t\tcurrentValue = tween ?\n\t\t\tfunction() {\n\t\t\t\treturn tween.cur();\n\t\t\t} :\n\t\t\tfunction() {\n\t\t\t\treturn jQuery.css( elem, prop, \"\" );\n\t\t\t},\n\t\tinitial = currentValue(),\n\t\tunit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t// Starting value computation is required for potential unit mismatches\n\t\tinitialInUnit = ( jQuery.cssNumber[ prop ] || unit !== \"px\" && +initial ) &&\n\t\t\trcssNum.exec( jQuery.css( elem, prop ) );\n\n\tif ( initialInUnit && initialInUnit[ 3 ] !== unit ) {\n\n\t\t// Trust units reported by jQuery.css\n\t\tunit = unit || initialInUnit[ 3 ];\n\n\t\t// Make sure we update the tween properties later on\n\t\tvalueParts = valueParts || [];\n\n\t\t// Iteratively approximate from a nonzero starting point\n\t\tinitialInUnit = +initial || 1;\n\n\t\tdo {\n\n\t\t\t// If previous iteration zeroed out, double until we get *something*.\n\t\t\t// Use string for doubling so we don't accidentally see scale as unchanged below\n\t\t\tscale = scale || \".5\";\n\n\t\t\t// Adjust and apply\n\t\t\tinitialInUnit = initialInUnit / scale;\n\t\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\n\t\t// Update scale, tolerating zero or NaN from tween.cur()\n\t\t// Break the loop if scale is unchanged or perfect, or if we've just had enough.\n\t\t} while (\n\t\t\tscale !== ( scale = currentValue() / initial ) && scale !== 1 && --maxIterations\n\t\t);\n\t}\n\n\tif ( valueParts ) {\n\t\tinitialInUnit = +initialInUnit || +initial || 0;\n\n\t\t// Apply relative offset (+=/-=) if specified\n\t\tadjusted = valueParts[ 1 ] ?\n\t\t\tinitialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :\n\t\t\t+valueParts[ 2 ];\n\t\tif ( tween ) {\n\t\t\ttween.unit = unit;\n\t\t\ttween.start = initialInUnit;\n\t\t\ttween.end = adjusted;\n\t\t}\n\t}\n\treturn adjusted;\n}\n\n\nvar defaultDisplayMap = {};\n\nfunction getDefaultDisplay( elem ) {\n\tvar temp,\n\t\tdoc = elem.ownerDocument,\n\t\tnodeName = elem.nodeName,\n\t\tdisplay = defaultDisplayMap[ nodeName ];\n\n\tif ( display ) {\n\t\treturn display;\n\t}\n\n\ttemp = doc.body.appendChild( doc.createElement( nodeName ) );\n\tdisplay = jQuery.css( temp, \"display\" );\n\n\ttemp.parentNode.removeChild( temp );\n\n\tif ( display === \"none\" ) {\n\t\tdisplay = \"block\";\n\t}\n\tdefaultDisplayMap[ nodeName ] = display;\n\n\treturn display;\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\t// Determine new display value for elements that need to change\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\n\t\t\t// Since we force visibility upon cascade-hidden elements, an immediate (and slow)\n\t\t\t// check is required in this first loop unless we have a nonempty display value (either\n\t\t\t// inline or about-to-be-restored)\n\t\t\tif ( display === \"none\" ) {\n\t\t\t\tvalues[ index ] = dataPriv.get( elem, \"display\" ) || null;\n\t\t\t\tif ( !values[ index ] ) {\n\t\t\t\t\telem.style.display = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( elem.style.display === \"\" && isHiddenWithinTree( elem ) ) {\n\t\t\t\tvalues[ index ] = getDefaultDisplay( elem );\n\t\t\t}\n\t\t} else {\n\t\t\tif ( display !== \"none\" ) {\n\t\t\t\tvalues[ index ] = \"none\";\n\n\t\t\t\t// Remember what we're overwriting\n\t\t\t\tdataPriv.set( elem, \"display\", display );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of the elements in a second loop to avoid constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\tif ( values[ index ] != null ) {\n\t\t\telements[ index ].style.display = values[ index ];\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.fn.extend( {\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tif ( isHiddenWithinTree( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t} );\n\t}\n} );\nvar rcheckableType = ( /^(?:checkbox|radio)$/i );\n\nvar rtagName = ( /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]+)/i );\n\nvar rscriptType = ( /^$|\\/(?:java|ecma)script/i );\n\n\n\n// We have to close these tags to support XHTML (#13200)\nvar wrapMap = {\n\n\t// Support: IE <=9 only\n\toption: [ 1, \"<select multiple='multiple'>\", \"</select>\" ],\n\n\t// XHTML parsers do not magically insert elements in the\n\t// same way that tag soup parsers do. So we cannot shorten\n\t// this by omitting <tbody> or other required elements.\n\tthead: [ 1, \"<table>\", \"</table>\" ],\n\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t_default: [ 0, \"\", \"\" ]\n};\n\n// Support: IE <=9 only\nwrapMap.optgroup = wrapMap.option;\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n\nfunction getAll( context, tag ) {\n\n\t// Support: IE <=9 - 11 only\n\t// Use typeof to avoid zero-argument method invocation on host objects (#15151)\n\tvar ret;\n\n\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\tret = context.getElementsByTagName( tag || \"*\" );\n\n\t} else if ( typeof context.querySelectorAll !== \"undefined\" ) {\n\t\tret = context.querySelectorAll( tag || \"*\" );\n\n\t} else {\n\t\tret = [];\n\t}\n\n\tif ( tag === undefined || tag && jQuery.nodeName( context, tag ) ) {\n\t\treturn jQuery.merge( [ context ], ret );\n\t}\n\n\treturn ret;\n}\n\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdataPriv.set(\n\t\t\telems[ i ],\n\t\t\t\"globalEval\",\n\t\t\t!refElements || dataPriv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\n\nvar rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment( elems, context, scripts, selection, ignored ) {\n\tvar elem, tmp, tag, wrap, contains, j,\n\t\tfragment = context.createDocumentFragment(),\n\t\tnodes = [],\n\t\ti = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\telem = elems[ i ];\n\n\t\tif ( elem || elem === 0 ) {\n\n\t\t\t// Add nodes directly\n\t\t\tif ( jQuery.type( elem ) === \"object\" ) {\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t// Convert non-html into a text node\n\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t// Convert html into DOM nodes\n\t\t\t} else {\n\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement( \"div\" ) );\n\n\t\t\t\t// Deserialize a standard representation\n\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\n\n\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\tj = wrap[ 0 ];\n\t\t\t\twhile ( j-- ) {\n\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t}\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t// Remember the top-level container\n\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t// Ensure the created nodes are orphaned (#12392)\n\t\t\t\ttmp.textContent = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove wrapper from fragment\n\tfragment.textContent = \"\";\n\n\ti = 0;\n\twhile ( ( elem = nodes[ i++ ] ) ) {\n\n\t\t// Skip elements already in the context collection (trac-4087)\n\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\n\t\t\tif ( ignored ) {\n\t\t\t\tignored.push( elem );\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tcontains = jQuery.contains( elem.ownerDocument, elem );\n\n\t\t// Append to fragment\n\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t// Preserve script evaluation history\n\t\tif ( contains ) {\n\t\t\tsetGlobalEval( tmp );\n\t\t}\n\n\t\t// Capture executables\n\t\tif ( scripts ) {\n\t\t\tj = 0;\n\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\n\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\tscripts.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\n\n( function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// Support: Android 4.0 - 4.3 only\n\t// Check state lost if the name is set (#11217)\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` must use .setAttribute for WWA (#14901)\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Android <=4.1 only\n\t// Older WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE <=11 only\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n} )();\nvar documentElement = document.documentElement;\n\n\n\nvar\n\trkeyEvent = /^key/,\n\trmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,\n\trtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\n// Support: IE <=9 only\n// See #13393 for more info\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\nfunction on( elem, types, selector, data, fn, one ) {\n\tvar origFn, type;\n\n\t// Types can be a map of types/handlers\n\tif ( typeof types === \"object\" ) {\n\n\t\t// ( types-Object, selector, data )\n\t\tif ( typeof selector !== \"string\" ) {\n\n\t\t\t// ( types-Object, data )\n\t\t\tdata = data || selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tfor ( type in types ) {\n\t\t\ton( elem, type, selector, data, types[ type ], one );\n\t\t}\n\t\treturn elem;\n\t}\n\n\tif ( data == null && fn == null ) {\n\n\t\t// ( types, fn )\n\t\tfn = selector;\n\t\tdata = selector = undefined;\n\t} else if ( fn == null ) {\n\t\tif ( typeof selector === \"string\" ) {\n\n\t\t\t// ( types, selector, fn )\n\t\t\tfn = data;\n\t\t\tdata = undefined;\n\t\t} else {\n\n\t\t\t// ( types, data, fn )\n\t\t\tfn = data;\n\t\t\tdata = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t}\n\tif ( fn === false ) {\n\t\tfn = returnFalse;\n\t} else if ( !fn ) {\n\t\treturn elem;\n\t}\n\n\tif ( one === 1 ) {\n\t\torigFn = fn;\n\t\tfn = function( event ) {\n\n\t\t\t// Can use an empty set, since event contains the info\n\t\t\tjQuery().off( event );\n\t\t\treturn origFn.apply( this, arguments );\n\t\t};\n\n\t\t// Use same guid so caller can remove using origFn\n\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t}\n\treturn elem.each( function() {\n\t\tjQuery.event.add( this, types, fn, data, selector );\n\t} );\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.get( elem );\n\n\t\t// Don't attach events to noData or text/comment nodes (but allow plain objects)\n\t\tif ( !elemData ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Ensure that invalid selectors throw exceptions at attach time\n\t\t// Evaluate against documentElement in case elem is a non-element node (e.g., document)\n\t\tif ( selector ) {\n\t\t\tjQuery.find.matchesSelector( documentElement, selector );\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !( events = elemData.events ) ) {\n\t\t\tevents = elemData.events = {};\n\t\t}\n\t\tif ( !( eventHandle = elemData.handle ) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend( {\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join( \".\" )\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !( handlers = events[ type ] ) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup ||\n\t\t\t\t\tspecial.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.hasData( elem ) && dataPriv.get( elem );\n\n\t\tif ( !elemData || !( events = elemData.events ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[ 2 ] &&\n\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector ||\n\t\t\t\t\t\tselector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown ||\n\t\t\t\t\tspecial.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove data and the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdataPriv.remove( elem, \"handle events\" );\n\t\t}\n\t},\n\n\tdispatch: function( nativeEvent ) {\n\n\t\t// Make a writable jQuery.Event from the native event object\n\t\tvar event = jQuery.event.fix( nativeEvent );\n\n\t\tvar i, j, ret, matched, handleObj, handlerQueue,\n\t\t\targs = new Array( arguments.length ),\n\t\t\thandlers = ( dataPriv.get( this, \"events\" ) || {} )[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[ 0 ] = event;\n\n\t\tfor ( i = 1; i < arguments.length; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( ( handleObj = matched.handlers[ j++ ] ) &&\n\t\t\t\t!event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// Triggered event must either 1) have no namespace, or 2) have namespace(s)\n\t\t\t\t// a subset or equal to those in the bound event (both can have no namespace).\n\t\t\t\tif ( !event.rnamespace || event.rnamespace.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||\n\t\t\t\t\t\thandleObj.handler ).apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( ( event.result = ret ) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, handleObj, sel, matchedHandlers, matchedSelectors,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\tif ( delegateCount &&\n\n\t\t\t// Support: IE <=9\n\t\t\t// Black-hole SVG <use> instance trees (trac-13180)\n\t\t\tcur.nodeType &&\n\n\t\t\t// Support: Firefox <=42\n\t\t\t// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)\n\t\t\t// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click\n\t\t\t// Support: IE 11 only\n\t\t\t// ...but not arrow key \"clicks\" of radio inputs, which can have `button` -1 (gh-2343)\n\t\t\t!( event.type === \"click\" && event.button >= 1 ) ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't check non-elements (#13208)\n\t\t\t\t// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\n\t\t\t\tif ( cur.nodeType === 1 && !( event.type === \"click\" && cur.disabled === true ) ) {\n\t\t\t\t\tmatchedHandlers = [];\n\t\t\t\t\tmatchedSelectors = {};\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (#13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatchedSelectors[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) > -1 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] ) {\n\t\t\t\t\t\t\tmatchedHandlers.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matchedHandlers.length ) {\n\t\t\t\t\t\thandlerQueue.push( { elem: cur, handlers: matchedHandlers } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tcur = this;\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\taddProp: function( name, hook ) {\n\t\tObject.defineProperty( jQuery.Event.prototype, name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\n\t\t\tget: jQuery.isFunction( hook ) ?\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn hook( this.originalEvent );\n\t\t\t\t\t}\n\t\t\t\t} :\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn this.originalEvent[ name ];\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\tset: function( value ) {\n\t\t\t\tObject.defineProperty( this, name, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: value\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t},\n\n\tfix: function( originalEvent ) {\n\t\treturn originalEvent[ jQuery.expando ] ?\n\t\t\toriginalEvent :\n\t\t\tnew jQuery.Event( originalEvent );\n\t},\n\n\tspecial: {\n\t\tload: {\n\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tfocus: {\n\n\t\t\t// Fire native event if possible so blur/focus sequence is correct\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this !== safeActiveElement() && this.focus ) {\n\t\t\t\t\tthis.focus();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelegateType: \"focusin\"\n\t\t},\n\t\tblur: {\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this === safeActiveElement() && this.blur ) {\n\t\t\t\t\tthis.blur();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelegateType: \"focusout\"\n\t\t},\n\t\tclick: {\n\n\t\t\t// For checkbox, fire native event so checked state will be right\n\t\t\ttrigger: function() {\n\t\t\t\tif ( this.type === \"checkbox\" && this.click && jQuery.nodeName( this, \"input\" ) ) {\n\t\t\t\t\tthis.click();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, don't fire native .click() on links\n\t\t\t_default: function( event ) {\n\t\t\t\treturn jQuery.nodeName( event.target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\njQuery.removeEvent = function( elem, type, handle ) {\n\n\t// This \"if\" is needed for plain objects\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\n\t// Allow instantiation without the 'new' keyword\n\tif ( !( this instanceof jQuery.Event ) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\n\t\t\t\t// Support: Android <=2.3 only\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t\t// Create target properties\n\t\t// Support: Safari <=6 - 7 only\n\t\t// Target should not be a text node (#504, #13143)\n\t\tthis.target = ( src.target && src.target.nodeType === 3 ) ?\n\t\t\tsrc.target.parentNode :\n\t\t\tsrc.target;\n\n\t\tthis.currentTarget = src.currentTarget;\n\t\tthis.relatedTarget = src.relatedTarget;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || jQuery.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tconstructor: jQuery.Event,\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\tisSimulated: false,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\njQuery.each( {\n\taltKey: true,\n\tbubbles: true,\n\tcancelable: true,\n\tchangedTouches: true,\n\tctrlKey: true,\n\tdetail: true,\n\teventPhase: true,\n\tmetaKey: true,\n\tpageX: true,\n\tpageY: true,\n\tshiftKey: true,\n\tview: true,\n\t\"char\": true,\n\tcharCode: true,\n\tkey: true,\n\tkeyCode: true,\n\tbutton: true,\n\tbuttons: true,\n\tclientX: true,\n\tclientY: true,\n\toffsetX: true,\n\toffsetY: true,\n\tpointerId: true,\n\tpointerType: true,\n\tscreenX: true,\n\tscreenY: true,\n\ttargetTouches: true,\n\ttoElement: true,\n\ttouches: true,\n\n\twhich: function( event ) {\n\t\tvar button = event.button;\n\n\t\t// Add which for key events\n\t\tif ( event.which == null && rkeyEvent.test( event.type ) ) {\n\t\t\treturn event.charCode != null ? event.charCode : event.keyCode;\n\t\t}\n\n\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\n\t\tif ( !event.which && button !== undefined && rmouseEvent.test( event.type ) ) {\n\t\t\tif ( button & 1 ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ( button & 2 ) {\n\t\t\t\treturn 3;\n\t\t\t}\n\n\t\t\tif ( button & 4 ) {\n\t\t\t\treturn 2;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn event.which;\n\t}\n}, jQuery.event.addProp );\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://bugs.chromium.org/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each( {\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mouseenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n} );\n\njQuery.fn.extend( {\n\n\ton: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn );\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ?\n\t\t\t\t\thandleObj.origType + \".\" + handleObj.namespace :\n\t\t\t\t\thandleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t} );\n\t}\n} );\n\n\nvar\n\n\t/* eslint-disable max-len */\n\n\t// See https://github.com/eslint/eslint/issues/3229\n\trxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)[^>]*)\\/>/gi,\n\n\t/* eslint-enable */\n\n\t// Support: IE <=10 - 11, Edge 12 - 13\n\t// In IE/Edge using regex groups here causes severe slowdowns.\n\t// See https://connect.microsoft.com/IE/feedback/details/1736512/\n\trnoInnerhtml = /<script|<style|<link/i,\n\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\trscriptTypeMasked = /^true\\/(.*)/,\n\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;\n\nfunction manipulationTarget( elem, content ) {\n\tif ( jQuery.nodeName( elem, \"table\" ) &&\n\t\tjQuery.nodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ) {\n\n\t\treturn elem.getElementsByTagName( \"tbody\" )[ 0 ] || elem;\n\t}\n\n\treturn elem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = ( elem.getAttribute( \"type\" ) !== null ) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tvar match = rscriptTypeMasked.exec( elem.type );\n\n\tif ( match ) {\n\t\telem.type = match[ 1 ];\n\t} else {\n\t\telem.removeAttribute( \"type\" );\n\t}\n\n\treturn elem;\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( dataPriv.hasData( src ) ) {\n\t\tpdataOld = dataPriv.access( src );\n\t\tpdataCur = dataPriv.set( dest, pdataOld );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdelete pdataCur.handle;\n\t\t\tpdataCur.events = {};\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( dataUser.hasData( src ) ) {\n\t\tudataOld = dataUser.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdataUser.set( dest, udataCur );\n\t}\n}\n\n// Fix IE bugs, see support tests\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\nfunction domManip( collection, args, callback, ignored ) {\n\n\t// Flatten any nested arrays\n\targs = concat.apply( [], args );\n\n\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\ti = 0,\n\t\tl = collection.length,\n\t\tiNoClone = l - 1,\n\t\tvalue = args[ 0 ],\n\t\tisFunction = jQuery.isFunction( value );\n\n\t// We can't cloneNode fragments that contain checked, in WebKit\n\tif ( isFunction ||\n\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\treturn collection.each( function( index ) {\n\t\t\tvar self = collection.eq( index );\n\t\t\tif ( isFunction ) {\n\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t}\n\t\t\tdomManip( self, args, callback, ignored );\n\t\t} );\n\t}\n\n\tif ( l ) {\n\t\tfragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );\n\t\tfirst = fragment.firstChild;\n\n\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\tfragment = first;\n\t\t}\n\n\t\t// Require either new content or an interest in ignored elements to invoke the callback\n\t\tif ( first || ignored ) {\n\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\thasScripts = scripts.length;\n\n\t\t\t// Use the original fragment for the last item\n\t\t\t// instead of the first because it can end up\n\t\t\t// being emptied incorrectly in certain situations (#8070).\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tnode = fragment;\n\n\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\tif ( hasScripts ) {\n\n\t\t\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallback.call( collection[ i ], node, i );\n\t\t\t}\n\n\t\t\tif ( hasScripts ) {\n\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t// Reenable scripts\n\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t!dataPriv.access( node, \"globalEval\" ) &&\n\t\t\t\t\t\tjQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\tif ( node.src ) {\n\n\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\tif ( jQuery._evalUrl ) {\n\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tDOMEval( node.textContent.replace( rcleanScript, \"\" ), doc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn collection;\n}\n\nfunction remove( elem, selector, keepData ) {\n\tvar node,\n\t\tnodes = selector ? jQuery.filter( selector, elem ) : elem,\n\t\ti = 0;\n\n\tfor ( ; ( node = nodes[ i ] ) != null; i++ ) {\n\t\tif ( !keepData && node.nodeType === 1 ) {\n\t\t\tjQuery.cleanData( getAll( node ) );\n\t\t}\n\n\t\tif ( node.parentNode ) {\n\t\t\tif ( keepData && jQuery.contains( node.ownerDocument, node ) ) {\n\t\t\t\tsetGlobalEval( getAll( node, \"script\" ) );\n\t\t\t}\n\t\t\tnode.parentNode.removeChild( node );\n\t\t}\n\t}\n\n\treturn elem;\n}\n\njQuery.extend( {\n\thtmlPrefilter: function( html ) {\n\t\treturn html.replace( rxhtmlTag, \"<$1></$2>\" );\n\t},\n\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = jQuery.contains( elem.ownerDocument, elem );\n\n\t\t// Fix IE cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {\n\t\t\tif ( acceptData( elem ) ) {\n\t\t\t\tif ( ( data = elem[ dataPriv.expando ] ) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataPriv.expando ] = undefined;\n\t\t\t\t}\n\t\t\t\tif ( elem[ dataUser.expando ] ) {\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataUser.expando ] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} );\n\njQuery.fn.extend( {\n\tdetach: function( selector ) {\n\t\treturn remove( this, selector, true );\n\t},\n\n\tremove: function( selector ) {\n\t\treturn remove( this, selector );\n\t},\n\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each( function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t} );\n\t},\n\n\tprepend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t} );\n\t},\n\n\tbefore: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t} );\n\t},\n\n\tafter: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t} );\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = this[ i ] ) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t} );\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = jQuery.htmlPrefilter( value );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar ignored = [];\n\n\t\t// Make the changes, replacing each non-ignored context element with the new content\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tvar parent = this.parentNode;\n\n\t\t\tif ( jQuery.inArray( this, ignored ) < 0 ) {\n\t\t\t\tjQuery.cleanData( getAll( this ) );\n\t\t\t\tif ( parent ) {\n\t\t\t\t\tparent.replaceChild( elem, this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Force callback invocation\n\t\t}, ignored );\n\t}\n} );\n\njQuery.each( {\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t// .get() because push.apply(_, arraylike) throws on ancient WebKit\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n} );\nvar rmargin = ( /^margin/ );\n\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar getStyles = function( elem ) {\n\n\t\t// Support: IE <=11 only, Firefox <=30 (#15098, #14150)\n\t\t// IE throws on elements created in popups\n\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n\t\tvar view = elem.ownerDocument.defaultView;\n\n\t\tif ( !view || !view.opener ) {\n\t\t\tview = window;\n\t\t}\n\n\t\treturn view.getComputedStyle( elem );\n\t};\n\n\n\n( function() {\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computeStyleTests() {\n\n\t\t// This is a singleton, we need to execute it only once\n\t\tif ( !div ) {\n\t\t\treturn;\n\t\t}\n\n\t\tdiv.style.cssText =\n\t\t\t\"box-sizing:border-box;\" +\n\t\t\t\"position:relative;display:block;\" +\n\t\t\t\"margin:auto;border:1px;padding:1px;\" +\n\t\t\t\"top:1%;width:50%\";\n\t\tdiv.innerHTML = \"\";\n\t\tdocumentElement.appendChild( container );\n\n\t\tvar divStyle = window.getComputedStyle( div );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\n\t\t// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44\n\t\treliableMarginLeftVal = divStyle.marginLeft === \"2px\";\n\t\tboxSizingReliableVal = divStyle.width === \"4px\";\n\n\t\t// Support: Android 4.0 - 4.3 only\n\t\t// Some styles come back with percentage values, even though they shouldn't\n\t\tdiv.style.marginRight = \"50%\";\n\t\tpixelMarginRightVal = divStyle.marginRight === \"4px\";\n\n\t\tdocumentElement.removeChild( container );\n\n\t\t// Nullify the div so it wouldn't be stored in the memory and\n\t\t// it will also be a sign that checks already performed\n\t\tdiv = null;\n\t}\n\n\tvar pixelPositionVal, boxSizingReliableVal, pixelMarginRightVal, reliableMarginLeftVal,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\t// Finish early in limited (non-browser) environments\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\t// Support: IE <=9 - 11 only\n\t// Style of cloned element affects source element cloned (#8908)\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tcontainer.style.cssText = \"border:0;width:8px;height:0;top:0;left:-9999px;\" +\n\t\t\"padding:0;margin-top:1px;position:absolute\";\n\tcontainer.appendChild( div );\n\n\tjQuery.extend( support, {\n\t\tpixelPosition: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelPositionVal;\n\t\t},\n\t\tboxSizingReliable: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn boxSizingReliableVal;\n\t\t},\n\t\tpixelMarginRight: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelMarginRightVal;\n\t\t},\n\t\treliableMarginLeft: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn reliableMarginLeftVal;\n\t\t}\n\t} );\n} )();\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\n\t// Support: IE <=9 only\n\t// getPropertyValue is only needed for .css('filter') (#12537)\n\tif ( computed ) {\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\n\n\t\tif ( ret === \"\" && !jQuery.contains( elem.ownerDocument, elem ) ) {\n\t\t\tret = jQuery.style( elem, name );\n\t\t}\n\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// Android Browser returns percentage for some values,\n\t\t// but width seems to be reliably pixels.\n\t\t// This is against the CSSOM draft spec:\n\t\t// https://drafts.csswg.org/cssom/#resolved-values\n\t\tif ( !support.pixelMarginRight() && rnumnonpx.test( ret ) && rmargin.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\n\t\t// Support: IE <=9 - 11 only\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\n\t\t\t\t// Hook not needed (or it's not possible to use it due\n\t\t\t\t// to missing dependency), remove it.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\t\t\treturn ( this.get = hookFn ).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\nvar\n\n\t// Swappable if display is none or starts with table\n\t// except \"table\", \"table-cell\", or \"table-caption\"\n\t// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t},\n\n\tcssPrefixes = [ \"Webkit\", \"Moz\", \"ms\" ],\n\temptyStyle = document.createElement( \"div\" ).style;\n\n// Return a css property mapped to a potentially vendor prefixed property\nfunction vendorPropName( name ) {\n\n\t// Shortcut for names that are not vendor prefixed\n\tif ( name in emptyStyle ) {\n\t\treturn name;\n\t}\n\n\t// Check for vendor prefixed names\n\tvar capName = name[ 0 ].toUpperCase() + name.slice( 1 ),\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in emptyStyle ) {\n\t\t\treturn name;\n\t\t}\n\t}\n}\n\nfunction setPositiveNumber( elem, value, subtract ) {\n\n\t// Any relative (+/-) values have already been\n\t// normalized at this point\n\tvar matches = rcssNum.exec( value );\n\treturn matches ?\n\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction augmentWidthOrHeight( elem, name, extra, isBorderBox, styles ) {\n\tvar i,\n\t\tval = 0;\n\n\t// If we already have the right measurement, avoid augmentation\n\tif ( extra === ( isBorderBox ? \"border\" : \"content\" ) ) {\n\t\ti = 4;\n\n\t// Otherwise initialize for horizontal or vertical properties\n\t} else {\n\t\ti = name === \"width\" ? 1 : 0;\n\t}\n\n\tfor ( ; i < 4; i += 2 ) {\n\n\t\t// Both box models exclude margin, so add it if we want it\n\t\tif ( extra === \"margin\" ) {\n\t\t\tval += jQuery.css( elem, extra + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\tif ( isBorderBox ) {\n\n\t\t\t// border-box includes padding, so remove it if we want content\n\t\t\tif ( extra === \"content\" ) {\n\t\t\t\tval -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// At this point, extra isn't border nor margin, so remove border\n\t\t\tif ( extra !== \"margin\" ) {\n\t\t\t\tval -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t} else {\n\n\t\t\t// At this point, extra isn't content, so add padding\n\t\t\tval += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// At this point, extra isn't content nor padding, so add border\n\t\t\tif ( extra !== \"padding\" ) {\n\t\t\t\tval += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn val;\n}\n\nfunction getWidthOrHeight( elem, name, extra ) {\n\n\t// Start with offset property, which is equivalent to the border-box value\n\tvar val,\n\t\tvalueIsBorderBox = true,\n\t\tstyles = getStyles( elem ),\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t// Support: IE <=11 only\n\t// Running getBoundingClientRect on a disconnected node\n\t// in IE throws an error.\n\tif ( elem.getClientRects().length ) {\n\t\tval = elem.getBoundingClientRect()[ name ];\n\t}\n\n\t// Some non-html elements return undefined for offsetWidth, so check for null/undefined\n\t// svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285\n\t// MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668\n\tif ( val <= 0 || val == null ) {\n\n\t\t// Fall back to computed then uncomputed css if necessary\n\t\tval = curCSS( elem, name, styles );\n\t\tif ( val < 0 || val == null ) {\n\t\t\tval = elem.style[ name ];\n\t\t}\n\n\t\t// Computed unit is not pixels. Stop here and return.\n\t\tif ( rnumnonpx.test( val ) ) {\n\t\t\treturn val;\n\t\t}\n\n\t\t// Check for style in case a browser which returns unreliable values\n\t\t// for getComputedStyle silently falls back to the reliable elem.style\n\t\tvalueIsBorderBox = isBorderBox &&\n\t\t\t( support.boxSizingReliable() || val === elem.style[ name ] );\n\n\t\t// Normalize \"\", auto, and prepare for extra\n\t\tval = parseFloat( val ) || 0;\n\t}\n\n\t// Use the active box-sizing model to add/subtract irrelevant styles\n\treturn ( val +\n\t\taugmentWidthOrHeight(\n\t\t\telem,\n\t\t\tname,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles\n\t\t)\n\t) + \"px\";\n}\n\njQuery.extend( {\n\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\t\"animationIterationCount\": true,\n\t\t\"columnCount\": true,\n\t\t\"fillOpacity\": true,\n\t\t\"flexGrow\": true,\n\t\t\"flexShrink\": true,\n\t\t\"fontWeight\": true,\n\t\t\"lineHeight\": true,\n\t\t\"opacity\": true,\n\t\t\"order\": true,\n\t\t\"orphans\": true,\n\t\t\"widows\": true,\n\t\t\"zIndex\": true,\n\t\t\"zoom\": true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {\n\t\t\"float\": \"cssFloat\"\n\t},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = jQuery.camelCase( name ),\n\t\t\tstyle = elem.style;\n\n\t\tname = jQuery.cssProps[ origName ] ||\n\t\t\t( jQuery.cssProps[ origName ] = vendorPropName( origName ) || origName );\n\n\t\t// Gets hook for the prefixed version, then unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// Convert \"+=\" or \"-=\" to relative numbers (#7345)\n\t\t\tif ( type === \"string\" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {\n\t\t\t\tvalue = adjustCSS( elem, name, ret );\n\n\t\t\t\t// Fixes bug #9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set (#7116)\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add the unit (except for certain CSS properties)\n\t\t\tif ( type === \"number\" ) {\n\t\t\t\tvalue += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? \"\" : \"px\" );\n\t\t\t}\n\n\t\t\t// background-* props affect original clone's values\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !( \"set\" in hooks ) ||\n\t\t\t\t( value = hooks.set( elem, value, extra ) ) !== undefined ) {\n\n\t\t\t\tstyle[ name ] = value;\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks &&\n\t\t\t\t( ret = hooks.get( elem, false, extra ) ) !== undefined ) {\n\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = jQuery.camelCase( name );\n\n\t\t// Make sure that we're working with the right name\n\t\tname = jQuery.cssProps[ origName ] ||\n\t\t\t( jQuery.cssProps[ origName ] = vendorPropName( origName ) || origName );\n\n\t\t// Try prefixed name followed by the unprefixed name\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t// Convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Make numeric if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || isFinite( num ) ? num || 0 : val;\n\t\t}\n\t\treturn val;\n\t}\n} );\n\njQuery.each( [ \"height\", \"width\" ], function( i, name ) {\n\tjQuery.cssHooks[ name ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\n\t\t\t\t// Certain elements can have dimension info if we invisibly show them\n\t\t\t\t// but it must have a current display style that would benefit\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) &&\n\n\t\t\t\t\t// Support: Safari 8+\n\t\t\t\t\t// Table columns in Safari have non-zero offsetWidth & zero\n\t\t\t\t\t// getBoundingClientRect().width unless display is changed.\n\t\t\t\t\t// Support: IE <=11 only\n\t\t\t\t\t// Running getBoundingClientRect on a disconnected node\n\t\t\t\t\t// in IE throws an error.\n\t\t\t\t\t( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?\n\t\t\t\t\t\tswap( elem, cssShow, function() {\n\t\t\t\t\t\t\treturn getWidthOrHeight( elem, name, extra );\n\t\t\t\t\t\t} ) :\n\t\t\t\t\t\tgetWidthOrHeight( elem, name, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar matches,\n\t\t\t\tstyles = extra && getStyles( elem ),\n\t\t\t\tsubtract = extra && augmentWidthOrHeight(\n\t\t\t\t\telem,\n\t\t\t\t\tname,\n\t\t\t\t\textra,\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\t\tstyles\n\t\t\t\t);\n\n\t\t\t// Convert to pixels if value adjustment is needed\n\t\t\tif ( subtract && ( matches = rcssNum.exec( value ) ) &&\n\t\t\t\t( matches[ 3 ] || \"px\" ) !== \"px\" ) {\n\n\t\t\t\telem.style[ name ] = value;\n\t\t\t\tvalue = jQuery.css( elem, name );\n\t\t\t}\n\n\t\t\treturn setPositiveNumber( elem, value, subtract );\n\t\t}\n\t};\n} );\n\njQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\treturn ( parseFloat( curCSS( elem, \"marginLeft\" ) ) ||\n\t\t\t\telem.getBoundingClientRect().left -\n\t\t\t\t\tswap( elem, { marginLeft: 0 }, function() {\n\t\t\t\t\t\treturn elem.getBoundingClientRect().left;\n\t\t\t\t\t} )\n\t\t\t\t) + \"px\";\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each( {\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// Assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split( \" \" ) : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( !rmargin.test( prefix ) ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n} );\n\njQuery.fn.extend( {\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( jQuery.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t}\n} );\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || jQuery.easing._default;\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\t// Use a property on the element directly when it is not a DOM element,\n\t\t\t// or when there is no matching style property that exists.\n\t\t\tif ( tween.elem.nodeType !== 1 ||\n\t\t\t\ttween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// Passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails.\n\t\t\t// Simple values such as \"10px\" are parsed to Float;\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as-is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\n\t\t\t// Use step hook for back compat.\n\t\t\t// Use cssHook if its there.\n\t\t\t// Use .style if available and use plain properties where available.\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.nodeType === 1 &&\n\t\t\t\t( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null ||\n\t\t\t\t\tjQuery.cssHooks[ tween.prop ] ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE <=9 only\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t},\n\t_default: \"swing\"\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, timerId,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trrun = /queueHooks$/;\n\nfunction raf() {\n\tif ( timerId ) {\n\t\twindow.requestAnimationFrame( raf );\n\t\tjQuery.fx.tick();\n\t}\n}\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\twindow.setTimeout( function() {\n\t\tfxNow = undefined;\n\t} );\n\treturn ( fxNow = jQuery.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// If we include width, step value is 1 to do all cssExpand values,\n\t// otherwise step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {\n\n\t\t\t// We're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\tvar prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,\n\t\tisBox = \"width\" in props || \"height\" in props,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHiddenWithinTree( elem ),\n\t\tdataShow = dataPriv.get( elem, \"fxshow\" );\n\n\t// Queue-skipping animations hijack the fx hooks\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always( function() {\n\n\t\t\t// Ensure the complete handler is called before this completes\n\t\t\tanim.always( function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t// Detect show/hide animations\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.test( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// Pretend to be hidden if this is a \"show\" and\n\t\t\t\t// there is still data from a stopped show/hide\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\n\t\t\t\t// Ignore all other no-op show/hide data\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\t\t}\n\t}\n\n\t// Bail out if this is a no-op like .hide().hide()\n\tpropTween = !jQuery.isEmptyObject( props );\n\tif ( !propTween && jQuery.isEmptyObject( orig ) ) {\n\t\treturn;\n\t}\n\n\t// Restrict \"overflow\" and \"display\" styles during box animations\n\tif ( isBox && elem.nodeType === 1 ) {\n\n\t\t// Support: IE <=9 - 11, Edge 12 - 13\n\t\t// Record all 3 overflow attributes because IE does not infer the shorthand\n\t\t// from identically-valued overflowX and overflowY\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Identify a display type, preferring old show/hide data over the CSS cascade\n\t\trestoreDisplay = dataShow && dataShow.display;\n\t\tif ( restoreDisplay == null ) {\n\t\t\trestoreDisplay = dataPriv.get( elem, \"display\" );\n\t\t}\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\tif ( display === \"none\" ) {\n\t\t\tif ( restoreDisplay ) {\n\t\t\t\tdisplay = restoreDisplay;\n\t\t\t} else {\n\n\t\t\t\t// Get nonempty value(s) by temporarily forcing visibility\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t\trestoreDisplay = elem.style.display || restoreDisplay;\n\t\t\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\t\t\tshowHide( [ elem ] );\n\t\t\t}\n\t\t}\n\n\t\t// Animate inline elements as inline-block\n\t\tif ( display === \"inline\" || display === \"inline-block\" && restoreDisplay != null ) {\n\t\t\tif ( jQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t\t// Restore the original display value at the end of pure show/hide animations\n\t\t\t\tif ( !propTween ) {\n\t\t\t\t\tanim.done( function() {\n\t\t\t\t\t\tstyle.display = restoreDisplay;\n\t\t\t\t\t} );\n\t\t\t\t\tif ( restoreDisplay == null ) {\n\t\t\t\t\t\tdisplay = style.display;\n\t\t\t\t\t\trestoreDisplay = display === \"none\" ? \"\" : display;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always( function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t} );\n\t}\n\n\t// Implement show/hide animations\n\tpropTween = false;\n\tfor ( prop in orig ) {\n\n\t\t// General show/hide setup for this element animation\n\t\tif ( !propTween ) {\n\t\t\tif ( dataShow ) {\n\t\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\t\thidden = dataShow.hidden;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdataShow = dataPriv.access( elem, \"fxshow\", { display: restoreDisplay } );\n\t\t\t}\n\n\t\t\t// Store hidden/visible for toggle so `.stop().toggle()` \"reverses\"\n\t\t\tif ( toggle ) {\n\t\t\t\tdataShow.hidden = !hidden;\n\t\t\t}\n\n\t\t\t// Show elements before animating them\n\t\t\tif ( hidden ) {\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t}\n\n\t\t\t/* eslint-disable no-loop-func */\n\n\t\t\tanim.done( function() {\n\n\t\t\t/* eslint-enable no-loop-func */\n\n\t\t\t\t// The final step of a \"hide\" animation is actually hiding the element\n\t\t\t\tif ( !hidden ) {\n\t\t\t\t\tshowHide( [ elem ] );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( elem, \"fxshow\" );\n\t\t\t\tfor ( prop in orig ) {\n\t\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Per-property setup\n\t\tpropTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\t\tif ( !( prop in dataShow ) ) {\n\t\t\tdataShow[ prop ] = propTween.start;\n\t\t\tif ( hidden ) {\n\t\t\t\tpropTween.end = propTween.start;\n\t\t\t\tpropTween.start = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = jQuery.camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( jQuery.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// Not quite $.extend, this won't overwrite existing keys.\n\t\t\t// Reusing 'index' because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = Animation.prefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\n\t\t\t// Don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t} ),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\n\t\t\t\t// Support: Android 2.3 only\n\t\t\t\t// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ] );\n\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t} else {\n\t\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\t\tanimation = deferred.promise( {\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, {\n\t\t\t\tspecialEasing: {},\n\t\t\t\teasing: jQuery.easing._default\n\t\t\t}, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\n\t\t\t\t\t// If we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// Resolve when we played the last frame; otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} ),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length; index++ ) {\n\t\tresult = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\tif ( jQuery.isFunction( result.stop ) ) {\n\t\t\t\tjQuery._queueHooks( animation.elem, animation.opts.queue ).stop =\n\t\t\t\t\tjQuery.proxy( result.stop, result );\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( jQuery.isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t} )\n\t);\n\n\t// attach callbacks from options\n\treturn animation.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweeners: {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value );\n\t\t\tadjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );\n\t\t\treturn tween;\n\t\t} ]\n\t},\n\n\ttweener: function( props, callback ) {\n\t\tif ( jQuery.isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.match( rnothtmlwhite );\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\tAnimation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];\n\t\t\tAnimation.tweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilters: [ defaultPrefilter ],\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tAnimation.prefilters.unshift( callback );\n\t\t} else {\n\t\t\tAnimation.prefilters.push( callback );\n\t\t}\n\t}\n} );\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tjQuery.isFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !jQuery.isFunction( easing ) && easing\n\t};\n\n\t// Go to the end state if fx are off or if document is hidden\n\tif ( jQuery.fx.off || document.hidden ) {\n\t\topt.duration = 0;\n\n\t} else {\n\t\tif ( typeof opt.duration !== \"number\" ) {\n\t\t\tif ( opt.duration in jQuery.fx.speeds ) {\n\t\t\t\topt.duration = jQuery.fx.speeds[ opt.duration ];\n\n\t\t\t} else {\n\t\t\t\topt.duration = jQuery.fx.speeds._default;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( jQuery.isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend( {\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// Show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHiddenWithinTree ).css( \"opacity\", 0 ).show()\n\n\t\t\t// Animate to the value specified\n\t\t\t.end().animate( { opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || dataPriv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\t\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue && type !== false ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = dataPriv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this &&\n\t\t\t\t\t( type == null || timers[ index ].queue === type ) ) {\n\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Start the next in the queue if the last step wasn't forced.\n\t\t\t// Timers currently will call their complete callbacks, which\n\t\t\t// will dequeue but only if they were gotoEnd.\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t} );\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tvar index,\n\t\t\t\tdata = dataPriv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// Enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// Empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// Look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t} );\n\t}\n} );\n\njQuery.each( [ \"toggle\", \"show\", \"hide\" ], function( i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n} );\n\n// Generate shortcuts for custom animations\njQuery.each( {\n\tslideDown: genFx( \"show\" ),\n\tslideUp: genFx( \"hide\" ),\n\tslideToggle: genFx( \"toggle\" ),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n} );\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = jQuery.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\n\t\t// Checks the timer has not already been removed\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tif ( timer() ) {\n\t\tjQuery.fx.start();\n\t} else {\n\t\tjQuery.timers.pop();\n\t}\n};\n\njQuery.fx.interval = 13;\njQuery.fx.start = function() {\n\tif ( !timerId ) {\n\t\ttimerId = window.requestAnimationFrame ?\n\t\t\twindow.requestAnimationFrame( raf ) :\n\t\t\twindow.setInterval( jQuery.fx.tick, jQuery.fx.interval );\n\t}\n};\n\njQuery.fx.stop = function() {\n\tif ( window.cancelAnimationFrame ) {\n\t\twindow.cancelAnimationFrame( timerId );\n\t} else {\n\t\twindow.clearInterval( timerId );\n\t}\n\n\ttimerId = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\n// https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = window.setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\twindow.clearTimeout( timeout );\n\t\t};\n\t} );\n};\n\n\n( function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: Android <=4.3 only\n\t// Default value for a checkbox should be \"on\"\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Support: IE <=11 only\n\t// Must access selectedIndex to make default options select\n\tsupport.optSelected = opt.selected;\n\n\t// Support: IE <=11 only\n\t// An input loses its value after becoming a radio\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n} )();\n\n\nvar boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend( {\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tattr: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set attributes on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// Attribute hooks are determined by the lowercase version\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\thooks = jQuery.attrHooks[ name.toLowerCase() ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = jQuery.find.attr( elem, name );\n\n\t\t// Non-existent attributes return null, we normalize to undefined\n\t\treturn ret == null ? undefined : ret;\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tjQuery.nodeName( elem, \"input\" ) ) {\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name,\n\t\t\ti = 0,\n\n\t\t\t// Attribute names can contain non-HTML whitespace characters\n\t\t\t// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n\t\t\tattrNames = value && value.match( rnothtmlwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( ( name = attrNames[ i++ ] ) ) {\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\n\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle,\n\t\t\tlowercaseName = name.toLowerCase();\n\n\t\tif ( !isXML ) {\n\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ lowercaseName ];\n\t\t\tattrHandle[ lowercaseName ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tlowercaseName :\n\t\t\t\tnull;\n\t\t\tattrHandle[ lowercaseName ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n} );\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i,\n\trclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend( {\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set properties on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\treturn ( elem[ name ] = value );\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\treturn elem[ name ];\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\t// Support: IE <=9 - 11 only\n\t\t\t\t// elem.tabIndex doesn't always return the\n\t\t\t\t// correct value when it hasn't been explicitly set\n\t\t\t\t// https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n\t\t\t\t// Use proper attribute retrieval(#12072)\n\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\n\n\t\t\t\tif ( tabindex ) {\n\t\t\t\t\treturn parseInt( tabindex, 10 );\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\trfocusable.test( elem.nodeName ) ||\n\t\t\t\t\trclickable.test( elem.nodeName ) &&\n\t\t\t\t\telem.href\n\t\t\t\t) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t}\n} );\n\n// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\n// eslint rule \"no-unused-expressions\" is disabled for this code\n// since it considers such accessions noop\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tset: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\njQuery.each( [\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n} );\n\n\n\n\n\t// Strip and collapse whitespace according to HTML spec\n\t// https://html.spec.whatwg.org/multipage/infrastructure.html#strip-and-collapse-whitespace\n\tfunction stripAndCollapse( value ) {\n\t\tvar tokens = value.match( rnothtmlwhite ) || [];\n\t\treturn tokens.join( \" \" );\n\t}\n\n\nfunction getClass( elem ) {\n\treturn elem.getAttribute && elem.getAttribute( \"class\" ) || \"\";\n}\n\njQuery.fn.extend( {\n\taddClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( typeof value === \"string\" && value ) {\n\t\t\tclasses = value.match( rnothtmlwhite ) || [];\n\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += clazz + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( !arguments.length ) {\n\t\t\treturn this.attr( \"class\", \"\" );\n\t\t}\n\n\t\tif ( typeof value === \"string\" && value ) {\n\t\t\tclasses = value.match( rnothtmlwhite ) || [];\n\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + clazz + \" \" ) > -1 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + clazz + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar type = typeof value;\n\n\t\tif ( typeof stateVal === \"boolean\" && type === \"string\" ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tif ( jQuery.isFunction( value ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).toggleClass(\n\t\t\t\t\tvalue.call( this, i, getClass( this ), stateVal ),\n\t\t\t\t\tstateVal\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar className, i, self, classNames;\n\n\t\t\tif ( type === \"string\" ) {\n\n\t\t\t\t// Toggle individual class names\n\t\t\t\ti = 0;\n\t\t\t\tself = jQuery( this );\n\t\t\t\tclassNames = value.match( rnothtmlwhite ) || [];\n\n\t\t\t\twhile ( ( className = classNames[ i++ ] ) ) {\n\n\t\t\t\t\t// Check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( value === undefined || type === \"boolean\" ) {\n\t\t\t\tclassName = getClass( this );\n\t\t\t\tif ( className ) {\n\n\t\t\t\t\t// Store className if set\n\t\t\t\t\tdataPriv.set( this, \"__className__\", className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed `false`,\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tif ( this.setAttribute ) {\n\t\t\t\t\tthis.setAttribute( \"class\",\n\t\t\t\t\t\tclassName || value === false ?\n\t\t\t\t\t\t\"\" :\n\t\t\t\t\t\tdataPriv.get( this, \"__className__\" ) || \"\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className, elem,\n\t\t\ti = 0;\n\n\t\tclassName = \" \" + selector + \" \";\n\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\tif ( elem.nodeType === 1 &&\n\t\t\t\t( \" \" + stripAndCollapse( getClass( elem ) ) + \" \" ).indexOf( className ) > -1 ) {\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n} );\n\n\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend( {\n\tval: function( value ) {\n\t\tvar hooks, ret, isFunction,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] ||\n\t\t\t\t\tjQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks &&\n\t\t\t\t\t\"get\" in hooks &&\n\t\t\t\t\t( ret = hooks.get( elem, \"value\" ) ) !== undefined\n\t\t\t\t) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\t// Handle most common string cases\n\t\t\t\tif ( typeof ret === \"string\" ) {\n\t\t\t\t\treturn ret.replace( rreturn, \"\" );\n\t\t\t\t}\n\n\t\t\t\t// Handle cases where value is null/undef or number\n\t\t\t\treturn ret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tisFunction = jQuery.isFunction( value );\n\n\t\treturn this.each( function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( isFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( jQuery.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !( \"set\" in hooks ) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\n\t\t\t\t\t// Support: IE <=10 - 11 only\n\t\t\t\t\t// option.text throws exceptions (#14686, #14858)\n\t\t\t\t\t// Strip and collapse whitespace\n\t\t\t\t\t// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n\t\t\t\t\tstripAndCollapse( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option, i,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\",\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length;\n\n\t\t\t\tif ( index < 0 ) {\n\t\t\t\t\ti = max;\n\n\t\t\t\t} else {\n\t\t\t\t\ti = one ? index : 0;\n\t\t\t\t}\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t// IE8-9 doesn't update selected after form reset (#2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t!option.disabled &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled ||\n\t\t\t\t\t\t\t\t!jQuery.nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t/* eslint-disable no-cond-assign */\n\n\t\t\t\t\tif ( option.selected =\n\t\t\t\t\t\tjQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* eslint-enable no-cond-assign */\n\t\t\t\t}\n\n\t\t\t\t// Force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Radios and checkboxes getter/setter\njQuery.each( [ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( jQuery.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\treturn elem.getAttribute( \"value\" ) === null ? \"on\" : elem.value;\n\t\t};\n\t}\n} );\n\n\n\n\n// Return jQuery for attributes-only inclusion\n\n\nvar rfocusMorph = /^(?:focusinfocus|focusoutblur)$/;\n\njQuery.extend( jQuery.event, {\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split( \".\" ) : [];\n\n\t\tcur = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf( \".\" ) > -1 ) {\n\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split( \".\" );\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf( \":\" ) < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join( \".\" );\n\t\tevent.rnamespace = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === ( elem.ownerDocument || document ) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {\n\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = ( dataPriv.get( cur, \"events\" ) || {} )[ event.type ] &&\n\t\t\t\tdataPriv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( ( !special._default ||\n\t\t\t\tspecial._default.apply( eventPath.pop(), data ) === false ) &&\n\t\t\t\tacceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\n\t\t\t\tif ( ontype && jQuery.isFunction( elem[ type ] ) && !jQuery.isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\t\t\t\t\telem[ type ]();\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\t// Piggyback on a donor event to simulate a different one\n\t// Used only for `focus(in | out)` events\n\tsimulate: function( type, elem, event ) {\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true\n\t\t\t}\n\t\t);\n\n\t\tjQuery.event.trigger( e, null, elem );\n\t}\n\n} );\n\njQuery.fn.extend( {\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t} );\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[ 0 ];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n} );\n\n\njQuery.each( ( \"blur focus focusin focusout resize scroll click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup contextmenu\" ).split( \" \" ),\n\tfunction( i, name ) {\n\n\t// Handle event binding\n\tjQuery.fn[ name ] = function( data, fn ) {\n\t\treturn arguments.length > 0 ?\n\t\t\tthis.on( name, null, data, fn ) :\n\t\t\tthis.trigger( name );\n\t};\n} );\n\njQuery.fn.extend( {\n\thover: function( fnOver, fnOut ) {\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\n\t}\n} );\n\n\n\n\nsupport.focusin = \"onfocusin\" in window;\n\n\n// Support: Firefox <=44\n// Firefox doesn't have focus(in | out) events\n// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n//\n// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1\n// focus(in | out) events fire after focus & blur events,\n// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857\nif ( !support.focusin ) {\n\tjQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\n\n\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\n\t\tvar handler = function( event ) {\n\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );\n\t\t};\n\n\t\tjQuery.event.special[ fix ] = {\n\t\t\tsetup: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix );\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.addEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t\tdataPriv.access( doc, fix, ( attaches || 0 ) + 1 );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix ) - 1;\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\n\t\t\t\t\tdataPriv.remove( doc, fix );\n\n\t\t\t\t} else {\n\t\t\t\t\tdataPriv.access( doc, fix, attaches );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t} );\n}\nvar location = window.location;\n\nvar nonce = jQuery.now();\n\nvar rquery = ( /\\?/ );\n\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE throws on parseFromString with invalid input.\n\ttry {\n\t\txml = ( new window.DOMParser() ).parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {\n\t\txml = undefined;\n\t}\n\n\tif ( !xml || xml.getElementsByTagName( \"parsererror\" ).length ) {\n\t\tjQuery.error( \"Invalid XML: \" + data );\n\t}\n\treturn xml;\n};\n\n\nvar\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( jQuery.isArray( obj ) ) {\n\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams(\n\t\t\t\t\tprefix + \"[\" + ( typeof v === \"object\" && v != null ? i : \"\" ) + \"]\",\n\t\t\t\t\tv,\n\t\t\t\t\ttraditional,\n\t\t\t\t\tadd\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t} else if ( !traditional && jQuery.type( obj ) === \"object\" ) {\n\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, valueOrFunction ) {\n\n\t\t\t// If value is a function, invoke it and use its return value\n\t\t\tvar value = jQuery.isFunction( valueOrFunction ) ?\n\t\t\t\tvalueOrFunction() :\n\t\t\t\tvalueOrFunction;\n\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" +\n\t\t\t\tencodeURIComponent( value == null ? \"\" : value );\n\t\t};\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t} );\n\n\t} else {\n\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" );\n};\n\njQuery.fn.extend( {\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map( function() {\n\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t} )\n\t\t.filter( function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t} )\n\t\t.map( function( i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\tif ( val == null ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif ( jQuery.isArray( val ) ) {\n\t\t\t\treturn jQuery.map( val, function( val ) {\n\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t} ).get();\n\t}\n} );\n\n\nvar\n\tr20 = /%20/g,\n\trhash = /#.*$/,\n\trantiCache = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\n\t// #7653, #8125, #8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat( \"*\" ),\n\n\t// Anchor tag for parsing the document origin\n\toriginAnchor = document.createElement( \"a\" );\n\toriginAnchor.href = location.href;\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];\n\n\t\tif ( jQuery.isFunction( func ) ) {\n\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( ( dataType = dataTypes[ i++ ] ) ) {\n\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[ 0 ] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" &&\n\t\t\t\t!seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t} );\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes #9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"Content-Type\" );\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[ 0 ] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s.throws ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstate: \"parsererror\",\n\t\t\t\t\t\t\t\terror: conv ? e : \"No conversion from \" + prev + \" to \" + current\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend( {\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: location.href,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( location.protocol ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /\\bxml\\b/,\n\t\t\thtml: /\\bhtml/,\n\t\t\tjson: /\\bjson\\b/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": JSON.parse,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// Url cleanup var\n\t\t\turlAnchor,\n\n\t\t\t// Request state (becomes false upon send and true upon completion)\n\t\t\tcompleted,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\t// Loop variable\n\t\t\ti,\n\n\t\t\t// uncached part of the url\n\t\t\tuncached,\n\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context &&\n\t\t\t\t( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\t\tjQuery.event,\n\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\n\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( completed ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( ( match = rheaders.exec( responseHeadersString ) ) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[ 1 ].toLowerCase() ] = match[ 2 ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match;\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn completed ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\tname = requestHeadersNames[ name.toLowerCase() ] =\n\t\t\t\t\t\t\trequestHeadersNames[ name.toLowerCase() ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( completed ) {\n\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Lazy-add the new callbacks in a way that preserves old ones\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR );\n\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (#10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || location.href ) + \"\" )\n\t\t\t.replace( rprotocol, location.protocol + \"//\" );\n\n\t\t// Alias method option to type as per ticket #12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = ( s.dataType || \"*\" ).toLowerCase().match( rnothtmlwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when the origin doesn't match the current origin.\n\t\tif ( s.crossDomain == null ) {\n\t\t\turlAnchor = document.createElement( \"a\" );\n\n\t\t\t// Support: IE <=8 - 11, Edge 12 - 13\n\t\t\t// IE throws exception on accessing the href property if url is malformed,\n\t\t\t// e.g. http://example.com:80x/\n\t\t\ttry {\n\t\t\t\turlAnchor.href = s.url;\n\n\t\t\t\t// Support: IE <=8 - 11 only\n\t\t\t\t// Anchor's host property isn't correctly set when s.url is relative\n\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\ts.crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !==\n\t\t\t\t\turlAnchor.protocol + \"//\" + urlAnchor.host;\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// If there is an error parsing the URL, assume it is crossDomain,\n\t\t\t\t// it can be rejected by the transport if it is invalid\n\t\t\t\ts.crossDomain = true;\n\t\t\t}\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( completed ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)\n\t\tfireGlobals = jQuery.event && s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\t// Remove hash to simplify url manipulation\n\t\tcacheURL = s.url.replace( rhash, \"\" );\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// Remember the hash so we can put it back\n\t\t\tuncached = s.url.slice( cacheURL.length );\n\n\t\t\t// If data is available, append data to url\n\t\t\tif ( s.data ) {\n\t\t\t\tcacheURL += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data;\n\n\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add or update anti-cache param if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\tcacheURL = cacheURL.replace( rantiCache, \"$1\" );\n\t\t\t\tuncached = ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + ( nonce++ ) + uncached;\n\t\t\t}\n\n\t\t\t// Put hash and anti-cache on the URL that will be requested (gh-1732)\n\t\t\ts.url = cacheURL + uncached;\n\n\t\t// Change '%20' to '+' if this is encoded form body content (gh-2658)\n\t\t} else if ( s.data && s.processData &&\n\t\t\t( s.contentType || \"\" ).indexOf( \"application/x-www-form-urlencoded\" ) === 0 ) {\n\t\t\ts.data = s.data.replace( r20, \"+\" );\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[ 0 ] ] +\n\t\t\t\t\t( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend &&\n\t\t\t( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {\n\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// Aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tcompleteDeferred.add( s.complete );\n\t\tjqXHR.done( s.success );\n\t\tjqXHR.fail( s.error );\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\n\t\t\t// If request was aborted inside ajaxSend, stop there\n\t\t\tif ( completed ) {\n\t\t\t\treturn jqXHR;\n\t\t\t}\n\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = window.setTimeout( function() {\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tcompleted = false;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// Rethrow post-completion exceptions\n\t\t\t\tif ( completed ) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\t// Propagate others as results\n\t\t\t\tdone( -1, e );\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Ignore repeat invocations\n\t\t\tif ( completed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcompleted = true;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\twindow.clearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"Last-Modified\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"etag\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Extract error from statusText and normalize for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n} );\n\njQuery.each( [ \"get\", \"post\" ], function( i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\n\t\t// Shift arguments if data argument was omitted\n\t\tif ( jQuery.isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\t// The url can be an options object (which then must have .url)\n\t\treturn jQuery.ajax( jQuery.extend( {\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t}, jQuery.isPlainObject( url ) && url ) );\n\t};\n} );\n\n\njQuery._evalUrl = function( url ) {\n\treturn jQuery.ajax( {\n\t\turl: url,\n\n\t\t// Make this explicit, since user can override this through ajaxSetup (#11264)\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tcache: true,\n\t\tasync: false,\n\t\tglobal: false,\n\t\t\"throws\": true\n\t} );\n};\n\n\njQuery.fn.extend( {\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( this[ 0 ] ) {\n\t\t\tif ( jQuery.isFunction( html ) ) {\n\t\t\t\thtml = html.call( this[ 0 ] );\n\t\t\t}\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map( function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t} ).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( jQuery.isFunction( html ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call( this, i ) );\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t} );\n\t},\n\n\twrap: function( html ) {\n\t\tvar isFunction = jQuery.isFunction( html );\n\n\t\treturn this.each( function( i ) {\n\t\t\tjQuery( this ).wrapAll( isFunction ? html.call( this, i ) : html );\n\t\t} );\n\t},\n\n\tunwrap: function( selector ) {\n\t\tthis.parent( selector ).not( \"body\" ).each( function() {\n\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t} );\n\t\treturn this;\n\t}\n} );\n\n\njQuery.expr.pseudos.hidden = function( elem ) {\n\treturn !jQuery.expr.pseudos.visible( elem );\n};\njQuery.expr.pseudos.visible = function( elem ) {\n\treturn !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n};\n\n\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch ( e ) {}\n};\n\nvar xhrSuccessStatus = {\n\n\t\t// File protocol always yields status code 0, assume 200\n\t\t0: 200,\n\n\t\t// Support: IE <=9 only\n\t\t// #1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport( function( options ) {\n\tvar callback, errorCallback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr();\n\n\t\t\t\txhr.open(\n\t\t\t\t\toptions.type,\n\t\t\t\t\toptions.url,\n\t\t\t\t\toptions.async,\n\t\t\t\t\toptions.username,\n\t\t\t\t\toptions.password\n\t\t\t\t);\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[ \"X-Requested-With\" ] ) {\n\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tcallback = errorCallback = xhr.onload =\n\t\t\t\t\t\t\t\txhr.onerror = xhr.onabort = xhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\n\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t// On a manual native abort, IE9 throws\n\t\t\t\t\t\t\t\t// errors on any property access that is not readyState\n\t\t\t\t\t\t\t\tif ( typeof xhr.status !== \"number\" ) {\n\t\t\t\t\t\t\t\t\tcomplete( 0, \"error\" );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcomplete(\n\n\t\t\t\t\t\t\t\t\t\t// File: protocol always yields status 0; see #8605, #14207\n\t\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\n\t\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t\t// IE9 has no XHR2 but throws on binary (trac-11426)\n\t\t\t\t\t\t\t\t\t// For XHR2 non-text, let the caller handle it (gh-2498)\n\t\t\t\t\t\t\t\t\t( xhr.responseType || \"text\" ) !== \"text\"  ||\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText !== \"string\" ?\n\t\t\t\t\t\t\t\t\t\t{ binary: xhr.response } :\n\t\t\t\t\t\t\t\t\t\t{ text: xhr.responseText },\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\terrorCallback = xhr.onerror = callback( \"error\" );\n\n\t\t\t\t// Support: IE 9 only\n\t\t\t\t// Use onreadystatechange to replace onabort\n\t\t\t\t// to handle uncaught aborts\n\t\t\t\tif ( xhr.onabort !== undefined ) {\n\t\t\t\t\txhr.onabort = errorCallback;\n\t\t\t\t} else {\n\t\t\t\t\txhr.onreadystatechange = function() {\n\n\t\t\t\t\t\t// Check readyState before timeout as it changes\n\t\t\t\t\t\tif ( xhr.readyState === 4 ) {\n\n\t\t\t\t\t\t\t// Allow onerror to be called first,\n\t\t\t\t\t\t\t// but that will not handle a native abort\n\t\t\t\t\t\t\t// Also, save errorCallback to a variable\n\t\t\t\t\t\t\t// as xhr.onerror cannot be accessed\n\t\t\t\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\t\t\terrorCallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = callback( \"abort\" );\n\n\t\t\t\ttry {\n\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// #14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\n// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)\njQuery.ajaxPrefilter( function( s ) {\n\tif ( s.crossDomain ) {\n\t\ts.contents.script = false;\n\t}\n} );\n\n// Install script dataType\njQuery.ajaxSetup( {\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, \" +\n\t\t\t\"application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /\\b(?:java|ecma)script\\b/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n} );\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n} );\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\n\t// This transport only deals with cross domain requests\n\tif ( s.crossDomain ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery( \"<script>\" ).prop( {\n\t\t\t\t\tcharset: s.scriptCharset,\n\t\t\t\t\tsrc: s.url\n\t\t\t\t} ).on(\n\t\t\t\t\t\"load error\",\n\t\t\t\t\tcallback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup( {\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n} );\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" &&\n\t\t\t\t( s.contentType || \"\" )\n\t\t\t\t\t.indexOf( \"application/x-www-form-urlencoded\" ) === 0 &&\n\t\t\t\trjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[ \"script json\" ] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// Force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always( function() {\n\n\t\t\t// If previous value didn't exist - remove it\n\t\t\tif ( overwritten === undefined ) {\n\t\t\t\tjQuery( window ).removeProp( callbackName );\n\n\t\t\t// Otherwise restore preexisting value\n\t\t\t} else {\n\t\t\t\twindow[ callbackName ] = overwritten;\n\t\t\t}\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\n\t\t\t\t// Make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// Save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && jQuery.isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t} );\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n} );\n\n\n\n\n// Support: Safari 8 only\n// In Safari 8 documents created via document.implementation.createHTMLDocument\n// collapse sibling forms: the second one becomes a child of the first one.\n// Because of that, this security measure has to be disabled in Safari 8.\n// https://bugs.webkit.org/show_bug.cgi?id=137337\nsupport.createHTMLDocument = ( function() {\n\tvar body = document.implementation.createHTMLDocument( \"\" ).body;\n\tbody.innerHTML = \"<form></form><form></form>\";\n\treturn body.childNodes.length === 2;\n} )();\n\n\n// Argument \"data\" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( typeof data !== \"string\" ) {\n\t\treturn [];\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\n\tvar base, parsed, scripts;\n\n\tif ( !context ) {\n\n\t\t// Stop scripts or inline event handlers from being executed immediately\n\t\t// by using document.implementation\n\t\tif ( support.createHTMLDocument ) {\n\t\t\tcontext = document.implementation.createHTMLDocument( \"\" );\n\n\t\t\t// Set the base href for the created document\n\t\t\t// so any parsed elements with URLs\n\t\t\t// are based on the document's URL (gh-2965)\n\t\t\tbase = context.createElement( \"base\" );\n\t\t\tbase.href = document.location.href;\n\t\t\tcontext.head.appendChild( base );\n\t\t} else {\n\t\t\tcontext = document;\n\t\t}\n\t}\n\n\tparsed = rsingleTag.exec( data );\n\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[ 1 ] ) ];\n\t}\n\n\tparsed = buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf( \" \" );\n\n\tif ( off > -1 ) {\n\t\tselector = stripAndCollapse( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( jQuery.isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax( {\n\t\t\turl: url,\n\n\t\t\t// If \"type\" variable is undefined, then \"GET\" method will be used.\n\t\t\t// Make value of this field explicit since\n\t\t\t// user can override it through ajaxSetup method\n\t\t\ttype: type || \"GET\",\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t} ).done( function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery( \"<div>\" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t// If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n\t\t// but they are ignored because response was set above.\n\t\t// If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n\t\t} ).always( callback && function( jqXHR, status ) {\n\t\t\tself.each( function() {\n\t\t\t\tcallback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn this;\n};\n\n\n\n\n// Attach a bunch of functions for handling common AJAX events\njQuery.each( [\n\t\"ajaxStart\",\n\t\"ajaxStop\",\n\t\"ajaxComplete\",\n\t\"ajaxError\",\n\t\"ajaxSuccess\",\n\t\"ajaxSend\"\n], function( i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n} );\n\n\n\n\njQuery.expr.pseudos.animated = function( elem ) {\n\treturn jQuery.grep( jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t} ).length;\n};\n\n\n\n\n/**\n * Gets a window from an element\n */\nfunction getWindow( elem ) {\n\treturn jQuery.isWindow( elem ) ? elem : elem.nodeType === 9 && elem.defaultView;\n}\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf( \"auto\" ) > -1;\n\n\t\t// Need to be able to calculate position if either\n\t\t// top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( jQuery.isFunction( options ) ) {\n\n\t\t\t// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n\t\t\toptions = options.call( elem, i, jQuery.extend( {}, curOffset ) );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend( {\n\toffset: function( options ) {\n\n\t\t// Preserve chaining for setter\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each( function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t} );\n\t\t}\n\n\t\tvar docElem, win, rect, doc,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !elem ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Support: IE <=11 only\n\t\t// Running getBoundingClientRect on a\n\t\t// disconnected node in IE throws an error\n\t\tif ( !elem.getClientRects().length ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\trect = elem.getBoundingClientRect();\n\n\t\t// Make sure element is not hidden (display: none)\n\t\tif ( rect.width || rect.height ) {\n\t\t\tdoc = elem.ownerDocument;\n\t\t\twin = getWindow( doc );\n\t\t\tdocElem = doc.documentElement;\n\n\t\t\treturn {\n\t\t\t\ttop: rect.top + win.pageYOffset - docElem.clientTop,\n\t\t\t\tleft: rect.left + win.pageXOffset - docElem.clientLeft\n\t\t\t};\n\t\t}\n\n\t\t// Return zeros for disconnected and hidden elements (gh-2310)\n\t\treturn rect;\n\t},\n\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// Fixed elements are offset from window (parentOffset = {top:0, left: 0},\n\t\t// because it is its only offset parent\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\n\t\t\t// Assume getBoundingClientRect is there when computed position is fixed\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\n\t\t\t// Get *real* offsetParent\n\t\t\toffsetParent = this.offsetParent();\n\n\t\t\t// Get correct offsets\n\t\t\toffset = this.offset();\n\t\t\tif ( !jQuery.nodeName( offsetParent[ 0 ], \"html\" ) ) {\n\t\t\t\tparentOffset = offsetParent.offset();\n\t\t\t}\n\n\t\t\t// Add offsetParent borders\n\t\t\tparentOffset = {\n\t\t\t\ttop: parentOffset.top + jQuery.css( offsetParent[ 0 ], \"borderTopWidth\", true ),\n\t\t\t\tleft: parentOffset.left + jQuery.css( offsetParent[ 0 ], \"borderLeftWidth\", true )\n\t\t\t};\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\t// This method will return documentElement in the following cases:\n\t// 1) For the element inside the iframe without offsetParent, this method will return\n\t//    documentElement of the parent window\n\t// 2) For the hidden or detached element\n\t// 3) For body or html element, i.e. in case of the html node - it will return itself\n\t//\n\t// but those exceptions were never presented as a real life use-cases\n\t// and might be considered as more preferable results.\n\t//\n\t// This logic, however, is not guaranteed and can change at any point in the future\n\toffsetParent: function() {\n\t\treturn this.map( function() {\n\t\t\tvar offsetParent = this.offsetParent;\n\n\t\t\twhile ( offsetParent && jQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || documentElement;\n\t\t} );\n\t}\n} );\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\t\t\tvar win = getWindow( elem );\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : win.pageXOffset,\n\t\t\t\t\ttop ? val : win.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length );\n\t};\n} );\n\n// Support: Safari <=7 - 9.1, Chrome <=37 - 49\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each( [ \"top\", \"left\" ], function( i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\n\t\t\t\t// If curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n} );\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( { padding: \"inner\" + name, content: type, \"\": \"outer\" + name },\n\t\tfunction( defaultExtra, funcName ) {\n\n\t\t// Margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( jQuery.isWindow( elem ) ) {\n\n\t\t\t\t\t// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)\n\t\t\t\t\treturn funcName.indexOf( \"outer\" ) === 0 ?\n\t\t\t\t\t\telem[ \"inner\" + name ] :\n\t\t\t\t\t\telem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable );\n\t\t};\n\t} );\n} );\n\n\njQuery.fn.extend( {\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ?\n\t\t\tthis.off( selector, \"**\" ) :\n\t\t\tthis.off( types, selector || \"**\", fn );\n\t}\n} );\n\njQuery.parseJSON = JSON.parse;\n\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( \"jquery\", [], function() {\n\t\treturn jQuery;\n\t} );\n}\n\n\n\n\nvar\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in AMD\n// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (#13566)\nif ( !noGlobal ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\n\nreturn jQuery;\n} );\n"

/***/ },
/* 32 */
/***/ function(module, exports, __webpack_require__) {

	__webpack_require__(30)(__webpack_require__(33))

/***/ },
/* 33 */
/***/ function(module, exports) {

	module.exports = "/* w2ui 1.4.x (nightly) (c) http://w2ui.com, vitmalina@gmail.com */\nvar w2ui=w2ui||{},w2obj=w2obj||{},w2utils=function(){function a(a){var b=/^[-+]?[0-9]+$/;return b.test(a)}function b(a){return\"string\"==typeof a&&(a=a.replace(w2utils.settings.decimalSymbol,\".\")),(\"number\"==typeof a||\"string\"==typeof a&&\"\"!==a)&&!isNaN(Number(a))}function c(a){var b=w2utils.settings,c=new RegExp(\"^\"+(b.currencyPrefix?\"\\\\\"+b.currencyPrefix+\"?\":\"\")+\"[-+]?[0-9]*[\\\\\"+w2utils.settings.decimalSymbol+\"]?[0-9]+\"+(b.currencySuffix?\"\\\\\"+b.currencySuffix+\"?\":\"\")+\"$\",\"i\");return\"string\"==typeof a&&(a=a.replace(new RegExp(b.groupSymbol,\"g\"),\"\")),\"object\"==typeof a||\"\"===a?!1:c.test(a)}function d(a){var b=/^[a-fA-F0-9]+$/;return b.test(a)}function e(a){var b=/^[a-zA-Z0-9_-]+$/;return b.test(a)}function f(a){var b=/^[a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;return b.test(a)}function g(b,c,d){if(!b)return!1;var e,f,g,h=\"Invalid Date\";if(null==c&&(c=w2utils.settings.date_format),\"function\"==typeof b.getUTCFullYear&&\"function\"==typeof b.getUTCMonth&&\"function\"==typeof b.getUTCDate)g=b.getUTCFullYear(),e=b.getUTCMonth(),f=b.getUTCDate();else if(\"function\"==typeof b.getFullYear&&\"function\"==typeof b.getMonth&&\"function\"==typeof b.getDate)g=b.getFullYear(),e=b.getMonth(),f=b.getDate();else{if(b=String(b),RegExp(\"mon\",\"ig\").test(c)){c=c.replace(/month/gi,\"m\").replace(/mon/gi,\"m\").replace(/dd/gi,\"d\").replace(/[, ]/gi,\"/\").replace(/\\/\\//g,\"/\").toLowerCase(),b=b.replace(/[, ]/gi,\"/\").replace(/\\/\\//g,\"/\").toLowerCase();for(var i=0,j=w2utils.settings.fullmonths.length;j>i;i++){var k=w2utils.settings.fullmonths[i];b=b.replace(RegExp(k,\"ig\"),parseInt(i)+1).replace(RegExp(k.substr(0,3),\"ig\"),parseInt(i)+1)}}var l=b.replace(/-/g,\"/\").replace(/\\./g,\"/\").toLowerCase().split(\"/\"),m=c.replace(/-/g,\"/\").replace(/\\./g,\"/\").toLowerCase();\"mm/dd/yyyy\"===m&&(e=l[0],f=l[1],g=l[2]),\"m/d/yyyy\"===m&&(e=l[0],f=l[1],g=l[2]),\"dd/mm/yyyy\"===m&&(e=l[1],f=l[0],g=l[2]),\"d/m/yyyy\"===m&&(e=l[1],f=l[0],g=l[2]),\"yyyy/dd/mm\"===m&&(e=l[2],f=l[1],g=l[0]),\"yyyy/d/m\"===m&&(e=l[2],f=l[1],g=l[0]),\"yyyy/mm/dd\"===m&&(e=l[1],f=l[2],g=l[0]),\"yyyy/m/d\"===m&&(e=l[1],f=l[2],g=l[0]),\"mm/dd/yy\"===m&&(e=l[0],f=l[1],g=l[2]),\"m/d/yy\"===m&&(e=l[0],f=l[1],g=parseInt(l[2])+1900),\"dd/mm/yy\"===m&&(e=l[1],f=l[0],g=parseInt(l[2])+1900),\"d/m/yy\"===m&&(e=l[1],f=l[0],g=parseInt(l[2])+1900),\"yy/dd/mm\"===m&&(e=l[2],f=l[1],g=parseInt(l[0])+1900),\"yy/d/m\"===m&&(e=l[2],f=l[1],g=parseInt(l[0])+1900),\"yy/mm/dd\"===m&&(e=l[1],f=l[2],g=parseInt(l[0])+1900),\"yy/m/d\"===m&&(e=l[1],f=l[2],g=parseInt(l[0])+1900)}return a(g)&&a(e)&&a(f)?(g=+g,e=+e,f=+f,h=new Date(g,e-1,f),null==e?!1:\"Invalid Date\"==String(h)?!1:h.getMonth()+1!==e||h.getDate()!==f||h.getFullYear()!==g?!1:d===!0?h:!0):!1}function h(a,b){if(null==a)return!1;var c,d;a=String(a),a=a.toUpperCase(),d=a.indexOf(\"PM\")>=0;var e=d||a.indexOf(\"AM\")>=0;c=e?12:24,a=a.replace(\"AM\",\"\").replace(\"PM\",\"\"),a=$.trim(a);var f=a.split(\":\"),g=parseInt(f[0]||0),h=parseInt(f[1]||0);return e&&1===f.length||2===f.length?\"\"===f[0]||0>g||g>c||!this.isInt(f[0])||f[0].length>2?!1:2===f.length&&(\"\"===f[1]||0>h||h>59||!this.isInt(f[1])||2!==f[1].length)?!1:e||c!==g||0===h?e&&1===f.length&&0===g?!1:b===!0?(d&&(g+=12),{hours:g,minutes:h}):!0:!1:!1}function i(a){if(\"\"===a||null==a)return\"\";var b=new Date(a);if(w2utils.isInt(a)&&(b=new Date(Number(a))),\"Invalid Date\"==String(b))return\"\";var c=new Date,d=(c.getTime()-b.getTime())/1e3,e=\"\",f=\"\";return 0>d?(e='<span style=\"color: #aaa\">future</span>',f=\"\"):60>d?(e=Math.floor(d),f=\"sec\",0>d&&(e=0,f=\"sec\")):3600>d?(e=Math.floor(d/60),f=\"min\"):86400>d?(e=Math.floor(d/60/60),f=\"hour\"):2592e3>d?(e=Math.floor(d/24/60/60),f=\"day\"):31557600>d?(e=Math.floor(d/365.25/24/60/60*10)/10,f=\"month\"):d>=31557600&&(e=Math.floor(d/365.25/24/60/60*10)/10,f=\"year\"),e+\" \"+f+(e>1?\"s\":\"\")}function j(a){if(\"\"===a||null==a)return\"\";var b=new Date(a);if(w2utils.isInt(a)&&(b=new Date(Number(a))),\"Invalid Date\"==String(b))return\"\";var c=w2utils.settings.shortmonths,d=new Date,e=new Date;e.setTime(e.getTime()-864e5);var f=c[b.getMonth()]+\" \"+b.getDate()+\", \"+b.getFullYear(),g=c[d.getMonth()]+\" \"+d.getDate()+\", \"+d.getFullYear(),h=c[e.getMonth()]+\" \"+e.getDate()+\", \"+e.getFullYear(),i=b.getHours()-(b.getHours()>12?12:0)+\":\"+(b.getMinutes()<10?\"0\":\"\")+b.getMinutes()+\" \"+(b.getHours()>=12?\"pm\":\"am\"),j=b.getHours()-(b.getHours()>12?12:0)+\":\"+(b.getMinutes()<10?\"0\":\"\")+b.getMinutes()+\":\"+(b.getSeconds()<10?\"0\":\"\")+b.getSeconds()+\" \"+(b.getHours()>=12?\"pm\":\"am\"),k=f;return f===g&&(k=i),f===h&&(k=w2utils.lang(\"Yesterday\")),'<span title=\"'+f+\" \"+j+'\">'+k+\"</span>\"}function k(a){if(!w2utils.isFloat(a)||\"\"===a)return\"\";if(a=parseFloat(a),0===a)return 0;var b=[\"Bt\",\"KB\",\"MB\",\"GB\",\"TB\"],c=parseInt(Math.floor(Math.log(a)/Math.log(1024)));return(Math.floor(a/Math.pow(1024,c)*10)/10).toFixed(0===c?0:1)+\" \"+b[c]}function l(a,b,c){var d=\"\";return null==b&&(b=w2utils.settings.groupSymbol||\",\"),null==c&&(c=w2utils.settings.decimalSymbol||\".\"),(w2utils.isFloat(a)||w2utils.isInt(a)||w2utils.isMoney(a))&&(E=String(a).split(\".\"),d=String(E[0]).replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g,\"$1\"+b),null!=E[1]&&(d+=w2utils.settings.decimalSymbol+E[1])),d}function m(a,b){w2utils.settings.shortmonths,w2utils.settings.fullmonths;if(b||(b=this.settings.date_format),\"\"===a||null==a||\"object\"==typeof a&&!a.getMonth)return\"\";var c=new Date(a);if(w2utils.isInt(a)&&(c=new Date(Number(a))),\"Invalid Date\"==String(c))return\"\";var d=c.getFullYear(),e=c.getMonth(),f=c.getDate();return b.toLowerCase().replace(\"month\",w2utils.settings.fullmonths[e]).replace(\"mon\",w2utils.settings.shortmonths[e]).replace(/yyyy/g,d).replace(/yyy/g,d).replace(/yy/g,d>2e3?100+parseInt(String(d).substr(2)):String(d).substr(2)).replace(/(^|[^a-z$])y/g,\"$1\"+d).replace(/mm/g,(10>e+1?\"0\":\"\")+(e+1)).replace(/dd/g,(10>f?\"0\":\"\")+f).replace(/th/g,1==f?\"st\":\"th\").replace(/th/g,2==f?\"nd\":\"th\").replace(/th/g,3==f?\"rd\":\"th\").replace(/(^|[^a-z$])m/g,\"$1\"+(e+1)).replace(/(^|[^a-z$])d/g,\"$1\"+f)}function n(a,b){w2utils.settings.shortmonths,w2utils.settings.fullmonths;if(b||(b=this.settings.time_format),\"\"===a||null==a||\"object\"==typeof a&&!a.getMonth)return\"\";var c=new Date(a);if(w2utils.isInt(a)&&(c=new Date(Number(a))),w2utils.isTime(a)){var d=w2utils.isTime(a,!0);c=new Date,c.setHours(d.hours),c.setMinutes(d.minutes)}if(\"Invalid Date\"==String(c))return\"\";var e=\"am\",f=c.getHours(),g=c.getHours(),h=c.getMinutes(),i=c.getSeconds();return 10>h&&(h=\"0\"+h),10>i&&(i=\"0\"+i),(-1!==b.indexOf(\"am\")||-1!==b.indexOf(\"pm\"))&&(f>=12&&(e=\"pm\"),f>12&&(f-=12)),b.toLowerCase().replace(\"am\",e).replace(\"pm\",e).replace(\"hhh\",10>f?\"0\"+f:f).replace(\"hh24\",10>g?\"0\"+g:g).replace(\"h24\",g).replace(\"hh\",f).replace(\"mm\",h).replace(\"mi\",h).replace(\"ss\",i).replace(/(^|[^a-z$])h/g,\"$1\"+f).replace(/(^|[^a-z$])m/g,\"$1\"+h).replace(/(^|[^a-z$])s/g,\"$1\"+i)}function o(a,b){var c;return\"\"===a||null==a||\"object\"==typeof a&&!a.getMonth?\"\":(c=\"string\"!=typeof b?[this.settings.date_format,this.settings.time_format]:b.split(\"|\"),this.formatDate(a,c[0])+\" \"+this.formatTime(a,c[1]))}function p(a){if(null===a)return a;switch(typeof a){case\"number\":break;case\"string\":a=$.trim(String(a).replace(/(<([^>]+)>)/gi,\"\"));break;case\"object\":for(var b in a)a[b]=this.stripTags(a[b])}return a}function q(a){if(null===a)return a;switch(typeof a){case\"number\":break;case\"string\":a=String(a).replace(/&/g,\"&amp;\").replace(/>/g,\"&gt;\").replace(/</g,\"&lt;\").replace(/\"/g,\"&quot;\");break;case\"object\":for(var b in a)a[b]=this.encodeTags(a[b])}return a}function r(a){return\"\"===a||null==a?\"\":String(a).replace(/([;&,\\.\\+\\*\\~'`:\"\\!\\^#$%@\\[\\]\\(\\)=<>\\|\\/? {}\\\\])/g,\"\\\\$1\")}function s(a){function b(a){for(var a=String(a).replace(/\\r\\n/g,\"\\n\"),b=\"\",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b}var c,d,e,f,g,h,i,j=\"\",k=0,l=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";for(a=b(a);k<a.length;)c=a.charCodeAt(k++),d=a.charCodeAt(k++),e=a.charCodeAt(k++),f=c>>2,g=(3&c)<<4|d>>4,h=(15&d)<<2|e>>6,i=63&e,isNaN(d)?h=i=64:isNaN(e)&&(i=64),j=j+l.charAt(f)+l.charAt(g)+l.charAt(h)+l.charAt(i);return j}function t(a){function b(a){for(var b,c,d=\"\",e=0,f=0;e<a.length;)f=a.charCodeAt(e),128>f?(d+=String.fromCharCode(f),e++):f>191&&224>f?(b=a.charCodeAt(e+1),d+=String.fromCharCode((31&f)<<6|63&b),e+=2):(b=a.charCodeAt(e+1),c=a.charCodeAt(e+2),d+=String.fromCharCode((15&f)<<12|(63&b)<<6|63&c),e+=3);return d}var c,d,e,f,g,h,i,j=\"\",k=0,l=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";for(a=a.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\");k<a.length;)f=l.indexOf(a.charAt(k++)),g=l.indexOf(a.charAt(k++)),h=l.indexOf(a.charAt(k++)),i=l.indexOf(a.charAt(k++)),c=f<<2|g>>4,d=(15&g)<<4|h>>2,e=(3&h)<<6|i,j+=String.fromCharCode(c),64!==h&&(j+=String.fromCharCode(d)),64!==i&&(j+=String.fromCharCode(e));return j=b(j)}function u(a,b,c,d){function e(a,b,c){var d=!!window.webkitURL;return d||\"undefined\"==typeof c||(b=c),\";\"+a+\": \"+b+\"; -webkit-\"+a+\": \"+b+\"; -moz-\"+a+\": \"+b+\"; -ms-\"+a+\": \"+b+\"; -o-\"+a+\": \"+b+\";\"}var f=$(a).width(),g=$(a).height(),h=.5;if(!a||!b)return void console.log(\"ERROR: Cannot do transition when one of the divs is null\");switch(a.parentNode.style.cssText+=e(\"perspective\",\"700px\")+\"; overflow: hidden;\",a.style.cssText+=\"; position: absolute; z-index: 1019; \"+e(\"backface-visibility\",\"hidden\"),b.style.cssText+=\"; position: absolute; z-index: 1020; \"+e(\"backface-visibility\",\"hidden\"),c){case\"slide-left\":a.style.cssText+=\"overflow: hidden; \"+e(\"transform\",\"translate3d(0, 0, 0)\",\"translate(0, 0)\"),b.style.cssText+=\"overflow: hidden; \"+e(\"transform\",\"translate3d(\"+f+\"px, 0, 0)\",\"translate(\"+f+\"px, 0)\"),$(b).show(),window.setTimeout(function(){b.style.cssText+=e(\"transition\",h+\"s\")+\";\"+e(\"transform\",\"translate3d(0, 0, 0)\",\"translate(0, 0)\"),a.style.cssText+=e(\"transition\",h+\"s\")+\";\"+e(\"transform\",\"translate3d(-\"+f+\"px, 0, 0)\",\"translate(-\"+f+\"px, 0)\")},1);break;case\"slide-right\":a.style.cssText+=\"overflow: hidden; \"+e(\"transform\",\"translate3d(0, 0, 0)\",\"translate(0, 0)\"),b.style.cssText+=\"overflow: hidden; \"+e(\"transform\",\"translate3d(-\"+f+\"px, 0, 0)\",\"translate(-\"+f+\"px, 0)\"),$(b).show(),window.setTimeout(function(){b.style.cssText+=e(\"transition\",h+\"s\")+\"; \"+e(\"transform\",\"translate3d(0px, 0, 0)\",\"translate(0px, 0)\"),a.style.cssText+=e(\"transition\",h+\"s\")+\"; \"+e(\"transform\",\"translate3d(\"+f+\"px, 0, 0)\",\"translate(\"+f+\"px, 0)\")},1);break;case\"slide-down\":a.style.cssText+=\"overflow: hidden; z-index: 1; \"+e(\"transform\",\"translate3d(0, 0, 0)\",\"translate(0, 0)\"),b.style.cssText+=\"overflow: hidden; z-index: 0; \"+e(\"transform\",\"translate3d(0, 0, 0)\",\"translate(0, 0)\"),$(b).show(),window.setTimeout(function(){b.style.cssText+=e(\"transition\",h+\"s\")+\"; \"+e(\"transform\",\"translate3d(0, 0, 0)\",\"translate(0, 0)\"),a.style.cssText+=e(\"transition\",h+\"s\")+\"; \"+e(\"transform\",\"translate3d(0, \"+g+\"px, 0)\",\"translate(0, \"+g+\"px)\")},1);break;case\"slide-up\":a.style.cssText+=\"overflow: hidden; \"+e(\"transform\",\"translate3d(0, 0, 0)\",\"translate(0, 0)\"),b.style.cssText+=\"overflow: hidden; \"+e(\"transform\",\"translate3d(0, \"+g+\"px, 0)\",\"translate(0, \"+g+\"px)\"),$(b).show(),window.setTimeout(function(){b.style.cssText+=e(\"transition\",h+\"s\")+\"; \"+e(\"transform\",\"translate3d(0, 0, 0)\",\"translate(0, 0)\"),a.style.cssText+=e(\"transition\",h+\"s\")+\"; \"+e(\"transform\",\"translate3d(0, 0, 0)\",\"translate(0, 0)\")},1);break;case\"flip-left\":a.style.cssText+=\"overflow: hidden; \"+e(\"transform\",\"rotateY(0deg)\"),b.style.cssText+=\"overflow: hidden; \"+e(\"transform\",\"rotateY(-180deg)\"),$(b).show(),window.setTimeout(function(){b.style.cssText+=e(\"transition\",h+\"s\")+\"; \"+e(\"transform\",\"rotateY(0deg)\"),a.style.cssText+=e(\"transition\",h+\"s\")+\"; \"+e(\"transform\",\"rotateY(180deg)\")},1);break;case\"flip-right\":a.style.cssText+=\"overflow: hidden; \"+e(\"transform\",\"rotateY(0deg)\"),b.style.cssText+=\"overflow: hidden; \"+e(\"transform\",\"rotateY(180deg)\"),$(b).show(),window.setTimeout(function(){b.style.cssText+=e(\"transition\",h+\"s\")+\"; \"+e(\"transform\",\"rotateY(0deg)\"),a.style.cssText+=e(\"transition\",h+\"s\")+\"; \"+e(\"transform\",\"rotateY(-180deg)\")},1);break;case\"flip-down\":a.style.cssText+=\"overflow: hidden; \"+e(\"transform\",\"rotateX(0deg)\"),b.style.cssText+=\"overflow: hidden; \"+e(\"transform\",\"rotateX(180deg)\"),$(b).show(),window.setTimeout(function(){b.style.cssText+=e(\"transition\",h+\"s\")+\"; \"+e(\"transform\",\"rotateX(0deg)\"),a.style.cssText+=e(\"transition\",h+\"s\")+\"; \"+e(\"transform\",\"rotateX(-180deg)\")},1);break;case\"flip-up\":a.style.cssText+=\"overflow: hidden; \"+e(\"transform\",\"rotateX(0deg)\"),b.style.cssText+=\"overflow: hidden; \"+e(\"transform\",\"rotateX(-180deg)\"),$(b).show(),window.setTimeout(function(){b.style.cssText+=e(\"transition\",h+\"s\")+\"; \"+e(\"transform\",\"rotateX(0deg)\"),a.style.cssText+=e(\"transition\",h+\"s\")+\"; \"+e(\"transform\",\"rotateX(180deg)\")},1);break;case\"pop-in\":a.style.cssText+=\"overflow: hidden; \"+e(\"transform\",\"translate3d(0, 0, 0)\",\"translate(0, 0)\"),b.style.cssText+=\"overflow: hidden; \"+e(\"transform\",\"translate3d(0, 0, 0)\",\"translate(0, 0)\")+\"; \"+e(\"transform\",\"scale(.8)\")+\"; opacity: 0;\",$(b).show(),window.setTimeout(function(){b.style.cssText+=e(\"transition\",h+\"s\")+\"; \"+e(\"transform\",\"scale(1)\")+\"; opacity: 1;\",a.style.cssText+=e(\"transition\",h+\"s\")+\";\"},1);break;case\"pop-out\":a.style.cssText+=\"overflow: hidden; \"+e(\"transform\",\"translate3d(0, 0, 0)\",\"translate(0, 0)\")+\"; \"+e(\"transform\",\"scale(1)\")+\"; opacity: 1;\",b.style.cssText+=\"overflow: hidden; \"+e(\"transform\",\"translate3d(0, 0, 0)\",\"translate(0, 0)\")+\"; opacity: 0;\",$(b).show(),window.setTimeout(function(){b.style.cssText+=e(\"transition\",h+\"s\")+\"; opacity: 1;\",a.style.cssText+=e(\"transition\",h+\"s\")+\"; \"+e(\"transform\",\"scale(1.7)\")+\"; opacity: 0;\"},1);break;default:a.style.cssText+=\"overflow: hidden; \"+e(\"transform\",\"translate3d(0, 0, 0)\",\"translate(0, 0)\"),b.style.cssText+=\"overflow: hidden; \"+e(\"transform\",\"translate3d(0, 0, 0)\",\"translate(0, 0)\")+\"; opacity: 0;\",$(b).show(),window.setTimeout(function(){b.style.cssText+=e(\"transition\",h+\"s\")+\"; opacity: 1;\",a.style.cssText+=e(\"transition\",h+\"s\")},1)}setTimeout(function(){\"slide-down\"===c&&($(a).css(\"z-index\",\"1019\"),$(b).css(\"z-index\",\"1020\")),b&&$(b).css({opacity:\"1\",\"-webkit-transition\":\"\",\"-moz-transition\":\"\",\"-ms-transition\":\"\",\"-o-transition\":\"\",\"-webkit-transform\":\"\",\"-moz-transform\":\"\",\"-ms-transform\":\"\",\"-o-transform\":\"\",\"-webkit-backface-visibility\":\"\",\"-moz-backface-visibility\":\"\",\"-ms-backface-visibility\":\"\",\"-o-backface-visibility\":\"\"}),a&&($(a).css({opacity:\"1\",\"-webkit-transition\":\"\",\"-moz-transition\":\"\",\"-ms-transition\":\"\",\"-o-transition\":\"\",\"-webkit-transform\":\"\",\"-moz-transform\":\"\",\"-ms-transform\":\"\",\"-o-transform\":\"\",\"-webkit-backface-visibility\":\"\",\"-moz-backface-visibility\":\"\",\"-ms-backface-visibility\":\"\",\"-o-backface-visibility\":\"\"}),a.parentNode&&$(a.parentNode).css({\"-webkit-perspective\":\"\",\"-moz-perspective\":\"\",\"-ms-perspective\":\"\",\"-o-perspective\":\"\"})),\"function\"==typeof d&&d()},1e3*h)}function v(a,b,c){var d={};\"object\"==typeof b?d=b:(d.msg=b,d.spinner=c),d.msg||0===d.msg||(d.msg=\"\"),w2utils.unlock(a),$(a).prepend('<div class=\"w2ui-lock\"></div><div class=\"w2ui-lock-msg\"></div>');var e=$(a).find(\".w2ui-lock\"),f=$(a).find(\".w2ui-lock-msg\");d.msg||f.css({\"background-color\":\"transparent\",border:\"0px\"}),d.spinner===!0&&(d.msg='<div class=\"w2ui-spinner\" '+(d.msg?\"\":'style=\"width: 35px; height: 35px\"')+\"></div>\"+d.msg),null!=d.opacity&&e.css(\"opacity\",d.opacity),\"function\"==typeof e.fadeIn?(e.fadeIn(200),f.html(d.msg).fadeIn(200)):(e.show(),f.html(d.msg).show(0)),$().w2tag()}function w(a){$(a).find(\".w2ui-lock\").remove(),$(a).find(\".w2ui-lock-msg\").remove()}function x(a,b){var c=$(a),d={left:parseInt(c.css(\"border-left-width\"))||0,right:parseInt(c.css(\"border-right-width\"))||0,top:parseInt(c.css(\"border-top-width\"))||0,bottom:parseInt(c.css(\"border-bottom-width\"))||0},e={left:parseInt(c.css(\"margin-left\"))||0,right:parseInt(c.css(\"margin-right\"))||0,top:parseInt(c.css(\"margin-top\"))||0,bottom:parseInt(c.css(\"margin-bottom\"))||0},f={left:parseInt(c.css(\"padding-left\"))||0,right:parseInt(c.css(\"padding-right\"))||0,top:parseInt(c.css(\"padding-top\"))||0,bottom:parseInt(c.css(\"padding-bottom\"))||0};switch(b){case\"top\":return d.top+e.top+f.top;case\"bottom\":return d.bottom+e.bottom+f.bottom;case\"left\":return d.left+e.left+f.left;case\"right\":return d.right+e.right+f.right;case\"width\":return d.left+d.right+e.left+e.right+f.left+f.right+parseInt(c.width());case\"height\":return d.top+d.bottom+e.top+e.bottom+f.top+f.bottom+parseInt(c.height());case\"+width\":return d.left+d.right+e.left+e.right+f.left+f.right;case\"+height\":return d.top+d.bottom+e.top+e.bottom+f.top+f.bottom}return 0}function y(a){var b=this.settings.phrases[a];return null==b?a:b}function z(a){a||(a=\"en-us\"),5===a.length&&(a=\"locale/\"+a+\".json\"),$.ajax({url:a,type:\"GET\",dataType:\"JSON\",async:!1,cache:!1,success:function(a){w2utils.settings=$.extend(!0,w2utils.settings,a);var b=w2obj.grid.prototype;for(var c in b.buttons)b.buttons[c].caption=w2utils.lang(b.buttons[c].caption),b.buttons[c].hint=w2utils.lang(b.buttons[c].hint);b.msgDelete=w2utils.lang(b.msgDelete),b.msgNotJSON=w2utils.lang(b.msgNotJSON),b.msgRefresh=w2utils.lang(b.msgRefresh)},error:function(){console.log(\"ERROR: Cannot load locale \"+a)}})}function A(){if(E.scrollBarSize)return E.scrollBarSize;var a='<div id=\"_scrollbar_width\" style=\"position: absolute; top: -300px; width: 100px; height: 100px; overflow-y: scroll;\">    <div style=\"height: 120px\">1</div></div>';return $(\"body\").append(a),E.scrollBarSize=100-$(\"#_scrollbar_width > div\").width(),$(\"#_scrollbar_width\").remove(),String(navigator.userAgent).indexOf(\"MSIE\")>=0&&(E.scrollBarSize=E.scrollBarSize/2),E.scrollBarSize}function B(a,b){return a&&\"undefined\"!=typeof a.name?\"undefined\"!=typeof w2ui[a.name]?(console.log('ERROR: The parameter \"name\" is not unique. There are other objects already created with the same name (obj: '+a.name+\").\"),!1):w2utils.isAlphaNumeric(a.name)?!0:(console.log('ERROR: The parameter \"name\" has to be alpha-numeric (a-z, 0-9, dash and underscore). '),!1):(console.log('ERROR: The parameter \"name\" is required but not supplied in $().'+b+\"().\"),!1)}function C(a,b,c,d){$.isArray(b)||(b=[b]);for(var e=0;e<b.length;e++)if(b[e].id===a)return console.log('ERROR: The parameter \"id='+a+'\" is not unique within the current '+c+\". (obj: \"+d+\")\"),!1;return!0}function D(a){var b=[],c=a.replace(/\\/\\(/g,\"(?:/\").replace(/\\+/g,\"__plus__\").replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?/g,function(a,c,d,e,f,g){return b.push({name:e,optional:!!g}),c=c||\"\",\"\"+(g?\"\":c)+\"(?:\"+(g?c:\"\")+(d||\"\")+(f||d&&\"([^/.]+?)\"||\"([^/]+?)\")+\")\"+(g||\"\")}).replace(/([\\/.])/g,\"\\\\$1\").replace(/__plus__/g,\"(.+)\").replace(/\\*/g,\"(.*)\");return{path:new RegExp(\"^\"+c+\"$\",\"i\"),keys:b}}var E={},F={version:\"1.4.3\",settings:{locale:\"en-us\",date_format:\"m/d/yyyy\",date_display:\"Mon d, yyyy\",time_format:\"hh:mi pm\",currencyPrefix:\"$\",currencySuffix:\"\",currencyPrecision:2,groupSymbol:\",\",decimalSymbol:\".\",shortmonths:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],fullmonths:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],shortdays:[\"M\",\"T\",\"W\",\"T\",\"F\",\"S\",\"S\"],fulldays:[\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\",\"Sunday\"],dataType:\"HTTP\",phrases:{}},isInt:a,isFloat:b,isMoney:c,isHex:d,isAlphaNumeric:e,isEmail:f,isDate:g,isTime:h,age:i,date:j,size:k,formatNumber:l,formatDate:m,formatTime:n,formatDateTime:o,stripTags:p,encodeTags:q,escapeId:r,base64encode:s,base64decode:t,transition:u,lock:v,unlock:w,lang:y,locale:z,getSize:x,scrollBarSize:A,checkName:B,checkUniqueId:C,parseRoute:D,isIOS:-1!=navigator.userAgent.toLowerCase().indexOf(\"iphone\")||-1!=navigator.userAgent.toLowerCase().indexOf(\"ipod\")||-1!=navigator.userAgent.toLowerCase().indexOf(\"ipad\")?!0:!1,isIE:-1!=navigator.userAgent.toLowerCase().indexOf(\"msie\")||-1!=navigator.userAgent.toLowerCase().indexOf(\"trident\")?!0:!1};return F}();w2utils.event={on:function(a,b){return $.isPlainObject(a)||(a={type:a}),a=$.extend({type:null,execute:\"before\",target:null,onComplete:null},a),a.type?b?($.isArray(this.handlers)||(this.handlers=[]),void this.handlers.push({event:a,handler:b})):void console.log(\"ERROR: You must specify event handler function when calling .on() method of \"+this.name):void console.log(\"ERROR: You must specify event type when calling .on() method of \"+this.name)},off:function(a,b){if($.isPlainObject(a)||(a={type:a}),a=$.extend({},{type:null,execute:\"before\",target:null,onComplete:null},a),!a.type)return void console.log(\"ERROR: You must specify event type when calling .off() method of \"+this.name);b||(b=null);for(var c=[],d=0,e=this.handlers.length;e>d;d++){var f=this.handlers[d];(f.event.type!==a.type&&\"*\"!==a.type||f.event.target!==a.target&&null!==a.target||f.handler!==b&&null!==b)&&c.push(f)}this.handlers=c},trigger:function(a){var a=$.extend({type:null,phase:\"before\",target:null},a,{isStopped:!1,isCancelled:!1,preventDefault:function(){this.isCancelled=!0},stopPropagation:function(){this.isStopped=!0}});\"before\"===a.phase&&(a.onComplete=null);var b,c,d;null==a.target&&(a.target=null),$.isArray(this.handlers)||(this.handlers=[]);for(var e=this.handlers.length-1;e>=0;e--){var f=this.handlers[e];if(!(f.event.type!==a.type&&\"*\"!==f.event.type||f.event.target!==a.target&&null!==f.event.target||f.event.execute!==a.phase&&\"*\"!==f.event.execute&&\"*\"!==f.event.phase)&&(a=$.extend({},f.event,a),b=[],d=RegExp(/\\((.*?)\\)/).exec(f.handler),d&&(b=d[1].split(/\\s*,\\s*/)),2===b.length?f.handler.call(this,a.target,a):f.handler.call(this,a),a.isStopped===!0||a.stop===!0))return a}var g=\"on\"+a.type.substr(0,1).toUpperCase()+a.type.substr(1);return\"before\"===a.phase&&\"function\"==typeof this[g]&&(c=this[g],b=[],d=RegExp(/\\((.*?)\\)/).exec(c),d&&(b=d[1].split(/\\s*,\\s*/)),2===b.length?c.call(this,a.target,a):c.call(this,a),a.isStopped===!0||a.stop===!0)?a:null!=a.object&&\"before\"===a.phase&&\"function\"==typeof a.object[g]&&(c=a.object[g],b=[],d=RegExp(/\\((.*?)\\)/).exec(c),d&&(b=d[1].split(/\\s*,\\s*/)),2===b.length?c.call(this,a.target,a):c.call(this,a),a.isStopped===!0||a.stop===!0)?a:(\"after\"===a.phase&&\"function\"==typeof a.onComplete&&a.onComplete.call(this,a),a)}},w2utils.keyboard=function(a){function b(){$(document).on(\"keydown\",c),$(document).on(\"mousedown\",d)}function c(a){var b=a.target.tagName;-1===$.inArray(b,[\"INPUT\",\"SELECT\",\"TEXTAREA\"])&&\"true\"!==$(a.target).prop(\"contenteditable\")&&g&&w2ui[g]&&\"function\"==typeof w2ui[g].keydown&&w2ui[g].keydown.call(w2ui[g],a)}function d(a){var b=(a.target.tagName,$(a.target).parents(\".w2ui-reset\"));if(b.length>0){var c=b.attr(\"name\");w2ui[c]&&w2ui[c].keyboard&&(g=c)}}function e(a){return\"undefined\"!=typeof a&&(g=a),g}function f(){g=null}var g=null;return a.active=e,a.clear=f,b(),a}({}),function(){$.fn.w2render=function(a){$(this).length>0&&(\"string\"==typeof a&&w2ui[a]&&w2ui[a].render($(this)[0]),\"object\"==typeof a&&a.render($(this)[0]))},$.fn.w2destroy=function(a){!a&&this.length>0&&(a=this.attr(\"name\")),\"string\"==typeof a&&w2ui[a]&&w2ui[a].destroy(),\"object\"==typeof a&&a.destroy()},$.fn.w2marker=function(a){return $(this).each(\"\"===a||null==a?function(a,b){b.innerHTML=b.innerHTML.replace(/\\<span class=\\\"w2ui\\-marker\\\"\\>(.*)\\<\\/span\\>/gi,\"$1\")}:function(b,c){function d(a){return'<span class=\"w2ui-marker\">'+a+\"</span>\"}\"string\"==typeof a&&(a=[a]),c.innerHTML=c.innerHTML.replace(/\\<span class=\\\"w2ui\\-marker\\\"\\>(.*)\\<\\/span\\>/gi,\"$1\");for(var e in a){var f=a[e];\"string\"!=typeof f&&(f=String(f)),f=f.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\").replace(/&/g,\"&amp;\").replace(/</g,\"&gt;\").replace(/>/g,\"&lt;\");var g=new RegExp(f+\"(?!([^<]+)?>)\",\"gi\");c.innerHTML=c.innerHTML.replace(g,d)}})},$.fn.w2tag=function(a,b){return $.isPlainObject(b)||(b={}),$.isPlainObject(b.css)||(b.css={}),\"undefined\"==typeof b[\"class\"]&&(b[\"class\"]=\"\"),0===$(this).length?void $(\".w2ui-tag\").each(function(a,b){var c=$(b).data(\"options\");null==c&&(c={}),$($(b).data(\"taged-el\")).removeClass(c[\"class\"]),clearInterval($(b).data(\"timer\")),$(b).remove()}):$(this).each(function(c,d){function e(){$tag=$(\"#w2ui-tag-\"+g),$tag.length<=0||(clearInterval($tag.data(\"timer\")),$tag.remove(),$(d).off(\"keypress\",e).removeClass(b[\"class\"]),$(d).length>0&&($(d)[0].style.cssText=i),\"function\"==typeof b.onHide&&b.onHide())}var f=d.id,g=w2utils.escapeId(d.id);if(\"\"===a||null==a)$(\"#w2ui-tag-\"+g).css(\"opacity\",0),setTimeout(function(){clearInterval($(\"#w2ui-tag-\"+g).data(\"timer\")),$(\"#w2ui-tag-\"+g).remove()},300);else{clearInterval($(\"#w2ui-tag-\"+g).data(\"timer\")),$(\"#w2ui-tag-\"+g).remove(),$(\"body\").append('<div id=\"w2ui-tag-'+f+'\" class=\"w2ui-tag '+($(d).parents(\".w2ui-popup\").length>0?\"w2ui-tag-popup\":\"\")+'\" style=\"\"></div>');var h=setInterval(function(){return 0===$(d).length||0===$(d).offset().left&&0===$(d).offset().top?(clearInterval($(\"#w2ui-tag-\"+g).data(\"timer\")),void e()):void($(\"#w2ui-tag-\"+g).data(\"position\")!==$(d).offset().left+d.offsetWidth+\"x\"+$(d).offset().top&&$(\"#w2ui-tag-\"+g).css({\"-webkit-transition\":\".2s\",\"-moz-transition\":\".2s\",\"-ms-transition\":\".2s\",\"-o-transition\":\".2s\",left:$(d).offset().left+d.offsetWidth+\"px\",top:$(d).offset().top+\"px\"}).data(\"position\",$(d).offset().left+d.offsetWidth+\"x\"+$(d).offset().top))},100);setTimeout(function(){$(d).offset()&&($(\"#w2ui-tag-\"+g).css({opacity:\"1\",left:$(d).offset().left+d.offsetWidth+\"px\",top:$(d).offset().top+\"px\"}).html('<div style=\"margin-top: -2px 0px 0px -2px; white-space: nowrap;\"> <div class=\"w2ui-tag-body\">'+a+\"</div> </div>\").data(\"text\",a).data(\"taged-el\",d).data(\"options\",b).data(\"position\",$(d).offset().left+d.offsetWidth+\"x\"+$(d).offset().top).data(\"timer\",h),$(d).off(\"keypress\",e).on(\"keypress\",e).off(\"change\",e).on(\"change\",e).css(b.css).addClass(b[\"class\"]),\"function\"==typeof b.onShow&&b.onShow())},1);var i=\"\";$(d).length>0&&(i=$(d)[0].style.cssText)}})},$.fn.w2overlay=function(a,b){function c(){var a=$(\"#w2ui-overlay\"+g);if(a.data(\"element\")===f[0]&&0!==a.length){var b=$(f).offset().left+\"x\"+$(f).offset().top;a.data(\"position\")!==b?d():setTimeout(c,250)}}function d(){var a=$(\"#w2ui-overlay\"+g);if(a.data(\"keepOpen\")===!0)return void a.removeData(\"keepOpen\");var c;\"function\"==typeof b.onHide&&(c=b.onHide()),c!==!1&&(a.remove(),$(document).off(\"click\",d),clearInterval(a.data(\"timer\")))}function e(){var a=$(\"#w2ui-overlay\"+g),c=a.find(\" > div\");if(a.length>0){c.height(\"auto\").width(\"auto\");var d=!1,h=!1,i=c.height(),j=c.width();switch(b.width&&b.width<j&&(j=b.width),30>j&&(j=30),b.tmp.contentHeight&&(i=b.tmp.contentHeight,c.height(i),setTimeout(function(){c.height()>c.find(\"div.menu > table\").height()&&c.find(\"div.menu\").css(\"overflow-y\",\"hidden\")},1),setTimeout(function(){c.find(\"div.menu\").css(\"overflow-y\",\"auto\")},10)),b.tmp.contentWidth&&(j=b.tmp.contentWidth,c.width(j),setTimeout(function(){c.width()>c.find(\"div.menu > table\").width()&&c.find(\"div.menu\").css(\"overflow-x\",\"hidden\")},1),setTimeout(function(){c.find(\"div.menu\").css(\"overflow-y\",\"auto\")},10)),b.align){case\"both\":b.left=17,0===b.width&&(b.width=w2utils.getSize($(f),\"width\"));break;case\"left\":b.left=17;break;case\"right\":b.tipLeft=j-45,b.left=w2utils.getSize($(f),\"width\")-j+10}var k=(j-17)/2,l=b.left,m=b.width,n=b.tipLeft;m=30!==j||m?b.width?b.width:\"auto\":30,25>k&&(l=25-k,n=Math.floor(k)),a.css({top:f.offset().top+w2utils.getSize(f,\"height\")+b.top+7+\"px\",left:(f.offset().left>25?f.offset().left:25)+l+\"px\",\"min-width\":m,\"min-height\":b.height?b.height:\"auto\"});var o=window.innerHeight+$(document).scrollTop()-c.offset().top-7,p=window.innerWidth+$(document).scrollLeft()-c.offset().left-7;o>-50&&210>o||b.openAbove===!0?(o=c.offset().top-$(document).scrollTop()-7,b.maxHeight&&o>b.maxHeight&&(o=b.maxHeight),i>o&&(h=!0,c.height(o).width(j).css({\"overflow-y\":\"auto\"}),i=o),a.css(\"top\",$(f).offset().top-i-24+b.top+\"px\"),a.find(\">style\").html(\"#w2ui-overlay\"+g+\":before { display: none; margin-left: \"+parseInt(n)+\"px; }#w2ui-overlay\"+g+\":after { display: block; margin-left: \"+parseInt(n)+\"px; }\")):(b.maxHeight&&o>b.maxHeight&&(o=b.maxHeight),i>o&&(h=!0,c.height(o).width(j).css({\"overflow-y\":\"auto\"})),a.find(\">style\").html(\"#w2ui-overlay\"+g+\":before { display: block; margin-left: \"+parseInt(n)+\"px; }#w2ui-overlay\"+g+\":after { display: none; margin-left: \"+parseInt(n)+\"px; }\")),j=c.width(),p=window.innerWidth+$(document).scrollLeft()-c.offset().left-7,b.maxWidth&&p>b.maxWidth&&(p=b.maxWidth),j>p&&\"both\"!==b.align&&(b.align=\"right\",setTimeout(function(){e()},1)),h&&d&&c.width(j+w2utils.scrollBarSize()+2)}}var f=this,g=\"\",h={name:null,html:\"\",align:\"none\",left:0,top:0,tipLeft:30,width:0,height:0,maxWidth:null,maxHeight:null,style:\"\",\"class\":\"\",onShow:null,onHide:null,openAbove:!1,tmp:{}};1==arguments.length&&(b=\"object\"==typeof a?a:{html:a}),2==arguments.length&&(b.html=a),$.isPlainObject(b)||(b={}),b=$.extend({},h,b),b.name&&(g=\"-\"+b.name);var i;if(0===this.length||\"\"===b.html||null==b.html)return $(\"#w2ui-overlay\"+g).length>0?(i=$(\"#w2ui-overlay\"+g)[0].hide,\"function\"==typeof i&&i()):$(\"#w2ui-overlay\"+g).remove(),$(this);$(\"#w2ui-overlay\"+g).length>0&&(i=$(\"#w2ui-overlay\"+g)[0].hide,$(document).off(\"click\",i),\"function\"==typeof i&&i()),$(\"body\").append('<div id=\"w2ui-overlay'+g+'\" style=\"display: none\"        class=\"w2ui-reset w2ui-overlay '+($(this).parents(\".w2ui-popup, .w2ui-overlay-popup\").length>0?\"w2ui-overlay-popup\":\"\")+'\">    <style></style>    <div style=\"'+b.style+'\" class=\"'+b[\"class\"]+'\"></div></div>');var j=$(\"#w2ui-overlay\"+g),k=j.find(\" > div\");k.html(b.html);var l=k.css(\"background-color\");return null!=l&&\"rgba(0, 0, 0, 0)\"!==l&&\"transparent\"!==l&&j.css(\"background-color\",l),j.data(\"element\",f.length>0?f[0]:null).data(\"options\",b).data(\"position\",$(f).offset().left+\"x\"+$(f).offset().top).fadeIn(\"fast\").on(\"mousedown\",function(a){$(\"#w2ui-overlay\"+g).data(\"keepOpen\",!0),-1===[\"INPUT\",\"TEXTAREA\",\"SELECT\"].indexOf(a.target.tagName)&&a.preventDefault()}),j[0].hide=d,j[0].resize=e,e(),setTimeout(function(){e(),$(document).off(\"click\",d).on(\"click\",d),\"function\"==typeof b.onShow&&b.onShow()},10),c(),$(this)},$.fn.w2menu=function(a,b){function c(){setTimeout(function(){$(\"#w2ui-overlay\"+h+\" tr.w2ui-selected\").removeClass(\"w2ui-selected\");var a=$(\"#w2ui-overlay\"+h+\" tr[index=\"+b.index+\"]\"),c=$(\"#w2ui-overlay\"+h+\" div.menu\").scrollTop();if(a.addClass(\"w2ui-selected\"),b.tmp&&(b.tmp.contentHeight=$(\"#w2ui-overlay\"+h+\" table\").height()+(b.search?50:10)),b.tmp&&(b.tmp.contentWidth=$(\"#w2ui-overlay\"+h+\" table\").width()),$(\"#w2ui-overlay\"+h).length>0&&$(\"#w2ui-overlay\"+h)[0].resize(),a.length>0){var d=a[0].offsetTop-5,e=$(\"#w2ui-overlay\"+h+\" div.menu\"),f=e.height();$(\"#w2ui-overlay\"+h+\" div.menu\").scrollTop(c),(c>d||d+a.height()>c+f)&&$(\"#w2ui-overlay\"+h+\" div.menu\").animate({scrollTop:d-(f-2*a.height())/2},200,\"linear\")}},1)}function d(a){var d=this.value,e=a.keyCode,f=!1;switch(e){case 13:$(\"#w2ui-overlay\"+h).remove(),$.fn.w2menuHandler(a,b.index);break;case 9:case 27:$(\"#w2ui-overlay\"+h).remove(),$.fn.w2menuHandler(a,-1);break;case 38:for(b.index=w2utils.isInt(b.index)?parseInt(b.index):0,b.index--;b.index>0&&b.items[b.index].hidden;)b.index--;if(0===b.index&&b.items[b.index].hidden)for(;b.items[b.index]&&b.items[b.index].hidden;)b.index++;b.index<0&&(b.index=0),f=!0;break;case 40:for(b.index=w2utils.isInt(b.index)?parseInt(b.index):0,b.index++;b.index<b.items.length-1&&b.items[b.index].hidden;)b.index++;if(b.index===b.items.length-1&&b.items[b.index].hidden)for(;b.items[b.index]&&b.items[b.index].hidden;)b.index--;b.index>=b.items.length&&(b.index=b.items.length-1),f=!0}if(!f){var i=0;for(var j in b.items){var k=b.items[j],l=\"\",m=\"\";-1!==[\"is\",\"begins with\"].indexOf(b.match)&&(l=\"^\"),-1!==[\"is\",\"ends with\"].indexOf(b.match)&&(m=\"$\");try{var n=new RegExp(l+d+m,\"i\");k.hidden=n.test(k.text)||\"...\"===k.text?!1:!0}catch(o){}\"enum\"===g.type&&-1!==$.inArray(k.id,ids)&&(k.hidden=!0),k.hidden!==!0&&i++}for(b.index=0;b.index<b.items.length-1&&b.items[b.index].hidden;)b.index++;\n0>=i&&(b.index=-1)}$(g).w2menu(\"refresh\",b),c()}function e(){if(b.spinner)return'<table class=\"w2ui-drop-menu\"><tr><td style=\"padding: 5px 10px 10px 10px; text-align: center\">    <div class=\"w2ui-spinner\" style=\"width: 18px; height: 18px; position: relative; top: 5px;\"></div>     <div style=\"display: inline-block; padding: 3px; color: #999;\">'+w2utils.lang(\"Loading...\")+\"</div></td></tr></table>\";for(var a=0,c='<table cellspacing=\"0\" cellpadding=\"0\" class=\"w2ui-drop-menu\">',d=null,e=null,f=0;f<b.items.length;f++){var g=b.items[f];if(\"string\"==typeof g?g={id:g,text:g}:(null!=g.text&&null==g.id&&(g.id=g.text),null==g.text&&null!=g.id&&(g.text=g.id),null!=g.caption&&(g.text=g.caption),d=g.img,e=g.icon,null==d&&(d=null),null==e&&(e=null)),g.hidden!==!0){var i=\"\",j=g.text;if(\"function\"==typeof b.render&&(j=b.render(g,b)),d&&(i='<td class=\"menu-icon\"><div class=\"w2ui-tb-image w2ui-icon '+d+'\"></div></td>'),e&&(i='<td class=\"menu-icon\" align=\"center\"><span class=\"w2ui-icon '+e+'\"></span></td>'),\"undefined\"==typeof j||\"\"===j||/^-+$/.test(j))c+='<tr><td colspan=\"2\" style=\"padding: 6px; pointer-events: none\"><div style=\"border-top: 1px solid silver;\"></div></td></tr>';else{var k=a%2===0?\"w2ui-item-even\":\"w2ui-item-odd\";b.altRows!==!0&&(k=\"\");var l=1;\"\"==i&&l++,null==g.count&&l++,c+='<tr index=\"'+f+'\" style=\"'+(g.style?g.style:\"\")+'\"         class=\"'+k+\" \"+(b.index===f?\"w2ui-selected\":\"\")+\" \"+(g.disabled===!0?\"w2ui-disabled\":\"\")+\"\\\"        onmousedown=\\\"$(this).parent().find('tr').removeClass('w2ui-selected'); $(this).addClass('w2ui-selected');\\\"        onclick=\\\"event.stopPropagation();                if (\"+(g.disabled===!0?\"true\":\"false\")+\") return;               $('#w2ui-overlay\"+h+\"').remove();                $.fn.w2menuHandler(event, '\"+f+\"');\\\">\"+i+'   <td class=\"menu-text\" colspan=\"'+l+'\">'+j+'</td>   <td class=\"menu-count\">'+(null!=g.count?\"<span>\"+g.count+\"</span>\":\"\")+\"</td></tr>\",a++}}b.items[f]=g}return 0===a&&(c+='<tr><td style=\"padding: 13px; color: #999; text-align: center\">'+b.msgNoItems+\"</div></td></tr>\"),c+=\"</table>\"}var f={index:null,items:[],render:null,msgNoItems:\"No items\",onSelect:null,tmp:{}},g=this,h=\"\";if(\"refresh\"!==a){1===arguments.length?b=a:b.items=a,\"object\"!=typeof b&&(b={}),b=$.extend({},f,b),$.fn.w2menuOptions=b,b.name&&(h=\"-\"+b.name),\"function\"==typeof b.select&&\"function\"!=typeof b.onSelect&&(b.onSelect=b.select),\"function\"==typeof b.onRender&&\"function\"!=typeof b.render&&(b.render=b.onRender),$.fn.w2menuHandler=function(a,c){\"function\"==typeof b.onSelect&&setTimeout(function(){b.onSelect({index:c,item:b.items[c],originalEvent:a})},10)};var i=\"\";if(b.search){i+='<div style=\"position: absolute; top: 0px; height: 40px; left: 0px; right: 0px; border-bottom: 1px solid silver; background-color: #ECECEC; padding: 8px 5px;\">    <div class=\"w2ui-icon icon-search\" style=\"position: absolute; margin-top: 4px; margin-left: 6px; width: 11px; background-position: left !important;\"></div>    <input id=\"menu-search\" type=\"text\" style=\"width: 100%; outline: none; padding-left: 20px;\" onclick=\"event.stopPropagation();\"></div>',b.style+=\";background-color: #ECECEC\",b.index=0;for(var j in b.items)b.items[j].hidden=!1}i+='<div class=\"menu\" style=\"position: absolute; top: '+(b.search?40:0)+'px; bottom: 0px; width: 100%; overflow: auto;\">'+e()+\"</div>\";var k=$(this).w2overlay(i,b);return setTimeout(function(){if($(\"#w2ui-overlay\"+h+\" #menu-search\").on(\"keyup\",d).on(\"keydown\",function(a){9===a.keyCode&&(a.stopPropagation(),a.preventDefault())}),b.search){if(-1!=[\"text\",\"password\"].indexOf($(g)[0].type)||\"texarea\"==$(g)[0].tagName)return;$(\"#w2ui-overlay\"+h+\" #menu-search\").focus()}},200),c(),k}if($(\"#w2ui-overlay\"+h).length>0){b=$.extend($.fn.w2menuOptions,b);var l=$(\"#w2ui-overlay\"+h+\" div.menu\").scrollTop();$(\"#w2ui-overlay\"+h+\" div.menu\").html(e()),$(\"#w2ui-overlay\"+h+\" div.menu\").scrollTop(l),c()}else $(this).w2menu(b)}}(),function(){var w2grid=function(a){this.name=null,this.box=null,this.header=\"\",this.url=\"\",this.routeData={},this.columns=[],this.columnGroups=[],this.records=[],this.summary=[],this.searches=[],this.searchData=[],this.sortData=[],this.postData={},this.toolbar={},this.show={header:!1,toolbar:!1,footer:!1,columnHeaders:!0,lineNumbers:!1,expandColumn:!1,selectColumn:!1,emptyRecords:!0,toolbarReload:!0,toolbarColumns:!0,toolbarSearch:!0,toolbarAdd:!1,toolbarEdit:!1,toolbarDelete:!1,toolbarSave:!1,selectionBorder:!0,recordTitles:!0,skipRecords:!0},this.autoLoad=!0,this.fixedBody=!0,this.recordHeight=24,this.keyboard=!0,this.selectType=\"row\",this.multiSearch=!0,this.multiSelect=!0,this.multiSort=!0,this.reorderColumns=!1,this.reorderRows=!1,this.markSearch=!0,this.total=0,this.limit=100,this.offset=0,this.style=\"\",this.ranges=[],this.menu=[],this.method=null,this.recid=null,this.parser=null,this.onAdd=null,this.onEdit=null,this.onRequest=null,this.onLoad=null,this.onDelete=null,this.onDeleted=null,this.onSubmit=null,this.onSave=null,this.onSelect=null,this.onUnselect=null,this.onClick=null,this.onDblClick=null,this.onContextMenu=null,this.onMenuClick=null,this.onColumnClick=null,this.onColumnResize=null,this.onSort=null,this.onSearch=null,this.onChange=null,this.onRestore=null,this.onExpand=null,this.onCollapse=null,this.onError=null,this.onKeydown=null,this.onToolbar=null,this.onColumnOnOff=null,this.onCopy=null,this.onPaste=null,this.onSelectionExtend=null,this.onEditField=null,this.onRender=null,this.onRefresh=null,this.onReload=null,this.onResize=null,this.onDestroy=null,this.onStateSave=null,this.onStateRestore=null,this.last={field:\"all\",caption:w2utils.lang(\"All Fields\"),logic:\"OR\",search:\"\",searchIds:[],selection:{indexes:[],columns:{}},multi:!1,scrollTop:0,scrollLeft:0,sortData:null,sortCount:0,xhr:null,range_start:null,range_end:null,sel_ind:null,sel_col:null,sel_type:null,edit_col:null},$.extend(!0,this,w2obj.grid,a)};$.fn.w2grid=function(a){if(\"object\"==typeof a||!a){if(!w2utils.checkName(a,\"w2grid\"))return;var b=a.columns,c=a.columnGroups,d=a.records,e=a.searches,f=a.searchData,g=a.sortData,h=a.postData,i=a.toolbar,j=new w2grid(a);$.extend(j,{postData:{},records:[],columns:[],searches:[],toolbar:{},sortData:[],searchData:[],handlers:[]}),null!=j.onExpand&&(j.show.expandColumn=!0),$.extend(!0,j.toolbar,i);for(var k in b)j.columns[k]=$.extend(!0,{},b[k]);for(var k in c)j.columnGroups[k]=$.extend(!0,{},c[k]);for(var k in e)j.searches[k]=$.extend(!0,{},e[k]);for(var k in f)j.searchData[k]=$.extend(!0,{},f[k]);for(var k in g)j.sortData[k]=$.extend(!0,{},g[k]);j.postData=$.extend(!0,{},h);for(var l in d){if(null==d[l].recid||\"undefined\"==typeof d[l].recid)return void console.log(\"ERROR: Cannot add records without recid. (obj: \"+j.name+\")\");j.records[l]=$.extend(!0,{},d[l])}for(var m in j.columns){var n=j.columns[m];if(\"undefined\"!=typeof n.searchable&&null==j.getSearch(n.field)){var o=n.searchable,p=\"\";n.searchable===!0&&(o=\"text\",p='size=\"20\"'),j.addSearch({field:n.field,caption:n.caption,type:o,attr:p})}}return j.initToolbar(),0!==$(this).length&&j.render($(this)[0]),w2ui[j.name]=j,j}if(w2ui[$(this).attr(\"name\")]){var q=w2ui[$(this).attr(\"name\")];return q[a].apply(q,Array.prototype.slice.call(arguments,1)),this}console.log(\"ERROR: Method \"+a+\" does not exist on jQuery.w2grid\")},w2grid.prototype={msgDelete:w2utils.lang(\"Are you sure you want to delete selected records?\"),msgNotJSON:w2utils.lang(\"Returned data is not in valid JSON format.\"),msgAJAXerror:w2utils.lang(\"AJAX error. See console for more details.\"),msgRefresh:w2utils.lang(\"Refreshing...\"),buttons:{reload:{type:\"button\",id:\"w2ui-reload\",icon:\"w2ui-icon-reload\",hint:w2utils.lang(\"Reload data in the list\")},columns:{type:\"drop\",id:\"w2ui-column-on-off\",icon:\"w2ui-icon-columns\",hint:w2utils.lang(\"Show/hide columns\"),arrow:!1,html:\"\"},search:{type:\"html\",id:\"w2ui-search\",html:'<div class=\"w2ui-icon icon-search-down w2ui-search-down\" title=\"Select Search Field\" onclick=\"var obj = w2ui[$(this).parents(\\'div.w2ui-grid\\').attr(\\'name\\')]; obj.searchShowFields();\"></div>'},\"search-go\":{type:\"check\",id:\"w2ui-search-advanced\",caption:w2utils.lang(\"Search...\"),hint:w2utils.lang(\"Open Search Fields\")},add:{type:\"button\",id:\"w2ui-add\",caption:w2utils.lang(\"Add New\"),hint:w2utils.lang(\"Add new record\"),icon:\"w2ui-icon-plus\"},edit:{type:\"button\",id:\"w2ui-edit\",caption:w2utils.lang(\"Edit\"),hint:w2utils.lang(\"Edit selected record\"),icon:\"w2ui-icon-pencil\",disabled:!0},\"delete\":{type:\"button\",id:\"w2ui-delete\",caption:w2utils.lang(\"Delete\"),hint:w2utils.lang(\"Delete selected records\"),icon:\"w2ui-icon-cross\",disabled:!0},save:{type:\"button\",id:\"w2ui-save\",caption:w2utils.lang(\"Save\"),hint:w2utils.lang(\"Save changed records\"),icon:\"w2ui-icon-check\"}},add:function(a){$.isArray(a)||(a=[a]);var b=0;for(var c in a)this.recid&&\"undefined\"==typeof a[c].recid&&(a[c].recid=a[c][this.recid]),null!=a[c].recid&&\"undefined\"!=typeof a[c].recid?(this.records.push(a[c]),b++):console.log(\"ERROR: Cannot add record without recid. (obj: \"+this.name+\")\");var d=\"object\"!=typeof this.url?this.url:this.url.get;return d||(this.total=this.records.length,this.localSort(),this.localSearch()),this.refresh(),b},find:function(a,b){(\"undefined\"==typeof a||null==a)&&(a={});var c=[],d=!1;for(var e in a)-1!=String(e).indexOf(\".\")&&(d=!0);for(var f=0;f<this.records.length;f++){var g=!0;for(var e in a){var h=this.records[f][e];d&&-1!=String(e).indexOf(\".\")&&(h=this.parseField(this.records[f],e)),a[e]!==h&&(g=!1)}g&&b!==!0&&c.push(this.records[f].recid),g&&b===!0&&c.push(f)}return c},set:function(a,b,c){if(\"object\"==typeof a&&(c=b,b=a,a=null),null==a){for(var d in this.records)$.extend(!0,this.records[d],b);c!==!0&&this.refresh()}else{var e=this.get(a,!0);if(null==e)return!1;var f=this.records[e]&&this.records[e].recid==a?!1:!0;f?$.extend(!0,this.summary[e],b):$.extend(!0,this.records[e],b),c!==!0&&this.refreshRow(a)}return!0},get:function(a,b){for(var c=0;c<this.records.length;c++)if(this.records[c].recid==a)return b===!0?c:this.records[c];for(var c=0;c<this.summary.length;c++)if(this.summary[c].recid==a)return b===!0?c:this.summary[c];return null},remove:function(){for(var a=0,b=0;b<arguments.length;b++)for(var c=this.records.length-1;c>=0;c--)this.records[c].recid==arguments[b]&&(this.records.splice(c,1),a++);var d=\"object\"!=typeof this.url?this.url:this.url.get;return d||(this.localSort(),this.localSearch()),this.refresh(),a},addColumn:function(a,b){var c=0;1==arguments.length?(b=a,a=this.columns.length):(\"string\"==typeof a&&(a=this.getColumn(a,!0)),null===a&&(a=this.columns.length)),$.isArray(b)||(b=[b]);for(var d in b)this.columns.splice(a,0,b[d]),a++,c++;return this.refresh(),c},removeColumn:function(){for(var a=0,b=0;b<arguments.length;b++)for(var c=this.columns.length-1;c>=0;c--)this.columns[c].field==arguments[b]&&(this.columns.splice(c,1),a++);return this.refresh(),a},getColumn:function(a,b){for(var c=0;c<this.columns.length;c++)if(this.columns[c].field==a)return b===!0?c:this.columns[c];return null},toggleColumn:function(){for(var a=0,b=0;b<arguments.length;b++)for(var c=this.columns.length-1;c>=0;c--){var d=this.columns[c];d.field==arguments[b]&&(d.hidden=!d.hidden,a++)}return this.refresh(),a},showColumn:function(){for(var a=0,b=0;b<arguments.length;b++)for(var c=this.columns.length-1;c>=0;c--){var d=this.columns[c];d.gridMinWidth&&delete d.gridMinWidth,d.field==arguments[b]&&d.hidden!==!1&&(d.hidden=!1,a++)}return this.refresh(),a},hideColumn:function(){for(var a=0,b=0;b<arguments.length;b++)for(var c=this.columns.length-1;c>=0;c--){var d=this.columns[c];d.field==arguments[b]&&d.hidden!==!0&&(d.hidden=!0,a++)}return this.refresh(),a},addSearch:function(a,b){var c=0;1==arguments.length?(b=a,a=this.searches.length):(\"string\"==typeof a&&(a=this.getSearch(a,!0)),null===a&&(a=this.searches.length)),$.isArray(b)||(b=[b]);for(var d in b)this.searches.splice(a,0,b[d]),a++,c++;return this.searchClose(),c},removeSearch:function(){for(var a=0,b=0;b<arguments.length;b++)for(var c=this.searches.length-1;c>=0;c--)this.searches[c].field==arguments[b]&&(this.searches.splice(c,1),a++);return this.searchClose(),a},getSearch:function(a,b){for(var c=0;c<this.searches.length;c++)if(this.searches[c].field==a)return b===!0?c:this.searches[c];return null},toggleSearch:function(){for(var a=0,b=0;b<arguments.length;b++)for(var c=this.searches.length-1;c>=0;c--)this.searches[c].field==arguments[b]&&(this.searches[c].hidden=!this.searches[c].hidden,a++);return this.searchClose(),a},showSearch:function(){for(var a=0,b=0;b<arguments.length;b++)for(var c=this.searches.length-1;c>=0;c--)this.searches[c].field==arguments[b]&&this.searches[c].hidden!==!1&&(this.searches[c].hidden=!1,a++);return this.searchClose(),a},hideSearch:function(){for(var a=0,b=0;b<arguments.length;b++)for(var c=this.searches.length-1;c>=0;c--)this.searches[c].field==arguments[b]&&this.searches[c].hidden!==!0&&(this.searches[c].hidden=!0,a++);return this.searchClose(),a},getSearchData:function(a){for(var b in this.searchData)if(this.searchData[b].field==a)return this.searchData[b];return null},localSort:function(a){var b=\"object\"!=typeof this.url?this.url:this.url.get;if(b)return void console.log(\"ERROR: grid.localSort can only be used on local data source, grid.url should be empty.\");if(!$.isEmptyObject(this.sortData)){var c=(new Date).getTime(),d=this;d.prepareData();for(var e in this.sortData){var f=this.getColumn(this.sortData[e].field);if(!f)return;\"string\"==typeof f.render&&(-1!=[\"date\",\"age\"].indexOf(f.render.split(\":\")[0])&&(this.sortData[e].field_=f.field+\"_\"),-1!=[\"time\"].indexOf(f.render.split(\":\")[0])&&(this.sortData[e].field_=f.field+\"_\"))}return this.records.sort(function(a,b){var c=0;for(var e in d.sortData){var f=d.sortData[e].field;d.sortData[e].field_&&(f=d.sortData[e].field_);var g=a[f],h=b[f];if(-1!=String(f).indexOf(\".\")&&(g=d.parseField(a,f),h=d.parseField(b,f)),\"string\"==typeof g&&(g=$.trim(g.toLowerCase())),\"string\"==typeof h&&(h=$.trim(h.toLowerCase())),g>h&&(c=\"asc\"==d.sortData[e].direction?1:-1),h>g&&(c=\"asc\"==d.sortData[e].direction?-1:1),\"object\"!=typeof g&&\"object\"==typeof h&&(c=-1),\"object\"!=typeof h&&\"object\"==typeof g&&(c=1),null==g&&null!=h&&(c=1),null!=g&&null==h&&(c=-1),0!=c)break}return c}),c=(new Date).getTime()-c,a!==!0&&setTimeout(function(){d.status(w2utils.lang(\"Sorting took\")+\" \"+c/1e3+\" \"+w2utils.lang(\"sec\"))},10),c}},localSearch:function(a){var b=\"object\"!=typeof this.url?this.url:this.url.get;if(b)return void console.log(\"ERROR: grid.localSearch can only be used on local data source, grid.url should be empty.\");var c=(new Date).getTime(),d=this;if(this.total=this.records.length,this.last.searchIds=[],this.prepareData(),this.searchData.length>0&&!b){this.total=0;for(var e in this.records){var f=this.records[e],g=0;for(var h in this.searchData){var i=this.searchData[h],j=this.getSearch(i.field);if(null!=i){null==j&&(j={field:i.field,type:i.type});var k=String(d.parseField(f,j.field)).toLowerCase();if(\"undefined\"!=typeof i.value)if($.isArray(i.value))var l=i.value[0],m=i.value[1];else var l=String(i.value).toLowerCase();switch(i.operator){case\"is\":if(f[j.field]==i.value&&g++,\"date\"==j.type){var k=w2utils.formatDate(f[j.field+\"_\"],\"yyyy-mm-dd\"),l=w2utils.formatDate(l,\"yyyy-mm-dd\");k==l&&g++}if(\"time\"==j.type){var k=w2utils.formatTime(f[j.field+\"_\"],\"h24:mi\"),l=w2utils.formatTime(l,\"h24:mi\");k==l&&g++}break;case\"between\":if(-1!=[\"int\",\"float\",\"money\",\"currency\",\"percent\"].indexOf(j.type)&&parseFloat(f[j.field])>=parseFloat(l)&&parseFloat(f[j.field])<=parseFloat(m)&&g++,\"date\"==j.type){var k=f[j.field+\"_\"],l=w2utils.isDate(l,w2utils.settings.date_format,!0),m=w2utils.isDate(m,w2utils.settings.date_format,!0);null!=m&&(m=new Date(m.getTime()+864e5)),k>=l&&m>k&&g++}if(\"time\"==j.type){var k=f[j.field+\"_\"],l=w2utils.isTime(l,!0),m=w2utils.isTime(m,!0);l=(new Date).setHours(l.hours,l.minutes,l.seconds?l.seconds:0,0),m=(new Date).setHours(m.hours,m.minutes,m.seconds?m.seconds:0,0),k>=l&&m>k&&g++}break;case\"in\":var n=i.value;i.svalue&&(n=i.svalue),-1!==n.indexOf(k)&&g++;break;case\"not in\":var n=i.value;i.svalue&&(n=i.svalue),-1==n.indexOf(k)&&g++;break;case\"begins\":case\"begins with\":0==k.indexOf(l)&&g++;break;case\"contains\":k.indexOf(l)>=0&&g++;break;case\"ends\":case\"ends with\":k.indexOf(l)>=0&&k.indexOf(l)==k.length-l.length&&g++}}}(\"OR\"==this.last.logic&&0!=g||\"AND\"==this.last.logic&&g==this.searchData.length)&&this.last.searchIds.push(parseInt(e))}this.total=this.last.searchIds.length}return c=(new Date).getTime()-c,a!==!0&&setTimeout(function(){d.status(w2utils.lang(\"Search took\")+\" \"+c/1e3+\" \"+w2utils.lang(\"sec\"))},10),c},getRangeData:function(a,b){var c=this.get(a[0].recid,!0),d=this.get(a[1].recid,!0),e=a[0].column,f=a[1].column,g=[];if(e==f)for(var h=c;d>=h;h++){var i=this.records[h],j=i[this.columns[e].field]||null;g.push(b!==!0?j:{data:j,column:e,index:h,record:i})}else if(c==d)for(var i=this.records[c],k=e;f>=k;k++){var j=i[this.columns[k].field]||null;g.push(b!==!0?j:{data:j,column:k,index:c,record:i})}else for(var h=c;d>=h;h++){var i=this.records[h];g.push([]);for(var k=e;f>=k;k++){var j=i[this.columns[k].field];g[g.length-1].push(b!==!0?j:{data:j,column:k,index:h,record:i})}}return g},addRange:function(a){var b=0;if(\"row\"==this.selectType)return b;$.isArray(a)||(a=[a]);for(var c in a){if(\"object\"!=typeof a[c]&&(a[c]={name:\"selection\"}),\"selection\"==a[c].name){if(this.show.selectionBorder===!1)continue;var d=this.getSelection();if(0==d.length){this.removeRange(a[c].name);continue}{var e=d[0],f=d[d.length-1];$(\"#grid_\"+this.name+\"_rec_\"+e.recid+\" td[col=\"+e.column+\"]\"),$(\"#grid_\"+this.name+\"_rec_\"+f.recid+\" td[col=\"+f.column+\"]\")}}else{var e=a[c].range[0],f=a[c].range[1];$(\"#grid_\"+this.name+\"_rec_\"+e.recid+\" td[col=\"+e.column+\"]\"),$(\"#grid_\"+this.name+\"_rec_\"+f.recid+\" td[col=\"+f.column+\"]\")}if(e){var g={name:a[c].name,range:[{recid:e.recid,column:e.column},{recid:f.recid,column:f.column}],style:a[c].style||\"\"},h=!1;for(var i in this.ranges)if(this.ranges[i].name==a[c].name){h=c;break}h!==!1?this.ranges[h]=g:this.ranges.push(g),b++}}return this.refreshRanges(),b},removeRange:function(){for(var a=0,b=0;b<arguments.length;b++){var c=arguments[b];$(\"#grid_\"+this.name+\"_\"+c).remove();for(var d=this.ranges.length-1;d>=0;d--)this.ranges[d].name==c&&(this.ranges.splice(d,1),a++)}return a},refreshRanges:function(){function a(a){var e=d.getSelection();d.last.move={type:\"expand\",x:a.screenX,y:a.screenY,divX:0,divY:0,recid:e[0].recid,column:e[0].column,originalRange:[{recid:e[0].recid,column:e[0].column},{recid:e[e.length-1].recid,column:e[e.length-1].column}],newRange:[{recid:e[0].recid,column:e[0].column},{recid:e[e.length-1].recid,column:e[e.length-1].column}]},$(document).off(\"mousemove\",b).on(\"mousemove\",b),$(document).off(\"mouseup\",c).on(\"mouseup\",c)}function b(a){var b=d.last.move;if(b&&\"expand\"==b.type){b.divX=a.screenX-b.x,b.divY=a.screenY-b.y;var c,e,f=a.originalEvent.target;if(\"TD\"!=f.tagName&&(f=$(f).parents(\"td\")[0]),\"undefined\"!=typeof $(f).attr(\"col\")&&(e=parseInt($(f).attr(\"col\"))),f=$(f).parents(\"tr\")[0],c=$(f).attr(\"recid\"),b.newRange[1].recid!=c||b.newRange[1].column!=e){var g=$.extend({},b.newRange);return b.newRange=[{recid:b.recid,column:b.column},{recid:c,column:e}],m=d.trigger($.extend(m,{originalRange:b.originalRange,newRange:b.newRange})),m.isCancelled===!0?(b.newRange=g,void(m.newRange=g)):(d.removeRange(\"grid-selection-expand\"),void d.addRange({name:\"grid-selection-expand\",range:m.newRange,style:\"background-color: rgba(100,100,100,0.1); border: 2px dotted rgba(100,100,100,0.5);\"}))}}}function c(){d.removeRange(\"grid-selection-expand\"),delete d.last.move,$(document).off(\"mousemove\",b),$(document).off(\"mouseup\",c),d.trigger($.extend(m,{phase:\"after\"}))}var d=this,e=(new Date).getTime(),f=$(\"#grid_\"+this.name+\"_records\");for(var g in this.ranges){var h=this.ranges[g],i=h.range[0],j=h.range[1],k=$(\"#grid_\"+this.name+\"_rec_\"+i.recid+\" td[col=\"+i.column+\"]\"),l=$(\"#grid_\"+this.name+\"_rec_\"+j.recid+\" td[col=\"+j.column+\"]\");0==$(\"#grid_\"+this.name+\"_\"+h.name).length?f.append('<div id=\"grid_'+this.name+\"_\"+h.name+'\" class=\"w2ui-selection\" style=\"'+h.style+'\">'+(\"selection\"==h.name?'<div id=\"grid_'+this.name+'_resizer\" class=\"w2ui-selection-resizer\"></div>':\"\")+\"</div>\"):$(\"#grid_\"+this.name+\"_\"+h.name).attr(\"style\",h.style),k.length>0&&l.length>0&&$(\"#grid_\"+this.name+\"_\"+h.name).css({left:k.position().left-1+f.scrollLeft()+\"px\",top:k.position().top-1+f.scrollTop()+\"px\",width:l.position().left-k.position().left+l.width()+3+\"px\",height:l.position().top-k.position().top+l.height()+3+\"px\"})}$(this.box).find(\"#grid_\"+this.name+\"_resizer\").off(\"mousedown\").on(\"mousedown\",a);var m={phase:\"before\",type:\"selectionExtend\",target:d.name,originalRange:null,newRange:null};return(new Date).getTime()-e},select:function(){var a=0,b=this.last.selection;this.multiSelect||this.selectNone();for(var c=0;c<arguments.length;c++){var d=\"object\"==typeof arguments[c]?arguments[c].recid:arguments[c],e=this.get(d);if(null!=e){var f=this.get(d,!0),g=$(\"#grid_\"+this.name+\"_rec_\"+w2utils.escapeId(d));if(\"row\"==this.selectType){if(b.indexes.indexOf(f)>=0)continue;var h=this.trigger({phase:\"before\",type:\"select\",target:this.name,recid:d,index:f});if(h.isCancelled===!0)continue;b.indexes.push(f),b.indexes.sort(function(a,b){return a-b}),g.addClass(\"w2ui-selected\").data(\"selected\",\"yes\"),g.find(\".w2ui-grid-select-check\").prop(\"checked\",!0),a++}else{var i=arguments[c].column;if(!w2utils.isInt(i)){var j=[];for(var k in this.columns)this.columns[k].hidden||j.push({recid:d,column:parseInt(k)});return this.multiSelect||(j=j.splice(0,1)),this.select.apply(this,j)}var l=b.columns[f]||[];if($.isArray(l)&&-1!=l.indexOf(i))continue;var h=this.trigger({phase:\"before\",type:\"select\",target:this.name,recid:d,index:f,column:i});if(h.isCancelled===!0)continue;-1==b.indexes.indexOf(f)&&(b.indexes.push(f),b.indexes.sort(function(a,b){return a-b})),l.push(i),l.sort(function(a,b){return a-b}),g.find(\" > td[col=\"+i+\"]\").addClass(\"w2ui-selected\"),a++,g.data(\"selected\",\"yes\"),g.find(\".w2ui-grid-select-check\").prop(\"checked\",!0),b.columns[f]=l}this.trigger($.extend(h,{phase:\"after\"}))}}return b.indexes.length==this.records.length||0!==this.searchData.length&&b.indexes.length==this.last.searchIds.length?$(\"#grid_\"+this.name+\"_check_all\").prop(\"checked\",!0):$(\"#grid_\"+this.name+\"_check_all\").prop(\"checked\",!1),this.status(),this.addRange(\"selection\"),a},unselect:function(){for(var a=0,b=this.last.selection,c=0;c<arguments.length;c++){var d=\"object\"==typeof arguments[c]?arguments[c].recid:arguments[c],e=this.get(d);if(null!=e){var f=this.get(e.recid,!0),g=$(\"#grid_\"+this.name+\"_rec_\"+w2utils.escapeId(d));if(\"row\"==this.selectType){if(-1==b.indexes.indexOf(f))continue;var h=this.trigger({phase:\"before\",type:\"unselect\",target:this.name,recid:d,index:f});if(h.isCancelled===!0)continue;b.indexes.splice(b.indexes.indexOf(f),1),g.removeClass(\"w2ui-selected\").removeData(\"selected\"),0!=g.length&&(g[0].style.cssText=\"height: \"+this.recordHeight+\"px; \"+g.attr(\"custom_style\")),g.find(\".w2ui-grid-select-check\").prop(\"checked\",!1),a++}else{var i=arguments[c].column;if(!w2utils.isInt(i)){var j=[];for(var k in this.columns)this.columns[k].hidden||j.push({recid:d,column:parseInt(k)});return this.unselect.apply(this,j)}var l=b.columns[f];if(!$.isArray(l)||-1==l.indexOf(i))continue;var h=this.trigger({phase:\"before\",type:\"unselect\",target:this.name,recid:d,column:i});if(h.isCancelled===!0)continue;l.splice(l.indexOf(i),1),$(\"#grid_\"+this.name+\"_rec_\"+w2utils.escapeId(d)+\" > td[col=\"+i+\"]\").removeClass(\"w2ui-selected\"),a++,0==l.length&&(delete b.columns[f],b.indexes.splice(b.indexes.indexOf(f),1),g.removeData(\"selected\"),g.find(\".w2ui-grid-select-check\").prop(\"checked\",!1))}this.trigger($.extend(h,{phase:\"after\"}))}}return b.indexes.length==this.records.length||0!==this.searchData.length&&b.indexes.length==this.last.searchIds.length?$(\"#grid_\"+this.name+\"_check_all\").prop(\"checked\",!0):$(\"#grid_\"+this.name+\"_check_all\").prop(\"checked\",!1),this.status(),this.addRange(\"selection\"),a},selectAll:function(){if(this.multiSelect!==!1){var a=this.trigger({phase:\"before\",type:\"select\",target:this.name,all:!0});if(a.isCancelled!==!0){var b=\"object\"!=typeof this.url?this.url:this.url.get,c=this.last.selection,d=[];for(var e in this.columns)d.push(parseInt(e));if(c.indexes=[],b||0===this.searchData.length){var f=this.records.length;0!=this.searchData.length&&b&&(f=this.last.searchIds.length);for(var g=0;f>g;g++)c.indexes.push(g),\"row\"!=this.selectType&&(c.columns[g]=d.slice())}else for(var g=0;g<this.last.searchIds.length;g++)c.indexes.push(this.last.searchIds[g]),\"row\"!=this.selectType&&(c.columns[this.last.searchIds[g]]=d.slice());this.refresh();var c=this.getSelection();1==c.length?this.toolbar.enable(\"w2ui-edit\"):this.toolbar.disable(\"w2ui-edit\"),c.length>=1?this.toolbar.enable(\"w2ui-delete\"):this.toolbar.disable(\"w2ui-delete\"),this.addRange(\"selection\"),this.trigger($.extend(a,{phase:\"after\"}))}}},selectNone:function(){var a=this.trigger({phase:\"before\",type:\"unselect\",target:this.name,all:!0});if(a.isCancelled!==!0){var b=this.last.selection;for(var c in b.indexes){var d=b.indexes[c],e=this.records[d],f=e?e.recid:null,g=$(\"#grid_\"+this.name+\"_rec_\"+w2utils.escapeId(f));if(g.removeClass(\"w2ui-selected\").removeData(\"selected\"),g.find(\".w2ui-grid-select-check\").prop(\"checked\",!1),\"row\"!=this.selectType){var h=b.columns[d];for(var i in h)g.find(\" > td[col=\"+h[i]+\"]\").removeClass(\"w2ui-selected\")}}b.indexes=[],b.columns={},this.toolbar.disable(\"w2ui-edit\",\"w2ui-delete\"),this.removeRange(\"selection\"),$(\"#grid_\"+this.name+\"_check_all\").prop(\"checked\",!1),this.trigger($.extend(a,{phase:\"after\"}))}},getSelection:function(a){var b=[],c=this.last.selection;if(\"row\"==this.selectType){for(var d in c.indexes)this.records[c.indexes[d]]&&b.push(a===!0?c.indexes[d]:this.records[c.indexes[d]].recid);return b}for(var d in c.indexes){var e=c.columns[c.indexes[d]];if(this.records[c.indexes[d]])for(var f in e)b.push({recid:this.records[c.indexes[d]].recid,index:parseInt(c.indexes[d]),column:e[f]})}return b},search:function(a,b){var c=\"object\"!=typeof this.url?this.url:this.url.get,d=[],e=this.last.multi,f=this.last.logic,g=this.last.field,h=this.last.search;if(0==arguments.length){h=\"\";for(var i in this.searches){var j=this.searches[i],k=$(\"#grid_\"+this.name+\"_operator_\"+i).val(),l=$(\"#grid_\"+this.name+\"_field_\"+i),m=$(\"#grid_\"+this.name+\"_field2_\"+i),n=l.val(),o=m.val(),p=null;if(-1!=[\"int\",\"float\",\"money\",\"currency\",\"percent\"].indexOf(j.type)){var q=l.data(\"w2field\"),r=m.data(\"w2field\");q&&(n=q.clean(n)),r&&(o=r.clean(o))}if(-1!=[\"list\",\"enum\"].indexOf(j.type))if(n=l.data(\"selected\")||{},$.isArray(n)){p=[];for(var s in n)p.push(w2utils.isFloat(n[s].id)?parseFloat(n[s].id):String(n[s].id).toLowerCase()),delete n[s].hidden}else n=n.id||\"\";if(\"\"!=n&&null!=n||\"undefined\"!=typeof o&&\"\"!=o){var t={field:j.field,type:j.type,operator:k};\"between\"==k?$.extend(t,{value:[n,o]}):\"in\"==k&&\"string\"==typeof n?$.extend(t,{value:n.split(\",\")}):\"not in\"==k&&\"string\"==typeof n?$.extend(t,{value:n.split(\",\")}):$.extend(t,{value:n}),p&&$.extend(t,{svalue:p});try{\"date\"==j.type&&\"between\"==k&&(t.value[0]=n,t.value[1]=o),\"date\"==j.type&&\"is\"==k&&(t.value=n)}catch(u){}d.push(t)}}d.length>0&&!c?(e=!0,f=\"AND\"):(e=!0,f=\"AND\")}if(\"string\"==typeof a&&(g=a,h=b,e=!1,f=\"OR\",\"undefined\"!=typeof b))if(\"all\"==a.toLowerCase())if(this.searches.length>0)for(var i in this.searches){var j=this.searches[i];if(\"text\"==j.type||\"alphanumeric\"==j.type&&w2utils.isAlphaNumeric(b)||\"int\"==j.type&&w2utils.isInt(b)||\"float\"==j.type&&w2utils.isFloat(b)||\"percent\"==j.type&&w2utils.isFloat(b)||\"hex\"==j.type&&w2utils.isHex(b)||\"currency\"==j.type&&w2utils.isMoney(b)||\"money\"==j.type&&w2utils.isMoney(b)||\"date\"==j.type&&w2utils.isDate(b)){var t={field:j.field,type:j.type,operator:\"text\"==j.type?\"contains\":\"is\",value:b};d.push(t)}if(-1!=[\"int\",\"float\",\"money\",\"currency\",\"percent\"].indexOf(j.type)&&-1!=String(b).indexOf(\"-\")){var v=String(b).split(\"-\"),t={field:j.field,type:j.type,operator:\"between\",value:[v[0],v[1]]};d.push(t)}}else for(var w in this.columns){var t={field:this.columns[w].field,type:\"text\",operator:\"contains\",value:b};d.push(t)}else{var x=$(\"#grid_\"+this.name+\"_search_all\"),j=this.getSearch(a);if(null==j&&(j={field:a,type:\"text\"}),j.field==a&&(this.last.caption=j.caption),\"list\"==j.type){var t=x.data(\"selected\");t&&!$.isEmptyObject(t)&&(b=t.id)}if(\"\"!=b){var y=\"contains\",z=b;if(-1!=[\"date\",\"time\",\"list\"].indexOf(j.type)&&(y=\"is\"),\"int\"==j.type&&\"\"!=b){if(y=\"is\",-1!=String(b).indexOf(\"-\")){var t=b.split(\"-\");2==t.length&&(y=\"between\",z=[parseInt(t[0]),parseInt(t[1])])}if(-1!=String(b).indexOf(\",\")){var t=b.split(\",\");y=\"in\",z=[];for(var v in t)z.push(t[v])}}var t={field:j.field,type:j.type,operator:y,value:z};d.push(t)}}if($.isArray(a)){var A=\"AND\";\"string\"==typeof b&&(A=b.toUpperCase(),\"OR\"!=A&&\"AND\"!=A&&(A=\"AND\")),h=\"\",e=!0,f=A;for(var B in a){var C=a[B],j=this.getSearch(C.field);null==j&&(j={type:\"text\",operator:\"contains\"}),d.push($.extend(!0,{},j,C))}}var D=this.trigger({phase:\"before\",type:\"search\",target:this.name,searchData:d,searchField:a?a:\"multi\",searchValue:b?b:\"multi\"});D.isCancelled!==!0&&(this.searchData=D.searchData,this.last.field=g,this.last.search=h,this.last.multi=e,this.last.logic=f,this.last.scrollTop=0,this.last.scrollLeft=0,this.last.selection.indexes=[],this.last.selection.columns={},this.searchClose(),this.set({expanded:!1},!0),c?(this.last.xhr_offset=0,this.reload()):(this.localSearch(),this.refresh()),this.trigger($.extend(D,{phase:\"after\"})))},searchOpen:function(){if(this.box&&0!=this.searches.length){var a=this;$(\"#tb_\"+this.name+\"_toolbar_item_w2ui-search-advanced\").w2overlay(this.getSearchesHTML(),{name:\"searches-\"+this.name,left:-10,\"class\":\"w2ui-grid-searches\",onShow:function(){\"OR\"==a.last.logic&&(a.searchData=[]),a.initSearches(),$(\"#w2ui-overlay-searches-\"+this.name+\" .w2ui-grid-searches\").data(\"grid-name\",a.name);var b=$(\"#w2ui-overlay-searches-\"+this.name+\" .w2ui-grid-searches *[rel=search]\");b.length>0&&b[0].focus()}})}},searchClose:function(){this.box&&0!=this.searches.length&&(this.toolbar&&this.toolbar.uncheck(\"w2ui-search-advanced\"),$(\"#w2ui-overlay-searches-\"+this.name+\" .w2ui-grid-searches\").length>0&&$().w2overlay(\"\",{name:\"searches-\"+this.name}))},searchShowFields:function(){for(var a=$(\"#grid_\"+this.name+\"_search_all\"),b='<div class=\"w2ui-select-field\"><table>',c=-1;c<this.searches.length;c++){var d=this.searches[c];if(-1==c){if(!this.multiSearch)continue;d={field:\"all\",caption:w2utils.lang(\"All Fields\")}}else if(this.searches[c].hidden===!0)continue;b+=\"<tr \"+(w2utils.isIOS?\"onTouchStart\":\"onClick\")+\"=\\\"w2ui['\"+this.name+\"'].initAllField('\"+d.field+'\\')\">    <td><input type=\"radio\" tabIndex=\"-1\" '+(d.field==this.last.field?\"checked\":\"\")+\"></td>    <td>\"+d.caption+\"</td></tr>\"}b+=\"</table></div>\",setTimeout(function(){$(a).w2overlay(b,{left:-10})},1)},initAllField:function(a,b){var c=$(\"#grid_\"+this.name+\"_search_all\"),d=this.getSearch(a);if(\"all\"==a)d={field:\"all\",caption:w2utils.lang(\"All Fields\")},c.w2field(\"clear\"),c.change().focus();else{var e=d.type;-1!=[\"enum\",\"select\"].indexOf(e)&&(e=\"list\"),c.w2field(e,$.extend({},d.options,{suffix:\"\",autoFormat:!1,selected:b})),-1!=[\"list\",\"enum\"].indexOf(d.type)&&(this.last.search=\"\",this.last.item=\"\",c.val(\"\")),setTimeout(function(){c.focus()},1)}\"\"!=this.last.search?this.search(d.field,this.last.search):(this.last.field=d.field,this.last.caption=d.caption),c.attr(\"placeholder\",d.caption),$().w2overlay()},searchReset:function(a){var b=this.trigger({phase:\"before\",type:\"search\",target:this.name,searchData:[]});b.isCancelled!==!0&&(this.searchData=[],this.last.search=\"\",this.last.logic=\"OR\",this.last.multi=!1,this.last.xhr_offset=0,this.last.scrollTop=0,this.last.scrollLeft=0,this.last.selection.indexes=[],this.last.selection.columns={},this.searchClose(),$(\"#grid_\"+this.name+\"_search_all\").val(\"\"),a||this.reload(),this.trigger($.extend(b,{phase:\"after\"})))},clear:function(a){this.records=[],this.summary=[],this.last.scrollTop=0,this.last.scrollLeft=0,this.last.selection.indexes=[],this.last.selection.columns={},this.last.range_start=null,this.last.range_end=null,this.last.xhr_offset=0,a||this.refresh()\n},reset:function(a){this.offset=0,this.total=0,this.last.scrollTop=0,this.last.scrollLeft=0,this.last.selection.indexes=[],this.last.selection.columns={},this.last.range_start=null,this.last.range_end=null,this.last.xhr_offset=0,this.searchReset(a),null!=this.last.sortData&&(this.sortData=this.last.sortData),this.set({expanded:!1},!0),a||this.refresh()},skip:function(a){var b=\"object\"!=typeof this.url?this.url:this.url.get;b?(this.offset=parseInt(a),this.offset>this.total&&(this.offset=this.total-this.limit),(this.offset<0||!w2utils.isInt(this.offset))&&(this.offset=0),this.records=[],this.last.xhr_offset=0,this.last.pull_more=!0,this.last.scrollTop=0,this.last.scrollLeft=0,$(\"#grid_\"+this.name+\"_records\").prop(\"scrollTop\",0),this.reload()):console.log(\"ERROR: grid.skip() can only be called when you have remote data source.\")},load:function(a,b){return\"undefined\"==typeof a?void console.log('ERROR: You need to provide url argument when calling .load() method of \"'+this.name+'\" object.'):void this.request(\"get-records\",{},a,b)},reload:function(a){var b=\"object\"!=typeof this.url?this.url:this.url.get;b?(this.clear(!0),this.request(\"get-records\",{},null,a)):(this.last.scrollTop=0,this.last.scrollLeft=0,this.last.range_start=null,this.last.range_end=null,this.localSearch(),this.refresh(),\"function\"==typeof a&&a({status:\"success\"}))},request:function(a,b,c,d){if(\"undefined\"==typeof b&&(b={}),(\"\"==c||null==c)&&(c=this.url),\"\"!=c&&null!=c){var e={};if(w2utils.isInt(this.offset)||(this.offset=0),w2utils.isInt(this.last.xhr_offset)||(this.last.xhr_offset=0),e.cmd=a,e.selected=this.getSelection(),e.limit=this.limit,e.offset=parseInt(this.offset)+this.last.xhr_offset,e.search=this.searchData,e.searchLogic=this.last.logic,e.sort=this.sortData,0==this.searchData.length&&(delete e.search,delete e.searchLogic),0==this.sortData.length&&delete e.sort,$.extend(e,this.postData),$.extend(e,b),\"get-records\"==a){var f=this.trigger({phase:\"before\",type:\"request\",target:this.name,url:c,postData:e});if(f.isCancelled===!0)return void(\"function\"==typeof d&&d({status:\"error\",message:\"Request aborted.\"}))}else var f={url:c,postData:e};var g=this;if(0==this.last.xhr_offset)this.lock(this.msgRefresh,!0);else{var h=$(\"#grid_\"+this.name+\"_rec_more\");this.autoLoad===!0?h.show().find(\"td\").html('<div><div style=\"width: 20px; height: 20px;\" class=\"w2ui-spinner\"></div></div>'):h.find(\"td\").html(\"<div>\"+w2utils.lang(\"Load\")+\" \"+g.limit+\" \"+w2utils.lang(\"More\")+\"...</div>\")}if(this.last.xhr)try{this.last.xhr.abort()}catch(i){}if(c=\"object\"!=typeof f.url?f.url:f.url.get,\"save-records\"==e.cmd&&\"object\"==typeof f.url&&(c=f.url.save),\"delete-records\"==e.cmd&&\"object\"==typeof f.url&&(c=f.url.remove),!$.isEmptyObject(g.routeData)){var j=w2utils.parseRoute(c);if(j.keys.length>0)for(var k=0;k<j.keys.length;k++)null!=g.routeData[j.keys[k].name]&&(c=c.replace(new RegExp(\":\"+j.keys[k].name,\"g\"),g.routeData[j.keys[k].name]))}var l={type:\"POST\",url:c,data:f.postData,dataType:\"text\"};\"HTTP\"==w2utils.settings.dataType&&(l.data=\"object\"==typeof l.data?String($.param(l.data,!1)).replace(/%5B/g,\"[\").replace(/%5D/g,\"]\"):l.data),\"RESTFULL\"==w2utils.settings.dataType&&(l.type=\"GET\",\"save-records\"==e.cmd&&(l.type=\"PUT\"),\"delete-records\"==e.cmd&&(l.type=\"DELETE\"),l.data=\"object\"==typeof l.data?String($.param(l.data,!1)).replace(/%5B/g,\"[\").replace(/%5D/g,\"]\"):l.data),\"JSON\"==w2utils.settings.dataType&&(l.type=\"POST\",l.data=JSON.stringify(l.data),l.contentType=\"application/json\"),this.method&&(l.type=this.method),this.last.xhr_cmd=e.cmd,this.last.xhr_start=(new Date).getTime(),this.last.xhr=$.ajax(l).done(function(b,c){g.requestComplete(c,a,d)}).fail(function(b,c,e){var f={status:c,error:e,rawResponseText:b.responseText},h=g.trigger({phase:\"before\",type:\"error\",error:f,xhr:b});if(h.isCancelled!==!0){if(\"abort\"!=c){var i;try{i=$.parseJSON(b.responseText)}catch(j){}console.log(\"ERROR: Server communication failed.\",\"\\n   EXPECTED:\",{status:\"success\",total:5,records:[{recid:1,field:\"value\"}]},\"\\n         OR:\",{status:\"error\",message:\"error message\"},\"\\n   RECEIVED:\",\"object\"==typeof i?i:b.responseText),g.requestComplete(\"error\",a,d)}g.trigger($.extend(h,{phase:\"after\"}))}}),\"get-records\"==a&&this.trigger($.extend(f,{phase:\"after\"}))}},requestComplete:function(status,cmd,callBack){var obj=this;this.unlock(),setTimeout(function(){obj.status(w2utils.lang(\"Server Response\")+\" \"+((new Date).getTime()-obj.last.xhr_start)/1e3+\" \"+w2utils.lang(\"sec\"))},10),this.last.pull_more=!1,this.last.pull_refresh=!0;var event_name=\"load\";\"save-records\"==this.last.xhr_cmd&&(event_name=\"save\"),\"delete-records\"==this.last.xhr_cmd&&(event_name=\"deleted\");var eventData=this.trigger({phase:\"before\",target:this.name,type:event_name,xhr:this.last.xhr,status:status});if(eventData.isCancelled===!0)return void(\"function\"==typeof callBack&&callBack({status:\"error\",message:\"Request aborted.\"}));var data,responseText=this.last.xhr.responseText;if(\"error\"!=status){if(\"undefined\"!=typeof responseText&&\"\"!=responseText){if(\"object\"==typeof responseText)data=responseText;else if(\"function\"==typeof obj.parser)data=obj.parser(responseText),\"object\"!=typeof data&&console.log(\"ERROR: Your parser did not return proper object\");else try{eval(\"data = \"+responseText)}catch(e){}if(obj.recid)for(var r in data.records)data.records[r].recid=data.records[r][obj.recid];if(\"undefined\"==typeof data&&(data={status:\"error\",message:this.msgNotJSON,responseText:responseText}),\"error\"==data.status)obj.error(data.message);else{if(\"get-records\"==cmd)if(0==this.last.xhr_offset)this.records=[],this.summary=[],delete data.status,$.extend(!0,this,data);else{var records=data.records;delete data.records,delete data.status,$.extend(!0,this,data);for(var r in records)this.records.push(records[r])}if(\"delete-records\"==cmd)return void this.reset()}}}else data={status:\"error\",message:this.msgAJAXerror,responseText:responseText},obj.error(this.msgAJAXerror);var url=\"object\"!=typeof this.url?this.url:this.url.get;url||(this.localSort(),this.localSearch()),this.total=parseInt(this.total),this.trigger($.extend(eventData,{phase:\"after\"})),0==this.last.xhr_offset?this.refresh():this.scroll(),\"function\"==typeof callBack&&callBack(data)},error:function(a){var b=this.trigger({target:this.name,type:\"error\",message:a,xhr:this.last.xhr});return b.isCancelled===!0?void(\"function\"==typeof callBack&&callBack({status:\"error\",message:\"Request aborted.\"})):(w2alert(a,\"Error\"),void this.trigger($.extend(b,{phase:\"after\"})))},getChanges:function(){var a=[];for(var b in this.records){var c=this.records[b];\"undefined\"!=typeof c.changes&&a.push($.extend(!0,{recid:c.recid},c.changes))}return a},mergeChanges:function(){var changes=this.getChanges();for(var c in changes){var record=this.get(changes[c].recid);for(var s in changes[c])if(\"recid\"!=s){try{eval(\"record.\"+s+\" = changes[c][s]\")}catch(e){}delete record.changes}}this.refresh()},save:function(){var a=this,b=this.getChanges(),c=this.trigger({phase:\"before\",target:this.name,type:\"submit\",changes:b});if(c.isCancelled!==!0){var d=\"object\"!=typeof this.url?this.url:this.url.save;d?this.request(\"save-records\",{changes:c.changes},null,function(b){\"error\"!==b.status&&a.mergeChanges(),a.trigger($.extend(c,{phase:\"after\"}))}):(this.mergeChanges(),this.trigger($.extend(c,{phase:\"after\"})))}},editField:function(a,b,c,d){var e=this,f=e.get(a,!0),g=e.records[f],h=e.columns[b],i=h?h.editable:null;if(g&&h&&i&&g.editable!==!1){if(-1!=[\"enum\",\"file\"].indexOf(i.type))return void console.log('ERROR: input types \"enum\" and \"file\" are not supported in inline editing.');var j=e.trigger({phase:\"before\",type:\"editField\",target:e.name,recid:a,column:b,value:c,index:f,originalEvent:d});if(j.isCancelled!==!0&&(c=j.value,this.selectNone(),this.select({recid:a,column:b}),this.last.edit_col=b,-1==[\"checkbox\",\"check\"].indexOf(i.type))){var k=$(\"#grid_\"+e.name+\"_rec_\"+w2utils.escapeId(a)),l=k.find(\"[col=\"+b+\"] > div\");\"undefined\"==typeof i.inTag&&(i.inTag=\"\"),\"undefined\"==typeof i.outTag&&(i.outTag=\"\"),\"undefined\"==typeof i.style&&(i.style=\"\"),\"undefined\"==typeof i.items&&(i.items=[]);var m=w2utils.stripTags(g.changes&&\"undefined\"!=typeof g.changes[h.field]?g.changes[h.field]:g[h.field]);(null==m||\"undefined\"==typeof m)&&(m=\"\"),\"undefined\"!=typeof c&&null!=c&&(m=c);var n=\"undefined\"!=typeof h.style?h.style+\";\":\"\";if(\"string\"==typeof h.render&&-1!=[\"number\",\"int\",\"float\",\"money\",\"percent\"].indexOf(h.render.split(\":\")[0])&&(n+=\"text-align: right;\"),i.items.length>0&&!$.isPlainObject(i.items[0])&&(i.items=w2obj.field.prototype.normMenu(i.items)),\"select\"==i.type){var o=\"\";for(var p in i.items)o+='<option value=\"'+i.items[p].id+'\" '+(i.items[p].id==m?\"selected\":\"\")+\">\"+i.items[p].text+\"</option>\";l.addClass(\"w2ui-editable\").html('<select id=\"grid_'+e.name+\"_edit_\"+a+\"_\"+b+'\" column=\"'+b+'\"     style=\"width: 100%; '+n+i.style+'\" field=\"'+h.field+'\" recid=\"'+a+'\"     '+i.inTag+\">\"+o+\"</select>\"+i.outTag),l.find(\"select\").focus().on(\"change\",function(){delete e.last.move}).on(\"blur\",function(a){e.editChange.call(e,this,f,b,a)})}else{l.addClass(\"w2ui-editable\").html('<input id=\"grid_'+e.name+\"_edit_\"+a+\"_\"+b+'\"     type=\"text\" style=\"font-family: inherit; font-size: inherit; outline: none; '+n+i.style+'\" field=\"'+h.field+'\" recid=\"'+a+'\"     column=\"'+b+'\" '+i.inTag+\">\"+i.outTag),null==c&&l.find(\"input\").val(\"object\"!=m?m:\"\");var q=l.find(\"input\").get(0);$(q).w2field(i.type,$.extend(i,{selected:m})),setTimeout(function(){var a=q;\"list\"==i.type&&(a=$($(q).data(\"w2field\").helpers.focus).find(\"input\"),\"object\"!=typeof m&&\"\"!=m&&a.val(m).css({opacity:1}).prev().css({opacity:1})),$(a).on(\"blur\",function(a){e.editChange.call(e,q,f,b,a)})},10),null!=c&&$(q).val(\"object\"!=m?m:\"\")}setTimeout(function(){l.find(\"input, select\").on(\"click\",function(a){a.stopPropagation()}).on(\"keydown\",function(c){var d=!1;switch(c.keyCode){case 9:d=!0;var i=a,j=c.shiftKey?e.prevCell(b,!0):e.nextCell(b,!0);if(null==j){var k=c.shiftKey?e.prevRow(f):e.nextRow(f);if(null!=k&&k!=f){i=e.records[k].recid;for(var l in e.columns){var k=e.columns[l].editable;if(\"undefined\"!=typeof k&&-1==[\"checkbox\",\"check\"].indexOf(k.type)&&(j=parseInt(l),!c.shiftKey))break}}}i===!1&&(i=a),null==j&&(j=b),this.blur(),setTimeout(function(){\"row\"!=e.selectType?(e.selectNone(),e.select({recid:i,column:j})):e.editField(i,j,null,c)},1);break;case 13:this.blur();var m=c.shiftKey?e.prevRow(f):e.nextRow(f);null!=m&&m!=f&&setTimeout(function(){\"row\"!=e.selectType?(e.selectNone(),e.select({recid:e.records[m].recid,column:b})):e.editField(e.records[m].recid,b,null,c)},100);break;case 38:if(!c.shiftKey)break;d=!0;var m=e.prevRow(f);m!=f&&(this.blur(),setTimeout(function(){\"row\"!=e.selectType?(e.selectNone(),e.select({recid:e.records[m].recid,column:b})):e.editField(e.records[m].recid,b,null,c)},1));break;case 40:if(!c.shiftKey)break;d=!0;var m=e.nextRow(f);null!=m&&m!=f&&(this.blur(),setTimeout(function(){\"row\"!=e.selectType?(e.selectNone(),e.select({recid:e.records[m].recid,column:b})):e.editField(e.records[m].recid,b,null,c)},1));break;case 27:var n=e.parseField(g,h.field);g.changes&&\"undefined\"!=typeof g.changes[h.field]&&(n=g.changes[h.field]),this.value=\"undefined\"!=typeof n?n:\"\",this.blur(),setTimeout(function(){e.select({recid:a,column:b})},1)}d&&c.preventDefault&&c.preventDefault()});var d=l.find(\"input\").focus();null!=c?d[0].setSelectionRange(d.val().length,d.val().length):d.select()},1),e.trigger($.extend(j,{phase:\"after\"}))}}},editChange:function(a,b,c){var d=0>b;b=0>b?-b-1:b;var e=d?this.summary:this.records,f=e[b],g=$(\"#grid_\"+this.name+\"_rec_\"+w2utils.escapeId(f.recid)),h=this.columns[c],i=a.value,j=this.parseField(f,h.field),k=$(a).data(\"w2field\");k&&(i=k.clean(i),\"list\"==k.type&&\"\"!=i&&(i=$(a).data(\"selected\"))),\"checkbox\"==a.type&&(f.editable===!1&&(a.checked=!a.checked),i=a.checked);for(var l={phase:\"before\",type:\"change\",target:this.name,input_id:a.id,recid:f.recid,index:b,column:c,value_new:i,value_previous:f.changes&&f.changes.hasOwnProperty(h.field)?f.changes[h.field]:j,value_original:j};;){if(i=l.value_new,\"object\"!=typeof i&&String(j)!=String(i)||\"object\"==typeof i&&(\"object\"!=typeof j||i.id!=j.id)){if(l=this.trigger($.extend(l,{type:\"change\",phase:\"before\"})),l.isCancelled!==!0){if(i!==l.value_new)continue;f.changes=f.changes||{},f.changes[h.field]=l.value_new,this.trigger($.extend(l,{phase:\"after\"}))}}else if(l=this.trigger($.extend(l,{type:\"restore\",phase:\"before\"})),l.isCancelled!==!0){if(i!==l.value_new)continue;f.changes&&delete f.changes[h.field],$.isEmptyObject(f.changes)&&delete f.changes,this.trigger($.extend(l,{phase:\"after\"}))}break}var m=this.getCellHTML(b,c,d);d||(f.changes&&\"undefined\"!=typeof f.changes[h.field]?$(g).find(\"[col=\"+c+\"]\").addClass(\"w2ui-changed\").html(m):$(g).find(\"[col=\"+c+\"]\").removeClass(\"w2ui-changed\").html(m))},\"delete\":function(a){var b=this,c=this.trigger({phase:\"before\",target:this.name,type:\"delete\",force:a});if(c.isCancelled!==!0){a=c.force;var d=this.getSelection();if(0!=d.length){if(\"\"!=this.msgDelete&&!a)return void w2confirm({title:w2utils.lang(\"Delete Confirmation\"),msg:b.msgDelete,btn_yes:{\"class\":\"w2ui-btn-red\"},callBack:function(a){\"Yes\"==a&&w2ui[b.name][\"delete\"](!0)}});var e=\"object\"!=typeof this.url?this.url:this.url.remove;if(e)this.request(\"delete-records\");else if(this.selectNone(),\"object\"!=typeof d[0])this.remove.apply(this,d);else{for(var f in d){var g=this.columns[d[f].column].field,h=this.get(d[f].recid,!0);null!=h&&\"recid\"!=g&&(this.records[h][g]=\"\",this.records[h].changes&&delete this.records[h].changes[g])}this.refresh()}this.trigger($.extend(c,{phase:\"after\"}))}}},click:function(a,b){var c=(new Date).getTime(),d=null;if(!(1==this.last.cancelClick||b&&b.altKey)){if(\"object\"==typeof a&&(d=a.column,a=a.recid),\"undefined\"==typeof b&&(b={}),c-parseInt(this.last.click_time)<350&&this.last.click_recid==a&&\"click\"==b.type)return void this.dblClick(a,b);if(this.last.click_time=c,this.last.click_recid=a,null==d&&b.target){var e=b.target;\"TD\"!=e.tagName&&(e=$(e).parents(\"td\")[0]),\"undefined\"!=typeof $(e).attr(\"col\")&&(d=parseInt($(e).attr(\"col\")))}var f=this.trigger({phase:\"before\",target:this.name,type:\"click\",recid:a,column:d,originalEvent:b});if(f.isCancelled!==!0){var g=$(\"#grid_\"+this.name+\"_rec_\"+w2utils.escapeId(a)).parents(\"tr\");if(g.length>0&&-1!=String(g.attr(\"id\")).indexOf(\"expanded_row\")){var h=g.parents(\".w2ui-grid\").attr(\"name\");w2ui[h].selectNone(),g.parents(\".w2ui-grid\").find(\".w2ui-expanded-row .w2ui-grid\").each(function(a,b){var c=$(b).attr(\"name\");w2ui[c]&&w2ui[c].selectNone()})}$(this.box).find(\".w2ui-expanded-row .w2ui-grid\").each(function(a,b){var c=$(b).attr(\"name\");w2ui[c]&&w2ui[c].selectNone()});var i=this,j=this.getSelection();$(\"#grid_\"+this.name+\"_check_all\").prop(\"checked\",!1);var k=this.get(a,!0),l=(this.records[k],[]);if(i.last.sel_ind=k,i.last.sel_col=d,i.last.sel_recid=a,i.last.sel_type=\"click\",b.shiftKey&&j.length>0&&i.multiSelect){if(j[0].recid){var m=this.get(j[0].recid,!0),n=this.get(a,!0);if(d>j[0].column)var o=j[0].column,p=d;else var o=d,p=j[0].column;for(var q=o;p>=q;q++)l.push(q)}else var m=this.get(j[0],!0),n=this.get(a,!0);var r=[];if(m>n){var e=m;m=n,n=e}for(var s=\"object\"!=typeof this.url?this.url:this.url.get,t=m;n>=t;t++)if(!(this.searchData.length>0)||s||-1!=$.inArray(t,this.last.searchIds))if(\"row\"==this.selectType)r.push(this.records[t].recid);else for(var u in l)r.push({recid:this.records[t].recid,column:l[u]});this.select.apply(this,r)}else{var v=this.last.selection,w=-1!=v.indexes.indexOf(k)?!0:!1;(b.ctrlKey||b.shiftKey||b.metaKey)&&this.multiSelect||this.showSelectColumn?(\"row\"!=this.selectType&&-1==$.inArray(d,v.columns[k])&&(w=!1),w===!0?this.unselect({recid:a,column:d}):this.select({recid:a,column:d})):(\"row\"!=this.selectType&&-1==$.inArray(d,v.columns[k])&&(w=!1),j.length>300?this.selectNone():this.unselect.apply(this,j),w===!0?this.unselect({recid:a,column:d}):this.select({recid:a,column:d}))}this.status(),i.initResize(),this.trigger($.extend(f,{phase:\"after\"}))}}},columnClick:function(a,b){var c=this.trigger({phase:\"before\",type:\"columnClick\",target:this.name,field:a,originalEvent:b});if(c.isCancelled!==!0){var d=this.getColumn(a);d&&d.sortable&&this.sort(a,null,b&&(b.ctrlKey||b.metaKey)?!0:!1),this.trigger($.extend(c,{phase:\"after\"}))}},keydown:function(a){function b(){$(\"#_tmp_copy_data\").remove(),$(document).off(\"keyup\",b)}function c(){var a=Math.floor((h[0].scrollTop+h.height()/2.1)/e.recordHeight);e.records[a]||(a=0),e.select({recid:e.records[a].recid,column:0})}function d(){if(\"click\"!=e.last.sel_type)return!1;if(\"row\"!=e.selectType){if(e.last.sel_type=\"key\",i.length>1){for(var a in i)if(i[a].recid==e.last.sel_recid&&i[a].column==e.last.sel_col){i.splice(a,1);break}return e.unselect.apply(e,i),!0}return!1}return e.last.sel_type=\"key\",i.length>1?(i.splice(i.indexOf(e.records[e.last.sel_ind].recid),1),e.unselect.apply(e,i),!0):!1}var e=this;if(e.keyboard===!0){var f=e.trigger({phase:\"before\",type:\"keydown\",target:e.name,originalEvent:a});if(f.isCancelled!==!0){var g=!1,h=$(\"#grid_\"+e.name+\"_records\"),i=e.getSelection();0==i.length&&(g=!0);var j=i[0]||null,k=[],l=i[i.length-1];if(\"object\"==typeof j&&null!=j){j=i[0].recid,k=[];for(var m=0;;){if(!i[m]||i[m].recid!=j)break;k.push(i[m].column),m++}l=i[i.length-1].recid}var n=e.get(j,!0),o=e.get(l,!0),p=e.get(j),q=$(\"#grid_\"+e.name+\"_rec_\"+(null!==n?w2utils.escapeId(e.records[n].recid):\"none\")),r=!1,s=a.keyCode,t=a.shiftKey;switch(9==s&&(s=a.shiftKey?37:39,t=!1,r=!0),s){case 8:case 46:this.show.toolbarDelete&&e[\"delete\"](),r=!0,a.stopPropagation();break;case 27:e.selectNone(),i.length>0&&\"object\"==typeof i[0]&&e.select({recid:i[0].recid,column:i[0].column}),r=!0;break;case 65:if(!a.metaKey&&!a.ctrlKey)break;e.selectAll(),r=!0;break;case 70:if(!a.metaKey&&!a.ctrlKey)break;$(\"#grid_\"+e.name+\"_search_all\").focus(),r=!0;break;case 13:if(\"row\"==this.selectType&&e.show.expandColumn===!0){if(q.length<=0)break;e.toggle(j,a),r=!0}else{for(var u in this.columns)if(this.columns[u].editable){k.push(parseInt(u));break}\"row\"==this.selectType&&this.last.edit_col&&(k=[this.last.edit_col]),k.length>0&&(e.editField(j,k[0],null,a),r=!0)}break;case 37:if(g)break;var v=$(\"#grid_\"+this.name+\"_rec_\"+w2utils.escapeId(e.records[n].recid)).parents(\"tr\");if(v.length>0&&-1!=String(v.attr(\"id\")).indexOf(\"expanded_row\")){var j=v.prev().attr(\"recid\"),w=v.parents(\".w2ui-grid\").attr(\"name\");e.selectNone(),w2utils.keyboard.active(w),w2ui[w].set(j,{expanded:!1}),w2ui[w].collapse(j),w2ui[w].click(j),r=!0;break}if(\"row\"==this.selectType){if(q.length<=0||p.expanded!==!0)break;e.set(j,{expanded:!1},!0),e.collapse(j,a)}else{var x=e.prevCell(k[0]);if(null!=x)if(t&&e.multiSelect){if(d())return;var y=[],z=[],A=[];if(0==k.indexOf(this.last.sel_col)&&k.length>1)for(var B in i)-1==y.indexOf(i[B].recid)&&y.push(i[B].recid),A.push({recid:i[B].recid,column:k[k.length-1]});else for(var B in i)-1==y.indexOf(i[B].recid)&&y.push(i[B].recid),z.push({recid:i[B].recid,column:x});e.unselect.apply(e,A),e.select.apply(e,z)}else a.shiftKey=!1,e.click({recid:j,column:x},a);else if(!t)for(var C=1;C<i.length;C++)e.unselect(i[C])}r=!0;break;case 39:if(g)break;if(\"row\"==this.selectType){if(q.length<=0||p.expanded===!0||e.show.expandColumn!==!0)break;e.expand(j,a)}else{var D=e.nextCell(k[k.length-1]);if(null!==D)if(t&&39==s&&e.multiSelect){if(d())return;var y=[],z=[],A=[];if(k.indexOf(this.last.sel_col)==k.length-1&&k.length>1)for(var B in i)-1==y.indexOf(i[B].recid)&&y.push(i[B].recid),A.push({recid:i[B].recid,column:k[0]});else for(var B in i)-1==y.indexOf(i[B].recid)&&y.push(i[B].recid),z.push({recid:i[B].recid,column:D});e.unselect.apply(e,A),e.select.apply(e,z)}else e.click({recid:j,column:D},a);else if(!t)for(var C=0;C<i.length-1;C++)e.unselect(i[C])}r=!0;break;case 38:if(g&&c(),q.length<=0)break;var x=e.prevRow(n);if(null!=x){if(e.records[x].expanded){var E=$(\"#grid_\"+e.name+\"_rec_\"+w2utils.escapeId(e.records[x].recid)+\"_expanded_row\").find(\".w2ui-grid\");if(E.length>0&&w2ui[E.attr(\"name\")]){e.selectNone();var w=E.attr(\"name\"),F=w2ui[w].records;w2utils.keyboard.active(w),w2ui[w].click(F[F.length-1].recid),r=!0;break}}if(t&&e.multiSelect){if(d())return;if(\"row\"==e.selectType)e.last.sel_ind>x&&e.last.sel_ind!=o?e.unselect(e.records[o].recid):e.select(e.records[x].recid);else if(e.last.sel_ind>x&&e.last.sel_ind!=o){x=o;var y=[];for(var u in k)y.push({recid:e.records[x].recid,column:k[u]});e.unselect.apply(e,y)}else{var y=[];for(var u in k)y.push({recid:e.records[x].recid,column:k[u]});e.select.apply(e,y)}}else i.length>300?this.selectNone():this.unselect.apply(this,i),e.click({recid:e.records[x].recid,column:k[0]},a);e.scrollIntoView(x),a.preventDefault&&a.preventDefault()}else{if(!t)for(var C=1;C<i.length;C++)e.unselect(i[C]);var v=$(\"#grid_\"+e.name+\"_rec_\"+w2utils.escapeId(e.records[n].recid)).parents(\"tr\");if(v.length>0&&-1!=String(v.attr(\"id\")).indexOf(\"expanded_row\")){var j=v.prev().attr(\"recid\"),w=v.parents(\".w2ui-grid\").attr(\"name\");e.selectNone(),w2utils.keyboard.active(w),w2ui[w].click(j),r=!0;break}}break;case 40:if(g&&c(),q.length<=0)break;if(e.records[o].expanded){var E=$(\"#grid_\"+this.name+\"_rec_\"+w2utils.escapeId(e.records[o].recid)+\"_expanded_row\").find(\".w2ui-grid\");if(E.length>0&&w2ui[E.attr(\"name\")]){e.selectNone();var w=E.attr(\"name\"),F=w2ui[w].records;w2utils.keyboard.active(w),w2ui[w].click(F[0].recid),r=!0;break}}var D=e.nextRow(o);if(null!=D){if(t&&e.multiSelect){if(d())return;if(\"row\"==e.selectType)this.last.sel_ind<D&&this.last.sel_ind!=n?e.unselect(e.records[n].recid):e.select(e.records[D].recid);else if(this.last.sel_ind<D&&this.last.sel_ind!=n){D=n;var y=[];for(var u in k)y.push({recid:e.records[D].recid,column:k[u]});e.unselect.apply(e,y)}else{var y=[];for(var u in k)y.push({recid:e.records[D].recid,column:k[u]});e.select.apply(e,y)}}else i.length>300?this.selectNone():this.unselect.apply(this,i),e.click({recid:e.records[D].recid,column:k[0]},a);e.scrollIntoView(D),r=!0}else{if(!t)for(var C=0;C<i.length-1;C++)e.unselect(i[C]);var v=$(\"#grid_\"+this.name+\"_rec_\"+w2utils.escapeId(e.records[o].recid)).parents(\"tr\");if(v.length>0&&-1!=String(v.attr(\"id\")).indexOf(\"expanded_row\")){var j=v.next().attr(\"recid\"),w=v.parents(\".w2ui-grid\").attr(\"name\");e.selectNone(),w2utils.keyboard.active(w),w2ui[w].click(j),r=!0;break}}break;case 17:case 91:if(g)break;var G=e.copy();$(\"body\").append('<textarea id=\"_tmp_copy_data\"    onpaste=\"var obj = this; setTimeout(function () { w2ui[\\''+e.name+\"'].paste(obj.value); }, 1);\\\"    onkeydown=\\\"w2ui['\"+e.name+'\\'].keydown(event)\"   style=\"position: absolute; top: -100px; height: 1px; width: 1px\">'+G+\"</textarea>\"),$(\"#_tmp_copy_data\").focus().select(),$(document).on(\"keyup\",b);break;case 88:if(g)break;(a.ctrlKey||a.metaKey)&&setTimeout(function(){e[\"delete\"](!0)},100)}for(var y=[187,189,32],B=48;90>=B;B++)y.push(B);if(-1!=y.indexOf(s)&&!a.ctrlKey&&!a.metaKey&&!r){0==k.length&&k.push(0);var y=String.fromCharCode(s);187==s&&(y=\"=\"),189==s&&(y=\"-\"),t||(y=y.toLowerCase()),e.editField(j,k[0],y,a),r=!0}r&&a.preventDefault&&a.preventDefault(),e.trigger($.extend(f,{phase:\"after\"}))}}},scrollIntoView:function(a){var b=this.records.length,c=\"object\"!=typeof this.url?this.url:this.url.get;if(0==this.searchData.length||c||(b=this.last.searchIds.length),\"undefined\"==typeof a){var d=this.getSelection();if(0==d.length)return;a=this.get(d[0],!0)}var e=$(\"#grid_\"+this.name+\"_records\");if(0!=b){var f=this.last.searchIds.length;if(!(e.height()>this.recordHeight*(f>0?f:b))){f>0&&(a=this.last.searchIds.indexOf(a));var g=Math.floor(e[0].scrollTop/this.recordHeight),h=g+Math.floor(e.height()/this.recordHeight);a==g&&e.animate({scrollTop:e.scrollTop()-e.height()/1.3},250,\"linear\"),a==h&&e.animate({scrollTop:e.scrollTop()+e.height()/1.3},250,\"linear\"),(g>a||a>h)&&e.animate({scrollTop:(a-1)*this.recordHeight})}}},dblClick:function(a,b){var c=null;if(\"object\"==typeof a&&(c=a.column,a=a.recid),\"undefined\"==typeof b&&(b={}),null==c&&b.target){var d=b.target;\"TD\"!=d.tagName&&(d=$(d).parents(\"td\")[0]),c=parseInt($(d).attr(\"col\"))}var e=this.trigger({phase:\"before\",target:this.name,type:\"dblClick\",recid:a,column:c,originalEvent:b});if(e.isCancelled!==!0){this.selectNone();var f=this.columns[c];f&&$.isPlainObject(f.editable)?this.editField(a,c,null,b):this.select({recid:a,column:c}),this.trigger($.extend(e,{phase:\"after\"}))}},contextMenu:function(a,b){var c=this;\"text\"!=c.last.userSelect&&(\"undefined\"==typeof b&&(b={offsetX:0,offsetY:0,target:$(\"#grid_\"+c.name+\"_rec_\"+a)[0]}),\"undefined\"==typeof b.offsetX&&(b.offsetX=b.layerX-b.target.offsetLeft,b.offsetY=b.layerY-b.target.offsetTop),w2utils.isFloat(a)&&(a=parseFloat(a)),-1==this.getSelection().indexOf(a)&&c.click(a),setTimeout(function(){var d=c.trigger({phase:\"before\",type:\"contextMenu\",target:c.name,originalEvent:b,recid:a});d.isCancelled!==!0&&(c.menu.length>0&&$(c.box).find(b.target).w2menu(c.menu,{left:b.offsetX,onSelect:function(b){c.menuClick(a,parseInt(b.index),b.originalEvent)}}),c.trigger($.extend(d,{phase:\"after\"})))},150),b.preventDefault&&b.preventDefault())},menuClick:function(a,b,c){var d=this,e=d.trigger({phase:\"before\",type:\"menuClick\",target:d.name,originalEvent:c,recid:a,menuIndex:b,menuItem:d.menu[b]});e.isCancelled!==!0&&d.trigger($.extend(e,{phase:\"after\"}))},toggle:function(a){var b=this.get(a);return b.expanded===!0?this.collapse(a):this.expand(a)},expand:function(a){function b(){var b=$(\"#grid_\"+d.name+\"_rec_\"+e+\"_expanded\"),c=$(\"#grid_\"+d.name+\"_rec_\"+e+\"_expanded_row .w2ui-expanded1 > div\");b.height()<5||(b.css(\"opacity\",1),c.show().css(\"opacity\",1),$(\"#grid_\"+d.name+\"_cell_\"+d.get(a,!0)+\"_expand div\").html(\"-\"))}var c=this.get(a),d=this,e=w2utils.escapeId(a);if($(\"#grid_\"+this.name+\"_rec_\"+e+\"_expanded_row\").length>0)return!1;if(\"none\"==c.expanded)return!1;var f=1+(this.show.selectColumn?1:0),g=\"\";$(\"#grid_\"+this.name+\"_rec_\"+e).after('<tr id=\"grid_'+this.name+\"_rec_\"+a+'_expanded_row\" class=\"w2ui-expanded-row '+g+'\">'+(this.show.lineNumbers?'<td class=\"w2ui-col-number\"></td>':\"\")+'    <td class=\"w2ui-grid-data w2ui-expanded1\" colspan=\"'+f+'\"><div style=\"display: none\"></div></td>    <td colspan=\"100\" class=\"w2ui-expanded2\">        <div id=\"grid_'+this.name+\"_rec_\"+a+'_expanded\" style=\"opacity: 0\"></div>    </td></tr>');var h=this.trigger({phase:\"before\",type:\"expand\",target:this.name,recid:a,box_id:\"grid_\"+this.name+\"_rec_\"+a+\"_expanded\",ready:b});return h.isCancelled===!0?void $(\"#grid_\"+this.name+\"_rec_\"+e+\"_expanded_row\").remove():($(\"#grid_\"+this.name+\"_rec_\"+e).attr(\"expanded\",\"yes\").addClass(\"w2ui-expanded\"),$(\"#grid_\"+this.name+\"_rec_\"+e+\"_expanded_row\").show(),$(\"#grid_\"+this.name+\"_cell_\"+this.get(a,!0)+\"_expand div\").html('<div class=\"w2ui-spinner\" style=\"width: 16px; height: 16px; margin: -2px 2px;\"></div>'),c.expanded=!0,setTimeout(b,300),this.trigger($.extend(h,{phase:\"after\"})),this.resizeRecords(),!0)},collapse:function(a){var b=this.get(a),c=this,d=w2utils.escapeId(a);if(0==$(\"#grid_\"+this.name+\"_rec_\"+d+\"_expanded_row\").length)return!1;var e=this.trigger({phase:\"before\",type:\"collapse\",target:this.name,recid:a,box_id:\"grid_\"+this.name+\"_rec_\"+d+\"_expanded\"});return e.isCancelled!==!0?($(\"#grid_\"+this.name+\"_rec_\"+d).removeAttr(\"expanded\").removeClass(\"w2ui-expanded\"),$(\"#grid_\"+this.name+\"_rec_\"+d+\"_expanded\").css(\"opacity\",0),$(\"#grid_\"+this.name+\"_cell_\"+this.get(a,!0)+\"_expand div\").html(\"+\"),setTimeout(function(){$(\"#grid_\"+c.name+\"_rec_\"+d+\"_expanded\").height(\"0px\"),setTimeout(function(){$(\"#grid_\"+c.name+\"_rec_\"+d+\"_expanded_row\").remove(),delete b.expanded,c.trigger($.extend(e,{phase:\"after\"})),c.resizeRecords()},300)},200),!0):void 0},sort:function(a,b,c){var d=this.trigger({phase:\"before\",type:\"sort\",target:this.name,field:a,direction:b,multiField:c});if(d.isCancelled!==!0){if(\"undefined\"!=typeof a){var e=this.sortData.length;for(var f in this.sortData)if(this.sortData[f].field==a){e=f;break}if(\"undefined\"==typeof b||null==b)if(\"undefined\"==typeof this.sortData[e])b=\"asc\";else switch(String(this.sortData[e].direction)){case\"asc\":b=\"desc\";break;case\"desc\":b=\"asc\";break;default:b=\"asc\"}this.multiSort===!1&&(this.sortData=[],e=0),1!=c&&(this.sortData=[],e=0),\"undefined\"==typeof this.sortData[e]&&(this.sortData[e]={}),this.sortData[e].field=a,this.sortData[e].direction=b}else this.sortData=[];this.selectNone();var g=\"object\"!=typeof this.url?this.url:this.url.get;g?(this.trigger($.extend(d,{phase:\"after\"})),this.last.xhr_offset=0,this.reload()):(this.localSort(),this.searchData.length>0&&this.localSearch(!0),this.trigger($.extend(d,{phase:\"after\"})),this.refresh())}},copy:function(){var a=this.getSelection();if(0==a.length)return\"\";var b=\"\";if(\"object\"==typeof a[0]){var c=a[0].column,d=a[0].column,e=[];for(var f in a)a[f].column<c&&(c=a[f].column),a[f].column>d&&(d=a[f].column),-1==e.indexOf(a[f].index)&&e.push(a[f].index);for(var g in e){for(var h=e[g],i=c;d>=i;i++){var j=this.columns[i];j.hidden!==!0&&(b+=w2utils.stripTags(this.getCellHTML(h,i))+\"\t\")}b=b.substr(0,b.length-1),b+=\"\\n\"}}else{for(var i in this.columns){var j=this.columns[i];j.hidden!==!0&&(b+='\"'+w2utils.stripTags(j.caption?j.caption:j.field)+'\"\t')}b=b.substr(0,b.length-1),b+=\"\\n\";for(var f in a){var h=this.get(a[f],!0);for(var i in this.columns){var j=this.columns[i];j.hidden!==!0&&(b+='\"'+w2utils.stripTags(this.getCellHTML(h,i))+'\"\t')}b=b.substr(0,b.length-1),b+=\"\\n\"}}b=b.substr(0,b.length-1);var k=this.trigger({phase:\"before\",type:\"copy\",target:this.name,text:b});return k.isCancelled===!0?\"\":(b=k.text,this.trigger($.extend(k,{phase:\"after\"})),b)},paste:function(a){var b=this.getSelection(),c=this.get(b[0].recid,!0),d=b[0].column,e=this.trigger({phase:\"before\",type:\"paste\",target:this.name,text:a,index:c,column:d});if(e.isCancelled!==!0){if(a=e.text,\"row\"==this.selectType||0==b.length)return console.log(\"ERROR: You can paste only if grid.selectType = 'cell' and when at least one cell selected.\"),void this.trigger($.extend(e,{phase:\"after\"}));var f=[],a=a.split(\"\\n\");for(var g in a){var h=a[g].split(\"\t\"),i=0,j=this.records[c],k=[];for(var l in h)if(this.columns[d+i]){var m=this.columns[d+i].field;j.changes=j.changes||{},j.changes[m]=h[l],k.push(d+i),i++}for(var n in k)f.push({recid:j.recid,column:k[n]});c++}this.selectNone(),this.select.apply(this,f),this.refresh(),this.trigger($.extend(e,{phase:\"after\"}))}},resize:function(){var a=this,b=(new Date).getTime();if(this.box&&$(this.box).attr(\"name\")==this.name){$(this.box).find(\"> div\").css(\"width\",$(this.box).width()).css(\"height\",$(this.box).height());var c=this.trigger({phase:\"before\",type:\"resize\",target:this.name});if(c.isCancelled!==!0)return a.resizeBoxes(),a.resizeRecords(),this.trigger($.extend(c,{phase:\"after\"})),(new Date).getTime()-b}},refreshCell:function(a,b){var c=this.get(a,!0),d=this.records[c]&&this.records[c].recid==a?!1:!0,e=this.getColumn(b,!0),f=d?this.summary[c]:this.records[c],g=this.columns[e],h=$(\"#grid_\"+this.name+\"_rec_\"+a+\" [col=\"+e+\"]\");h.html(this.getCellHTML(c,e,d)),f.changes&&\"undefined\"!=typeof f.changes[g.field]?h.addClass(\"w2ui-changed\"):h.removeClass(\"w2ui-changed\")},refreshRow:function(a){var b=$(\"#grid_\"+this.name+\"_rec_\"+w2utils.escapeId(a));if(0!=b.length){var c=this.get(a,!0),d=b.attr(\"line\"),e=this.records[c]&&this.records[c].recid==a?!1:!0,f=\"object\"!=typeof this.url?this.url:this.url.get;if(this.searchData.length>0&&!f)for(var g in this.last.searchIds)this.last.searchIds[g]==c&&(c=g);$(b).replaceWith(this.getRecordHTML(c,d,e)),e&&this.resize()}},refresh:function(){var a=this,b=(new Date).getTime(),c=\"object\"!=typeof this.url?this.url:this.url.get;if(this.total<=0&&!c&&0==this.searchData.length&&(this.total=this.records.length),this.toolbar.disable(\"w2ui-edit\",\"w2ui-delete\"),this.box){var d=this.trigger({phase:\"before\",target:this.name,type:\"refresh\"});if(d.isCancelled!==!0){if(this.show.header?$(\"#grid_\"+this.name+\"_header\").html(this.header+\"&nbsp;\").show():$(\"#grid_\"+this.name+\"_header\").hide(),this.show.toolbar){if(this.toolbar&&this.toolbar.get(\"w2ui-column-on-off\")&&this.toolbar.get(\"w2ui-column-on-off\").checked);else if($(\"#grid_\"+this.name+\"_toolbar\").show(),\"object\"==typeof this.toolbar){var e=this.toolbar.items;\nfor(var f in e)\"w2ui-search\"!=e[f].id&&\"break\"!=e[f].type&&this.toolbar.refresh(e[f].id)}}else $(\"#grid_\"+this.name+\"_toolbar\").hide();this.searchClose();var g=$(\"#grid_\"+a.name+\"_search_all\");!this.multiSearch&&\"all\"==this.last.field&&this.searches.length>0&&(this.last.field=this.searches[0].field,this.last.caption=this.searches[0].caption);for(var h in this.searches)this.searches[h].field==this.last.field&&(this.last.caption=this.searches[h].caption);if(this.last.multi?g.attr(\"placeholder\",\"[\"+w2utils.lang(\"Multiple Fields\")+\"]\"):g.attr(\"placeholder\",this.last.caption),g.val()!=this.last.search){var i=this.last.search,e=g.data(\"w2field\");e&&(i=e.format(i)),g.val(i)}var e=this.find({summary:!0},!0);if(e.length>0){for(var f in e)this.summary.push(this.records[e[f]]);for(var f=e.length-1;f>=0;f--)this.records.splice(e[f],1);this.total=this.total-e.length}var j=a.find({expanded:!0},!0);for(var k in j)a.records[j[k]].expanded=!1;var l=\"\";l+='<div id=\"grid_'+this.name+'_records\" class=\"w2ui-grid-records\"    onscroll=\"var obj = w2ui[\\''+this.name+\"'];         obj.last.scrollTop = this.scrollTop;         obj.last.scrollLeft = this.scrollLeft;         $('#grid_\"+this.name+\"_columns')[0].scrollLeft = this.scrollLeft;        $('#grid_\"+this.name+\"_summary')[0].scrollLeft = this.scrollLeft;        obj.scroll(event);\\\">\"+this.getRecordsHTML()+'</div><div id=\"grid_'+this.name+'_columns\" class=\"w2ui-grid-columns\">    <table>'+this.getColumnsHTML()+\"</table></div>\",$(\"#grid_\"+this.name+\"_body\").html(l),this.summary.length>0?$(\"#grid_\"+this.name+\"_summary\").html(this.getSummaryHTML()).show():$(\"#grid_\"+this.name+\"_summary\").hide(),this.show.footer?$(\"#grid_\"+this.name+\"_footer\").html(this.getFooterHTML()).show():$(\"#grid_\"+this.name+\"_footer\").hide(),this.searchData.length>0?$(\"#grid_\"+this.name+\"_searchClear\").show():$(\"#grid_\"+this.name+\"_searchClear\").hide();var m=this.last.selection;return m.indexes.length==this.records.length||0!==this.searchData.length&&m.indexes.length==this.last.searchIds.length?$(\"#grid_\"+this.name+\"_check_all\").prop(\"checked\",!0):$(\"#grid_\"+this.name+\"_check_all\").prop(\"checked\",!1),this.status(),setTimeout(function(){var b=$.trim($(\"#grid_\"+a.name+\"_search_all\").val());\"\"!=b&&$(a.box).find(\".w2ui-grid-data > div\").w2marker(b)},50),this.trigger($.extend(d,{phase:\"after\"})),a.resize(),a.addRange(\"selection\"),setTimeout(function(){a.resize(),a.scroll()},1),a.reorderColumns&&!a.last.columnDrag?a.last.columnDrag=a.initColumnDrag():!a.reorderColumns&&a.last.columnDrag&&a.last.columnDrag.remove(),(new Date).getTime()-b}}},render:function(a){function b(a){if(1==a.which&&(\"text\"==e.last.userSelect&&(delete e.last.userSelect,$(e.box).find(\".w2ui-grid-body\").css(\"user-select\",\"none\").css(\"-webkit-user-select\",\"none\").css(\"-moz-user-select\",\"none\").css(\"-ms-user-select\",\"none\"),$(this.box).on(\"selectstart\",function(){return!1})),!($(a.target).parents().hasClass(\"w2ui-head\")||$(a.target).hasClass(\"w2ui-head\")||e.last.move&&\"expand\"==e.last.move.type))){if(a.altKey)$(e.box).off(\"selectstart\"),$(e.box).find(\".w2ui-grid-body\").css(\"user-select\",\"text\").css(\"-webkit-user-select\",\"text\").css(\"-moz-user-select\",\"text\").css(\"-ms-user-select\",\"text\"),e.selectNone(),e.last.move={type:\"text-select\"},e.last.userSelect=\"text\";else{if(!e.multiSelect)return;e.last.move={x:a.screenX,y:a.screenY,divX:0,divY:0,recid:$(a.target).parents(\"tr\").attr(\"recid\"),column:\"TD\"==a.target.tagName?$(a.target).attr(\"col\"):$(a.target).parents(\"td\").attr(\"col\"),type:\"select\",ghost:!1,start:!0}}$(document).on(\"mousemove\",c),$(document).on(\"mouseup\",d)}}function c(a){var b=e.last.move;if(b&&\"select\"==b.type&&(b.divX=a.screenX-b.x,b.divY=a.screenY-b.y,!(Math.abs(b.divX)<=1&&Math.abs(b.divY)<=1))){if(e.last.cancelClick=!0,1==e.reorderRows){if(!b.ghost){var c=$(\"#grid_\"+e.name+\"_rec_\"+b.recid),d=c.parents(\"table\").find(\"tr:first-child\").clone();b.offsetY=a.offsetY,b.from=b.recid,b.pos=c.position(),b.ghost=$(c).clone(!0),b.ghost.removeAttr(\"id\"),c.find(\"td:first-child\").replaceWith('<td colspan=\"1000\" style=\"height: '+e.recordHeight+'px; background-color: #ddd\"></td>');var f=$(e.box).find(\".w2ui-grid-records\");f.append('<table id=\"grid_'+e.name+'_ghost\" style=\"position: absolute; z-index: 999999; opacity: 0.8; border-bottom: 2px dashed #aaa; border-top: 2px dashed #aaa; pointer-events: none;\"></table>'),$(\"#grid_\"+e.name+\"_ghost\").append(d).append(b.ghost)}var g=$(a.target).parents(\"tr\").attr(\"recid\");if(g!=b.from){var h=$(\"#grid_\"+e.name+\"_rec_\"+b.recid),i=$(\"#grid_\"+e.name+\"_rec_\"+g);a.screenY-b.lastY<0?h.after(i):i.after(h),b.lastY=a.screenY,b.to=g}var j=$(\"#grid_\"+e.name+\"_ghost\"),f=$(e.box).find(\".w2ui-grid-records\");return void j.css({top:b.pos.top+b.divY+f.scrollTop(),left:b.pos.left})}b.start&&b.recid&&(e.selectNone(),b.start=!1);var k=[],g=\"TR\"==a.target.tagName?$(a.target).attr(\"recid\"):$(a.target).parents(\"tr\").attr(\"recid\");if(\"undefined\"!=typeof g){var l=e.get(b.recid,!0);if(null!==l){var m=e.get(g,!0);if(null!==m){var n=parseInt(b.column),o=parseInt(\"TD\"==a.target.tagName?$(a.target).attr(\"col\"):$(a.target).parents(\"td\").attr(\"col\"));if(l>m){var d=l;l=m,m=d}var d=\"ind1:\"+l+\",ind2;\"+m+\",col1:\"+n+\",col2:\"+o;if(b.range!=d){b.range=d;for(var p=l;m>=p;p++)if(!(e.last.searchIds.length>0&&-1==e.last.searchIds.indexOf(p)))if(\"row\"!=e.selectType){if(n>o){var d=n;n=o,o=d}for(var d=[],q=n;o>=q;q++)e.columns[q].hidden||k.push({recid:e.records[p].recid,column:parseInt(q)})}else k.push(e.records[p].recid);if(\"row\"!=e.selectType){var r=e.getSelection(),d=[];for(var s in k){var t=!1;for(var u in r)k[s].recid==r[u].recid&&k[s].column==r[u].column&&(t=!0);t||d.push({recid:k[s].recid,column:k[s].column})}e.select.apply(e,d);var d=[];for(var u in r){var t=!1;for(var s in k)k[s].recid==r[u].recid&&k[s].column==r[u].column&&(t=!0);t||d.push({recid:r[u].recid,column:r[u].column})}e.unselect.apply(e,d)}else if(e.multiSelect){var r=e.getSelection();for(var s in k)-1==r.indexOf(k[s])&&e.select(k[s]);for(var u in r)-1==k.indexOf(r[u])&&e.unselect(r[u])}}}}}}}function d(a){var b=e.last.move;if(setTimeout(function(){delete e.last.cancelClick},1),!$(a.target).parents().hasClass(\".w2ui-head\")&&!$(a.target).hasClass(\".w2ui-head\")){if(b&&\"select\"==b.type&&1==e.reorderRows){var f=e.get(b.from,!0),g=e.records[f];e.records.splice(f,1);var h=e.get(b.to,!0);f>h?e.records.splice(h,0,g):e.records.splice(h+1,0,g),$(\"#grid_\"+e.name+\"_ghost\").remove(),e.refresh()}delete e.last.move,$(document).off(\"mousemove\",c),$(document).off(\"mouseup\",d)}}var e=this,f=(new Date).getTime();if(\"undefined\"!=typeof a&&null!=a&&($(this.box).find(\"#grid_\"+this.name+\"_body\").length>0&&$(this.box).removeAttr(\"name\").removeClass(\"w2ui-reset w2ui-grid\").html(\"\"),this.box=a),this.box){null==this.last.sortData&&(this.last.sortData=this.sortData);var g=\"object\"!=typeof this.url?this.url:this.url.get,h=this.trigger({phase:\"before\",target:this.name,type:\"render\",box:a});if(h.isCancelled!==!0){if($(this.box).attr(\"name\",this.name).addClass(\"w2ui-reset w2ui-grid\").html('<div>    <div id=\"grid_'+this.name+'_header\" class=\"w2ui-grid-header\"></div>    <div id=\"grid_'+this.name+'_toolbar\" class=\"w2ui-grid-toolbar\"></div>    <div id=\"grid_'+this.name+'_body\" class=\"w2ui-grid-body\"></div>    <div id=\"grid_'+this.name+'_summary\" class=\"w2ui-grid-body w2ui-grid-summary\"></div>    <div id=\"grid_'+this.name+'_footer\" class=\"w2ui-grid-footer\"></div></div>'),\"row\"!=this.selectType&&$(this.box).addClass(\"w2ui-ss\"),$(this.box).length>0&&($(this.box)[0].style.cssText+=this.style),this.initToolbar(),null!=this.toolbar&&this.toolbar.render($(\"#grid_\"+this.name+\"_toolbar\")[0]),this.last.field&&\"all\"!=this.last.field){var i=this.searchData;this.initAllField(this.last.field,1==i.length?i[0].value:null)}return $(\"#grid_\"+this.name+\"_footer\").html(this.getFooterHTML()),this.last.state||(this.last.state=this.stateSave(!0)),this.stateRestore(),g&&this.refresh(),this.reload(),$(this.box).on(\"mousedown\",b),$(this.box).on(\"selectstart\",function(){return!1}),this.trigger($.extend(h,{phase:\"after\"})),0==$(\".w2ui-layout\").length&&(this.tmp_resize=function(){w2ui[e.name].resize()},$(window).off(\"resize\",this.tmp_resize).on(\"resize\",this.tmp_resize)),(new Date).getTime()-f}}},destroy:function(){var a=this.trigger({phase:\"before\",target:this.name,type:\"destroy\"});a.isCancelled!==!0&&($(window).off(\"resize\",this.tmp_resize),\"object\"==typeof this.toolbar&&this.toolbar.destroy&&this.toolbar.destroy(),$(this.box).find(\"#grid_\"+this.name+\"_body\").length>0&&$(this.box).removeAttr(\"name\").off(\"selectstart\").removeClass(\"w2ui-reset w2ui-grid\").html(\"\"),delete w2ui[this.name],this.trigger($.extend(a,{phase:\"after\"})))},initColumnOnOff:function(){if(this.show.toolbarColumns){var a=this,b='<div class=\"w2ui-col-on-off\"><table><tr><td style=\"width: 30px\">    <input id=\"grid_'+this.name+'_column_ln_check\" type=\"checkbox\" tabIndex=\"-1\" '+(a.show.lineNumbers?\"checked\":\"\")+\"        onclick=\\\"w2ui['\"+a.name+\"'].columnOnOff(this, event, 'line-numbers');\\\"></td><td onclick=\\\"w2ui['\"+a.name+\"'].columnOnOff(this, event, 'line-numbers'); $('#w2ui-overlay')[0].hide();\\\">    <label for=\\\"grid_\"+this.name+'_column_ln_check\">'+w2utils.lang(\"Line #\")+\"</label></td></tr>\";for(var c in this.columns){var d=this.columns[c],e=this.columns[c].caption;d.hideable!==!1&&(!e&&this.columns[c].hint&&(e=this.columns[c].hint),e||(e=\"- column \"+(parseInt(c)+1)+\" -\"),b+='<tr><td style=\"width: 30px\">    <input id=\"grid_'+this.name+\"_column_\"+c+'_check\" type=\"checkbox\" tabIndex=\"-1\" '+(d.hidden?\"\":\"checked\")+\"        onclick=\\\"w2ui['\"+a.name+\"'].columnOnOff(this, event, '\"+d.field+'\\');\"></td><td>    <label for=\"grid_'+this.name+\"_column_\"+c+'_check\">'+e+\"</label></td></tr>\")}b+='<tr><td colspan=\"2\"><div style=\"border-top: 1px solid #ddd;\"></div></td></tr>';var f=\"object\"!=typeof this.url?this.url:this.url.get;f&&a.show.skipRecords&&(b+='<tr><td colspan=\"2\" style=\"padding: 0px\">    <div style=\"cursor: pointer; padding: 2px 8px; cursor: default\">'+w2utils.lang(\"Skip\")+'        <input type=\"text\" style=\"width: 45px\" value=\"'+this.offset+'\"             onkeypress=\"if (event.keyCode == 13) {                w2ui[\\''+a.name+\"'].skip(this.value);                $('#w2ui-overlay')[0].hide();             }\\\"> \"+w2utils.lang(\"Records\")+\"    </div></td></tr>\"),b+='<tr><td colspan=\"2\" onclick=\"w2ui[\\''+a.name+\"'].stateSave(); $('#w2ui-overlay')[0].hide();\\\">    <div style=\\\"cursor: pointer; padding: 4px 8px; cursor: default\\\">\"+w2utils.lang(\"Save Grid State\")+'</div></td></tr><tr><td colspan=\"2\" onclick=\"w2ui[\\''+a.name+\"'].stateReset(); $('#w2ui-overlay')[0].hide();\\\">    <div style=\\\"cursor: pointer; padding: 4px 8px; cursor: default\\\">\"+w2utils.lang(\"Restore Default State\")+\"</div></td></tr>\",b+=\"</table></div>\",this.toolbar.get(\"w2ui-column-on-off\").html=b}},initColumnDrag:function(){function a(){i.pressed=!1,clearTimeout(i.timeout)}function b(a){i.timeout&&clearTimeout(i.timeout);var b=this;i.pressed=!0,i.timeout=setTimeout(function(){if(i.pressed){var e,f,g,j,k,l=[\"w2ui-col-number\",\"w2ui-col-expand\",\"w2ui-col-select\"],m=[\"w2ui-head-last\"],n=l.concat(m),o=\".w2ui-col-number, .w2ui-col-expand, .w2ui-col-select\",p=\".w2ui-head.w2ui-col-number, .w2ui-head.w2ui-col-expand, .w2ui-head.w2ui-col-select\";if($(a.originalEvent.target).parents().hasClass(\"w2ui-head\")){for(var q=0,r=n.length;r>q;q++)if($(a.originalEvent.target).parents().hasClass(n[q]))return;if(i.numberPreColumnsPresent=$(h.box).find(p).length,i.columnHead=j=$(a.originalEvent.target).parents(\".w2ui-head\"),k=parseInt(j.attr(\"col\"),10),e=h.trigger({type:\"columnDragStart\",phase:\"before\",originalEvent:a,origColumnNumber:k,target:j[0]}),e.isCancelled===!0)return!1;f=i.columns=$(h.box).find(\".w2ui-head:not(.w2ui-head-last)\"),$(document).on(\"mouseup\",d),$(document).on(\"mousemove\",c),i.originalPos=parseInt($(a.originalEvent.target).parent(\".w2ui-head\").attr(\"col\"),10),i.ghost=$(b).clone(!0),$(i.ghost).find('[col]:not([col=\"'+i.originalPos+'\"]), .w2ui-toolbar, .w2ui-grid-header').remove(),$(i.ghost).find(o).remove(),$(i.ghost).find(\".w2ui-grid-body\").css({top:0}),g=$(i.ghost).find('[col=\"'+i.originalPos+'\"]'),$(document.body).append(i.ghost),$(i.ghost).css({width:0,height:0,margin:0,position:\"fixed\",zIndex:999999,opacity:0}).addClass(\".w2ui-grid-ghost\").animate({width:g.width(),height:$(h.box).find(\".w2ui-grid-body:first\").height(),left:a.pageX,top:a.pageY,opacity:.8},0),i.offsets=[];for(var q=0,r=f.length;r>q;q++)i.offsets.push($(f[q]).offset().left);h.trigger($.extend(e,{phase:\"after\"}))}}},150)}function c(a){if(i.pressed){var b=a.originalEvent.pageX,c=a.originalEvent.pageY,d=i.offsets,h=$(\".w2ui-head:not(.w2ui-head-last)\").width();i.targetInt=Math.max(i.numberPreColumnsPresent,f(b,d,h)),e(i.targetInt),g(b,c)}}function d(a){i.pressed=!1;var b,e,f,g,j,k=$(\".w2ui-grid-ghost\");return b=h.trigger({type:\"columnDragEnd\",phase:\"before\",originalEvent:a,target:i.columnHead[0]}),b.isCancelled===!0?!1:(f=h.columns[i.originalPos],g=h.columns,j=$(i.columns[Math.min(i.lastInt,i.columns.length-1)]),e=i.lastInt<i.columns.length?parseInt(j.attr(\"col\")):g.length,e!==i.originalPos+1&&e!==i.originalPos&&j&&j.length?($(i.ghost).animate({top:$(h.box).offset().top,left:j.offset().left,width:0,height:0,opacity:.2},300,function(){$(this).remove(),k.remove()}),g.splice(e,0,$.extend({},f)),g.splice(g.indexOf(f),1)):($(i.ghost).remove(),k.remove()),$(document).off(\"mouseup\",d),$(document).off(\"mousemove\",c),i.marker&&i.marker.remove(),i={},h.refresh(),void h.trigger($.extend(b,{phase:\"after\",targetColumnNumber:e-1})))}function e(a){i.marker||i.markerLeft||(i.marker=$('<div class=\"col-intersection-marker\"><div class=\"top-marker\"></div><div class=\"bottom-marker\"></div></div>'),i.markerLeft=$('<div class=\"col-intersection-marker\"><div class=\"top-marker\"></div><div class=\"bottom-marker\"></div></div>')),i.lastInt&&i.lastInt===a||(i.lastInt=a,i.marker.remove(),i.markerLeft.remove(),$(\".w2ui-head\").removeClass(\"w2ui-col-intersection\"),a>=i.columns.length?($(i.columns[i.columns.length-1]).children(\"div:last\").append(i.marker.addClass(\"right\").removeClass(\"left\")),$(i.columns[i.columns.length-1]).addClass(\"w2ui-col-intersection\")):a<=i.numberPreColumnsPresent?($(i.columns[i.numberPreColumnsPresent]).prepend(i.marker.addClass(\"left\").removeClass(\"right\")).css({position:\"relative\"}),$(i.columns[i.numberPreColumnsPresent]).prev().addClass(\"w2ui-col-intersection\")):($(i.columns[a]).children(\"div:last\").prepend(i.marker.addClass(\"left\").removeClass(\"right\")),$(i.columns[a]).prev().children(\"div:last\").append(i.markerLeft.addClass(\"right\").removeClass(\"left\")).css({position:\"relative\"}),$(i.columns[a-1]).addClass(\"w2ui-col-intersection\")))}function f(a,b,c){if(a<=b[0])return 0;if(a>=b[b.length-1]+c)return b.length;for(var d=0,e=b.length;e>d;d++){var f=b[d],g=b[d+1]||b[d]+c,h=(g-b[d])/2+b[d];if(a>f&&h>=a)return d;if(a>h&&g>=a)return d+1}return intersection}function g(a,b){$(i.ghost).css({left:a-10,top:b-10})}if(this.columnGroups&&this.columnGroups.length)throw\"Draggable columns are not currently supported with column groups.\";var h=this,i={};return i.lastInt=null,i.pressed=!1,i.timeout=null,i.columnHead=null,$(h.box).on(\"mousedown\",b),$(h.box).on(\"mouseup\",a),{remove:function(){$(h.box).off(\"mousedown\",b),$(h.box).off(\"mouseup\",a),$(h.box).find(\".w2ui-head\").removeAttr(\"draggable\"),h.last.columnDrag=!1}}},columnOnOff:function(a,b,c){var d=this.trigger({phase:\"before\",target:this.name,type:\"columnOnOff\",checkbox:a,field:c,originalEvent:b});if(d.isCancelled!==!0){var e=this;for(var f in this.records)this.records[f].expanded===!0&&(this.records[f].expanded=!1);var g=!0;if(\"line-numbers\"==c)this.show.lineNumbers=!this.show.lineNumbers,this.refresh();else{var h=this.getColumn(c);h.hidden?($(a).prop(\"checked\",!0),this.showColumn(h.field)):($(a).prop(\"checked\",!1),this.hideColumn(h.field)),g=!1}g&&setTimeout(function(){$().w2overlay(\"\",{name:\"searches-\"+this.name}),e.toolbar.uncheck(\"column-on-off\")},100),this.trigger($.extend(d,{phase:\"after\"}))}},initToolbar:function(){if(\"undefined\"==typeof this.toolbar.render){var a=this.toolbar.items;if(this.toolbar.items=[],this.toolbar=$().w2toolbar($.extend(!0,{},this.toolbar,{name:this.name+\"_toolbar\",owner:this})),this.show.toolbarReload&&this.toolbar.items.push($.extend(!0,{},this.buttons.reload)),this.show.toolbarColumns&&this.toolbar.items.push($.extend(!0,{},this.buttons.columns)),(this.show.toolbarReload||this.show.toolbarColumn)&&this.toolbar.items.push({type:\"break\",id:\"w2ui-break0\"}),this.show.toolbarSearch){var b='<div class=\"w2ui-toolbar-search\"><table cellpadding=\"0\" cellspacing=\"0\"><tr>    <td>'+this.buttons.search.html+'</td>    <td>        <input id=\"grid_'+this.name+'_search_all\" class=\"w2ui-search-all\"             placeholder=\"'+this.last.caption+'\" value=\"'+this.last.search+\"\\\"            onkeydown=\\\"if (event.keyCode == 13 && w2utils.isIE) this.onchange();\\\"            onchange=\\\"                var val = this.value;                 var fld = $(this).data('w2field');                 var dat = $(this).data('selected');                 if (fld) val = fld.clean(val);                if (dat != null && $.isPlainObject(dat)) val = dat.id;                w2ui['\"+this.name+\"'].search(w2ui['\"+this.name+'\\'].last.field, val);             \">    </td>    <td>        <div title=\"'+w2utils.lang(\"Clear Search\")+'\" class=\"w2ui-search-clear\" id=\"grid_'+this.name+'_searchClear\"               onclick=\"var obj = w2ui[\\''+this.name+\"']; obj.searchReset();\\\"         >&nbsp;&nbsp;</div>    </td></tr></table></div>\";this.toolbar.items.push({type:\"html\",id:\"w2ui-search\",html:b}),this.multiSearch&&this.searches.length>0&&this.toolbar.items.push($.extend(!0,{},this.buttons[\"search-go\"]))}this.show.toolbarSearch&&(this.show.toolbarAdd||this.show.toolbarEdit||this.show.toolbarDelete||this.show.toolbarSave)&&this.toolbar.items.push({type:\"break\",id:\"w2ui-break1\"}),this.show.toolbarAdd&&this.toolbar.items.push($.extend(!0,{},this.buttons.add)),this.show.toolbarEdit&&this.toolbar.items.push($.extend(!0,{},this.buttons.edit)),this.show.toolbarDelete&&this.toolbar.items.push($.extend(!0,{},this.buttons[\"delete\"])),this.show.toolbarSave&&((this.show.toolbarAdd||this.show.toolbarDelete||this.show.toolbarEdit)&&this.toolbar.items.push({type:\"break\",id:\"w2ui-break2\"}),this.toolbar.items.push($.extend(!0,{},this.buttons.save)));for(var c in a)this.toolbar.items.push(a[c]);var d=this;this.toolbar.on(\"click\",function(a){function b(){$(\"#w2ui-overlay-searches-\"+d.name).data(\"keepOpen\")!==!0&&(g.uncheck(e),$(document).off(\"click\",\"body\",b))}var c=d.trigger({phase:\"before\",type:\"toolbar\",target:a.target,originalEvent:a});if(c.isCancelled!==!0){var e=a.target;switch(e){case\"w2ui-reload\":var f=d.trigger({phase:\"before\",type:\"reload\",target:d.name});if(f.isCancelled===!0)return!1;d.reload(),d.trigger($.extend(f,{phase:\"after\"}));break;case\"w2ui-column-on-off\":d.initColumnOnOff(),d.initResize(),d.resize();break;case\"w2ui-search-advanced\":var g=this,h=this.get(e);h.checked?(d.searchClose(),setTimeout(function(){g.uncheck(e)},1)):(d.searchOpen(),a.originalEvent.stopPropagation(),$(document).on(\"click\",\"body\",b));break;case\"w2ui-add\":var c=d.trigger({phase:\"before\",target:d.name,type:\"add\",recid:null});d.trigger($.extend(c,{phase:\"after\"}));break;case\"w2ui-edit\":var i=d.getSelection(),j=null;1==i.length&&(j=i[0]);var c=d.trigger({phase:\"before\",target:d.name,type:\"edit\",recid:j});d.trigger($.extend(c,{phase:\"after\"}));break;case\"w2ui-delete\":d[\"delete\"]();break;case\"w2ui-save\":d.save()}d.trigger($.extend(c,{phase:\"after\"}))}})}},initResize:function(){var a=this;$(this.box).find(\".w2ui-resizer\").off(\"click\").on(\"click\",function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,a.preventDefault&&a.preventDefault()}).off(\"mousedown\").on(\"mousedown\",function(b){b||(b=window.event),window.addEventListener||window.document.attachEvent(\"onselectstart\",function(){return!1}),a.resizing=!0,a.last.tmp={x:b.screenX,y:b.screenY,gx:b.screenX,gy:b.screenY,col:parseInt($(this).attr(\"name\"))},b.stopPropagation?b.stopPropagation():b.cancelBubble=!0,b.preventDefault&&b.preventDefault();for(var c in a.columns)a.columns[c].hidden||(\"undefined\"==typeof a.columns[c].sizeOriginal&&(a.columns[c].sizeOriginal=a.columns[c].size),a.columns[c].size=a.columns[c].sizeCalculated);var d={phase:\"before\",type:\"columnResize\",target:a.name,column:a.last.tmp.col,field:a.columns[a.last.tmp.col].field};d=a.trigger($.extend(d,{resizeBy:0,originalEvent:b}));var e=function(b){if(1==a.resizing){if(b||(b=window.event),d=a.trigger($.extend(d,{resizeBy:b.screenX-a.last.tmp.gx,originalEvent:b})),d.isCancelled===!0)return void(d.isCancelled=!1);a.last.tmp.x=b.screenX-a.last.tmp.x,a.last.tmp.y=b.screenY-a.last.tmp.y,a.columns[a.last.tmp.col].size=parseInt(a.columns[a.last.tmp.col].size)+a.last.tmp.x+\"px\",a.resizeRecords(),a.last.tmp.x=b.screenX,a.last.tmp.y=b.screenY}},f=function(b){delete a.resizing,$(document).off(\"mousemove\",\"body\"),$(document).off(\"mouseup\",\"body\"),a.resizeRecords(),a.trigger($.extend(d,{phase:\"after\",originalEvent:b}))};$(document).on(\"mousemove\",\"body\",e),$(document).on(\"mouseup\",\"body\",f)}).each(function(a,b){var c=$(b).parent();$(b).css({height:\"25px\",\"margin-left\":c.width()-3+\"px\"})})},resizeBoxes:function(){{var a=($(this.box).find(\"> div\"),$(\"#grid_\"+this.name+\"_header\")),b=$(\"#grid_\"+this.name+\"_toolbar\"),c=$(\"#grid_\"+this.name+\"_summary\"),d=$(\"#grid_\"+this.name+\"_footer\"),e=$(\"#grid_\"+this.name+\"_body\");$(\"#grid_\"+this.name+\"_columns\"),$(\"#grid_\"+this.name+\"_records\")}this.show.header&&a.css({top:\"0px\",left:\"0px\",right:\"0px\"}),this.show.toolbar&&b.css({top:0+(this.show.header?w2utils.getSize(a,\"height\"):0)+\"px\",left:\"0px\",right:\"0px\"}),this.show.footer&&d.css({bottom:\"0px\",left:\"0px\",right:\"0px\"}),this.summary.length>0&&c.css({bottom:0+(this.show.footer?w2utils.getSize(d,\"height\"):0)+\"px\",left:\"0px\",right:\"0px\"}),e.css({top:0+(this.show.header?w2utils.getSize(a,\"height\"):0)+(this.show.toolbar?w2utils.getSize(b,\"height\"):0)+\"px\",bottom:0+(this.show.footer?w2utils.getSize(d,\"height\"):0)+(this.summary.length>0?w2utils.getSize(c,\"height\"):0)+\"px\",left:\"0px\",right:\"0px\"})},resizeRecords:function(){var a=this;$(this.box).find(\".w2ui-empty-record\").remove();var b=$(this.box),c=$(this.box).find(\"> div\"),d=$(\"#grid_\"+this.name+\"_header\"),e=$(\"#grid_\"+this.name+\"_toolbar\"),f=$(\"#grid_\"+this.name+\"_summary\"),g=$(\"#grid_\"+this.name+\"_footer\"),h=$(\"#grid_\"+this.name+\"_body\"),i=$(\"#grid_\"+this.name+\"_columns\"),j=$(\"#grid_\"+this.name+\"_records\");if(this.fixedBody){var k=c.height()-(this.show.header?w2utils.getSize(d,\"height\"):0)-(this.show.toolbar?w2utils.getSize(e,\"height\"):0)-(\"none\"!=f.css(\"display\")?w2utils.getSize(f,\"height\"):0)-(this.show.footer?w2utils.getSize(g,\"height\"):0);h.css(\"height\",k)}else{var k=w2utils.getSize(i,\"height\")+w2utils.getSize($(\"#grid_\"+a.name+\"_records table\"),\"height\");a.height=k+w2utils.getSize(c,\"+height\")+(a.show.header?w2utils.getSize(d,\"height\"):0)+(a.show.toolbar?w2utils.getSize(e,\"height\"):0)+(\"none\"!=f.css(\"display\")?w2utils.getSize(f,\"height\"):0)+(a.show.footer?w2utils.getSize(g,\"height\"):0),c.css(\"height\",a.height),h.css(\"height\",k),b.css(\"height\",w2utils.getSize(c,\"height\")+w2utils.getSize(b,\"+height\"))}var l=this.records.length,m=\"object\"!=typeof this.url?this.url:this.url.get;0==this.searchData.length||m||(l=this.last.searchIds.length);var n=!1,o=!1;if(h.width()<$(j).find(\">table\").width()&&(n=!0),h.height()-i.height()<$(j).find(\">table\").height()+(n?w2utils.scrollBarSize():0)&&(o=!0),this.fixedBody||(o=!1),n||o?(i.find(\"> table > tbody > tr:nth-child(1) td.w2ui-head-last\").css(\"width\",w2utils.scrollBarSize()).show(),j.css({top:(this.columnGroups.length>0&&this.show.columns?1:0)+w2utils.getSize(i,\"height\")+\"px\",\"-webkit-overflow-scrolling\":\"touch\",\"overflow-x\":n?\"auto\":\"hidden\",\"overflow-y\":o?\"auto\":\"hidden\"})):(i.find(\"> table > tbody > tr:nth-child(1) td.w2ui-head-last\").hide(),j.css({top:(this.columnGroups.length>0&&this.show.columns?1:0)+w2utils.getSize(i,\"height\")+\"px\",overflow:\"hidden\"}),j.length>0&&(this.last.scrollTop=0,this.last.scrollLeft=0)),this.show.emptyRecords&&!o){var p=Math.floor(j.height()/this.recordHeight)+1;if(this.fixedBody)for(var q=l;p>=q;q++){var r=\"\";r+='<tr class=\"'+(q%2?\"w2ui-even\":\"w2ui-odd\")+' w2ui-empty-record\" style=\"height: '+this.recordHeight+'px\">',this.show.lineNumbers&&(r+='<td class=\"w2ui-col-number\"></td>'),this.show.selectColumn&&(r+='<td class=\"w2ui-grid-data w2ui-col-select\"></td>'),this.show.expandColumn&&(r+='<td class=\"w2ui-grid-data w2ui-col-expand\"></td>');for(var s=0;this.columns.length>0;){var t=this.columns[s];if(t.hidden){if(s++,\"undefined\"==typeof this.columns[s])break}else if(r+='<td class=\"w2ui-grid-data\" '+(\"undefined\"!=typeof t.attr?t.attr:\"\")+' col=\"'+s+'\"></td>',s++,\"undefined\"==typeof this.columns[s])break}r+='<td class=\"w2ui-grid-data-last\"></td>',r+=\"</tr>\",$(\"#grid_\"+this.name+\"_records > table\").append(r)}}if(h.length>0){for(var u=parseInt(h.width())-(o?w2utils.scrollBarSize():0)-(this.show.lineNumbers?34:0)-(this.show.selectColumn?26:0)-(this.show.expandColumn?26:0),v=u,w=0,x=!1,y=0;y<this.columns.length;y++){var t=this.columns[y];t.gridMinWidth>0&&(t.gridMinWidth>v&&t.hidden!==!0&&(t.hidden=!0,x=!0),t.gridMinWidth<v&&t.hidden===!0&&(t.hidden=!1,x=!0))}if(x===!0)return void this.refresh();for(var y=0;y<this.columns.length;y++){var t=this.columns[y];t.hidden||(\"px\"==String(t.size).substr(String(t.size).length-2).toLowerCase()?(u-=parseFloat(t.size),this.columns[y].sizeCalculated=t.size,this.columns[y].sizeType=\"px\"):(w+=parseFloat(t.size),this.columns[y].sizeType=\"%\",delete t.sizeCorrected))}if(100!=w&&w>0)for(var y=0;y<this.columns.length;y++){var t=this.columns[y];t.hidden||\"%\"==t.sizeType&&(t.sizeCorrected=Math.round(100*parseFloat(t.size)*100/w)/100+\"%\")}for(var y=0;y<this.columns.length;y++){var t=this.columns[y];t.hidden||\"%\"==t.sizeType&&(this.columns[y].sizeCalculated=\"undefined\"!=typeof this.columns[y].sizeCorrected?Math.floor(u*parseFloat(t.sizeCorrected)/100)-1+\"px\":Math.floor(u*parseFloat(t.size)/100)-1+\"px\")}}for(var z=0,y=0;y<this.columns.length;y++){var t=this.columns[y];t.hidden||(\"undefined\"==typeof t.min&&(t.min=20),parseInt(t.sizeCalculated)<parseInt(t.min)&&(t.sizeCalculated=t.min+\"px\"),parseInt(t.sizeCalculated)>parseInt(t.max)&&(t.sizeCalculated=t.max+\"px\"),z+=parseInt(t.sizeCalculated))}var A=parseInt(v)-parseInt(z);if(A>0&&w>0)for(var y=0;;){var t=this.columns[y];if(\"undefined\"!=typeof t)if(t.hidden||\"px\"==t.sizeType)y++;else{if(t.sizeCalculated=parseInt(t.sizeCalculated)+1+\"px\",A--,0==A)break;y++}else y=0}else A>0&&i.find(\"> table > tbody > tr:nth-child(1) td.w2ui-head-last\").css(\"width\",w2utils.scrollBarSize()).show();i.find(\"> table > tbody > tr:nth-child(1) td\").each(function(b,c){var d=$(c).attr(\"col\");\"undefined\"!=typeof d&&a.columns[d]&&$(c).css(\"width\",a.columns[d].sizeCalculated),$(c).hasClass(\"w2ui-head-last\")&&$(c).css(\"width\",w2utils.scrollBarSize()+(A>0&&0==w?A:0)+\"px\")}),3==i.find(\"> table > tbody > tr\").length&&i.find(\"> table > tbody > tr:nth-child(1) td\").html(\"\").css({height:\"0px\",border:\"0px\",padding:\"0px\",margin:\"0px\"}),j.find(\"> table > tbody > tr:nth-child(1) td\").each(function(b,c){var d=$(c).attr(\"col\");\"undefined\"!=typeof d&&a.columns[d]&&$(c).css(\"width\",a.columns[d].sizeCalculated),$(c).hasClass(\"w2ui-grid-data-last\")&&$(c).css(\"width\",(A>0&&0==w?A:0)+\"px\")}),f.find(\"> table > tbody > tr:nth-child(1) td\").each(function(b,c){var d=$(c).attr(\"col\");\"undefined\"!=typeof d&&a.columns[d]&&$(c).css(\"width\",a.columns[d].sizeCalculated),$(c).hasClass(\"w2ui-grid-data-last\")&&$(c).css(\"width\",w2utils.scrollBarSize()+(A>0&&0==w?A:0)+\"px\")}),this.initResize(),this.refreshRanges(),(this.last.scrollTop||this.last.scrollLeft)&&j.length>0&&(i.prop(\"scrollLeft\",this.last.scrollLeft),j.prop(\"scrollTop\",this.last.scrollTop),j.prop(\"scrollLeft\",this.last.scrollLeft))},getSearchesHTML:function(){for(var a='<table cellspacing=\"0\">',b=!1,c=0;c<this.searches.length;c++){var d=this.searches[c];if(d.type=String(d.type).toLowerCase(),!d.hidden){var e=\"\";if(0==b&&(e='<button class=\"w2ui-btn close-btn\" onclick=\"obj = w2ui[\\''+this.name+\"']; if (obj) { obj.searchClose(); }\\\">X</button\",b=!0),\"undefined\"==typeof d.inTag&&(d.inTag=\"\"),\"undefined\"==typeof d.outTag&&(d.outTag=\"\"),\"undefined\"==typeof d.type&&(d.type=\"text\"),-1!=[\"text\",\"alphanumeric\",\"combo\"].indexOf(d.type))var f='<select id=\"grid_'+this.name+\"_operator_\"+c+'\" onclick=\"event.stopPropagation();\">    <option value=\"is\">'+w2utils.lang(\"is\")+'</option>    <option value=\"begins\">'+w2utils.lang(\"begins\")+'</option>    <option value=\"contains\">'+w2utils.lang(\"contains\")+'</option>    <option value=\"ends\">'+w2utils.lang(\"ends\")+\"</option></select>\";if(-1!=[\"int\",\"float\",\"money\",\"currency\",\"percent\",\"date\",\"time\"].indexOf(d.type))var f='<select id=\"grid_'+this.name+\"_operator_\"+c+'\"         onchange=\"w2ui[\\''+this.name+\"'].initOperator(this, \"+c+');\" onclick=\"event.stopPropagation();\">    <option value=\"is\">'+w2utils.lang(\"is\")+\"</option>\"+(-1!=[\"int\"].indexOf(d.type)?'<option value=\"in\">'+w2utils.lang(\"in\")+\"</option>\":\"\")+(-1!=[\"int\"].indexOf(d.type)?'<option value=\"not in\">'+w2utils.lang(\"not in\")+\"</option>\":\"\")+'<option value=\"between\">'+w2utils.lang(\"between\")+\"</option></select>\";if(-1!=[\"select\",\"list\",\"hex\"].indexOf(d.type))var f='<select id=\"grid_'+this.name+\"_operator_\"+c+'\" onclick=\"event.stopPropagation();\">    <option value=\"is\">'+w2utils.lang(\"is\")+\"</option></select>\";if(-1!=[\"enum\"].indexOf(d.type))var f='<select id=\"grid_'+this.name+\"_operator_\"+c+'\" onclick=\"event.stopPropagation();\">    <option value=\"in\">'+w2utils.lang(\"in\")+'</option>    <option value=\"not in\">'+w2utils.lang(\"not in\")+\"</option></select>\";switch(a+='<tr>    <td class=\"close-btn\">'+e+'</td>    <td class=\"caption\">'+d.caption+'</td>    <td class=\"operator\">'+f+'</td>    <td class=\"value\">',d.type){case\"text\":case\"alphanumeric\":case\"hex\":case\"list\":case\"combo\":case\"enum\":a+='<input rel=\"search\" type=\"text\" style=\"width: 300px;\" id=\"grid_'+this.name+\"_field_\"+c+'\" name=\"'+d.field+'\" '+d.inTag+\">\";break;case\"int\":case\"float\":case\"money\":case\"currency\":case\"percent\":case\"date\":case\"time\":a+='<input rel=\"search\" type=\"text\" size=\"12\" id=\"grid_'+this.name+\"_field_\"+c+'\" name=\"'+d.field+'\" '+d.inTag+'><span id=\"grid_'+this.name+\"_range_\"+c+'\" style=\"display: none\">&nbsp;-&nbsp;&nbsp;<input rel=\"search\" type=\"text\" style=\"width: 90px\" id=\"grid_'+this.name+\"_field2_\"+c+'\" name=\"'+d.field+'\" '+d.inTag+\"></span>\";break;case\"select\":a+='<select rel=\"search\" id=\"grid_'+this.name+\"_field_\"+c+'\" name=\"'+d.field+'\" '+d.inTag+'  onclick=\"event.stopPropagation();\"></select>'}a+=d.outTag+\"    </td></tr>\"}}return a+='<tr>    <td colspan=\"4\" class=\"actions\">        <div>        <button class=\"w2ui-btn\" onclick=\"obj = w2ui[\\''+this.name+\"']; if (obj) { obj.searchReset(); }\\\">\"+w2utils.lang(\"Reset\")+'</button>        <button class=\"w2ui-btn w2ui-btn-blue\" onclick=\"obj = w2ui[\\''+this.name+\"']; if (obj) { obj.search(); }\\\">\"+w2utils.lang(\"Search\")+\"</button>        </div>    </td></tr></table>\"},initOperator:function(a,b){var c=this,d=c.searches[b],e=$(\"#grid_\"+c.name+\"_range_\"+b),f=$(\"#grid_\"+c.name+\"_field_\"+b),g=f.parent().find(\"span input\");f.w2field(\"in\"==$(a).val()||\"not in\"==$(a).val()?\"clear\":d.type),\"between\"==$(a).val()?(e.show(),g.w2field(d.type)):e.hide()},initSearches:function(){var a=this;for(var b in this.searches){var c=this.searches[b],d=this.getSearchData(c.field);switch(c.type=String(c.type).toLowerCase(),\"object\"!=typeof c.options&&(c.options={}),c.type){case\"text\":case\"alphanumeric\":$(\"#grid_\"+this.name+\"_operator_\"+b).val(\"begins\"),-1!=[\"alphanumeric\",\"hex\"].indexOf(c.type)&&$(\"#grid_\"+this.name+\"_field_\"+b).w2field(c.type,c.options);break;case\"int\":case\"float\":case\"money\":case\"currency\":case\"percent\":case\"date\":case\"time\":if(d&&\"int\"==d.type&&-1!=[\"in\",\"not in\"].indexOf(d.operator))break;$(\"#grid_\"+this.name+\"_field_\"+b).w2field(c.type,c.options),$(\"#grid_\"+this.name+\"_field2_\"+b).w2field(c.type,c.options),setTimeout(function(){$(\"#grid_\"+a.name+\"_field_\"+b).keydown(),$(\"#grid_\"+a.name+\"_field2_\"+b).keydown()\n},1);break;case\"hex\":break;case\"list\":case\"combo\":case\"enum\":var e=c.options;\"list\"==c.type&&(e.selected={}),\"enum\"==c.type&&(e.selected=[]),d&&(e.selected=d.value),$(\"#grid_\"+this.name+\"_field_\"+b).w2field(c.type,e),\"combo\"==c.type&&$(\"#grid_\"+this.name+\"_operator_\"+b).val(\"begins\");break;case\"select\":var e='<option value=\"\">--</option>';for(var f in c.options.items){var g=c.options.items[f];if($.isPlainObject(c.options.items[f])){var h=g.id,i=g.text;\"undefined\"==typeof h&&\"undefined\"!=typeof g.value&&(h=g.value),\"undefined\"==typeof i&&\"undefined\"!=typeof g.caption&&(i=g.caption),null==h&&(h=\"\"),e+='<option value=\"'+h+'\">'+i+\"</option>\"}else e+='<option value=\"'+g+'\">'+g+\"</option>\"}$(\"#grid_\"+this.name+\"_field_\"+b).html(e)}null!=d&&(\"int\"==d.type&&-1!=[\"in\",\"not in\"].indexOf(d.operator)&&$(\"#grid_\"+this.name+\"_field_\"+b).w2field(\"clear\").val(d.value),$(\"#grid_\"+this.name+\"_operator_\"+b).val(d.operator).trigger(\"change\"),$.isArray(d.value)?-1!=[\"in\",\"not in\"].indexOf(d.operator)?$(\"#grid_\"+this.name+\"_field_\"+b).val(d.value).trigger(\"change\"):($(\"#grid_\"+this.name+\"_field_\"+b).val(d.value[0]).trigger(\"change\"),$(\"#grid_\"+this.name+\"_field2_\"+b).val(d.value[1]).trigger(\"change\")):\"udefined\"!=typeof d.value&&$(\"#grid_\"+this.name+\"_field_\"+b).val(d.value).trigger(\"change\"))}$(\"#w2ui-overlay-searches-\"+this.name+\" .w2ui-grid-searches *[rel=search]\").on(\"keypress\",function(b){13==b.keyCode&&(a.search(),$().w2overlay())})},getColumnsHTML:function(){function a(){var a=\"<tr>\";\"\"!=c.columnGroups[c.columnGroups.length-1].caption&&c.columnGroups.push({caption:\"\"}),c.show.lineNumbers&&(a+='<td class=\"w2ui-head w2ui-col-number\">    <div>&nbsp;</div></td>'),c.show.selectColumn&&(a+='<td class=\"w2ui-head w2ui-col-select\">    <div>&nbsp;</div></td>'),c.show.expandColumn&&(a+='<td class=\"w2ui-head w2ui-col-expand\">    <div>&nbsp;</div></td>');for(var b=0,d=0;d<c.columnGroups.length;d++){var e=c.columnGroups[d],f=c.columns[b];if((\"undefined\"==typeof e.span||e.span!=parseInt(e.span))&&(e.span=1),\"undefined\"!=typeof e.colspan&&(e.span=e.colspan),e.master===!0){var g=\"\";for(var h in c.sortData)c.sortData[h].field==f.field&&(RegExp(\"asc\",\"i\").test(c.sortData[h].direction)&&(g=\"w2ui-sort-up\"),RegExp(\"desc\",\"i\").test(c.sortData[h].direction)&&(g=\"w2ui-sort-down\"));var i=\"\";f.resizable!==!1&&(i='<div class=\"w2ui-resizer\" name=\"'+b+'\"></div>'),a+='<td class=\"w2ui-head '+g+'\" col=\"'+b+'\" rowspan=\"2\" colspan=\"'+(e.span+(d==c.columnGroups.length-1?1:0))+'\"     onclick=\"w2ui[\\''+c.name+\"'].columnClick('\"+f.field+\"', event);\\\">\"+i+'    <div class=\"w2ui-col-group w2ui-col-header '+(g?\"w2ui-col-sorted\":\"\")+'\">        <div class=\"'+g+'\"></div>'+(f.caption?f.caption:\"&nbsp;\")+\"    </div></td>\"}else a+='<td class=\"w2ui-head\" col=\"'+b+'\"         colspan=\"'+(e.span+(d==c.columnGroups.length-1?1:0))+'\">    <div class=\"w2ui-col-group\">'+(e.caption?e.caption:\"&nbsp;\")+\"    </div></td>\";b+=e.span}return a+=\"</tr>\"}function b(a){var b=\"<tr>\",d=!c.reorderColumns||c.columnGroups&&c.columnGroups.length?\"\":\" w2ui-reorder-cols-head \";c.show.lineNumbers&&(b+='<td class=\"w2ui-head w2ui-col-number\" onclick=\"w2ui[\\''+c.name+\"'].columnClick('line-number', event);\\\">    <div>#</div></td>\"),c.show.selectColumn&&(b+='<td class=\"w2ui-head w2ui-col-select\"         onclick=\"if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\">    <div>        <input type=\"checkbox\" id=\"grid_'+c.name+'_check_all\" tabIndex=\"-1\"            style=\"'+(0==c.multiSelect?\"display: none;\":\"\")+'\"            onclick=\"if (this.checked) w2ui[\\''+c.name+\"'].selectAll();                      else w2ui['\"+c.name+\"'].selectNone();                      if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;                      this.blur();\\\">    </div></td>\"),c.show.expandColumn&&(b+='<td class=\"w2ui-head w2ui-col-expand\">    <div>&nbsp;</div></td>');for(var e=0,f=0,g=0;g<c.columns.length;g++){var h=c.columns[g],i={};if(g==f&&(f+=\"undefined\"!=typeof c.columnGroups[e]?parseInt(c.columnGroups[e].span):0,e++),\"undefined\"!=typeof c.columnGroups[e-1])var i=c.columnGroups[e-1];if(!h.hidden){var j=\"\";for(var k in c.sortData)c.sortData[k].field==h.field&&(RegExp(\"asc\",\"i\").test(c.sortData[k].direction)&&(j=\"w2ui-sort-up\"),RegExp(\"desc\",\"i\").test(c.sortData[k].direction)&&(j=\"w2ui-sort-down\"));if(i.master!==!0||a){var l=\"\";h.resizable!==!1&&(l='<div class=\"w2ui-resizer\" name=\"'+g+'\"></div>'),b+='<td col=\"'+g+'\" class=\"w2ui-head '+j+d+'\"     onclick=\"w2ui[\\''+c.name+\"'].columnClick('\"+h.field+\"', event);\\\">\"+l+'    <div class=\"w2ui-col-header '+(j?\"w2ui-col-sorted\":\"\")+'\">        <div class=\"'+j+'\"></div>'+(h.caption?h.caption:\"&nbsp;\")+\"    </div></td>\"}}}return b+='<td class=\"w2ui-head w2ui-head-last\"><div>&nbsp;</div></td>',b+=\"</tr>\"}var c=this,d=\"\";return this.show.columnHeaders&&(d=this.columnGroups.length>0?b(!0)+a()+b(!1):b(!0)),d},getRecordsHTML:function(){var a=\"object\"!=typeof this.url?this.url:this.url.get,b=this.records.length;0==this.searchData.length||a||(b=this.last.searchIds.length),this.show_extra=b>300?30:300;var c=$(\"#grid_\"+this.name+\"_records\"),d=Math.floor(c.height()/this.recordHeight)+this.show_extra+1;(!this.fixedBody||d>b)&&(d=b);var e=\"<table>\"+this.getRecordHTML(-1,0);e+='<tr id=\"grid_'+this.name+'_rec_top\" line=\"top\" style=\"height: 0px\">    <td colspan=\"200\"></td></tr>';for(var f=0;d>f;f++)e+=this.getRecordHTML(f,f+1);return e+='<tr id=\"grid_'+this.name+'_rec_bottom\" line=\"bottom\" style=\"height: '+(b-d)*this.recordHeight+'px\">    <td colspan=\"200\"></td></tr><tr id=\"grid_'+this.name+'_rec_more\" style=\"display: none\">    <td colspan=\"200\" class=\"w2ui-load-more\"></td></tr></table>',this.last.range_start=0,this.last.range_end=d,e},getSummaryHTML:function(){if(0!=this.summary.length){for(var a=\"<table>\",b=0;b<this.summary.length;b++)a+=this.getRecordHTML(b,b+1,!0);return a+=\"</table>\"}},scroll:function(){function a(){b.markSearch!==!1&&(clearTimeout(b.last.marker_timer),b.last.marker_timer=setTimeout(function(){var a=[];for(var c in b.searchData){var d=b.searchData[c];-1==$.inArray(d.value,a)&&a.push(d.value)}a.length>0&&$(b.box).find(\".w2ui-grid-data > div\").w2marker(a)},50))}var b=((new Date).getTime(),this),c=\"object\"!=typeof this.url?this.url:this.url.get,d=$(\"#grid_\"+this.name+\"_records\"),e=this.records.length;if(0==this.searchData.length||c||(e=this.last.searchIds.length),0!=e&&0!=d.length&&0!=d.height()){if(this.show_extra=e>300?30:300,d.height()<e*this.recordHeight&&\"hidden\"==d.css(\"overflow-y\"))return void(this.total>0&&this.refresh());var f=Math.round(d[0].scrollTop/this.recordHeight+1),g=f+(Math.round(d.height()/this.recordHeight)-1);if(f>e&&(f=e),g>e&&(g=e),$(\"#grid_\"+this.name+\"_footer .w2ui-footer-right\").html(w2utils.formatNumber(this.offset+f)+\"-\"+w2utils.formatNumber(this.offset+g)+\" \"+w2utils.lang(\"of\")+\" \"+w2utils.formatNumber(this.total)+(c?\" (\"+w2utils.lang(\"buffered\")+\" \"+w2utils.formatNumber(e)+(this.offset>0?\", skip \"+w2utils.formatNumber(this.offset):\"\")+\")\":\"\")),c||this.fixedBody&&!(this.total<=300)){var h=Math.floor(d[0].scrollTop/this.recordHeight)-this.show_extra,i=h+Math.floor(d.height()/this.recordHeight)+2*this.show_extra+1;1>h&&(h=1),i>this.total&&(i=this.total);var j=d.find(\"#grid_\"+this.name+\"_rec_top\"),k=d.find(\"#grid_\"+this.name+\"_rec_bottom\");-1!=String(j.next().prop(\"id\")).indexOf(\"_expanded_row\")&&j.next().remove(),this.total>i&&-1!=String(k.prev().prop(\"id\")).indexOf(\"_expanded_row\")&&k.prev().remove();var l=parseInt(j.next().attr(\"line\")),m=parseInt(k.prev().attr(\"line\"));if(h>l||1==l||this.last.pull_refresh){if(i<=m+this.show_extra-2&&i!=this.total)return;for(this.last.pull_refresh=!1;;){var n=d.find(\"#grid_\"+this.name+\"_rec_top\").next();if(\"bottom\"==n.attr(\"line\"))break;if(!(parseInt(n.attr(\"line\"))<h))break;n.remove()}var n=d.find(\"#grid_\"+this.name+\"_rec_bottom\").prev(),o=n.attr(\"line\");\"top\"==o&&(o=h);for(var p=parseInt(o)+1;i>=p;p++)this.records[p-1]&&(this.records[p-1].expanded===!0&&(this.records[p-1].expanded=!1),k.before(this.getRecordHTML(p-1,p)));a(),setTimeout(function(){b.refreshRanges()},0)}else{if(h>=l-this.show_extra+2&&h>1)return;for(;;){var n=d.find(\"#grid_\"+this.name+\"_rec_bottom\").prev();if(\"top\"==n.attr(\"line\"))break;if(!(parseInt(n.attr(\"line\"))>i))break;n.remove()}var n=d.find(\"#grid_\"+this.name+\"_rec_top\").next(),o=n.attr(\"line\");\"bottom\"==o&&(o=i);for(var p=parseInt(o)-1;p>=h;p--)this.records[p-1]&&(this.records[p-1].expanded===!0&&(this.records[p-1].expanded=!1),j.after(this.getRecordHTML(p-1,p)));a(),setTimeout(function(){b.refreshRanges()},0)}var q=(h-1)*b.recordHeight,r=(e-i)*b.recordHeight;0>r&&(r=0),j.css(\"height\",q+\"px\"),k.css(\"height\",r+\"px\"),b.last.range_start=h,b.last.range_end=i;var s=Math.floor(d[0].scrollTop/this.recordHeight),t=s+Math.floor(d.height()/this.recordHeight);if(t+10>e&&this.last.pull_more!==!0&&e<this.total-this.offset)if(this.autoLoad===!0)this.last.pull_more=!0,this.last.xhr_offset+=this.limit,this.request(\"get-records\");else{var u=$(\"#grid_\"+this.name+\"_rec_more\");\"none\"==u.css(\"display\")&&u.show().on(\"click\",function(){b.last.pull_more=!0,b.last.xhr_offset+=b.limit,b.request(\"get-records\"),$(this).find(\"td\").html('<div><div style=\"width: 20px; height: 20px;\" class=\"w2ui-spinner\"></div></div>')}),-1==u.find(\"td\").text().indexOf(\"Load\")&&u.find(\"td\").html(\"<div>\"+w2utils.lang(\"Load\")+\" \"+b.limit+\" \"+w2utils.lang(\"More\")+\"...</div>\")}e>=this.total-this.offset&&$(\"#grid_\"+this.name+\"_rec_more\").hide()}}},getRecordHTML:function(a,b,c){var d,e=\"\",f=this.last.selection;if(-1==a){e+='<tr line=\"0\">',this.show.lineNumbers&&(e+='<td class=\"w2ui-col-number\" style=\"height: 0px;\"></td>'),this.show.selectColumn&&(e+='<td class=\"w2ui-col-select\" style=\"height: 0px;\"></td>'),this.show.expandColumn&&(e+='<td class=\"w2ui-col-expand\" style=\"height: 0px;\"></td>');for(var g in this.columns)this.columns[g].hidden||(e+='<td class=\"w2ui-grid-data\" col=\"'+g+'\" style=\"height: 0px;\"></td>');return e+='<td class=\"w2ui-grid-data-last\" style=\"height: 0px;\"></td>',e+=\"</tr>\"}var h=\"object\"!=typeof this.url?this.url:this.url.get;if(c!==!0)if(this.searchData.length>0&&!h){if(a>=this.last.searchIds.length)return\"\";a=this.last.searchIds[a],d=this.records[a]}else{if(a>=this.records.length)return\"\";d=this.records[a]}else{if(a>=this.summary.length)return\"\";d=this.summary[a]}if(!d)return\"\";var i=(w2utils.escapeId(d.recid),!1);if(-1!=f.indexes.indexOf(a)&&(i=!0),e+='<tr id=\"grid_'+this.name+\"_rec_\"+d.recid+'\" recid=\"'+d.recid+'\" line=\"'+b+'\"  class=\"'+(b%2==0?\"w2ui-even\":\"w2ui-odd\")+(i&&\"row\"==this.selectType?\" w2ui-selected\":\"\")+(d.editable===!1?\" w2ui-no-edit\":\"\")+(d.expanded===!0?\" w2ui-expanded\":\"\")+'\" '+(c!==!0?w2utils.isIOS?\"    onclick  = \\\"w2ui['\"+this.name+\"'].dblClick('\"+d.recid+\"', event);\\\"\":\"    onclick  = \\\"w2ui['\"+this.name+\"'].click('\"+d.recid+\"', event);\\\"    oncontextmenu = \\\"w2ui['\"+this.name+\"'].contextMenu('\"+d.recid+\"', event);\\\"\":\"\")+' style=\"height: '+this.recordHeight+\"px; \"+(i||\"string\"!=typeof d.style?\"\":d.style)+'\" '+(\"string\"==typeof d.style?'custom_style=\"'+d.style+'\"':\"\")+\">\",this.show.lineNumbers&&(e+='<td id=\"grid_'+this.name+\"_cell_\"+a+\"_number\"+(c?\"_s\":\"\")+'\" class=\"w2ui-col-number\">'+(c!==!0?\"<div>\"+b+\"</div>\":\"\")+\"</td>\"),this.show.selectColumn&&(e+='<td id=\"grid_'+this.name+\"_cell_\"+a+\"_select\"+(c?\"_s\":\"\")+'\" class=\"w2ui-grid-data w2ui-col-select\"         onclick=\"if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\">'+(c!==!0?'    <div>        <input class=\"w2ui-grid-select-check\" type=\"checkbox\" tabIndex=\"-1\"            '+(i?'checked=\"checked\"':\"\")+\"            onclick=\\\"var obj = w2ui['\"+this.name+\"'];                 if (!obj.multiSelect) { obj.selectNone(); }                if (this.checked) obj.select('\"+d.recid+\"'); else obj.unselect('\"+d.recid+\"');                 if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;                this. blur()\\\">    </div>\":\"\")+\"</td>\"),this.show.expandColumn){var j=\"\";j=d.expanded===!0?\"-\":\"+\",\"none\"==d.expanded&&(j=\"\"),\"spinner\"==d.expanded&&(j='<div class=\"w2ui-spinner\" style=\"width: 16px; margin: -2px 2px;\"></div>'),e+='<td id=\"grid_'+this.name+\"_cell_\"+a+\"_expand\"+(c?\"_s\":\"\")+'\" class=\"w2ui-grid-data w2ui-col-expand\">'+(c!==!0?'    <div ondblclick=\"if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\"             onclick=\"w2ui[\\''+this.name+\"'].toggle('\"+d.recid+\"', event);                 if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\\\">        \"+j+\" </div>\":\"\")+\"</td>\"}for(var k=0;;){var l=this.columns[k];if(l.hidden){if(k++,\"undefined\"==typeof this.columns[k])break}else{var m=!c&&d.changes&&\"undefined\"!=typeof d.changes[l.field],n=this.getCellHTML(a,k,c),o=\"\";if(\"string\"==typeof l.render){var p=l.render.toLowerCase().split(\":\");-1!=[\"number\",\"int\",\"float\",\"money\",\"currency\",\"percent\"].indexOf(p[0])&&(o+=\"text-align: right;\")}\"object\"==typeof d.style&&\"string\"==typeof d.style[k]&&(o+=d.style[k]+\";\");var q=!1;if(i&&-1!=$.inArray(k,f.columns[a])&&(q=!0),e+='<td class=\"w2ui-grid-data'+(q?\" w2ui-selected\":\"\")+(m?\" w2ui-changed\":\"\")+'\" col=\"'+k+'\"     style=\"'+o+(\"undefined\"!=typeof l.style?l.style:\"\")+'\" '+(\"undefined\"!=typeof l.attr?l.attr:\"\")+\">\"+n+\"</td>\",k++,\"undefined\"==typeof this.columns[k])break}}return e+='<td class=\"w2ui-grid-data-last\"></td>',e+=\"</tr>\"},getCellHTML:function(a,b,c){var d=this.columns[b],e=c!==!0?this.records[a]:this.summary[a],f=this.getCellValue(a,b,c),g=d.editable;if(null!=d.render){if(\"function\"==typeof d.render&&(f=$.trim(d.render.call(this,e,a,b)),(f.length<4||\"<div\"!=f.substr(0,4).toLowerCase())&&(f=\"<div>\"+f+\"</div>\")),\"object\"==typeof d.render&&(f=\"<div>\"+(d.render[f]||\"\")+\"</div>\"),\"string\"==typeof d.render){var h=d.render.toLowerCase().split(\":\"),i=\"\",j=\"\";-1!=[\"number\",\"int\",\"float\",\"money\",\"currency\",\"percent\"].indexOf(h[0])&&(\"undefined\"!=typeof h[1]&&w2utils.isInt(h[1])||(h[1]=0),h[1]>20&&(h[1]=20),h[1]<0&&(h[1]=0),-1!=[\"money\",\"currency\"].indexOf(h[0])&&(h[1]=w2utils.settings.currencyPrecision,i=w2utils.settings.currencyPrefix,j=w2utils.settings.currencySuffix),\"percent\"==h[0]&&(j=\"%\",\"0\"!==h[1]&&(h[1]=1)),\"int\"==h[0]&&(h[1]=0),f=\"<div>\"+(\"\"!==f?i+w2utils.formatNumber(Number(f).toFixed(h[1]))+j:\"\")+\"</div>\"),\"time\"==h[0]&&((\"undefined\"==typeof h[1]||\"\"==h[1])&&(h[1]=w2utils.settings.time_format),f=\"<div>\"+i+w2utils.formatTime(f,\"h12\"==h[1]?\"hh:mi pm\":\"h24:mi\")+j+\"</div>\"),\"date\"==h[0]&&((\"undefined\"==typeof h[1]||\"\"==h[1])&&(h[1]=w2utils.settings.date_display),f=\"<div>\"+i+w2utils.formatDate(f,h[1])+j+\"</div>\"),\"age\"==h[0]&&(f=\"<div>\"+i+w2utils.age(f)+j+\"</div>\"),\"toggle\"==h[0]&&(f=\"<div>\"+i+(f?\"Yes\":\"\")+j+\"</div>\")}}else{var k=\"\";if(g&&-1!=[\"checkbox\",\"check\"].indexOf(g.type)){var l=c?-(a+1):a;k=\"text-align: center\",f='<input type=\"checkbox\" '+(f?\"checked\":\"\")+\" onclick=\\\"    var obj = w2ui['\"+this.name+\"'];     obj.editChange.call(obj, this, \"+l+\", \"+b+', event); \">'}if(this.show.recordTitles){var m=String(f).replace(/\"/g,\"''\");\"undefined\"!=typeof d.title&&(\"function\"==typeof d.title&&(m=d.title.call(this,e,a,b)),\"string\"==typeof d.title&&(m=d.title));var f='<div title=\"'+w2utils.stripTags(m)+'\" style=\"'+k+'\">'+f+\"</div>\"}else var f='<div style=\"'+k+'\">'+f+\"</div>\"}return(null==f||\"undefined\"==typeof f)&&(f=\"\"),f},getCellValue:function(a,b,c){var d=this.columns[b],e=c!==!0?this.records[a]:this.summary[a],f=this.parseField(e,d.field);return e.changes&&\"undefined\"!=typeof e.changes[d.field]&&(f=e.changes[d.field]),(null==f||\"undefined\"==typeof f)&&(f=\"\"),f},getFooterHTML:function(){return'<div>    <div class=\"w2ui-footer-left\"></div>    <div class=\"w2ui-footer-right\"></div>    <div class=\"w2ui-footer-center\"></div></div>'},status:function(a){if(\"undefined\"!=typeof a)$(\"#grid_\"+this.name+\"_footer\").find(\".w2ui-footer-left\").html(a);else{var b=\"\",c=this.getSelection();if(c.length>0){b=String(c.length).replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g,\"$1,\")+\" \"+w2utils.lang(\"selected\");var d=c[0];\"object\"==typeof d&&(d=d.recid+\", \"+w2utils.lang(\"Column\")+\": \"+d.column),1==c.length&&(b=w2utils.lang(\"Record ID\")+\": \"+d+\" \")}$(\"#grid_\"+this.name+\"_footer .w2ui-footer-left\").html(b),1==c.length?this.toolbar.enable(\"w2ui-edit\"):this.toolbar.disable(\"w2ui-edit\"),c.length>=1?this.toolbar.enable(\"w2ui-delete\"):this.toolbar.disable(\"w2ui-delete\")}},lock:function(){var a=$(this.box).find(\"> div:first-child\"),b=Array.prototype.slice.call(arguments,0);b.unshift(a),setTimeout(function(){w2utils.lock.apply(window,b)},10)},unlock:function(){var a=this.box;setTimeout(function(){w2utils.unlock(a)},25)},stateSave:function(a){if(!localStorage)return null;var b={columns:[],show:$.extend({},this.show),last:{search:this.last.search,multi:this.last.multi,logic:this.last.logic,caption:this.last.caption,field:this.last.field,scrollTop:this.last.scrollTop,scrollLeft:this.last.scrollLeft},sortData:[],searchData:[]};for(var c in this.columns){var d=this.columns[c];b.columns.push({field:d.field,hidden:d.hidden,size:d.size,sizeCalculated:d.sizeCalculated,sizeOriginal:d.sizeOriginal,sizeType:d.sizeType})}for(var c in this.sortData)b.sortData.push($.extend({},this.sortData[c]));for(var c in this.searchData)b.searchData.push($.extend({},this.searchData[c]));if(a!==!0){var e=this.trigger({phase:\"before\",type:\"stateSave\",target:this.name,state:b});if(e.isCancelled===!0)return void(\"function\"==typeof callBack&&callBack({status:\"error\",message:\"Request aborted.\"}));try{var f=$.parseJSON(localStorage.w2ui||\"{}\");f||(f={}),f.states||(f.states={}),f.states[this.name]=b,localStorage.w2ui=JSON.stringify(f)}catch(g){return delete localStorage.w2ui,null}this.trigger($.extend(e,{phase:\"after\"}))}return b},stateRestore:function(a){var b=this;if(!a)try{if(!localStorage)return!1;var c=$.parseJSON(localStorage.w2ui||\"{}\");c||(c={}),c.states||(c.states={}),a=c.states[this.name]}catch(d){return delete localStorage.w2ui,null}var e=this.trigger({phase:\"before\",type:\"stateRestore\",target:this.name,state:a});if(e.isCancelled===!0)return void(\"function\"==typeof callBack&&callBack({status:\"error\",message:\"Request aborted.\"}));if($.isPlainObject(a)){$.extend(this.show,a.show),$.extend(this.last,a.last);var f=this.last.scrollTop,g=this.last.scrollLeft;for(var h in a.columns){var c=a.columns[h],i=this.getColumn(c.field);i&&$.extend(i,c)}this.sortData.splice(0,this.sortData.length);for(var h in a.sortData)this.sortData.push(a.sortData[h]);this.searchData.splice(0,this.searchData.length);for(var h in a.searchData)this.searchData.push(a.searchData[h]);setTimeout(function(){b.sortData.length>0&&b.localSort(),b.searchData.length>0&&b.localSearch(),b.last.scrollTop=f,b.last.scrollLeft=g,b.refresh()},1)}return this.trigger($.extend(e,{phase:\"after\"})),!0},stateReset:function(){if(this.stateRestore(this.last.state),localStorage)try{var a=$.parseJSON(localStorage.w2ui||\"{}\");a.states&&a.states[this.name]&&delete a.states[this.name],localStorage.w2ui=JSON.stringify(a)}catch(b){return delete localStorage.w2ui,null}},parseField:function(a,b){var c=\"\";try{c=a;var d=String(b).split(\".\");for(var e in d)c=c[d[e]]}catch(f){c=\"\"}return c},prepareData:function(){for(var a in this.records){var b=this.records[a];for(var c in this.columns){var d=this.columns[c];if(null!=b[d.field]&&\"string\"==typeof d.render){if(-1!=[\"number\",\"int\",\"float\",\"money\",\"currency\",\"percent\"].indexOf(d.render.split(\":\")[0])&&\"number\"!=typeof b[d.field]&&(b[d.field]=parseFloat(b[d.field])),-1!=[\"date\",\"age\"].indexOf(d.render.split(\":\")[0])&&!b[d.field+\"_\"]){var e=b[d.field];w2utils.isInt(e)&&(e=parseInt(e)),b[d.field+\"_\"]=new Date(e)}if(-1!=[\"time\"].indexOf(d.render))if(w2utils.isTime(b[d.field])){var f=w2utils.isTime(b[d.field],!0),e=new Date;e.setHours(f.hours,f.minutes,f.seconds?f.seconds:0,0),b[d.field+\"_\"]||(b[d.field+\"_\"]=e)}else{var f=b[d.field];w2utils.isInt(f)&&(f=parseInt(f));var f=null!=f?new Date(f):new Date,e=new Date;e.setHours(f.getHours(),f.getMinutes(),f.getSeconds(),0),b[d.field+\"_\"]||(b[d.field+\"_\"]=e)}}}}},nextCell:function(a,b){var c=a+1;if(this.columns.length==c)return null;if(b===!0){var d=this.columns[c].editable;if(this.columns[c].hidden||\"undefined\"==typeof d||d&&-1!=[\"checkbox\",\"check\"].indexOf(d.type))return this.nextCell(c,b)}return c},prevCell:function(a,b){var c=a-1;if(0>c)return null;if(b===!0){var d=this.columns[c].editable;if(this.columns[c].hidden||\"undefined\"==typeof d||d&&-1!=[\"checkbox\",\"check\"].indexOf(d.type))return this.prevCell(c,b)}return c},nextRow:function(a){if(a+1<this.records.length&&0==this.last.searchIds.length||this.last.searchIds.length>0&&a<this.last.searchIds[this.last.searchIds.length-1]){if(a++,this.last.searchIds.length>0)for(;;){if(-1!=$.inArray(a,this.last.searchIds)||a>this.records.length)break;a++}return a}return null},prevRow:function(a){if(a>0&&0==this.last.searchIds.length||this.last.searchIds.length>0&&a>this.last.searchIds[0]){if(a--,this.last.searchIds.length>0)for(;;){if(-1!=$.inArray(a,this.last.searchIds)||0>a)break;a--}return a}return null}},$.extend(w2grid.prototype,w2utils.event),w2obj.grid=w2grid}(),function(){var a=function(a){this.box=null,this.name=null,this.panels=[],this.tmp={},this.padding=1,this.resizer=4,this.style=\"\",this.onShow=null,this.onHide=null,this.onResizing=null,this.onResizerClick=null,this.onRender=null,this.onRefresh=null,this.onResize=null,this.onDestroy=null,$.extend(!0,this,w2obj.layout,a)},b=[\"top\",\"left\",\"main\",\"preview\",\"right\",\"bottom\"];$.fn.w2layout=function(c){function d(a,b,c){var d=a.get(b);return null!==d&&\"undefined\"==typeof c&&(c=d.tabs),null===d||null===c?!1:($.isArray(c)&&(c={tabs:c}),$().w2destroy(a.name+\"_\"+b+\"_tabs\"),d.tabs=$().w2tabs($.extend({},c,{owner:a,name:a.name+\"_\"+b+\"_tabs\"})),d.show.tabs=!0,!0)}function e(a,b,c){var d=a.get(b);return null!==d&&\"undefined\"==typeof c&&(c=d.toolbar),null===d||null===c?!1:($.isArray(c)&&(c={items:c}),$().w2destroy(a.name+\"_\"+b+\"_toolbar\"),d.toolbar=$().w2toolbar($.extend({},c,{owner:a,name:a.name+\"_\"+b+\"_toolbar\"})),d.show.toolbar=!0,!0)}if(\"object\"==typeof c||!c){if(!w2utils.checkName(c,\"w2layout\"))return;var f=c.panels||[],g=new a(c);$.extend(g,{handlers:[],panels:[]});for(var h=0,i=f.length;i>h;h++)g.panels[h]=$.extend(!0,{},a.prototype.panel,f[h]),($.isPlainObject(g.panels[h].tabs)||$.isArray(g.panels[h].tabs))&&d(g,f[h].type),($.isPlainObject(g.panels[h].toolbar)||$.isArray(g.panels[h].toolbar))&&e(g,f[h].type);for(var j in b)j=b[j],null===g.get(j)&&g.panels.push($.extend(!0,{},a.prototype.panel,{type:j,hidden:\"main\"!==j,size:50}));return $(this).length>0&&g.render($(this)[0]),w2ui[g.name]=g,g}if(w2ui[$(this).attr(\"name\")]){var k=w2ui[$(this).attr(\"name\")];return k[c].apply(k,Array.prototype.slice.call(arguments,1)),this}console.log(\"ERROR: Method \"+c+\" does not exist on jQuery.w2layout\")},a.prototype={panel:{type:null,title:\"\",size:100,minSize:20,maxSize:!1,hidden:!1,resizable:!1,overflow:\"auto\",style:\"\",content:\"\",tabs:null,toolbar:null,width:null,height:null,show:{toolbar:!1,tabs:!1},onRefresh:null,onShow:null,onHide:null},html:function(a,b,c){return this.content(a,b,c)},content:function(a,b,c){var d=this,e=this.get(a);if(\"css\"==a)return $(\"#layout_\"+d.name+\"_panel_css\").html(\"<style>\"+b+\"</style>\"),!0;if(null===e)return!1;if(\"undefined\"==typeof b||null===b)return e.content;if(b instanceof jQuery)return console.log(\"ERROR: You can not pass jQuery object to w2layout.content() method\"),!1;var f=\"#layout_\"+this.name+\"_panel_\"+e.type,g=$(f+\"> .w2ui-panel-content\"),h=0;if(g.length>0&&($(f).scrollTop(0),h=$(g).position().top),\"\"===e.content)e.content=b,this.refresh(a);else{if(e.content=b,!e.hidden&&null!==c&&\"\"!==c&&\"undefined\"!=typeof c){var i=$(f+\"> .w2ui-panel-content\");i.after('<div class=\"w2ui-panel-content new-panel\" style=\"'+i[0].style.cssText+'\"></div>');var j=$(f+\"> .w2ui-panel-content.new-panel\");i.css(\"top\",h),j.css(\"top\",h),\"object\"==typeof b?(b.box=j[0],b.render()):j.html(b),w2utils.transition(i[0],j[0],c,function(){i.remove(),j.removeClass(\"new-panel\"),j.css(\"overflow\",e.overflow),d.resize(),-1!=window.navigator.userAgent.indexOf(\"MSIE\")&&setTimeout(function(){d.resize()},100)})}this.refresh(a)}return d.resize(),-1!=window.navigator.userAgent.indexOf(\"MSIE\")&&setTimeout(function(){d.resize()},100),!0},load:function(a,b,c,d){var e=this;return\"css\"==a?($.get(b,function(b,c,f){e.content(a,f.responseText),d&&d()}),!0):null!==this.get(a)?($.get(b,function(b,f,g){e.content(a,g.responseText,c),d&&d(),e.resize(),-1!=window.navigator.userAgent.indexOf(\"MSIE\")&&setTimeout(function(){e.resize()},100)}),!0):!1},sizeTo:function(a,b){var c=this,d=c.get(a);return null===d?!1:($(c.box).find(\" > div > .w2ui-panel\").css({\"-webkit-transition\":\".2s\",\"-moz-transition\":\".2s\",\"-ms-transition\":\".2s\",\"-o-transition\":\".2s\"}),setTimeout(function(){c.set(a,{size:b})},1),setTimeout(function(){$(c.box).find(\" > div > .w2ui-panel\").css({\"-webkit-transition\":\"0s\",\"-moz-transition\":\"0s\",\"-ms-transition\":\"0s\",\"-o-transition\":\"0s\"}),c.resize()},500),!0)},show:function(a,b){var c=this,d=this.trigger({phase:\"before\",type:\"show\",target:a,object:this.get(a),immediate:b});if(d.isCancelled!==!0){var e=c.get(a);return null===e?!1:(e.hidden=!1,b===!0?($(\"#layout_\"+c.name+\"_panel_\"+a).css({opacity:\"1\"}),e.resizable&&$(\"#layout_\"+c.name+\"_resizer_\"+a).show(),c.trigger($.extend(d,{phase:\"after\"})),c.resize()):(e.resizable&&$(\"#layout_\"+c.name+\"_resizer_\"+a).show(),$(\"#layout_\"+c.name+\"_panel_\"+a).css({opacity:\"0\"}),$(c.box).find(\" > div > .w2ui-panel\").css({\"-webkit-transition\":\".2s\",\"-moz-transition\":\".2s\",\"-ms-transition\":\".2s\",\"-o-transition\":\".2s\"}),setTimeout(function(){c.resize()},1),setTimeout(function(){$(\"#layout_\"+c.name+\"_panel_\"+a).css({opacity:\"1\"})},250),setTimeout(function(){$(c.box).find(\" > div > .w2ui-panel\").css({\"-webkit-transition\":\"0s\",\"-moz-transition\":\"0s\",\"-ms-transition\":\"0s\",\"-o-transition\":\"0s\"}),c.trigger($.extend(d,{phase:\"after\"})),c.resize()},500)),!0)}},hide:function(a,b){var c=this,d=this.trigger({phase:\"before\",type:\"hide\",target:a,object:this.get(a),immediate:b});if(d.isCancelled!==!0){var e=c.get(a);return null===e?!1:(e.hidden=!0,b===!0?($(\"#layout_\"+c.name+\"_panel_\"+a).css({opacity:\"0\"}),$(\"#layout_\"+c.name+\"_resizer_\"+a).hide(),c.trigger($.extend(d,{phase:\"after\"})),c.resize()):($(\"#layout_\"+c.name+\"_resizer_\"+a).hide(),$(c.box).find(\" > div > .w2ui-panel\").css({\"-webkit-transition\":\".2s\",\"-moz-transition\":\".2s\",\"-ms-transition\":\".2s\",\"-o-transition\":\".2s\"}),$(\"#layout_\"+c.name+\"_panel_\"+a).css({opacity:\"0\"}),setTimeout(function(){c.resize()},1),setTimeout(function(){$(c.box).find(\" > div > .w2ui-panel\").css({\"-webkit-transition\":\"0s\",\"-moz-transition\":\"0s\",\"-ms-transition\":\"0s\",\"-o-transition\":\"0s\"}),c.trigger($.extend(d,{phase:\"after\"})),c.resize()},500)),!0)}},toggle:function(a,b){var c=this.get(a);return null===c?!1:c.hidden?this.show(a,b):this.hide(a,b)},set:function(a,b){var c=this.get(a,!0);return null===c?!1:($.extend(this.panels[c],b),\"undefined\"!=typeof b.content&&this.refresh(a),this.resize(),!0)},get:function(a,b){for(var c in this.panels)if(this.panels[c].type==a)return b===!0?c:this.panels[c];return null},el:function(a){var b=$(\"#layout_\"+this.name+\"_panel_\"+a+\"> .w2ui-panel-content\");return 1!=b.length?null:b[0]},hideToolbar:function(a){var b=this.get(a);b&&(b.show.toolbar=!1,$(\"#layout_\"+this.name+\"_panel_\"+a+\"> .w2ui-panel-toolbar\").hide(),this.resize())},showToolbar:function(a){var b=this.get(a);b&&(b.show.toolbar=!0,$(\"#layout_\"+this.name+\"_panel_\"+a+\"> .w2ui-panel-toolbar\").show(),this.resize())},toggleToolbar:function(a){var b=this.get(a);b&&(b.show.toolbar?this.hideToolbar(a):this.showToolbar(a))},hideTabs:function(a){var b=this.get(a);b&&(b.show.tabs=!1,$(\"#layout_\"+this.name+\"_panel_\"+a+\"> .w2ui-panel-tabs\").hide(),this.resize())},showTabs:function(a){var b=this.get(a);b&&(b.show.tabs=!0,$(\"#layout_\"+this.name+\"_panel_\"+a+\"> .w2ui-panel-tabs\").show(),this.resize())},toggleTabs:function(a){var b=this.get(a);b&&(b.show.tabs?this.hideTabs(a):this.showTabs(a))},render:function(a){function c(){g.tmp.events={resize:function(){w2ui[g.name].resize()},resizeStart:d,mouseMove:f,mouseUp:e},$(window).on(\"resize\",g.tmp.events.resize)}function d(a,c){if(g.box){c||(c=window.event),window.addEventListener||window.document.attachEvent(\"onselectstart\",function(){return!1}),$(document).off(\"mousemove\",g.tmp.events.mouseMove).on(\"mousemove\",g.tmp.events.mouseMove),$(document).off(\"mouseup\",g.tmp.events.mouseUp).on(\"mouseup\",g.tmp.events.mouseUp),g.tmp.resize={type:a,x:c.screenX,y:c.screenY,diff_x:0,diff_y:0,value:0};for(var d in b)d=b[d],g.lock(d,{opacity:0});(\"left\"==a||\"right\"==a)&&(g.tmp.resize.value=parseInt($(\"#layout_\"+g.name+\"_resizer_\"+a)[0].style.left)),(\"top\"==a||\"preview\"==a||\"bottom\"==a)&&(g.tmp.resize.value=parseInt($(\"#layout_\"+g.name+\"_resizer_\"+a)[0].style.top))}}function e(a){if(g.box&&(a||(a=window.event),window.addEventListener||window.document.attachEvent(\"onselectstart\",function(){return!1}),$(document).off(\"mousemove\",g.tmp.events.mouseMove),$(document).off(\"mouseup\",g.tmp.events.mouseUp),\"undefined\"!=typeof g.tmp.resize)){for(var c in b)g.unlock(b[c]);if(0!==g.tmp.diff_x||0!==g.tmp.resize.diff_y){var d,e,f=g.get(\"top\"),h=g.get(\"bottom\"),i=g.get(g.tmp.resize.type),j=parseInt($(g.box).height()),k=parseInt($(g.box).width()),l=String(i.size);switch(g.tmp.resize.type){case\"top\":d=parseInt(i.sizeCalculated)+g.tmp.resize.diff_y,e=0;break;case\"bottom\":d=parseInt(i.sizeCalculated)-g.tmp.resize.diff_y,e=0;break;case\"preview\":d=parseInt(i.sizeCalculated)-g.tmp.resize.diff_y,e=(f&&!f.hidden?f.sizeCalculated:0)+(h&&!h.hidden?h.sizeCalculated:0);break;case\"left\":d=parseInt(i.sizeCalculated)+g.tmp.resize.diff_x,e=0;break;case\"right\":d=parseInt(i.sizeCalculated)-g.tmp.resize.diff_x,e=0}i.size=\"%\"==l.substr(l.length-1)?Math.floor(100*d/(\"left\"==i.type||\"right\"==i.type?k:j-e)*100)/100+\"%\":d,g.resize()}$(\"#layout_\"+g.name+\"_resizer_\"+g.tmp.resize.type).removeClass(\"active\"),delete g.tmp.resize}}function f(a){if(g.box&&(a||(a=window.event),\"undefined\"!=typeof g.tmp.resize)){var b=g.get(g.tmp.resize.type),c=g.tmp.resize,d=g.trigger({phase:\"before\",type:\"resizing\",target:g.name,object:b,originalEvent:a,panel:c?c.type:\"all\",diff_x:c?c.diff_x:0,diff_y:c?c.diff_y:0});if(d.isCancelled!==!0){var e=$(\"#layout_\"+g.name+\"_resizer_\"+c.type),f=a.screenX-c.x,h=a.screenY-c.y,i=g.get(\"main\");switch(e.hasClass(\"active\")||e.addClass(\"active\"),c.type){case\"left\":b.minSize-f>b.width&&(f=b.minSize-b.width),b.maxSize&&b.width+f>b.maxSize&&(f=b.maxSize-b.width),i.minSize+f>i.width&&(f=i.width-i.minSize);break;case\"right\":b.minSize+f>b.width&&(f=b.width-b.minSize),b.maxSize&&b.width-f>b.maxSize&&(f=b.width-b.maxSize),i.minSize-f>i.width&&(f=i.minSize-i.width);break;case\"top\":b.minSize-h>b.height&&(h=b.minSize-b.height),b.maxSize&&b.height+h>b.maxSize&&(h=b.maxSize-b.height),i.minSize+h>i.height&&(h=i.height-i.minSize);break;case\"preview\":case\"bottom\":b.minSize+h>b.height&&(h=b.height-b.minSize),b.maxSize&&b.height-h>b.maxSize&&(h=b.height-b.maxSize),i.minSize-h>i.height&&(h=i.minSize-i.height)}switch(c.diff_x=f,c.diff_y=h,c.type){case\"top\":case\"preview\":case\"bottom\":c.diff_x=0,e.length>0&&(e[0].style.top=c.value+c.diff_y+\"px\");break;case\"left\":case\"right\":c.diff_y=0,e.length>0&&(e[0].style.left=c.value+c.diff_x+\"px\")}g.trigger($.extend(d,{phase:\"after\"}))}}}var g=this,h=(new Date).getTime(),i=g.trigger({phase:\"before\",type:\"render\",target:g.name,box:a});if(i.isCancelled!==!0){if(\"undefined\"!=typeof a&&null!==a&&($(g.box).find(\"#layout_\"+g.name+\"_panel_main\").length>0&&$(g.box).removeAttr(\"name\").removeClass(\"w2ui-layout\").html(\"\"),g.box=a),!g.box)return!1;$(g.box).attr(\"name\",g.name).addClass(\"w2ui-layout\").html(\"<div></div>\"),$(g.box).length>0&&($(g.box)[0].style.cssText+=g.style);for(var j in b){j=b[j];var k=(g.get(j),'<div id=\"layout_'+g.name+\"_panel_\"+j+'\" class=\"w2ui-panel\">    <div class=\"w2ui-panel-title\"></div>    <div class=\"w2ui-panel-tabs\"></div>    <div class=\"w2ui-panel-toolbar\"></div>    <div class=\"w2ui-panel-content\"></div></div><div id=\"layout_'+g.name+\"_resizer_\"+j+'\" class=\"w2ui-resizer\"></div>');\n$(g.box).find(\" > div\").append(k)}return $(g.box).find(\" > div\").append('<div id=\"layout_'+g.name+'_panel_css\" style=\"position: absolute; top: 10000px;\"></div'),g.refresh(),g.trigger($.extend(i,{phase:\"after\"})),setTimeout(function(){c(),g.resize()},0),(new Date).getTime()-h}},refresh:function(a){var b=this;\"undefined\"==typeof a&&(a=null);var c=(new Date).getTime(),d=b.trigger({phase:\"before\",type:\"refresh\",target:\"undefined\"!=typeof a?a:b.name,object:b.get(a)});if(d.isCancelled!==!0){if(\"string\"==typeof a){var e=b.get(a);if(null===e)return;var f=\"#layout_\"+b.name+\"_panel_\"+e.type,g=\"#layout_\"+b.name+\"_resizer_\"+e.type;$(f).css({display:e.hidden?\"none\":\"block\"}),e.resizable?$(g).show():$(g).hide(),\"object\"==typeof e.content&&\"function\"==typeof e.content.render?(e.content.box=$(f+\"> .w2ui-panel-content\")[0],setTimeout(function(){$(f+\"> .w2ui-panel-content\").length>0&&($(f+\"> .w2ui-panel-content\").removeClass().removeAttr(\"name\").off(\"selectstart\").addClass(\"w2ui-panel-content\").css(\"overflow\",e.overflow)[0].style.cssText+=\";\"+e.style),e.content.render()},1)):$(f+\"> .w2ui-panel-content\").length>0&&($(f+\"> .w2ui-panel-content\").removeClass().removeAttr(\"name\").off(\"selectstart\").addClass(\"w2ui-panel-content\").html(e.content).css(\"overflow\",e.overflow)[0].style.cssText+=\";\"+e.style);var h=$(b.box).find(f+\"> .w2ui-panel-tabs\");e.show.tabs?0===h.find(\"[name=\"+e.tabs.name+\"]\").length&&null!==e.tabs?h.w2render(e.tabs):e.tabs.refresh():h.html(\"\").removeClass(\"w2ui-tabs\").hide(),h=$(b.box).find(f+\"> .w2ui-panel-toolbar\"),e.show.toolbar?0===h.find(\"[name=\"+e.toolbar.name+\"]\").length&&null!==e.toolbar?h.w2render(e.toolbar):e.toolbar.refresh():h.html(\"\").removeClass(\"w2ui-toolbar\").hide(),h=$(b.box).find(f+\"> .w2ui-panel-title\"),e.title?h.html(e.title).show():h.html(\"\").hide()}else{if(0==$(\"#layout_\"+b.name+\"_panel_main\").length)return void b.render();b.resize();for(var i in this.panels)b.refresh(this.panels[i].type)}return b.trigger($.extend(d,{phase:\"after\"})),(new Date).getTime()-c}},resize:function(){if(!this.box)return!1;var a=(new Date).getTime(),c=this.tmp.resize,d=this.trigger({phase:\"before\",type:\"resize\",target:this.name,panel:c?c.type:\"all\",diff_x:c?c.diff_x:0,diff_y:c?c.diff_y:0});if(d.isCancelled!==!0){this.padding<0&&(this.padding=0);var e=parseInt($(this.box).width()),f=parseInt($(this.box).height());$(this.box).find(\" > div\").css({width:e+\"px\",height:f+\"px\"});var g,h,i,j,k,l=this,m=this.get(\"main\"),n=this.get(\"preview\"),o=this.get(\"left\"),p=this.get(\"right\"),q=this.get(\"top\"),r=this.get(\"bottom\"),s=null!==n&&n.hidden!==!0?!0:!1,t=null!==o&&o.hidden!==!0?!0:!1,u=null!==p&&p.hidden!==!0?!0:!1,v=null!==q&&q.hidden!==!0?!0:!1,w=null!==r&&r.hidden!==!0?!0:!1;for(var x in b)if(x=b[x],\"main\"!==x){var c=this.get(x);if(c){var y=String(c.size||0);if(\"%\"==y.substr(y.length-1)){var z=f;\"preview\"==c.type&&(z=z-(q&&!q.hidden?q.sizeCalculated:0)-(r&&!r.hidden?r.sizeCalculated:0)),c.sizeCalculated=parseInt((\"left\"==c.type||\"right\"==c.type?e:z)*parseFloat(c.size)/100)}else c.sizeCalculated=parseInt(c.size);c.sizeCalculated=Math.max(c.sizeCalculated,parseInt(c.minSize))}}null!==q&&q.hidden!==!0?(g=0,h=0,i=e,j=q.sizeCalculated,$(\"#layout_\"+this.name+\"_panel_top\").css({display:\"block\",left:g+\"px\",top:h+\"px\",width:i+\"px\",height:j+\"px\"}).show(),q.width=i,q.height=j,q.resizable&&(h=q.sizeCalculated-(0===this.padding?this.resizer:0),j=this.resizer>this.padding?this.resizer:this.padding,$(\"#layout_\"+this.name+\"_resizer_top\").show().css({display:\"block\",left:g+\"px\",top:h+\"px\",width:i+\"px\",height:j+\"px\",cursor:\"ns-resize\"}).off(\"mousedown\").on(\"mousedown\",function(a){var b=l.trigger({phase:\"before\",type:\"resizerClick\",target:\"top\",originalEvent:a});if(b.isCancelled!==!0)return w2ui[l.name].tmp.events.resizeStart(\"top\",a),l.trigger($.extend(b,{phase:\"after\"})),!1}))):$(\"#layout_\"+this.name+\"_panel_top\").hide(),null!==o&&o.hidden!==!0?(g=0,h=0+(v?q.sizeCalculated+this.padding:0),i=o.sizeCalculated,j=f-(v?q.sizeCalculated+this.padding:0)-(w?r.sizeCalculated+this.padding:0),k=$(\"#layout_\"+this.name+\"_panel_left\"),-1!=window.navigator.userAgent.indexOf(\"MSIE\")&&k.length>0&&k[0].clientHeight<k[0].scrollHeight&&(i+=17),k.css({display:\"block\",left:g+\"px\",top:h+\"px\",width:i+\"px\",height:j+\"px\"}).show(),o.width=i,o.height=j,o.resizable&&(g=o.sizeCalculated-(0===this.padding?this.resizer:0),i=this.resizer>this.padding?this.resizer:this.padding,$(\"#layout_\"+this.name+\"_resizer_left\").show().css({display:\"block\",left:g+\"px\",top:h+\"px\",width:i+\"px\",height:j+\"px\",cursor:\"ew-resize\"}).off(\"mousedown\").on(\"mousedown\",function(a){var b=l.trigger({phase:\"before\",type:\"resizerClick\",target:\"left\",originalEvent:a});if(b.isCancelled!==!0)return w2ui[l.name].tmp.events.resizeStart(\"left\",a),l.trigger($.extend(b,{phase:\"after\"})),!1}))):($(\"#layout_\"+this.name+\"_panel_left\").hide(),$(\"#layout_\"+this.name+\"_resizer_left\").hide()),null!==p&&p.hidden!==!0?(g=e-p.sizeCalculated,h=0+(v?q.sizeCalculated+this.padding:0),i=p.sizeCalculated,j=f-(v?q.sizeCalculated+this.padding:0)-(w?r.sizeCalculated+this.padding:0),$(\"#layout_\"+this.name+\"_panel_right\").css({display:\"block\",left:g+\"px\",top:h+\"px\",width:i+\"px\",height:j+\"px\"}).show(),p.width=i,p.height=j,p.resizable&&(g-=this.padding,i=this.resizer>this.padding?this.resizer:this.padding,$(\"#layout_\"+this.name+\"_resizer_right\").show().css({display:\"block\",left:g+\"px\",top:h+\"px\",width:i+\"px\",height:j+\"px\",cursor:\"ew-resize\"}).off(\"mousedown\").on(\"mousedown\",function(a){var b=l.trigger({phase:\"before\",type:\"resizerClick\",target:\"right\",originalEvent:a});if(b.isCancelled!==!0)return w2ui[l.name].tmp.events.resizeStart(\"right\",a),l.trigger($.extend(b,{phase:\"after\"})),!1}))):$(\"#layout_\"+this.name+\"_panel_right\").hide(),null!==r&&r.hidden!==!0?(g=0,h=f-r.sizeCalculated,i=e,j=r.sizeCalculated,$(\"#layout_\"+this.name+\"_panel_bottom\").css({display:\"block\",left:g+\"px\",top:h+\"px\",width:i+\"px\",height:j+\"px\"}).show(),r.width=i,r.height=j,r.resizable&&(h-=0===this.padding?0:this.padding,j=this.resizer>this.padding?this.resizer:this.padding,$(\"#layout_\"+this.name+\"_resizer_bottom\").show().css({display:\"block\",left:g+\"px\",top:h+\"px\",width:i+\"px\",height:j+\"px\",cursor:\"ns-resize\"}).off(\"mousedown\").on(\"mousedown\",function(a){var b=l.trigger({phase:\"before\",type:\"resizerClick\",target:\"bottom\",originalEvent:a});if(b.isCancelled!==!0)return w2ui[l.name].tmp.events.resizeStart(\"bottom\",a),l.trigger($.extend(b,{phase:\"after\"})),!1}))):$(\"#layout_\"+this.name+\"_panel_bottom\").hide(),g=0+(t?o.sizeCalculated+this.padding:0),h=0+(v?q.sizeCalculated+this.padding:0),i=e-(t?o.sizeCalculated+this.padding:0)-(u?p.sizeCalculated+this.padding:0),j=f-(v?q.sizeCalculated+this.padding:0)-(w?r.sizeCalculated+this.padding:0)-(s?n.sizeCalculated+this.padding:0),k=$(\"#layout_\"+this.name+\"_panel_main\"),-1!=window.navigator.userAgent.indexOf(\"MSIE\")&&k.length>0&&k[0].clientHeight<k[0].scrollHeight&&(i+=17),k.css({display:\"block\",left:g+\"px\",top:h+\"px\",width:i+\"px\",height:j+\"px\"}),m.width=i,m.height=j,null!==n&&n.hidden!==!0?(g=0+(t?o.sizeCalculated+this.padding:0),h=f-(w?r.sizeCalculated+this.padding:0)-n.sizeCalculated,i=e-(t?o.sizeCalculated+this.padding:0)-(u?p.sizeCalculated+this.padding:0),j=n.sizeCalculated,k=$(\"#layout_\"+this.name+\"_panel_preview\"),-1!=window.navigator.userAgent.indexOf(\"MSIE\")&&k.length>0&&k[0].clientHeight<k[0].scrollHeight&&(i+=17),k.css({display:\"block\",left:g+\"px\",top:h+\"px\",width:i+\"px\",height:j+\"px\"}).show(),n.width=i,n.height=j,n.resizable&&(h-=0===this.padding?0:this.padding,j=this.resizer>this.padding?this.resizer:this.padding,$(\"#layout_\"+this.name+\"_resizer_preview\").show().css({display:\"block\",left:g+\"px\",top:h+\"px\",width:i+\"px\",height:j+\"px\",cursor:\"ns-resize\"}).off(\"mousedown\").on(\"mousedown\",function(a){var b=l.trigger({phase:\"before\",type:\"resizerClick\",target:\"preview\",originalEvent:a});if(b.isCancelled!==!0)return w2ui[l.name].tmp.events.resizeStart(\"preview\",a),l.trigger($.extend(b,{phase:\"after\"})),!1}))):$(\"#layout_\"+this.name+\"_panel_preview\").hide();for(var A in b){A=b[A];var B=this.get(A),C=\"#layout_\"+this.name+\"_panel_\"+A+\" > .w2ui-panel-\",D=0;B&&(B.title&&(D+=w2utils.getSize($(C+\"title\").css({top:D+\"px\",display:\"block\"}),\"height\")),B.show.tabs&&(null!==B.tabs&&w2ui[this.name+\"_\"+A+\"_tabs\"]&&w2ui[this.name+\"_\"+A+\"_tabs\"].resize(),D+=w2utils.getSize($(C+\"tabs\").css({top:D+\"px\",display:\"block\"}),\"height\")),B.show.toolbar&&(null!==B.toolbar&&w2ui[this.name+\"_\"+A+\"_toolbar\"]&&w2ui[this.name+\"_\"+A+\"_toolbar\"].resize(),D+=w2utils.getSize($(C+\"toolbar\").css({top:D+\"px\",display:\"block\"}),\"height\"))),$(C+\"content\").css({display:\"block\"}).css({top:D+\"px\"})}return clearTimeout(this._resize_timer),this._resize_timer=setTimeout(function(){for(var a in w2ui)if(\"function\"==typeof w2ui[a].resize){\"undefined\"==w2ui[a].panels&&w2ui[a].resize();var b=$(w2ui[a].box).parents(\".w2ui-layout\");b.length>0&&b.attr(\"name\")==l.name&&w2ui[a].resize()}},100),this.trigger($.extend(d,{phase:\"after\"})),(new Date).getTime()-a}},destroy:function(){var a=this.trigger({phase:\"before\",type:\"destroy\",target:this.name});if(a.isCancelled!==!0)return\"undefined\"==typeof w2ui[this.name]?!1:($(this.box).find(\"#layout_\"+this.name+\"_panel_main\").length>0&&$(this.box).removeAttr(\"name\").removeClass(\"w2ui-layout\").html(\"\"),delete w2ui[this.name],this.trigger($.extend(a,{phase:\"after\"})),this.tmp.events&&this.tmp.events.resize&&$(window).off(\"resize\",this.tmp.events.resize),!0)},lock:function(a){if(-1==b.indexOf(a))return void console.log(\"ERROR: First parameter needs to be the a valid panel name.\");var c=Array.prototype.slice.call(arguments,0);c[0]=\"#layout_\"+this.name+\"_panel_\"+a,w2utils.lock.apply(window,c)},unlock:function(a){if(-1==b.indexOf(a))return void console.log(\"ERROR: First parameter needs to be the a valid panel name.\");var c=\"#layout_\"+this.name+\"_panel_\"+a;w2utils.unlock(c)}},$.extend(a.prototype,w2utils.event),w2obj.layout=a}();var w2popup={};!function(){$.fn.w2popup=function(a,b){\"undefined\"==typeof a&&(b={},a=\"open\"),$.isPlainObject(a)&&(b=a,a=\"open\"),a=a.toLowerCase(),\"load\"===a&&\"string\"==typeof b&&(b=$.extend({url:b},arguments.length>2?arguments[2]:{})),\"open\"===a&&null!=b.url&&(a=\"load\"),b=b||{};var c={};return $(this).length>0&&($(this).find(\"div[rel=title], div[rel=body], div[rel=buttons]\").length>0?($(this).find(\"div[rel=title]\").length>0&&(c.title=$(this).find(\"div[rel=title]\").html()),$(this).find(\"div[rel=body]\").length>0&&(c.body=$(this).find(\"div[rel=body]\").html(),c.style=$(this).find(\"div[rel=body]\")[0].style.cssText),$(this).find(\"div[rel=buttons]\").length>0&&(c.buttons=$(this).find(\"div[rel=buttons]\").html())):(c.title=\"&nbsp;\",c.body=$(this).html()),0!=parseInt($(this).css(\"width\"))&&(c.width=parseInt($(this).css(\"width\"))),0!=parseInt($(this).css(\"height\"))&&(c.height=parseInt($(this).css(\"height\")))),w2popup[a]($.extend({},c,b))},w2popup={defaults:{title:\"\",body:\"\",buttons:\"\",style:\"\",color:\"#000\",opacity:.4,speed:.3,modal:!1,maximized:!1,keyboard:!0,width:500,height:300,showClose:!0,showMax:!1,transition:null},status:\"closed\",handlers:[],onOpen:null,onClose:null,onMax:null,onMin:null,onToggle:null,onKeydown:null,open:function(a){function b(a){return a||(a=window.event),window.addEventListener||window.document.attachEvent(\"onselectstart\",function(){return!1}),w2popup.status=\"moving\",q.resizing=!0,q.x=a.screenX,q.y=a.screenY,q.pos_x=$(\"#w2ui-popup\").position().left,q.pos_y=$(\"#w2ui-popup\").position().top,w2popup.lock({opacity:0}),$(document).on(\"mousemove\",q.mvMove),$(document).on(\"mouseup\",q.mvStop),a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,a.preventDefault?void a.preventDefault():!1}function c(a){1==q.resizing&&(a||(a=window.event),q.div_x=a.screenX-q.x,q.div_y=a.screenY-q.y,$(\"#w2ui-popup\").css({\"-webkit-transition\":\"none\",\"-webkit-transform\":\"translate3d(\"+q.div_x+\"px, \"+q.div_y+\"px, 0px)\",\"-moz-transition\":\"none\",\"-moz-transform\":\"translate(\"+q.div_x+\"px, \"+q.div_y+\"px)\",\"-ms-transition\":\"none\",\"-ms-transform\":\"translate(\"+q.div_x+\"px, \"+q.div_y+\"px)\",\"-o-transition\":\"none\",\"-o-transform\":\"translate(\"+q.div_x+\"px, \"+q.div_y+\"px)\"}))}function d(a){1==q.resizing&&(a||(a=window.event),w2popup.status=\"open\",q.div_x=a.screenX-q.x,q.div_y=a.screenY-q.y,$(\"#w2ui-popup\").css({left:q.pos_x+q.div_x+\"px\",top:q.pos_y+q.div_y+\"px\",\"-webkit-transition\":\"none\",\"-webkit-transform\":\"translate3d(0px, 0px, 0px)\",\"-moz-transition\":\"none\",\"-moz-transform\":\"translate(0px, 0px)\",\"-ms-transition\":\"none\",\"-ms-transform\":\"translate(0px, 0px)\",\"-o-transition\":\"none\",\"-o-transform\":\"translate(0px, 0px)\"}),q.resizing=!1,$(document).off(\"mousemove\",q.mvMove),$(document).off(\"mouseup\",q.mvStop),w2popup.unlock())}var e=this;if(\"closing\"==w2popup.status)return void setTimeout(function(){e.open.call(e,a)},100);var f=$(\"#w2ui-popup\").data(\"options\"),a=$.extend({},this.defaults,f,{title:\"\",body:\"\",buttons:\"\"},a,{maximized:!1});if(setTimeout(function(){$(\"#w2ui-popup\").data(\"options\",a)},100),0==$(\"#w2ui-popup\").length&&(w2popup.handlers=[],w2popup.onMax=null,w2popup.onMin=null,w2popup.onToggle=null,w2popup.onOpen=null,w2popup.onClose=null,w2popup.onKeydown=null),a.onOpen&&(w2popup.onOpen=a.onOpen),a.onClose&&(w2popup.onClose=a.onClose),a.onMax&&(w2popup.onMax=a.onMax),a.onMin&&(w2popup.onMin=a.onMin),a.onToggle&&(w2popup.onToggle=a.onToggle),a.onKeydown&&(w2popup.onKeydown=a.onKeydown),void 0==window.innerHeight){var g=document.documentElement.offsetWidth,h=document.documentElement.offsetHeight;\"IE7\"===w2utils.engine&&(g+=21,h+=4)}else var g=window.innerWidth,h=window.innerHeight;parseInt(g)-10<parseInt(a.width)&&(a.width=parseInt(g)-10),parseInt(h)-10<parseInt(a.height)&&(a.height=parseInt(h)-10);var i=parseInt((parseInt(h)-parseInt(a.height))/2*.6),j=parseInt((parseInt(g)-parseInt(a.width))/2);if(0==$(\"#w2ui-popup\").length){var k=this.trigger({phase:\"before\",type:\"open\",target:\"popup\",options:a,present:!1});if(k.isCancelled===!0)return;w2popup.status=\"opening\",w2popup.lockScreen(a);var l=\"\";a.showClose&&(l+='<div class=\"w2ui-msg-button w2ui-msg-close\" onmousedown=\"event.stopPropagation()\" onclick=\"w2popup.close()\">Close</div>'),a.showMax&&(l+='<div class=\"w2ui-msg-button w2ui-msg-max\" onmousedown=\"event.stopPropagation()\" onclick=\"w2popup.toggle()\">Max</div>');var m='<div id=\"w2ui-popup\" class=\"w2ui-popup\" style=\"opacity: 0; left: '+j+\"px; top: \"+i+\"px;     width: \"+parseInt(a.width)+\"px; height: \"+parseInt(a.height)+'px;     -webkit-transform: scale(0.8); -moz-transform: scale(0.8); -ms-transform: scale(0.8); -o-transform: scale(0.8); \">   <div class=\"w2ui-msg-title\" style=\"'+(\"\"==a.title?\"display: none\":\"\")+'\">'+l+a.title+'</div>   <div class=\"w2ui-box1\" style=\"'+(\"\"==a.title?\"top: 0px !important;\":\"\")+(\"\"==a.buttons?\"bottom: 0px !important;\":\"\")+'\">       <div class=\"w2ui-msg-body'+(\"\"!=!a.title?\" w2ui-msg-no-title\":\"\")+(\"\"!=!a.buttons?\" w2ui-msg-no-buttons\":\"\")+'\" style=\"'+a.style+'\">'+a.body+'</div>   </div>   <div class=\"w2ui-box2\" style=\"'+(\"\"==a.title?\"top: 0px !important;\":\"\")+(\"\"==a.buttons?\"bottom: 0px !important;\":\"\")+'\">       <div class=\"w2ui-msg-body'+(\"\"!=!a.title?\" w2ui-msg-no-title\":\"\")+(\"\"!=!a.buttons?\" w2ui-msg-no-buttons\":\"\")+'\" style=\"'+a.style+'\"></div>       </div>   <div class=\"w2ui-msg-buttons\" style=\"'+(\"\"==a.buttons?\"display: none\":\"\")+'\">'+a.buttons+\"</div></div>\";$(\"body\").append(m),setTimeout(function(){$(\"#w2ui-popup .w2ui-box2\").hide(),$(\"#w2ui-popup\").css({\"-webkit-transition\":a.speed+\"s opacity, \"+a.speed+\"s -webkit-transform\",\"-webkit-transform\":\"scale(1)\",\"-moz-transition\":a.speed+\"s opacity, \"+a.speed+\"s -moz-transform\",\"-moz-transform\":\"scale(1)\",\"-ms-transition\":a.speed+\"s opacity, \"+a.speed+\"s -ms-transform\",\"-ms-transform\":\"scale(1)\",\"-o-transition\":a.speed+\"s opacity, \"+a.speed+\"s -o-transform\",\"-o-transform\":\"scale(1)\",opacity:\"1\"})},1),setTimeout(function(){$(\"#w2ui-popup\").css({\"-webkit-transform\":\"\",\"-moz-transform\":\"\",\"-ms-transform\":\"\",\"-o-transform\":\"\"}),w2popup.status=\"open\",setTimeout(function(){e.trigger($.extend(k,{phase:\"after\"}))},100)},1e3*a.speed)}else{var k=this.trigger({phase:\"before\",type:\"open\",target:\"popup\",options:a,present:!0});if(k.isCancelled===!0)return;w2popup.status=\"opening\",(\"undefined\"==typeof f||f.width!=a.width||f.height!=a.height)&&w2popup.resize(a.width,a.height),\"undefined\"!=typeof f&&(a.prevSize=a.width+\":\"+a.height,a.maximized=f.maximized);var n=$(\"#w2ui-popup .w2ui-box2 > .w2ui-msg-body\").html(a.body);n.length>0&&(n[0].style.cssText=a.style),\"\"!=a.buttons?($(\"#w2ui-popup .w2ui-msg-buttons\").show().html(a.buttons),$(\"#w2ui-popup .w2ui-msg-body\").removeClass(\"w2ui-msg-no-buttons\"),$(\"#w2ui-popup .w2ui-box1, #w2ui-popup .w2ui-box2\").css(\"bottom\",\"\")):($(\"#w2ui-popup .w2ui-msg-buttons\").hide().html(\"\"),$(\"#w2ui-popup .w2ui-msg-body\").addClass(\"w2ui-msg-no-buttons\"),$(\"#w2ui-popup .w2ui-box1, #w2ui-popup .w2ui-box2\").css(\"bottom\",\"0px\")),\"\"!=a.title?($(\"#w2ui-popup .w2ui-msg-title\").show().html((a.showClose?'<div class=\"w2ui-msg-button w2ui-msg-close\" onmousedown=\"event.stopPropagation()\" onclick=\"w2popup.close()\">Close</div>':\"\")+(a.showMax?'<div class=\"w2ui-msg-button w2ui-msg-max\" onmousedown=\"event.stopPropagation()\" onclick=\"w2popup.toggle()\">Max</div>':\"\")+a.title),$(\"#w2ui-popup .w2ui-msg-body\").removeClass(\"w2ui-msg-no-title\"),$(\"#w2ui-popup .w2ui-box1, #w2ui-popup .w2ui-box2\").css(\"top\",\"\")):($(\"#w2ui-popup .w2ui-msg-title\").hide().html(\"\"),$(\"#w2ui-popup .w2ui-msg-body\").addClass(\"w2ui-msg-no-title\"),$(\"#w2ui-popup .w2ui-box1, #w2ui-popup .w2ui-box2\").css(\"top\",\"0px\"));var o=$(\"#w2ui-popup .w2ui-box1\")[0],p=$(\"#w2ui-popup .w2ui-box2\")[0];w2utils.transition(o,p,a.transition),p.className=\"w2ui-box1\",o.className=\"w2ui-box2\",$(p).addClass(\"w2ui-current-box\"),$(\"#w2ui-popup\").data(\"prev-size\",null),setTimeout(function(){w2popup.status=\"open\",e.trigger($.extend(k,{phase:\"after\"}))},100)}a._last_w2ui_name=w2utils.keyboard.active(),w2utils.keyboard.active(null),a.keyboard&&$(document).on(\"keydown\",this.keydown);var q={resizing:!1,mvMove:c,mvStop:d};return $(\"#w2ui-popup .w2ui-msg-title\").on(\"mousedown\",function(a){b(a)}),this},keydown:function(a){var b=$(\"#w2ui-popup\").data(\"options\");if(b&&b.keyboard){var c=w2popup.trigger({phase:\"before\",type:\"keydown\",target:\"popup\",options:b,originalEvent:a});if(c.isCancelled!==!0){switch(a.keyCode){case 27:a.preventDefault(),$(\"#w2ui-popup .w2ui-popup-message\").length>0?w2popup.message():w2popup.close()}w2popup.trigger($.extend(c,{phase:\"after\"}))}}},close:function(a){var b=this,a=$.extend({},$(\"#w2ui-popup\").data(\"options\"),a);if(0!=$(\"#w2ui-popup\").length){var c=this.trigger({phase:\"before\",type:\"close\",target:\"popup\",options:a});c.isCancelled!==!0&&(w2popup.status=\"closing\",$(\"#w2ui-popup\").css({\"-webkit-transition\":a.speed+\"s opacity, \"+a.speed+\"s -webkit-transform\",\"-webkit-transform\":\"scale(0.9)\",\"-moz-transition\":a.speed+\"s opacity, \"+a.speed+\"s -moz-transform\",\"-moz-transform\":\"scale(0.9)\",\"-ms-transition\":a.speed+\"s opacity, \"+a.speed+\"s -ms-transform\",\"-ms-transform\":\"scale(0.9)\",\"-o-transition\":a.speed+\"s opacity, \"+a.speed+\"s -o-transform\",\"-o-transform\":\"scale(0.9)\",opacity:\"0\"}),w2popup.unlockScreen(a),setTimeout(function(){$(\"#w2ui-popup\").remove(),w2popup.status=\"closed\",b.trigger($.extend(c,{phase:\"after\"}))},1e3*a.speed),w2utils.keyboard.active(a._last_w2ui_name),a.keyboard&&$(document).off(\"keydown\",this.keydown))}},toggle:function(){var a=this,b=$(\"#w2ui-popup\").data(\"options\"),c=this.trigger({phase:\"before\",type:\"toggle\",target:\"popup\",options:b});c.isCancelled!==!0&&(b.maximized===!0?w2popup.min():w2popup.max(),setTimeout(function(){a.trigger($.extend(c,{phase:\"after\"}))},1e3*b.speed+50))},max:function(){var a=this,b=$(\"#w2ui-popup\").data(\"options\");if(b.maximized!==!0){var c=this.trigger({phase:\"before\",type:\"max\",target:\"popup\",options:b});c.isCancelled!==!0&&(w2popup.status=\"resizing\",b.prevSize=$(\"#w2ui-popup\").css(\"width\")+\":\"+$(\"#w2ui-popup\").css(\"height\"),w2popup.resize(1e4,1e4,function(){w2popup.status=\"open\",b.maximized=!0,a.trigger($.extend(c,{phase:\"after\"}))}))}},min:function(){var a=this,b=$(\"#w2ui-popup\").data(\"options\");if(b.maximized===!0){var c=b.prevSize.split(\":\"),d=this.trigger({phase:\"before\",type:\"min\",target:\"popup\",options:b});d.isCancelled!==!0&&(w2popup.status=\"resizing\",w2popup.resize(c[0],c[1],function(){w2popup.status=\"open\",b.maximized=!1,b.prevSize=null,a.trigger($.extend(d,{phase:\"after\"}))}))}},get:function(){return $(\"#w2ui-popup\").data(\"options\")},set:function(a){w2popup.open(a)},clear:function(){$(\"#w2ui-popup .w2ui-msg-title\").html(\"\"),$(\"#w2ui-popup .w2ui-msg-body\").html(\"\"),$(\"#w2ui-popup .w2ui-msg-buttons\").html(\"\")},reset:function(){w2popup.open(w2popup.defaults)},load:function(a){function b(b,c){if(delete a.url,$(\"body\").append('<div id=\"w2ui-tmp\" style=\"display: none\">'+b+\"</div>\"),\"undefined\"!=typeof c&&$(\"#w2ui-tmp #\"+c).length>0?$(\"#w2ui-tmp #\"+c).w2popup(a):$(\"#w2ui-tmp > div\").w2popup(a),$(\"#w2ui-tmp > style\").length>0){var d=$(\"<div>\").append($(\"#w2ui-tmp > style\").clone()).html();0==$(\"#w2ui-popup #div-style\").length&&$(\"#w2ui-popup\").append('<div id=\"div-style\" style=\"position: absolute; left: -100; width: 1px\"></div>'),$(\"#w2ui-popup #div-style\").html(d)}$(\"#w2ui-tmp\").remove()}if(w2popup.status=\"loading\",\"undefined\"==String(a.url))return void console.log(\"ERROR: The url parameter is empty.\");var c=String(a.url).split(\"#\"),d=c[0],e=c[1];\"undefined\"==String(a)&&(a={});var f=$(\"#w2ui-popup\").data(d);\"undefined\"!=typeof f&&null!=f?b(f,e):$.get(d,function(a,c,f){b(f.responseText,e),$(\"#w2ui-popup\").data(d,f.responseText)})},message:function(a){$().w2tag(),a||(a={width:200,height:100}),parseInt(a.width)<10&&(a.width=10),parseInt(a.height)<10&&(a.height=10),\"undefined\"==typeof a.hideOnClick&&(a.hideOnClick=!1);var b=$(\"#w2ui-popup\").data(\"options\")||{};(\"undefined\"==typeof a.width||a.width>b.width-10)&&(a.width=b.width-10),(\"undefined\"==typeof a.height||a.height>b.height-40)&&(a.height=b.height-40);var c=$(\"#w2ui-popup .w2ui-msg-title\"),d=parseInt($(\"#w2ui-popup\").width()),e=$(\"#w2ui-popup .w2ui-popup-message\").length;if(\"\"==$.trim(a.html)){$(\"#w2ui-popup #w2ui-message\"+(e-1)).css(\"z-Index\",250);var a=$(\"#w2ui-popup #w2ui-message\"+(e-1)).data(\"options\")||{};$(\"#w2ui-popup #w2ui-message\"+(e-1)).remove(),\"function\"==typeof a.onClose&&a.onClose(),1==e?w2popup.unlock():$(\"#w2ui-popup #w2ui-message\"+(e-2)).show()}else{$(\"#w2ui-popup .w2ui-popup-message\").hide(),$(\"#w2ui-popup .w2ui-box1\").before('<div id=\"w2ui-message'+e+'\" class=\"w2ui-popup-message\" style=\"display: none; '+(0==c.length?\"top: 0px;\":\"top: \"+w2utils.getSize(c,\"height\")+\"px;\")+(\"undefined\"!=typeof a.width?\"width: \"+a.width+\"px; left: \"+(d-a.width)/2+\"px;\":\"left: 10px; right: 10px;\")+(\"undefined\"!=typeof a.height?\"height: \"+a.height+\"px;\":\"bottom: 6px;\")+'-webkit-transition: .3s; -moz-transition: .3s; -ms-transition: .3s; -o-transition: .3s;\"'+(a.hideOnClick===!0?'onclick=\"w2popup.message();\"':\"\")+\"></div>\"),$(\"#w2ui-popup #w2ui-message\"+e).data(\"options\",a);var f=$(\"#w2ui-popup #w2ui-message\"+e).css(\"display\");$(\"#w2ui-popup #w2ui-message\"+e).css({\"-webkit-transform\":\"none\"==f?\"translateY(-\"+a.height+\"px)\":\"translateY(0px)\",\"-moz-transform\":\"none\"==f?\"translateY(-\"+a.height+\"px)\":\"translateY(0px)\",\"-ms-transform\":\"none\"==f?\"translateY(-\"+a.height+\"px)\":\"translateY(0px)\",\"-o-transform\":\"none\"==f?\"translateY(-\"+a.height+\"px)\":\"translateY(0px)\"}),\"none\"==f&&($(\"#w2ui-popup #w2ui-message\"+e).show().html(a.html),setTimeout(function(){$(\"#w2ui-popup #w2ui-message\"+e).css({\"-webkit-transform\":\"none\"==f?\"translateY(0px)\":\"translateY(-\"+a.height+\"px)\",\"-moz-transform\":\"none\"==f?\"translateY(0px)\":\"translateY(-\"+a.height+\"px)\",\"-ms-transform\":\"none\"==f?\"translateY(0px)\":\"translateY(-\"+a.height+\"px)\",\"-o-transform\":\"none\"==f?\"translateY(0px)\":\"translateY(-\"+a.height+\"px)\"})},1),setTimeout(function(){$(\"#w2ui-popup #w2ui-message\"+e).css({\"-webkit-transition\":\"0s\",\"-moz-transition\":\"0s\",\"-ms-transition\":\"0s\",\"-o-transition\":\"0s\",\"z-Index\":1500}),0==e&&w2popup.lock(),\"function\"==typeof a.onOpen&&a.onOpen()},300))}},lock:function(){var a=Array.prototype.slice.call(arguments,0);a.unshift($(\"#w2ui-popup\")),w2utils.lock.apply(window,a)},unlock:function(){w2utils.unlock($(\"#w2ui-popup\"))},lockScreen:function(a){return $(\"#w2ui-lock\").length>0?!1:(\"undefined\"==typeof a&&(a=$(\"#w2ui-popup\").data(\"options\")),\"undefined\"==typeof a&&(a={}),a=$.extend({},w2popup.defaults,a),$(\"body\").append('<div id=\"w2ui-lock\"     onmousewheel=\"if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true; if (event.preventDefault) event.preventDefault(); else return false;\"    style=\"position: '+(\"IE5\"==w2utils.engine?\"absolute\":\"fixed\")+\"; z-Index: 1199; left: 0px; top: 0px;            padding: 0px; margin: 0px; background-color: \"+a.color+'; width: 100%; height: 100%; opacity: 0;\"></div>'),setTimeout(function(){$(\"#w2ui-lock\").css({\"-webkit-transition\":a.speed+\"s opacity\",\"-moz-transition\":a.speed+\"s opacity\",\"-ms-transition\":a.speed+\"s opacity\",\"-o-transition\":a.speed+\"s opacity\",opacity:a.opacity})},1),1==a.modal?($(\"#w2ui-lock\").on(\"mousedown\",function(){$(\"#w2ui-lock\").css({\"-webkit-transition\":\".1s\",\"-moz-transition\":\".1s\",\"-ms-transition\":\".1s\",\"-o-transition\":\".1s\",opacity:\"0.6\"})}),$(\"#w2ui-lock\").on(\"mouseup\",function(){setTimeout(function(){$(\"#w2ui-lock\").css({\"-webkit-transition\":\".1s\",\"-moz-transition\":\".1s\",\"-ms-transition\":\".1s\",\"-o-transition\":\".1s\",opacity:a.opacity})},100)})):$(\"#w2ui-lock\").on(\"mouseup\",function(){w2popup.close()}),!0)},unlockScreen:function(a){return 0==$(\"#w2ui-lock\").length?!1:(\"undefined\"==typeof a&&(a=$(\"#w2ui-popup\").data(\"options\")),\"undefined\"==typeof a&&(a={}),a=$.extend({},w2popup.defaults,a),$(\"#w2ui-lock\").css({\"-webkit-transition\":a.speed+\"s opacity\",\"-moz-transition\":a.speed+\"s opacity\",\"-ms-transition\":a.speed+\"s opacity\",\"-o-transition\":a.speed+\"s opacity\",opacity:0}),setTimeout(function(){$(\"#w2ui-lock\").remove()},1e3*a.speed),!0)},resize:function(a,b,c){var d=$(\"#w2ui-popup\").data(\"options\");parseInt($(window).width())-10<parseInt(a)&&(a=parseInt($(window).width())-10),parseInt($(window).height())-10<parseInt(b)&&(b=parseInt($(window).height())-10);var e=(parseInt($(window).height())-parseInt(b))/2*.8,f=(parseInt($(window).width())-parseInt(a))/2;$(\"#w2ui-popup\").css({\"-webkit-transition\":d.speed+\"s width, \"+d.speed+\"s height, \"+d.speed+\"s left, \"+d.speed+\"s top\",\"-moz-transition\":d.speed+\"s width, \"+d.speed+\"s height, \"+d.speed+\"s left, \"+d.speed+\"s top\",\"-ms-transition\":d.speed+\"s width, \"+d.speed+\"s height, \"+d.speed+\"s left, \"+d.speed+\"s top\",\"-o-transition\":d.speed+\"s width, \"+d.speed+\"s height, \"+d.speed+\"s left, \"+d.speed+\"s top\",top:e,left:f,width:a,height:b}),setTimeout(function(){d.width=a,d.height=b,\"function\"==typeof c&&c()},1e3*d.speed+50)}},$.extend(w2popup,w2utils.event)}();var w2alert=function(a,b,c){null==b&&(b=w2utils.lang(\"Notification\")),$(\"#w2ui-popup\").length>0&&\"closing\"!=w2popup.status?w2popup.message({width:400,height:170,html:'<div style=\"position: absolute; top: 0px; left: 0px; right: 0px; bottom: 45px; overflow: auto\">        <div class=\"w2ui-centered\" style=\"font-size: 13px;\">'+a+'</div></div><div style=\"position: absolute; bottom: 7px; left: 0px; right: 0px; text-align: center; padding: 5px\">        <button onclick=\"w2popup.message();\" class=\"w2ui-popup-btn w2ui-btn\">'+w2utils.lang(\"Ok\")+\"</button></div>\",onClose:function(){\"function\"==typeof c&&c()}}):w2popup.open({width:450,height:220,showMax:!1,showClose:!1,title:b,body:'<div class=\"w2ui-centered\" style=\"font-size: 13px;\">'+a+\"</div>\",buttons:'<button onclick=\"w2popup.close();\" class=\"w2ui-popup-btn w2ui-btn\">'+w2utils.lang(\"Ok\")+\"</button>\",onClose:function(){\"function\"==typeof c&&c()}})},w2confirm=function(a,b,c){var d={},e={msg:\"\",title:w2utils.lang(\"Confirmation\"),width:$(\"#w2ui-popup\").length>0?400:450,height:$(\"#w2ui-popup\").length>0?170:220,yes_text:\"Yes\",yes_class:\"\",yes_style:\"\",yes_callBack:null,no_text:\"No\",no_class:\"\",no_style:\"\",no_callBack:null,callBack:null};return 1==arguments.length&&\"object\"==typeof a?$.extend(d,e,a):\"function\"==typeof b?$.extend(d,e,{msg:a,callBack:b}):$.extend(d,e,{msg:a,title:b,callBack:c}),$(\"#w2ui-popup\").length>0&&\"closing\"!=w2popup.status?(d.width>w2popup.get().width&&(d.width=w2popup.get().width),d.height>w2popup.get().height-50&&(d.height=w2popup.get().height-50),w2popup.message({width:d.width,height:d.height,html:'<div style=\"position: absolute; top: 0px; left: 0px; right: 0px; bottom: 40px; overflow: auto\">        <div class=\"w2ui-centered\" style=\"font-size: 13px;\">'+d.msg+'</div></div><div style=\"position: absolute; bottom: 7px; left: 0px; right: 0px; text-align: center; padding: 5px\">        <button id=\"Yes\" class=\"w2ui-popup-btn w2ui-btn '+d.yes_class+'\" style=\"'+d.yes_style+'\">'+w2utils.lang(d.yes_text)+'</button>        <button id=\"No\" class=\"w2ui-popup-btn w2ui-btn '+d.no_class+'\" style=\"'+d.no_style+'\">'+w2utils.lang(d.no_text)+\"</button></div>\",onOpen:function(){$(\"#w2ui-popup .w2ui-popup-message .w2ui-btn\").on(\"click\",function(a){w2popup.message(),\"function\"==typeof d.callBack&&d.callBack(a.target.id),\"Yes\"==a.target.id&&\"function\"==typeof d.yes_callBack&&d.yes_callBack(),\"No\"==a.target.id&&\"function\"==typeof d.no_callBack&&d.no_callBack()})},onKeydown:function(a){switch(a.originalEvent.keyCode){case 13:\"function\"==typeof d.callBack&&d.callBack(\"Yes\"),\"function\"==typeof d.yes_callBack&&d.yes_callBack(),w2popup.message();break;case 27:\"function\"==typeof d.callBack&&d.callBack(\"No\"),\"function\"==typeof d.no_callBack&&d.no_callBack(),w2popup.message()}}})):(w2utils.isInt(d.height)||(d.height=d.height+50),w2popup.open({width:d.width,height:d.height,title:d.title,modal:!0,showClose:!1,body:'<div class=\"w2ui-centered\" style=\"font-size: 13px;\">'+d.msg+\"</div>\",buttons:'<button id=\"Yes\" class=\"w2ui-popup-btn w2ui-btn '+d.yes_class+'\" style=\"'+d.yes_style+'\">'+w2utils.lang(d.yes_text)+'</button><button id=\"No\" class=\"w2ui-popup-btn w2ui-btn '+d.no_class+'\" style=\"'+d.no_style+'\">'+w2utils.lang(d.no_text)+\"</button>\",onOpen:function(a){a.onComplete=function(){$(\"#w2ui-popup .w2ui-popup-btn\").on(\"click\",function(a){w2popup.close(),\"function\"==typeof d.callBack&&d.callBack(a.target.id),\"Yes\"==a.target.id&&\"function\"==typeof d.yes_callBack&&d.yes_callBack(),\"No\"==a.target.id&&\"function\"==typeof d.no_callBack&&d.no_callBack()})}},onKeydown:function(a){switch(a.originalEvent.keyCode){case 13:\"function\"==typeof d.callBack&&d.callBack(\"Yes\"),\"function\"==typeof d.yes_callBack&&d.yes_callBack(),w2popup.close();break;case 27:\"function\"==typeof d.callBack&&d.callBack(\"No\"),\"function\"==typeof d.no_callBack&&d.no_callBack(),w2popup.close()}}})),{yes:function(a){return d.yes_callBack=a,this},no:function(a){return d.no_callBack=a,this}}};!function(){var a=function(a){this.box=null,this.name=null,this.active=null,this.tabs=[],this.routeData={},this.right=\"\",this.style=\"\",this.onClick=null,this.onClose=null,this.onRender=null,this.onRefresh=null,this.onResize=null,this.onDestroy=null,$.extend(this,{handlers:[]}),$.extend(!0,this,w2obj.tabs,a)};$.fn.w2tabs=function(b){if(\"object\"!=typeof b&&b){if(w2ui[$(this).attr(\"name\")]){var c=w2ui[$(this).attr(\"name\")];return c[b].apply(c,Array.prototype.slice.call(arguments,1)),this}return void console.log(\"ERROR: Method \"+b+\" does not exist on jQuery.w2tabs\")}if(w2utils.checkName(b,\"w2tabs\")){for(var d=b.tabs||[],e=new a(b),f=0;f<d.length;f++)e.tabs[f]=$.extend({},a.prototype.tab,d[f]);return 0!==$(this).length&&e.render($(this)[0]),w2ui[e.name]=e,e}},a.prototype={tab:{id:null,text:\"\",route:null,hidden:!1,disabled:!1,closable:!1,hint:\"\",onClick:null,onRefresh:null,onClose:null},add:function(a){return this.insert(null,a)},insert:function(b,c){$.isArray(c)||(c=[c]);for(var d=0;d<c.length;d++){if(\"undefined\"==typeof c[d].id)return void console.log('ERROR: The parameter \"id\" is required but not supplied. (obj: '+this.name+\")\");if(!w2utils.checkUniqueId(c[d].id,this.tabs,\"tabs\",this.name))return;var e=$.extend({},a.prototype.tab,c[d]);if(null===b||\"undefined\"==typeof b)this.tabs.push(e);else{var f=this.get(b,!0);\nthis.tabs=this.tabs.slice(0,f).concat([e],this.tabs.slice(f))}this.refresh(c[d].id)}},remove:function(){for(var a=0,b=0;b<arguments.length;b++){var c=this.get(arguments[b]);if(!c)return!1;a++,this.tabs.splice(this.get(c.id,!0),1),$(this.box).find(\"#tabs_\"+this.name+\"_tab_\"+w2utils.escapeId(c.id)).remove()}return a},select:function(a){return this.active==a||null===this.get(a)?!1:(this.active=a,this.refresh(),!0)},set:function(a,b){var c=this.get(a,!0);return null===c?!1:($.extend(this.tabs[c],b),this.refresh(a),!0)},get:function(a,b){if(0===arguments.length){for(var c=[],d=0;d<this.tabs.length;d++)null!=this.tabs[d].id&&c.push(this.tabs[d].id);return c}for(var e=0;e<this.tabs.length;e++)if(this.tabs[e].id==a)return b===!0?e:this.tabs[e];return null},show:function(){for(var a=this,b=0,c=[],d=0;d<arguments.length;d++){var e=this.get(arguments[d]);e&&e.hidden!==!1&&(b++,e.hidden=!1,c.push(e.id))}return setTimeout(function(){for(var b in c)a.refresh(c[b])},15),b},hide:function(){for(var a=this,b=0,c=[],d=0;d<arguments.length;d++){var e=this.get(arguments[d]);e&&e.hidden!==!0&&(b++,e.hidden=!0,c.push(e.id))}return setTimeout(function(){for(var b in c)a.refresh(c[b])},15),b},enable:function(){for(var a=this,b=0,c=[],d=0;d<arguments.length;d++){var e=this.get(arguments[d]);e&&e.disabled!==!1&&(b++,e.disabled=!1,c.push(e.id))}return setTimeout(function(){for(var b in c)a.refresh(c[b])},15),b},disable:function(){for(var a=this,b=0,c=[],d=0;d<arguments.length;d++){var e=this.get(arguments[d]);e&&e.disabled!==!0&&(b++,e.disabled=!0,c.push(e.id))}return setTimeout(function(){for(var b in c)a.refresh(c[b])},15),b},refresh:function(a){var b=(new Date).getTime(),c=this.trigger({phase:\"before\",type:\"refresh\",target:\"undefined\"!=typeof a?a:this.name,object:this.get(a)});if(c.isCancelled!==!0){if(\"undefined\"==typeof a)for(var d=0;d<this.tabs.length;d++)this.refresh(this.tabs[d].id);else{var e=this.get(a);if(null===e)return!1;\"undefined\"!=typeof e.caption&&(e.text=e.caption);var f=$(this.box).find(\"#tabs_\"+this.name+\"_tab_\"+w2utils.escapeId(e.id)),g=(e.closable?'<div class=\"w2ui-tab-close\" onclick=\"w2ui[\\''+this.name+\"'].animateClose('\"+e.id+\"', event);\\\"></div>\":\"\")+'    <div class=\"w2ui-tab'+(this.active===e.id?\" active\":\"\")+(e.closable?\" closable\":\"\")+'\"         title=\"'+(\"undefined\"!=typeof e.hint?e.hint:\"\")+'\"        onclick=\"w2ui[\\''+this.name+\"'].click('\"+e.id+\"', event);\\\">\"+e.text+\"</div>\";if(0===f.length){var h=\"\";e.hidden&&(h+=\"display: none;\"),e.disabled&&(h+=\"opacity: 0.2; -moz-opacity: 0.2; -webkit-opacity: 0.2; -o-opacity: 0.2; filter:alpha(opacity=20);\");var i='<td id=\"tabs_'+this.name+\"_tab_\"+e.id+'\" style=\"'+h+'\" valign=\"middle\">'+g+\"</td>\";this.get(a,!0)!==this.tabs.length-1&&$(this.box).find(\"#tabs_\"+this.name+\"_tab_\"+w2utils.escapeId(this.tabs[parseInt(this.get(a,!0))+1].id)).length>0?$(this.box).find(\"#tabs_\"+this.name+\"_tab_\"+w2utils.escapeId(this.tabs[parseInt(this.get(a,!0))+1].id)).before(i):$(this.box).find(\"#tabs_\"+this.name+\"_right\").before(i)}else f.html(g),e.hidden?f.css(\"display\",\"none\"):f.css(\"display\",\"\"),f.css(e.disabled?{opacity:\"0.2\",\"-moz-opacity\":\"0.2\",\"-webkit-opacity\":\"0.2\",\"-o-opacity\":\"0.2\",filter:\"alpha(opacity=20)\"}:{opacity:\"1\",\"-moz-opacity\":\"1\",\"-webkit-opacity\":\"1\",\"-o-opacity\":\"1\",filter:\"alpha(opacity=100)\"})}return $(\"#tabs_\"+this.name+\"_right\").html(this.right),this.trigger($.extend(c,{phase:\"after\"})),(new Date).getTime()-b}},render:function(a){var b=(new Date).getTime(),c=this.trigger({phase:\"before\",type:\"render\",target:this.name,box:a});if(c.isCancelled!==!0){if(\"undefined\"!=typeof a&&null!==a&&($(this.box).find(\"> table #tabs_\"+this.name+\"_right\").length>0&&$(this.box).removeAttr(\"name\").removeClass(\"w2ui-reset w2ui-tabs\").html(\"\"),this.box=a),!this.box)return!1;var d='<table cellspacing=\"0\" cellpadding=\"1\" width=\"100%\">    <tr><td width=\"100%\" id=\"tabs_'+this.name+'_right\" align=\"right\">'+this.right+\"</td></tr></table>\";return $(this.box).attr(\"name\",this.name).addClass(\"w2ui-reset w2ui-tabs\").html(d),$(this.box).length>0&&($(this.box)[0].style.cssText+=this.style),this.trigger($.extend(c,{phase:\"after\"})),this.refresh(),(new Date).getTime()-b}},resize:function(){var a=(new Date).getTime(),b=this.trigger({phase:\"before\",type:\"resize\",target:this.name});return b.isCancelled!==!0?(this.trigger($.extend(b,{phase:\"after\"})),(new Date).getTime()-a):void 0},destroy:function(){var a=this.trigger({phase:\"before\",type:\"destroy\",target:this.name});a.isCancelled!==!0&&($(this.box).find(\"> table #tabs_\"+this.name+\"_right\").length>0&&$(this.box).removeAttr(\"name\").removeClass(\"w2ui-reset w2ui-tabs\").html(\"\"),delete w2ui[this.name],this.trigger($.extend(a,{phase:\"after\"})))},click:function(a,b){var c=this.get(a);if(null===c||c.disabled)return!1;var d=this.trigger({phase:\"before\",type:\"click\",target:a,tab:c,object:c,originalEvent:b});if(d.isCancelled!==!0){if($(this.box).find(\"#tabs_\"+this.name+\"_tab_\"+w2utils.escapeId(this.active)+\" .w2ui-tab\").removeClass(\"active\"),this.active=c.id,c.route){var e=String(\"/\"+c.route).replace(/\\/{2,}/g,\"/\"),f=w2utils.parseRoute(e);if(f.keys.length>0)for(var g=0;g<f.keys.length;g++)null!=this.routeData[f.keys[g].name]&&(e=e.replace(new RegExp(\":\"+f.keys[g].name,\"g\"),this.routeData[f.keys[g].name]));setTimeout(function(){window.location.hash=e},1)}this.trigger($.extend(d,{phase:\"after\"})),this.refresh(a)}},animateClose:function(a,b){var c=this.get(a);if(null===c||c.disabled)return!1;var d=this.trigger({phase:\"before\",type:\"close\",target:a,object:this.get(a),originalEvent:b});if(d.isCancelled!==!0){var e=this;$(this.box).find(\"#tabs_\"+this.name+\"_tab_\"+w2utils.escapeId(c.id)).css({\"-webkit-transition\":\".2s\",\"-moz-transition\":\"2s\",\"-ms-transition\":\".2s\",\"-o-transition\":\".2s\",opacity:\"0\"}),setTimeout(function(){var a=$(e.box).find(\"#tabs_\"+e.name+\"_tab_\"+w2utils.escapeId(c.id)).width();$(e.box).find(\"#tabs_\"+e.name+\"_tab_\"+w2utils.escapeId(c.id)).html('<div style=\"width: '+a+'px; -webkit-transition: .2s; -moz-transition: .2s; -ms-transition: .2s; -o-transition: .2s\"></div>'),setTimeout(function(){$(e.box).find(\"#tabs_\"+e.name+\"_tab_\"+w2utils.escapeId(c.id)).find(\":first-child\").css({width:\"0px\"})},50)},200),setTimeout(function(){e.remove(a)},450),this.trigger($.extend(d,{phase:\"after\"})),this.refresh()}},animateInsert:function(a,b){if(null!==this.get(a)&&$.isPlainObject(b)&&w2utils.checkUniqueId(b.id,this.tabs,\"tabs\",this.name)){var c=$(this.box).find(\"#tabs_\"+this.name+\"_tab_\"+w2utils.escapeId(b.id));if(0===c.length){\"undefined\"!=typeof b.caption&&(b.text=b.caption);var d='<div id=\"_tmp_tabs\" class=\"w2ui-reset w2ui-tabs\" style=\"position: absolute; top: -1000px;\"><table cellspacing=\"0\" cellpadding=\"1\" width=\"100%\"><tr><td id=\"_tmp_simple_tab\" style=\"\" valign=\"middle\">'+(b.closable?'<div class=\"w2ui-tab-close\"></div>':\"\")+'    <div class=\"w2ui-tab '+(this.active===b.id?\"active\":\"\")+'\">'+b.text+\"</div></td></tr></table></div>\";$(\"body\").append(d);var e='<div style=\"width: 1px; -webkit-transition: 0.2s; -moz-transition: 0.2s; -ms-transition: 0.2s; -o-transition: 0.2s;\">&nbsp;</div>',f=\"\";b.hidden&&(f+=\"display: none;\"),b.disabled&&(f+=\"opacity: 0.2; -moz-opacity: 0.2; -webkit-opacity: 0.2; -o-opacity: 0.2; filter:alpha(opacity=20);\");var g='<td id=\"tabs_'+this.name+\"_tab_\"+b.id+'\" style=\"'+f+'\" valign=\"middle\">'+e+\"</td>\";this.get(a,!0)!==this.tabs.length&&$(this.box).find(\"#tabs_\"+this.name+\"_tab_\"+w2utils.escapeId(this.tabs[parseInt(this.get(a,!0))].id)).length>0?$(this.box).find(\"#tabs_\"+this.name+\"_tab_\"+w2utils.escapeId(this.tabs[parseInt(this.get(a,!0))].id)).before(g):$(this.box).find(\"#tabs_\"+this.name+\"_right\").before(g);var h=this;setTimeout(function(){var a=$(\"#_tmp_simple_tab\").width();$(\"#_tmp_tabs\").remove(),$(\"#tabs_\"+h.name+\"_tab_\"+w2utils.escapeId(b.id)+\" > div\").css(\"width\",a+\"px\")},1),setTimeout(function(){h.insert(a,b)},200)}}}},$.extend(a.prototype,w2utils.event),w2obj.tabs=a}(),function(){var a=function(a){this.box=null,this.name=null,this.routeData={},this.items=[],this.right=\"\",this.onClick=null,this.onRender=null,this.onRefresh=null,this.onResize=null,this.onDestroy=null,$.extend(!0,this,w2obj.toolbar,a)};$.fn.w2toolbar=function(b){if(\"object\"==typeof b||!b){if(!w2utils.checkName(b,\"w2toolbar\"))return;var c=b.items||[],d=new a(b);$.extend(d,{items:[],handlers:[]});for(var e=0;e<c.length;e++)d.items[e]=$.extend({},a.prototype.item,c[e]);return 0!==$(this).length&&d.render($(this)[0]),w2ui[d.name]=d,d}if(w2ui[$(this).attr(\"name\")]){var f=w2ui[$(this).attr(\"name\")];return f[b].apply(f,Array.prototype.slice.call(arguments,1)),this}console.log(\"ERROR: Method \"+b+\" does not exist on jQuery.w2toolbar\")},a.prototype={item:{id:null,type:\"button\",text:\"\",route:null,html:\"\",img:null,icon:null,count:null,hidden:!1,disabled:!1,checked:!1,arrow:!0,hint:\"\",group:null,items:null,overlay:{},onClick:null},add:function(a){this.insert(null,a)},insert:function(b,c){$.isArray(c)||(c=[c]);for(var d=0;d<c.length;d++){if(\"undefined\"==typeof c[d].type)return void console.log('ERROR: The parameter \"type\" is required but not supplied in w2toolbar.add() method.');if(-1===$.inArray(String(c[d].type),[\"button\",\"check\",\"radio\",\"drop\",\"menu\",\"break\",\"html\",\"spacer\"]))return void console.log('ERROR: The parameter \"type\" should be one of the following [button, check, radio, drop, menu, break, html, spacer] in w2toolbar.add() method.');if(\"undefined\"==typeof c[d].id)return void console.log('ERROR: The parameter \"id\" is required but not supplied in w2toolbar.add() method.');if(!w2utils.checkUniqueId(c[d].id,this.items,\"toolbar items\",this.name))return;var e=$.extend({},a.prototype.item,c[d]);if(null==b)this.items.push(e);else{var f=this.get(b,!0);this.items=this.items.slice(0,f).concat([e],this.items.slice(f))}this.refresh(e.id)}},remove:function(){for(var a=0,b=0;b<arguments.length;b++){var c=this.get(arguments[b]);if(c){a++,$(this.box).find(\"#tb_\"+this.name+\"_item_\"+w2utils.escapeId(c.id)).remove();var d=this.get(c.id,!0);d&&this.items.splice(d,1)}}return a},set:function(a,b){var c=this.get(a,!0);return null===c?!1:($.extend(this.items[c],b),this.refresh(a),!0)},get:function(a,b){if(0===arguments.length){for(var c=[],d=0;d<this.items.length;d++)null!==this.items[d].id&&c.push(this.items[d].id);return c}for(var e=0;e<this.items.length;e++)if(this.items[e].id===a)return b===!0?e:this.items[e];return null},show:function(){for(var a=this,b=0,c=[],d=0;d<arguments.length;d++){var e=this.get(arguments[d]);e&&(b++,e.hidden=!1,c.push(e.id))}return setTimeout(function(){for(var b in c)a.refresh(c[b])},15),b},hide:function(){for(var a=this,b=0,c=[],d=0;d<arguments.length;d++){var e=this.get(arguments[d]);e&&(b++,e.hidden=!0,c.push(e.id))}return setTimeout(function(){for(var b in c)a.refresh(c[b])},15),b},enable:function(){for(var a=this,b=0,c=[],d=0;d<arguments.length;d++){var e=this.get(arguments[d]);e&&(b++,e.disabled=!1,c.push(e.id))}return setTimeout(function(){for(var b in c)a.refresh(c[b])},15),b},disable:function(){for(var a=this,b=0,c=[],d=0;d<arguments.length;d++){var e=this.get(arguments[d]);e&&(b++,e.disabled=!0,c.push(e.id))}return setTimeout(function(){for(var b in c)a.refresh(c[b])},15),b},check:function(){for(var a=this,b=0,c=[],d=0;d<arguments.length;d++){var e=this.get(arguments[d]);e&&(b++,e.checked=!0,c.push(e.id))}return setTimeout(function(){for(var b in c)a.refresh(c[b])},15),b},uncheck:function(){for(var a=this,b=0,c=[],d=0;d<arguments.length;d++){var e=this.get(arguments[d]);e&&(b++,e.checked=!1,c.push(e.id))}return setTimeout(function(){for(var b in c)a.refresh(c[b])},15),b},render:function(a){var b=(new Date).getTime(),c=this.trigger({phase:\"before\",type:\"render\",target:this.name,box:a});if(c.isCancelled!==!0&&(null!=a&&($(this.box).find(\"> table #tb_\"+this.name+\"_right\").length>0&&$(this.box).removeAttr(\"name\").removeClass(\"w2ui-reset w2ui-toolbar\").html(\"\"),this.box=a),this.box)){for(var d='<table cellspacing=\"0\" cellpadding=\"0\" width=\"100%\"><tr>',e=0;e<this.items.length;e++){var f=this.items[e];null==f.id&&(f.id=\"item_\"+e),null!==f&&(d+=\"spacer\"===f.type?'<td width=\"100%\" id=\"tb_'+this.name+\"_item_\"+f.id+'\" align=\"right\"></td>':'<td id=\"tb_'+this.name+\"_item_\"+f.id+'\" style=\"'+(f.hidden?\"display: none\":\"\")+'\"     class=\"'+(f.disabled?\"disabled\":\"\")+'\" valign=\"middle\">'+this.getItemHTML(f)+\"</td>\")}return d+='<td width=\"100%\" id=\"tb_'+this.name+'_right\" align=\"right\">'+this.right+\"</td>\",d+=\"</tr></table>\",$(this.box).attr(\"name\",this.name).addClass(\"w2ui-reset w2ui-toolbar\").html(d),$(this.box).length>0&&($(this.box)[0].style.cssText+=this.style),this.trigger($.extend(c,{phase:\"after\"})),(new Date).getTime()-b}},refresh:function(a){var b=(new Date).getTime(),c=this.trigger({phase:\"before\",type:\"refresh\",target:\"undefined\"!=typeof a?a:this.name,item:this.get(a)});if(c.isCancelled!==!0){if(null==a)for(var d=0;d<this.items.length;d++){var e=this.items[d];null==e.id&&(e.id=\"item_\"+d),this.refresh(e.id)}var f=this.get(a);if(null===f)return!1;var g=$(this.box).find(\"#tb_\"+this.name+\"_item_\"+w2utils.escapeId(f.id)),h=this.getItemHTML(f);return 0===g.length?(h=\"spacer\"===f.type?'<td width=\"100%\" id=\"tb_'+this.name+\"_item_\"+f.id+'\" align=\"right\"></td>':'<td id=\"tb_'+this.name+\"_item_\"+f.id+'\" style=\"'+(f.hidden?\"display: none\":\"\")+'\"     class=\"'+(f.disabled?\"disabled\":\"\")+'\" valign=\"middle\">'+h+\"</td>\",this.get(a,!0)===this.items.length-1?$(this.box).find(\"#tb_\"+this.name+\"_right\").before(h):$(this.box).find(\"#tb_\"+this.name+\"_item_\"+w2utils.escapeId(this.items[parseInt(this.get(a,!0))+1].id)).before(h)):(g.html(h),f.hidden?g.css(\"display\",\"none\"):g.css(\"display\",\"\"),f.disabled?g.addClass(\"disabled\"):g.removeClass(\"disabled\")),this.trigger($.extend(c,{phase:\"after\"})),(new Date).getTime()-b}},resize:function(){var a=(new Date).getTime(),b=this.trigger({phase:\"before\",type:\"resize\",target:this.name});return b.isCancelled!==!0?(this.trigger($.extend(b,{phase:\"after\"})),(new Date).getTime()-a):void 0},destroy:function(){var a=this.trigger({phase:\"before\",type:\"destroy\",target:this.name});a.isCancelled!==!0&&($(this.box).find(\"> table #tb_\"+this.name+\"_right\").length>0&&$(this.box).removeAttr(\"name\").removeClass(\"w2ui-reset w2ui-toolbar\").html(\"\"),$(this.box).html(\"\"),delete w2ui[this.name],this.trigger($.extend(a,{phase:\"after\"})))},getItemHTML:function(a){var b=\"\";switch(\"undefined\"!=typeof a.caption&&(a.text=a.caption),\"undefined\"==typeof a.hint&&(a.hint=\"\"),\"undefined\"==typeof a.text&&(a.text=\"\"),a.type){case\"menu\":case\"button\":case\"check\":case\"radio\":case\"drop\":var c=\"<td>&nbsp;</td>\";a.img&&(c='<td><div class=\"w2ui-tb-image w2ui-icon '+a.img+'\"></div></td>'),a.icon&&(c='<td><div class=\"w2ui-tb-image\"><span class=\"'+a.icon+'\"></span></div></td>'),b+='<table cellpadding=\"0\" cellspacing=\"0\" title=\"'+a.hint+'\" class=\"w2ui-button '+(a.checked?\"checked\":\"\")+'\"        onclick     = \"var el=w2ui[\\''+this.name+\"']; if (el) el.click('\"+a.id+'\\', event);\"        onmouseover = \"'+(a.disabled?\"\":\"$(this).addClass('over');\")+'\"       onmouseout  = \"'+(a.disabled?\"\":\"$(this).removeClass('over').removeClass('down');\")+'\"       onmousedown = \"'+(a.disabled?\"\":\"$(this).addClass('down');\")+'\"       onmouseup   = \"'+(a.disabled?\"\":\"$(this).removeClass('down');\")+'\"><tr><td>  <table cellpadding=\"1\" cellspacing=\"0\">  <tr>'+c+(\"\"!==a.text?'<td class=\"w2ui-tb-caption\" nowrap>'+a.text+\"</td>\":\"\")+(null!=a.count?'<td class=\"w2ui-tb-count\" nowrap><span>'+a.count+\"</span></td>\":\"\")+(\"drop\"!==a.type&&\"menu\"!==a.type||a.arrow===!1?\"\":'<td class=\"w2ui-tb-down\" nowrap><div></div></td>')+\"  </tr></table></td></tr></table>\";break;case\"break\":b+='<table cellpadding=\"0\" cellspacing=\"0\"><tr>    <td><div class=\"w2ui-break\">&nbsp;</div></td></tr></table>';break;case\"html\":b+='<table cellpadding=\"0\" cellspacing=\"0\"><tr>    <td nowrap>'+a.html+\"</td></tr></table>\"}var d=\"\";return\"function\"==typeof a.onRender&&(d=a.onRender.call(this,a.id,b)),\"function\"==typeof this.onRender&&(d=this.onRender(a.id,b)),\"\"!==d&&null!=d&&(b=d),b},menuClick:function(a){var b=this;if(a.item&&!a.item.disabled){var c=this.trigger({phase:\"before\",type:\"click\",target:a.item.id+\":\"+a.subItem.id,item:a.item,subItem:a.subItem,originalEvent:a.originalEvent});if(c.isCancelled===!0)return;var d=a.subItem;if(d.route){var e=String(\"/\"+d.route).replace(/\\/{2,}/g,\"/\"),f=w2utils.parseRoute(e);if(f.keys.length>0)for(var g=0;g<f.keys.length;g++)null!=b.routeData[f.keys[g].name]&&(e=e.replace(new RegExp(\":\"+f.keys[g].name,\"g\"),this.routeData[f.keys[g].name]));setTimeout(function(){window.location.hash=e},1)}this.trigger($.extend(c,{phase:\"after\"}))}},click:function(a,b){var c=this,d=this.get(a);if(d&&!d.disabled){var e=this.trigger({phase:\"before\",type:\"click\",target:\"undefined\"!=typeof a?a:this.name,item:d,object:d,originalEvent:b});if(e.isCancelled===!0)return;var f=$(\"#tb_\"+this.name+\"_item_\"+w2utils.escapeId(d.id)+\" table.w2ui-button\");if(f.removeClass(\"down\"),\"radio\"===d.type){for(var g=0;g<this.items.length;g++){var h=this.items[g];null!=h&&h.id!==d.id&&\"radio\"===h.type&&h.group===d.group&&h.checked&&(h.checked=!1,this.refresh(h.id))}d.checked=!0,f.addClass(\"checked\")}if((\"drop\"===d.type||\"menu\"===d.type)&&(d.checked?d.checked=!1:setTimeout(function(){function a(){$(document).off(\"click\",a),d.checked=!1,f.removeClass(\"checked\")}var b=$(\"#tb_\"+c.name+\"_item_\"+w2utils.escapeId(d.id));$.isPlainObject(d.overlay)||(d.overlay={});var e=(b.width()-50)/2;e>19&&(e=19),\"drop\"===d.type&&b.w2overlay(d.html,$.extend({left:e,top:3},d.overlay)),\"menu\"===d.type&&b.w2menu(d.items,$.extend({left:e,top:3},d.overlay,{select:function(b){c.menuClick({item:d,subItem:b.item,originalEvent:b.originalEvent}),a()}})),$(document).on(\"click\",a)},1)),(\"check\"===d.type||\"drop\"===d.type||\"menu\"===d.type)&&(d.checked=!d.checked,d.checked?f.addClass(\"checked\"):f.removeClass(\"checked\")),d.route){var i=String(\"/\"+d.route).replace(/\\/{2,}/g,\"/\"),j=w2utils.parseRoute(i);if(j.keys.length>0)for(var k=0;k<j.keys.length;k++)i=i.replace(new RegExp(\":\"+j.keys[k].name,\"g\"),this.routeData[j.keys[k].name]);setTimeout(function(){window.location.hash=i},1)}this.trigger($.extend(e,{phase:\"after\"}))}}},$.extend(a.prototype,w2utils.event),w2obj.toolbar=a}(),function(){var a=function(a){this.name=null,this.box=null,this.sidebar=null,this.parent=null,this.nodes=[],this.menu=[],this.routeData={},this.selected=null,this.img=null,this.icon=null,this.style=\"\",this.topHTML=\"\",this.bottomHTML=\"\",this.keyboard=!0,this.onClick=null,this.onDblClick=null,this.onContextMenu=null,this.onMenuClick=null,this.onExpand=null,this.onCollapse=null,this.onKeydown=null,this.onRender=null,this.onRefresh=null,this.onResize=null,this.onDestroy=null,$.extend(!0,this,w2obj.sidebar,a)};$.fn.w2sidebar=function(b){if(\"object\"==typeof b||!b){if(!w2utils.checkName(b,\"w2sidebar\"))return;var c=b.nodes,d=new a(b);return $.extend(d,{handlers:[],nodes:[]}),\"undefined\"!=typeof c&&d.add(d,c),0!==$(this).length&&d.render($(this)[0]),d.sidebar=d,w2ui[d.name]=d,d}if(w2ui[$(this).attr(\"name\")]){var e=w2ui[$(this).attr(\"name\")];return e[b].apply(e,Array.prototype.slice.call(arguments,1)),this}console.log(\"ERROR: Method \"+b+\" does not exist on jQuery.w2sidebar\")},a.prototype={node:{id:null,text:\"\",count:null,img:null,icon:null,nodes:[],style:\"\",route:null,selected:!1,expanded:!1,hidden:!1,disabled:!1,group:!1,groupShowHide:!0,plus:!1,onClick:null,onDblClick:null,onContextMenu:null,onExpand:null,onCollapse:null,parent:null,sidebar:null},add:function(a,b){return 1==arguments.length&&(b=arguments[0],a=this),\"string\"==typeof a&&(a=this.get(a)),this.insert(a,null,b)},insert:function(b,c,d){var e,f,g,h,i;if(2==arguments.length){if(d=arguments[1],c=arguments[0],f=this.get(c),null===f)return $.isArray(d)||(d=[d]),e=null!=d[0].caption?d[0].caption:d[0].text,console.log('ERROR: Cannot insert node \"'+e+'\" because cannot find node \"'+c+'\" to insert before.'),null;b=this.get(c).parent}\"string\"==typeof b&&(b=this.get(b)),$.isArray(d)||(d=[d]);for(var j in d)if(h=d[j],null!=typeof h.id)if(null===this.get(this,h.id)){if(g=$.extend({},a.prototype.node,h),g.sidebar=this,g.parent=b,i=g.nodes||[],g.nodes=[],null===c)b.nodes.push(g);else{if(f=this.get(b,c,!0),null===f)return e=null!=h.caption?h.caption:h.text,console.log('ERROR: Cannot insert node \"'+e+'\" because cannot find node \"'+c+'\" to insert before.'),null;b.nodes.splice(f,0,g)}i.length>0&&this.insert(g,null,i)}else e=null!=h.caption?h.caption:h.text,console.log(\"ERROR: Cannot insert node with id=\"+h.id+\" (text: \"+e+\") because another node with the same id already exists.\");else e=null!=h.caption?h.caption:h.text,console.log('ERROR: Cannot insert node \"'+e+'\" because it has no id.');return this.refresh(b.id),g},remove:function(){for(var a,b=0,c=0;c<arguments.length;c++)if(a=this.get(arguments[c]),null!==a){null!==this.selected&&this.selected===a.id&&(this.selected=null);var d=this.get(a.parent,arguments[c],!0);null!==d&&(a.parent.nodes[d].selected&&a.sidebar.unselect(a.id),a.parent.nodes.splice(d,1),b++)}return b>0&&1==arguments.length?this.refresh(a.parent.id):this.refresh(),b},set:function(a,b,c){if(2==arguments.length&&(c=b,b=a,a=this),\"string\"==typeof a&&(a=this.get(a)),null==a.nodes)return null;for(var d=0;d<a.nodes.length;d++){if(a.nodes[d].id===b){var e=c.nodes;return $.extend(a.nodes[d],c,{nodes:[]}),null!=e&&this.add(a.nodes[d],e),this.refresh(b),!0}var f=this.set(a.nodes[d],b,c);if(f)return!0}return!1},get:function(a,b,c){if(0===arguments.length){for(var d=[],e=this.find({}),f=0;f<e.length;f++)null!=e[f].id&&d.push(e[f].id);return d}if((1==arguments.length||2==arguments.length&&b===!0)&&(c=b,b=a,a=this),\"string\"==typeof a&&(a=this.get(a)),null==a.nodes)return null;for(var g=0;g<a.nodes.length;g++){if(a.nodes[g].id==b)return c===!0?g:a.nodes[g];var h=this.get(a.nodes[g],b,c);if(h||0===h)return h}return null},find:function(a,b,c){if(1==arguments.length&&(b=a,a=this),c||(c=[]),\"string\"==typeof a&&(a=this.get(a)),null==a.nodes)return c;for(var d=0;d<a.nodes.length;d++){var e=!0;for(var f in b)a.nodes[d][f]!=b[f]&&(e=!1);e&&c.push(a.nodes[d]),a.nodes[d].nodes.length>0&&(c=this.find(a.nodes[d],b,c))}return c},hide:function(){for(var a=0,b=0;b<arguments.length;b++){var c=this.get(arguments[b]);null!==c&&(c.hidden=!0,a++)}return 1==arguments.length?this.refresh(arguments[0]):this.refresh(),a},show:function(){for(var a=0,b=0;b<arguments.length;b++){var c=this.get(arguments[b]);null!==c&&(c.hidden=!1,a++)}return 1==arguments.length?this.refresh(arguments[0]):this.refresh(),a},disable:function(){for(var a=0,b=0;b<arguments.length;b++){var c=this.get(arguments[b]);null!==c&&(c.disabled=!0,c.selected&&this.unselect(c.id),a++)}return 1==arguments.length?this.refresh(arguments[0]):this.refresh(),a},enable:function(){for(var a=0,b=0;b<arguments.length;b++){var c=this.get(arguments[b]);null!==c&&(c.disabled=!1,a++)}return 1==arguments.length?this.refresh(arguments[0]):this.refresh(),a},select:function(a){var b=this.get(a);return b?this.selected==a&&b.selected?!1:(this.unselect(this.selected),$(this.box).find(\"#node_\"+w2utils.escapeId(a)).addClass(\"w2ui-selected\").find(\".w2ui-icon\").addClass(\"w2ui-icon-selected\"),b.selected=!0,this.selected=a,!0):!1},unselect:function(a){var b=this.get(a);return b?(b.selected=!1,$(this.box).find(\"#node_\"+w2utils.escapeId(a)).removeClass(\"w2ui-selected\").find(\".w2ui-icon\").removeClass(\"w2ui-icon-selected\"),this.selected==a&&(this.selected=null),!0):!1},toggle:function(a){var b=this.get(a);return null===b?!1:b.plus?(this.set(a,{plus:!1}),this.expand(a),void this.refresh(a)):0===b.nodes.length?!1:this.get(a).expanded?this.collapse(a):this.expand(a)},collapse:function(a){var b=this,c=this.get(a),d=this.trigger({phase:\"before\",type:\"collapse\",target:a,object:c});return d.isCancelled!==!0?($(this.box).find(\"#node_\"+w2utils.escapeId(a)+\"_sub\").slideUp(200),$(this.box).find(\"#node_\"+w2utils.escapeId(a)+\" .w2ui-node-dots:first-child\").html('<div class=\"w2ui-expand\">+</div>'),c.expanded=!1,this.trigger($.extend(d,{phase:\"after\"})),setTimeout(function(){b.refresh(a)},200),!0):void 0},collapseAll:function(a){if(\"undefined\"==typeof a&&(a=this),\"string\"==typeof a&&(a=this.get(a)),null==a.nodes)return!1;for(var b=0;b<a.nodes.length;b++)a.nodes[b].expanded===!0&&(a.nodes[b].expanded=!1),a.nodes[b].nodes&&a.nodes[b].nodes.length>0&&this.collapseAll(a.nodes[b]);return this.refresh(a.id),!0},expand:function(a){var b=this,c=this.get(a),d=this.trigger({phase:\"before\",type:\"expand\",target:a,object:c});return d.isCancelled!==!0?($(this.box).find(\"#node_\"+w2utils.escapeId(a)+\"_sub\").slideDown(200),$(this.box).find(\"#node_\"+w2utils.escapeId(a)+\" .w2ui-node-dots:first-child\").html('<div class=\"w2ui-expand\">-</div>'),c.expanded=!0,this.trigger($.extend(d,{phase:\"after\"})),setTimeout(function(){b.refresh(a)},200),!0):void 0},expandAll:function(a){if(\"undefined\"==typeof a&&(a=this),\"string\"==typeof a&&(a=this.get(a)),null==a.nodes)return!1;for(var b=0;b<a.nodes.length;b++)a.nodes[b].expanded===!1&&(a.nodes[b].expanded=!0),a.nodes[b].nodes&&a.nodes[b].nodes.length>0&&this.expandAll(a.nodes[b]);this.refresh(a.id)},expandParents:function(a){var b=this.get(a);return null===b?!1:(b.parent&&(b.parent.expanded=!0,this.expandParents(b.parent.id)),this.refresh(a),!0)},click:function(a,b){var c=this,d=this.get(a);if(null!==d&&!d.disabled&&!d.group){$(c.box).find(\".w2ui-node.w2ui-selected\").each(function(a,b){var d=$(b).attr(\"id\").replace(\"node_\",\"\"),e=c.get(d);null!=e&&(e.selected=!1),$(b).removeClass(\"w2ui-selected\").find(\".w2ui-icon\").removeClass(\"w2ui-icon-selected\")});var e=$(c.box).find(\"#node_\"+w2utils.escapeId(a)),f=$(c.box).find(\"#node_\"+w2utils.escapeId(c.selected));e.addClass(\"w2ui-selected\").find(\".w2ui-icon\").addClass(\"w2ui-icon-selected\"),setTimeout(function(){var g=c.trigger({phase:\"before\",type:\"click\",target:a,originalEvent:b,node:d,object:d});if(g.isCancelled===!0)return e.removeClass(\"w2ui-selected\").find(\".w2ui-icon\").removeClass(\"w2ui-icon-selected\"),void f.addClass(\"w2ui-selected\").find(\".w2ui-icon\").addClass(\"w2ui-icon-selected\");if(null!==f&&(f.selected=!1),c.get(a).selected=!0,c.selected=a,d.route){var h=String(\"/\"+d.route).replace(/\\/{2,}/g,\"/\"),i=w2utils.parseRoute(h);if(i.keys.length>0)for(var j=0;j<i.keys.length;j++)null!=c.routeData[i.keys[j].name]&&(h=h.replace(new RegExp(\":\"+i.keys[j].name,\"g\"),c.routeData[i.keys[j].name]));setTimeout(function(){window.location.hash=h},1)}c.trigger($.extend(g,{phase:\"after\"}))},1)}},keydown:function(a){function b(a,b){null===a||a.hidden||a.disabled||a.group||(g.click(a.id,b),setTimeout(function(){g.scrollIntoView()},50))}function c(a,b){for(a=b(a);null!==a&&(a.hidden||a.disabled)&&!a.group;)a=b(a);return a}function d(a,b){if(null===a)return null;var c=a.parent,e=g.get(a.id,!0),f=null;if(a.expanded&&a.nodes.length>0&&b!==!0){var h=a.nodes[0];f=h.hidden||h.disabled||h.group?d(h):h}else f=c&&e+1<c.nodes.length?c.nodes[e+1]:d(c,!0);return null!==f&&(f.hidden||f.disabled||f.group)&&(f=d(f)),f}function e(a){if(null===a)return null;var b=a.parent,c=g.get(a.id,!0),d=c>0?f(b.nodes[c-1]):b;return null!==d&&(d.hidden||d.disabled||d.group)&&(d=e(d)),d}function f(a){if(a.expanded&&a.nodes.length>0){var b=a.nodes[a.nodes.length-1];return b.hidden||b.disabled||b.group?e(b):f(b)}return a}var g=this,h=g.get(g.selected);if(h&&g.keyboard===!0){var i=g.trigger({phase:\"before\",type:\"keydown\",target:g.name,originalEvent:a});i.isCancelled!==!0&&((13==a.keyCode||32==a.keyCode)&&h.nodes.length>0&&g.toggle(g.selected),37==a.keyCode&&(h.nodes.length>0&&h.expanded?g.collapse(g.selected):(b(h.parent),h.parent.group||g.collapse(h.parent.id))),39==a.keyCode&&(h.nodes.length>0||h.plus)&&!h.expanded&&g.expand(g.selected),38==a.keyCode&&b(c(h,e)),40==a.keyCode&&b(c(h,d)),-1!=$.inArray(a.keyCode,[13,32,37,38,39,40])&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation()),g.trigger($.extend(i,{phase:\"after\"})))}},scrollIntoView:function(a){\"undefined\"==typeof a&&(a=this.selected);var b=this.get(a);if(null!==b){var c=$(this.box).find(\".w2ui-sidebar-div\"),d=$(this.box).find(\"#node_\"+w2utils.escapeId(a)),e=d.offset().top-c.offset().top;e+d.height()>c.height()&&c.animate({scrollTop:c.scrollTop()+c.height()/1.3},250,\"linear\"),0>=e&&c.animate({scrollTop:c.scrollTop()-c.height()/1.3},250,\"linear\")}},dblClick:function(a,b){var c=this.get(a),d=this.trigger({phase:\"before\",type:\"dblClick\",target:a,originalEvent:b,object:c});d.isCancelled!==!0&&(this.toggle(a),this.trigger($.extend(d,{phase:\"after\"})))},contextMenu:function(a,b){var c=this,d=c.get(a);a!=c.selected&&c.click(a),setTimeout(function(){var e=c.trigger({phase:\"before\",type:\"contextMenu\",target:a,originalEvent:b,object:d});e.isCancelled!==!0&&(d.group||d.disabled||(c.menu.length>0&&$(c.box).find(\"#node_\"+w2utils.escapeId(a)).w2menu(c.menu,{left:(b?b.offsetX||b.pageX:50)-25,onSelect:function(b){c.menuClick(a,parseInt(b.index),b.originalEvent)}}),c.trigger($.extend(e,{phase:\"after\"}))))},150)},menuClick:function(a,b,c){var d=this,e=d.trigger({phase:\"before\",type:\"menuClick\",target:a,originalEvent:c,menuIndex:b,menuItem:d.menu[b]});e.isCancelled!==!0&&d.trigger($.extend(e,{phase:\"after\"}))},render:function(a){var b=(new Date).getTime(),c=this.trigger({phase:\"before\",type:\"render\",target:this.name,box:a});return c.isCancelled!==!0&&(\"undefined\"!=typeof a&&null!==a&&($(this.box).find(\"> div > div.w2ui-sidebar-div\").length>0&&$(this.box).removeAttr(\"name\").removeClass(\"w2ui-reset w2ui-sidebar\").html(\"\"),this.box=a),this.box)?($(this.box).attr(\"name\",this.name).addClass(\"w2ui-reset w2ui-sidebar\").html('<div><div class=\"w2ui-sidebar-top\"></div><div class=\"w2ui-sidebar-div\"></div><div class=\"w2ui-sidebar-bottom\"></div></div>'),$(this.box).find(\"> div\").css({width:$(this.box).width()+\"px\",height:$(this.box).height()+\"px\"}),$(this.box).length>0&&($(this.box)[0].style.cssText+=this.style),\"\"!==this.topHTML&&($(this.box).find(\".w2ui-sidebar-top\").html(this.topHTML),$(this.box).find(\".w2ui-sidebar-div\").css(\"top\",$(this.box).find(\".w2ui-sidebar-top\").height()+\"px\")),\"\"!==this.bottomHTML&&($(this.box).find(\".w2ui-sidebar-bottom\").html(this.bottomHTML),$(this.box).find(\".w2ui-sidebar-div\").css(\"bottom\",$(this.box).find(\".w2ui-sidebar-bottom\").height()+\"px\")),this.trigger($.extend(c,{phase:\"after\"})),this.refresh(),(new Date).getTime()-b):void 0},refresh:function(a){function b(a){var b=\"\",c=a.img;null===c&&(c=this.img);var d=a.icon;null===d&&(d=this.icon);for(var e=a.parent,f=0;e&&null!==e.parent;)e.group&&f--,e=e.parent,f++;return\"undefined\"!=typeof a.caption&&(a.text=a.caption),a.group?b='<div class=\"w2ui-node-group\"  id=\"node_'+a.id+'\"        onclick=\"w2ui[\\''+h.name+\"'].toggle('\"+a.id+\"')\\\"        onmouseout=\\\"$(this).find('span:nth-child(1)').css('color', 'transparent')\\\"         onmouseover=\\\"$(this).find('span:nth-child(1)').css('color', 'inherit')\\\">\"+(a.groupShowHide?\"<span>\"+w2utils.lang(!a.hidden&&a.expanded?\"Hide\":\"Show\")+\"</span>\":\"<span></span>\")+\"    <span>\"+a.text+'</span></div><div class=\"w2ui-node-sub\" id=\"node_'+a.id+'_sub\" style=\"'+a.style+\";\"+(!a.hidden&&a.expanded?\"\":\"display: none;\")+'\"></div>':(a.selected&&!a.disabled&&(h.selected=a.id),e=\"\",c&&(e='<div class=\"w2ui-node-image w2ui-icon '+c+(a.selected&&!a.disabled?\" w2ui-icon-selected\":\"\")+'\"></div>'),d&&(e='<div class=\"w2ui-node-image\"><span class=\"'+d+'\"></span></div>'),b='<div class=\"w2ui-node '+(a.selected?\"w2ui-selected\":\"\")+\" \"+(a.disabled?\"w2ui-disabled\":\"\")+'\" id=\"node_'+a.id+'\" style=\"'+(a.hidden?\"display: none;\":\"\")+'\"    ondblclick=\"w2ui[\\''+h.name+\"'].dblClick('\"+a.id+\"', event);\\\"    oncontextmenu=\\\"w2ui['\"+h.name+\"'].contextMenu('\"+a.id+\"', event);         if (event.preventDefault) event.preventDefault();\\\"    onClick=\\\"w2ui['\"+h.name+\"'].click('\"+a.id+'\\', event); \"><table cellpadding=\"0\" cellspacing=\"0\" style=\"margin-left:'+18*f+\"px; padding-right:\"+18*f+'px\"><tr><td class=\"w2ui-node-dots\" nowrap onclick=\"w2ui[\\''+h.name+\"'].toggle('\"+a.id+'\\');         if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\">    <div class=\"w2ui-expand\">'+(a.nodes.length>0?a.expanded?\"-\":\"+\":a.plus?\"+\":\"\")+'</div></td><td class=\"w2ui-node-data\" nowrap>'+e+(a.count||0===a.count?'<div class=\"w2ui-node-count\">'+a.count+\"</div>\":\"\")+'<div class=\"w2ui-node-caption\">'+a.text+'</div></td></tr></table></div><div class=\"w2ui-node-sub\" id=\"node_'+a.id+'_sub\" style=\"'+a.style+\";\"+(!a.hidden&&a.expanded?\"\":\"display: none;\")+'\"></div>'),b\n}var c=(new Date).getTime(),d=this.trigger({phase:\"before\",type:\"refresh\",target:\"undefined\"!=typeof a?a:this.name});if(d.isCancelled!==!0){\"\"!==this.topHTML&&($(this.box).find(\".w2ui-sidebar-top\").html(this.topHTML),$(this.box).find(\".w2ui-sidebar-div\").css(\"top\",$(this.box).find(\".w2ui-sidebar-top\").height()+\"px\")),\"\"!==this.bottomHTML&&($(this.box).find(\".w2ui-sidebar-bottom\").html(this.bottomHTML),$(this.box).find(\".w2ui-sidebar-div\").css(\"bottom\",$(this.box).find(\".w2ui-sidebar-bottom\").height()+\"px\")),$(this.box).find(\"> div\").css({width:$(this.box).width()+\"px\",height:$(this.box).height()+\"px\"});var e,f,g,h=this;if(\"undefined\"==typeof a)e=this,g=\".w2ui-sidebar-div\";else{if(e=this.get(a),null===e)return;g=\"#node_\"+w2utils.escapeId(e.id)+\"_sub\"}var i;if(e!==this){var j=\"#node_\"+w2utils.escapeId(e.id);i=b(e),$(this.box).find(j).before('<div id=\"sidebar_'+this.name+'_tmp\"></div>'),$(this.box).find(j).remove(),$(this.box).find(g).remove(),$(\"#sidebar_\"+this.name+\"_tmp\").before(i),$(\"#sidebar_\"+this.name+\"_tmp\").remove()}$(this.box).find(g).html(\"\");for(var k=0;k<e.nodes.length;k++)f=e.nodes[k],i=b(f),$(this.box).find(g).append(i),0!==f.nodes.length&&this.refresh(f.id);return this.trigger($.extend(d,{phase:\"after\"})),(new Date).getTime()-c}},resize:function(){var a=(new Date).getTime(),b=this.trigger({phase:\"before\",type:\"resize\",target:this.name});return b.isCancelled!==!0?($(this.box).css(\"overflow\",\"hidden\"),$(this.box).find(\"> div\").css({width:$(this.box).width()+\"px\",height:$(this.box).height()+\"px\"}),this.trigger($.extend(b,{phase:\"after\"})),(new Date).getTime()-a):void 0},destroy:function(){var a=this.trigger({phase:\"before\",type:\"destroy\",target:this.name});a.isCancelled!==!0&&($(this.box).find(\"> div > div.w2ui-sidebar-div\").length>0&&$(this.box).removeAttr(\"name\").removeClass(\"w2ui-reset w2ui-sidebar\").html(\"\"),delete w2ui[this.name],this.trigger($.extend(a,{phase:\"after\"})))},lock:function(){var a=$(this.box).find(\"> div:first-child\"),b=Array.prototype.slice.call(arguments,0);b.unshift(a),w2utils.lock.apply(window,b)},unlock:function(){w2utils.unlock(this.box)}},$.extend(a.prototype,w2utils.event),w2obj.sidebar=a}(),function(a){var b=function(b){this.el=null,this.helpers={},this.type=b.type||\"text\",this.options=a.extend(!0,{},b),this.onSearch=b.onSearch||null,this.onRequest=b.onRequest||null,this.onLoad=b.onLoad||null,this.onError=b.onError||null,this.onClick=b.onClick||null,this.onAdd=b.onAdd||null,this.onNew=b.onNew||null,this.onRemove=b.onRemove||null,this.onMouseOver=b.onMouseOver||null,this.onMouseOut=b.onMouseOut||null,this.onIconClick=b.onIconClick||null,this.tmp={},delete this.options.type,delete this.options.onSearch,delete this.options.onRequest,delete this.options.onLoad,delete this.options.onError,delete this.options.onClick,delete this.options.onMouseOver,delete this.options.onMouseOut,delete this.options.onIconClick,a.extend(!0,this,w2obj.field)};a.fn.w2field=function(c,d){if(0!=this.length){if(0==arguments.length){var e=a(this).data(\"w2field\");return e}return\"string\"==typeof c&&\"object\"==typeof d&&(c=a.extend(!0,{},d,{type:c})),\"string\"==typeof c&&\"undefined\"==typeof d&&(c={type:c}),c.type=String(c.type).toLowerCase(),this.each(function(d,e){var f=a(e).data(\"w2field\");if(\"undefined\"==typeof f){var f=new b(c);return a.extend(f,{handlers:[]}),e&&(f.el=a(e)[0]),f.init(),a(e).data(\"w2field\",f),f}if(f.clear(),\"clear\"!=c.type){var f=new b(c);return a.extend(f,{handlers:[]}),e&&(f.el=a(e)[0]),f.init(),a(e).data(\"w2field\",f),f}})}var f=b.prototype;return f[c]?f[c].apply(f,Array.prototype.slice.call(arguments,1)):void 0},b.prototype={custom:{},pallete:[[\"000000\",\"444444\",\"666666\",\"999999\",\"CCCCCC\",\"EEEEEE\",\"F3F3F3\",\"FFFFFF\"],[\"FF011B\",\"FF9838\",\"FFFD59\",\"01FD55\",\"00FFFE\",\"0424F3\",\"9B24F4\",\"FF21F5\"],[\"F4CCCC\",\"FCE5CD\",\"FFF2CC\",\"D9EAD3\",\"D0E0E3\",\"CFE2F3\",\"D9D1E9\",\"EAD1DC\"],[\"EA9899\",\"F9CB9C\",\"FEE599\",\"B6D7A8\",\"A2C4C9\",\"9FC5E8\",\"B4A7D6\",\"D5A6BD\"],[\"E06666\",\"F6B26B\",\"FED966\",\"93C47D\",\"76A5AF\",\"6FA8DC\",\"8E7CC3\",\"C27BA0\"],[\"CC0814\",\"E69138\",\"F1C232\",\"6AA84F\",\"45818E\",\"3D85C6\",\"674EA7\",\"A54D79\"],[\"99050C\",\"B45F17\",\"BF901F\",\"37761D\",\"124F5C\",\"0A5394\",\"351C75\",\"741B47\"],[\"660205\",\"783F0B\",\"7F6011\",\"274E12\",\"0C343D\",\"063762\",\"20124D\",\"4C1030\"]],addType:function(a,b){return a=String(a).toLowerCase(),this.custom[a]=b,!0},removeType:function(a){return a=String(a).toLowerCase(),this.custom[a]?(delete this.custom[a],!0):!1},init:function(){var b,c=this,d=this.options;if(\"function\"==typeof this.custom[this.type])return void this.custom[this.type].call(this,d);if(-1==[\"INPUT\",\"TEXTAREA\"].indexOf(this.el.tagName))return void console.log(\"ERROR: w2field could only be applied to INPUT or TEXTAREA.\",this.el);switch(this.type){case\"text\":case\"int\":case\"float\":case\"money\":case\"currency\":case\"percent\":case\"alphanumeric\":case\"hex\":b={min:null,max:null,step:1,placeholder:\"\",autoFormat:!0,currencyPrefix:w2utils.settings.currencyPrefix,currencySuffix:w2utils.settings.currencySuffix,currencyPrecision:w2utils.settings.currencyPrecision,decimalSymbol:w2utils.settings.decimalSymbol,groupSymbol:w2utils.settings.groupSymbol,arrows:!1,keyboard:!0,precision:null,silent:!0,prefix:\"\",suffix:\"\"},this.options=a.extend(!0,{},b,d),d=this.options,d.numberRE=new RegExp(\"[\"+d.groupSymbol+\"]\",\"g\"),d.moneyRE=new RegExp(\"[\"+d.currencyPrefix+d.currencySuffix+d.groupSymbol+\"]\",\"g\"),d.percentRE=new RegExp(\"[\"+d.groupSymbol+\"%]\",\"g\"),-1!=[\"text\",\"alphanumeric\",\"hex\"].indexOf(this.type)&&(d.arrows=!1,d.keyboard=!1),this.addPrefix(),this.addSuffix(),a(this.el).attr(\"placeholder\")&&\"\"==d.placeholder&&(d.placeholder=a(this.el).attr(\"placeholder\")),a(this.el).attr(\"placeholder\",d.placeholder);break;case\"color\":b={prefix:\"#\",suffix:'<div style=\"width: '+(parseInt(a(this.el).css(\"font-size\"))||12)+'px\">&nbsp;</div>',placeholder:\"\",arrows:!1,keyboard:!1},a.extend(d,b),this.addPrefix(),this.addSuffix(),a(this.el).attr(\"maxlength\",6),\"\"!=a(this.el).val()&&setTimeout(function(){a(c.el).change()},1),a(this.el).attr(\"placeholder\")&&\"\"==d.placeholder&&(d.placeholder=a(this.el).attr(\"placeholder\")),a(this.el).attr(\"placeholder\",d.placeholder);break;case\"date\":b={format:w2utils.settings.date_format,placeholder:\"\",keyboard:!0,silent:!0,start:\"\",end:\"\",blocked:{},colored:{}},this.options=a.extend(!0,{},b,d),d=this.options,a(this.el).attr(\"placeholder\")&&\"\"==d.placeholder&&(d.placeholder=a(this.el).attr(\"placeholder\")),a(this.el).attr(\"placeholder\",d.placeholder?d.placeholder:d.format);break;case\"time\":b={format:w2utils.settings.time_format,placeholder:\"\",keyboard:!0,silent:!0,start:\"\",end:\"\"},this.options=a.extend(!0,{},b,d),d=this.options,a(this.el).attr(\"placeholder\")&&\"\"==d.placeholder&&(d.placeholder=a(this.el).attr(\"placeholder\")),a(this.el).attr(\"placeholder\",d.placeholder?d.placeholder:\"h12\"==d.format?\"hh:mi pm\":\"hh:mi\");break;case\"datetime\":break;case\"list\":case\"combo\":if(b={items:[],selected:{},placeholder:\"\",url:null,postData:{},minLength:1,cacheMax:250,maxDropHeight:350,match:\"begins\",silent:!0,icon:null,iconStyle:\"\",onSearch:null,onRequest:null,onLoad:null,onError:null,onIconClick:null,renderDrop:null,prefix:\"\",suffix:\"\",openOnFocus:!1,markSearch:!1},d.items=this.normMenu(d.items),\"list\"==this.type&&(b.openOnFocus=!0,b.suffix='<div class=\"arrow-down\" style=\"margin-top: '+(parseInt(a(this.el).height())-6)/2+'px;\"></div>',a(this.el).addClass(\"w2ui-select\"),!a.isPlainObject(d.selected)))for(var e in d.items){var f=d.items[e];if(f&&f.id==d.selected){d.selected=a.extend(!0,{},f);break}}d=a.extend({},b,d,{align:\"both\",altRows:!0}),this.options=d,a.isPlainObject(d.selected)||(d.selected={}),a(this.el).data(\"selected\",d.selected),d.url&&this.request(0),\"list\"==this.type&&this.addFocus(),this.addPrefix(),this.addSuffix(),setTimeout(function(){c.refresh()},10),a(this.el).attr(\"placeholder\")&&\"\"==d.placeholder&&(d.placeholder=a(this.el).attr(\"placeholder\")),a(this.el).attr(\"placeholder\",d.placeholder).attr(\"autocomplete\",\"off\"),\"undefined\"!=typeof d.selected.text&&a(this.el).val(d.selected.text);break;case\"enum\":b={items:[],selected:[],placeholder:\"\",max:0,url:null,postData:{},minLength:1,cacheMax:250,maxWidth:250,maxHeight:350,maxDropHeight:350,match:\"contains\",silent:!0,openOnFocus:!1,markSearch:!0,renderDrop:null,renderItem:null,style:\"\",onSearch:null,onRequest:null,onLoad:null,onError:null,onClick:null,onAdd:null,onNew:null,onRemove:null,onMouseOver:null,onMouseOut:null},d=a.extend({},b,d,{align:\"both\",suffix:\"\",altRows:!0}),d.items=this.normMenu(d.items),d.selected=this.normMenu(d.selected),this.options=d,a.isArray(d.selected)||(d.selected=[]),a(this.el).data(\"selected\",d.selected),d.url&&this.request(0),this.addSuffix(),this.addMulti();break;case\"file\":b={selected:[],placeholder:w2utils.lang(\"Attach files by dragging and dropping or Click to Select\"),max:0,maxSize:0,maxFileSize:0,maxWidth:250,maxHeight:350,maxDropHeight:350,silent:!0,renderItem:null,style:\"\",onClick:null,onAdd:null,onRemove:null,onMouseOver:null,onMouseOut:null},d=a.extend({},b,d,{align:\"both\",altRows:!0}),this.options=d,a.isArray(d.selected)||(d.selected=[]),a(this.el).data(\"selected\",d.selected),a(this.el).attr(\"placeholder\")&&(d.placeholder=a(this.el).attr(\"placeholder\")),this.addMulti()}this.tmp={onChange:function(a){c.change.call(c,a)},onClick:function(a){c.click.call(c,a)},onFocus:function(a){c.focus.call(c,a)},onBlur:function(a){c.blur.call(c,a)},onKeydown:function(a){c.keyDown.call(c,a)},onKeyup:function(a){c.keyUp.call(c,a)},onKeypress:function(a){c.keyPress.call(c,a)}},a(this.el).addClass(\"w2field\").data(\"w2field\",this).on(\"change\",this.tmp.onChange).on(\"click\",this.tmp.onClick).on(\"focus\",this.tmp.onFocus).on(\"blur\",this.tmp.onBlur).on(\"keydown\",this.tmp.onKeydown).on(\"keyup\",this.tmp.onKeyup).on(\"keypress\",this.tmp.onKeypress).css({\"box-sizing\":\"border-box\",\"-webkit-box-sizing\":\"border-box\",\"-moz-box-sizing\":\"border-box\",\"-ms-box-sizing\":\"border-box\",\"-o-box-sizing\":\"border-box\"}),this.change(a.Event(\"change\"))},clear:function(){var b=this.options;-1!=[\"money\",\"currency\"].indexOf(this.type)&&a(this.el).val(a(this.el).val().replace(b.moneyRE,\"\")),\"percent\"==this.type&&a(this.el).val(a(this.el).val().replace(/%/g,\"\")),\"color\"==this.type&&a(this.el).removeAttr(\"maxlength\"),\"list\"==this.type&&a(this.el).removeClass(\"w2ui-select\"),-1!=[\"date\",\"time\"].indexOf(this.type)&&a(this.el).attr(\"placeholder\")==b.format&&a(this.el).attr(\"placeholder\",\"\"),this.type=\"clear\";var c=a(this.el).data(\"tmp\");if(this.tmp){\"undefined\"!=typeof c&&(c&&c[\"old-padding-left\"]&&a(this.el).css(\"padding-left\",c[\"old-padding-left\"]),c&&c[\"old-padding-right\"]&&a(this.el).css(\"padding-right\",c[\"old-padding-right\"])),a(this.el).val(this.clean(a(this.el).val())).removeClass(\"w2field\").removeData().off(\"change\",this.tmp.onChange).off(\"click\",this.tmp.onClick).off(\"focus\",this.tmp.onFocus).off(\"blur\",this.tmp.onBlur).off(\"keydown\",this.tmp.onKeydown).off(\"keyup\",this.tmp.onKeyup).off(\"keypress\",this.tmp.onKeypress);for(var d in this.helpers)a(this.helpers[d]).remove();this.helpers={}}},refresh:function(){var b=this,c=this.options,d=a(this.el).data(\"selected\"),e=(new Date).getTime();if(-1!=[\"list\"].indexOf(this.type)&&(a(b.el).parent().css(\"white-space\",\"nowrap\"),b.helpers.prefix&&b.helpers.prefix.hide(),setTimeout(function(){if(b.helpers.focus){!a.isEmptyObject(d)&&c.icon?(c.prefix='<span class=\"w2ui-icon '+c.icon+'\"style=\"cursor: pointer; font-size: 14px; display: inline-block; margin-top: -1px; color: #7F98AD;'+c.iconStyle+'\"></span>',b.addPrefix()):(c.prefix=\"\",b.addPrefix());var e=b.helpers.focus.find(\"input\");\"\"==a(e).val()?(a(e).css(\"opacity\",0).prev().css(\"opacity\",0),a(b.el).val(d&&null!=d.text?d.text:\"\"),a(b.el).attr(\"placeholder\",c.placeholder||\"\")):(a(e).css(\"opacity\",1).prev().css(\"opacity\",1),a(b.el).val(\"\"),a(b.el).removeAttr(\"placeholder\"),setTimeout(function(){b.helpers.prefix&&b.helpers.prefix.hide();var d=\"position: absolute; opacity: 0; margin: 4px 0px 0px 2px; background-position: left !important;\";c.icon?(a(e).css(\"margin-left\",\"17px\"),a(b.helpers.focus).find(\".icon-search\").attr(\"style\",d+\"width: 11px !important; display: block; opacity: 1\")):(a(e).css(\"margin-left\",\"0px\"),a(b.helpers.focus).find(\".icon-search\").attr(\"style\",d+\"width: 0px !important; display: none; opacity: 0\"))},1)),a(b.el).prop(\"readonly\")||a(b.el).prop(\"disabled\")?setTimeout(function(){a(b.helpers.prefix).css(\"opacity\",\"0.6\"),a(b.helpers.suffix).css(\"opacity\",\"0.6\")},1):setTimeout(function(){a(b.helpers.prefix).css(\"opacity\",\"1\"),a(b.helpers.suffix).css(\"opacity\",\"1\")},1)}},1)),-1!=[\"enum\",\"file\"].indexOf(this.type)){var f=\"\";for(var g in d){var h=d[g],i=\"\";i=\"function\"==typeof c.renderItem?c.renderItem(h,g,'<div class=\"w2ui-list-remove\" title=\"'+w2utils.lang(\"Remove\")+'\" index=\"'+g+'\">&nbsp;&nbsp;</div>'):'<div class=\"w2ui-list-remove\" title=\"'+w2utils.lang(\"Remove\")+'\" index=\"'+g+'\">&nbsp;&nbsp;</div>'+(\"enum\"==b.type?h.text:h.name+'<span class=\"file-size\"> - '+w2utils.size(h.size)+\"</span>\"),f+='<li index=\"'+g+'\" style=\"max-width: '+parseInt(c.maxWidth)+\"px; \"+(h.style?h.style:\"\")+'\">'+i+\"</li>\"}var j=b.helpers.multi,k=j.find(\"ul\");if(j.attr(\"style\",j.attr(\"style\")+\";\"+c.style),a(b.el).prop(\"readonly\")||a(b.el).prop(\"disabled\")?(j.addClass(\"w2ui-readonly\"),j.css(\"pointer-events\",\"none\").find(\"li\").css(\"opacity\",\"0.6\"),a(b.helpers.multi).find(\"input\").prop(\"readonly\",!0)):(j.removeClass(\"w2ui-readonly\"),j.css(\"pointer-events\",\"auto\").find(\"li\").css(\"opacity\",\"1\"),a(b.helpers.multi).find(\"input\").prop(\"readonly\",!1)),j.find(\".w2ui-enum-placeholder\").remove(),k.find(\"li\").not(\"li.nomouse\").remove(),\"\"!=f)k.prepend(f);else if(\"undefined\"!=typeof c.placeholder){var l=\"padding-top: \"+a(this.el).css(\"padding-top\")+\";padding-left: \"+a(this.el).css(\"padding-left\")+\"; box-sizing: \"+a(this.el).css(\"box-sizing\")+\"; line-height: \"+a(this.el).css(\"line-height\")+\"; font-size: \"+a(this.el).css(\"font-size\")+\"; font-family: \"+a(this.el).css(\"font-family\")+\"; \";j.prepend('<div class=\"w2ui-enum-placeholder\" style=\"'+l+'\">'+c.placeholder+\"</div>\")}j.find(\"li\").data(\"mouse\",\"out\").on(\"click\",function(c){var e=d[a(c.target).attr(\"index\")];if(!a(c.target).hasClass(\"nomouse\")){c.stopPropagation();var f=b.trigger({phase:\"before\",type:\"click\",target:b.el,originalEvent:c.originalEvent,item:e});if(f.isCancelled!==!0){if(a(c.target).hasClass(\"w2ui-list-remove\")){if(a(b.el).attr(\"readonly\")||a(b.el).attr(\"disabled\"))return;var f=b.trigger({phase:\"before\",type:\"remove\",target:b.el,originalEvent:c.originalEvent,item:e});if(f.isCancelled===!0)return;a().w2overlay(),d.splice(a(c.target).attr(\"index\"),1),a(b.el).trigger(\"change\"),a(c.target).parent().fadeOut(\"fast\"),setTimeout(function(){b.refresh(),b.trigger(a.extend(f,{phase:\"after\"}))},300)}if(\"file\"==b.type&&!a(c.target).hasClass(\"w2ui-list-remove\")){var g=\"\";/image/i.test(e.type)&&(g='<div style=\"padding: 3px;\">    <img src=\"'+(e.content?\"data:\"+e.type+\";base64,\"+e.content:\"\")+'\" style=\"max-width: 300px;\"         onload=\"var w = $(this).width(); var h = $(this).height();             if (w < 300 & h < 300) return;             if (w >= h && w > 300) $(this).width(300);            if (w < h && h > 300) $(this).height(300);\"        onerror=\"this.style.display = \\'none\\'\"    ></div>');var h='style=\"padding: 3px; text-align: right; color: #777;\"',i='style=\"padding: 3px\"';g+='<div style=\"padding: 8px;\">    <table cellpadding=\"2\">    <tr><td '+h+\">\"+w2utils.lang(\"Name\")+\":</td><td \"+i+\">\"+e.name+\"</td></tr>    <tr><td \"+h+\">\"+w2utils.lang(\"Size\")+\":</td><td \"+i+\">\"+w2utils.size(e.size)+\"</td></tr>    <tr><td \"+h+\">\"+w2utils.lang(\"Type\")+\":</td><td \"+i+'>        <span style=\"width: 200px; display: block-inline; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;\">'+e.type+\"</span>    </td></tr>    <tr><td \"+h+\">\"+w2utils.lang(\"Modified\")+\":</td><td \"+i+\">\"+w2utils.date(e.modified)+\"</td></tr>    </table></div>\",a(c.target).w2overlay(g)}b.trigger(a.extend(f,{phase:\"after\"}))}}}).on(\"mouseover\",function(c){var e=c.target;if(\"LI\"!=e.tagName&&(e=e.parentNode),!a(e).hasClass(\"nomouse\")){if(\"out\"==a(e).data(\"mouse\")){var f=d[a(e).attr(\"index\")],g=b.trigger({phase:\"before\",type:\"mouseOver\",target:b.el,originalEvent:c.originalEvent,item:f});if(g.isCancelled===!0)return;b.trigger(a.extend(g,{phase:\"after\"}))}a(e).data(\"mouse\",\"over\")}}).on(\"mouseout\",function(c){var e=c.target;\"LI\"!=e.tagName&&(e=e.parentNode),a(e).hasClass(\"nomouse\")||(a(e).data(\"mouse\",\"leaving\"),setTimeout(function(){if(\"leaving\"==a(e).data(\"mouse\")){a(e).data(\"mouse\",\"out\");var f=d[a(e).attr(\"index\")],g=b.trigger({phase:\"before\",type:\"f\",target:b.el,originalEvent:c.originalEvent,item:f});if(g.isCancelled===!0)return;b.trigger(a.extend(g,{phase:\"after\"}))}},0))}),a(this.el).height(\"auto\");var m=a(j).find(\"> div\").height()+2*w2utils.getSize(j,\"+height\");26>m&&(m=26),m>c.maxHeight&&(m=c.maxHeight),j.length>0&&(j[0].scrollTop=1e3);var n=w2utils.getSize(a(this.el),\"height\")-2;n>m&&(m=n),a(j).css({height:m+\"px\",overflow:m==c.maxHeight?\"auto\":\"hidden\"}),m<c.maxHeight&&a(j).prop(\"scrollTop\",0),a(this.el).css({height:m+2+\"px\"})}return(new Date).getTime()-e},reset:function(){var a=this.type;this.clear(),this.type=a,this.init()},clean:function(b){var c=this.options;return b=String(b).trim(),-1!=[\"int\",\"float\",\"money\",\"currency\",\"percent\"].indexOf(this.type)&&(\"string\"==typeof b&&(b=b.replace(c.decimalSymbol,\".\")),c.autoFormat&&-1!=[\"money\",\"currency\"].indexOf(this.type)&&(b=String(b).replace(c.moneyRE,\"\")),c.autoFormat&&\"percent\"==this.type&&(b=String(b).replace(c.percentRE,\"\")),c.autoFormat&&-1!=[\"int\",\"float\"].indexOf(this.type)&&(b=String(b).replace(c.numberRE,\"\")),parseFloat(b)==b&&(null!==c.min&&b<c.min&&(b=c.min,a(this.el).val(c.min)),null!==c.max&&b>c.max&&(b=c.max,a(this.el).val(c.max))),b=\"\"!==b&&w2utils.isFloat(b)?Number(b):\"\"),b},format:function(a){var b=this.options;if(b.autoFormat&&\"\"!=a)switch(this.type){case\"money\":case\"currency\":a=w2utils.formatNumber(Number(a).toFixed(b.currencyPrecision),b.groupSymbol),\"\"!=a&&(a=b.currencyPrefix+a+b.currencySuffix);break;case\"percent\":a=w2utils.formatNumber(b.precision?Number(a).toFixed(b.precision):a,b.groupSymbol),\"\"!=a&&(a+=\"%\");break;case\"float\":a=w2utils.formatNumber(b.precision?Number(a).toFixed(b.precision):a,b.groupSymbol);break;case\"int\":a=w2utils.formatNumber(a,b.groupSymbol)}return a},change:function(b){var c=this,d=c.options;if(-1!=[\"int\",\"float\",\"money\",\"currency\",\"percent\"].indexOf(this.type)){var e=a(this.el).val(),f=this.format(this.clean(a(this.el).val()));if(\"\"!=e&&e!=f)return a(this.el).val(f).change(),b.stopPropagation(),b.preventDefault(),!1}if(\"color\"==this.type){var g=\"#\"+a(this.el).val();6!=a(this.el).val().length&&3!=a(this.el).val().length&&(g=\"\"),a(this.el).next().find(\"div\").css(\"background-color\",g),a(c.el).is(\":focus\")&&this.updateOverlay()}if(-1!=[\"list\",\"enum\",\"file\"].indexOf(this.type)&&(c.refresh(),setTimeout(function(){c.refresh()},5)),-1!=[\"date\",\"time\"].indexOf(this.type)){var h=parseInt(c.el.value);w2utils.isInt(c.el.value)&&h>3e3&&(\"time\"==this.type&&a(c.el).val(w2utils.formatTime(new Date(h),d.format)).change(),\"date\"==this.type&&a(c.el).val(w2utils.formatDate(new Date(h),d.format)).change())}},click:function(b){b.stopPropagation(),-1!=[\"list\",\"combo\",\"enum\"].indexOf(this.type)&&(a(this.el).is(\":focus\")||this.focus(b)),-1!=[\"date\",\"time\",\"color\"].indexOf(this.type)&&this.updateOverlay()},focus:function(){{var b=this;this.options}if(-1!==[\"color\",\"date\",\"time\"].indexOf(b.type)){if(a(b.el).attr(\"readonly\")||a(b.el).attr(\"disabled\"))return;a(\"#w2ui-overlay\").length>0&&a(\"#w2ui-overlay\")[0].hide(),setTimeout(function(){b.updateOverlay()},150)}if(-1!=[\"list\",\"combo\",\"enum\"].indexOf(b.type)){if(a(b.el).attr(\"readonly\")||a(b.el).attr(\"disabled\"))return;a(\"#w2ui-overlay\").length>0&&a(\"#w2ui-overlay\")[0].hide(),setTimeout(function(){return\"list\"==b.type&&a(b.el).is(\":focus\")?void a(b.helpers.focus).find(\"input\").focus():(b.search(),void setTimeout(function(){b.updateOverlay()},1))},1)}\"file\"==b.type&&a(b.helpers.multi).css({outline:\"auto 5px #7DB4F3\",\"outline-offset\":\"-2px\"})},blur:function(){var b=this,c=b.options,d=a(b.el).val().trim();-1!=[\"color\",\"date\",\"time\",\"list\",\"combo\",\"enum\"].indexOf(b.type)&&a(\"#w2ui-overlay\").length>0&&a(\"#w2ui-overlay\")[0].hide(),-1!=[\"int\",\"float\",\"money\",\"currency\",\"percent\"].indexOf(b.type)&&(\"\"===d||b.checkType(d)||(a(b.el).val(\"\").change(),c.silent===!1&&(a(b.el).w2tag(\"Not a valid number\"),setTimeout(function(){a(b.el).w2tag(\"\")},3e3)))),-1!=[\"date\",\"time\"].indexOf(b.type)&&(\"\"===d||b.inRange(b.el.value)?(\"date\"!=b.type||\"\"===d||w2utils.isDate(b.el.value,c.format)||(a(b.el).val(\"\").removeData(\"selected\").change(),c.silent===!1&&(a(b.el).w2tag(\"Not a valid date\"),setTimeout(function(){a(b.el).w2tag(\"\")},3e3))),\"time\"!=b.type||\"\"===d||w2utils.isTime(b.el.value)||(a(b.el).val(\"\").removeData(\"selected\").change(),c.silent===!1&&(a(b.el).w2tag(\"Not a valid time\"),setTimeout(function(){a(b.el).w2tag(\"\")},3e3)))):(a(b.el).val(\"\").removeData(\"selected\").change(),c.silent===!1&&(a(b.el).w2tag(\"Not in range\"),setTimeout(function(){a(b.el).w2tag(\"\")},3e3)))),\"enum\"==b.type&&a(b.helpers.multi).find(\"input\").val(\"\").width(20),\"file\"==b.type&&a(b.helpers.multi).css({outline:\"none\"})},keyPress:function(a){{var b=this;b.options}if(-1!=[\"int\",\"float\",\"money\",\"currency\",\"percent\",\"hex\",\"color\",\"alphanumeric\"].indexOf(b.type)){if(a.metaKey||a.ctrlKey||a.altKey||a.charCode!=a.keyCode&&a.keyCode>0)return;var c=String.fromCharCode(a.charCode);if(!b.checkType(c,!0)&&13!=a.keyCode)return a.preventDefault(),a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,!1}-1!=[\"date\",\"time\"].indexOf(b.type)&&setTimeout(function(){b.updateOverlay()},1)},keyDown:function(b,c){var d=this,e=d.options,f=b.keyCode||c&&c.keyCode;if(-1!=[\"int\",\"float\",\"money\",\"currency\",\"percent\"].indexOf(d.type)){if(!e.keyboard||a(d.el).attr(\"readonly\"))return;var g=!1,h=parseFloat(a(d.el).val().replace(e.moneyRE,\"\"))||0,i=e.step;switch((b.ctrlKey||b.metaKey)&&(i=10),f){case 38:if(b.shiftKey)break;a(d.el).val(h+i<=e.max||null===e.max?Number((h+i).toFixed(12)):e.max).change(),g=!0;break;case 40:if(b.shiftKey)break;a(d.el).val(h-i>=e.min||null===e.min?Number((h-i).toFixed(12)):e.min).change(),g=!0}g&&(b.preventDefault(),setTimeout(function(){d.el.setSelectionRange(d.el.value.length,d.el.value.length)},0))}if(\"date\"==d.type){if(!e.keyboard||a(d.el).attr(\"readonly\"))return;var g=!1,j=864e5,i=1;(b.ctrlKey||b.metaKey)&&(i=10);var k=w2utils.isDate(a(d.el).val(),e.format,!0);switch(k||(k=new Date,j=0),f){case 38:if(b.shiftKey)break;var l=w2utils.formatDate(k.getTime()+j,e.format);10==i&&(l=w2utils.formatDate(new Date(k.getFullYear(),k.getMonth()+1,k.getDate()),e.format)),a(d.el).val(l).change(),g=!0;break;case 40:if(b.shiftKey)break;var l=w2utils.formatDate(k.getTime()-j,e.format);10==i&&(l=w2utils.formatDate(new Date(k.getFullYear(),k.getMonth()-1,k.getDate()),e.format)),a(d.el).val(l).change(),g=!0}g&&(b.preventDefault(),setTimeout(function(){d.el.setSelectionRange(d.el.value.length,d.el.value.length),d.updateOverlay()},0))}if(\"time\"==d.type){if(!e.keyboard||a(d.el).attr(\"readonly\"))return;var g=!1,i=b.ctrlKey||b.metaKey?60:1,h=a(d.el).val(),m=d.toMin(h)||d.toMin((new Date).getHours()+\":\"+((new Date).getMinutes()-1));switch(f){case 38:if(b.shiftKey)break;m+=i,g=!0;break;case 40:if(b.shiftKey)break;m-=i,g=!0}g&&(a(d.el).val(d.fromMin(m)).change(),b.preventDefault(),setTimeout(function(){d.el.setSelectionRange(d.el.value.length,d.el.value.length)},0))}if(\"color\"==d.type){if(a(d.el).attr(\"readonly\"))return;if(86==b.keyCode&&(b.ctrlKey||b.metaKey)&&(a(d.el).prop(\"maxlength\",7),setTimeout(function(){var b=a(d).val();\"#\"==b.substr(0,1)&&(b=b.substr(1)),w2utils.isHex(b)||(b=\"\"),a(d).val(b).prop(\"maxlength\",6).change()},20)),(b.ctrlKey||b.metaKey)&&!b.shiftKey){if(\"undefined\"==typeof d.tmp.cind1)d.tmp.cind1=-1,d.tmp.cind2=-1;else{switch(f){case 38:d.tmp.cind1--;break;case 40:d.tmp.cind1++;break;case 39:d.tmp.cind2++;break;case 37:d.tmp.cind2--}d.tmp.cind1<0&&(d.tmp.cind1=0),d.tmp.cind1>this.pallete.length-1&&(d.tmp.cind1=this.pallete.length-1),d.tmp.cind2<0&&(d.tmp.cind2=0),d.tmp.cind2>this.pallete[0].length-1&&(d.tmp.cind2=this.pallete[0].length-1)}-1!=[37,38,39,40].indexOf(f)&&(a(d.el).val(this.pallete[d.tmp.cind1][d.tmp.cind2]).change(),b.preventDefault())}}if(-1!=[\"list\",\"combo\",\"enum\"].indexOf(d.type)){if(a(d.el).attr(\"readonly\"))return;var g=!1,n=a(d.el).data(\"selected\"),o=a(d.helpers.focus).find(\"input\");switch(\"list\"==d.type&&-1==[37,38,39,40].indexOf(f)&&d.refresh(),f){case 27:\"list\"==d.type&&(\"\"!=a(o).val()&&a(o).val(\"\"),b.stopPropagation());break;case 37:case 39:break;case 13:if(0==a(\"#w2ui-overlay\").length)break;var p=e.items[e.index],q=a(d.helpers.multi).find(\"input\");if(\"enum\"==d.type)if(null!=p){var r=d.trigger({phase:\"before\",type:\"add\",target:d.el,originalEvent:b.originalEvent,item:p});if(r.isCancelled===!0)return;p=r.item,n.length>=e.max&&e.max>0&&n.pop(),delete p.hidden,delete d.tmp.force_open,n.push(p),a(d.el).change(),q.val(\"\").width(20),d.refresh(),d.trigger(a.extend(r,{phase:\"after\"}))}else{p={id:q.val(),text:q.val()};var r=d.trigger({phase:\"before\",type:\"new\",target:d.el,originalEvent:b.originalEvent,item:p});if(r.isCancelled===!0)return;p=r.item,\"function\"==typeof d.onNew&&(n.length>=e.max&&e.max>0&&n.pop(),delete d.tmp.force_open,n.push(p),a(d.el).change(),q.val(\"\").width(20),d.refresh()),d.trigger(a.extend(r,{phase:\"after\"}))}else p&&a(d.el).data(\"selected\",p).val(p.text).change(),\"\"==a(d.el).val()&&a(d.el).data(\"selected\")&&a(d.el).removeData(\"selected\").val(\"\").change(),\"list\"==d.type&&(o.val(\"\"),d.refresh()),d.tmp.force_hide=!0;break;case 8:case 46:if(\"enum\"==d.type&&8==f&&\"\"==a(d.helpers.multi).find(\"input\").val()&&n.length>0){var p=n[n.length-1],r=d.trigger({phase:\"before\",type:\"remove\",target:d.el,originalEvent:b.originalEvent,item:p});if(r.isCancelled===!0)return;n.pop(),a(d.el).trigger(\"change\"),d.refresh(),d.trigger(a.extend(r,{phase:\"after\"}))}\"list\"==d.type&&\"\"==a(o).val()&&(a(d.el).data(\"selected\",{}).change(),d.refresh());break;case 38:for(e.index=w2utils.isInt(e.index)?parseInt(e.index):0,e.index--;e.index>0&&e.items[e.index].hidden;)e.index--;if(0==e.index&&e.items[e.index].hidden)for(;e.items[e.index]&&e.items[e.index].hidden;)e.index++;g=!0;break;case 40:for(e.index=w2utils.isInt(e.index)?parseInt(e.index):-1,e.index++;e.index<e.items.length-1&&e.items[e.index].hidden;)e.index++;if(e.index==e.items.length-1&&e.items[e.index].hidden)for(;e.items[e.index]&&e.items[e.index].hidden;)e.index--;var s=d.el;-1!=[\"enum\"].indexOf(d.type)&&(s=d.helpers.multi.find(\"input\")),\"\"==a(s).val()&&0==a(\"#w2ui-overlay\").length?d.tmp.force_open=!0:g=!0}if(g)return e.index<0&&(e.index=0),e.index>=e.items.length&&(e.index=e.items.length-1),d.updateOverlay(),b.preventDefault(),void setTimeout(function(){if(\"enum\"==d.type){var a=d.helpers.multi.find(\"input\").get(0);a.setSelectionRange(a.value.length,a.value.length)}else if(\"list\"==d.type){var a=d.helpers.focus.find(\"input\").get(0);a.setSelectionRange(a.value.length,a.value.length)}else d.el.setSelectionRange(d.el.value.length,d.el.value.length)},0);if(\"enum\"==d.type){var s=d.helpers.multi.find(\"input\"),t=s.val();s.width(8*(t.length+2)+\"px\")}}},keyUp:function(b){if(\"color\"==this.type&&86==b.keyCode&&(b.ctrlKey||b.metaKey)&&a(this).prop(\"maxlength\",6),-1!=[\"list\",\"combo\",\"enum\"].indexOf(this.type)&&-1==[16,17,18,20,37,39,91].indexOf(b.keyCode)){this.tmp.force_hide||this.request();var c=a(this.helpers.focus).find(\"input\");1==c.val().length&&this.refresh(),this.search()}},clearCache:function(){var a=this.options;a.items=[],this.tmp.xhr_loading=!1,this.tmp.xhr_search=\"\",this.tmp.xhr_total=-1,this.search()},request:function(b){var c=this,d=this.options,e=a(c.el).val()||\"\";if(d.url){if(\"enum\"==c.type){var f=a(c.helpers.multi).find(\"input\");e=0==f.length?\"\":f.val()}if(\"list\"==c.type){var f=a(c.helpers.focus).find(\"input\");e=0==f.length?\"\":f.val()}if(0!=d.minLength&&e.length<d.minLength)return d.items=[],void this.updateOverlay();\"undefined\"==typeof b&&(b=350),\"undefined\"==typeof c.tmp.xhr_search&&(c.tmp.xhr_search=\"\"),\"undefined\"==typeof c.tmp.xhr_total&&(c.tmp.xhr_total=-1),d.url&&1!=a(c.el).prop(\"readonly\")&&(0===d.items.length&&0!==c.tmp.xhr_total||c.tmp.xhr_total==d.cacheMax&&e.length>c.tmp.xhr_search.length||e.length>=c.tmp.xhr_search.length&&e.substr(0,c.tmp.xhr_search.length)!=c.tmp.xhr_search||e.length<c.tmp.xhr_search.length)&&(c.tmp.xhr_loading=!0,c.search(),clearTimeout(c.tmp.timeout),c.tmp.timeout=setTimeout(function(){var b=d.url,f={search:e,max:d.cacheMax};a.extend(f,d.postData);var g=c.trigger({phase:\"before\",type:\"request\",target:c.el,url:b,postData:f});if(g.isCancelled!==!0){b=g.url,f=g.postData,c.tmp.xhr&&c.tmp.xhr.abort();var h={type:\"GET\",url:b,data:f,dataType:\"JSON\"};\"JSON\"==w2utils.settings.dataType&&(h.type=\"POST\",h.data=JSON.stringify(h.data),h.contentType=\"application/json\"),c.tmp.xhr=a.ajax(h).done(function(b,g,h){var i=c.trigger({phase:\"before\",type:\"load\",target:c.el,search:f.search,data:b,xhr:h});if(i.isCancelled!==!0){if(b=i.data,\"string\"==typeof b&&(b=JSON.parse(b)),\"success\"!=b.status)return void console.log(\"ERROR: server did not return proper structure. It should return\",{status:\"success\",items:[{id:1,text:\"item\"}]});b.items.length>d.cacheMax&&b.items.splice(d.cacheMax,1e5),c.tmp.xhr_loading=!1,c.tmp.xhr_search=e,c.tmp.xhr_total=b.items.length,d.items=c.normMenu(b.items),c.tmp.emptySet=\"\"==e&&0==b.items.length?!0:!1,c.search(),c.trigger(a.extend(i,{phase:\"after\"}))}}).fail(function(b,d,f){var g={status:d,error:f,rawResponseText:b.responseText},h=c.trigger({phase:\"before\",type:\"error\",target:c.el,search:e,error:g,xhr:b});if(h.isCancelled!==!0){if(\"abort\"!=d){var i;try{i=a.parseJSON(b.responseText)}catch(j){}console.log(\"ERROR: Server communication failed.\",\"\\n   EXPECTED:\",{status:\"success\",items:[{id:1,text:\"item\"}]},\"\\n         OR:\",{status:\"error\",message:\"error message\"},\"\\n   RECEIVED:\",\"object\"==typeof i?i:b.responseText)}c.clearCache(),c.trigger(a.extend(h,{phase:\"after\"}))}}),c.trigger(a.extend(g,{phase:\"after\"}))}},b))}},search:function(){var b=this,c=this.options,d=a(b.el).val(),e=b.el,f=[],g=a(b.el).data(\"selected\");if(\"enum\"==b.type){e=a(b.helpers.multi).find(\"input\"),d=e.val();for(var h in g)g[h]&&f.push(g[h].id)}if(\"list\"==b.type){e=a(b.helpers.focus).find(\"input\"),d=e.val();for(var h in g)g[h]&&f.push(g[h].id)}var i=b.trigger({phase:\"before\",type:\"search\",target:e,search:d});if(i.isCancelled!==!0){if(b.tmp.xhr_loading!==!0){var j=0;for(var k in c.items){var l=c.items[k],m=\"\",n=\"\";-1!=[\"is\",\"begins\"].indexOf(c.match)&&(m=\"^\"),-1!=[\"is\",\"ends\"].indexOf(c.match)&&(n=\"$\");try{var o=new RegExp(m+d+n,\"i\");l.hidden=o.test(l.text)||\"...\"==l.text?!1:!0}catch(p){}\"enum\"==b.type&&-1!=a.inArray(l.id,f)&&(l.hidden=!0),l.hidden!==!0&&j++}if(\"combo\"!=b.type)for(c.index=0;c.items[c.index]&&c.items[c.index].hidden;)c.index++;else c.index=-1;0>=j&&(c.index=-1),c.spinner=!1,b.updateOverlay(),setTimeout(function(){var b=a(\"#w2ui-overlay\").html()||\"\";c.markSearch&&-1!=b.indexOf(\"$.fn.w2menuHandler\")&&a(\"#w2ui-overlay\").w2marker(d)},1)}else c.items.splice(0,c.cacheMax),c.spinner=!0,b.updateOverlay();b.trigger(a.extend(i,{phase:\"after\"}))}},updateOverlay:function(){var b=this,c=this.options;if(\"color\"==this.type){if(a(b.el).attr(\"readonly\"))return;0==a(\"#w2ui-overlay\").length?a(b.el).w2overlay(b.getColorHTML()):a(\"#w2ui-overlay\").html(b.getColorHTML()),a(\"#w2ui-overlay .color\").on(\"mousedown\",function(c){var d=a(c.originalEvent.target).attr(\"name\"),e=a(c.originalEvent.target).attr(\"index\").split(\":\");b.tmp.cind1=e[0],b.tmp.cind2=e[1],a(b.el).val(d).change(),a(this).html(\"&#149;\")}).on(\"mouseup\",function(){setTimeout(function(){a(\"#w2ui-overlay\").length>0&&a(\"#w2ui-overlay\").removeData(\"keepOpen\")[0].hide()},10)})}if(\"date\"==this.type){if(a(b.el).attr(\"readonly\"))return;0==a(\"#w2ui-overlay\").length&&a(b.el).w2overlay('<div class=\"w2ui-reset w2ui-calendar\" onclick=\"event.stopPropagation();\"></div>',{css:{\"background-color\":\"#f5f5f5\"}});var d,e,f=w2utils.isDate(a(b.el).val(),b.options.format,!0);\nf&&(d=f.getMonth()+1,e=f.getFullYear()),function k(c,d){a(\"#w2ui-overlay > div > div\").html(b.getMonthHTML(c,d)),a(\"#w2ui-overlay .w2ui-calendar-title\").on(\"mousedown\",function(){if(a(this).next().hasClass(\"w2ui-calendar-jump\"))a(this).next().remove();else{var c,d;a(this).after('<div class=\"w2ui-calendar-jump\" style=\"\"></div>'),a(this).next().hide().html(b.getYearHTML()).fadeIn(200),setTimeout(function(){a(\"#w2ui-overlay .w2ui-calendar-jump\").find(\".w2ui-jump-month, .w2ui-jump-year\").on(\"click\",function(){a(this).hasClass(\"w2ui-jump-month\")&&(a(this).parent().find(\".w2ui-jump-month\").removeClass(\"selected\"),a(this).addClass(\"selected\"),d=a(this).attr(\"name\")),a(this).hasClass(\"w2ui-jump-year\")&&(a(this).parent().find(\".w2ui-jump-year\").removeClass(\"selected\"),a(this).addClass(\"selected\"),c=a(this).attr(\"name\")),null!=c&&null!=d&&(a(\"#w2ui-overlay .w2ui-calendar-jump\").fadeOut(100),setTimeout(function(){k(parseInt(d)+1,c)},100))}),a(\"#w2ui-overlay .w2ui-calendar-jump >:last-child\").prop(\"scrollTop\",2e3)},1)}}),a(\"#w2ui-overlay .w2ui-date\").on(\"mousedown\",function(){var c=a(this).attr(\"date\");a(b.el).val(c).change(),a(this).css({\"background-color\":\"#B6D5FB\",\"border-color\":\"#aaa\"})}).on(\"mouseup\",function(){setTimeout(function(){a(\"#w2ui-overlay\").length>0&&a(\"#w2ui-overlay\").removeData(\"keepOpen\")[0].hide()},10)}),a(\"#w2ui-overlay .previous\").on(\"mousedown\",function(){var a=b.options.current.split(\"/\");a[0]=parseInt(a[0])-1,k(a[0],a[1])}),a(\"#w2ui-overlay .next\").on(\"mousedown\",function(){var a=b.options.current.split(\"/\");a[0]=parseInt(a[0])+1,k(a[0],a[1])})}(d,e)}if(\"time\"==this.type){if(a(b.el).attr(\"readonly\"))return;0==a(\"#w2ui-overlay\").length&&a(b.el).w2overlay('<div class=\"w2ui-reset w2ui-calendar-time\" onclick=\"event.stopPropagation();\"></div>',{css:{\"background-color\":\"#fff\"}});var g=\"h24\"==this.options.format?!0:!1;a(\"#w2ui-overlay > div\").html(b.getHourHTML()),a(\"#w2ui-overlay .w2ui-time\").on(\"mousedown\",function(){a(this).css({\"background-color\":\"#B6D5FB\",\"border-color\":\"#aaa\"});var c=a(this).attr(\"hour\");a(b.el).val((c>12&&!g?c-12:c)+\":00\"+(g?\"\":12>c?\" am\":\" pm\")).change()}).on(\"mouseup\",function(){var c=a(this).attr(\"hour\");a(\"#w2ui-overlay\").length>0&&a(\"#w2ui-overlay\")[0].hide(),a(b.el).w2overlay('<div class=\"w2ui-reset w2ui-calendar-time\"></div>',{css:{\"background-color\":\"#fff\"}}),a(\"#w2ui-overlay > div\").html(b.getMinHTML(c)),a(\"#w2ui-overlay .w2ui-time\").on(\"mousedown\",function(){a(this).css({\"background-color\":\"#B6D5FB\",\"border-color\":\"#aaa\"});var d=a(this).attr(\"min\");a(b.el).val((c>12&&!g?c-12:c)+\":\"+(10>d?0:\"\")+d+(g?\"\":12>c?\" am\":\" pm\")).change()}).on(\"mouseup\",function(){setTimeout(function(){a(\"#w2ui-overlay\").length>0&&a(\"#w2ui-overlay\").removeData(\"keepOpen\")[0].hide()},10)})})}if(-1!=[\"list\",\"combo\",\"enum\"].indexOf(this.type)){var h=this.el,i=this.el;if(\"enum\"==this.type&&(h=a(this.helpers.multi),i=a(h).find(\"input\")),\"list\"==this.type&&(i=a(this.helpers.focus).find(\"input\")),a(i).is(\":focus\")){if(c.openOnFocus===!1&&\"\"==a(i).val()&&b.tmp.force_open!==!0)return void a().w2overlay();if(b.tmp.force_hide)return a().w2overlay(),void setTimeout(function(){delete b.tmp.force_hide},1);\"\"!=a(i).val()&&delete b.tmp.force_open,0==a(\"#w2ui-overlay\").length&&(c.index=0);var j=w2utils.lang(\"No matches\");null!=c.url&&a(i).val().length<c.minLength&&b.tmp.emptySet!==!0&&(j=c.minLength+\" \"+w2utils.lang(\"letters or more...\")),null!=c.url&&\"\"==a(i).val()&&b.tmp.emptySet!==!0&&(j=w2utils.lang(\"Type to search....\")),a(h).w2menu(\"refresh\",a.extend(!0,{},c,{search:!1,render:c.renderDrop,maxHeight:c.maxDropHeight,msgNoItems:j,onSelect:function(d){if(\"enum\"==b.type){var e=a(b.el).data(\"selected\");if(d.item){var f=b.trigger({phase:\"before\",type:\"add\",target:b.el,originalEvent:d.originalEvent,item:d.item});if(f.isCancelled===!0)return;e.length>=c.max&&c.max>0&&e.pop(),delete d.item.hidden,e.push(d.item),a(b.el).data(\"selected\",e).change(),a(b.helpers.multi).find(\"input\").val(\"\").width(20),b.refresh(),a(\"#w2ui-overlay\").length>0&&a(\"#w2ui-overlay\")[0].hide(),b.trigger(a.extend(f,{phase:\"after\"}))}}else a(b.el).data(\"selected\",d.item).val(d.item.text).change(),b.helpers.focus&&b.helpers.focus.find(\"input\").val(\"\")}}))}}},inRange:function(b){var c=!1;if(\"date\"==this.type){var d=w2utils.isDate(b,this.options.format,!0);if(d){if(this.options.start||this.options.end){var e=\"string\"==typeof this.options.start?this.options.start:a(this.options.start).val(),f=\"string\"==typeof this.options.end?this.options.end:a(this.options.end).val(),g=w2utils.isDate(e,this.options.format,!0),h=w2utils.isDate(f,this.options.format,!0),i=new Date(d);g||(g=i),h||(h=i),i>=g&&h>=i&&(c=!0)}else c=!0;this.options.blocked&&-1!=a.inArray(b,this.options.blocked)&&(c=!1)}}if(\"time\"==this.type)if(this.options.start||this.options.end){var j=this.toMin(b),k=this.toMin(this.options.start),l=this.toMin(this.options.end);k||(k=j),l||(l=j),j>=k&&l>=j&&(c=!0)}else c=!0;return c},checkType:function(a,b){var c=this;switch(c.type){case\"int\":return b&&-1!=[\"-\",c.options.groupSymbol].indexOf(a)?!0:w2utils.isInt(a.replace(c.options.numberRE,\"\"));case\"percent\":a=a.replace(/%/g,\"\");case\"float\":return b&&-1!=[\"-\",w2utils.settings.decimalSymbol,c.options.groupSymbol].indexOf(a)?!0:w2utils.isFloat(a.replace(c.options.numberRE,\"\"));case\"money\":case\"currency\":return b&&-1!=[\"-\",c.options.decimalSymbol,c.options.groupSymbol,c.options.currencyPrefix,c.options.currencySuffix].indexOf(a)?!0:w2utils.isFloat(a.replace(c.options.moneyRE,\"\"));case\"hex\":case\"color\":return w2utils.isHex(a);case\"alphanumeric\":return w2utils.isAlphaNumeric(a)}return!0},addPrefix:function(){var b=this;setTimeout(function(){if(\"clear\"!==b.type){var c,d=a(b.el).data(\"tmp\")||{};d[\"old-padding-left\"]&&a(b.el).css(\"padding-left\",d[\"old-padding-left\"]),d[\"old-padding-left\"]=a(b.el).css(\"padding-left\"),a(b.el).data(\"tmp\",d),b.helpers.prefix&&a(b.helpers.prefix).remove(),\"\"!==b.options.prefix&&(a(b.el).before('<div class=\"w2ui-field-helper\">'+b.options.prefix+\"</div>\"),c=a(b.el).prev(),c.css({color:a(b.el).css(\"color\"),\"font-family\":a(b.el).css(\"font-family\"),\"font-size\":a(b.el).css(\"font-size\"),\"padding-top\":a(b.el).css(\"padding-top\"),\"padding-bottom\":a(b.el).css(\"padding-bottom\"),\"padding-left\":a(b.el).css(\"padding-left\"),\"padding-right\":0,\"margin-top\":parseInt(a(b.el).css(\"margin-top\"),10)+2+\"px\",\"margin-bottom\":parseInt(a(b.el).css(\"margin-bottom\"),10)+1+\"px\",\"margin-left\":a(b.el).css(\"margin-left\"),\"margin-right\":0}).on(\"click\",function(){if(b.options.icon&&\"function\"==typeof b.onIconClick){var c=b.trigger({phase:\"before\",type:\"iconClick\",target:b.el,el:a(this).find(\"span.w2ui-icon\")[0]});if(c.isCancelled===!0)return;b.trigger(a.extend(c,{phase:\"after\"}))}else\"list\"==b.type?a(b.helpers.focus).find(\"input\").focus():a(b.el).focus()}),a(b.el).css(\"padding-left\",c.width()+parseInt(a(b.el).css(\"padding-left\"),10)+\"px\"),b.helpers.prefix=c)}},1)},addSuffix:function(){var b,c,d=this;setTimeout(function(){if(\"clear\"!==d.type){var e=a(d.el).data(\"tmp\")||{};if(e[\"old-padding-right\"]&&a(d.el).css(\"padding-right\",e[\"old-padding-right\"]),e[\"old-padding-right\"]=a(d.el).css(\"padding-right\"),a(d.el).data(\"tmp\",e),c=parseInt(a(d.el).css(\"padding-right\"),10),d.options.arrows){d.helpers.arrows&&a(d.helpers.arrows).remove(),a(d.el).after('<div class=\"w2ui-field-helper\" style=\"border: 1px solid transparent\">&nbsp;    <div class=\"w2ui-field-up\" type=\"up\">        <div class=\"arrow-up\" type=\"up\"></div>    </div>    <div class=\"w2ui-field-down\" type=\"down\">        <div class=\"arrow-down\" type=\"down\"></div>    </div></div>');{w2utils.getSize(d.el,\"height\")}b=a(d.el).next(),b.css({color:a(d.el).css(\"color\"),\"font-family\":a(d.el).css(\"font-family\"),\"font-size\":a(d.el).css(\"font-size\"),height:a(d.el).height()+parseInt(a(d.el).css(\"padding-top\"),10)+parseInt(a(d.el).css(\"padding-bottom\"),10)+\"px\",padding:0,\"margin-top\":parseInt(a(d.el).css(\"margin-top\"),10)+1+\"px\",\"margin-bottom\":0,\"border-left\":\"1px solid silver\"}).css(\"margin-left\",\"-\"+(b.width()+parseInt(a(d.el).css(\"margin-right\"),10)+12)+\"px\").on(\"mousedown\",function(b){function c(){clearTimeout(a(\"body\").data(\"_field_update_timer\")),a(\"body\").off(\"mouseup\",c)}function e(c){a(d.el).focus(),d.keyDown(a.Event(\"keydown\"),{keyCode:\"up\"==a(b.target).attr(\"type\")?38:40}),c!==!1&&a(\"body\").data(\"_field_update_timer\",setTimeout(e,60))}a(\"body\").on(\"mouseup\",c),a(\"body\").data(\"_field_update_timer\",setTimeout(e,700)),e(!1)}),c+=b.width()+12,a(d.el).css(\"padding-right\",c+\"px\"),d.helpers.arrows=b}\"\"!==d.options.suffix&&(d.helpers.suffix&&a(d.helpers.suffix).remove(),a(d.el).after('<div class=\"w2ui-field-helper\">'+d.options.suffix+\"</div>\"),b=a(d.el).next(),b.css({color:a(d.el).css(\"color\"),\"font-family\":a(d.el).css(\"font-family\"),\"font-size\":a(d.el).css(\"font-size\"),\"padding-top\":a(d.el).css(\"padding-top\"),\"padding-bottom\":a(d.el).css(\"padding-bottom\"),\"padding-left\":\"3px\",\"padding-right\":a(d.el).css(\"padding-right\"),\"margin-top\":parseInt(a(d.el).css(\"margin-top\"),10)+2+\"px\",\"margin-bottom\":parseInt(a(d.el).css(\"margin-bottom\"),10)+1+\"px\"}).on(\"click\",function(){\"list\"==d.type?a(d.helpers.focus).find(\"input\").focus():a(d.el).focus()}),b.css(\"margin-left\",\"-\"+(w2utils.getSize(b,\"width\")+parseInt(a(d.el).css(\"margin-right\"),10)+2)+\"px\"),c+=b.width()+3,a(d.el).css(\"padding-right\",c+\"px\"),d.helpers.suffix=b)}},1)},addFocus:function(){var b=this,c=(this.options,0);a(b.helpers.focus).remove();var d=a(b.el).attr(\"tabIndex\");d&&-1!=d&&(b.el._tabIndex=d),b.el._tabIndex&&(d=b.el._tabIndex);var e='<div class=\"w2ui-field-helper\">    <div class=\"w2ui-icon icon-search\" style=\"display: none\"></div>    <input type=\"text\" autocomplete=\"off\" tabindex=\"'+d+'\"><div>';a(b.el).attr(\"tabindex\",-1).before(e);var f=a(b.el).prev();b.helpers.focus=f,f.css({width:a(b.el).width(),\"margin-top\":a(b.el).css(\"margin-top\"),\"margin-left\":parseInt(a(b.el).css(\"margin-left\"))+parseInt(a(b.el).css(\"padding-left\"))+\"px\",\"margin-bottom\":a(b.el).css(\"margin-bottom\"),\"margin-right\":a(b.el).css(\"margin-right\")}).find(\"input\").css({cursor:\"default\",width:\"100%\",outline:\"none\",opacity:1,margin:0,border:\"1px solid transparent\",padding:a(b.el).css(\"padding-top\"),\"padding-left\":0,\"margin-left\":c>0?c+6:0,\"background-color\":\"transparent\"}),f.find(\"input\").on(\"click\",function(c){0==a(\"#w2ui-overlay\").length&&b.focus(c),c.stopPropagation()}).on(\"focus\",function(c){a(b.el).css({outline:\"auto 5px #7DB4F3\",\"outline-offset\":\"-2px\"}),a(this).val(\"\"),a(b.el).triggerHandler(\"focus\"),c.stopPropagation?c.stopPropagation():c.cancelBubble=!0}).on(\"blur\",function(c){a(b.el).css(\"outline\",\"none\"),a(this).val(\"\"),b.refresh(),a(b.el).triggerHandler(\"blur\"),c.stopPropagation?c.stopPropagation():c.cancelBubble=!0}).on(\"keyup\",function(a){b.keyUp(a)}).on(\"keydown\",function(a){b.keyDown(a)}).on(\"keypress\",function(a){b.keyPress(a)}),f.on(\"click\",function(){a(this).find(\"input\").focus()}),b.refresh()},addMulti:function(){{var b=this;this.options}a(b.helpers.multi).remove();var c=\"\",d=\"margin-top     : 0px; margin-bottom  : 0px; margin-left    : \"+a(b.el).css(\"margin-left\")+\"; margin-right   : \"+a(b.el).css(\"margin-right\")+\"; width          : \"+(w2utils.getSize(b.el,\"width\")-parseInt(a(b.el).css(\"margin-left\"),10)-parseInt(a(b.el).css(\"margin-right\"),10))+\"px;\";\"enum\"==b.type&&(c='<div class=\"w2ui-field-helper w2ui-list\" style=\"'+d+'; box-sizing: border-box\">    <div style=\"padding: 0px; margin: 0px; margin-right: 20px; display: inline-block\">    <ul>        <li style=\"padding-left: 0px; padding-right: 0px\" class=\"nomouse\">            <input type=\"text\" style=\"width: 20px\" autocomplete=\"off\" '+(a(b.el).attr(\"readonly\")?\"readonly\":\"\")+\">        </li>    </ul>    </div></div>\"),\"file\"==b.type&&(c='<div class=\"w2ui-field-helper w2ui-list\" style=\"'+d+'; box-sizing: border-box\">    <div style=\"padding: 0px; margin: 0px; margin-right: 20px; display: inline-block\">    <ul><li style=\"padding-left: 0px; padding-right: 0px\" class=\"nomouse\"></li></ul>    <input class=\"file-input\" type=\"file\" name=\"attachment\" multiple style=\"display: none\" tabindex=\"-1\">    </div></div>'),a(b.el).before(c).css({\"background-color\":\"transparent\",\"border-color\":\"transparent\"});var e=a(b.el).prev();b.helpers.multi=e,\"enum\"==b.type&&(a(b.el).attr(\"tabindex\",-1),e.find(\"input\").on(\"click\",function(c){0==a(\"#w2ui-overlay\").length&&b.focus(c),a(b.el).triggerHandler(\"click\")}).on(\"focus\",function(c){a(e).css({outline:\"auto 5px #7DB4F3\",\"outline-offset\":\"-2px\"}),a(b.el).triggerHandler(\"focus\"),c.stopPropagation?c.stopPropagation():c.cancelBubble=!0}).on(\"blur\",function(c){a(e).css(\"outline\",\"none\"),a(b.el).triggerHandler(\"blur\"),c.stopPropagation?c.stopPropagation():c.cancelBubble=!0}).on(\"keyup\",function(a){b.keyUp(a)}).on(\"keydown\",function(a){b.keyDown(a)}).on(\"keypress\",function(a){e.find(\".w2ui-enum-placeholder\").remove(),b.keyPress(a)}),e.on(\"click\",function(){a(this).find(\"input\").focus()})),\"file\"==b.type&&(a(b.el).css(\"outline\",\"none\"),e.on(\"click\",function(c){a(b.el).focus(),a(b.el).attr(\"readonly\")||(b.blur(c),e.find(\"input\").click())}).on(\"dragenter\",function(){a(b.el).attr(\"readonly\")||a(e).addClass(\"w2ui-file-dragover\")}).on(\"dragleave\",function(c){if(!a(b.el).attr(\"readonly\")){var d=a(c.target).parents(\".w2ui-field-helper\");0==d.length&&a(e).removeClass(\"w2ui-file-dragover\")}}).on(\"drop\",function(c){if(!a(b.el).attr(\"readonly\")){a(e).removeClass(\"w2ui-file-dragover\");for(var d=c.originalEvent.dataTransfer.files,f=0,g=d.length;g>f;f++)b.addFile.call(b,d[f]);c.preventDefault(),c.stopPropagation()}}).on(\"dragover\",function(a){a.preventDefault(),a.stopPropagation()}),e.find(\"input\").on(\"click\",function(a){a.stopPropagation()}).on(\"change\",function(){if(\"undefined\"!=typeof this.files)for(var a=0,c=this.files.length;c>a;a++)b.addFile.call(b,this.files[a])})),b.refresh()},addFile:function(b){var c,d=this,e=this.options,f=a(d.el).data(\"selected\"),g={name:b.name,type:b.type,modified:b.lastModifiedDate,size:b.size,content:null},h=0,i=0;for(var j in f){if(f[j].name==b.name&&f[j].size==b.size)return;h+=f[j].size,i++}var k=d.trigger({phase:\"before\",type:\"add\",target:d.el,file:g,total:i,totalSize:h});if(k.isCancelled!==!0){if(0!==e.maxFileSize&&g.size>e.maxFileSize)return c=\"Maximum file size is \"+w2utils.size(e.maxFileSize),e.silent===!1&&a(d.el).w2tag(c),void console.log(\"ERROR: \"+c);if(0!==e.maxSize&&h+g.size>e.maxSize)return c=\"Maximum total size is \"+w2utils.size(e.maxSize),e.silent===!1&&a(d.el).w2tag(c),void console.log(\"ERROR: \"+c);if(0!==e.max&&i>=e.max)return c=\"Maximum number of files is \"+e.max,e.silent===!1&&a(d.el).w2tag(c),void console.log(\"ERROR: \"+c);if(f.push(g),\"undefined\"!=typeof FileReader){var l=new FileReader;l.onload=function(){return function(b){var c=b.target.result,e=c.indexOf(\",\");g.content=c.substr(e+1),d.refresh(),a(d.el).trigger(\"change\"),d.trigger(a.extend(k,{phase:\"after\"}))}}(),l.readAsDataURL(b)}else d.refresh(),a(d.el).trigger(\"change\")}},normMenu:function(b){if(a.isArray(b)){for(var c=0;c<b.length;c++)\"string\"==typeof b[c]?b[c]={id:b[c],text:b[c]}:(\"undefined\"!=typeof b[c].text&&\"undefined\"==typeof b[c].id&&(b[c].id=b[c].text),\"undefined\"==typeof b[c].text&&\"undefined\"!=typeof b[c].id&&(b[c].text=b[c].id),\"undefined\"!=typeof b[c].caption&&(b[c].text=b[c].caption));return b}if(\"object\"==typeof b){var d=[];for(var c in b)d.push({id:c,text:b[c]});return d}},getColorHTML:function(){for(var b='<div class=\"w2ui-color\"><table cellspacing=\"5\">',c=0;8>c;c++){b+=\"<tr>\";for(var d=0;8>d;d++)b+='<td>    <div class=\"color\" style=\"background-color: #'+this.pallete[c][d]+';\" name=\"'+this.pallete[c][d]+'\" index=\"'+c+\":\"+d+'\">        '+(a(this.el).val()==this.pallete[c][d]?\"&#149;\":\"&nbsp;\")+\"    </div></td>\";b+=\"</tr>\",2>c&&(b+='<tr><td style=\"height: 8px\" colspan=\"8\"></td></tr>')}return b+=\"</table></div>\"},getMonthHTML:function(a,b){var c=new Date,d=w2utils.settings.fullmonths,e=(w2utils.settings.fulldays,[\"31\",\"28\",\"31\",\"30\",\"31\",\"30\",\"31\",\"31\",\"30\",\"31\",\"30\",\"31\"]),f=c.getFullYear()+\"/\"+(Number(c.getMonth())+1)+\"/\"+c.getDate();b=w2utils.isInt(b)?parseInt(b):c.getFullYear(),a=w2utils.isInt(a)?parseInt(a):c.getMonth()+1,a>12&&(a-=12,b++),(1>a||0===a)&&(a+=12,b--),e[1]=b/4==Math.floor(b/4)?\"29\":\"28\",this.options.current=a+\"/\"+b,c=new Date(b,a-1,1);for(var g=c.getDay(),h=w2utils.settings.shortdays,i=\"\",j=0,k=h.length;k>j;j++)i+=\"<td>\"+h[j]+\"</td>\";for(var l='<div class=\"w2ui-calendar-title title\">    <div class=\"w2ui-calendar-previous previous\"> <div></div> </div>    <div class=\"w2ui-calendar-next next\"> <div></div> </div> '+d[a-1]+\", \"+b+'</div><table class=\"w2ui-calendar-days\" cellspacing=\"0\">    <tr class=\"w2ui-day-title\">'+i+\"</tr>    <tr>\",m=1,n=1;43>n;n++){if(0===g&&1==n){for(var o=0;6>o;o++)l+='<td class=\"w2ui-day-empty\">&nbsp;</td>';n+=6}else if(g>n||m>e[a-1]){l+='<td class=\"w2ui-day-empty\">&nbsp;</td>',n%7===0&&(l+=\"</tr><tr>\");continue}var p=b+\"/\"+a+\"/\"+m,q=\"\";n%7==6&&(q=\" w2ui-saturday\"),n%7===0&&(q=\" w2ui-sunday\"),p==f&&(q+=\" w2ui-today\");var r=m,s=\"\",t=\"\",u=w2utils.formatDate(p,this.options.format);this.options.colored&&void 0!==this.options.colored[u]&&(tmp=this.options.colored[u].split(\":\"),t=\"background-color: \"+tmp[0]+\";\",s=\"color: \"+tmp[1]+\";\"),l+='<td class=\"'+(this.inRange(u)?\"w2ui-date \":\"w2ui-blocked\")+q+'\" style=\"'+s+t+'\" date=\"'+u+'\">'+r+\"</td>\",(n%7===0||0===g&&1==n)&&(l+=\"</tr><tr>\"),m++}return l+=\"</tr></table>\"},getYearHTML:function(){var a=w2utils.settings.shortmonths,b=\"\",c=\"\";for(var d in a)b+='<div class=\"w2ui-jump-month\" name=\"'+d+'\">'+a[d]+\"</div>\";for(var e=1950;2020>=e;e++)c+='<div class=\"w2ui-jump-year\" name=\"'+e+'\">'+e+\"</div>\";return\"<div>\"+b+\"</div><div>\"+c+\"</div>\"},getHourHTML:function(){for(var a=[],b=\"h24\"==this.options.format?!0:!1,c=0;24>c;c++){var d=(c>=12&&!b?c-12:c)+\":00\"+(b?\"\":12>c?\" am\":\" pm\");12!=c||b||(d=\"12:00 pm\"),a[Math.floor(c/8)]||(a[Math.floor(c/8)]=\"\");var e=this.fromMin(this.toMin(d)),f=this.fromMin(this.toMin(d)+59);a[Math.floor(c/8)]+='<div class=\"'+(this.inRange(e)||this.inRange(f)?\"w2ui-time \":\"w2ui-blocked\")+'\" hour=\"'+c+'\">'+d+\"</div>\"}var g='<div class=\"w2ui-calendar-time\"><table><tr>    <td>'+a[0]+\"</td>    <td>\"+a[1]+\"</td>    <td>\"+a[2]+\"</td></tr></table></div>\";return g},getMinHTML:function(a){\"undefined\"==typeof a&&(a=0);for(var b=\"h24\"==this.options.format?!0:!1,c=[],d=0;60>d;d+=5){var e=(a>12&&!b?a-12:a)+\":\"+(10>d?0:\"\")+d+\" \"+(b?\"\":12>a?\"am\":\"pm\"),f=20>d?0:40>d?1:2;c[f]||(c[f]=\"\"),c[f]+='<div class=\"'+(this.inRange(e)?\"w2ui-time \":\"w2ui-blocked\")+'\" min=\"'+d+'\">'+e+\"</div>\"}var g='<div class=\"w2ui-calendar-time\"><table><tr>    <td>'+c[0]+\"</td>    <td>\"+c[1]+\"</td>    <td>\"+c[2]+\"</td></tr></table></div>\";return g},toMin:function(a){if(\"string\"!=typeof a)return null;var b=a.split(\":\");return 2!=b.length?null:(b[0]=parseInt(b[0]),b[1]=parseInt(b[1]),-1!=a.indexOf(\"pm\")&&12!=b[0]&&(b[0]+=12),60*b[0]+b[1])},fromMin:function(a){var b=\"\";a>=1440&&(a%=1440),0>a&&(a=1440+a);var c=Math.floor(a/60),d=(10>a%60?\"0\":\"\")+a%60;return b=-1!=this.options.format.indexOf(\"h24\")?c+\":\"+d:(12>=c?c:c-12)+\":\"+d+\" \"+(c>=12?\"pm\":\"am\")}},a.extend(b.prototype,w2utils.event),w2obj.field=b}(jQuery),function(){var w2form=function(a){this.name=null,this.header=\"\",this.box=null,this.url=\"\",this.routeData={},this.formURL=\"\",this.formHTML=\"\",this.page=0,this.recid=0,this.fields=[],this.actions={},this.record={},this.original={},this.postData={},this.toolbar={},this.tabs={},this.style=\"\",this.focus=0,this.msgNotJSON=w2utils.lang(\"Return data is not in JSON format.\"),this.msgAJAXerror=w2utils.lang(\"AJAX error. See console for more details.\"),this.msgRefresh=w2utils.lang(\"Refreshing...\"),this.msgSaving=w2utils.lang(\"Saving...\"),this.onRequest=null,this.onLoad=null,this.onValidate=null,this.onSubmit=null,this.onSave=null,this.onChange=null,this.onRender=null,this.onRefresh=null,this.onResize=null,this.onDestroy=null,this.onAction=null,this.onToolbar=null,this.onError=null,this.isGenerated=!1,this.last={xhr:null},$.extend(!0,this,w2obj.form,a)};$.fn.w2form=function(a){if(\"object\"==typeof a||!a){var b=this;if(!w2utils.checkName(a,\"w2form\"))return;var c=a.record,d=a.original,e=a.fields,f=a.toolbar,g=a.tabs,h=new w2form(a);if($.extend(h,{record:{},original:{},fields:[],tabs:{},toolbar:{},handlers:[]}),$.isArray(g)){$.extend(!0,h.tabs,{tabs:[]});for(var i in g){var j=g[i];h.tabs.tabs.push(\"object\"==typeof j?j:{id:j,caption:j})}}else $.extend(!0,h.tabs,g);$.extend(!0,h.toolbar,f);for(var k in e){var l=$.extend(!0,{},e[k]);\"undefined\"==typeof l.name&&\"undefined\"!=typeof l.field&&(l.name=l.field),\"undefined\"==typeof l.field&&\"undefined\"!=typeof l.name&&(l.field=l.name),h.fields[k]=l}for(var k in c)h.record[k]=$.isPlainObject(c[k])?$.extend(!0,{},c[k]):c[k];for(var k in d)h.original[k]=$.isPlainObject(d[k])?$.extend(!0,{},d[k]):d[k];return b.length>0&&(h.box=b[0]),\"\"!=h.formURL?$.get(h.formURL,function(a){h.formHTML=a,h.isGenerated=!0,(0!=$(h.box).length||0!=a.length)&&($(h.box).html(a),h.render(h.box))}):\"\"!=h.formHTML||(h.formHTML=0!=$(this).length&&\"\"!=$.trim($(this).html())?$(this).html():h.generateHTML()),w2ui[h.name]=h,\"\"==h.formURL&&(-1==String(h.formHTML).indexOf(\"w2ui-page\")&&(h.formHTML='<div class=\"w2ui-page page-0\">'+h.formHTML+\"</div>\"),$(h.box).html(h.formHTML),h.isGenerated=!0,h.render(h.box)),h}if(w2ui[$(this).attr(\"name\")]){var b=w2ui[$(this).attr(\"name\")];return b[a].apply(b,Array.prototype.slice.call(arguments,1)),this}console.log(\"ERROR: Method \"+a+\" does not exist on jQuery.w2form\")},w2form.prototype={get:function(a,b){if(0===arguments.length){var c=[];for(var d in this.fields)null!=this.fields[d].name&&c.push(this.fields[d].name);return c}for(var e in this.fields)if(this.fields[e].name==a)return b===!0?e:this.fields[e];return null},set:function(a,b){for(var c in this.fields)if(this.fields[c].name==a)return $.extend(this.fields[c],b),this.refresh(),!0;return!1},reload:function(a){var b=\"object\"!=typeof this.url?this.url:this.url.get;b&&0!=this.recid?this.request(a):\"function\"==typeof a&&a()},clear:function(){this.recid=0,this.record={},$().w2tag(),this.refresh()},error:function(a){var b=this.trigger({target:this.name,type:\"error\",message:a,xhr:this.last.xhr});return b.isCancelled===!0?void(\"function\"==typeof callBack&&callBack()):(setTimeout(function(){w2alert(a,\"Error\")},1),void this.trigger($.extend(b,{phase:\"after\"})))},validate:function(a){\"undefined\"==typeof a&&(a=!0),$().w2tag();var b=[];for(var c in this.fields){var d=this.fields[c];switch(null==this.record[d.name]&&(this.record[d.name]=\"\"),d.type){case\"int\":this.record[d.name]&&!w2utils.isInt(this.record[d.name])&&b.push({field:d,error:w2utils.lang(\"Not an integer\")});break;case\"float\":this.record[d.name]&&!w2utils.isFloat(this.record[d.name])&&b.push({field:d,error:w2utils.lang(\"Not a float\")});break;case\"money\":this.record[d.name]&&!w2utils.isMoney(this.record[d.name])&&b.push({field:d,error:w2utils.lang(\"Not in money format\")});break;case\"color\":case\"hex\":this.record[d.name]&&!w2utils.isHex(this.record[d.name])&&b.push({field:d,error:w2utils.lang(\"Not a hex number\")});break;case\"email\":this.record[d.name]&&!w2utils.isEmail(this.record[d.name])&&b.push({field:d,error:w2utils.lang(\"Not a valid email\")});break;case\"checkbox\":this.record[d.name]=1==this.record[d.name]?1:0;break;case\"date\":d.options.format||(d.options.format=w2utils.settings.date_format),this.record[d.name]&&!w2utils.isDate(this.record[d.name],d.options.format)&&b.push({field:d,error:w2utils.lang(\"Not a valid date\")+\": \"+d.options.format});break;case\"list\":case\"combo\":break;case\"enum\":}var e=this.record[d.name];d.required&&(\"\"===e||$.isArray(e)&&0==e.length||$.isPlainObject(e)&&$.isEmptyObject(e))&&b.push({field:d,error:w2utils.lang(\"Required field\")}),d.equalto&&this.record[d.name]!=this.record[d.equalto]&&b.push({field:d,error:w2utils.lang(\"Field should be equal to \")+d.equalto})}var f=this.trigger({phase:\"before\",target:this.name,type:\"validate\",errors:b});if(f.isCancelled!==!0){if(a)for(var g in f.errors){var h=f.errors[g];\"radio\"==h.field.type?$($(h.field.el).parents(\"div\")[0]).w2tag(h.error,{\"class\":\"w2ui-error\"}):-1!=[\"enum\",\"file\"].indexOf(h.field.type)?!function(a){setTimeout(function(){var b=$(a.field.el).data(\"w2field\").helpers.multi;$(a.field.el).w2tag(a.error),$(b).addClass(\"w2ui-error\")},1)}(h):$(h.field.el).w2tag(h.error,{\"class\":\"w2ui-error\"}),this.goto(b[0].field.page)}return this.trigger($.extend(f,{phase:\"after\"})),b}},getChanges:function(){var a=function(b,c,d){for(var e in b)\"object\"==typeof b[e]?(d[e]=a(b[e],c[e]||{},{}),(!d[e]||$.isEmptyObject(d[e]))&&delete d[e]):b[e]!=c[e]&&(d[e]=b[e]);return d};return a(this.record,this.original,{})},request:function(postData,callBack){var obj=this;if(\"function\"==typeof postData&&(callBack=postData,postData=null),(\"undefined\"==typeof postData||null==postData)&&(postData={}),this.url&&(\"object\"!=typeof this.url||this.url.get)){(null==this.recid||\"undefined\"==typeof this.recid)&&(this.recid=0);var params={};params.cmd=\"get-record\",params.recid=this.recid,$.extend(params,this.postData),$.extend(params,postData);var eventData=this.trigger({phase:\"before\",type:\"request\",target:this.name,url:this.url,postData:params});if(eventData.isCancelled===!0)return void(\"function\"==typeof callBack&&callBack({status:\"error\",message:\"Request aborted.\"}));this.record={},this.original={},this.lock(this.msgRefresh);var url=eventData.url;if(\"object\"==typeof eventData.url&&eventData.url.get&&(url=eventData.url.get),this.last.xhr)try{this.last.xhr.abort()}catch(e){}if(!$.isEmptyObject(obj.routeData)){var info=w2utils.parseRoute(url);if(info.keys.length>0)for(var k=0;k<info.keys.length;k++)null!=obj.routeData[info.keys[k].name]&&(url=url.replace(new RegExp(\":\"+info.keys[k].name,\"g\"),obj.routeData[info.keys[k].name]))}var ajaxOptions={type:\"POST\",url:url,data:eventData.postData,dataType:\"text\"};\"HTTP\"==w2utils.settings.dataType&&(ajaxOptions.data=String($.param(ajaxOptions.data,!1)).replace(/%5B/g,\"[\").replace(/%5D/g,\"]\")),\"RESTFULL\"==w2utils.settings.dataType&&(ajaxOptions.type=\"GET\",ajaxOptions.data=String($.param(ajaxOptions.data,!1)).replace(/%5B/g,\"[\").replace(/%5D/g,\"]\")),\"JSON\"==w2utils.settings.dataType&&(ajaxOptions.type=\"POST\",ajaxOptions.data=JSON.stringify(ajaxOptions.data),ajaxOptions.contentType=\"application/json\"),this.last.xhr=$.ajax(ajaxOptions).done(function(data,status,xhr){obj.unlock();var eventData=obj.trigger({phase:\"before\",target:obj.name,type:\"load\",xhr:xhr});if(eventData.isCancelled===!0)return void(\"function\"==typeof callBack&&callBack({status:\"error\",message:\"Request aborted.\"}));var data,responseText=obj.last.xhr.responseText;if(\"error\"!=status){if(\"undefined\"!=typeof responseText&&\"\"!=responseText){if(\"object\"==typeof responseText)data=responseText;else try{eval(\"data = \"+responseText)}catch(e){}\"undefined\"==typeof data&&(data={status:\"error\",message:obj.msgNotJSON,responseText:responseText}),\"error\"==data.status?obj.error(data.message):(obj.record=$.extend({},data.record),obj.original=$.extend({},data.record))}}else obj.error(\"AJAX Error \"+xhr.status+\": \"+xhr.statusText),data={status:\"error\",message:obj.msgAJAXerror,responseText:responseText};obj.trigger($.extend(eventData,{phase:\"after\"})),obj.refresh(),\"function\"==typeof callBack&&callBack(data)}).fail(function(a,b,c){var d={status:b,error:c,rawResponseText:a.responseText},e=obj.trigger({phase:\"before\",type:\"error\",error:d,xhr:a});if(e.isCancelled!==!0){if(\"abort\"!=b){var f;try{f=$.parseJSON(a.responseText)}catch(g){}console.log(\"ERROR: Server communication failed.\",\"\\n   EXPECTED:\",{status:\"success\",items:[{id:1,text:\"item\"}]},\"\\n         OR:\",{status:\"error\",message:\"error message\"},\"\\n   RECEIVED:\",\"object\"==typeof f?f:a.responseText)}obj.trigger($.extend(e,{phase:\"after\"}))}}),this.trigger($.extend(eventData,{phase:\"after\"}))}},submit:function(a,b){return this.save(a,b)},save:function(postData,callBack){var obj=this;$(this.box).find(\":focus\").change(),\"function\"==typeof postData&&(callBack=postData,postData=null);var errors=obj.validate(!0);if(0===errors.length){if((\"undefined\"==typeof postData||null==postData)&&(postData={}),!obj.url||\"object\"==typeof obj.url&&!obj.url.save)return void console.log(\"ERROR: Form cannot be saved because no url is defined.\");obj.lock(obj.msgSaving+' <span id=\"'+obj.name+'_progress\"></span>'),setTimeout(function(){var params={};params.cmd=\"save-record\",params.recid=obj.recid,$.extend(params,obj.postData),$.extend(params,postData),params.record=$.extend(!0,{},obj.record);var eventData=obj.trigger({phase:\"before\",type:\"submit\",target:obj.name,url:obj.url,postData:params});if(eventData.isCancelled!==!0){var url=eventData.url;if(\"object\"==typeof eventData.url&&eventData.url.save&&(url=eventData.url.save),obj.last.xhr)try{obj.last.xhr.abort()}catch(e){}if(!$.isEmptyObject(obj.routeData)){var info=w2utils.parseRoute(url);if(info.keys.length>0)for(var k=0;k<info.keys.length;k++)null!=obj.routeData[info.keys[k].name]&&(url=url.replace(new RegExp(\":\"+info.keys[k].name,\"g\"),obj.routeData[info.keys[k].name]))}var ajaxOptions={type:\"POST\",url:url,data:eventData.postData,dataType:\"text\",xhr:function(){var a=new window.XMLHttpRequest;return a.upload.addEventListener(\"progress\",function(a){if(a.lengthComputable){var b=Math.round(a.loaded/a.total*100);$(\"#\"+obj.name+\"_progress\").text(\"\"+b+\"%\")}},!1),a}};\"HTTP\"==w2utils.settings.dataType&&(ajaxOptions.data=String($.param(ajaxOptions.data,!1)).replace(/%5B/g,\"[\").replace(/%5D/g,\"]\")),\"RESTFULL\"==w2utils.settings.dataType&&(0!=obj.recid&&(ajaxOptions.type=\"PUT\"),ajaxOptions.data=String($.param(ajaxOptions.data,!1)).replace(/%5B/g,\"[\").replace(/%5D/g,\"]\")),\"JSON\"==w2utils.settings.dataType&&(ajaxOptions.type=\"POST\",ajaxOptions.data=JSON.stringify(ajaxOptions.data),ajaxOptions.contentType=\"application/json\"),obj.last.xhr=$.ajax(ajaxOptions).done(function(data,status,xhr){obj.unlock();var eventData=obj.trigger({phase:\"before\",target:obj.name,type:\"save\",xhr:xhr,status:status});if(eventData.isCancelled!==!0){var data,responseText=xhr.responseText;if(\"error\"!=status){if(\"undefined\"!=typeof responseText&&\"\"!=responseText){if(\"object\"==typeof responseText)data=responseText;else try{eval(\"data = \"+responseText)}catch(e){}\"undefined\"==typeof data&&(data={status:\"error\",message:obj.msgNotJSON,responseText:responseText}),\"error\"==data.status?obj.error(data.message):obj.original=$.extend({},obj.record)}}else obj.error(\"AJAX Error \"+xhr.status+\": \"+xhr.statusText),data={status:\"error\",message:obj.msgAJAXerror,responseText:responseText};obj.trigger($.extend(eventData,{phase:\"after\"})),obj.refresh(),\"success\"==data.status&&\"function\"==typeof callBack&&callBack(data)}}).fail(function(a,b,c){var d={status:b,error:c,rawResponseText:a.responseText},e=obj.trigger({phase:\"before\",type:\"error\",error:d,xhr:a});e.isCancelled!==!0&&(console.log(\"ERROR: server communication failed. The server should return\",{status:\"success\"},\"OR\",{status:\"error\",message:\"error message\"},\", instead the AJAX request produced this: \",d),obj.trigger($.extend(e,{phase:\"after\"})))}),obj.trigger($.extend(eventData,{phase:\"after\"}))}},50)}},lock:function(){var a=$(this.box).find(\"> div:first-child\"),b=Array.prototype.slice.call(arguments,0);b.unshift(a),w2utils.lock.apply(window,b)},unlock:function(){var a=this;setTimeout(function(){w2utils.unlock(a.box)},25)},\"goto\":function(a){\"undefined\"!=typeof a&&(this.page=a),$(this.box).data(\"auto-size\")===!0&&$(this.box).height(0),this.refresh()},generateHTML:function(){var a,b=[],c=\"\";for(var d in this.fields){var e=\"\",f=this.fields[d];\"undefined\"==typeof f.html&&(f.html={}),f.html=$.extend(!0,{caption:\"\",span:6,attr:\"\",text:\"\",page:0},f.html),\"undefined\"==typeof a&&(a=f.html.page),\"\"==f.html.caption&&(f.html.caption=f.name);var g='<input name=\"'+f.name+'\" type=\"text\" '+f.html.attr+\"/>\";(\"pass\"===f.type||\"password\"===f.type)&&(g='<input name=\"'+f.name+'\" type = \"password\" '+f.html.attr+\"/>\"),\"checkbox\"==f.type&&(g='<input name=\"'+f.name+'\" type=\"checkbox\" '+f.html.attr+\"/>\"),\"textarea\"==f.type&&(g='<textarea name=\"'+f.name+'\" '+f.html.attr+\"></textarea>\"),\"toggle\"==f.type&&(g='<input name=\"'+f.name+'\" type=\"checkbox\" '+f.html.attr+' class=\"w2ui-toggle\"/><div><div></div></div>'),f.html.group&&(\"\"!=c&&(e+=\"\\n   </div>\"),e+='\\n   <div class=\"w2ui-group-title\">'+f.html.group+'</div>\\n   <div class=\"w2ui-group\">',c=f.html.group),f.html.page!=a&&\"\"!=c&&(b[b.length-1]+=\"\\n   </div>\",c=\"\"),e+='\\n      <div class=\"w2ui-field '+(\"undefined\"!=typeof f.html.span?\"w2ui-span\"+f.html.span:\"\")+'\">\\n         <label>'+w2utils.lang(f.html.caption)+\"</label>\\n         <div>\"+g+w2utils.lang(f.html.text)+\"</div>\\n      </div>\",\"undefined\"==typeof b[f.html.page]&&(b[f.html.page]=\"\"),b[f.html.page]+=e,a=f.html.page\n}if(\"\"!=c&&(b[b.length-1]+=\"\\n   </div>\"),this.tabs.tabs)for(var h=0;h<this.tabs.tabs.length;h++)\"undefined\"==typeof b[h]&&(b[h]=\"\");for(var i in b)b[i]='<div class=\"w2ui-page page-'+i+'\">'+b[i]+\"\\n</div>\";var j=\"\";if(!$.isEmptyObject(this.actions)){var k=\"\";j+='\\n<div class=\"w2ui-buttons\">';for(var l in this.actions)k=-1!=[\"save\",\"update\",\"create\"].indexOf(l.toLowerCase())?\"w2ui-btn-green\":\"\",j+='\\n    <button name=\"'+l+'\" class=\"w2ui-btn '+k+'\">'+w2utils.lang(l)+\"</button>\";j+=\"\\n</div>\"}return b.join(\"\")+j},action:function(a,b){var c=this.trigger({phase:\"before\",target:a,type:\"action\",originalEvent:b});c.isCancelled!==!0&&(\"function\"==typeof this.actions[a]&&this.actions[a].call(this,b),this.trigger($.extend(c,{phase:\"after\"})))},resize:function(){function a(){d.width($(b.box).width()).height($(b.box).height()),f.css(\"top\",\"\"!=b.header?w2utils.getSize(e,\"height\"):0),g.css(\"top\",(\"\"!=b.header?w2utils.getSize(e,\"height\"):0)+(\"object\"==typeof b.toolbar&&$.isArray(b.toolbar.items)&&b.toolbar.items.length>0?w2utils.getSize(f,\"height\"):0)),h.css(\"top\",(\"\"!=b.header?w2utils.getSize(e,\"height\"):0)+(\"object\"==typeof b.toolbar&&$.isArray(b.toolbar.items)&&b.toolbar.items.length>0?w2utils.getSize(f,\"height\")+5:0)+(\"object\"==typeof b.tabs&&$.isArray(b.tabs.tabs)&&b.tabs.tabs.length>0?w2utils.getSize(g,\"height\")+5:0)),h.css(\"bottom\",k.length>0?w2utils.getSize(k,\"height\"):0)}var b=this,c=this.trigger({phase:\"before\",target:this.name,type:\"resize\"});if(c.isCancelled!==!0){var d=$(this.box).find(\"> div\"),e=$(this.box).find(\"> div .w2ui-form-header\"),f=$(this.box).find(\"> div .w2ui-form-toolbar\"),g=$(this.box).find(\"> div .w2ui-form-tabs\"),h=$(this.box).find(\"> div .w2ui-page\"),i=$(this.box).find(\"> div .w2ui-page.page-\"+this.page),j=$(this.box).find(\"> div .w2ui-page.page-\"+this.page+\" > div\"),k=$(this.box).find(\"> div .w2ui-buttons\");a(),(0==parseInt($(this.box).height())||$(this.box).data(\"auto-size\")===!0)&&($(this.box).height((e.length>0?w2utils.getSize(e,\"height\"):0)+(\"object\"==typeof this.tabs&&$.isArray(this.tabs.tabs)&&this.tabs.tabs.length>0?w2utils.getSize(g,\"height\"):0)+(\"object\"==typeof this.toolbar&&$.isArray(this.toolbar.items)&&this.toolbar.items.length>0?w2utils.getSize(f,\"height\"):0)+(h.length>0?w2utils.getSize(j,\"height\")+w2utils.getSize(i,\"+height\")+12:0)+(k.length>0?w2utils.getSize(k,\"height\"):0)),$(this.box).data(\"auto-size\",!0)),a(),b.trigger($.extend(c,{phase:\"after\"}))}},refresh:function(){var a=(new Date).getTime(),b=this;if(this.box&&this.isGenerated&&\"undefined\"!=typeof $(this.box).html()){$(this.box).find(\"input, textarea, select\").each(function(a,c){var d=$(c).attr(\"undefined\"!=typeof $(c).attr(\"name\")?\"name\":\"id\"),e=b.get(d);if(e){var f=$(c).parents(\".w2ui-page\");if(f.length>0)for(var g=0;100>g;g++)if(f.hasClass(\"page-\"+g)){e.page=g;break}}});var c=this.trigger({phase:\"before\",target:this.name,type:\"refresh\",page:this.page});if(c.isCancelled!==!0){$(this.box).find(\".w2ui-page\").hide(),$(this.box).find(\".w2ui-page.page-\"+this.page).show(),$(this.box).find(\".w2ui-form-header\").html(this.header),\"object\"==typeof this.tabs&&$.isArray(this.tabs.tabs)&&this.tabs.tabs.length>0?($(\"#form_\"+this.name+\"_tabs\").show(),this.tabs.active=this.tabs.tabs[this.page].id,this.tabs.refresh()):$(\"#form_\"+this.name+\"_tabs\").hide(),\"object\"==typeof this.toolbar&&$.isArray(this.toolbar.items)&&this.toolbar.items.length>0?($(\"#form_\"+this.name+\"_toolbar\").show(),this.toolbar.refresh()):$(\"#form_\"+this.name+\"_toolbar\").hide();for(var d in this.fields){var e=this.fields[d];\"undefined\"==typeof e.name&&\"undefined\"!=typeof e.field&&(e.name=e.field),\"undefined\"==typeof e.field&&\"undefined\"!=typeof e.name&&(e.field=e.name),e.$el=$(this.box).find('[name=\"'+String(e.name).replace(/\\\\/g,\"\\\\\\\\\")+'\"]'),e.el=e.$el[0],\"undefined\"==typeof e.el&&console.log('ERROR: Cannot associate field \"'+e.name+'\" with html control. Make sure html control exists with the same name.'),e.el&&(e.el.id=e.name);var f=$(e).data(\"w2field\");f&&f.clear(),$(e.$el).off(\"change\").on(\"change\",function(){var a=this.value,c=b.record[this.name]?b.record[this.name]:\"\",d=b.get(this.name);if(-1!=[\"list\",\"enum\",\"file\"].indexOf(d.type)&&$(this).data(\"selected\")){var e=$(this).data(\"selected\"),f=b.record[this.name];if($.isArray(e)){a=[];for(var g in e)a[g]=$.extend(!0,{},e[g])}if($.isPlainObject(e)&&(a=$.extend(!0,{},e)),$.isArray(f)){c=[];for(var g in f)c[g]=$.extend(!0,{},f[g])}$.isPlainObject(f)&&(c=$.extend(!0,{},f))}if(-1!=[\"toggle\",\"checkbox\"].indexOf(d.type)&&(a=$(this).prop(\"checked\")?!0:!1),-1!=[\"int\",\"float\",\"percent\",\"money\",\"currency\"].indexOf(d.type)&&(a=$(this).data(\"w2field\").clean(a)),a!==c){var h=b.trigger({phase:\"before\",target:this.name,type:\"change\",value_new:a,value_previous:c});if(h.isCancelled===!0)return void $(this).val(b.record[this.name]);var i=this.value;if(\"select\"==this.type&&(i=this.value),\"checkbox\"==this.type&&(i=this.checked?!0:!1),\"radio\"==this.type&&d.$el.each(function(a,b){b.checked&&(i=b.value)}),-1!=[\"int\",\"float\",\"percent\",\"money\",\"currency\",\"list\",\"combo\",\"enum\",\"file\",\"toggle\"].indexOf(d.type)&&(i=a),-1!=[\"enum\",\"file\"].indexOf(d.type)&&i.length>0){var j=$(d.el).data(\"w2field\").helpers.multi;$(j).removeClass(\"w2ui-error\")}b.record[this.name]=i,b.trigger($.extend(h,{phase:\"after\"}))}}),e.required?$(e.el).parent().parent().addClass(\"w2ui-required\"):$(e.el).parent().parent().removeClass(\"w2ui-required\")}$(this.box).find(\"button, input[type=button]\").each(function(a,c){$(c).off(\"click\").on(\"click\",function(a){var c=this.value;this.id&&(c=this.id),this.name&&(c=this.name),b.action(c,a)})});for(var d in this.fields){var e=this.fields[d],g=\"undefined\"!=typeof this.record[e.name]?this.record[e.name]:\"\";if(e.el)switch(e.type=String(e.type).toLowerCase(),e.options||(e.options={}),e.type){case\"text\":case\"textarea\":case\"email\":case\"pass\":case\"password\":e.el.value=g;break;case\"int\":case\"float\":case\"money\":case\"currency\":case\"percent\":case\"hex\":case\"alphanumeric\":case\"color\":case\"date\":case\"time\":e.el.value=g,$(e.el).w2field($.extend({},e.options,{type:e.type}));break;case\"toggle\":w2utils.isFloat(g)&&(g=parseFloat(g)),$(e.el).prop(\"checked\",g?!0:!1),this.record[e.name]=g?1:0;break;case\"list\":case\"combo\":if(\"list\"==e.type){var h=$.isPlainObject(g)?g.id:g,i=e.options.items;$.isArray(i)&&i.length>0&&!$.isPlainObject(i[0])&&(e.options.items=w2obj.field.prototype.normMenu(i));for(var j in e.options.items){var k=e.options.items[j];if(k.id==h){g=$.extend(!0,{},k),b.record[e.name]=g;break}}}else e.el.value=\"combo\"!=e.type||$.isPlainObject(g)?$.isPlainObject(g)&&\"undefined\"!=typeof g.text?g.text:\"\":g;$.isPlainObject(g)||(g={}),$(e.el).w2field($.extend({},e.options,{type:e.type,selected:g}));break;case\"enum\":case\"file\":$.isArray(g)||(g=[]),$(e.el).w2field($.extend({},e.options,{type:e.type,selected:g}));break;case\"select\":var i=e.options.items;if(\"undefined\"!=typeof i&&i.length>0){i=w2obj.field.prototype.normMenu(i),$(e.el).html(\"\");for(var l in i)$(e.el).append('<option value=\"'+i[l].id+'\">'+i[l].text+\"</option\")}$(e.el).val(g);break;case\"radio\":$(e.$el).prop(\"checked\",!1).each(function(a,b){$(b).val()==g&&$(b).prop(\"checked\",!0)});break;case\"checkbox\":$(e.el).prop(\"checked\",g?!0:!1);break;default:$(e.el).w2field($.extend({},e.options,{type:e.type}))}}for(var f=$(this.box).find(\".w2ui-page\"),j=0;j<f.length;j++)$(f[j]).find(\"> *\").length>1&&$(f[j]).wrapInner(\"<div></div>\");return this.trigger($.extend(c,{phase:\"after\"})),this.resize(),(new Date).getTime()-a}}},render:function(a){function b(){var a=$(d.box).find(\"input, select, textarea\");a.length>d.focus&&a[d.focus].focus()}var c=(new Date).getTime(),d=this;if(\"object\"==typeof a&&($(this.box).find(\"#form_\"+this.name+\"_tabs\").length>0&&$(this.box).removeAttr(\"name\").removeClass(\"w2ui-reset w2ui-form\").html(\"\"),this.box=a),this.isGenerated&&this.box){var e=this.trigger({phase:\"before\",target:this.name,type:\"render\",box:\"undefined\"!=typeof a?a:this.box});if(e.isCancelled!==!0){$.isEmptyObject(this.original)&&!$.isEmptyObject(this.record)&&(this.original=$.extend(!0,{},this.record));var f=\"<div>\"+(\"\"!=this.header?'<div class=\"w2ui-form-header\">'+this.header+\"</div>\":\"\")+'    <div id=\"form_'+this.name+'_toolbar\" class=\"w2ui-form-toolbar\"></div>    <div id=\"form_'+this.name+'_tabs\" class=\"w2ui-form-tabs\"></div>'+this.formHTML+\"</div>\";$(this.box).attr(\"name\",this.name).addClass(\"w2ui-reset w2ui-form\").html(f),$(this.box).length>0&&($(this.box)[0].style.cssText+=this.style),\"function\"!=typeof this.toolbar.render&&(this.toolbar=$().w2toolbar($.extend({},this.toolbar,{name:this.name+\"_toolbar\",owner:this})),this.toolbar.on(\"click\",function(a){var b=d.trigger({phase:\"before\",type:\"toolbar\",target:a.target,originalEvent:a});b.isCancelled!==!0&&d.trigger($.extend(b,{phase:\"after\"}))})),\"object\"==typeof this.toolbar&&\"function\"==typeof this.toolbar.render&&this.toolbar.render($(\"#form_\"+this.name+\"_toolbar\")[0]),\"function\"!=typeof this.tabs.render&&(this.tabs=$().w2tabs($.extend({},this.tabs,{name:this.name+\"_tabs\",owner:this})),this.tabs.on(\"click\",function(a){d.goto(this.get(a.target,!0))})),\"object\"==typeof this.tabs&&\"function\"==typeof this.tabs.render&&this.tabs.render($(\"#form_\"+this.name+\"_tabs\")[0]),this.trigger($.extend(e,{phase:\"after\"})),this.resize();var g=\"object\"!=typeof this.url?this.url:this.url.get;return g&&0!=this.recid?this.request():this.refresh(),0==$(\".w2ui-layout\").length&&(this.tmp_resize=function(){w2ui[d.name].resize()},$(window).off(\"resize\",\"body\").on(\"resize\",\"body\",this.tmp_resize)),setTimeout(function(){d.resize(),d.refresh()},150),this.focus>=0&&setTimeout(b,500),(new Date).getTime()-c}}},destroy:function(){var a=this.trigger({phase:\"before\",target:this.name,type:\"destroy\"});a.isCancelled!==!0&&(\"object\"==typeof this.toolbar&&this.toolbar.destroy&&this.toolbar.destroy(),\"object\"==typeof this.tabs&&this.tabs.destroy&&this.tabs.destroy(),$(this.box).find(\"#form_\"+this.name+\"_tabs\").length>0&&$(this.box).removeAttr(\"name\").removeClass(\"w2ui-reset w2ui-form\").html(\"\"),delete w2ui[this.name],this.trigger($.extend(a,{phase:\"after\"})),$(window).off(\"resize\",\"body\"))}},$.extend(w2form.prototype,w2utils.event),w2obj.form=w2form}();"

/***/ },
/* 34 */
/***/ function(module, exports) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	
	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
	
	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
	
	var codeViewId = exports.codeViewId = 'codeView';
	
	var _global = function () {
		function _global() {
			_classCallCheck(this, _global);
	
			console.log('CALL _global');
		}
	
		_createClass(_global, null, [{
			key: 'codeViewId',
			get: function get() {
				return codeViewId;
			}
		}]);
	
		return _global;
	}();
	
	exports.default = _global;

/***/ },
/* 35 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	
	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
	
	var _codemirror = __webpack_require__(36);
	
	var _codemirror2 = _interopRequireDefault(_codemirror);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
	
	var libEditor = function () {
		function libEditor() {
			_classCallCheck(this, libEditor);
	
			console.log('CALL libEditor');
		}
	
		_createClass(libEditor, null, [{
			key: 'createCodeMirror',
			value: function createCodeMirror(parentId, newId) {
				console.log('CALL createCodeMirror()');
	
				var parentView = $('#' + parentId);
	
				parentView.append('<div id="' + newId + '" name="code" class="codemirror tab"></div>');
	
				var codeMirrorParent = document.getElementById(newId);
				var editor = (0, _codemirror2.default)(codeMirrorParent, {
					mode: "markdown",
					lineNumbers: true,
					lineWrapping: true,
					extraKeys: { "Ctrl-Q": function CtrlQ(cm) {
							cm.foldCode(cm.getCursor());
						} },
					foldGutter: true,
					gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"]
				});
				w2ui['layout'].resize();
			}
		}, {
			key: 'removeCodeMirror',
			value: function removeCodeMirror(removeID) {
				var codeMirror = $('#' + removeID);
				codeMirror.remove();
			}
		}, {
			key: 'selectCodeMirror',
			value: function selectCodeMirror(parentId, selectID) {
				$('#' + parentId + ' .tab').hide();
				$('#' + parentId + ' #' + selectID).show();
			}
		}, {
			key: 'getIdFromEventTarget',
			value: function getIdFromEventTarget(eventTarget) {
				return eventTarget + 'code';
			}
		}]);
	
		return libEditor;
	}();
	
	exports.default = libEditor;

/***/ },
/* 36 */
/***/ function(module, exports, __webpack_require__) {

	// CodeMirror, copyright (c) by Marijn Haverbeke and others
	// Distributed under an MIT license: http://codemirror.net/LICENSE
	
	// This is CodeMirror (http://codemirror.net), a code editor
	// implemented in JavaScript on top of the browser's DOM.
	//
	// You can find some technical background for some of the code below
	// at http://marijnhaverbeke.nl/blog/#cm-internals .
	
	(function (global, factory) {
	   true ? module.exports = factory() :
	  typeof define === 'function' && define.amd ? define(factory) :
	  (global.CodeMirror = factory());
	}(this, (function () { 'use strict';
	
	// Kludges for bugs and behavior differences that can't be feature
	// detected are enabled based on userAgent etc sniffing.
	var userAgent = navigator.userAgent
	var platform = navigator.platform
	
	var gecko = /gecko\/\d/i.test(userAgent)
	var ie_upto10 = /MSIE \d/.test(userAgent)
	var ie_11up = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(userAgent)
	var ie = ie_upto10 || ie_11up
	var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : ie_11up[1])
	var webkit = /WebKit\//.test(userAgent)
	var qtwebkit = webkit && /Qt\/\d+\.\d+/.test(userAgent)
	var chrome = /Chrome\//.test(userAgent)
	var presto = /Opera\//.test(userAgent)
	var safari = /Apple Computer/.test(navigator.vendor)
	var mac_geMountainLion = /Mac OS X 1\d\D([8-9]|\d\d)\D/.test(userAgent)
	var phantom = /PhantomJS/.test(userAgent)
	
	var ios = /AppleWebKit/.test(userAgent) && /Mobile\/\w+/.test(userAgent)
	// This is woefully incomplete. Suggestions for alternative methods welcome.
	var mobile = ios || /Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent)
	var mac = ios || /Mac/.test(platform)
	var chromeOS = /\bCrOS\b/.test(userAgent)
	var windows = /win/i.test(platform)
	
	var presto_version = presto && userAgent.match(/Version\/(\d*\.\d*)/)
	if (presto_version) { presto_version = Number(presto_version[1]) }
	if (presto_version && presto_version >= 15) { presto = false; webkit = true }
	// Some browsers use the wrong event properties to signal cmd/ctrl on OS X
	var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11))
	var captureRightClick = gecko || (ie && ie_version >= 9)
	
	function classTest(cls) { return new RegExp("(^|\\s)" + cls + "(?:$|\\s)\\s*") }
	
	var rmClass = function(node, cls) {
	  var current = node.className
	  var match = classTest(cls).exec(current)
	  if (match) {
	    var after = current.slice(match.index + match[0].length)
	    node.className = current.slice(0, match.index) + (after ? match[1] + after : "")
	  }
	}
	
	function removeChildren(e) {
	  for (var count = e.childNodes.length; count > 0; --count)
	    { e.removeChild(e.firstChild) }
	  return e
	}
	
	function removeChildrenAndAdd(parent, e) {
	  return removeChildren(parent).appendChild(e)
	}
	
	function elt(tag, content, className, style) {
	  var e = document.createElement(tag)
	  if (className) { e.className = className }
	  if (style) { e.style.cssText = style }
	  if (typeof content == "string") { e.appendChild(document.createTextNode(content)) }
	  else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]) } }
	  return e
	}
	
	var range
	if (document.createRange) { range = function(node, start, end, endNode) {
	  var r = document.createRange()
	  r.setEnd(endNode || node, end)
	  r.setStart(node, start)
	  return r
	} }
	else { range = function(node, start, end) {
	  var r = document.body.createTextRange()
	  try { r.moveToElementText(node.parentNode) }
	  catch(e) { return r }
	  r.collapse(true)
	  r.moveEnd("character", end)
	  r.moveStart("character", start)
	  return r
	} }
	
	function contains(parent, child) {
	  if (child.nodeType == 3) // Android browser always returns false when child is a textnode
	    { child = child.parentNode }
	  if (parent.contains)
	    { return parent.contains(child) }
	  do {
	    if (child.nodeType == 11) { child = child.host }
	    if (child == parent) { return true }
	  } while (child = child.parentNode)
	}
	
	function activeElt() {
	  // IE and Edge may throw an "Unspecified Error" when accessing document.activeElement.
	  // IE < 10 will throw when accessed while the page is loading or in an iframe.
	  // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.
	  var activeElement
	  try {
	    activeElement = document.activeElement
	  } catch(e) {
	    activeElement = document.body || null
	  }
	  while (activeElement && activeElement.root && activeElement.root.activeElement)
	    { activeElement = activeElement.root.activeElement }
	  return activeElement
	}
	
	function addClass(node, cls) {
	  var current = node.className
	  if (!classTest(cls).test(current)) { node.className += (current ? " " : "") + cls }
	}
	function joinClasses(a, b) {
	  var as = a.split(" ")
	  for (var i = 0; i < as.length; i++)
	    { if (as[i] && !classTest(as[i]).test(b)) { b += " " + as[i] } }
	  return b
	}
	
	var selectInput = function(node) { node.select() }
	if (ios) // Mobile Safari apparently has a bug where select() is broken.
	  { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length } }
	else if (ie) // Suppress mysterious IE10 errors
	  { selectInput = function(node) { try { node.select() } catch(_e) {} } }
	
	function bind(f) {
	  var args = Array.prototype.slice.call(arguments, 1)
	  return function(){return f.apply(null, args)}
	}
	
	function copyObj(obj, target, overwrite) {
	  if (!target) { target = {} }
	  for (var prop in obj)
	    { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))
	      { target[prop] = obj[prop] } }
	  return target
	}
	
	// Counts the column offset in a string, taking tabs into account.
	// Used mostly to find indentation.
	function countColumn(string, end, tabSize, startIndex, startValue) {
	  if (end == null) {
	    end = string.search(/[^\s\u00a0]/)
	    if (end == -1) { end = string.length }
	  }
	  for (var i = startIndex || 0, n = startValue || 0;;) {
	    var nextTab = string.indexOf("\t", i)
	    if (nextTab < 0 || nextTab >= end)
	      { return n + (end - i) }
	    n += nextTab - i
	    n += tabSize - (n % tabSize)
	    i = nextTab + 1
	  }
	}
	
	function Delayed() {this.id = null}
	Delayed.prototype.set = function(ms, f) {
	  clearTimeout(this.id)
	  this.id = setTimeout(f, ms)
	}
	
	function indexOf(array, elt) {
	  for (var i = 0; i < array.length; ++i)
	    { if (array[i] == elt) { return i } }
	  return -1
	}
	
	// Number of pixels added to scroller and sizer to hide scrollbar
	var scrollerGap = 30
	
	// Returned or thrown by various protocols to signal 'I'm not
	// handling this'.
	var Pass = {toString: function(){return "CodeMirror.Pass"}}
	
	// Reused option objects for setSelection & friends
	var sel_dontScroll = {scroll: false};
	var sel_mouse = {origin: "*mouse"};
	var sel_move = {origin: "+move"};
	// The inverse of countColumn -- find the offset that corresponds to
	// a particular column.
	function findColumn(string, goal, tabSize) {
	  for (var pos = 0, col = 0;;) {
	    var nextTab = string.indexOf("\t", pos)
	    if (nextTab == -1) { nextTab = string.length }
	    var skipped = nextTab - pos
	    if (nextTab == string.length || col + skipped >= goal)
	      { return pos + Math.min(skipped, goal - col) }
	    col += nextTab - pos
	    col += tabSize - (col % tabSize)
	    pos = nextTab + 1
	    if (col >= goal) { return pos }
	  }
	}
	
	var spaceStrs = [""]
	function spaceStr(n) {
	  while (spaceStrs.length <= n)
	    { spaceStrs.push(lst(spaceStrs) + " ") }
	  return spaceStrs[n]
	}
	
	function lst(arr) { return arr[arr.length-1] }
	
	function map(array, f) {
	  var out = []
	  for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i) }
	  return out
	}
	
	function insertSorted(array, value, score) {
	  var pos = 0, priority = score(value)
	  while (pos < array.length && score(array[pos]) <= priority) { pos++ }
	  array.splice(pos, 0, value)
	}
	
	function nothing() {}
	
	function createObj(base, props) {
	  var inst
	  if (Object.create) {
	    inst = Object.create(base)
	  } else {
	    nothing.prototype = base
	    inst = new nothing()
	  }
	  if (props) { copyObj(props, inst) }
	  return inst
	}
	
	var nonASCIISingleCaseWordChar = /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/
	function isWordCharBasic(ch) {
	  return /\w/.test(ch) || ch > "\x80" &&
	    (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))
	}
	function isWordChar(ch, helper) {
	  if (!helper) { return isWordCharBasic(ch) }
	  if (helper.source.indexOf("\\w") > -1 && isWordCharBasic(ch)) { return true }
	  return helper.test(ch)
	}
	
	function isEmpty(obj) {
	  for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }
	  return true
	}
	
	// Extending unicode characters. A series of a non-extending char +
	// any number of extending chars is treated as a single unit as far
	// as editing and measuring is concerned. This is not fully correct,
	// since some scripts/fonts/browsers also treat other configurations
	// of code points as a group.
	var extendingChars = /[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/
	function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }
	
	// The display handles the DOM integration, both for input reading
	// and content drawing. It holds references to DOM nodes and
	// display-related state.
	
	function Display(place, doc, input) {
	  var d = this
	  this.input = input
	
	  // Covers bottom-right square when both scrollbars are present.
	  d.scrollbarFiller = elt("div", null, "CodeMirror-scrollbar-filler")
	  d.scrollbarFiller.setAttribute("cm-not-content", "true")
	  // Covers bottom of gutter when coverGutterNextToScrollbar is on
	  // and h scrollbar is present.
	  d.gutterFiller = elt("div", null, "CodeMirror-gutter-filler")
	  d.gutterFiller.setAttribute("cm-not-content", "true")
	  // Will contain the actual code, positioned to cover the viewport.
	  d.lineDiv = elt("div", null, "CodeMirror-code")
	  // Elements are added to these to represent selection and cursors.
	  d.selectionDiv = elt("div", null, null, "position: relative; z-index: 1")
	  d.cursorDiv = elt("div", null, "CodeMirror-cursors")
	  // A visibility: hidden element used to find the size of things.
	  d.measure = elt("div", null, "CodeMirror-measure")
	  // When lines outside of the viewport are measured, they are drawn in this.
	  d.lineMeasure = elt("div", null, "CodeMirror-measure")
	  // Wraps everything that needs to exist inside the vertically-padded coordinate system
	  d.lineSpace = elt("div", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],
	                    null, "position: relative; outline: none")
	  // Moved around its parent to cover visible view.
	  d.mover = elt("div", [elt("div", [d.lineSpace], "CodeMirror-lines")], null, "position: relative")
	  // Set to the height of the document, allowing scrolling.
	  d.sizer = elt("div", [d.mover], "CodeMirror-sizer")
	  d.sizerWidth = null
	  // Behavior of elts with overflow: auto and padding is
	  // inconsistent across browsers. This is used to ensure the
	  // scrollable area is big enough.
	  d.heightForcer = elt("div", null, null, "position: absolute; height: " + scrollerGap + "px; width: 1px;")
	  // Will contain the gutters, if any.
	  d.gutters = elt("div", null, "CodeMirror-gutters")
	  d.lineGutter = null
	  // Actual scrollable element.
	  d.scroller = elt("div", [d.sizer, d.heightForcer, d.gutters], "CodeMirror-scroll")
	  d.scroller.setAttribute("tabIndex", "-1")
	  // The element in which the editor lives.
	  d.wrapper = elt("div", [d.scrollbarFiller, d.gutterFiller, d.scroller], "CodeMirror")
	
	  // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)
	  if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0 }
	  if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true }
	
	  if (place) {
	    if (place.appendChild) { place.appendChild(d.wrapper) }
	    else { place(d.wrapper) }
	  }
	
	  // Current rendered range (may be bigger than the view window).
	  d.viewFrom = d.viewTo = doc.first
	  d.reportedViewFrom = d.reportedViewTo = doc.first
	  // Information about the rendered lines.
	  d.view = []
	  d.renderedView = null
	  // Holds info about a single rendered line when it was rendered
	  // for measurement, while not in view.
	  d.externalMeasured = null
	  // Empty space (in pixels) above the view
	  d.viewOffset = 0
	  d.lastWrapHeight = d.lastWrapWidth = 0
	  d.updateLineNumbers = null
	
	  d.nativeBarWidth = d.barHeight = d.barWidth = 0
	  d.scrollbarsClipped = false
	
	  // Used to only resize the line number gutter when necessary (when
	  // the amount of lines crosses a boundary that makes its width change)
	  d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null
	  // Set to true when a non-horizontal-scrolling line widget is
	  // added. As an optimization, line widget aligning is skipped when
	  // this is false.
	  d.alignWidgets = false
	
	  d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null
	
	  // Tracks the maximum line length so that the horizontal scrollbar
	  // can be kept static when scrolling.
	  d.maxLine = null
	  d.maxLineLength = 0
	  d.maxLineChanged = false
	
	  // Used for measuring wheel scrolling granularity
	  d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null
	
	  // True when shift is held down.
	  d.shift = false
	
	  // Used to track whether anything happened since the context menu
	  // was opened.
	  d.selForContextMenu = null
	
	  d.activeTouch = null
	
	  input.init(d)
	}
	
	// Find the line object corresponding to the given line number.
	function getLine(doc, n) {
	  n -= doc.first
	  if (n < 0 || n >= doc.size) { throw new Error("There is no line " + (n + doc.first) + " in the document.") }
	  var chunk = doc
	  while (!chunk.lines) {
	    for (var i = 0;; ++i) {
	      var child = chunk.children[i], sz = child.chunkSize()
	      if (n < sz) { chunk = child; break }
	      n -= sz
	    }
	  }
	  return chunk.lines[n]
	}
	
	// Get the part of a document between two positions, as an array of
	// strings.
	function getBetween(doc, start, end) {
	  var out = [], n = start.line
	  doc.iter(start.line, end.line + 1, function (line) {
	    var text = line.text
	    if (n == end.line) { text = text.slice(0, end.ch) }
	    if (n == start.line) { text = text.slice(start.ch) }
	    out.push(text)
	    ++n
	  })
	  return out
	}
	// Get the lines between from and to, as array of strings.
	function getLines(doc, from, to) {
	  var out = []
	  doc.iter(from, to, function (line) { out.push(line.text) }) // iter aborts when callback returns truthy value
	  return out
	}
	
	// Update the height of a line, propagating the height change
	// upwards to parent nodes.
	function updateLineHeight(line, height) {
	  var diff = height - line.height
	  if (diff) { for (var n = line; n; n = n.parent) { n.height += diff } }
	}
	
	// Given a line object, find its line number by walking up through
	// its parent links.
	function lineNo(line) {
	  if (line.parent == null) { return null }
	  var cur = line.parent, no = indexOf(cur.lines, line)
	  for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {
	    for (var i = 0;; ++i) {
	      if (chunk.children[i] == cur) { break }
	      no += chunk.children[i].chunkSize()
	    }
	  }
	  return no + cur.first
	}
	
	// Find the line at the given vertical position, using the height
	// information in the document tree.
	function lineAtHeight(chunk, h) {
	  var n = chunk.first
	  outer: do {
	    for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {
	      var child = chunk.children[i$1], ch = child.height
	      if (h < ch) { chunk = child; continue outer }
	      h -= ch
	      n += child.chunkSize()
	    }
	    return n
	  } while (!chunk.lines)
	  var i = 0
	  for (; i < chunk.lines.length; ++i) {
	    var line = chunk.lines[i], lh = line.height
	    if (h < lh) { break }
	    h -= lh
	  }
	  return n + i
	}
	
	function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}
	
	function lineNumberFor(options, i) {
	  return String(options.lineNumberFormatter(i + options.firstLineNumber))
	}
	
	// A Pos instance represents a position within the text.
	function Pos (line, ch) {
	  if (!(this instanceof Pos)) { return new Pos(line, ch) }
	  this.line = line; this.ch = ch
	}
	
	// Compare two positions, return 0 if they are the same, a negative
	// number when a is less, and a positive number otherwise.
	function cmp(a, b) { return a.line - b.line || a.ch - b.ch }
	
	function copyPos(x) {return Pos(x.line, x.ch)}
	function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }
	function minPos(a, b) { return cmp(a, b) < 0 ? a : b }
	
	// Most of the external API clips given positions to make sure they
	// actually exist within the document.
	function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}
	function clipPos(doc, pos) {
	  if (pos.line < doc.first) { return Pos(doc.first, 0) }
	  var last = doc.first + doc.size - 1
	  if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }
	  return clipToLen(pos, getLine(doc, pos.line).text.length)
	}
	function clipToLen(pos, linelen) {
	  var ch = pos.ch
	  if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }
	  else if (ch < 0) { return Pos(pos.line, 0) }
	  else { return pos }
	}
	function clipPosArray(doc, array) {
	  var out = []
	  for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]) }
	  return out
	}
	
	// Optimize some code when these features are not used.
	var sawReadOnlySpans = false;
	var sawCollapsedSpans = false;
	function seeReadOnlySpans() {
	  sawReadOnlySpans = true
	}
	
	function seeCollapsedSpans() {
	  sawCollapsedSpans = true
	}
	
	// TEXTMARKER SPANS
	
	function MarkedSpan(marker, from, to) {
	  this.marker = marker
	  this.from = from; this.to = to
	}
	
	// Search an array of spans for a span matching the given marker.
	function getMarkedSpanFor(spans, marker) {
	  if (spans) { for (var i = 0; i < spans.length; ++i) {
	    var span = spans[i]
	    if (span.marker == marker) { return span }
	  } }
	}
	// Remove a span from an array, returning undefined if no spans are
	// left (we don't store arrays for lines without spans).
	function removeMarkedSpan(spans, span) {
	  var r
	  for (var i = 0; i < spans.length; ++i)
	    { if (spans[i] != span) { (r || (r = [])).push(spans[i]) } }
	  return r
	}
	// Add a span to a line.
	function addMarkedSpan(line, span) {
	  line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span]
	  span.marker.attachLine(line)
	}
	
	// Used for the algorithm that adjusts markers for a change in the
	// document. These functions cut an array of spans at a given
	// character position, returning an array of remaining chunks (or
	// undefined if nothing remains).
	function markedSpansBefore(old, startCh, isInsert) {
	  var nw
	  if (old) { for (var i = 0; i < old.length; ++i) {
	    var span = old[i], marker = span.marker
	    var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh)
	    if (startsBefore || span.from == startCh && marker.type == "bookmark" && (!isInsert || !span.marker.insertLeft)) {
	      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)
	      ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to))
	    }
	  } }
	  return nw
	}
	function markedSpansAfter(old, endCh, isInsert) {
	  var nw
	  if (old) { for (var i = 0; i < old.length; ++i) {
	    var span = old[i], marker = span.marker
	    var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh)
	    if (endsAfter || span.from == endCh && marker.type == "bookmark" && (!isInsert || span.marker.insertLeft)) {
	      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)
	      ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,
	                                            span.to == null ? null : span.to - endCh))
	    }
	  } }
	  return nw
	}
	
	// Given a change object, compute the new set of marker spans that
	// cover the line in which the change took place. Removes spans
	// entirely within the change, reconnects spans belonging to the
	// same marker that appear on both sides of the change, and cuts off
	// spans partially within the change. Returns an array of span
	// arrays with one element for each line in (after) the change.
	function stretchSpansOverChange(doc, change) {
	  if (change.full) { return null }
	  var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans
	  var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans
	  if (!oldFirst && !oldLast) { return null }
	
	  var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0
	  // Get the spans that 'stick out' on both sides
	  var first = markedSpansBefore(oldFirst, startCh, isInsert)
	  var last = markedSpansAfter(oldLast, endCh, isInsert)
	
	  // Next, merge those two ends
	  var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0)
	  if (first) {
	    // Fix up .to properties of first
	    for (var i = 0; i < first.length; ++i) {
	      var span = first[i]
	      if (span.to == null) {
	        var found = getMarkedSpanFor(last, span.marker)
	        if (!found) { span.to = startCh }
	        else if (sameLine) { span.to = found.to == null ? null : found.to + offset }
	      }
	    }
	  }
	  if (last) {
	    // Fix up .from in last (or move them into first in case of sameLine)
	    for (var i$1 = 0; i$1 < last.length; ++i$1) {
	      var span$1 = last[i$1]
	      if (span$1.to != null) { span$1.to += offset }
	      if (span$1.from == null) {
	        var found$1 = getMarkedSpanFor(first, span$1.marker)
	        if (!found$1) {
	          span$1.from = offset
	          if (sameLine) { (first || (first = [])).push(span$1) }
	        }
	      } else {
	        span$1.from += offset
	        if (sameLine) { (first || (first = [])).push(span$1) }
	      }
	    }
	  }
	  // Make sure we didn't create any zero-length spans
	  if (first) { first = clearEmptySpans(first) }
	  if (last && last != first) { last = clearEmptySpans(last) }
	
	  var newMarkers = [first]
	  if (!sameLine) {
	    // Fill gap with whole-line-spans
	    var gap = change.text.length - 2, gapMarkers
	    if (gap > 0 && first)
	      { for (var i$2 = 0; i$2 < first.length; ++i$2)
	        { if (first[i$2].to == null)
	          { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)) } } }
	    for (var i$3 = 0; i$3 < gap; ++i$3)
	      { newMarkers.push(gapMarkers) }
	    newMarkers.push(last)
	  }
	  return newMarkers
	}
	
	// Remove spans that are empty and don't have a clearWhenEmpty
	// option of false.
	function clearEmptySpans(spans) {
	  for (var i = 0; i < spans.length; ++i) {
	    var span = spans[i]
	    if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)
	      { spans.splice(i--, 1) }
	  }
	  if (!spans.length) { return null }
	  return spans
	}
	
	// Used to 'clip' out readOnly ranges when making a change.
	function removeReadOnlyRanges(doc, from, to) {
	  var markers = null
	  doc.iter(from.line, to.line + 1, function (line) {
	    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {
	      var mark = line.markedSpans[i].marker
	      if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))
	        { (markers || (markers = [])).push(mark) }
	    } }
	  })
	  if (!markers) { return null }
	  var parts = [{from: from, to: to}]
	  for (var i = 0; i < markers.length; ++i) {
	    var mk = markers[i], m = mk.find(0)
	    for (var j = 0; j < parts.length; ++j) {
	      var p = parts[j]
	      if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }
	      var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to)
	      if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)
	        { newParts.push({from: p.from, to: m.from}) }
	      if (dto > 0 || !mk.inclusiveRight && !dto)
	        { newParts.push({from: m.to, to: p.to}) }
	      parts.splice.apply(parts, newParts)
	      j += newParts.length - 1
	    }
	  }
	  return parts
	}
	
	// Connect or disconnect spans from a line.
	function detachMarkedSpans(line) {
	  var spans = line.markedSpans
	  if (!spans) { return }
	  for (var i = 0; i < spans.length; ++i)
	    { spans[i].marker.detachLine(line) }
	  line.markedSpans = null
	}
	function attachMarkedSpans(line, spans) {
	  if (!spans) { return }
	  for (var i = 0; i < spans.length; ++i)
	    { spans[i].marker.attachLine(line) }
	  line.markedSpans = spans
	}
	
	// Helpers used when computing which overlapping collapsed span
	// counts as the larger one.
	function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }
	function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }
	
	// Returns a number indicating which of two overlapping collapsed
	// spans is larger (and thus includes the other). Falls back to
	// comparing ids when the spans cover exactly the same range.
	function compareCollapsedMarkers(a, b) {
	  var lenDiff = a.lines.length - b.lines.length
	  if (lenDiff != 0) { return lenDiff }
	  var aPos = a.find(), bPos = b.find()
	  var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b)
	  if (fromCmp) { return -fromCmp }
	  var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b)
	  if (toCmp) { return toCmp }
	  return b.id - a.id
	}
	
	// Find out whether a line ends or starts in a collapsed span. If
	// so, return the marker for that span.
	function collapsedSpanAtSide(line, start) {
	  var sps = sawCollapsedSpans && line.markedSpans, found
	  if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {
	    sp = sps[i]
	    if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&
	        (!found || compareCollapsedMarkers(found, sp.marker) < 0))
	      { found = sp.marker }
	  } }
	  return found
	}
	function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }
	function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }
	
	// Test whether there exists a collapsed span that partially
	// overlaps (covers the start or end, but not both) of a new span.
	// Such overlap is not allowed.
	function conflictingCollapsedRange(doc, lineNo, from, to, marker) {
	  var line = getLine(doc, lineNo)
	  var sps = sawCollapsedSpans && line.markedSpans
	  if (sps) { for (var i = 0; i < sps.length; ++i) {
	    var sp = sps[i]
	    if (!sp.marker.collapsed) { continue }
	    var found = sp.marker.find(0)
	    var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker)
	    var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker)
	    if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }
	    if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||
	        fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))
	      { return true }
	  } }
	}
	
	// A visual line is a line as drawn on the screen. Folding, for
	// example, can cause multiple logical lines to appear on the same
	// visual line. This finds the start of the visual line that the
	// given line is part of (usually that is the line itself).
	function visualLine(line) {
	  var merged
	  while (merged = collapsedSpanAtStart(line))
	    { line = merged.find(-1, true).line }
	  return line
	}
	
	// Returns an array of logical lines that continue the visual line
	// started by the argument, or undefined if there are no such lines.
	function visualLineContinued(line) {
	  var merged, lines
	  while (merged = collapsedSpanAtEnd(line)) {
	    line = merged.find(1, true).line
	    ;(lines || (lines = [])).push(line)
	  }
	  return lines
	}
	
	// Get the line number of the start of the visual line that the
	// given line number is part of.
	function visualLineNo(doc, lineN) {
	  var line = getLine(doc, lineN), vis = visualLine(line)
	  if (line == vis) { return lineN }
	  return lineNo(vis)
	}
	
	// Get the line number of the start of the next visual line after
	// the given line.
	function visualLineEndNo(doc, lineN) {
	  if (lineN > doc.lastLine()) { return lineN }
	  var line = getLine(doc, lineN), merged
	  if (!lineIsHidden(doc, line)) { return lineN }
	  while (merged = collapsedSpanAtEnd(line))
	    { line = merged.find(1, true).line }
	  return lineNo(line) + 1
	}
	
	// Compute whether a line is hidden. Lines count as hidden when they
	// are part of a visual line that starts with another line, or when
	// they are entirely covered by collapsed, non-widget span.
	function lineIsHidden(doc, line) {
	  var sps = sawCollapsedSpans && line.markedSpans
	  if (sps) { for (var sp = (void 0), i = 0; i < sps.length; ++i) {
	    sp = sps[i]
	    if (!sp.marker.collapsed) { continue }
	    if (sp.from == null) { return true }
	    if (sp.marker.widgetNode) { continue }
	    if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))
	      { return true }
	  } }
	}
	function lineIsHiddenInner(doc, line, span) {
	  if (span.to == null) {
	    var end = span.marker.find(1, true)
	    return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))
	  }
	  if (span.marker.inclusiveRight && span.to == line.text.length)
	    { return true }
	  for (var sp = (void 0), i = 0; i < line.markedSpans.length; ++i) {
	    sp = line.markedSpans[i]
	    if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&
	        (sp.to == null || sp.to != span.from) &&
	        (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&
	        lineIsHiddenInner(doc, line, sp)) { return true }
	  }
	}
	
	// Find the height above the given line.
	function heightAtLine(lineObj) {
	  lineObj = visualLine(lineObj)
	
	  var h = 0, chunk = lineObj.parent
	  for (var i = 0; i < chunk.lines.length; ++i) {
	    var line = chunk.lines[i]
	    if (line == lineObj) { break }
	    else { h += line.height }
	  }
	  for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {
	    for (var i$1 = 0; i$1 < p.children.length; ++i$1) {
	      var cur = p.children[i$1]
	      if (cur == chunk) { break }
	      else { h += cur.height }
	    }
	  }
	  return h
	}
	
	// Compute the character length of a line, taking into account
	// collapsed ranges (see markText) that might hide parts, and join
	// other lines onto it.
	function lineLength(line) {
	  if (line.height == 0) { return 0 }
	  var len = line.text.length, merged, cur = line
	  while (merged = collapsedSpanAtStart(cur)) {
	    var found = merged.find(0, true)
	    cur = found.from.line
	    len += found.from.ch - found.to.ch
	  }
	  cur = line
	  while (merged = collapsedSpanAtEnd(cur)) {
	    var found$1 = merged.find(0, true)
	    len -= cur.text.length - found$1.from.ch
	    cur = found$1.to.line
	    len += cur.text.length - found$1.to.ch
	  }
	  return len
	}
	
	// Find the longest line in the document.
	function findMaxLine(cm) {
	  var d = cm.display, doc = cm.doc
	  d.maxLine = getLine(doc, doc.first)
	  d.maxLineLength = lineLength(d.maxLine)
	  d.maxLineChanged = true
	  doc.iter(function (line) {
	    var len = lineLength(line)
	    if (len > d.maxLineLength) {
	      d.maxLineLength = len
	      d.maxLine = line
	    }
	  })
	}
	
	// BIDI HELPERS
	
	function iterateBidiSections(order, from, to, f) {
	  if (!order) { return f(from, to, "ltr") }
	  var found = false
	  for (var i = 0; i < order.length; ++i) {
	    var part = order[i]
	    if (part.from < to && part.to > from || from == to && part.to == from) {
	      f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? "rtl" : "ltr")
	      found = true
	    }
	  }
	  if (!found) { f(from, to, "ltr") }
	}
	
	function bidiLeft(part) { return part.level % 2 ? part.to : part.from }
	function bidiRight(part) { return part.level % 2 ? part.from : part.to }
	
	function lineLeft(line) { var order = getOrder(line); return order ? bidiLeft(order[0]) : 0 }
	function lineRight(line) {
	  var order = getOrder(line)
	  if (!order) { return line.text.length }
	  return bidiRight(lst(order))
	}
	
	function compareBidiLevel(order, a, b) {
	  var linedir = order[0].level
	  if (a == linedir) { return true }
	  if (b == linedir) { return false }
	  return a < b
	}
	
	var bidiOther = null
	function getBidiPartAt(order, pos) {
	  var found
	  bidiOther = null
	  for (var i = 0; i < order.length; ++i) {
	    var cur = order[i]
	    if (cur.from < pos && cur.to > pos) { return i }
	    if ((cur.from == pos || cur.to == pos)) {
	      if (found == null) {
	        found = i
	      } else if (compareBidiLevel(order, cur.level, order[found].level)) {
	        if (cur.from != cur.to) { bidiOther = found }
	        return i
	      } else {
	        if (cur.from != cur.to) { bidiOther = i }
	        return found
	      }
	    }
	  }
	  return found
	}
	
	function moveInLine(line, pos, dir, byUnit) {
	  if (!byUnit) { return pos + dir }
	  do { pos += dir }
	  while (pos > 0 && isExtendingChar(line.text.charAt(pos)))
	  return pos
	}
	
	// This is needed in order to move 'visually' through bi-directional
	// text -- i.e., pressing left should make the cursor go left, even
	// when in RTL text. The tricky part is the 'jumps', where RTL and
	// LTR text touch each other. This often requires the cursor offset
	// to move more than one unit, in order to visually move one unit.
	function moveVisually(line, start, dir, byUnit) {
	  var bidi = getOrder(line)
	  if (!bidi) { return moveLogically(line, start, dir, byUnit) }
	  var pos = getBidiPartAt(bidi, start), part = bidi[pos]
	  var target = moveInLine(line, start, part.level % 2 ? -dir : dir, byUnit)
	
	  for (;;) {
	    if (target > part.from && target < part.to) { return target }
	    if (target == part.from || target == part.to) {
	      if (getBidiPartAt(bidi, target) == pos) { return target }
	      part = bidi[pos += dir]
	      return (dir > 0) == part.level % 2 ? part.to : part.from
	    } else {
	      part = bidi[pos += dir]
	      if (!part) { return null }
	      if ((dir > 0) == part.level % 2)
	        { target = moveInLine(line, part.to, -1, byUnit) }
	      else
	        { target = moveInLine(line, part.from, 1, byUnit) }
	    }
	  }
	}
	
	function moveLogically(line, start, dir, byUnit) {
	  var target = start + dir
	  if (byUnit) { while (target > 0 && isExtendingChar(line.text.charAt(target))) { target += dir } }
	  return target < 0 || target > line.text.length ? null : target
	}
	
	// Bidirectional ordering algorithm
	// See http://unicode.org/reports/tr9/tr9-13.html for the algorithm
	// that this (partially) implements.
	
	// One-char codes used for character types:
	// L (L):   Left-to-Right
	// R (R):   Right-to-Left
	// r (AL):  Right-to-Left Arabic
	// 1 (EN):  European Number
	// + (ES):  European Number Separator
	// % (ET):  European Number Terminator
	// n (AN):  Arabic Number
	// , (CS):  Common Number Separator
	// m (NSM): Non-Spacing Mark
	// b (BN):  Boundary Neutral
	// s (B):   Paragraph Separator
	// t (S):   Segment Separator
	// w (WS):  Whitespace
	// N (ON):  Other Neutrals
	
	// Returns null if characters are ordered as they appear
	// (left-to-right), or an array of sections ({from, to, level}
	// objects) in the order in which they occur visually.
	var bidiOrdering = (function() {
	  // Character types for codepoints 0 to 0xff
	  var lowTypes = "bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN"
	  // Character types for codepoints 0x600 to 0x6ff
	  var arabicTypes = "rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm"
	  function charType(code) {
	    if (code <= 0xf7) { return lowTypes.charAt(code) }
	    else if (0x590 <= code && code <= 0x5f4) { return "R" }
	    else if (0x600 <= code && code <= 0x6ed) { return arabicTypes.charAt(code - 0x600) }
	    else if (0x6ee <= code && code <= 0x8ac) { return "r" }
	    else if (0x2000 <= code && code <= 0x200b) { return "w" }
	    else if (code == 0x200c) { return "b" }
	    else { return "L" }
	  }
	
	  var bidiRE = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/
	  var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/
	  // Browsers seem to always treat the boundaries of block elements as being L.
	  var outerType = "L"
	
	  function BidiSpan(level, from, to) {
	    this.level = level
	    this.from = from; this.to = to
	  }
	
	  return function(str) {
	    if (!bidiRE.test(str)) { return false }
	    var len = str.length, types = []
	    for (var i = 0; i < len; ++i)
	      { types.push(charType(str.charCodeAt(i))) }
	
	    // W1. Examine each non-spacing mark (NSM) in the level run, and
	    // change the type of the NSM to the type of the previous
	    // character. If the NSM is at the start of the level run, it will
	    // get the type of sor.
	    for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {
	      var type = types[i$1]
	      if (type == "m") { types[i$1] = prev }
	      else { prev = type }
	    }
	
	    // W2. Search backwards from each instance of a European number
	    // until the first strong type (R, L, AL, or sor) is found. If an
	    // AL is found, change the type of the European number to Arabic
	    // number.
	    // W3. Change all ALs to R.
	    for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {
	      var type$1 = types[i$2]
	      if (type$1 == "1" && cur == "r") { types[i$2] = "n" }
	      else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == "r") { types[i$2] = "R" } }
	    }
	
	    // W4. A single European separator between two European numbers
	    // changes to a European number. A single common separator between
	    // two numbers of the same type changes to that type.
	    for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {
	      var type$2 = types[i$3]
	      if (type$2 == "+" && prev$1 == "1" && types[i$3+1] == "1") { types[i$3] = "1" }
	      else if (type$2 == "," && prev$1 == types[i$3+1] &&
	               (prev$1 == "1" || prev$1 == "n")) { types[i$3] = prev$1 }
	      prev$1 = type$2
	    }
	
	    // W5. A sequence of European terminators adjacent to European
	    // numbers changes to all European numbers.
	    // W6. Otherwise, separators and terminators change to Other
	    // Neutral.
	    for (var i$4 = 0; i$4 < len; ++i$4) {
	      var type$3 = types[i$4]
	      if (type$3 == ",") { types[i$4] = "N" }
	      else if (type$3 == "%") {
	        var end = (void 0)
	        for (end = i$4 + 1; end < len && types[end] == "%"; ++end) {}
	        var replace = (i$4 && types[i$4-1] == "!") || (end < len && types[end] == "1") ? "1" : "N"
	        for (var j = i$4; j < end; ++j) { types[j] = replace }
	        i$4 = end - 1
	      }
	    }
	
	    // W7. Search backwards from each instance of a European number
	    // until the first strong type (R, L, or sor) is found. If an L is
	    // found, then change the type of the European number to L.
	    for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {
	      var type$4 = types[i$5]
	      if (cur$1 == "L" && type$4 == "1") { types[i$5] = "L" }
	      else if (isStrong.test(type$4)) { cur$1 = type$4 }
	    }
	
	    // N1. A sequence of neutrals takes the direction of the
	    // surrounding strong text if the text on both sides has the same
	    // direction. European and Arabic numbers act as if they were R in
	    // terms of their influence on neutrals. Start-of-level-run (sor)
	    // and end-of-level-run (eor) are used at level run boundaries.
	    // N2. Any remaining neutrals take the embedding direction.
	    for (var i$6 = 0; i$6 < len; ++i$6) {
	      if (isNeutral.test(types[i$6])) {
	        var end$1 = (void 0)
	        for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}
	        var before = (i$6 ? types[i$6-1] : outerType) == "L"
	        var after = (end$1 < len ? types[end$1] : outerType) == "L"
	        var replace$1 = before || after ? "L" : "R"
	        for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1 }
	        i$6 = end$1 - 1
	      }
	    }
	
	    // Here we depart from the documented algorithm, in order to avoid
	    // building up an actual levels array. Since there are only three
	    // levels (0, 1, 2) in an implementation that doesn't take
	    // explicit embedding into account, we can build up the order on
	    // the fly, without following the level-based algorithm.
	    var order = [], m
	    for (var i$7 = 0; i$7 < len;) {
	      if (countsAsLeft.test(types[i$7])) {
	        var start = i$7
	        for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}
	        order.push(new BidiSpan(0, start, i$7))
	      } else {
	        var pos = i$7, at = order.length
	        for (++i$7; i$7 < len && types[i$7] != "L"; ++i$7) {}
	        for (var j$2 = pos; j$2 < i$7;) {
	          if (countsAsNum.test(types[j$2])) {
	            if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)) }
	            var nstart = j$2
	            for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}
	            order.splice(at, 0, new BidiSpan(2, nstart, j$2))
	            pos = j$2
	          } else { ++j$2 }
	        }
	        if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)) }
	      }
	    }
	    if (order[0].level == 1 && (m = str.match(/^\s+/))) {
	      order[0].from = m[0].length
	      order.unshift(new BidiSpan(0, 0, m[0].length))
	    }
	    if (lst(order).level == 1 && (m = str.match(/\s+$/))) {
	      lst(order).to -= m[0].length
	      order.push(new BidiSpan(0, len - m[0].length, len))
	    }
	    if (order[0].level == 2)
	      { order.unshift(new BidiSpan(1, order[0].to, order[0].to)) }
	    if (order[0].level != lst(order).level)
	      { order.push(new BidiSpan(order[0].level, len, len)) }
	
	    return order
	  }
	})()
	
	// Get the bidi ordering for the given line (and cache it). Returns
	// false for lines that are fully left-to-right, and an array of
	// BidiSpan objects otherwise.
	function getOrder(line) {
	  var order = line.order
	  if (order == null) { order = line.order = bidiOrdering(line.text) }
	  return order
	}
	
	// EVENT HANDLING
	
	// Lightweight event framework. on/off also work on DOM nodes,
	// registering native DOM handlers.
	
	var noHandlers = []
	
	var on = function(emitter, type, f) {
	  if (emitter.addEventListener) {
	    emitter.addEventListener(type, f, false)
	  } else if (emitter.attachEvent) {
	    emitter.attachEvent("on" + type, f)
	  } else {
	    var map = emitter._handlers || (emitter._handlers = {})
	    map[type] = (map[type] || noHandlers).concat(f)
	  }
	}
	
	function getHandlers(emitter, type) {
	  return emitter._handlers && emitter._handlers[type] || noHandlers
	}
	
	function off(emitter, type, f) {
	  if (emitter.removeEventListener) {
	    emitter.removeEventListener(type, f, false)
	  } else if (emitter.detachEvent) {
	    emitter.detachEvent("on" + type, f)
	  } else {
	    var map = emitter._handlers, arr = map && map[type]
	    if (arr) {
	      var index = indexOf(arr, f)
	      if (index > -1)
	        { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)) }
	    }
	  }
	}
	
	function signal(emitter, type /*, values...*/) {
	  var handlers = getHandlers(emitter, type)
	  if (!handlers.length) { return }
	  var args = Array.prototype.slice.call(arguments, 2)
	  for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args) }
	}
	
	// The DOM events that CodeMirror handles can be overridden by
	// registering a (non-DOM) handler on the editor for the event name,
	// and preventDefault-ing the event in that handler.
	function signalDOMEvent(cm, e, override) {
	  if (typeof e == "string")
	    { e = {type: e, preventDefault: function() { this.defaultPrevented = true }} }
	  signal(cm, override || e.type, cm, e)
	  return e_defaultPrevented(e) || e.codemirrorIgnore
	}
	
	function signalCursorActivity(cm) {
	  var arr = cm._handlers && cm._handlers.cursorActivity
	  if (!arr) { return }
	  var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = [])
	  for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)
	    { set.push(arr[i]) } }
	}
	
	function hasHandler(emitter, type) {
	  return getHandlers(emitter, type).length > 0
	}
	
	// Add on and off methods to a constructor's prototype, to make
	// registering events on such objects more convenient.
	function eventMixin(ctor) {
	  ctor.prototype.on = function(type, f) {on(this, type, f)}
	  ctor.prototype.off = function(type, f) {off(this, type, f)}
	}
	
	// Due to the fact that we still support jurassic IE versions, some
	// compatibility wrappers are needed.
	
	function e_preventDefault(e) {
	  if (e.preventDefault) { e.preventDefault() }
	  else { e.returnValue = false }
	}
	function e_stopPropagation(e) {
	  if (e.stopPropagation) { e.stopPropagation() }
	  else { e.cancelBubble = true }
	}
	function e_defaultPrevented(e) {
	  return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false
	}
	function e_stop(e) {e_preventDefault(e); e_stopPropagation(e)}
	
	function e_target(e) {return e.target || e.srcElement}
	function e_button(e) {
	  var b = e.which
	  if (b == null) {
	    if (e.button & 1) { b = 1 }
	    else if (e.button & 2) { b = 3 }
	    else if (e.button & 4) { b = 2 }
	  }
	  if (mac && e.ctrlKey && b == 1) { b = 3 }
	  return b
	}
	
	// Detect drag-and-drop
	var dragAndDrop = function() {
	  // There is *some* kind of drag-and-drop support in IE6-8, but I
	  // couldn't get it to work yet.
	  if (ie && ie_version < 9) { return false }
	  var div = elt('div')
	  return "draggable" in div || "dragDrop" in div
	}()
	
	var zwspSupported
	function zeroWidthElement(measure) {
	  if (zwspSupported == null) {
	    var test = elt("span", "\u200b")
	    removeChildrenAndAdd(measure, elt("span", [test, document.createTextNode("x")]))
	    if (measure.firstChild.offsetHeight != 0)
	      { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8) }
	  }
	  var node = zwspSupported ? elt("span", "\u200b") :
	    elt("span", "\u00a0", null, "display: inline-block; width: 1px; margin-right: -1px")
	  node.setAttribute("cm-text", "")
	  return node
	}
	
	// Feature-detect IE's crummy client rect reporting for bidi text
	var badBidiRects
	function hasBadBidiRects(measure) {
	  if (badBidiRects != null) { return badBidiRects }
	  var txt = removeChildrenAndAdd(measure, document.createTextNode("A\u062eA"))
	  var r0 = range(txt, 0, 1).getBoundingClientRect()
	  var r1 = range(txt, 1, 2).getBoundingClientRect()
	  removeChildren(measure)
	  if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)
	  return badBidiRects = (r1.right - r0.right < 3)
	}
	
	// See if "".split is the broken IE version, if so, provide an
	// alternative way to split lines.
	var splitLinesAuto = "\n\nb".split(/\n/).length != 3 ? function (string) {
	  var pos = 0, result = [], l = string.length
	  while (pos <= l) {
	    var nl = string.indexOf("\n", pos)
	    if (nl == -1) { nl = string.length }
	    var line = string.slice(pos, string.charAt(nl - 1) == "\r" ? nl - 1 : nl)
	    var rt = line.indexOf("\r")
	    if (rt != -1) {
	      result.push(line.slice(0, rt))
	      pos += rt + 1
	    } else {
	      result.push(line)
	      pos = nl + 1
	    }
	  }
	  return result
	} : function (string) { return string.split(/\r\n?|\n/); }
	
	var hasSelection = window.getSelection ? function (te) {
	  try { return te.selectionStart != te.selectionEnd }
	  catch(e) { return false }
	} : function (te) {
	  var range
	  try {range = te.ownerDocument.selection.createRange()}
	  catch(e) {}
	  if (!range || range.parentElement() != te) { return false }
	  return range.compareEndPoints("StartToEnd", range) != 0
	}
	
	var hasCopyEvent = (function () {
	  var e = elt("div")
	  if ("oncopy" in e) { return true }
	  e.setAttribute("oncopy", "return;")
	  return typeof e.oncopy == "function"
	})()
	
	var badZoomedRects = null
	function hasBadZoomedRects(measure) {
	  if (badZoomedRects != null) { return badZoomedRects }
	  var node = removeChildrenAndAdd(measure, elt("span", "x"))
	  var normal = node.getBoundingClientRect()
	  var fromRange = range(node, 0, 1).getBoundingClientRect()
	  return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1
	}
	
	var modes = {};
	var mimeModes = {};
	// Extra arguments are stored as the mode's dependencies, which is
	// used by (legacy) mechanisms like loadmode.js to automatically
	// load a mode. (Preferred mechanism is the require/define calls.)
	function defineMode(name, mode) {
	  if (arguments.length > 2)
	    { mode.dependencies = Array.prototype.slice.call(arguments, 2) }
	  modes[name] = mode
	}
	
	function defineMIME(mime, spec) {
	  mimeModes[mime] = spec
	}
	
	// Given a MIME type, a {name, ...options} config object, or a name
	// string, return a mode config object.
	function resolveMode(spec) {
	  if (typeof spec == "string" && mimeModes.hasOwnProperty(spec)) {
	    spec = mimeModes[spec]
	  } else if (spec && typeof spec.name == "string" && mimeModes.hasOwnProperty(spec.name)) {
	    var found = mimeModes[spec.name]
	    if (typeof found == "string") { found = {name: found} }
	    spec = createObj(found, spec)
	    spec.name = found.name
	  } else if (typeof spec == "string" && /^[\w\-]+\/[\w\-]+\+xml$/.test(spec)) {
	    return resolveMode("application/xml")
	  } else if (typeof spec == "string" && /^[\w\-]+\/[\w\-]+\+json$/.test(spec)) {
	    return resolveMode("application/json")
	  }
	  if (typeof spec == "string") { return {name: spec} }
	  else { return spec || {name: "null"} }
	}
	
	// Given a mode spec (anything that resolveMode accepts), find and
	// initialize an actual mode object.
	function getMode(options, spec) {
	  spec = resolveMode(spec)
	  var mfactory = modes[spec.name]
	  if (!mfactory) { return getMode(options, "text/plain") }
	  var modeObj = mfactory(options, spec)
	  if (modeExtensions.hasOwnProperty(spec.name)) {
	    var exts = modeExtensions[spec.name]
	    for (var prop in exts) {
	      if (!exts.hasOwnProperty(prop)) { continue }
	      if (modeObj.hasOwnProperty(prop)) { modeObj["_" + prop] = modeObj[prop] }
	      modeObj[prop] = exts[prop]
	    }
	  }
	  modeObj.name = spec.name
	  if (spec.helperType) { modeObj.helperType = spec.helperType }
	  if (spec.modeProps) { for (var prop$1 in spec.modeProps)
	    { modeObj[prop$1] = spec.modeProps[prop$1] } }
	
	  return modeObj
	}
	
	// This can be used to attach properties to mode objects from
	// outside the actual mode definition.
	var modeExtensions = {}
	function extendMode(mode, properties) {
	  var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {})
	  copyObj(properties, exts)
	}
	
	function copyState(mode, state) {
	  if (state === true) { return state }
	  if (mode.copyState) { return mode.copyState(state) }
	  var nstate = {}
	  for (var n in state) {
	    var val = state[n]
	    if (val instanceof Array) { val = val.concat([]) }
	    nstate[n] = val
	  }
	  return nstate
	}
	
	// Given a mode and a state (for that mode), find the inner mode and
	// state at the position that the state refers to.
	function innerMode(mode, state) {
	  var info
	  while (mode.innerMode) {
	    info = mode.innerMode(state)
	    if (!info || info.mode == mode) { break }
	    state = info.state
	    mode = info.mode
	  }
	  return info || {mode: mode, state: state}
	}
	
	function startState(mode, a1, a2) {
	  return mode.startState ? mode.startState(a1, a2) : true
	}
	
	// STRING STREAM
	
	// Fed to the mode parsers, provides helper functions to make
	// parsers more succinct.
	
	var StringStream = function(string, tabSize) {
	  this.pos = this.start = 0
	  this.string = string
	  this.tabSize = tabSize || 8
	  this.lastColumnPos = this.lastColumnValue = 0
	  this.lineStart = 0
	}
	
	StringStream.prototype = {
	  eol: function() {return this.pos >= this.string.length},
	  sol: function() {return this.pos == this.lineStart},
	  peek: function() {return this.string.charAt(this.pos) || undefined},
	  next: function() {
	    if (this.pos < this.string.length)
	      { return this.string.charAt(this.pos++) }
	  },
	  eat: function(match) {
	    var ch = this.string.charAt(this.pos)
	    var ok
	    if (typeof match == "string") { ok = ch == match }
	    else { ok = ch && (match.test ? match.test(ch) : match(ch)) }
	    if (ok) {++this.pos; return ch}
	  },
	  eatWhile: function(match) {
	    var start = this.pos
	    while (this.eat(match)){}
	    return this.pos > start
	  },
	  eatSpace: function() {
	    var this$1 = this;
	
	    var start = this.pos
	    while (/[\s\u00a0]/.test(this.string.charAt(this.pos))) { ++this$1.pos }
	    return this.pos > start
	  },
	  skipToEnd: function() {this.pos = this.string.length},
	  skipTo: function(ch) {
	    var found = this.string.indexOf(ch, this.pos)
	    if (found > -1) {this.pos = found; return true}
	  },
	  backUp: function(n) {this.pos -= n},
	  column: function() {
	    if (this.lastColumnPos < this.start) {
	      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue)
	      this.lastColumnPos = this.start
	    }
	    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)
	  },
	  indentation: function() {
	    return countColumn(this.string, null, this.tabSize) -
	      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)
	  },
	  match: function(pattern, consume, caseInsensitive) {
	    if (typeof pattern == "string") {
	      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; }
	      var substr = this.string.substr(this.pos, pattern.length)
	      if (cased(substr) == cased(pattern)) {
	        if (consume !== false) { this.pos += pattern.length }
	        return true
	      }
	    } else {
	      var match = this.string.slice(this.pos).match(pattern)
	      if (match && match.index > 0) { return null }
	      if (match && consume !== false) { this.pos += match[0].length }
	      return match
	    }
	  },
	  current: function(){return this.string.slice(this.start, this.pos)},
	  hideFirstChars: function(n, inner) {
	    this.lineStart += n
	    try { return inner() }
	    finally { this.lineStart -= n }
	  }
	}
	
	// Compute a style array (an array starting with a mode generation
	// -- for invalidation -- followed by pairs of end positions and
	// style strings), which is used to highlight the tokens on the
	// line.
	function highlightLine(cm, line, state, forceToEnd) {
	  // A styles array always starts with a number identifying the
	  // mode/overlays that it is based on (for easy invalidation).
	  var st = [cm.state.modeGen], lineClasses = {}
	  // Compute the base array of styles
	  runMode(cm, line.text, cm.doc.mode, state, function (end, style) { return st.push(end, style); },
	    lineClasses, forceToEnd)
	
	  // Run overlays, adjust style array.
	  var loop = function ( o ) {
	    var overlay = cm.state.overlays[o], i = 1, at = 0
	    runMode(cm, line.text, overlay.mode, true, function (end, style) {
	      var start = i
	      // Ensure there's a token end at the current position, and that i points at it
	      while (at < end) {
	        var i_end = st[i]
	        if (i_end > end)
	          { st.splice(i, 1, end, st[i+1], i_end) }
	        i += 2
	        at = Math.min(end, i_end)
	      }
	      if (!style) { return }
	      if (overlay.opaque) {
	        st.splice(start, i - start, end, "overlay " + style)
	        i = start + 2
	      } else {
	        for (; start < i; start += 2) {
	          var cur = st[start+1]
	          st[start+1] = (cur ? cur + " " : "") + "overlay " + style
	        }
	      }
	    }, lineClasses)
	  };
	
	  for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );
	
	  return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}
	}
	
	function getLineStyles(cm, line, updateFrontier) {
	  if (!line.styles || line.styles[0] != cm.state.modeGen) {
	    var state = getStateBefore(cm, lineNo(line))
	    var result = highlightLine(cm, line, line.text.length > cm.options.maxHighlightLength ? copyState(cm.doc.mode, state) : state)
	    line.stateAfter = state
	    line.styles = result.styles
	    if (result.classes) { line.styleClasses = result.classes }
	    else if (line.styleClasses) { line.styleClasses = null }
	    if (updateFrontier === cm.doc.frontier) { cm.doc.frontier++ }
	  }
	  return line.styles
	}
	
	function getStateBefore(cm, n, precise) {
	  var doc = cm.doc, display = cm.display
	  if (!doc.mode.startState) { return true }
	  var pos = findStartLine(cm, n, precise), state = pos > doc.first && getLine(doc, pos-1).stateAfter
	  if (!state) { state = startState(doc.mode) }
	  else { state = copyState(doc.mode, state) }
	  doc.iter(pos, n, function (line) {
	    processLine(cm, line.text, state)
	    var save = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo
	    line.stateAfter = save ? copyState(doc.mode, state) : null
	    ++pos
	  })
	  if (precise) { doc.frontier = pos }
	  return state
	}
	
	// Lightweight form of highlight -- proceed over this line and
	// update state, but don't save a style array. Used for lines that
	// aren't currently visible.
	function processLine(cm, text, state, startAt) {
	  var mode = cm.doc.mode
	  var stream = new StringStream(text, cm.options.tabSize)
	  stream.start = stream.pos = startAt || 0
	  if (text == "") { callBlankLine(mode, state) }
	  while (!stream.eol()) {
	    readToken(mode, stream, state)
	    stream.start = stream.pos
	  }
	}
	
	function callBlankLine(mode, state) {
	  if (mode.blankLine) { return mode.blankLine(state) }
	  if (!mode.innerMode) { return }
	  var inner = innerMode(mode, state)
	  if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }
	}
	
	function readToken(mode, stream, state, inner) {
	  for (var i = 0; i < 10; i++) {
	    if (inner) { inner[0] = innerMode(mode, state).mode }
	    var style = mode.token(stream, state)
	    if (stream.pos > stream.start) { return style }
	  }
	  throw new Error("Mode " + mode.name + " failed to advance stream.")
	}
	
	// Utility for getTokenAt and getLineTokens
	function takeToken(cm, pos, precise, asArray) {
	  var getObj = function (copy) { return ({
	    start: stream.start, end: stream.pos,
	    string: stream.current(),
	    type: style || null,
	    state: copy ? copyState(doc.mode, state) : state
	  }); }
	
	  var doc = cm.doc, mode = doc.mode, style
	  pos = clipPos(doc, pos)
	  var line = getLine(doc, pos.line), state = getStateBefore(cm, pos.line, precise)
	  var stream = new StringStream(line.text, cm.options.tabSize), tokens
	  if (asArray) { tokens = [] }
	  while ((asArray || stream.pos < pos.ch) && !stream.eol()) {
	    stream.start = stream.pos
	    style = readToken(mode, stream, state)
	    if (asArray) { tokens.push(getObj(true)) }
	  }
	  return asArray ? tokens : getObj()
	}
	
	function extractLineClasses(type, output) {
	  if (type) { for (;;) {
	    var lineClass = type.match(/(?:^|\s+)line-(background-)?(\S+)/)
	    if (!lineClass) { break }
	    type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length)
	    var prop = lineClass[1] ? "bgClass" : "textClass"
	    if (output[prop] == null)
	      { output[prop] = lineClass[2] }
	    else if (!(new RegExp("(?:^|\s)" + lineClass[2] + "(?:$|\s)")).test(output[prop]))
	      { output[prop] += " " + lineClass[2] }
	  } }
	  return type
	}
	
	// Run the given mode's parser over a line, calling f for each token.
	function runMode(cm, text, mode, state, f, lineClasses, forceToEnd) {
	  var flattenSpans = mode.flattenSpans
	  if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans }
	  var curStart = 0, curStyle = null
	  var stream = new StringStream(text, cm.options.tabSize), style
	  var inner = cm.options.addModeClass && [null]
	  if (text == "") { extractLineClasses(callBlankLine(mode, state), lineClasses) }
	  while (!stream.eol()) {
	    if (stream.pos > cm.options.maxHighlightLength) {
	      flattenSpans = false
	      if (forceToEnd) { processLine(cm, text, state, stream.pos) }
	      stream.pos = text.length
	      style = null
	    } else {
	      style = extractLineClasses(readToken(mode, stream, state, inner), lineClasses)
	    }
	    if (inner) {
	      var mName = inner[0].name
	      if (mName) { style = "m-" + (style ? mName + " " + style : mName) }
	    }
	    if (!flattenSpans || curStyle != style) {
	      while (curStart < stream.start) {
	        curStart = Math.min(stream.start, curStart + 5000)
	        f(curStart, curStyle)
	      }
	      curStyle = style
	    }
	    stream.start = stream.pos
	  }
	  while (curStart < stream.pos) {
	    // Webkit seems to refuse to render text nodes longer than 57444
	    // characters, and returns inaccurate measurements in nodes
	    // starting around 5000 chars.
	    var pos = Math.min(stream.pos, curStart + 5000)
	    f(pos, curStyle)
	    curStart = pos
	  }
	}
	
	// Finds the line to start with when starting a parse. Tries to
	// find a line with a stateAfter, so that it can start with a
	// valid state. If that fails, it returns the line with the
	// smallest indentation, which tends to need the least context to
	// parse correctly.
	function findStartLine(cm, n, precise) {
	  var minindent, minline, doc = cm.doc
	  var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100)
	  for (var search = n; search > lim; --search) {
	    if (search <= doc.first) { return doc.first }
	    var line = getLine(doc, search - 1)
	    if (line.stateAfter && (!precise || search <= doc.frontier)) { return search }
	    var indented = countColumn(line.text, null, cm.options.tabSize)
	    if (minline == null || minindent > indented) {
	      minline = search - 1
	      minindent = indented
	    }
	  }
	  return minline
	}
	
	// LINE DATA STRUCTURE
	
	// Line objects. These hold state related to a line, including
	// highlighting info (the styles array).
	function Line(text, markedSpans, estimateHeight) {
	  this.text = text
	  attachMarkedSpans(this, markedSpans)
	  this.height = estimateHeight ? estimateHeight(this) : 1
	}
	eventMixin(Line)
	Line.prototype.lineNo = function() { return lineNo(this) }
	
	// Change the content (text, markers) of a line. Automatically
	// invalidates cached information and tries to re-estimate the
	// line's height.
	function updateLine(line, text, markedSpans, estimateHeight) {
	  line.text = text
	  if (line.stateAfter) { line.stateAfter = null }
	  if (line.styles) { line.styles = null }
	  if (line.order != null) { line.order = null }
	  detachMarkedSpans(line)
	  attachMarkedSpans(line, markedSpans)
	  var estHeight = estimateHeight ? estimateHeight(line) : 1
	  if (estHeight != line.height) { updateLineHeight(line, estHeight) }
	}
	
	// Detach a line from the document tree and its markers.
	function cleanUpLine(line) {
	  line.parent = null
	  detachMarkedSpans(line)
	}
	
	// Convert a style as returned by a mode (either null, or a string
	// containing one or more styles) to a CSS style. This is cached,
	// and also looks for line-wide styles.
	var styleToClassCache = {};
	var styleToClassCacheWithMode = {};
	function interpretTokenStyle(style, options) {
	  if (!style || /^\s*$/.test(style)) { return null }
	  var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache
	  return cache[style] ||
	    (cache[style] = style.replace(/\S+/g, "cm-$&"))
	}
	
	// Render the DOM representation of the text of a line. Also builds
	// up a 'line map', which points at the DOM nodes that represent
	// specific stretches of text, and is used by the measuring code.
	// The returned object contains the DOM node, this map, and
	// information about line-wide styles that were set by the mode.
	function buildLineContent(cm, lineView) {
	  // The padding-right forces the element to have a 'border', which
	  // is needed on Webkit to be able to get line-level bounding
	  // rectangles for it (in measureChar).
	  var content = elt("span", null, null, webkit ? "padding-right: .1px" : null)
	  var builder = {pre: elt("pre", [content], "CodeMirror-line"), content: content,
	                 col: 0, pos: 0, cm: cm,
	                 trailingSpace: false,
	                 splitSpaces: (ie || webkit) && cm.getOption("lineWrapping")}
	  lineView.measure = {}
	
	  // Iterate over the logical lines that make up this visual line.
	  for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {
	    var line = i ? lineView.rest[i - 1] : lineView.line, order = (void 0)
	    builder.pos = 0
	    builder.addToken = buildToken
	    // Optionally wire in some hacks into the token-rendering
	    // algorithm, to deal with browser quirks.
	    if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line)))
	      { builder.addToken = buildTokenBadBidi(builder.addToken, order) }
	    builder.map = []
	    var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line)
	    insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate))
	    if (line.styleClasses) {
	      if (line.styleClasses.bgClass)
	        { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || "") }
	      if (line.styleClasses.textClass)
	        { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || "") }
	    }
	
	    // Ensure at least a single node is present, for measuring.
	    if (builder.map.length == 0)
	      { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))) }
	
	    // Store the map and a cache object for the current logical line
	    if (i == 0) {
	      lineView.measure.map = builder.map
	      lineView.measure.cache = {}
	    } else {
	      ;(lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)
	      ;(lineView.measure.caches || (lineView.measure.caches = [])).push({})
	    }
	  }
	
	  // See issue #2901
	  if (webkit) {
	    var last = builder.content.lastChild
	    if (/\bcm-tab\b/.test(last.className) || (last.querySelector && last.querySelector(".cm-tab")))
	      { builder.content.className = "cm-tab-wrap-hack" }
	  }
	
	  signal(cm, "renderLine", cm, lineView.line, builder.pre)
	  if (builder.pre.className)
	    { builder.textClass = joinClasses(builder.pre.className, builder.textClass || "") }
	
	  return builder
	}
	
	function defaultSpecialCharPlaceholder(ch) {
	  var token = elt("span", "\u2022", "cm-invalidchar")
	  token.title = "\\u" + ch.charCodeAt(0).toString(16)
	  token.setAttribute("aria-label", token.title)
	  return token
	}
	
	// Build up the DOM representation for a single token, and add it to
	// the line map. Takes care to render special characters separately.
	function buildToken(builder, text, style, startStyle, endStyle, title, css) {
	  if (!text) { return }
	  var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text
	  var special = builder.cm.state.specialChars, mustWrap = false
	  var content
	  if (!special.test(text)) {
	    builder.col += text.length
	    content = document.createTextNode(displayText)
	    builder.map.push(builder.pos, builder.pos + text.length, content)
	    if (ie && ie_version < 9) { mustWrap = true }
	    builder.pos += text.length
	  } else {
	    content = document.createDocumentFragment()
	    var pos = 0
	    while (true) {
	      special.lastIndex = pos
	      var m = special.exec(text)
	      var skipped = m ? m.index - pos : text.length - pos
	      if (skipped) {
	        var txt = document.createTextNode(displayText.slice(pos, pos + skipped))
	        if (ie && ie_version < 9) { content.appendChild(elt("span", [txt])) }
	        else { content.appendChild(txt) }
	        builder.map.push(builder.pos, builder.pos + skipped, txt)
	        builder.col += skipped
	        builder.pos += skipped
	      }
	      if (!m) { break }
	      pos += skipped + 1
	      var txt$1 = (void 0)
	      if (m[0] == "\t") {
	        var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize
	        txt$1 = content.appendChild(elt("span", spaceStr(tabWidth), "cm-tab"))
	        txt$1.setAttribute("role", "presentation")
	        txt$1.setAttribute("cm-text", "\t")
	        builder.col += tabWidth
	      } else if (m[0] == "\r" || m[0] == "\n") {
	        txt$1 = content.appendChild(elt("span", m[0] == "\r" ? "\u240d" : "\u2424", "cm-invalidchar"))
	        txt$1.setAttribute("cm-text", m[0])
	        builder.col += 1
	      } else {
	        txt$1 = builder.cm.options.specialCharPlaceholder(m[0])
	        txt$1.setAttribute("cm-text", m[0])
	        if (ie && ie_version < 9) { content.appendChild(elt("span", [txt$1])) }
	        else { content.appendChild(txt$1) }
	        builder.col += 1
	      }
	      builder.map.push(builder.pos, builder.pos + 1, txt$1)
	      builder.pos++
	    }
	  }
	  builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32
	  if (style || startStyle || endStyle || mustWrap || css) {
	    var fullStyle = style || ""
	    if (startStyle) { fullStyle += startStyle }
	    if (endStyle) { fullStyle += endStyle }
	    var token = elt("span", [content], fullStyle, css)
	    if (title) { token.title = title }
	    return builder.content.appendChild(token)
	  }
	  builder.content.appendChild(content)
	}
	
	function splitSpaces(text, trailingBefore) {
	  if (text.length > 1 && !/  /.test(text)) { return text }
	  var spaceBefore = trailingBefore, result = ""
	  for (var i = 0; i < text.length; i++) {
	    var ch = text.charAt(i)
	    if (ch == " " && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))
	      { ch = "\u00a0" }
	    result += ch
	    spaceBefore = ch == " "
	  }
	  return result
	}
	
	// Work around nonsense dimensions being reported for stretches of
	// right-to-left text.
	function buildTokenBadBidi(inner, order) {
	  return function (builder, text, style, startStyle, endStyle, title, css) {
	    style = style ? style + " cm-force-border" : "cm-force-border"
	    var start = builder.pos, end = start + text.length
	    for (;;) {
	      // Find the part that overlaps with the start of this text
	      var part = (void 0)
	      for (var i = 0; i < order.length; i++) {
	        part = order[i]
	        if (part.to > start && part.from <= start) { break }
	      }
	      if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, title, css) }
	      inner(builder, text.slice(0, part.to - start), style, startStyle, null, title, css)
	      startStyle = null
	      text = text.slice(part.to - start)
	      start = part.to
	    }
	  }
	}
	
	function buildCollapsedSpan(builder, size, marker, ignoreWidget) {
	  var widget = !ignoreWidget && marker.widgetNode
	  if (widget) { builder.map.push(builder.pos, builder.pos + size, widget) }
	  if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {
	    if (!widget)
	      { widget = builder.content.appendChild(document.createElement("span")) }
	    widget.setAttribute("cm-marker", marker.id)
	  }
	  if (widget) {
	    builder.cm.display.input.setUneditable(widget)
	    builder.content.appendChild(widget)
	  }
	  builder.pos += size
	  builder.trailingSpace = false
	}
	
	// Outputs a number of spans to make up a line, taking highlighting
	// and marked text into account.
	function insertLineContent(line, builder, styles) {
	  var spans = line.markedSpans, allText = line.text, at = 0
	  if (!spans) {
	    for (var i$1 = 1; i$1 < styles.length; i$1+=2)
	      { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)) }
	    return
	  }
	
	  var len = allText.length, pos = 0, i = 1, text = "", style, css
	  var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, title, collapsed
	  for (;;) {
	    if (nextChange == pos) { // Update current marker set
	      spanStyle = spanEndStyle = spanStartStyle = title = css = ""
	      collapsed = null; nextChange = Infinity
	      var foundBookmarks = [], endStyles = (void 0)
	      for (var j = 0; j < spans.length; ++j) {
	        var sp = spans[j], m = sp.marker
	        if (m.type == "bookmark" && sp.from == pos && m.widgetNode) {
	          foundBookmarks.push(m)
	        } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {
	          if (sp.to != null && sp.to != pos && nextChange > sp.to) {
	            nextChange = sp.to
	            spanEndStyle = ""
	          }
	          if (m.className) { spanStyle += " " + m.className }
	          if (m.css) { css = (css ? css + ";" : "") + m.css }
	          if (m.startStyle && sp.from == pos) { spanStartStyle += " " + m.startStyle }
	          if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to) }
	          if (m.title && !title) { title = m.title }
	          if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))
	            { collapsed = sp }
	        } else if (sp.from > pos && nextChange > sp.from) {
	          nextChange = sp.from
	        }
	      }
	      if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)
	        { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += " " + endStyles[j$1] } } }
	
	      if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)
	        { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]) } }
	      if (collapsed && (collapsed.from || 0) == pos) {
	        buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,
	                           collapsed.marker, collapsed.from == null)
	        if (collapsed.to == null) { return }
	        if (collapsed.to == pos) { collapsed = false }
	      }
	    }
	    if (pos >= len) { break }
	
	    var upto = Math.min(len, nextChange)
	    while (true) {
	      if (text) {
	        var end = pos + text.length
	        if (!collapsed) {
	          var tokenText = end > upto ? text.slice(0, upto - pos) : text
	          builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,
	                           spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : "", title, css)
	        }
	        if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}
	        pos = end
	        spanStartStyle = ""
	      }
	      text = allText.slice(at, at = styles[i++])
	      style = interpretTokenStyle(styles[i++], builder.cm.options)
	    }
	  }
	}
	
	
	// These objects are used to represent the visible (currently drawn)
	// part of the document. A LineView may correspond to multiple
	// logical lines, if those are connected by collapsed ranges.
	function LineView(doc, line, lineN) {
	  // The starting line
	  this.line = line
	  // Continuing lines, if any
	  this.rest = visualLineContinued(line)
	  // Number of logical lines in this visual line
	  this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1
	  this.node = this.text = null
	  this.hidden = lineIsHidden(doc, line)
	}
	
	// Create a range of LineView objects for the given lines.
	function buildViewArray(cm, from, to) {
	  var array = [], nextPos
	  for (var pos = from; pos < to; pos = nextPos) {
	    var view = new LineView(cm.doc, getLine(cm.doc, pos), pos)
	    nextPos = pos + view.size
	    array.push(view)
	  }
	  return array
	}
	
	var operationGroup = null
	
	function pushOperation(op) {
	  if (operationGroup) {
	    operationGroup.ops.push(op)
	  } else {
	    op.ownsGroup = operationGroup = {
	      ops: [op],
	      delayedCallbacks: []
	    }
	  }
	}
	
	function fireCallbacksForOps(group) {
	  // Calls delayed callbacks and cursorActivity handlers until no
	  // new ones appear
	  var callbacks = group.delayedCallbacks, i = 0
	  do {
	    for (; i < callbacks.length; i++)
	      { callbacks[i].call(null) }
	    for (var j = 0; j < group.ops.length; j++) {
	      var op = group.ops[j]
	      if (op.cursorActivityHandlers)
	        { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)
	          { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm) } }
	    }
	  } while (i < callbacks.length)
	}
	
	function finishOperation(op, endCb) {
	  var group = op.ownsGroup
	  if (!group) { return }
	
	  try { fireCallbacksForOps(group) }
	  finally {
	    operationGroup = null
	    endCb(group)
	  }
	}
	
	var orphanDelayedCallbacks = null
	
	// Often, we want to signal events at a point where we are in the
	// middle of some work, but don't want the handler to start calling
	// other methods on the editor, which might be in an inconsistent
	// state or simply not expect any other events to happen.
	// signalLater looks whether there are any handlers, and schedules
	// them to be executed when the last operation ends, or, if no
	// operation is active, when a timeout fires.
	function signalLater(emitter, type /*, values...*/) {
	  var arr = getHandlers(emitter, type)
	  if (!arr.length) { return }
	  var args = Array.prototype.slice.call(arguments, 2), list
	  if (operationGroup) {
	    list = operationGroup.delayedCallbacks
	  } else if (orphanDelayedCallbacks) {
	    list = orphanDelayedCallbacks
	  } else {
	    list = orphanDelayedCallbacks = []
	    setTimeout(fireOrphanDelayed, 0)
	  }
	  var loop = function ( i ) {
	    list.push(function () { return arr[i].apply(null, args); })
	  };
	
	  for (var i = 0; i < arr.length; ++i)
	    loop( i );
	}
	
	function fireOrphanDelayed() {
	  var delayed = orphanDelayedCallbacks
	  orphanDelayedCallbacks = null
	  for (var i = 0; i < delayed.length; ++i) { delayed[i]() }
	}
	
	// When an aspect of a line changes, a string is added to
	// lineView.changes. This updates the relevant part of the line's
	// DOM structure.
	function updateLineForChanges(cm, lineView, lineN, dims) {
	  for (var j = 0; j < lineView.changes.length; j++) {
	    var type = lineView.changes[j]
	    if (type == "text") { updateLineText(cm, lineView) }
	    else if (type == "gutter") { updateLineGutter(cm, lineView, lineN, dims) }
	    else if (type == "class") { updateLineClasses(lineView) }
	    else if (type == "widget") { updateLineWidgets(cm, lineView, dims) }
	  }
	  lineView.changes = null
	}
	
	// Lines with gutter elements, widgets or a background class need to
	// be wrapped, and have the extra elements added to the wrapper div
	function ensureLineWrapped(lineView) {
	  if (lineView.node == lineView.text) {
	    lineView.node = elt("div", null, null, "position: relative")
	    if (lineView.text.parentNode)
	      { lineView.text.parentNode.replaceChild(lineView.node, lineView.text) }
	    lineView.node.appendChild(lineView.text)
	    if (ie && ie_version < 8) { lineView.node.style.zIndex = 2 }
	  }
	  return lineView.node
	}
	
	function updateLineBackground(lineView) {
	  var cls = lineView.bgClass ? lineView.bgClass + " " + (lineView.line.bgClass || "") : lineView.line.bgClass
	  if (cls) { cls += " CodeMirror-linebackground" }
	  if (lineView.background) {
	    if (cls) { lineView.background.className = cls }
	    else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null }
	  } else if (cls) {
	    var wrap = ensureLineWrapped(lineView)
	    lineView.background = wrap.insertBefore(elt("div", null, cls), wrap.firstChild)
	  }
	}
	
	// Wrapper around buildLineContent which will reuse the structure
	// in display.externalMeasured when possible.
	function getLineContent(cm, lineView) {
	  var ext = cm.display.externalMeasured
	  if (ext && ext.line == lineView.line) {
	    cm.display.externalMeasured = null
	    lineView.measure = ext.measure
	    return ext.built
	  }
	  return buildLineContent(cm, lineView)
	}
	
	// Redraw the line's text. Interacts with the background and text
	// classes because the mode may output tokens that influence these
	// classes.
	function updateLineText(cm, lineView) {
	  var cls = lineView.text.className
	  var built = getLineContent(cm, lineView)
	  if (lineView.text == lineView.node) { lineView.node = built.pre }
	  lineView.text.parentNode.replaceChild(built.pre, lineView.text)
	  lineView.text = built.pre
	  if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {
	    lineView.bgClass = built.bgClass
	    lineView.textClass = built.textClass
	    updateLineClasses(lineView)
	  } else if (cls) {
	    lineView.text.className = cls
	  }
	}
	
	function updateLineClasses(lineView) {
	  updateLineBackground(lineView)
	  if (lineView.line.wrapClass)
	    { ensureLineWrapped(lineView).className = lineView.line.wrapClass }
	  else if (lineView.node != lineView.text)
	    { lineView.node.className = "" }
	  var textClass = lineView.textClass ? lineView.textClass + " " + (lineView.line.textClass || "") : lineView.line.textClass
	  lineView.text.className = textClass || ""
	}
	
	function updateLineGutter(cm, lineView, lineN, dims) {
	  if (lineView.gutter) {
	    lineView.node.removeChild(lineView.gutter)
	    lineView.gutter = null
	  }
	  if (lineView.gutterBackground) {
	    lineView.node.removeChild(lineView.gutterBackground)
	    lineView.gutterBackground = null
	  }
	  if (lineView.line.gutterClass) {
	    var wrap = ensureLineWrapped(lineView)
	    lineView.gutterBackground = elt("div", null, "CodeMirror-gutter-background " + lineView.line.gutterClass,
	                                    ("left: " + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + "px; width: " + (dims.gutterTotalWidth) + "px"))
	    wrap.insertBefore(lineView.gutterBackground, lineView.text)
	  }
	  var markers = lineView.line.gutterMarkers
	  if (cm.options.lineNumbers || markers) {
	    var wrap$1 = ensureLineWrapped(lineView)
	    var gutterWrap = lineView.gutter = elt("div", null, "CodeMirror-gutter-wrapper", ("left: " + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + "px"))
	    cm.display.input.setUneditable(gutterWrap)
	    wrap$1.insertBefore(gutterWrap, lineView.text)
	    if (lineView.line.gutterClass)
	      { gutterWrap.className += " " + lineView.line.gutterClass }
	    if (cm.options.lineNumbers && (!markers || !markers["CodeMirror-linenumbers"]))
	      { lineView.lineNumber = gutterWrap.appendChild(
	        elt("div", lineNumberFor(cm.options, lineN),
	            "CodeMirror-linenumber CodeMirror-gutter-elt",
	            ("left: " + (dims.gutterLeft["CodeMirror-linenumbers"]) + "px; width: " + (cm.display.lineNumInnerWidth) + "px"))) }
	    if (markers) { for (var k = 0; k < cm.options.gutters.length; ++k) {
	      var id = cm.options.gutters[k], found = markers.hasOwnProperty(id) && markers[id]
	      if (found)
	        { gutterWrap.appendChild(elt("div", [found], "CodeMirror-gutter-elt",
	                                   ("left: " + (dims.gutterLeft[id]) + "px; width: " + (dims.gutterWidth[id]) + "px"))) }
	    } }
	  }
	}
	
	function updateLineWidgets(cm, lineView, dims) {
	  if (lineView.alignable) { lineView.alignable = null }
	  for (var node = lineView.node.firstChild, next = (void 0); node; node = next) {
	    next = node.nextSibling
	    if (node.className == "CodeMirror-linewidget")
	      { lineView.node.removeChild(node) }
	  }
	  insertLineWidgets(cm, lineView, dims)
	}
	
	// Build a line's DOM representation from scratch
	function buildLineElement(cm, lineView, lineN, dims) {
	  var built = getLineContent(cm, lineView)
	  lineView.text = lineView.node = built.pre
	  if (built.bgClass) { lineView.bgClass = built.bgClass }
	  if (built.textClass) { lineView.textClass = built.textClass }
	
	  updateLineClasses(lineView)
	  updateLineGutter(cm, lineView, lineN, dims)
	  insertLineWidgets(cm, lineView, dims)
	  return lineView.node
	}
	
	// A lineView may contain multiple logical lines (when merged by
	// collapsed spans). The widgets for all of them need to be drawn.
	function insertLineWidgets(cm, lineView, dims) {
	  insertLineWidgetsFor(cm, lineView.line, lineView, dims, true)
	  if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)
	    { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false) } }
	}
	
	function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {
	  if (!line.widgets) { return }
	  var wrap = ensureLineWrapped(lineView)
	  for (var i = 0, ws = line.widgets; i < ws.length; ++i) {
	    var widget = ws[i], node = elt("div", [widget.node], "CodeMirror-linewidget")
	    if (!widget.handleMouseEvents) { node.setAttribute("cm-ignore-events", "true") }
	    positionLineWidget(widget, node, lineView, dims)
	    cm.display.input.setUneditable(node)
	    if (allowAbove && widget.above)
	      { wrap.insertBefore(node, lineView.gutter || lineView.text) }
	    else
	      { wrap.appendChild(node) }
	    signalLater(widget, "redraw")
	  }
	}
	
	function positionLineWidget(widget, node, lineView, dims) {
	  if (widget.noHScroll) {
	    ;(lineView.alignable || (lineView.alignable = [])).push(node)
	    var width = dims.wrapperWidth
	    node.style.left = dims.fixedPos + "px"
	    if (!widget.coverGutter) {
	      width -= dims.gutterTotalWidth
	      node.style.paddingLeft = dims.gutterTotalWidth + "px"
	    }
	    node.style.width = width + "px"
	  }
	  if (widget.coverGutter) {
	    node.style.zIndex = 5
	    node.style.position = "relative"
	    if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + "px" }
	  }
	}
	
	function widgetHeight(widget) {
	  if (widget.height != null) { return widget.height }
	  var cm = widget.doc.cm
	  if (!cm) { return 0 }
	  if (!contains(document.body, widget.node)) {
	    var parentStyle = "position: relative;"
	    if (widget.coverGutter)
	      { parentStyle += "margin-left: -" + cm.display.gutters.offsetWidth + "px;" }
	    if (widget.noHScroll)
	      { parentStyle += "width: " + cm.display.wrapper.clientWidth + "px;" }
	    removeChildrenAndAdd(cm.display.measure, elt("div", [widget.node], null, parentStyle))
	  }
	  return widget.height = widget.node.parentNode.offsetHeight
	}
	
	// Return true when the given mouse event happened in a widget
	function eventInWidget(display, e) {
	  for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {
	    if (!n || (n.nodeType == 1 && n.getAttribute("cm-ignore-events") == "true") ||
	        (n.parentNode == display.sizer && n != display.mover))
	      { return true }
	  }
	}
	
	// POSITION MEASUREMENT
	
	function paddingTop(display) {return display.lineSpace.offsetTop}
	function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}
	function paddingH(display) {
	  if (display.cachedPaddingH) { return display.cachedPaddingH }
	  var e = removeChildrenAndAdd(display.measure, elt("pre", "x"))
	  var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle
	  var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)}
	  if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data }
	  return data
	}
	
	function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }
	function displayWidth(cm) {
	  return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth
	}
	function displayHeight(cm) {
	  return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight
	}
	
	// Ensure the lineView.wrapping.heights array is populated. This is
	// an array of bottom offsets for the lines that make up a drawn
	// line. When lineWrapping is on, there might be more than one
	// height.
	function ensureLineHeights(cm, lineView, rect) {
	  var wrapping = cm.options.lineWrapping
	  var curWidth = wrapping && displayWidth(cm)
	  if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {
	    var heights = lineView.measure.heights = []
	    if (wrapping) {
	      lineView.measure.width = curWidth
	      var rects = lineView.text.firstChild.getClientRects()
	      for (var i = 0; i < rects.length - 1; i++) {
	        var cur = rects[i], next = rects[i + 1]
	        if (Math.abs(cur.bottom - next.bottom) > 2)
	          { heights.push((cur.bottom + next.top) / 2 - rect.top) }
	      }
	    }
	    heights.push(rect.bottom - rect.top)
	  }
	}
	
	// Find a line map (mapping character offsets to text nodes) and a
	// measurement cache for the given line number. (A line view might
	// contain multiple lines when collapsed ranges are present.)
	function mapFromLineView(lineView, line, lineN) {
	  if (lineView.line == line)
	    { return {map: lineView.measure.map, cache: lineView.measure.cache} }
	  for (var i = 0; i < lineView.rest.length; i++)
	    { if (lineView.rest[i] == line)
	      { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }
	  for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)
	    { if (lineNo(lineView.rest[i$1]) > lineN)
	      { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }
	}
	
	// Render a line into the hidden node display.externalMeasured. Used
	// when measurement is needed for a line that's not in the viewport.
	function updateExternalMeasurement(cm, line) {
	  line = visualLine(line)
	  var lineN = lineNo(line)
	  var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN)
	  view.lineN = lineN
	  var built = view.built = buildLineContent(cm, view)
	  view.text = built.pre
	  removeChildrenAndAdd(cm.display.lineMeasure, built.pre)
	  return view
	}
	
	// Get a {top, bottom, left, right} box (in line-local coordinates)
	// for a given character.
	function measureChar(cm, line, ch, bias) {
	  return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)
	}
	
	// Find a line view that corresponds to the given line number.
	function findViewForLine(cm, lineN) {
	  if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)
	    { return cm.display.view[findViewIndex(cm, lineN)] }
	  var ext = cm.display.externalMeasured
	  if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)
	    { return ext }
	}
	
	// Measurement can be split in two steps, the set-up work that
	// applies to the whole line, and the measurement of the actual
	// character. Functions like coordsChar, that need to do a lot of
	// measurements in a row, can thus ensure that the set-up work is
	// only done once.
	function prepareMeasureForLine(cm, line) {
	  var lineN = lineNo(line)
	  var view = findViewForLine(cm, lineN)
	  if (view && !view.text) {
	    view = null
	  } else if (view && view.changes) {
	    updateLineForChanges(cm, view, lineN, getDimensions(cm))
	    cm.curOp.forceUpdate = true
	  }
	  if (!view)
	    { view = updateExternalMeasurement(cm, line) }
	
	  var info = mapFromLineView(view, line, lineN)
	  return {
	    line: line, view: view, rect: null,
	    map: info.map, cache: info.cache, before: info.before,
	    hasHeights: false
	  }
	}
	
	// Given a prepared measurement object, measures the position of an
	// actual character (or fetches it from the cache).
	function measureCharPrepared(cm, prepared, ch, bias, varHeight) {
	  if (prepared.before) { ch = -1 }
	  var key = ch + (bias || ""), found
	  if (prepared.cache.hasOwnProperty(key)) {
	    found = prepared.cache[key]
	  } else {
	    if (!prepared.rect)
	      { prepared.rect = prepared.view.text.getBoundingClientRect() }
	    if (!prepared.hasHeights) {
	      ensureLineHeights(cm, prepared.view, prepared.rect)
	      prepared.hasHeights = true
	    }
	    found = measureCharInner(cm, prepared, ch, bias)
	    if (!found.bogus) { prepared.cache[key] = found }
	  }
	  return {left: found.left, right: found.right,
	          top: varHeight ? found.rtop : found.top,
	          bottom: varHeight ? found.rbottom : found.bottom}
	}
	
	var nullRect = {left: 0, right: 0, top: 0, bottom: 0}
	
	function nodeAndOffsetInLineMap(map, ch, bias) {
	  var node, start, end, collapse, mStart, mEnd
	  // First, search the line map for the text node corresponding to,
	  // or closest to, the target character.
	  for (var i = 0; i < map.length; i += 3) {
	    mStart = map[i]
	    mEnd = map[i + 1]
	    if (ch < mStart) {
	      start = 0; end = 1
	      collapse = "left"
	    } else if (ch < mEnd) {
	      start = ch - mStart
	      end = start + 1
	    } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {
	      end = mEnd - mStart
	      start = end - 1
	      if (ch >= mEnd) { collapse = "right" }
	    }
	    if (start != null) {
	      node = map[i + 2]
	      if (mStart == mEnd && bias == (node.insertLeft ? "left" : "right"))
	        { collapse = bias }
	      if (bias == "left" && start == 0)
	        { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {
	          node = map[(i -= 3) + 2]
	          collapse = "left"
	        } }
	      if (bias == "right" && start == mEnd - mStart)
	        { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {
	          node = map[(i += 3) + 2]
	          collapse = "right"
	        } }
	      break
	    }
	  }
	  return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}
	}
	
	function getUsefulRect(rects, bias) {
	  var rect = nullRect
	  if (bias == "left") { for (var i = 0; i < rects.length; i++) {
	    if ((rect = rects[i]).left != rect.right) { break }
	  } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {
	    if ((rect = rects[i$1]).left != rect.right) { break }
	  } }
	  return rect
	}
	
	function measureCharInner(cm, prepared, ch, bias) {
	  var place = nodeAndOffsetInLineMap(prepared.map, ch, bias)
	  var node = place.node, start = place.start, end = place.end, collapse = place.collapse
	
	  var rect
	  if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.
	    for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned
	      while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start }
	      while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end }
	      if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)
	        { rect = node.parentNode.getBoundingClientRect() }
	      else
	        { rect = getUsefulRect(range(node, start, end).getClientRects(), bias) }
	      if (rect.left || rect.right || start == 0) { break }
	      end = start
	      start = start - 1
	      collapse = "right"
	    }
	    if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect) }
	  } else { // If it is a widget, simply get the box for the whole widget.
	    if (start > 0) { collapse = bias = "right" }
	    var rects
	    if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)
	      { rect = rects[bias == "right" ? rects.length - 1 : 0] }
	    else
	      { rect = node.getBoundingClientRect() }
	  }
	  if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {
	    var rSpan = node.parentNode.getClientRects()[0]
	    if (rSpan)
	      { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom} }
	    else
	      { rect = nullRect }
	  }
	
	  var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top
	  var mid = (rtop + rbot) / 2
	  var heights = prepared.view.measure.heights
	  var i = 0
	  for (; i < heights.length - 1; i++)
	    { if (mid < heights[i]) { break } }
	  var top = i ? heights[i - 1] : 0, bot = heights[i]
	  var result = {left: (collapse == "right" ? rect.right : rect.left) - prepared.rect.left,
	                right: (collapse == "left" ? rect.left : rect.right) - prepared.rect.left,
	                top: top, bottom: bot}
	  if (!rect.left && !rect.right) { result.bogus = true }
	  if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot }
	
	  return result
	}
	
	// Work around problem with bounding client rects on ranges being
	// returned incorrectly when zoomed on IE10 and below.
	function maybeUpdateRectForZooming(measure, rect) {
	  if (!window.screen || screen.logicalXDPI == null ||
	      screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))
	    { return rect }
	  var scaleX = screen.logicalXDPI / screen.deviceXDPI
	  var scaleY = screen.logicalYDPI / screen.deviceYDPI
	  return {left: rect.left * scaleX, right: rect.right * scaleX,
	          top: rect.top * scaleY, bottom: rect.bottom * scaleY}
	}
	
	function clearLineMeasurementCacheFor(lineView) {
	  if (lineView.measure) {
	    lineView.measure.cache = {}
	    lineView.measure.heights = null
	    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)
	      { lineView.measure.caches[i] = {} } }
	  }
	}
	
	function clearLineMeasurementCache(cm) {
	  cm.display.externalMeasure = null
	  removeChildren(cm.display.lineMeasure)
	  for (var i = 0; i < cm.display.view.length; i++)
	    { clearLineMeasurementCacheFor(cm.display.view[i]) }
	}
	
	function clearCaches(cm) {
	  clearLineMeasurementCache(cm)
	  cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null
	  if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true }
	  cm.display.lineNumChars = null
	}
	
	function pageScrollX() { return window.pageXOffset || (document.documentElement || document.body).scrollLeft }
	function pageScrollY() { return window.pageYOffset || (document.documentElement || document.body).scrollTop }
	
	// Converts a {top, bottom, left, right} box from line-local
	// coordinates into another coordinate system. Context may be one of
	// "line", "div" (display.lineDiv), "local"./null (editor), "window",
	// or "page".
	function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {
	  if (!includeWidgets && lineObj.widgets) { for (var i = 0; i < lineObj.widgets.length; ++i) { if (lineObj.widgets[i].above) {
	    var size = widgetHeight(lineObj.widgets[i])
	    rect.top += size; rect.bottom += size
	  } } }
	  if (context == "line") { return rect }
	  if (!context) { context = "local" }
	  var yOff = heightAtLine(lineObj)
	  if (context == "local") { yOff += paddingTop(cm.display) }
	  else { yOff -= cm.display.viewOffset }
	  if (context == "page" || context == "window") {
	    var lOff = cm.display.lineSpace.getBoundingClientRect()
	    yOff += lOff.top + (context == "window" ? 0 : pageScrollY())
	    var xOff = lOff.left + (context == "window" ? 0 : pageScrollX())
	    rect.left += xOff; rect.right += xOff
	  }
	  rect.top += yOff; rect.bottom += yOff
	  return rect
	}
	
	// Coverts a box from "div" coords to another coordinate system.
	// Context may be "window", "page", "div", or "local"./null.
	function fromCoordSystem(cm, coords, context) {
	  if (context == "div") { return coords }
	  var left = coords.left, top = coords.top
	  // First move into "page" coordinate system
	  if (context == "page") {
	    left -= pageScrollX()
	    top -= pageScrollY()
	  } else if (context == "local" || !context) {
	    var localBox = cm.display.sizer.getBoundingClientRect()
	    left += localBox.left
	    top += localBox.top
	  }
	
	  var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect()
	  return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}
	}
	
	function charCoords(cm, pos, context, lineObj, bias) {
	  if (!lineObj) { lineObj = getLine(cm.doc, pos.line) }
	  return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)
	}
	
	// Returns a box for a given cursor position, which may have an
	// 'other' property containing the position of the secondary cursor
	// on a bidi boundary.
	function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {
	  lineObj = lineObj || getLine(cm.doc, pos.line)
	  if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj) }
	  function get(ch, right) {
	    var m = measureCharPrepared(cm, preparedMeasure, ch, right ? "right" : "left", varHeight)
	    if (right) { m.left = m.right; } else { m.right = m.left }
	    return intoCoordSystem(cm, lineObj, m, context)
	  }
	  function getBidi(ch, partPos) {
	    var part = order[partPos], right = part.level % 2
	    if (ch == bidiLeft(part) && partPos && part.level < order[partPos - 1].level) {
	      part = order[--partPos]
	      ch = bidiRight(part) - (part.level % 2 ? 0 : 1)
	      right = true
	    } else if (ch == bidiRight(part) && partPos < order.length - 1 && part.level < order[partPos + 1].level) {
	      part = order[++partPos]
	      ch = bidiLeft(part) - part.level % 2
	      right = false
	    }
	    if (right && ch == part.to && ch > part.from) { return get(ch - 1) }
	    return get(ch, right)
	  }
	  var order = getOrder(lineObj), ch = pos.ch
	  if (!order) { return get(ch) }
	  var partPos = getBidiPartAt(order, ch)
	  var val = getBidi(ch, partPos)
	  if (bidiOther != null) { val.other = getBidi(ch, bidiOther) }
	  return val
	}
	
	// Used to cheaply estimate the coordinates for a position. Used for
	// intermediate scroll updates.
	function estimateCoords(cm, pos) {
	  var left = 0
	  pos = clipPos(cm.doc, pos)
	  if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch }
	  var lineObj = getLine(cm.doc, pos.line)
	  var top = heightAtLine(lineObj) + paddingTop(cm.display)
	  return {left: left, right: left, top: top, bottom: top + lineObj.height}
	}
	
	// Positions returned by coordsChar contain some extra information.
	// xRel is the relative x position of the input coordinates compared
	// to the found position (so xRel > 0 means the coordinates are to
	// the right of the character position, for example). When outside
	// is true, that means the coordinates lie outside the line's
	// vertical range.
	function PosWithInfo(line, ch, outside, xRel) {
	  var pos = Pos(line, ch)
	  pos.xRel = xRel
	  if (outside) { pos.outside = true }
	  return pos
	}
	
	// Compute the character position closest to the given coordinates.
	// Input must be lineSpace-local ("div" coordinate system).
	function coordsChar(cm, x, y) {
	  var doc = cm.doc
	  y += cm.display.viewOffset
	  if (y < 0) { return PosWithInfo(doc.first, 0, true, -1) }
	  var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1
	  if (lineN > last)
	    { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, true, 1) }
	  if (x < 0) { x = 0 }
	
	  var lineObj = getLine(doc, lineN)
	  for (;;) {
	    var found = coordsCharInner(cm, lineObj, lineN, x, y)
	    var merged = collapsedSpanAtEnd(lineObj)
	    var mergedPos = merged && merged.find(0, true)
	    if (merged && (found.ch > mergedPos.from.ch || found.ch == mergedPos.from.ch && found.xRel > 0))
	      { lineN = lineNo(lineObj = mergedPos.to.line) }
	    else
	      { return found }
	  }
	}
	
	function coordsCharInner(cm, lineObj, lineNo, x, y) {
	  var innerOff = y - heightAtLine(lineObj)
	  var wrongLine = false, adjust = 2 * cm.display.wrapper.clientWidth
	  var preparedMeasure = prepareMeasureForLine(cm, lineObj)
	
	  function getX(ch) {
	    var sp = cursorCoords(cm, Pos(lineNo, ch), "line", lineObj, preparedMeasure)
	    wrongLine = true
	    if (innerOff > sp.bottom) { return sp.left - adjust }
	    else if (innerOff < sp.top) { return sp.left + adjust }
	    else { wrongLine = false }
	    return sp.left
	  }
	
	  var bidi = getOrder(lineObj), dist = lineObj.text.length
	  var from = lineLeft(lineObj), to = lineRight(lineObj)
	  var fromX = getX(from), fromOutside = wrongLine, toX = getX(to), toOutside = wrongLine
	
	  if (x > toX) { return PosWithInfo(lineNo, to, toOutside, 1) }
	  // Do a binary search between these bounds.
	  for (;;) {
	    if (bidi ? to == from || to == moveVisually(lineObj, from, 1) : to - from <= 1) {
	      var ch = x < fromX || x - fromX <= toX - x ? from : to
	      var outside = ch == from ? fromOutside : toOutside
	      var xDiff = x - (ch == from ? fromX : toX)
	      // This is a kludge to handle the case where the coordinates
	      // are after a line-wrapped line. We should replace it with a
	      // more general handling of cursor positions around line
	      // breaks. (Issue #4078)
	      if (toOutside && !bidi && !/\s/.test(lineObj.text.charAt(ch)) && xDiff > 0 &&
	          ch < lineObj.text.length && preparedMeasure.view.measure.heights.length > 1) {
	        var charSize = measureCharPrepared(cm, preparedMeasure, ch, "right")
	        if (innerOff <= charSize.bottom && innerOff >= charSize.top && Math.abs(x - charSize.right) < xDiff) {
	          outside = false
	          ch++
	          xDiff = x - charSize.right
	        }
	      }
	      while (isExtendingChar(lineObj.text.charAt(ch))) { ++ch }
	      var pos = PosWithInfo(lineNo, ch, outside, xDiff < -1 ? -1 : xDiff > 1 ? 1 : 0)
	      return pos
	    }
	    var step = Math.ceil(dist / 2), middle = from + step
	    if (bidi) {
	      middle = from
	      for (var i = 0; i < step; ++i) { middle = moveVisually(lineObj, middle, 1) }
	    }
	    var middleX = getX(middle)
	    if (middleX > x) {to = middle; toX = middleX; if (toOutside = wrongLine) { toX += 1000; } dist = step}
	    else {from = middle; fromX = middleX; fromOutside = wrongLine; dist -= step}
	  }
	}
	
	var measureText
	// Compute the default text height.
	function textHeight(display) {
	  if (display.cachedTextHeight != null) { return display.cachedTextHeight }
	  if (measureText == null) {
	    measureText = elt("pre")
	    // Measure a bunch of lines, for browsers that compute
	    // fractional heights.
	    for (var i = 0; i < 49; ++i) {
	      measureText.appendChild(document.createTextNode("x"))
	      measureText.appendChild(elt("br"))
	    }
	    measureText.appendChild(document.createTextNode("x"))
	  }
	  removeChildrenAndAdd(display.measure, measureText)
	  var height = measureText.offsetHeight / 50
	  if (height > 3) { display.cachedTextHeight = height }
	  removeChildren(display.measure)
	  return height || 1
	}
	
	// Compute the default character width.
	function charWidth(display) {
	  if (display.cachedCharWidth != null) { return display.cachedCharWidth }
	  var anchor = elt("span", "xxxxxxxxxx")
	  var pre = elt("pre", [anchor])
	  removeChildrenAndAdd(display.measure, pre)
	  var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10
	  if (width > 2) { display.cachedCharWidth = width }
	  return width || 10
	}
	
	// Do a bulk-read of the DOM positions and sizes needed to draw the
	// view, so that we don't interleave reading and writing to the DOM.
	function getDimensions(cm) {
	  var d = cm.display, left = {}, width = {}
	  var gutterLeft = d.gutters.clientLeft
	  for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {
	    left[cm.options.gutters[i]] = n.offsetLeft + n.clientLeft + gutterLeft
	    width[cm.options.gutters[i]] = n.clientWidth
	  }
	  return {fixedPos: compensateForHScroll(d),
	          gutterTotalWidth: d.gutters.offsetWidth,
	          gutterLeft: left,
	          gutterWidth: width,
	          wrapperWidth: d.wrapper.clientWidth}
	}
	
	// Computes display.scroller.scrollLeft + display.gutters.offsetWidth,
	// but using getBoundingClientRect to get a sub-pixel-accurate
	// result.
	function compensateForHScroll(display) {
	  return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left
	}
	
	// Returns a function that estimates the height of a line, to use as
	// first approximation until the line becomes visible (and is thus
	// properly measurable).
	function estimateHeight(cm) {
	  var th = textHeight(cm.display), wrapping = cm.options.lineWrapping
	  var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3)
	  return function (line) {
	    if (lineIsHidden(cm.doc, line)) { return 0 }
	
	    var widgetsHeight = 0
	    if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {
	      if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height }
	    } }
	
	    if (wrapping)
	      { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }
	    else
	      { return widgetsHeight + th }
	  }
	}
	
	function estimateLineHeights(cm) {
	  var doc = cm.doc, est = estimateHeight(cm)
	  doc.iter(function (line) {
	    var estHeight = est(line)
	    if (estHeight != line.height) { updateLineHeight(line, estHeight) }
	  })
	}
	
	// Given a mouse event, find the corresponding position. If liberal
	// is false, it checks whether a gutter or scrollbar was clicked,
	// and returns null if it was. forRect is used by rectangular
	// selections, and tries to estimate a character position even for
	// coordinates beyond the right of the text.
	function posFromMouse(cm, e, liberal, forRect) {
	  var display = cm.display
	  if (!liberal && e_target(e).getAttribute("cm-not-content") == "true") { return null }
	
	  var x, y, space = display.lineSpace.getBoundingClientRect()
	  // Fails unpredictably on IE[67] when mouse is dragged around quickly.
	  try { x = e.clientX - space.left; y = e.clientY - space.top }
	  catch (e) { return null }
	  var coords = coordsChar(cm, x, y), line
	  if (forRect && coords.xRel == 1 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {
	    var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length
	    coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff))
	  }
	  return coords
	}
	
	// Find the view element corresponding to a given line. Return null
	// when the line isn't visible.
	function findViewIndex(cm, n) {
	  if (n >= cm.display.viewTo) { return null }
	  n -= cm.display.viewFrom
	  if (n < 0) { return null }
	  var view = cm.display.view
	  for (var i = 0; i < view.length; i++) {
	    n -= view[i].size
	    if (n < 0) { return i }
	  }
	}
	
	function updateSelection(cm) {
	  cm.display.input.showSelection(cm.display.input.prepareSelection())
	}
	
	function prepareSelection(cm, primary) {
	  var doc = cm.doc, result = {}
	  var curFragment = result.cursors = document.createDocumentFragment()
	  var selFragment = result.selection = document.createDocumentFragment()
	
	  for (var i = 0; i < doc.sel.ranges.length; i++) {
	    if (primary === false && i == doc.sel.primIndex) { continue }
	    var range = doc.sel.ranges[i]
	    if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }
	    var collapsed = range.empty()
	    if (collapsed || cm.options.showCursorWhenSelecting)
	      { drawSelectionCursor(cm, range.head, curFragment) }
	    if (!collapsed)
	      { drawSelectionRange(cm, range, selFragment) }
	  }
	  return result
	}
	
	// Draws a cursor for the given range
	function drawSelectionCursor(cm, head, output) {
	  var pos = cursorCoords(cm, head, "div", null, null, !cm.options.singleCursorHeightPerLine)
	
	  var cursor = output.appendChild(elt("div", "\u00a0", "CodeMirror-cursor"))
	  cursor.style.left = pos.left + "px"
	  cursor.style.top = pos.top + "px"
	  cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + "px"
	
	  if (pos.other) {
	    // Secondary cursor, shown when on a 'jump' in bi-directional text
	    var otherCursor = output.appendChild(elt("div", "\u00a0", "CodeMirror-cursor CodeMirror-secondarycursor"))
	    otherCursor.style.display = ""
	    otherCursor.style.left = pos.other.left + "px"
	    otherCursor.style.top = pos.other.top + "px"
	    otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + "px"
	  }
	}
	
	// Draws the given range as a highlighted selection
	function drawSelectionRange(cm, range, output) {
	  var display = cm.display, doc = cm.doc
	  var fragment = document.createDocumentFragment()
	  var padding = paddingH(cm.display), leftSide = padding.left
	  var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right
	
	  function add(left, top, width, bottom) {
	    if (top < 0) { top = 0 }
	    top = Math.round(top)
	    bottom = Math.round(bottom)
	    fragment.appendChild(elt("div", null, "CodeMirror-selected", ("position: absolute; left: " + left + "px;\n                             top: " + top + "px; width: " + (width == null ? rightSide - left : width) + "px;\n                             height: " + (bottom - top) + "px")))
	  }
	
	  function drawForLine(line, fromArg, toArg) {
	    var lineObj = getLine(doc, line)
	    var lineLen = lineObj.text.length
	    var start, end
	    function coords(ch, bias) {
	      return charCoords(cm, Pos(line, ch), "div", lineObj, bias)
	    }
	
	    iterateBidiSections(getOrder(lineObj), fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir) {
	      var leftPos = coords(from, "left"), rightPos, left, right
	      if (from == to) {
	        rightPos = leftPos
	        left = right = leftPos.left
	      } else {
	        rightPos = coords(to - 1, "right")
	        if (dir == "rtl") { var tmp = leftPos; leftPos = rightPos; rightPos = tmp }
	        left = leftPos.left
	        right = rightPos.right
	      }
	      if (fromArg == null && from == 0) { left = leftSide }
	      if (rightPos.top - leftPos.top > 3) { // Different lines, draw top part
	        add(left, leftPos.top, null, leftPos.bottom)
	        left = leftSide
	        if (leftPos.bottom < rightPos.top) { add(left, leftPos.bottom, null, rightPos.top) }
	      }
	      if (toArg == null && to == lineLen) { right = rightSide }
	      if (!start || leftPos.top < start.top || leftPos.top == start.top && leftPos.left < start.left)
	        { start = leftPos }
	      if (!end || rightPos.bottom > end.bottom || rightPos.bottom == end.bottom && rightPos.right > end.right)
	        { end = rightPos }
	      if (left < leftSide + 1) { left = leftSide }
	      add(left, rightPos.top, right - left, rightPos.bottom)
	    })
	    return {start: start, end: end}
	  }
	
	  var sFrom = range.from(), sTo = range.to()
	  if (sFrom.line == sTo.line) {
	    drawForLine(sFrom.line, sFrom.ch, sTo.ch)
	  } else {
	    var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line)
	    var singleVLine = visualLine(fromLine) == visualLine(toLine)
	    var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end
	    var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start
	    if (singleVLine) {
	      if (leftEnd.top < rightStart.top - 2) {
	        add(leftEnd.right, leftEnd.top, null, leftEnd.bottom)
	        add(leftSide, rightStart.top, rightStart.left, rightStart.bottom)
	      } else {
	        add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom)
	      }
	    }
	    if (leftEnd.bottom < rightStart.top)
	      { add(leftSide, leftEnd.bottom, null, rightStart.top) }
	  }
	
	  output.appendChild(fragment)
	}
	
	// Cursor-blinking
	function restartBlink(cm) {
	  if (!cm.state.focused) { return }
	  var display = cm.display
	  clearInterval(display.blinker)
	  var on = true
	  display.cursorDiv.style.visibility = ""
	  if (cm.options.cursorBlinkRate > 0)
	    { display.blinker = setInterval(function () { return display.cursorDiv.style.visibility = (on = !on) ? "" : "hidden"; },
	      cm.options.cursorBlinkRate) }
	  else if (cm.options.cursorBlinkRate < 0)
	    { display.cursorDiv.style.visibility = "hidden" }
	}
	
	function ensureFocus(cm) {
	  if (!cm.state.focused) { cm.display.input.focus(); onFocus(cm) }
	}
	
	function delayBlurEvent(cm) {
	  cm.state.delayingBlurEvent = true
	  setTimeout(function () { if (cm.state.delayingBlurEvent) {
	    cm.state.delayingBlurEvent = false
	    onBlur(cm)
	  } }, 100)
	}
	
	function onFocus(cm, e) {
	  if (cm.state.delayingBlurEvent) { cm.state.delayingBlurEvent = false }
	
	  if (cm.options.readOnly == "nocursor") { return }
	  if (!cm.state.focused) {
	    signal(cm, "focus", cm, e)
	    cm.state.focused = true
	    addClass(cm.display.wrapper, "CodeMirror-focused")
	    // This test prevents this from firing when a context
	    // menu is closed (since the input reset would kill the
	    // select-all detection hack)
	    if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {
	      cm.display.input.reset()
	      if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20) } // Issue #1730
	    }
	    cm.display.input.receivedFocus()
	  }
	  restartBlink(cm)
	}
	function onBlur(cm, e) {
	  if (cm.state.delayingBlurEvent) { return }
	
	  if (cm.state.focused) {
	    signal(cm, "blur", cm, e)
	    cm.state.focused = false
	    rmClass(cm.display.wrapper, "CodeMirror-focused")
	  }
	  clearInterval(cm.display.blinker)
	  setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false } }, 150)
	}
	
	// Re-align line numbers and gutter marks to compensate for
	// horizontal scrolling.
	function alignHorizontally(cm) {
	  var display = cm.display, view = display.view
	  if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }
	  var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft
	  var gutterW = display.gutters.offsetWidth, left = comp + "px"
	  for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {
	    if (cm.options.fixedGutter) {
	      if (view[i].gutter)
	        { view[i].gutter.style.left = left }
	      if (view[i].gutterBackground)
	        { view[i].gutterBackground.style.left = left }
	    }
	    var align = view[i].alignable
	    if (align) { for (var j = 0; j < align.length; j++)
	      { align[j].style.left = left } }
	  } }
	  if (cm.options.fixedGutter)
	    { display.gutters.style.left = (comp + gutterW) + "px" }
	}
	
	// Used to ensure that the line number gutter is still the right
	// size for the current document size. Returns true when an update
	// is needed.
	function maybeUpdateLineNumberWidth(cm) {
	  if (!cm.options.lineNumbers) { return false }
	  var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display
	  if (last.length != display.lineNumChars) {
	    var test = display.measure.appendChild(elt("div", [elt("div", last)],
	                                               "CodeMirror-linenumber CodeMirror-gutter-elt"))
	    var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW
	    display.lineGutter.style.width = ""
	    display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1
	    display.lineNumWidth = display.lineNumInnerWidth + padding
	    display.lineNumChars = display.lineNumInnerWidth ? last.length : -1
	    display.lineGutter.style.width = display.lineNumWidth + "px"
	    updateGutterSpace(cm)
	    return true
	  }
	  return false
	}
	
	// Read the actual heights of the rendered lines, and update their
	// stored heights to match.
	function updateHeightsInViewport(cm) {
	  var display = cm.display
	  var prevBottom = display.lineDiv.offsetTop
	  for (var i = 0; i < display.view.length; i++) {
	    var cur = display.view[i], height = (void 0)
	    if (cur.hidden) { continue }
	    if (ie && ie_version < 8) {
	      var bot = cur.node.offsetTop + cur.node.offsetHeight
	      height = bot - prevBottom
	      prevBottom = bot
	    } else {
	      var box = cur.node.getBoundingClientRect()
	      height = box.bottom - box.top
	    }
	    var diff = cur.line.height - height
	    if (height < 2) { height = textHeight(display) }
	    if (diff > .001 || diff < -.001) {
	      updateLineHeight(cur.line, height)
	      updateWidgetHeight(cur.line)
	      if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)
	        { updateWidgetHeight(cur.rest[j]) } }
	    }
	  }
	}
	
	// Read and store the height of line widgets associated with the
	// given line.
	function updateWidgetHeight(line) {
	  if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i)
	    { line.widgets[i].height = line.widgets[i].node.parentNode.offsetHeight } }
	}
	
	// Compute the lines that are visible in a given viewport (defaults
	// the the current scroll position). viewport may contain top,
	// height, and ensure (see op.scrollToPos) properties.
	function visibleLines(display, doc, viewport) {
	  var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop
	  top = Math.floor(top - paddingTop(display))
	  var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight
	
	  var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom)
	  // Ensure is a {from: {line, ch}, to: {line, ch}} object, and
	  // forces those lines into the viewport (if possible).
	  if (viewport && viewport.ensure) {
	    var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line
	    if (ensureFrom < from) {
	      from = ensureFrom
	      to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight)
	    } else if (Math.min(ensureTo, doc.lastLine()) >= to) {
	      from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight)
	      to = ensureTo
	    }
	  }
	  return {from: from, to: Math.max(to, from + 1)}
	}
	
	// Sync the scrollable area and scrollbars, ensure the viewport
	// covers the visible area.
	function setScrollTop(cm, val) {
	  if (Math.abs(cm.doc.scrollTop - val) < 2) { return }
	  cm.doc.scrollTop = val
	  if (!gecko) { updateDisplaySimple(cm, {top: val}) }
	  if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val }
	  cm.display.scrollbars.setScrollTop(val)
	  if (gecko) { updateDisplaySimple(cm) }
	  startWorker(cm, 100)
	}
	// Sync scroller and scrollbar, ensure the gutter elements are
	// aligned.
	function setScrollLeft(cm, val, isScroller) {
	  if (isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) { return }
	  val = Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth)
	  cm.doc.scrollLeft = val
	  alignHorizontally(cm)
	  if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val }
	  cm.display.scrollbars.setScrollLeft(val)
	}
	
	// Since the delta values reported on mouse wheel events are
	// unstandardized between browsers and even browser versions, and
	// generally horribly unpredictable, this code starts by measuring
	// the scroll effect that the first few mouse wheel events have,
	// and, from that, detects the way it can convert deltas to pixel
	// offsets afterwards.
	//
	// The reason we want to know the amount a wheel event will scroll
	// is that it gives us a chance to update the display before the
	// actual scrolling happens, reducing flickering.
	
	var wheelSamples = 0;
	var wheelPixelsPerUnit = null;
	// Fill in a browser-detected starting value on browsers where we
	// know one. These don't have to be accurate -- the result of them
	// being wrong would just be a slight flicker on the first wheel
	// scroll (if it is large enough).
	if (ie) { wheelPixelsPerUnit = -.53 }
	else if (gecko) { wheelPixelsPerUnit = 15 }
	else if (chrome) { wheelPixelsPerUnit = -.7 }
	else if (safari) { wheelPixelsPerUnit = -1/3 }
	
	function wheelEventDelta(e) {
	  var dx = e.wheelDeltaX, dy = e.wheelDeltaY
	  if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail }
	  if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail }
	  else if (dy == null) { dy = e.wheelDelta }
	  return {x: dx, y: dy}
	}
	function wheelEventPixels(e) {
	  var delta = wheelEventDelta(e)
	  delta.x *= wheelPixelsPerUnit
	  delta.y *= wheelPixelsPerUnit
	  return delta
	}
	
	function onScrollWheel(cm, e) {
	  var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y
	
	  var display = cm.display, scroll = display.scroller
	  // Quit if there's nothing to scroll here
	  var canScrollX = scroll.scrollWidth > scroll.clientWidth
	  var canScrollY = scroll.scrollHeight > scroll.clientHeight
	  if (!(dx && canScrollX || dy && canScrollY)) { return }
	
	  // Webkit browsers on OS X abort momentum scrolls when the target
	  // of the scroll event is removed from the scrollable element.
	  // This hack (see related code in patchDisplay) makes sure the
	  // element is kept around.
	  if (dy && mac && webkit) {
	    outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {
	      for (var i = 0; i < view.length; i++) {
	        if (view[i].node == cur) {
	          cm.display.currentWheelTarget = cur
	          break outer
	        }
	      }
	    }
	  }
	
	  // On some browsers, horizontal scrolling will cause redraws to
	  // happen before the gutter has been realigned, causing it to
	  // wriggle around in a most unseemly way. When we have an
	  // estimated pixels/delta value, we just handle horizontal
	  // scrolling entirely here. It'll be slightly off from native, but
	  // better than glitching out.
	  if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {
	    if (dy && canScrollY)
	      { setScrollTop(cm, Math.max(0, Math.min(scroll.scrollTop + dy * wheelPixelsPerUnit, scroll.scrollHeight - scroll.clientHeight))) }
	    setScrollLeft(cm, Math.max(0, Math.min(scroll.scrollLeft + dx * wheelPixelsPerUnit, scroll.scrollWidth - scroll.clientWidth)))
	    // Only prevent default scrolling if vertical scrolling is
	    // actually possible. Otherwise, it causes vertical scroll
	    // jitter on OSX trackpads when deltaX is small and deltaY
	    // is large (issue #3579)
	    if (!dy || (dy && canScrollY))
	      { e_preventDefault(e) }
	    display.wheelStartX = null // Abort measurement, if in progress
	    return
	  }
	
	  // 'Project' the visible viewport to cover the area that is being
	  // scrolled into view (if we know enough to estimate it).
	  if (dy && wheelPixelsPerUnit != null) {
	    var pixels = dy * wheelPixelsPerUnit
	    var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight
	    if (pixels < 0) { top = Math.max(0, top + pixels - 50) }
	    else { bot = Math.min(cm.doc.height, bot + pixels + 50) }
	    updateDisplaySimple(cm, {top: top, bottom: bot})
	  }
	
	  if (wheelSamples < 20) {
	    if (display.wheelStartX == null) {
	      display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop
	      display.wheelDX = dx; display.wheelDY = dy
	      setTimeout(function () {
	        if (display.wheelStartX == null) { return }
	        var movedX = scroll.scrollLeft - display.wheelStartX
	        var movedY = scroll.scrollTop - display.wheelStartY
	        var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||
	          (movedX && display.wheelDX && movedX / display.wheelDX)
	        display.wheelStartX = display.wheelStartY = null
	        if (!sample) { return }
	        wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1)
	        ++wheelSamples
	      }, 200)
	    } else {
	      display.wheelDX += dx; display.wheelDY += dy
	    }
	  }
	}
	
	// SCROLLBARS
	
	// Prepare DOM reads needed to update the scrollbars. Done in one
	// shot to minimize update/measure roundtrips.
	function measureForScrollbars(cm) {
	  var d = cm.display, gutterW = d.gutters.offsetWidth
	  var docH = Math.round(cm.doc.height + paddingVert(cm.display))
	  return {
	    clientHeight: d.scroller.clientHeight,
	    viewHeight: d.wrapper.clientHeight,
	    scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,
	    viewWidth: d.wrapper.clientWidth,
	    barLeft: cm.options.fixedGutter ? gutterW : 0,
	    docHeight: docH,
	    scrollHeight: docH + scrollGap(cm) + d.barHeight,
	    nativeBarWidth: d.nativeBarWidth,
	    gutterWidth: gutterW
	  }
	}
	
	function NativeScrollbars(place, scroll, cm) {
	  this.cm = cm
	  var vert = this.vert = elt("div", [elt("div", null, null, "min-width: 1px")], "CodeMirror-vscrollbar")
	  var horiz = this.horiz = elt("div", [elt("div", null, null, "height: 100%; min-height: 1px")], "CodeMirror-hscrollbar")
	  place(vert); place(horiz)
	
	  on(vert, "scroll", function () {
	    if (vert.clientHeight) { scroll(vert.scrollTop, "vertical") }
	  })
	  on(horiz, "scroll", function () {
	    if (horiz.clientWidth) { scroll(horiz.scrollLeft, "horizontal") }
	  })
	
	  this.checkedZeroWidth = false
	  // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).
	  if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = "18px" }
	}
	
	NativeScrollbars.prototype = copyObj({
	  update: function(measure) {
	    var needsH = measure.scrollWidth > measure.clientWidth + 1
	    var needsV = measure.scrollHeight > measure.clientHeight + 1
	    var sWidth = measure.nativeBarWidth
	
	    if (needsV) {
	      this.vert.style.display = "block"
	      this.vert.style.bottom = needsH ? sWidth + "px" : "0"
	      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0)
	      // A bug in IE8 can cause this value to be negative, so guard it.
	      this.vert.firstChild.style.height =
	        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + "px"
	    } else {
	      this.vert.style.display = ""
	      this.vert.firstChild.style.height = "0"
	    }
	
	    if (needsH) {
	      this.horiz.style.display = "block"
	      this.horiz.style.right = needsV ? sWidth + "px" : "0"
	      this.horiz.style.left = measure.barLeft + "px"
	      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0)
	      this.horiz.firstChild.style.width =
	        (measure.scrollWidth - measure.clientWidth + totalWidth) + "px"
	    } else {
	      this.horiz.style.display = ""
	      this.horiz.firstChild.style.width = "0"
	    }
	
	    if (!this.checkedZeroWidth && measure.clientHeight > 0) {
	      if (sWidth == 0) { this.zeroWidthHack() }
	      this.checkedZeroWidth = true
	    }
	
	    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}
	  },
	  setScrollLeft: function(pos) {
	    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos }
	    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz) }
	  },
	  setScrollTop: function(pos) {
	    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos }
	    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert) }
	  },
	  zeroWidthHack: function() {
	    var w = mac && !mac_geMountainLion ? "12px" : "18px"
	    this.horiz.style.height = this.vert.style.width = w
	    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = "none"
	    this.disableHoriz = new Delayed
	    this.disableVert = new Delayed
	  },
	  enableZeroWidthBar: function(bar, delay) {
	    bar.style.pointerEvents = "auto"
	    function maybeDisable() {
	      // To find out whether the scrollbar is still visible, we
	      // check whether the element under the pixel in the bottom
	      // left corner of the scrollbar box is the scrollbar box
	      // itself (when the bar is still visible) or its filler child
	      // (when the bar is hidden). If it is still visible, we keep
	      // it enabled, if it's hidden, we disable pointer events.
	      var box = bar.getBoundingClientRect()
	      var elt = document.elementFromPoint(box.left + 1, box.bottom - 1)
	      if (elt != bar) { bar.style.pointerEvents = "none" }
	      else { delay.set(1000, maybeDisable) }
	    }
	    delay.set(1000, maybeDisable)
	  },
	  clear: function() {
	    var parent = this.horiz.parentNode
	    parent.removeChild(this.horiz)
	    parent.removeChild(this.vert)
	  }
	}, NativeScrollbars.prototype)
	
	function NullScrollbars() {}
	
	NullScrollbars.prototype = copyObj({
	  update: function() { return {bottom: 0, right: 0} },
	  setScrollLeft: function() {},
	  setScrollTop: function() {},
	  clear: function() {}
	}, NullScrollbars.prototype)
	
	function updateScrollbars(cm, measure) {
	  if (!measure) { measure = measureForScrollbars(cm) }
	  var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight
	  updateScrollbarsInner(cm, measure)
	  for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {
	    if (startWidth != cm.display.barWidth && cm.options.lineWrapping)
	      { updateHeightsInViewport(cm) }
	    updateScrollbarsInner(cm, measureForScrollbars(cm))
	    startWidth = cm.display.barWidth; startHeight = cm.display.barHeight
	  }
	}
	
	// Re-synchronize the fake scrollbars with the actual size of the
	// content.
	function updateScrollbarsInner(cm, measure) {
	  var d = cm.display
	  var sizes = d.scrollbars.update(measure)
	
	  d.sizer.style.paddingRight = (d.barWidth = sizes.right) + "px"
	  d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + "px"
	  d.heightForcer.style.borderBottom = sizes.bottom + "px solid transparent"
	
	  if (sizes.right && sizes.bottom) {
	    d.scrollbarFiller.style.display = "block"
	    d.scrollbarFiller.style.height = sizes.bottom + "px"
	    d.scrollbarFiller.style.width = sizes.right + "px"
	  } else { d.scrollbarFiller.style.display = "" }
	  if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {
	    d.gutterFiller.style.display = "block"
	    d.gutterFiller.style.height = sizes.bottom + "px"
	    d.gutterFiller.style.width = measure.gutterWidth + "px"
	  } else { d.gutterFiller.style.display = "" }
	}
	
	var scrollbarModel = {"native": NativeScrollbars, "null": NullScrollbars}
	
	function initScrollbars(cm) {
	  if (cm.display.scrollbars) {
	    cm.display.scrollbars.clear()
	    if (cm.display.scrollbars.addClass)
	      { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass) }
	  }
	
	  cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {
	    cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller)
	    // Prevent clicks in the scrollbars from killing focus
	    on(node, "mousedown", function () {
	      if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0) }
	    })
	    node.setAttribute("cm-not-content", "true")
	  }, function (pos, axis) {
	    if (axis == "horizontal") { setScrollLeft(cm, pos) }
	    else { setScrollTop(cm, pos) }
	  }, cm)
	  if (cm.display.scrollbars.addClass)
	    { addClass(cm.display.wrapper, cm.display.scrollbars.addClass) }
	}
	
	// SCROLLING THINGS INTO VIEW
	
	// If an editor sits on the top or bottom of the window, partially
	// scrolled out of view, this ensures that the cursor is visible.
	function maybeScrollWindow(cm, coords) {
	  if (signalDOMEvent(cm, "scrollCursorIntoView")) { return }
	
	  var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null
	  if (coords.top + box.top < 0) { doScroll = true }
	  else if (coords.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) { doScroll = false }
	  if (doScroll != null && !phantom) {
	    var scrollNode = elt("div", "\u200b", null, ("position: absolute;\n                         top: " + (coords.top - display.viewOffset - paddingTop(cm.display)) + "px;\n                         height: " + (coords.bottom - coords.top + scrollGap(cm) + display.barHeight) + "px;\n                         left: " + (coords.left) + "px; width: 2px;"))
	    cm.display.lineSpace.appendChild(scrollNode)
	    scrollNode.scrollIntoView(doScroll)
	    cm.display.lineSpace.removeChild(scrollNode)
	  }
	}
	
	// Scroll a given position into view (immediately), verifying that
	// it actually became visible (as line heights are accurately
	// measured, the position of something may 'drift' during drawing).
	function scrollPosIntoView(cm, pos, end, margin) {
	  if (margin == null) { margin = 0 }
	  var coords
	  for (var limit = 0; limit < 5; limit++) {
	    var changed = false
	    coords = cursorCoords(cm, pos)
	    var endCoords = !end || end == pos ? coords : cursorCoords(cm, end)
	    var scrollPos = calculateScrollPos(cm, Math.min(coords.left, endCoords.left),
	                                       Math.min(coords.top, endCoords.top) - margin,
	                                       Math.max(coords.left, endCoords.left),
	                                       Math.max(coords.bottom, endCoords.bottom) + margin)
	    var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft
	    if (scrollPos.scrollTop != null) {
	      setScrollTop(cm, scrollPos.scrollTop)
	      if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true }
	    }
	    if (scrollPos.scrollLeft != null) {
	      setScrollLeft(cm, scrollPos.scrollLeft)
	      if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true }
	    }
	    if (!changed) { break }
	  }
	  return coords
	}
	
	// Scroll a given set of coordinates into view (immediately).
	function scrollIntoView(cm, x1, y1, x2, y2) {
	  var scrollPos = calculateScrollPos(cm, x1, y1, x2, y2)
	  if (scrollPos.scrollTop != null) { setScrollTop(cm, scrollPos.scrollTop) }
	  if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft) }
	}
	
	// Calculate a new scroll position needed to scroll the given
	// rectangle into view. Returns an object with scrollTop and
	// scrollLeft properties. When these are undefined, the
	// vertical/horizontal position does not need to be adjusted.
	function calculateScrollPos(cm, x1, y1, x2, y2) {
	  var display = cm.display, snapMargin = textHeight(cm.display)
	  if (y1 < 0) { y1 = 0 }
	  var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop
	  var screen = displayHeight(cm), result = {}
	  if (y2 - y1 > screen) { y2 = y1 + screen }
	  var docBottom = cm.doc.height + paddingVert(display)
	  var atTop = y1 < snapMargin, atBottom = y2 > docBottom - snapMargin
	  if (y1 < screentop) {
	    result.scrollTop = atTop ? 0 : y1
	  } else if (y2 > screentop + screen) {
	    var newTop = Math.min(y1, (atBottom ? docBottom : y2) - screen)
	    if (newTop != screentop) { result.scrollTop = newTop }
	  }
	
	  var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft
	  var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0)
	  var tooWide = x2 - x1 > screenw
	  if (tooWide) { x2 = x1 + screenw }
	  if (x1 < 10)
	    { result.scrollLeft = 0 }
	  else if (x1 < screenleft)
	    { result.scrollLeft = Math.max(0, x1 - (tooWide ? 0 : 10)) }
	  else if (x2 > screenw + screenleft - 3)
	    { result.scrollLeft = x2 + (tooWide ? 0 : 10) - screenw }
	  return result
	}
	
	// Store a relative adjustment to the scroll position in the current
	// operation (to be applied when the operation finishes).
	function addToScrollPos(cm, left, top) {
	  if (left != null || top != null) { resolveScrollToPos(cm) }
	  if (left != null)
	    { cm.curOp.scrollLeft = (cm.curOp.scrollLeft == null ? cm.doc.scrollLeft : cm.curOp.scrollLeft) + left }
	  if (top != null)
	    { cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top }
	}
	
	// Make sure that at the end of the operation the current cursor is
	// shown.
	function ensureCursorVisible(cm) {
	  resolveScrollToPos(cm)
	  var cur = cm.getCursor(), from = cur, to = cur
	  if (!cm.options.lineWrapping) {
	    from = cur.ch ? Pos(cur.line, cur.ch - 1) : cur
	    to = Pos(cur.line, cur.ch + 1)
	  }
	  cm.curOp.scrollToPos = {from: from, to: to, margin: cm.options.cursorScrollMargin, isCursor: true}
	}
	
	// When an operation has its scrollToPos property set, and another
	// scroll action is applied before the end of the operation, this
	// 'simulates' scrolling that position into view in a cheap way, so
	// that the effect of intermediate scroll commands is not ignored.
	function resolveScrollToPos(cm) {
	  var range = cm.curOp.scrollToPos
	  if (range) {
	    cm.curOp.scrollToPos = null
	    var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to)
	    var sPos = calculateScrollPos(cm, Math.min(from.left, to.left),
	                                  Math.min(from.top, to.top) - range.margin,
	                                  Math.max(from.right, to.right),
	                                  Math.max(from.bottom, to.bottom) + range.margin)
	    cm.scrollTo(sPos.scrollLeft, sPos.scrollTop)
	  }
	}
	
	// Operations are used to wrap a series of changes to the editor
	// state in such a way that each change won't have to update the
	// cursor and display (which would be awkward, slow, and
	// error-prone). Instead, display updates are batched and then all
	// combined and executed at once.
	
	var nextOpId = 0
	// Start a new operation.
	function startOperation(cm) {
	  cm.curOp = {
	    cm: cm,
	    viewChanged: false,      // Flag that indicates that lines might need to be redrawn
	    startHeight: cm.doc.height, // Used to detect need to update scrollbar
	    forceUpdate: false,      // Used to force a redraw
	    updateInput: null,       // Whether to reset the input textarea
	    typing: false,           // Whether this reset should be careful to leave existing text (for compositing)
	    changeObjs: null,        // Accumulated changes, for firing change events
	    cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on
	    cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already
	    selectionChanged: false, // Whether the selection needs to be redrawn
	    updateMaxLine: false,    // Set when the widest line needs to be determined anew
	    scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet
	    scrollToPos: null,       // Used to scroll to a specific position
	    focus: false,
	    id: ++nextOpId           // Unique ID
	  }
	  pushOperation(cm.curOp)
	}
	
	// Finish an operation, updating the display and signalling delayed events
	function endOperation(cm) {
	  var op = cm.curOp
	  finishOperation(op, function (group) {
	    for (var i = 0; i < group.ops.length; i++)
	      { group.ops[i].cm.curOp = null }
	    endOperations(group)
	  })
	}
	
	// The DOM updates done when an operation finishes are batched so
	// that the minimum number of relayouts are required.
	function endOperations(group) {
	  var ops = group.ops
	  for (var i = 0; i < ops.length; i++) // Read DOM
	    { endOperation_R1(ops[i]) }
	  for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)
	    { endOperation_W1(ops[i$1]) }
	  for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM
	    { endOperation_R2(ops[i$2]) }
	  for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)
	    { endOperation_W2(ops[i$3]) }
	  for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM
	    { endOperation_finish(ops[i$4]) }
	}
	
	function endOperation_R1(op) {
	  var cm = op.cm, display = cm.display
	  maybeClipScrollbars(cm)
	  if (op.updateMaxLine) { findMaxLine(cm) }
	
	  op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||
	    op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||
	                       op.scrollToPos.to.line >= display.viewTo) ||
	    display.maxLineChanged && cm.options.lineWrapping
	  op.update = op.mustUpdate &&
	    new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate)
	}
	
	function endOperation_W1(op) {
	  op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update)
	}
	
	function endOperation_R2(op) {
	  var cm = op.cm, display = cm.display
	  if (op.updatedDisplay) { updateHeightsInViewport(cm) }
	
	  op.barMeasure = measureForScrollbars(cm)
	
	  // If the max line changed since it was last measured, measure it,
	  // and ensure the document's width matches it.
	  // updateDisplay_W2 will use these properties to do the actual resizing
	  if (display.maxLineChanged && !cm.options.lineWrapping) {
	    op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3
	    cm.display.sizerWidth = op.adjustWidthTo
	    op.barMeasure.scrollWidth =
	      Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth)
	    op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm))
	  }
	
	  if (op.updatedDisplay || op.selectionChanged)
	    { op.preparedSelection = display.input.prepareSelection(op.focus) }
	}
	
	function endOperation_W2(op) {
	  var cm = op.cm
	
	  if (op.adjustWidthTo != null) {
	    cm.display.sizer.style.minWidth = op.adjustWidthTo + "px"
	    if (op.maxScrollLeft < cm.doc.scrollLeft)
	      { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true) }
	    cm.display.maxLineChanged = false
	  }
	
	  var takeFocus = op.focus && op.focus == activeElt() && (!document.hasFocus || document.hasFocus())
	  if (op.preparedSelection)
	    { cm.display.input.showSelection(op.preparedSelection, takeFocus) }
	  if (op.updatedDisplay || op.startHeight != cm.doc.height)
	    { updateScrollbars(cm, op.barMeasure) }
	  if (op.updatedDisplay)
	    { setDocumentHeight(cm, op.barMeasure) }
	
	  if (op.selectionChanged) { restartBlink(cm) }
	
	  if (cm.state.focused && op.updateInput)
	    { cm.display.input.reset(op.typing) }
	  if (takeFocus) { ensureFocus(op.cm) }
	}
	
	function endOperation_finish(op) {
	  var cm = op.cm, display = cm.display, doc = cm.doc
	
	  if (op.updatedDisplay) { postUpdateDisplay(cm, op.update) }
	
	  // Abort mouse wheel delta measurement, when scrolling explicitly
	  if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))
	    { display.wheelStartX = display.wheelStartY = null }
	
	  // Propagate the scroll position to the actual DOM scroller
	  if (op.scrollTop != null && (display.scroller.scrollTop != op.scrollTop || op.forceScroll)) {
	    doc.scrollTop = Math.max(0, Math.min(display.scroller.scrollHeight - display.scroller.clientHeight, op.scrollTop))
	    display.scrollbars.setScrollTop(doc.scrollTop)
	    display.scroller.scrollTop = doc.scrollTop
	  }
	  if (op.scrollLeft != null && (display.scroller.scrollLeft != op.scrollLeft || op.forceScroll)) {
	    doc.scrollLeft = Math.max(0, Math.min(display.scroller.scrollWidth - display.scroller.clientWidth, op.scrollLeft))
	    display.scrollbars.setScrollLeft(doc.scrollLeft)
	    display.scroller.scrollLeft = doc.scrollLeft
	    alignHorizontally(cm)
	  }
	  // If we need to scroll a specific position into view, do so.
	  if (op.scrollToPos) {
	    var coords = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),
	                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin)
	    if (op.scrollToPos.isCursor && cm.state.focused) { maybeScrollWindow(cm, coords) }
	  }
	
	  // Fire events for markers that are hidden/unidden by editing or
	  // undoing
	  var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers
	  if (hidden) { for (var i = 0; i < hidden.length; ++i)
	    { if (!hidden[i].lines.length) { signal(hidden[i], "hide") } } }
	  if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)
	    { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], "unhide") } } }
	
	  if (display.wrapper.offsetHeight)
	    { doc.scrollTop = cm.display.scroller.scrollTop }
	
	  // Fire change events, and delayed event handlers
	  if (op.changeObjs)
	    { signal(cm, "changes", cm, op.changeObjs) }
	  if (op.update)
	    { op.update.finish() }
	}
	
	// Run the given function in an operation
	function runInOp(cm, f) {
	  if (cm.curOp) { return f() }
	  startOperation(cm)
	  try { return f() }
	  finally { endOperation(cm) }
	}
	// Wraps a function in an operation. Returns the wrapped function.
	function operation(cm, f) {
	  return function() {
	    if (cm.curOp) { return f.apply(cm, arguments) }
	    startOperation(cm)
	    try { return f.apply(cm, arguments) }
	    finally { endOperation(cm) }
	  }
	}
	// Used to add methods to editor and doc instances, wrapping them in
	// operations.
	function methodOp(f) {
	  return function() {
	    if (this.curOp) { return f.apply(this, arguments) }
	    startOperation(this)
	    try { return f.apply(this, arguments) }
	    finally { endOperation(this) }
	  }
	}
	function docMethodOp(f) {
	  return function() {
	    var cm = this.cm
	    if (!cm || cm.curOp) { return f.apply(this, arguments) }
	    startOperation(cm)
	    try { return f.apply(this, arguments) }
	    finally { endOperation(cm) }
	  }
	}
	
	// Updates the display.view data structure for a given change to the
	// document. From and to are in pre-change coordinates. Lendiff is
	// the amount of lines added or subtracted by the change. This is
	// used for changes that span multiple lines, or change the way
	// lines are divided into visual lines. regLineChange (below)
	// registers single-line changes.
	function regChange(cm, from, to, lendiff) {
	  if (from == null) { from = cm.doc.first }
	  if (to == null) { to = cm.doc.first + cm.doc.size }
	  if (!lendiff) { lendiff = 0 }
	
	  var display = cm.display
	  if (lendiff && to < display.viewTo &&
	      (display.updateLineNumbers == null || display.updateLineNumbers > from))
	    { display.updateLineNumbers = from }
	
	  cm.curOp.viewChanged = true
	
	  if (from >= display.viewTo) { // Change after
	    if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)
	      { resetView(cm) }
	  } else if (to <= display.viewFrom) { // Change before
	    if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {
	      resetView(cm)
	    } else {
	      display.viewFrom += lendiff
	      display.viewTo += lendiff
	    }
	  } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap
	    resetView(cm)
	  } else if (from <= display.viewFrom) { // Top overlap
	    var cut = viewCuttingPoint(cm, to, to + lendiff, 1)
	    if (cut) {
	      display.view = display.view.slice(cut.index)
	      display.viewFrom = cut.lineN
	      display.viewTo += lendiff
	    } else {
	      resetView(cm)
	    }
	  } else if (to >= display.viewTo) { // Bottom overlap
	    var cut$1 = viewCuttingPoint(cm, from, from, -1)
	    if (cut$1) {
	      display.view = display.view.slice(0, cut$1.index)
	      display.viewTo = cut$1.lineN
	    } else {
	      resetView(cm)
	    }
	  } else { // Gap in the middle
	    var cutTop = viewCuttingPoint(cm, from, from, -1)
	    var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1)
	    if (cutTop && cutBot) {
	      display.view = display.view.slice(0, cutTop.index)
	        .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))
	        .concat(display.view.slice(cutBot.index))
	      display.viewTo += lendiff
	    } else {
	      resetView(cm)
	    }
	  }
	
	  var ext = display.externalMeasured
	  if (ext) {
	    if (to < ext.lineN)
	      { ext.lineN += lendiff }
	    else if (from < ext.lineN + ext.size)
	      { display.externalMeasured = null }
	  }
	}
	
	// Register a change to a single line. Type must be one of "text",
	// "gutter", "class", "widget"
	function regLineChange(cm, line, type) {
	  cm.curOp.viewChanged = true
	  var display = cm.display, ext = cm.display.externalMeasured
	  if (ext && line >= ext.lineN && line < ext.lineN + ext.size)
	    { display.externalMeasured = null }
	
	  if (line < display.viewFrom || line >= display.viewTo) { return }
	  var lineView = display.view[findViewIndex(cm, line)]
	  if (lineView.node == null) { return }
	  var arr = lineView.changes || (lineView.changes = [])
	  if (indexOf(arr, type) == -1) { arr.push(type) }
	}
	
	// Clear the view.
	function resetView(cm) {
	  cm.display.viewFrom = cm.display.viewTo = cm.doc.first
	  cm.display.view = []
	  cm.display.viewOffset = 0
	}
	
	function viewCuttingPoint(cm, oldN, newN, dir) {
	  var index = findViewIndex(cm, oldN), diff, view = cm.display.view
	  if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)
	    { return {index: index, lineN: newN} }
	  var n = cm.display.viewFrom
	  for (var i = 0; i < index; i++)
	    { n += view[i].size }
	  if (n != oldN) {
	    if (dir > 0) {
	      if (index == view.length - 1) { return null }
	      diff = (n + view[index].size) - oldN
	      index++
	    } else {
	      diff = n - oldN
	    }
	    oldN += diff; newN += diff
	  }
	  while (visualLineNo(cm.doc, newN) != newN) {
	    if (index == (dir < 0 ? 0 : view.length - 1)) { return null }
	    newN += dir * view[index - (dir < 0 ? 1 : 0)].size
	    index += dir
	  }
	  return {index: index, lineN: newN}
	}
	
	// Force the view to cover a given range, adding empty view element
	// or clipping off existing ones as needed.
	function adjustView(cm, from, to) {
	  var display = cm.display, view = display.view
	  if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {
	    display.view = buildViewArray(cm, from, to)
	    display.viewFrom = from
	  } else {
	    if (display.viewFrom > from)
	      { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view) }
	    else if (display.viewFrom < from)
	      { display.view = display.view.slice(findViewIndex(cm, from)) }
	    display.viewFrom = from
	    if (display.viewTo < to)
	      { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)) }
	    else if (display.viewTo > to)
	      { display.view = display.view.slice(0, findViewIndex(cm, to)) }
	  }
	  display.viewTo = to
	}
	
	// Count the number of lines in the view whose DOM representation is
	// out of date (or nonexistent).
	function countDirtyView(cm) {
	  var view = cm.display.view, dirty = 0
	  for (var i = 0; i < view.length; i++) {
	    var lineView = view[i]
	    if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty }
	  }
	  return dirty
	}
	
	// HIGHLIGHT WORKER
	
	function startWorker(cm, time) {
	  if (cm.doc.mode.startState && cm.doc.frontier < cm.display.viewTo)
	    { cm.state.highlight.set(time, bind(highlightWorker, cm)) }
	}
	
	function highlightWorker(cm) {
	  var doc = cm.doc
	  if (doc.frontier < doc.first) { doc.frontier = doc.first }
	  if (doc.frontier >= cm.display.viewTo) { return }
	  var end = +new Date + cm.options.workTime
	  var state = copyState(doc.mode, getStateBefore(cm, doc.frontier))
	  var changedLines = []
	
	  doc.iter(doc.frontier, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {
	    if (doc.frontier >= cm.display.viewFrom) { // Visible
	      var oldStyles = line.styles, tooLong = line.text.length > cm.options.maxHighlightLength
	      var highlighted = highlightLine(cm, line, tooLong ? copyState(doc.mode, state) : state, true)
	      line.styles = highlighted.styles
	      var oldCls = line.styleClasses, newCls = highlighted.classes
	      if (newCls) { line.styleClasses = newCls }
	      else if (oldCls) { line.styleClasses = null }
	      var ischange = !oldStyles || oldStyles.length != line.styles.length ||
	        oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass)
	      for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i] }
	      if (ischange) { changedLines.push(doc.frontier) }
	      line.stateAfter = tooLong ? state : copyState(doc.mode, state)
	    } else {
	      if (line.text.length <= cm.options.maxHighlightLength)
	        { processLine(cm, line.text, state) }
	      line.stateAfter = doc.frontier % 5 == 0 ? copyState(doc.mode, state) : null
	    }
	    ++doc.frontier
	    if (+new Date > end) {
	      startWorker(cm, cm.options.workDelay)
	      return true
	    }
	  })
	  if (changedLines.length) { runInOp(cm, function () {
	    for (var i = 0; i < changedLines.length; i++)
	      { regLineChange(cm, changedLines[i], "text") }
	  }) }
	}
	
	// DISPLAY DRAWING
	
	function DisplayUpdate(cm, viewport, force) {
	  var display = cm.display
	
	  this.viewport = viewport
	  // Store some values that we'll need later (but don't want to force a relayout for)
	  this.visible = visibleLines(display, cm.doc, viewport)
	  this.editorIsHidden = !display.wrapper.offsetWidth
	  this.wrapperHeight = display.wrapper.clientHeight
	  this.wrapperWidth = display.wrapper.clientWidth
	  this.oldDisplayWidth = displayWidth(cm)
	  this.force = force
	  this.dims = getDimensions(cm)
	  this.events = []
	}
	
	DisplayUpdate.prototype.signal = function(emitter, type) {
	  if (hasHandler(emitter, type))
	    { this.events.push(arguments) }
	}
	DisplayUpdate.prototype.finish = function() {
	  var this$1 = this;
	
	  for (var i = 0; i < this.events.length; i++)
	    { signal.apply(null, this$1.events[i]) }
	}
	
	function maybeClipScrollbars(cm) {
	  var display = cm.display
	  if (!display.scrollbarsClipped && display.scroller.offsetWidth) {
	    display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth
	    display.heightForcer.style.height = scrollGap(cm) + "px"
	    display.sizer.style.marginBottom = -display.nativeBarWidth + "px"
	    display.sizer.style.borderRightWidth = scrollGap(cm) + "px"
	    display.scrollbarsClipped = true
	  }
	}
	
	// Does the actual updating of the line display. Bails out
	// (returning false) when there is nothing to be done and forced is
	// false.
	function updateDisplayIfNeeded(cm, update) {
	  var display = cm.display, doc = cm.doc
	
	  if (update.editorIsHidden) {
	    resetView(cm)
	    return false
	  }
	
	  // Bail out if the visible area is already rendered and nothing changed.
	  if (!update.force &&
	      update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&
	      (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&
	      display.renderedView == display.view && countDirtyView(cm) == 0)
	    { return false }
	
	  if (maybeUpdateLineNumberWidth(cm)) {
	    resetView(cm)
	    update.dims = getDimensions(cm)
	  }
	
	  // Compute a suitable new viewport (from & to)
	  var end = doc.first + doc.size
	  var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first)
	  var to = Math.min(end, update.visible.to + cm.options.viewportMargin)
	  if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom) }
	  if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo) }
	  if (sawCollapsedSpans) {
	    from = visualLineNo(cm.doc, from)
	    to = visualLineEndNo(cm.doc, to)
	  }
	
	  var different = from != display.viewFrom || to != display.viewTo ||
	    display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth
	  adjustView(cm, from, to)
	
	  display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom))
	  // Position the mover div to align with the current scroll position
	  cm.display.mover.style.top = display.viewOffset + "px"
	
	  var toUpdate = countDirtyView(cm)
	  if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&
	      (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))
	    { return false }
	
	  // For big changes, we hide the enclosing element during the
	  // update, since that speeds up the operations on most browsers.
	  var focused = activeElt()
	  if (toUpdate > 4) { display.lineDiv.style.display = "none" }
	  patchDisplay(cm, display.updateLineNumbers, update.dims)
	  if (toUpdate > 4) { display.lineDiv.style.display = "" }
	  display.renderedView = display.view
	  // There might have been a widget with a focused element that got
	  // hidden or updated, if so re-focus it.
	  if (focused && activeElt() != focused && focused.offsetHeight) { focused.focus() }
	
	  // Prevent selection and cursors from interfering with the scroll
	  // width and height.
	  removeChildren(display.cursorDiv)
	  removeChildren(display.selectionDiv)
	  display.gutters.style.height = display.sizer.style.minHeight = 0
	
	  if (different) {
	    display.lastWrapHeight = update.wrapperHeight
	    display.lastWrapWidth = update.wrapperWidth
	    startWorker(cm, 400)
	  }
	
	  display.updateLineNumbers = null
	
	  return true
	}
	
	function postUpdateDisplay(cm, update) {
	  var viewport = update.viewport
	
	  for (var first = true;; first = false) {
	    if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {
	      // Clip forced viewport to actual scrollable area.
	      if (viewport && viewport.top != null)
	        { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)} }
	      // Updated line heights might result in the drawn area not
	      // actually covering the viewport. Keep looping until it does.
	      update.visible = visibleLines(cm.display, cm.doc, viewport)
	      if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)
	        { break }
	    }
	    if (!updateDisplayIfNeeded(cm, update)) { break }
	    updateHeightsInViewport(cm)
	    var barMeasure = measureForScrollbars(cm)
	    updateSelection(cm)
	    updateScrollbars(cm, barMeasure)
	    setDocumentHeight(cm, barMeasure)
	  }
	
	  update.signal(cm, "update", cm)
	  if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {
	    update.signal(cm, "viewportChange", cm, cm.display.viewFrom, cm.display.viewTo)
	    cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo
	  }
	}
	
	function updateDisplaySimple(cm, viewport) {
	  var update = new DisplayUpdate(cm, viewport)
	  if (updateDisplayIfNeeded(cm, update)) {
	    updateHeightsInViewport(cm)
	    postUpdateDisplay(cm, update)
	    var barMeasure = measureForScrollbars(cm)
	    updateSelection(cm)
	    updateScrollbars(cm, barMeasure)
	    setDocumentHeight(cm, barMeasure)
	    update.finish()
	  }
	}
	
	// Sync the actual display DOM structure with display.view, removing
	// nodes for lines that are no longer in view, and creating the ones
	// that are not there yet, and updating the ones that are out of
	// date.
	function patchDisplay(cm, updateNumbersFrom, dims) {
	  var display = cm.display, lineNumbers = cm.options.lineNumbers
	  var container = display.lineDiv, cur = container.firstChild
	
	  function rm(node) {
	    var next = node.nextSibling
	    // Works around a throw-scroll bug in OS X Webkit
	    if (webkit && mac && cm.display.currentWheelTarget == node)
	      { node.style.display = "none" }
	    else
	      { node.parentNode.removeChild(node) }
	    return next
	  }
	
	  var view = display.view, lineN = display.viewFrom
	  // Loop over the elements in the view, syncing cur (the DOM nodes
	  // in display.lineDiv) with the view as we go.
	  for (var i = 0; i < view.length; i++) {
	    var lineView = view[i]
	    if (lineView.hidden) {
	    } else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet
	      var node = buildLineElement(cm, lineView, lineN, dims)
	      container.insertBefore(node, cur)
	    } else { // Already drawn
	      while (cur != lineView.node) { cur = rm(cur) }
	      var updateNumber = lineNumbers && updateNumbersFrom != null &&
	        updateNumbersFrom <= lineN && lineView.lineNumber
	      if (lineView.changes) {
	        if (indexOf(lineView.changes, "gutter") > -1) { updateNumber = false }
	        updateLineForChanges(cm, lineView, lineN, dims)
	      }
	      if (updateNumber) {
	        removeChildren(lineView.lineNumber)
	        lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)))
	      }
	      cur = lineView.node.nextSibling
	    }
	    lineN += lineView.size
	  }
	  while (cur) { cur = rm(cur) }
	}
	
	function updateGutterSpace(cm) {
	  var width = cm.display.gutters.offsetWidth
	  cm.display.sizer.style.marginLeft = width + "px"
	}
	
	function setDocumentHeight(cm, measure) {
	  cm.display.sizer.style.minHeight = measure.docHeight + "px"
	  cm.display.heightForcer.style.top = measure.docHeight + "px"
	  cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + "px"
	}
	
	// Rebuild the gutter elements, ensure the margin to the left of the
	// code matches their width.
	function updateGutters(cm) {
	  var gutters = cm.display.gutters, specs = cm.options.gutters
	  removeChildren(gutters)
	  var i = 0
	  for (; i < specs.length; ++i) {
	    var gutterClass = specs[i]
	    var gElt = gutters.appendChild(elt("div", null, "CodeMirror-gutter " + gutterClass))
	    if (gutterClass == "CodeMirror-linenumbers") {
	      cm.display.lineGutter = gElt
	      gElt.style.width = (cm.display.lineNumWidth || 1) + "px"
	    }
	  }
	  gutters.style.display = i ? "" : "none"
	  updateGutterSpace(cm)
	}
	
	// Make sure the gutters options contains the element
	// "CodeMirror-linenumbers" when the lineNumbers option is true.
	function setGuttersForLineNumbers(options) {
	  var found = indexOf(options.gutters, "CodeMirror-linenumbers")
	  if (found == -1 && options.lineNumbers) {
	    options.gutters = options.gutters.concat(["CodeMirror-linenumbers"])
	  } else if (found > -1 && !options.lineNumbers) {
	    options.gutters = options.gutters.slice(0)
	    options.gutters.splice(found, 1)
	  }
	}
	
	// Selection objects are immutable. A new one is created every time
	// the selection changes. A selection is one or more non-overlapping
	// (and non-touching) ranges, sorted, and an integer that indicates
	// which one is the primary selection (the one that's scrolled into
	// view, that getCursor returns, etc).
	function Selection(ranges, primIndex) {
	  this.ranges = ranges
	  this.primIndex = primIndex
	}
	
	Selection.prototype = {
	  primary: function() { return this.ranges[this.primIndex] },
	  equals: function(other) {
	    var this$1 = this;
	
	    if (other == this) { return true }
	    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }
	    for (var i = 0; i < this.ranges.length; i++) {
	      var here = this$1.ranges[i], there = other.ranges[i]
	      if (cmp(here.anchor, there.anchor) != 0 || cmp(here.head, there.head) != 0) { return false }
	    }
	    return true
	  },
	  deepCopy: function() {
	    var this$1 = this;
	
	    var out = []
	    for (var i = 0; i < this.ranges.length; i++)
	      { out[i] = new Range(copyPos(this$1.ranges[i].anchor), copyPos(this$1.ranges[i].head)) }
	    return new Selection(out, this.primIndex)
	  },
	  somethingSelected: function() {
	    var this$1 = this;
	
	    for (var i = 0; i < this.ranges.length; i++)
	      { if (!this$1.ranges[i].empty()) { return true } }
	    return false
	  },
	  contains: function(pos, end) {
	    var this$1 = this;
	
	    if (!end) { end = pos }
	    for (var i = 0; i < this.ranges.length; i++) {
	      var range = this$1.ranges[i]
	      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)
	        { return i }
	    }
	    return -1
	  }
	}
	
	function Range(anchor, head) {
	  this.anchor = anchor; this.head = head
	}
	
	Range.prototype = {
	  from: function() { return minPos(this.anchor, this.head) },
	  to: function() { return maxPos(this.anchor, this.head) },
	  empty: function() {
	    return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch
	  }
	}
	
	// Take an unsorted, potentially overlapping set of ranges, and
	// build a selection out of it. 'Consumes' ranges array (modifying
	// it).
	function normalizeSelection(ranges, primIndex) {
	  var prim = ranges[primIndex]
	  ranges.sort(function (a, b) { return cmp(a.from(), b.from()); })
	  primIndex = indexOf(ranges, prim)
	  for (var i = 1; i < ranges.length; i++) {
	    var cur = ranges[i], prev = ranges[i - 1]
	    if (cmp(prev.to(), cur.from()) >= 0) {
	      var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to())
	      var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head
	      if (i <= primIndex) { --primIndex }
	      ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to))
	    }
	  }
	  return new Selection(ranges, primIndex)
	}
	
	function simpleSelection(anchor, head) {
	  return new Selection([new Range(anchor, head || anchor)], 0)
	}
	
	// Compute the position of the end of a change (its 'to' property
	// refers to the pre-change end).
	function changeEnd(change) {
	  if (!change.text) { return change.to }
	  return Pos(change.from.line + change.text.length - 1,
	             lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))
	}
	
	// Adjust a position to refer to the post-change position of the
	// same text, or the end of the change if the change covers it.
	function adjustForChange(pos, change) {
	  if (cmp(pos, change.from) < 0) { return pos }
	  if (cmp(pos, change.to) <= 0) { return changeEnd(change) }
	
	  var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch
	  if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch }
	  return Pos(line, ch)
	}
	
	function computeSelAfterChange(doc, change) {
	  var out = []
	  for (var i = 0; i < doc.sel.ranges.length; i++) {
	    var range = doc.sel.ranges[i]
	    out.push(new Range(adjustForChange(range.anchor, change),
	                       adjustForChange(range.head, change)))
	  }
	  return normalizeSelection(out, doc.sel.primIndex)
	}
	
	function offsetPos(pos, old, nw) {
	  if (pos.line == old.line)
	    { return Pos(nw.line, pos.ch - old.ch + nw.ch) }
	  else
	    { return Pos(nw.line + (pos.line - old.line), pos.ch) }
	}
	
	// Used by replaceSelections to allow moving the selection to the
	// start or around the replaced test. Hint may be "start" or "around".
	function computeReplacedSel(doc, changes, hint) {
	  var out = []
	  var oldPrev = Pos(doc.first, 0), newPrev = oldPrev
	  for (var i = 0; i < changes.length; i++) {
	    var change = changes[i]
	    var from = offsetPos(change.from, oldPrev, newPrev)
	    var to = offsetPos(changeEnd(change), oldPrev, newPrev)
	    oldPrev = change.to
	    newPrev = to
	    if (hint == "around") {
	      var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0
	      out[i] = new Range(inv ? to : from, inv ? from : to)
	    } else {
	      out[i] = new Range(from, from)
	    }
	  }
	  return new Selection(out, doc.sel.primIndex)
	}
	
	// Used to get the editor into a consistent state again when options change.
	
	function loadMode(cm) {
	  cm.doc.mode = getMode(cm.options, cm.doc.modeOption)
	  resetModeState(cm)
	}
	
	function resetModeState(cm) {
	  cm.doc.iter(function (line) {
	    if (line.stateAfter) { line.stateAfter = null }
	    if (line.styles) { line.styles = null }
	  })
	  cm.doc.frontier = cm.doc.first
	  startWorker(cm, 100)
	  cm.state.modeGen++
	  if (cm.curOp) { regChange(cm) }
	}
	
	// DOCUMENT DATA STRUCTURE
	
	// By default, updates that start and end at the beginning of a line
	// are treated specially, in order to make the association of line
	// widgets and marker elements with the text behave more intuitive.
	function isWholeLineUpdate(doc, change) {
	  return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == "" &&
	    (!doc.cm || doc.cm.options.wholeLineUpdateBefore)
	}
	
	// Perform a change on the document data structure.
	function updateDoc(doc, change, markedSpans, estimateHeight) {
	  function spansFor(n) {return markedSpans ? markedSpans[n] : null}
	  function update(line, text, spans) {
	    updateLine(line, text, spans, estimateHeight)
	    signalLater(line, "change", line, change)
	  }
	  function linesFor(start, end) {
	    var result = []
	    for (var i = start; i < end; ++i)
	      { result.push(new Line(text[i], spansFor(i), estimateHeight)) }
	    return result
	  }
	
	  var from = change.from, to = change.to, text = change.text
	  var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line)
	  var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line
	
	  // Adjust the line structure
	  if (change.full) {
	    doc.insert(0, linesFor(0, text.length))
	    doc.remove(text.length, doc.size - text.length)
	  } else if (isWholeLineUpdate(doc, change)) {
	    // This is a whole-line replace. Treated specially to make
	    // sure line objects move the way they are supposed to.
	    var added = linesFor(0, text.length - 1)
	    update(lastLine, lastLine.text, lastSpans)
	    if (nlines) { doc.remove(from.line, nlines) }
	    if (added.length) { doc.insert(from.line, added) }
	  } else if (firstLine == lastLine) {
	    if (text.length == 1) {
	      update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans)
	    } else {
	      var added$1 = linesFor(1, text.length - 1)
	      added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight))
	      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0))
	      doc.insert(from.line + 1, added$1)
	    }
	  } else if (text.length == 1) {
	    update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0))
	    doc.remove(from.line + 1, nlines)
	  } else {
	    update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0))
	    update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans)
	    var added$2 = linesFor(1, text.length - 1)
	    if (nlines > 1) { doc.remove(from.line + 1, nlines - 1) }
	    doc.insert(from.line + 1, added$2)
	  }
	
	  signalLater(doc, "change", doc, change)
	}
	
	// Call f for all linked documents.
	function linkedDocs(doc, f, sharedHistOnly) {
	  function propagate(doc, skip, sharedHist) {
	    if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {
	      var rel = doc.linked[i]
	      if (rel.doc == skip) { continue }
	      var shared = sharedHist && rel.sharedHist
	      if (sharedHistOnly && !shared) { continue }
	      f(rel.doc, shared)
	      propagate(rel.doc, doc, shared)
	    } }
	  }
	  propagate(doc, null, true)
	}
	
	// Attach a document to an editor.
	function attachDoc(cm, doc) {
	  if (doc.cm) { throw new Error("This document is already in use.") }
	  cm.doc = doc
	  doc.cm = cm
	  estimateLineHeights(cm)
	  loadMode(cm)
	  if (!cm.options.lineWrapping) { findMaxLine(cm) }
	  cm.options.mode = doc.modeOption
	  regChange(cm)
	}
	
	function History(startGen) {
	  // Arrays of change events and selections. Doing something adds an
	  // event to done and clears undo. Undoing moves events from done
	  // to undone, redoing moves them in the other direction.
	  this.done = []; this.undone = []
	  this.undoDepth = Infinity
	  // Used to track when changes can be merged into a single undo
	  // event
	  this.lastModTime = this.lastSelTime = 0
	  this.lastOp = this.lastSelOp = null
	  this.lastOrigin = this.lastSelOrigin = null
	  // Used by the isClean() method
	  this.generation = this.maxGeneration = startGen || 1
	}
	
	// Create a history change event from an updateDoc-style change
	// object.
	function historyChangeFromChange(doc, change) {
	  var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)}
	  attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1)
	  linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true)
	  return histChange
	}
	
	// Pop all selection events off the end of a history array. Stop at
	// a change event.
	function clearSelectionEvents(array) {
	  while (array.length) {
	    var last = lst(array)
	    if (last.ranges) { array.pop() }
	    else { break }
	  }
	}
	
	// Find the top change event in the history. Pop off selection
	// events that are in the way.
	function lastChangeEvent(hist, force) {
	  if (force) {
	    clearSelectionEvents(hist.done)
	    return lst(hist.done)
	  } else if (hist.done.length && !lst(hist.done).ranges) {
	    return lst(hist.done)
	  } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {
	    hist.done.pop()
	    return lst(hist.done)
	  }
	}
	
	// Register a change in the history. Merges changes that are within
	// a single operation, or are close together with an origin that
	// allows merging (starting with "+") into a single event.
	function addChangeToHistory(doc, change, selAfter, opId) {
	  var hist = doc.history
	  hist.undone.length = 0
	  var time = +new Date, cur
	  var last
	
	  if ((hist.lastOp == opId ||
	       hist.lastOrigin == change.origin && change.origin &&
	       ((change.origin.charAt(0) == "+" && doc.cm && hist.lastModTime > time - doc.cm.options.historyEventDelay) ||
	        change.origin.charAt(0) == "*")) &&
	      (cur = lastChangeEvent(hist, hist.lastOp == opId))) {
	    // Merge this change into the last event
	    last = lst(cur.changes)
	    if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {
	      // Optimized case for simple insertion -- don't want to add
	      // new changesets for every character typed
	      last.to = changeEnd(change)
	    } else {
	      // Add new sub-event
	      cur.changes.push(historyChangeFromChange(doc, change))
	    }
	  } else {
	    // Can not be merged, start a new event.
	    var before = lst(hist.done)
	    if (!before || !before.ranges)
	      { pushSelectionToHistory(doc.sel, hist.done) }
	    cur = {changes: [historyChangeFromChange(doc, change)],
	           generation: hist.generation}
	    hist.done.push(cur)
	    while (hist.done.length > hist.undoDepth) {
	      hist.done.shift()
	      if (!hist.done[0].ranges) { hist.done.shift() }
	    }
	  }
	  hist.done.push(selAfter)
	  hist.generation = ++hist.maxGeneration
	  hist.lastModTime = hist.lastSelTime = time
	  hist.lastOp = hist.lastSelOp = opId
	  hist.lastOrigin = hist.lastSelOrigin = change.origin
	
	  if (!last) { signal(doc, "historyAdded") }
	}
	
	function selectionEventCanBeMerged(doc, origin, prev, sel) {
	  var ch = origin.charAt(0)
	  return ch == "*" ||
	    ch == "+" &&
	    prev.ranges.length == sel.ranges.length &&
	    prev.somethingSelected() == sel.somethingSelected() &&
	    new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)
	}
	
	// Called whenever the selection changes, sets the new selection as
	// the pending selection in the history, and pushes the old pending
	// selection into the 'done' array when it was significantly
	// different (in number of selected ranges, emptiness, or time).
	function addSelectionToHistory(doc, sel, opId, options) {
	  var hist = doc.history, origin = options && options.origin
	
	  // A new event is started when the previous origin does not match
	  // the current, or the origins don't allow matching. Origins
	  // starting with * are always merged, those starting with + are
	  // merged when similar and close together in time.
	  if (opId == hist.lastSelOp ||
	      (origin && hist.lastSelOrigin == origin &&
	       (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||
	        selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))
	    { hist.done[hist.done.length - 1] = sel }
	  else
	    { pushSelectionToHistory(sel, hist.done) }
	
	  hist.lastSelTime = +new Date
	  hist.lastSelOrigin = origin
	  hist.lastSelOp = opId
	  if (options && options.clearRedo !== false)
	    { clearSelectionEvents(hist.undone) }
	}
	
	function pushSelectionToHistory(sel, dest) {
	  var top = lst(dest)
	  if (!(top && top.ranges && top.equals(sel)))
	    { dest.push(sel) }
	}
	
	// Used to store marked span information in the history.
	function attachLocalSpans(doc, change, from, to) {
	  var existing = change["spans_" + doc.id], n = 0
	  doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {
	    if (line.markedSpans)
	      { (existing || (existing = change["spans_" + doc.id] = {}))[n] = line.markedSpans }
	    ++n
	  })
	}
	
	// When un/re-doing restores text containing marked spans, those
	// that have been explicitly cleared should not be restored.
	function removeClearedSpans(spans) {
	  if (!spans) { return null }
	  var out
	  for (var i = 0; i < spans.length; ++i) {
	    if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i) } }
	    else if (out) { out.push(spans[i]) }
	  }
	  return !out ? spans : out.length ? out : null
	}
	
	// Retrieve and filter the old marked spans stored in a change event.
	function getOldSpans(doc, change) {
	  var found = change["spans_" + doc.id]
	  if (!found) { return null }
	  var nw = []
	  for (var i = 0; i < change.text.length; ++i)
	    { nw.push(removeClearedSpans(found[i])) }
	  return nw
	}
	
	// Used for un/re-doing changes from the history. Combines the
	// result of computing the existing spans with the set of spans that
	// existed in the history (so that deleting around a span and then
	// undoing brings back the span).
	function mergeOldSpans(doc, change) {
	  var old = getOldSpans(doc, change)
	  var stretched = stretchSpansOverChange(doc, change)
	  if (!old) { return stretched }
	  if (!stretched) { return old }
	
	  for (var i = 0; i < old.length; ++i) {
	    var oldCur = old[i], stretchCur = stretched[i]
	    if (oldCur && stretchCur) {
	      spans: for (var j = 0; j < stretchCur.length; ++j) {
	        var span = stretchCur[j]
	        for (var k = 0; k < oldCur.length; ++k)
	          { if (oldCur[k].marker == span.marker) { continue spans } }
	        oldCur.push(span)
	      }
	    } else if (stretchCur) {
	      old[i] = stretchCur
	    }
	  }
	  return old
	}
	
	// Used both to provide a JSON-safe object in .getHistory, and, when
	// detaching a document, to split the history in two
	function copyHistoryArray(events, newGroup, instantiateSel) {
	  var copy = []
	  for (var i = 0; i < events.length; ++i) {
	    var event = events[i]
	    if (event.ranges) {
	      copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event)
	      continue
	    }
	    var changes = event.changes, newChanges = []
	    copy.push({changes: newChanges})
	    for (var j = 0; j < changes.length; ++j) {
	      var change = changes[j], m = (void 0)
	      newChanges.push({from: change.from, to: change.to, text: change.text})
	      if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\d+)$/)) {
	        if (indexOf(newGroup, Number(m[1])) > -1) {
	          lst(newChanges)[prop] = change[prop]
	          delete change[prop]
	        }
	      } } }
	    }
	  }
	  return copy
	}
	
	// The 'scroll' parameter given to many of these indicated whether
	// the new cursor position should be scrolled into view after
	// modifying the selection.
	
	// If shift is held or the extend flag is set, extends a range to
	// include a given position (and optionally a second position).
	// Otherwise, simply returns the range between the given positions.
	// Used for cursor motion and such.
	function extendRange(doc, range, head, other) {
	  if (doc.cm && doc.cm.display.shift || doc.extend) {
	    var anchor = range.anchor
	    if (other) {
	      var posBefore = cmp(head, anchor) < 0
	      if (posBefore != (cmp(other, anchor) < 0)) {
	        anchor = head
	        head = other
	      } else if (posBefore != (cmp(head, other) < 0)) {
	        head = other
	      }
	    }
	    return new Range(anchor, head)
	  } else {
	    return new Range(other || head, head)
	  }
	}
	
	// Extend the primary selection range, discard the rest.
	function extendSelection(doc, head, other, options) {
	  setSelection(doc, new Selection([extendRange(doc, doc.sel.primary(), head, other)], 0), options)
	}
	
	// Extend all selections (pos is an array of selections with length
	// equal the number of selections)
	function extendSelections(doc, heads, options) {
	  var out = []
	  for (var i = 0; i < doc.sel.ranges.length; i++)
	    { out[i] = extendRange(doc, doc.sel.ranges[i], heads[i], null) }
	  var newSel = normalizeSelection(out, doc.sel.primIndex)
	  setSelection(doc, newSel, options)
	}
	
	// Updates a single range in the selection.
	function replaceOneSelection(doc, i, range, options) {
	  var ranges = doc.sel.ranges.slice(0)
	  ranges[i] = range
	  setSelection(doc, normalizeSelection(ranges, doc.sel.primIndex), options)
	}
	
	// Reset the selection to a single range.
	function setSimpleSelection(doc, anchor, head, options) {
	  setSelection(doc, simpleSelection(anchor, head), options)
	}
	
	// Give beforeSelectionChange handlers a change to influence a
	// selection update.
	function filterSelectionChange(doc, sel, options) {
	  var obj = {
	    ranges: sel.ranges,
	    update: function(ranges) {
	      var this$1 = this;
	
	      this.ranges = []
	      for (var i = 0; i < ranges.length; i++)
	        { this$1.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),
	                                   clipPos(doc, ranges[i].head)) }
	    },
	    origin: options && options.origin
	  }
	  signal(doc, "beforeSelectionChange", doc, obj)
	  if (doc.cm) { signal(doc.cm, "beforeSelectionChange", doc.cm, obj) }
	  if (obj.ranges != sel.ranges) { return normalizeSelection(obj.ranges, obj.ranges.length - 1) }
	  else { return sel }
	}
	
	function setSelectionReplaceHistory(doc, sel, options) {
	  var done = doc.history.done, last = lst(done)
	  if (last && last.ranges) {
	    done[done.length - 1] = sel
	    setSelectionNoUndo(doc, sel, options)
	  } else {
	    setSelection(doc, sel, options)
	  }
	}
	
	// Set a new selection.
	function setSelection(doc, sel, options) {
	  setSelectionNoUndo(doc, sel, options)
	  addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options)
	}
	
	function setSelectionNoUndo(doc, sel, options) {
	  if (hasHandler(doc, "beforeSelectionChange") || doc.cm && hasHandler(doc.cm, "beforeSelectionChange"))
	    { sel = filterSelectionChange(doc, sel, options) }
	
	  var bias = options && options.bias ||
	    (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1)
	  setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true))
	
	  if (!(options && options.scroll === false) && doc.cm)
	    { ensureCursorVisible(doc.cm) }
	}
	
	function setSelectionInner(doc, sel) {
	  if (sel.equals(doc.sel)) { return }
	
	  doc.sel = sel
	
	  if (doc.cm) {
	    doc.cm.curOp.updateInput = doc.cm.curOp.selectionChanged = true
	    signalCursorActivity(doc.cm)
	  }
	  signalLater(doc, "cursorActivity", doc)
	}
	
	// Verify that the selection does not partially select any atomic
	// marked ranges.
	function reCheckSelection(doc) {
	  setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false), sel_dontScroll)
	}
	
	// Return a selection that does not partially select any atomic
	// ranges.
	function skipAtomicInSelection(doc, sel, bias, mayClear) {
	  var out
	  for (var i = 0; i < sel.ranges.length; i++) {
	    var range = sel.ranges[i]
	    var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i]
	    var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear)
	    var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear)
	    if (out || newAnchor != range.anchor || newHead != range.head) {
	      if (!out) { out = sel.ranges.slice(0, i) }
	      out[i] = new Range(newAnchor, newHead)
	    }
	  }
	  return out ? normalizeSelection(out, sel.primIndex) : sel
	}
	
	function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {
	  var line = getLine(doc, pos.line)
	  if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {
	    var sp = line.markedSpans[i], m = sp.marker
	    if ((sp.from == null || (m.inclusiveLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&
	        (sp.to == null || (m.inclusiveRight ? sp.to >= pos.ch : sp.to > pos.ch))) {
	      if (mayClear) {
	        signal(m, "beforeCursorEnter")
	        if (m.explicitlyCleared) {
	          if (!line.markedSpans) { break }
	          else {--i; continue}
	        }
	      }
	      if (!m.atomic) { continue }
	
	      if (oldPos) {
	        var near = m.find(dir < 0 ? 1 : -1), diff = (void 0)
	        if (dir < 0 ? m.inclusiveRight : m.inclusiveLeft)
	          { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null) }
	        if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))
	          { return skipAtomicInner(doc, near, pos, dir, mayClear) }
	      }
	
	      var far = m.find(dir < 0 ? -1 : 1)
	      if (dir < 0 ? m.inclusiveLeft : m.inclusiveRight)
	        { far = movePos(doc, far, dir, far.line == pos.line ? line : null) }
	      return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null
	    }
	  } }
	  return pos
	}
	
	// Ensure a given position is not inside an atomic range.
	function skipAtomic(doc, pos, oldPos, bias, mayClear) {
	  var dir = bias || 1
	  var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||
	      (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||
	      skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||
	      (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true))
	  if (!found) {
	    doc.cantEdit = true
	    return Pos(doc.first, 0)
	  }
	  return found
	}
	
	function movePos(doc, pos, dir, line) {
	  if (dir < 0 && pos.ch == 0) {
	    if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }
	    else { return null }
	  } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {
	    if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }
	    else { return null }
	  } else {
	    return new Pos(pos.line, pos.ch + dir)
	  }
	}
	
	function selectAll(cm) {
	  cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll)
	}
	
	// UPDATING
	
	// Allow "beforeChange" event handlers to influence a change
	function filterChange(doc, change, update) {
	  var obj = {
	    canceled: false,
	    from: change.from,
	    to: change.to,
	    text: change.text,
	    origin: change.origin,
	    cancel: function () { return obj.canceled = true; }
	  }
	  if (update) { obj.update = function (from, to, text, origin) {
	    if (from) { obj.from = clipPos(doc, from) }
	    if (to) { obj.to = clipPos(doc, to) }
	    if (text) { obj.text = text }
	    if (origin !== undefined) { obj.origin = origin }
	  } }
	  signal(doc, "beforeChange", doc, obj)
	  if (doc.cm) { signal(doc.cm, "beforeChange", doc.cm, obj) }
	
	  if (obj.canceled) { return null }
	  return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}
	}
	
	// Apply a change to a document, and add it to the document's
	// history, and propagating it to all linked documents.
	function makeChange(doc, change, ignoreReadOnly) {
	  if (doc.cm) {
	    if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }
	    if (doc.cm.state.suppressEdits) { return }
	  }
	
	  if (hasHandler(doc, "beforeChange") || doc.cm && hasHandler(doc.cm, "beforeChange")) {
	    change = filterChange(doc, change, true)
	    if (!change) { return }
	  }
	
	  // Possibly split or suppress the update based on the presence
	  // of read-only spans in its range.
	  var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to)
	  if (split) {
	    for (var i = split.length - 1; i >= 0; --i)
	      { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [""] : change.text}) }
	  } else {
	    makeChangeInner(doc, change)
	  }
	}
	
	function makeChangeInner(doc, change) {
	  if (change.text.length == 1 && change.text[0] == "" && cmp(change.from, change.to) == 0) { return }
	  var selAfter = computeSelAfterChange(doc, change)
	  addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN)
	
	  makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change))
	  var rebased = []
	
	  linkedDocs(doc, function (doc, sharedHist) {
	    if (!sharedHist && indexOf(rebased, doc.history) == -1) {
	      rebaseHist(doc.history, change)
	      rebased.push(doc.history)
	    }
	    makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change))
	  })
	}
	
	// Revert a change stored in a document's history.
	function makeChangeFromHistory(doc, type, allowSelectionOnly) {
	  if (doc.cm && doc.cm.state.suppressEdits && !allowSelectionOnly) { return }
	
	  var hist = doc.history, event, selAfter = doc.sel
	  var source = type == "undo" ? hist.done : hist.undone, dest = type == "undo" ? hist.undone : hist.done
	
	  // Verify that there is a useable event (so that ctrl-z won't
	  // needlessly clear selection events)
	  var i = 0
	  for (; i < source.length; i++) {
	    event = source[i]
	    if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)
	      { break }
	  }
	  if (i == source.length) { return }
	  hist.lastOrigin = hist.lastSelOrigin = null
	
	  for (;;) {
	    event = source.pop()
	    if (event.ranges) {
	      pushSelectionToHistory(event, dest)
	      if (allowSelectionOnly && !event.equals(doc.sel)) {
	        setSelection(doc, event, {clearRedo: false})
	        return
	      }
	      selAfter = event
	    }
	    else { break }
	  }
	
	  // Build up a reverse change object to add to the opposite history
	  // stack (redo when undoing, and vice versa).
	  var antiChanges = []
	  pushSelectionToHistory(selAfter, dest)
	  dest.push({changes: antiChanges, generation: hist.generation})
	  hist.generation = event.generation || ++hist.maxGeneration
	
	  var filter = hasHandler(doc, "beforeChange") || doc.cm && hasHandler(doc.cm, "beforeChange")
	
	  var loop = function ( i ) {
	    var change = event.changes[i]
	    change.origin = type
	    if (filter && !filterChange(doc, change, false)) {
	      source.length = 0
	      return {}
	    }
	
	    antiChanges.push(historyChangeFromChange(doc, change))
	
	    var after = i ? computeSelAfterChange(doc, change) : lst(source)
	    makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change))
	    if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}) }
	    var rebased = []
	
	    // Propagate to the linked documents
	    linkedDocs(doc, function (doc, sharedHist) {
	      if (!sharedHist && indexOf(rebased, doc.history) == -1) {
	        rebaseHist(doc.history, change)
	        rebased.push(doc.history)
	      }
	      makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change))
	    })
	  };
	
	  for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {
	    var returned = loop( i$1 );
	
	    if ( returned ) return returned.v;
	  }
	}
	
	// Sub-views need their line numbers shifted when text is added
	// above or below them in the parent document.
	function shiftDoc(doc, distance) {
	  if (distance == 0) { return }
	  doc.first += distance
	  doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(
	    Pos(range.anchor.line + distance, range.anchor.ch),
	    Pos(range.head.line + distance, range.head.ch)
	  ); }), doc.sel.primIndex)
	  if (doc.cm) {
	    regChange(doc.cm, doc.first, doc.first - distance, distance)
	    for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)
	      { regLineChange(doc.cm, l, "gutter") }
	  }
	}
	
	// More lower-level change function, handling only a single document
	// (not linked ones).
	function makeChangeSingleDoc(doc, change, selAfter, spans) {
	  if (doc.cm && !doc.cm.curOp)
	    { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }
	
	  if (change.to.line < doc.first) {
	    shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line))
	    return
	  }
	  if (change.from.line > doc.lastLine()) { return }
	
	  // Clip the change to the size of this doc
	  if (change.from.line < doc.first) {
	    var shift = change.text.length - 1 - (doc.first - change.from.line)
	    shiftDoc(doc, shift)
	    change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),
	              text: [lst(change.text)], origin: change.origin}
	  }
	  var last = doc.lastLine()
	  if (change.to.line > last) {
	    change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),
	              text: [change.text[0]], origin: change.origin}
	  }
	
	  change.removed = getBetween(doc, change.from, change.to)
	
	  if (!selAfter) { selAfter = computeSelAfterChange(doc, change) }
	  if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans) }
	  else { updateDoc(doc, change, spans) }
	  setSelectionNoUndo(doc, selAfter, sel_dontScroll)
	}
	
	// Handle the interaction of a change to a document with the editor
	// that this document is part of.
	function makeChangeSingleDocInEditor(cm, change, spans) {
	  var doc = cm.doc, display = cm.display, from = change.from, to = change.to
	
	  var recomputeMaxLength = false, checkWidthStart = from.line
	  if (!cm.options.lineWrapping) {
	    checkWidthStart = lineNo(visualLine(getLine(doc, from.line)))
	    doc.iter(checkWidthStart, to.line + 1, function (line) {
	      if (line == display.maxLine) {
	        recomputeMaxLength = true
	        return true
	      }
	    })
	  }
	
	  if (doc.sel.contains(change.from, change.to) > -1)
	    { signalCursorActivity(cm) }
	
	  updateDoc(doc, change, spans, estimateHeight(cm))
	
	  if (!cm.options.lineWrapping) {
	    doc.iter(checkWidthStart, from.line + change.text.length, function (line) {
	      var len = lineLength(line)
	      if (len > display.maxLineLength) {
	        display.maxLine = line
	        display.maxLineLength = len
	        display.maxLineChanged = true
	        recomputeMaxLength = false
	      }
	    })
	    if (recomputeMaxLength) { cm.curOp.updateMaxLine = true }
	  }
	
	  // Adjust frontier, schedule worker
	  doc.frontier = Math.min(doc.frontier, from.line)
	  startWorker(cm, 400)
	
	  var lendiff = change.text.length - (to.line - from.line) - 1
	  // Remember that these lines changed, for updating the display
	  if (change.full)
	    { regChange(cm) }
	  else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))
	    { regLineChange(cm, from.line, "text") }
	  else
	    { regChange(cm, from.line, to.line + 1, lendiff) }
	
	  var changesHandler = hasHandler(cm, "changes"), changeHandler = hasHandler(cm, "change")
	  if (changeHandler || changesHandler) {
	    var obj = {
	      from: from, to: to,
	      text: change.text,
	      removed: change.removed,
	      origin: change.origin
	    }
	    if (changeHandler) { signalLater(cm, "change", cm, obj) }
	    if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj) }
	  }
	  cm.display.selForContextMenu = null
	}
	
	function replaceRange(doc, code, from, to, origin) {
	  if (!to) { to = from }
	  if (cmp(to, from) < 0) { var tmp = to; to = from; from = tmp }
	  if (typeof code == "string") { code = doc.splitLines(code) }
	  makeChange(doc, {from: from, to: to, text: code, origin: origin})
	}
	
	// Rebasing/resetting history to deal with externally-sourced changes
	
	function rebaseHistSelSingle(pos, from, to, diff) {
	  if (to < pos.line) {
	    pos.line += diff
	  } else if (from < pos.line) {
	    pos.line = from
	    pos.ch = 0
	  }
	}
	
	// Tries to rebase an array of history events given a change in the
	// document. If the change touches the same lines as the event, the
	// event, and everything 'behind' it, is discarded. If the change is
	// before the event, the event's positions are updated. Uses a
	// copy-on-write scheme for the positions, to avoid having to
	// reallocate them all on every rebase, but also avoid problems with
	// shared position objects being unsafely updated.
	function rebaseHistArray(array, from, to, diff) {
	  for (var i = 0; i < array.length; ++i) {
	    var sub = array[i], ok = true
	    if (sub.ranges) {
	      if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true }
	      for (var j = 0; j < sub.ranges.length; j++) {
	        rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff)
	        rebaseHistSelSingle(sub.ranges[j].head, from, to, diff)
	      }
	      continue
	    }
	    for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {
	      var cur = sub.changes[j$1]
	      if (to < cur.from.line) {
	        cur.from = Pos(cur.from.line + diff, cur.from.ch)
	        cur.to = Pos(cur.to.line + diff, cur.to.ch)
	      } else if (from <= cur.to.line) {
	        ok = false
	        break
	      }
	    }
	    if (!ok) {
	      array.splice(0, i + 1)
	      i = 0
	    }
	  }
	}
	
	function rebaseHist(hist, change) {
	  var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1
	  rebaseHistArray(hist.done, from, to, diff)
	  rebaseHistArray(hist.undone, from, to, diff)
	}
	
	// Utility for applying a change to a line by handle or number,
	// returning the number and optionally registering the line as
	// changed.
	function changeLine(doc, handle, changeType, op) {
	  var no = handle, line = handle
	  if (typeof handle == "number") { line = getLine(doc, clipLine(doc, handle)) }
	  else { no = lineNo(handle) }
	  if (no == null) { return null }
	  if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType) }
	  return line
	}
	
	// The document is represented as a BTree consisting of leaves, with
	// chunk of lines in them, and branches, with up to ten leaves or
	// other branch nodes below them. The top node is always a branch
	// node, and is the document object itself (meaning it has
	// additional methods and properties).
	//
	// All nodes have parent links. The tree is used both to go from
	// line numbers to line objects, and to go from objects to numbers.
	// It also indexes by height, and is used to convert between height
	// and line object, and to find the total height of the document.
	//
	// See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html
	
	function LeafChunk(lines) {
	  var this$1 = this;
	
	  this.lines = lines
	  this.parent = null
	  var height = 0
	  for (var i = 0; i < lines.length; ++i) {
	    lines[i].parent = this$1
	    height += lines[i].height
	  }
	  this.height = height
	}
	
	LeafChunk.prototype = {
	  chunkSize: function() { return this.lines.length },
	  // Remove the n lines at offset 'at'.
	  removeInner: function(at, n) {
	    var this$1 = this;
	
	    for (var i = at, e = at + n; i < e; ++i) {
	      var line = this$1.lines[i]
	      this$1.height -= line.height
	      cleanUpLine(line)
	      signalLater(line, "delete")
	    }
	    this.lines.splice(at, n)
	  },
	  // Helper used to collapse a small branch into a single leaf.
	  collapse: function(lines) {
	    lines.push.apply(lines, this.lines)
	  },
	  // Insert the given array of lines at offset 'at', count them as
	  // having the given height.
	  insertInner: function(at, lines, height) {
	    var this$1 = this;
	
	    this.height += height
	    this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at))
	    for (var i = 0; i < lines.length; ++i) { lines[i].parent = this$1 }
	  },
	  // Used to iterate over a part of the tree.
	  iterN: function(at, n, op) {
	    var this$1 = this;
	
	    for (var e = at + n; at < e; ++at)
	      { if (op(this$1.lines[at])) { return true } }
	  }
	}
	
	function BranchChunk(children) {
	  var this$1 = this;
	
	  this.children = children
	  var size = 0, height = 0
	  for (var i = 0; i < children.length; ++i) {
	    var ch = children[i]
	    size += ch.chunkSize(); height += ch.height
	    ch.parent = this$1
	  }
	  this.size = size
	  this.height = height
	  this.parent = null
	}
	
	BranchChunk.prototype = {
	  chunkSize: function() { return this.size },
	  removeInner: function(at, n) {
	    var this$1 = this;
	
	    this.size -= n
	    for (var i = 0; i < this.children.length; ++i) {
	      var child = this$1.children[i], sz = child.chunkSize()
	      if (at < sz) {
	        var rm = Math.min(n, sz - at), oldHeight = child.height
	        child.removeInner(at, rm)
	        this$1.height -= oldHeight - child.height
	        if (sz == rm) { this$1.children.splice(i--, 1); child.parent = null }
	        if ((n -= rm) == 0) { break }
	        at = 0
	      } else { at -= sz }
	    }
	    // If the result is smaller than 25 lines, ensure that it is a
	    // single leaf node.
	    if (this.size - n < 25 &&
	        (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {
	      var lines = []
	      this.collapse(lines)
	      this.children = [new LeafChunk(lines)]
	      this.children[0].parent = this
	    }
	  },
	  collapse: function(lines) {
	    var this$1 = this;
	
	    for (var i = 0; i < this.children.length; ++i) { this$1.children[i].collapse(lines) }
	  },
	  insertInner: function(at, lines, height) {
	    var this$1 = this;
	
	    this.size += lines.length
	    this.height += height
	    for (var i = 0; i < this.children.length; ++i) {
	      var child = this$1.children[i], sz = child.chunkSize()
	      if (at <= sz) {
	        child.insertInner(at, lines, height)
	        if (child.lines && child.lines.length > 50) {
	          // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.
	          // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.
	          var remaining = child.lines.length % 25 + 25
	          for (var pos = remaining; pos < child.lines.length;) {
	            var leaf = new LeafChunk(child.lines.slice(pos, pos += 25))
	            child.height -= leaf.height
	            this$1.children.splice(++i, 0, leaf)
	            leaf.parent = this$1
	          }
	          child.lines = child.lines.slice(0, remaining)
	          this$1.maybeSpill()
	        }
	        break
	      }
	      at -= sz
	    }
	  },
	  // When a node has grown, check whether it should be split.
	  maybeSpill: function() {
	    if (this.children.length <= 10) { return }
	    var me = this
	    do {
	      var spilled = me.children.splice(me.children.length - 5, 5)
	      var sibling = new BranchChunk(spilled)
	      if (!me.parent) { // Become the parent node
	        var copy = new BranchChunk(me.children)
	        copy.parent = me
	        me.children = [copy, sibling]
	        me = copy
	     } else {
	        me.size -= sibling.size
	        me.height -= sibling.height
	        var myIndex = indexOf(me.parent.children, me)
	        me.parent.children.splice(myIndex + 1, 0, sibling)
	      }
	      sibling.parent = me.parent
	    } while (me.children.length > 10)
	    me.parent.maybeSpill()
	  },
	  iterN: function(at, n, op) {
	    var this$1 = this;
	
	    for (var i = 0; i < this.children.length; ++i) {
	      var child = this$1.children[i], sz = child.chunkSize()
	      if (at < sz) {
	        var used = Math.min(n, sz - at)
	        if (child.iterN(at, used, op)) { return true }
	        if ((n -= used) == 0) { break }
	        at = 0
	      } else { at -= sz }
	    }
	  }
	}
	
	// Line widgets are block elements displayed above or below a line.
	
	function LineWidget(doc, node, options) {
	  var this$1 = this;
	
	  if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))
	    { this$1[opt] = options[opt] } } }
	  this.doc = doc
	  this.node = node
	}
	eventMixin(LineWidget)
	
	function adjustScrollWhenAboveVisible(cm, line, diff) {
	  if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))
	    { addToScrollPos(cm, null, diff) }
	}
	
	LineWidget.prototype.clear = function() {
	  var this$1 = this;
	
	  var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line)
	  if (no == null || !ws) { return }
	  for (var i = 0; i < ws.length; ++i) { if (ws[i] == this$1) { ws.splice(i--, 1) } }
	  if (!ws.length) { line.widgets = null }
	  var height = widgetHeight(this)
	  updateLineHeight(line, Math.max(0, line.height - height))
	  if (cm) { runInOp(cm, function () {
	    adjustScrollWhenAboveVisible(cm, line, -height)
	    regLineChange(cm, no, "widget")
	  }) }
	}
	LineWidget.prototype.changed = function() {
	  var oldH = this.height, cm = this.doc.cm, line = this.line
	  this.height = null
	  var diff = widgetHeight(this) - oldH
	  if (!diff) { return }
	  updateLineHeight(line, line.height + diff)
	  if (cm) { runInOp(cm, function () {
	    cm.curOp.forceUpdate = true
	    adjustScrollWhenAboveVisible(cm, line, diff)
	  }) }
	}
	
	function addLineWidget(doc, handle, node, options) {
	  var widget = new LineWidget(doc, node, options)
	  var cm = doc.cm
	  if (cm && widget.noHScroll) { cm.display.alignWidgets = true }
	  changeLine(doc, handle, "widget", function (line) {
	    var widgets = line.widgets || (line.widgets = [])
	    if (widget.insertAt == null) { widgets.push(widget) }
	    else { widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget) }
	    widget.line = line
	    if (cm && !lineIsHidden(doc, line)) {
	      var aboveVisible = heightAtLine(line) < doc.scrollTop
	      updateLineHeight(line, line.height + widgetHeight(widget))
	      if (aboveVisible) { addToScrollPos(cm, null, widget.height) }
	      cm.curOp.forceUpdate = true
	    }
	    return true
	  })
	  return widget
	}
	
	// TEXTMARKERS
	
	// Created with markText and setBookmark methods. A TextMarker is a
	// handle that can be used to clear or find a marked position in the
	// document. Line objects hold arrays (markedSpans) containing
	// {from, to, marker} object pointing to such marker objects, and
	// indicating that such a marker is present on that line. Multiple
	// lines may point to the same marker when it spans across lines.
	// The spans will have null for their from/to properties when the
	// marker continues beyond the start/end of the line. Markers have
	// links back to the lines they currently touch.
	
	// Collapsed markers have unique ids, in order to be able to order
	// them, which is needed for uniquely determining an outer marker
	// when they overlap (they may nest, but not partially overlap).
	var nextMarkerId = 0
	
	function TextMarker(doc, type) {
	  this.lines = []
	  this.type = type
	  this.doc = doc
	  this.id = ++nextMarkerId
	}
	eventMixin(TextMarker)
	
	// Clear the marker.
	TextMarker.prototype.clear = function() {
	  var this$1 = this;
	
	  if (this.explicitlyCleared) { return }
	  var cm = this.doc.cm, withOp = cm && !cm.curOp
	  if (withOp) { startOperation(cm) }
	  if (hasHandler(this, "clear")) {
	    var found = this.find()
	    if (found) { signalLater(this, "clear", found.from, found.to) }
	  }
	  var min = null, max = null
	  for (var i = 0; i < this.lines.length; ++i) {
	    var line = this$1.lines[i]
	    var span = getMarkedSpanFor(line.markedSpans, this$1)
	    if (cm && !this$1.collapsed) { regLineChange(cm, lineNo(line), "text") }
	    else if (cm) {
	      if (span.to != null) { max = lineNo(line) }
	      if (span.from != null) { min = lineNo(line) }
	    }
	    line.markedSpans = removeMarkedSpan(line.markedSpans, span)
	    if (span.from == null && this$1.collapsed && !lineIsHidden(this$1.doc, line) && cm)
	      { updateLineHeight(line, textHeight(cm.display)) }
	  }
	  if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {
	    var visual = visualLine(this$1.lines[i$1]), len = lineLength(visual)
	    if (len > cm.display.maxLineLength) {
	      cm.display.maxLine = visual
	      cm.display.maxLineLength = len
	      cm.display.maxLineChanged = true
	    }
	  } }
	
	  if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1) }
	  this.lines.length = 0
	  this.explicitlyCleared = true
	  if (this.atomic && this.doc.cantEdit) {
	    this.doc.cantEdit = false
	    if (cm) { reCheckSelection(cm.doc) }
	  }
	  if (cm) { signalLater(cm, "markerCleared", cm, this) }
	  if (withOp) { endOperation(cm) }
	  if (this.parent) { this.parent.clear() }
	}
	
	// Find the position of the marker in the document. Returns a {from,
	// to} object by default. Side can be passed to get a specific side
	// -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the
	// Pos objects returned contain a line object, rather than a line
	// number (used to prevent looking up the same line twice).
	TextMarker.prototype.find = function(side, lineObj) {
	  var this$1 = this;
	
	  if (side == null && this.type == "bookmark") { side = 1 }
	  var from, to
	  for (var i = 0; i < this.lines.length; ++i) {
	    var line = this$1.lines[i]
	    var span = getMarkedSpanFor(line.markedSpans, this$1)
	    if (span.from != null) {
	      from = Pos(lineObj ? line : lineNo(line), span.from)
	      if (side == -1) { return from }
	    }
	    if (span.to != null) {
	      to = Pos(lineObj ? line : lineNo(line), span.to)
	      if (side == 1) { return to }
	    }
	  }
	  return from && {from: from, to: to}
	}
	
	// Signals that the marker's widget changed, and surrounding layout
	// should be recomputed.
	TextMarker.prototype.changed = function() {
	  var pos = this.find(-1, true), widget = this, cm = this.doc.cm
	  if (!pos || !cm) { return }
	  runInOp(cm, function () {
	    var line = pos.line, lineN = lineNo(pos.line)
	    var view = findViewForLine(cm, lineN)
	    if (view) {
	      clearLineMeasurementCacheFor(view)
	      cm.curOp.selectionChanged = cm.curOp.forceUpdate = true
	    }
	    cm.curOp.updateMaxLine = true
	    if (!lineIsHidden(widget.doc, line) && widget.height != null) {
	      var oldHeight = widget.height
	      widget.height = null
	      var dHeight = widgetHeight(widget) - oldHeight
	      if (dHeight)
	        { updateLineHeight(line, line.height + dHeight) }
	    }
	  })
	}
	
	TextMarker.prototype.attachLine = function(line) {
	  if (!this.lines.length && this.doc.cm) {
	    var op = this.doc.cm.curOp
	    if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)
	      { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this) }
	  }
	  this.lines.push(line)
	}
	TextMarker.prototype.detachLine = function(line) {
	  this.lines.splice(indexOf(this.lines, line), 1)
	  if (!this.lines.length && this.doc.cm) {
	    var op = this.doc.cm.curOp
	    ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this)
	  }
	}
	
	// Create a marker, wire it up to the right lines, and
	function markText(doc, from, to, options, type) {
	  // Shared markers (across linked documents) are handled separately
	  // (markTextShared will call out to this again, once per
	  // document).
	  if (options && options.shared) { return markTextShared(doc, from, to, options, type) }
	  // Ensure we are in an operation.
	  if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }
	
	  var marker = new TextMarker(doc, type), diff = cmp(from, to)
	  if (options) { copyObj(options, marker, false) }
	  // Don't connect empty markers unless clearWhenEmpty is false
	  if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)
	    { return marker }
	  if (marker.replacedWith) {
	    // Showing up as a widget implies collapsed (widget replaces text)
	    marker.collapsed = true
	    marker.widgetNode = elt("span", [marker.replacedWith], "CodeMirror-widget")
	    if (!options.handleMouseEvents) { marker.widgetNode.setAttribute("cm-ignore-events", "true") }
	    if (options.insertLeft) { marker.widgetNode.insertLeft = true }
	  }
	  if (marker.collapsed) {
	    if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||
	        from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))
	      { throw new Error("Inserting collapsed marker partially overlapping an existing one") }
	    seeCollapsedSpans()
	  }
	
	  if (marker.addToHistory)
	    { addChangeToHistory(doc, {from: from, to: to, origin: "markText"}, doc.sel, NaN) }
	
	  var curLine = from.line, cm = doc.cm, updateMaxLine
	  doc.iter(curLine, to.line + 1, function (line) {
	    if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)
	      { updateMaxLine = true }
	    if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0) }
	    addMarkedSpan(line, new MarkedSpan(marker,
	                                       curLine == from.line ? from.ch : null,
	                                       curLine == to.line ? to.ch : null))
	    ++curLine
	  })
	  // lineIsHidden depends on the presence of the spans, so needs a second pass
	  if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {
	    if (lineIsHidden(doc, line)) { updateLineHeight(line, 0) }
	  }) }
	
	  if (marker.clearOnEnter) { on(marker, "beforeCursorEnter", function () { return marker.clear(); }) }
	
	  if (marker.readOnly) {
	    seeReadOnlySpans()
	    if (doc.history.done.length || doc.history.undone.length)
	      { doc.clearHistory() }
	  }
	  if (marker.collapsed) {
	    marker.id = ++nextMarkerId
	    marker.atomic = true
	  }
	  if (cm) {
	    // Sync editor state
	    if (updateMaxLine) { cm.curOp.updateMaxLine = true }
	    if (marker.collapsed)
	      { regChange(cm, from.line, to.line + 1) }
	    else if (marker.className || marker.title || marker.startStyle || marker.endStyle || marker.css)
	      { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, "text") } }
	    if (marker.atomic) { reCheckSelection(cm.doc) }
	    signalLater(cm, "markerAdded", cm, marker)
	  }
	  return marker
	}
	
	// SHARED TEXTMARKERS
	
	// A shared marker spans multiple linked documents. It is
	// implemented as a meta-marker-object controlling multiple normal
	// markers.
	function SharedTextMarker(markers, primary) {
	  var this$1 = this;
	
	  this.markers = markers
	  this.primary = primary
	  for (var i = 0; i < markers.length; ++i)
	    { markers[i].parent = this$1 }
	}
	eventMixin(SharedTextMarker)
	
	SharedTextMarker.prototype.clear = function() {
	  var this$1 = this;
	
	  if (this.explicitlyCleared) { return }
	  this.explicitlyCleared = true
	  for (var i = 0; i < this.markers.length; ++i)
	    { this$1.markers[i].clear() }
	  signalLater(this, "clear")
	}
	SharedTextMarker.prototype.find = function(side, lineObj) {
	  return this.primary.find(side, lineObj)
	}
	
	function markTextShared(doc, from, to, options, type) {
	  options = copyObj(options)
	  options.shared = false
	  var markers = [markText(doc, from, to, options, type)], primary = markers[0]
	  var widget = options.widgetNode
	  linkedDocs(doc, function (doc) {
	    if (widget) { options.widgetNode = widget.cloneNode(true) }
	    markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type))
	    for (var i = 0; i < doc.linked.length; ++i)
	      { if (doc.linked[i].isParent) { return } }
	    primary = lst(markers)
	  })
	  return new SharedTextMarker(markers, primary)
	}
	
	function findSharedMarkers(doc) {
	  return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })
	}
	
	function copySharedMarkers(doc, markers) {
	  for (var i = 0; i < markers.length; i++) {
	    var marker = markers[i], pos = marker.find()
	    var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to)
	    if (cmp(mFrom, mTo)) {
	      var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type)
	      marker.markers.push(subMark)
	      subMark.parent = marker
	    }
	  }
	}
	
	function detachSharedMarkers(markers) {
	  var loop = function ( i ) {
	    var marker = markers[i], linked = [marker.primary.doc]
	    linkedDocs(marker.primary.doc, function (d) { return linked.push(d); })
	    for (var j = 0; j < marker.markers.length; j++) {
	      var subMarker = marker.markers[j]
	      if (indexOf(linked, subMarker.doc) == -1) {
	        subMarker.parent = null
	        marker.markers.splice(j--, 1)
	      }
	    }
	  };
	
	  for (var i = 0; i < markers.length; i++) loop( i );
	}
	
	var nextDocId = 0
	var Doc = function(text, mode, firstLine, lineSep) {
	  if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep) }
	  if (firstLine == null) { firstLine = 0 }
	
	  BranchChunk.call(this, [new LeafChunk([new Line("", null)])])
	  this.first = firstLine
	  this.scrollTop = this.scrollLeft = 0
	  this.cantEdit = false
	  this.cleanGeneration = 1
	  this.frontier = firstLine
	  var start = Pos(firstLine, 0)
	  this.sel = simpleSelection(start)
	  this.history = new History(null)
	  this.id = ++nextDocId
	  this.modeOption = mode
	  this.lineSep = lineSep
	  this.extend = false
	
	  if (typeof text == "string") { text = this.splitLines(text) }
	  updateDoc(this, {from: start, to: start, text: text})
	  setSelection(this, simpleSelection(start), sel_dontScroll)
	}
	
	Doc.prototype = createObj(BranchChunk.prototype, {
	  constructor: Doc,
	  // Iterate over the document. Supports two forms -- with only one
	  // argument, it calls that for each line in the document. With
	  // three, it iterates over the range given by the first two (with
	  // the second being non-inclusive).
	  iter: function(from, to, op) {
	    if (op) { this.iterN(from - this.first, to - from, op) }
	    else { this.iterN(this.first, this.first + this.size, from) }
	  },
	
	  // Non-public interface for adding and removing lines.
	  insert: function(at, lines) {
	    var height = 0
	    for (var i = 0; i < lines.length; ++i) { height += lines[i].height }
	    this.insertInner(at - this.first, lines, height)
	  },
	  remove: function(at, n) { this.removeInner(at - this.first, n) },
	
	  // From here, the methods are part of the public interface. Most
	  // are also available from CodeMirror (editor) instances.
	
	  getValue: function(lineSep) {
	    var lines = getLines(this, this.first, this.first + this.size)
	    if (lineSep === false) { return lines }
	    return lines.join(lineSep || this.lineSeparator())
	  },
	  setValue: docMethodOp(function(code) {
	    var top = Pos(this.first, 0), last = this.first + this.size - 1
	    makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),
	                      text: this.splitLines(code), origin: "setValue", full: true}, true)
	    setSelection(this, simpleSelection(top))
	  }),
	  replaceRange: function(code, from, to, origin) {
	    from = clipPos(this, from)
	    to = to ? clipPos(this, to) : from
	    replaceRange(this, code, from, to, origin)
	  },
	  getRange: function(from, to, lineSep) {
	    var lines = getBetween(this, clipPos(this, from), clipPos(this, to))
	    if (lineSep === false) { return lines }
	    return lines.join(lineSep || this.lineSeparator())
	  },
	
	  getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},
	
	  getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},
	  getLineNumber: function(line) {return lineNo(line)},
	
	  getLineHandleVisualStart: function(line) {
	    if (typeof line == "number") { line = getLine(this, line) }
	    return visualLine(line)
	  },
	
	  lineCount: function() {return this.size},
	  firstLine: function() {return this.first},
	  lastLine: function() {return this.first + this.size - 1},
	
	  clipPos: function(pos) {return clipPos(this, pos)},
	
	  getCursor: function(start) {
	    var range = this.sel.primary(), pos
	    if (start == null || start == "head") { pos = range.head }
	    else if (start == "anchor") { pos = range.anchor }
	    else if (start == "end" || start == "to" || start === false) { pos = range.to() }
	    else { pos = range.from() }
	    return pos
	  },
	  listSelections: function() { return this.sel.ranges },
	  somethingSelected: function() {return this.sel.somethingSelected()},
	
	  setCursor: docMethodOp(function(line, ch, options) {
	    setSimpleSelection(this, clipPos(this, typeof line == "number" ? Pos(line, ch || 0) : line), null, options)
	  }),
	  setSelection: docMethodOp(function(anchor, head, options) {
	    setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options)
	  }),
	  extendSelection: docMethodOp(function(head, other, options) {
	    extendSelection(this, clipPos(this, head), other && clipPos(this, other), options)
	  }),
	  extendSelections: docMethodOp(function(heads, options) {
	    extendSelections(this, clipPosArray(this, heads), options)
	  }),
	  extendSelectionsBy: docMethodOp(function(f, options) {
	    var heads = map(this.sel.ranges, f)
	    extendSelections(this, clipPosArray(this, heads), options)
	  }),
	  setSelections: docMethodOp(function(ranges, primary, options) {
	    var this$1 = this;
	
	    if (!ranges.length) { return }
	    var out = []
	    for (var i = 0; i < ranges.length; i++)
	      { out[i] = new Range(clipPos(this$1, ranges[i].anchor),
	                         clipPos(this$1, ranges[i].head)) }
	    if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex) }
	    setSelection(this, normalizeSelection(out, primary), options)
	  }),
	  addSelection: docMethodOp(function(anchor, head, options) {
	    var ranges = this.sel.ranges.slice(0)
	    ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)))
	    setSelection(this, normalizeSelection(ranges, ranges.length - 1), options)
	  }),
	
	  getSelection: function(lineSep) {
	    var this$1 = this;
	
	    var ranges = this.sel.ranges, lines
	    for (var i = 0; i < ranges.length; i++) {
	      var sel = getBetween(this$1, ranges[i].from(), ranges[i].to())
	      lines = lines ? lines.concat(sel) : sel
	    }
	    if (lineSep === false) { return lines }
	    else { return lines.join(lineSep || this.lineSeparator()) }
	  },
	  getSelections: function(lineSep) {
	    var this$1 = this;
	
	    var parts = [], ranges = this.sel.ranges
	    for (var i = 0; i < ranges.length; i++) {
	      var sel = getBetween(this$1, ranges[i].from(), ranges[i].to())
	      if (lineSep !== false) { sel = sel.join(lineSep || this$1.lineSeparator()) }
	      parts[i] = sel
	    }
	    return parts
	  },
	  replaceSelection: function(code, collapse, origin) {
	    var dup = []
	    for (var i = 0; i < this.sel.ranges.length; i++)
	      { dup[i] = code }
	    this.replaceSelections(dup, collapse, origin || "+input")
	  },
	  replaceSelections: docMethodOp(function(code, collapse, origin) {
	    var this$1 = this;
	
	    var changes = [], sel = this.sel
	    for (var i = 0; i < sel.ranges.length; i++) {
	      var range = sel.ranges[i]
	      changes[i] = {from: range.from(), to: range.to(), text: this$1.splitLines(code[i]), origin: origin}
	    }
	    var newSel = collapse && collapse != "end" && computeReplacedSel(this, changes, collapse)
	    for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)
	      { makeChange(this$1, changes[i$1]) }
	    if (newSel) { setSelectionReplaceHistory(this, newSel) }
	    else if (this.cm) { ensureCursorVisible(this.cm) }
	  }),
	  undo: docMethodOp(function() {makeChangeFromHistory(this, "undo")}),
	  redo: docMethodOp(function() {makeChangeFromHistory(this, "redo")}),
	  undoSelection: docMethodOp(function() {makeChangeFromHistory(this, "undo", true)}),
	  redoSelection: docMethodOp(function() {makeChangeFromHistory(this, "redo", true)}),
	
	  setExtending: function(val) {this.extend = val},
	  getExtending: function() {return this.extend},
	
	  historySize: function() {
	    var hist = this.history, done = 0, undone = 0
	    for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done } }
	    for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone } }
	    return {undo: done, redo: undone}
	  },
	  clearHistory: function() {this.history = new History(this.history.maxGeneration)},
	
	  markClean: function() {
	    this.cleanGeneration = this.changeGeneration(true)
	  },
	  changeGeneration: function(forceSplit) {
	    if (forceSplit)
	      { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null }
	    return this.history.generation
	  },
	  isClean: function (gen) {
	    return this.history.generation == (gen || this.cleanGeneration)
	  },
	
	  getHistory: function() {
	    return {done: copyHistoryArray(this.history.done),
	            undone: copyHistoryArray(this.history.undone)}
	  },
	  setHistory: function(histData) {
	    var hist = this.history = new History(this.history.maxGeneration)
	    hist.done = copyHistoryArray(histData.done.slice(0), null, true)
	    hist.undone = copyHistoryArray(histData.undone.slice(0), null, true)
	  },
	
	  setGutterMarker: docMethodOp(function(line, gutterID, value) {
	    return changeLine(this, line, "gutter", function (line) {
	      var markers = line.gutterMarkers || (line.gutterMarkers = {})
	      markers[gutterID] = value
	      if (!value && isEmpty(markers)) { line.gutterMarkers = null }
	      return true
	    })
	  }),
	
	  clearGutter: docMethodOp(function(gutterID) {
	    var this$1 = this;
	
	    var i = this.first
	    this.iter(function (line) {
	      if (line.gutterMarkers && line.gutterMarkers[gutterID]) {
	        changeLine(this$1, line, "gutter", function () {
	          line.gutterMarkers[gutterID] = null
	          if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null }
	          return true
	        })
	      }
	      ++i
	    })
	  }),
	
	  lineInfo: function(line) {
	    var n
	    if (typeof line == "number") {
	      if (!isLine(this, line)) { return null }
	      n = line
	      line = getLine(this, line)
	      if (!line) { return null }
	    } else {
	      n = lineNo(line)
	      if (n == null) { return null }
	    }
	    return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,
	            textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,
	            widgets: line.widgets}
	  },
	
	  addLineClass: docMethodOp(function(handle, where, cls) {
	    return changeLine(this, handle, where == "gutter" ? "gutter" : "class", function (line) {
	      var prop = where == "text" ? "textClass"
	               : where == "background" ? "bgClass"
	               : where == "gutter" ? "gutterClass" : "wrapClass"
	      if (!line[prop]) { line[prop] = cls }
	      else if (classTest(cls).test(line[prop])) { return false }
	      else { line[prop] += " " + cls }
	      return true
	    })
	  }),
	  removeLineClass: docMethodOp(function(handle, where, cls) {
	    return changeLine(this, handle, where == "gutter" ? "gutter" : "class", function (line) {
	      var prop = where == "text" ? "textClass"
	               : where == "background" ? "bgClass"
	               : where == "gutter" ? "gutterClass" : "wrapClass"
	      var cur = line[prop]
	      if (!cur) { return false }
	      else if (cls == null) { line[prop] = null }
	      else {
	        var found = cur.match(classTest(cls))
	        if (!found) { return false }
	        var end = found.index + found[0].length
	        line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? "" : " ") + cur.slice(end) || null
	      }
	      return true
	    })
	  }),
	
	  addLineWidget: docMethodOp(function(handle, node, options) {
	    return addLineWidget(this, handle, node, options)
	  }),
	  removeLineWidget: function(widget) { widget.clear() },
	
	  markText: function(from, to, options) {
	    return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || "range")
	  },
	  setBookmark: function(pos, options) {
	    var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),
	                    insertLeft: options && options.insertLeft,
	                    clearWhenEmpty: false, shared: options && options.shared,
	                    handleMouseEvents: options && options.handleMouseEvents}
	    pos = clipPos(this, pos)
	    return markText(this, pos, pos, realOpts, "bookmark")
	  },
	  findMarksAt: function(pos) {
	    pos = clipPos(this, pos)
	    var markers = [], spans = getLine(this, pos.line).markedSpans
	    if (spans) { for (var i = 0; i < spans.length; ++i) {
	      var span = spans[i]
	      if ((span.from == null || span.from <= pos.ch) &&
	          (span.to == null || span.to >= pos.ch))
	        { markers.push(span.marker.parent || span.marker) }
	    } }
	    return markers
	  },
	  findMarks: function(from, to, filter) {
	    from = clipPos(this, from); to = clipPos(this, to)
	    var found = [], lineNo = from.line
	    this.iter(from.line, to.line + 1, function (line) {
	      var spans = line.markedSpans
	      if (spans) { for (var i = 0; i < spans.length; i++) {
	        var span = spans[i]
	        if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||
	              span.from == null && lineNo != from.line ||
	              span.from != null && lineNo == to.line && span.from >= to.ch) &&
	            (!filter || filter(span.marker)))
	          { found.push(span.marker.parent || span.marker) }
	      } }
	      ++lineNo
	    })
	    return found
	  },
	  getAllMarks: function() {
	    var markers = []
	    this.iter(function (line) {
	      var sps = line.markedSpans
	      if (sps) { for (var i = 0; i < sps.length; ++i)
	        { if (sps[i].from != null) { markers.push(sps[i].marker) } } }
	    })
	    return markers
	  },
	
	  posFromIndex: function(off) {
	    var ch, lineNo = this.first, sepSize = this.lineSeparator().length
	    this.iter(function (line) {
	      var sz = line.text.length + sepSize
	      if (sz > off) { ch = off; return true }
	      off -= sz
	      ++lineNo
	    })
	    return clipPos(this, Pos(lineNo, ch))
	  },
	  indexFromPos: function (coords) {
	    coords = clipPos(this, coords)
	    var index = coords.ch
	    if (coords.line < this.first || coords.ch < 0) { return 0 }
	    var sepSize = this.lineSeparator().length
	    this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value
	      index += line.text.length + sepSize
	    })
	    return index
	  },
	
	  copy: function(copyHistory) {
	    var doc = new Doc(getLines(this, this.first, this.first + this.size),
	                      this.modeOption, this.first, this.lineSep)
	    doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft
	    doc.sel = this.sel
	    doc.extend = false
	    if (copyHistory) {
	      doc.history.undoDepth = this.history.undoDepth
	      doc.setHistory(this.getHistory())
	    }
	    return doc
	  },
	
	  linkedDoc: function(options) {
	    if (!options) { options = {} }
	    var from = this.first, to = this.first + this.size
	    if (options.from != null && options.from > from) { from = options.from }
	    if (options.to != null && options.to < to) { to = options.to }
	    var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep)
	    if (options.sharedHist) { copy.history = this.history
	    ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist})
	    copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}]
	    copySharedMarkers(copy, findSharedMarkers(this))
	    return copy
	  },
	  unlinkDoc: function(other) {
	    var this$1 = this;
	
	    if (other instanceof CodeMirror) { other = other.doc }
	    if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {
	      var link = this$1.linked[i]
	      if (link.doc != other) { continue }
	      this$1.linked.splice(i, 1)
	      other.unlinkDoc(this$1)
	      detachSharedMarkers(findSharedMarkers(this$1))
	      break
	    } }
	    // If the histories were shared, split them again
	    if (other.history == this.history) {
	      var splitIds = [other.id]
	      linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true)
	      other.history = new History(null)
	      other.history.done = copyHistoryArray(this.history.done, splitIds)
	      other.history.undone = copyHistoryArray(this.history.undone, splitIds)
	    }
	  },
	  iterLinkedDocs: function(f) {linkedDocs(this, f)},
	
	  getMode: function() {return this.mode},
	  getEditor: function() {return this.cm},
	
	  splitLines: function(str) {
	    if (this.lineSep) { return str.split(this.lineSep) }
	    return splitLinesAuto(str)
	  },
	  lineSeparator: function() { return this.lineSep || "\n" }
	})
	
	// Public alias.
	Doc.prototype.eachLine = Doc.prototype.iter
	
	// Kludge to work around strange IE behavior where it'll sometimes
	// re-fire a series of drag-related events right after the drop (#1551)
	var lastDrop = 0
	
	function onDrop(e) {
	  var cm = this
	  clearDragCursor(cm)
	  if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))
	    { return }
	  e_preventDefault(e)
	  if (ie) { lastDrop = +new Date }
	  var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files
	  if (!pos || cm.isReadOnly()) { return }
	  // Might be a file drop, in which case we simply extract the text
	  // and insert it.
	  if (files && files.length && window.FileReader && window.File) {
	    var n = files.length, text = Array(n), read = 0
	    var loadFile = function (file, i) {
	      if (cm.options.allowDropFileTypes &&
	          indexOf(cm.options.allowDropFileTypes, file.type) == -1)
	        { return }
	
	      var reader = new FileReader
	      reader.onload = operation(cm, function () {
	        var content = reader.result
	        if (/[\x00-\x08\x0e-\x1f]{2}/.test(content)) { content = "" }
	        text[i] = content
	        if (++read == n) {
	          pos = clipPos(cm.doc, pos)
	          var change = {from: pos, to: pos,
	                        text: cm.doc.splitLines(text.join(cm.doc.lineSeparator())),
	                        origin: "paste"}
	          makeChange(cm.doc, change)
	          setSelectionReplaceHistory(cm.doc, simpleSelection(pos, changeEnd(change)))
	        }
	      })
	      reader.readAsText(file)
	    }
	    for (var i = 0; i < n; ++i) { loadFile(files[i], i) }
	  } else { // Normal drop
	    // Don't do a replace if the drop happened inside of the selected text.
	    if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {
	      cm.state.draggingText(e)
	      // Ensure the editor is re-focused
	      setTimeout(function () { return cm.display.input.focus(); }, 20)
	      return
	    }
	    try {
	      var text$1 = e.dataTransfer.getData("Text")
	      if (text$1) {
	        var selected
	        if (cm.state.draggingText && !cm.state.draggingText.copy)
	          { selected = cm.listSelections() }
	        setSelectionNoUndo(cm.doc, simpleSelection(pos, pos))
	        if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)
	          { replaceRange(cm.doc, "", selected[i$1].anchor, selected[i$1].head, "drag") } }
	        cm.replaceSelection(text$1, "around", "paste")
	        cm.display.input.focus()
	      }
	    }
	    catch(e){}
	  }
	}
	
	function onDragStart(cm, e) {
	  if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }
	  if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }
	
	  e.dataTransfer.setData("Text", cm.getSelection())
	  e.dataTransfer.effectAllowed = "copyMove"
	
	  // Use dummy image instead of default browsers image.
	  // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.
	  if (e.dataTransfer.setDragImage && !safari) {
	    var img = elt("img", null, null, "position: fixed; left: 0; top: 0;")
	    img.src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
	    if (presto) {
	      img.width = img.height = 1
	      cm.display.wrapper.appendChild(img)
	      // Force a relayout, or Opera won't use our image for some obscure reason
	      img._top = img.offsetTop
	    }
	    e.dataTransfer.setDragImage(img, 0, 0)
	    if (presto) { img.parentNode.removeChild(img) }
	  }
	}
	
	function onDragOver(cm, e) {
	  var pos = posFromMouse(cm, e)
	  if (!pos) { return }
	  var frag = document.createDocumentFragment()
	  drawSelectionCursor(cm, pos, frag)
	  if (!cm.display.dragCursor) {
	    cm.display.dragCursor = elt("div", null, "CodeMirror-cursors CodeMirror-dragcursors")
	    cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv)
	  }
	  removeChildrenAndAdd(cm.display.dragCursor, frag)
	}
	
	function clearDragCursor(cm) {
	  if (cm.display.dragCursor) {
	    cm.display.lineSpace.removeChild(cm.display.dragCursor)
	    cm.display.dragCursor = null
	  }
	}
	
	// These must be handled carefully, because naively registering a
	// handler for each editor will cause the editors to never be
	// garbage collected.
	
	function forEachCodeMirror(f) {
	  if (!document.body.getElementsByClassName) { return }
	  var byClass = document.body.getElementsByClassName("CodeMirror")
	  for (var i = 0; i < byClass.length; i++) {
	    var cm = byClass[i].CodeMirror
	    if (cm) { f(cm) }
	  }
	}
	
	var globalsRegistered = false
	function ensureGlobalHandlers() {
	  if (globalsRegistered) { return }
	  registerGlobalHandlers()
	  globalsRegistered = true
	}
	function registerGlobalHandlers() {
	  // When the window resizes, we need to refresh active editors.
	  var resizeTimer
	  on(window, "resize", function () {
	    if (resizeTimer == null) { resizeTimer = setTimeout(function () {
	      resizeTimer = null
	      forEachCodeMirror(onResize)
	    }, 100) }
	  })
	  // When the window loses focus, we want to show the editor as blurred
	  on(window, "blur", function () { return forEachCodeMirror(onBlur); })
	}
	// Called when the window resizes
	function onResize(cm) {
	  var d = cm.display
	  if (d.lastWrapHeight == d.wrapper.clientHeight && d.lastWrapWidth == d.wrapper.clientWidth)
	    { return }
	  // Might be a text scaling operation, clear size caches.
	  d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null
	  d.scrollbarsClipped = false
	  cm.setSize()
	}
	
	var keyNames = {
	  3: "Enter", 8: "Backspace", 9: "Tab", 13: "Enter", 16: "Shift", 17: "Ctrl", 18: "Alt",
	  19: "Pause", 20: "CapsLock", 27: "Esc", 32: "Space", 33: "PageUp", 34: "PageDown", 35: "End",
	  36: "Home", 37: "Left", 38: "Up", 39: "Right", 40: "Down", 44: "PrintScrn", 45: "Insert",
	  46: "Delete", 59: ";", 61: "=", 91: "Mod", 92: "Mod", 93: "Mod",
	  106: "*", 107: "=", 109: "-", 110: ".", 111: "/", 127: "Delete",
	  173: "-", 186: ";", 187: "=", 188: ",", 189: "-", 190: ".", 191: "/", 192: "`", 219: "[", 220: "\\",
	  221: "]", 222: "'", 63232: "Up", 63233: "Down", 63234: "Left", 63235: "Right", 63272: "Delete",
	  63273: "Home", 63275: "End", 63276: "PageUp", 63277: "PageDown", 63302: "Insert"
	}
	
	// Number keys
	for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i) }
	// Alphabetic keys
	for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1) }
	// Function keys
	for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = "F" + i$2 }
	
	var keyMap = {}
	
	keyMap.basic = {
	  "Left": "goCharLeft", "Right": "goCharRight", "Up": "goLineUp", "Down": "goLineDown",
	  "End": "goLineEnd", "Home": "goLineStartSmart", "PageUp": "goPageUp", "PageDown": "goPageDown",
	  "Delete": "delCharAfter", "Backspace": "delCharBefore", "Shift-Backspace": "delCharBefore",
	  "Tab": "defaultTab", "Shift-Tab": "indentAuto",
	  "Enter": "newlineAndIndent", "Insert": "toggleOverwrite",
	  "Esc": "singleSelection"
	}
	// Note that the save and find-related commands aren't defined by
	// default. User code or addons can define them. Unknown commands
	// are simply ignored.
	keyMap.pcDefault = {
	  "Ctrl-A": "selectAll", "Ctrl-D": "deleteLine", "Ctrl-Z": "undo", "Shift-Ctrl-Z": "redo", "Ctrl-Y": "redo",
	  "Ctrl-Home": "goDocStart", "Ctrl-End": "goDocEnd", "Ctrl-Up": "goLineUp", "Ctrl-Down": "goLineDown",
	  "Ctrl-Left": "goGroupLeft", "Ctrl-Right": "goGroupRight", "Alt-Left": "goLineStart", "Alt-Right": "goLineEnd",
	  "Ctrl-Backspace": "delGroupBefore", "Ctrl-Delete": "delGroupAfter", "Ctrl-S": "save", "Ctrl-F": "find",
	  "Ctrl-G": "findNext", "Shift-Ctrl-G": "findPrev", "Shift-Ctrl-F": "replace", "Shift-Ctrl-R": "replaceAll",
	  "Ctrl-[": "indentLess", "Ctrl-]": "indentMore",
	  "Ctrl-U": "undoSelection", "Shift-Ctrl-U": "redoSelection", "Alt-U": "redoSelection",
	  fallthrough: "basic"
	}
	// Very basic readline/emacs-style bindings, which are standard on Mac.
	keyMap.emacsy = {
	  "Ctrl-F": "goCharRight", "Ctrl-B": "goCharLeft", "Ctrl-P": "goLineUp", "Ctrl-N": "goLineDown",
	  "Alt-F": "goWordRight", "Alt-B": "goWordLeft", "Ctrl-A": "goLineStart", "Ctrl-E": "goLineEnd",
	  "Ctrl-V": "goPageDown", "Shift-Ctrl-V": "goPageUp", "Ctrl-D": "delCharAfter", "Ctrl-H": "delCharBefore",
	  "Alt-D": "delWordAfter", "Alt-Backspace": "delWordBefore", "Ctrl-K": "killLine", "Ctrl-T": "transposeChars",
	  "Ctrl-O": "openLine"
	}
	keyMap.macDefault = {
	  "Cmd-A": "selectAll", "Cmd-D": "deleteLine", "Cmd-Z": "undo", "Shift-Cmd-Z": "redo", "Cmd-Y": "redo",
	  "Cmd-Home": "goDocStart", "Cmd-Up": "goDocStart", "Cmd-End": "goDocEnd", "Cmd-Down": "goDocEnd", "Alt-Left": "goGroupLeft",
	  "Alt-Right": "goGroupRight", "Cmd-Left": "goLineLeft", "Cmd-Right": "goLineRight", "Alt-Backspace": "delGroupBefore",
	  "Ctrl-Alt-Backspace": "delGroupAfter", "Alt-Delete": "delGroupAfter", "Cmd-S": "save", "Cmd-F": "find",
	  "Cmd-G": "findNext", "Shift-Cmd-G": "findPrev", "Cmd-Alt-F": "replace", "Shift-Cmd-Alt-F": "replaceAll",
	  "Cmd-[": "indentLess", "Cmd-]": "indentMore", "Cmd-Backspace": "delWrappedLineLeft", "Cmd-Delete": "delWrappedLineRight",
	  "Cmd-U": "undoSelection", "Shift-Cmd-U": "redoSelection", "Ctrl-Up": "goDocStart", "Ctrl-Down": "goDocEnd",
	  fallthrough: ["basic", "emacsy"]
	}
	keyMap["default"] = mac ? keyMap.macDefault : keyMap.pcDefault
	
	// KEYMAP DISPATCH
	
	function normalizeKeyName(name) {
	  var parts = name.split(/-(?!$)/)
	  name = parts[parts.length - 1]
	  var alt, ctrl, shift, cmd
	  for (var i = 0; i < parts.length - 1; i++) {
	    var mod = parts[i]
	    if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true }
	    else if (/^a(lt)?$/i.test(mod)) { alt = true }
	    else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true }
	    else if (/^s(hift)?$/i.test(mod)) { shift = true }
	    else { throw new Error("Unrecognized modifier name: " + mod) }
	  }
	  if (alt) { name = "Alt-" + name }
	  if (ctrl) { name = "Ctrl-" + name }
	  if (cmd) { name = "Cmd-" + name }
	  if (shift) { name = "Shift-" + name }
	  return name
	}
	
	// This is a kludge to keep keymaps mostly working as raw objects
	// (backwards compatibility) while at the same time support features
	// like normalization and multi-stroke key bindings. It compiles a
	// new normalized keymap, and then updates the old object to reflect
	// this.
	function normalizeKeyMap(keymap) {
	  var copy = {}
	  for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {
	    var value = keymap[keyname]
	    if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }
	    if (value == "...") { delete keymap[keyname]; continue }
	
	    var keys = map(keyname.split(" "), normalizeKeyName)
	    for (var i = 0; i < keys.length; i++) {
	      var val = (void 0), name = (void 0)
	      if (i == keys.length - 1) {
	        name = keys.join(" ")
	        val = value
	      } else {
	        name = keys.slice(0, i + 1).join(" ")
	        val = "..."
	      }
	      var prev = copy[name]
	      if (!prev) { copy[name] = val }
	      else if (prev != val) { throw new Error("Inconsistent bindings for " + name) }
	    }
	    delete keymap[keyname]
	  } }
	  for (var prop in copy) { keymap[prop] = copy[prop] }
	  return keymap
	}
	
	function lookupKey(key, map, handle, context) {
	  map = getKeyMap(map)
	  var found = map.call ? map.call(key, context) : map[key]
	  if (found === false) { return "nothing" }
	  if (found === "...") { return "multi" }
	  if (found != null && handle(found)) { return "handled" }
	
	  if (map.fallthrough) {
	    if (Object.prototype.toString.call(map.fallthrough) != "[object Array]")
	      { return lookupKey(key, map.fallthrough, handle, context) }
	    for (var i = 0; i < map.fallthrough.length; i++) {
	      var result = lookupKey(key, map.fallthrough[i], handle, context)
	      if (result) { return result }
	    }
	  }
	}
	
	// Modifier key presses don't count as 'real' key presses for the
	// purpose of keymap fallthrough.
	function isModifierKey(value) {
	  var name = typeof value == "string" ? value : keyNames[value.keyCode]
	  return name == "Ctrl" || name == "Alt" || name == "Shift" || name == "Mod"
	}
	
	// Look up the name of a key as indicated by an event object.
	function keyName(event, noShift) {
	  if (presto && event.keyCode == 34 && event["char"]) { return false }
	  var base = keyNames[event.keyCode], name = base
	  if (name == null || event.altGraphKey) { return false }
	  if (event.altKey && base != "Alt") { name = "Alt-" + name }
	  if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != "Ctrl") { name = "Ctrl-" + name }
	  if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != "Cmd") { name = "Cmd-" + name }
	  if (!noShift && event.shiftKey && base != "Shift") { name = "Shift-" + name }
	  return name
	}
	
	function getKeyMap(val) {
	  return typeof val == "string" ? keyMap[val] : val
	}
	
	// Helper for deleting text near the selection(s), used to implement
	// backspace, delete, and similar functionality.
	function deleteNearSelection(cm, compute) {
	  var ranges = cm.doc.sel.ranges, kill = []
	  // Build up a set of ranges to kill first, merging overlapping
	  // ranges.
	  for (var i = 0; i < ranges.length; i++) {
	    var toKill = compute(ranges[i])
	    while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {
	      var replaced = kill.pop()
	      if (cmp(replaced.from, toKill.from) < 0) {
	        toKill.from = replaced.from
	        break
	      }
	    }
	    kill.push(toKill)
	  }
	  // Next, remove those actual ranges.
	  runInOp(cm, function () {
	    for (var i = kill.length - 1; i >= 0; i--)
	      { replaceRange(cm.doc, "", kill[i].from, kill[i].to, "+delete") }
	    ensureCursorVisible(cm)
	  })
	}
	
	// Commands are parameter-less actions that can be performed on an
	// editor, mostly used for keybindings.
	var commands = {
	  selectAll: selectAll,
	  singleSelection: function (cm) { return cm.setSelection(cm.getCursor("anchor"), cm.getCursor("head"), sel_dontScroll); },
	  killLine: function (cm) { return deleteNearSelection(cm, function (range) {
	    if (range.empty()) {
	      var len = getLine(cm.doc, range.head.line).text.length
	      if (range.head.ch == len && range.head.line < cm.lastLine())
	        { return {from: range.head, to: Pos(range.head.line + 1, 0)} }
	      else
	        { return {from: range.head, to: Pos(range.head.line, len)} }
	    } else {
	      return {from: range.from(), to: range.to()}
	    }
	  }); },
	  deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({
	    from: Pos(range.from().line, 0),
	    to: clipPos(cm.doc, Pos(range.to().line + 1, 0))
	  }); }); },
	  delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({
	    from: Pos(range.from().line, 0), to: range.from()
	  }); }); },
	  delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {
	    var top = cm.charCoords(range.head, "div").top + 5
	    var leftPos = cm.coordsChar({left: 0, top: top}, "div")
	    return {from: leftPos, to: range.from()}
	  }); },
	  delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {
	    var top = cm.charCoords(range.head, "div").top + 5
	    var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, "div")
	    return {from: range.from(), to: rightPos }
	  }); },
	  undo: function (cm) { return cm.undo(); },
	  redo: function (cm) { return cm.redo(); },
	  undoSelection: function (cm) { return cm.undoSelection(); },
	  redoSelection: function (cm) { return cm.redoSelection(); },
	  goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },
	  goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },
	  goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },
	    {origin: "+move", bias: 1}
	  ); },
	  goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },
	    {origin: "+move", bias: 1}
	  ); },
	  goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },
	    {origin: "+move", bias: -1}
	  ); },
	  goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {
	    var top = cm.charCoords(range.head, "div").top + 5
	    return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, "div")
	  }, sel_move); },
	  goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {
	    var top = cm.charCoords(range.head, "div").top + 5
	    return cm.coordsChar({left: 0, top: top}, "div")
	  }, sel_move); },
	  goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {
	    var top = cm.charCoords(range.head, "div").top + 5
	    var pos = cm.coordsChar({left: 0, top: top}, "div")
	    if (pos.ch < cm.getLine(pos.line).search(/\S/)) { return lineStartSmart(cm, range.head) }
	    return pos
	  }, sel_move); },
	  goLineUp: function (cm) { return cm.moveV(-1, "line"); },
	  goLineDown: function (cm) { return cm.moveV(1, "line"); },
	  goPageUp: function (cm) { return cm.moveV(-1, "page"); },
	  goPageDown: function (cm) { return cm.moveV(1, "page"); },
	  goCharLeft: function (cm) { return cm.moveH(-1, "char"); },
	  goCharRight: function (cm) { return cm.moveH(1, "char"); },
	  goColumnLeft: function (cm) { return cm.moveH(-1, "column"); },
	  goColumnRight: function (cm) { return cm.moveH(1, "column"); },
	  goWordLeft: function (cm) { return cm.moveH(-1, "word"); },
	  goGroupRight: function (cm) { return cm.moveH(1, "group"); },
	  goGroupLeft: function (cm) { return cm.moveH(-1, "group"); },
	  goWordRight: function (cm) { return cm.moveH(1, "word"); },
	  delCharBefore: function (cm) { return cm.deleteH(-1, "char"); },
	  delCharAfter: function (cm) { return cm.deleteH(1, "char"); },
	  delWordBefore: function (cm) { return cm.deleteH(-1, "word"); },
	  delWordAfter: function (cm) { return cm.deleteH(1, "word"); },
	  delGroupBefore: function (cm) { return cm.deleteH(-1, "group"); },
	  delGroupAfter: function (cm) { return cm.deleteH(1, "group"); },
	  indentAuto: function (cm) { return cm.indentSelection("smart"); },
	  indentMore: function (cm) { return cm.indentSelection("add"); },
	  indentLess: function (cm) { return cm.indentSelection("subtract"); },
	  insertTab: function (cm) { return cm.replaceSelection("\t"); },
	  insertSoftTab: function (cm) {
	    var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize
	    for (var i = 0; i < ranges.length; i++) {
	      var pos = ranges[i].from()
	      var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize)
	      spaces.push(spaceStr(tabSize - col % tabSize))
	    }
	    cm.replaceSelections(spaces)
	  },
	  defaultTab: function (cm) {
	    if (cm.somethingSelected()) { cm.indentSelection("add") }
	    else { cm.execCommand("insertTab") }
	  },
	  // Swap the two chars left and right of each selection's head.
	  // Move cursor behind the two swapped characters afterwards.
	  //
	  // Doesn't consider line feeds a character.
	  // Doesn't scan more than one line above to find a character.
	  // Doesn't do anything on an empty line.
	  // Doesn't do anything with non-empty selections.
	  transposeChars: function (cm) { return runInOp(cm, function () {
	    var ranges = cm.listSelections(), newSel = []
	    for (var i = 0; i < ranges.length; i++) {
	      if (!ranges[i].empty()) { continue }
	      var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text
	      if (line) {
	        if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1) }
	        if (cur.ch > 0) {
	          cur = new Pos(cur.line, cur.ch + 1)
	          cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),
	                          Pos(cur.line, cur.ch - 2), cur, "+transpose")
	        } else if (cur.line > cm.doc.first) {
	          var prev = getLine(cm.doc, cur.line - 1).text
	          if (prev) {
	            cur = new Pos(cur.line, 1)
	            cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +
	                            prev.charAt(prev.length - 1),
	                            Pos(cur.line - 1, prev.length - 1), cur, "+transpose")
	          }
	        }
	      }
	      newSel.push(new Range(cur, cur))
	    }
	    cm.setSelections(newSel)
	  }); },
	  newlineAndIndent: function (cm) { return runInOp(cm, function () {
	    var sels = cm.listSelections()
	    for (var i = sels.length - 1; i >= 0; i--)
	      { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, "+input") }
	    sels = cm.listSelections()
	    for (var i$1 = 0; i$1 < sels.length; i$1++)
	      { cm.indentLine(sels[i$1].from().line, null, true) }
	    ensureCursorVisible(cm)
	  }); },
	  openLine: function (cm) { return cm.replaceSelection("\n", "start"); },
	  toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }
	}
	
	
	function lineStart(cm, lineN) {
	  var line = getLine(cm.doc, lineN)
	  var visual = visualLine(line)
	  if (visual != line) { lineN = lineNo(visual) }
	  var order = getOrder(visual)
	  var ch = !order ? 0 : order[0].level % 2 ? lineRight(visual) : lineLeft(visual)
	  return Pos(lineN, ch)
	}
	function lineEnd(cm, lineN) {
	  var merged, line = getLine(cm.doc, lineN)
	  while (merged = collapsedSpanAtEnd(line)) {
	    line = merged.find(1, true).line
	    lineN = null
	  }
	  var order = getOrder(line)
	  var ch = !order ? line.text.length : order[0].level % 2 ? lineLeft(line) : lineRight(line)
	  return Pos(lineN == null ? lineNo(line) : lineN, ch)
	}
	function lineStartSmart(cm, pos) {
	  var start = lineStart(cm, pos.line)
	  var line = getLine(cm.doc, start.line)
	  var order = getOrder(line)
	  if (!order || order[0].level == 0) {
	    var firstNonWS = Math.max(0, line.text.search(/\S/))
	    var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch
	    return Pos(start.line, inWS ? 0 : firstNonWS)
	  }
	  return start
	}
	
	// Run a handler that was bound to a key.
	function doHandleBinding(cm, bound, dropShift) {
	  if (typeof bound == "string") {
	    bound = commands[bound]
	    if (!bound) { return false }
	  }
	  // Ensure previous input has been read, so that the handler sees a
	  // consistent view of the document
	  cm.display.input.ensurePolled()
	  var prevShift = cm.display.shift, done = false
	  try {
	    if (cm.isReadOnly()) { cm.state.suppressEdits = true }
	    if (dropShift) { cm.display.shift = false }
	    done = bound(cm) != Pass
	  } finally {
	    cm.display.shift = prevShift
	    cm.state.suppressEdits = false
	  }
	  return done
	}
	
	function lookupKeyForEditor(cm, name, handle) {
	  for (var i = 0; i < cm.state.keyMaps.length; i++) {
	    var result = lookupKey(name, cm.state.keyMaps[i], handle, cm)
	    if (result) { return result }
	  }
	  return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))
	    || lookupKey(name, cm.options.keyMap, handle, cm)
	}
	
	var stopSeq = new Delayed
	function dispatchKey(cm, name, e, handle) {
	  var seq = cm.state.keySeq
	  if (seq) {
	    if (isModifierKey(name)) { return "handled" }
	    stopSeq.set(50, function () {
	      if (cm.state.keySeq == seq) {
	        cm.state.keySeq = null
	        cm.display.input.reset()
	      }
	    })
	    name = seq + " " + name
	  }
	  var result = lookupKeyForEditor(cm, name, handle)
	
	  if (result == "multi")
	    { cm.state.keySeq = name }
	  if (result == "handled")
	    { signalLater(cm, "keyHandled", cm, name, e) }
	
	  if (result == "handled" || result == "multi") {
	    e_preventDefault(e)
	    restartBlink(cm)
	  }
	
	  if (seq && !result && /\'$/.test(name)) {
	    e_preventDefault(e)
	    return true
	  }
	  return !!result
	}
	
	// Handle a key from the keydown event.
	function handleKeyBinding(cm, e) {
	  var name = keyName(e, true)
	  if (!name) { return false }
	
	  if (e.shiftKey && !cm.state.keySeq) {
	    // First try to resolve full name (including 'Shift-'). Failing
	    // that, see if there is a cursor-motion command (starting with
	    // 'go') bound to the keyname without 'Shift-'.
	    return dispatchKey(cm, "Shift-" + name, e, function (b) { return doHandleBinding(cm, b, true); })
	        || dispatchKey(cm, name, e, function (b) {
	             if (typeof b == "string" ? /^go[A-Z]/.test(b) : b.motion)
	               { return doHandleBinding(cm, b) }
	           })
	  } else {
	    return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })
	  }
	}
	
	// Handle a key from the keypress event
	function handleCharBinding(cm, e, ch) {
	  return dispatchKey(cm, "'" + ch + "'", e, function (b) { return doHandleBinding(cm, b, true); })
	}
	
	var lastStoppedKey = null
	function onKeyDown(e) {
	  var cm = this
	  cm.curOp.focus = activeElt()
	  if (signalDOMEvent(cm, e)) { return }
	  // IE does strange things with escape.
	  if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false }
	  var code = e.keyCode
	  cm.display.shift = code == 16 || e.shiftKey
	  var handled = handleKeyBinding(cm, e)
	  if (presto) {
	    lastStoppedKey = handled ? code : null
	    // Opera has no cut event... we try to at least catch the key combo
	    if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))
	      { cm.replaceSelection("", null, "cut") }
	  }
	
	  // Turn mouse into crosshair when Alt is held on Mac.
	  if (code == 18 && !/\bCodeMirror-crosshair\b/.test(cm.display.lineDiv.className))
	    { showCrossHair(cm) }
	}
	
	function showCrossHair(cm) {
	  var lineDiv = cm.display.lineDiv
	  addClass(lineDiv, "CodeMirror-crosshair")
	
	  function up(e) {
	    if (e.keyCode == 18 || !e.altKey) {
	      rmClass(lineDiv, "CodeMirror-crosshair")
	      off(document, "keyup", up)
	      off(document, "mouseover", up)
	    }
	  }
	  on(document, "keyup", up)
	  on(document, "mouseover", up)
	}
	
	function onKeyUp(e) {
	  if (e.keyCode == 16) { this.doc.sel.shift = false }
	  signalDOMEvent(this, e)
	}
	
	function onKeyPress(e) {
	  var cm = this
	  if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }
	  var keyCode = e.keyCode, charCode = e.charCode
	  if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}
	  if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }
	  var ch = String.fromCharCode(charCode == null ? keyCode : charCode)
	  // Some browsers fire keypress events for backspace
	  if (ch == "\x08") { return }
	  if (handleCharBinding(cm, e, ch)) { return }
	  cm.display.input.onKeyPress(e)
	}
	
	// A mouse down can be a single click, double click, triple click,
	// start of selection drag, start of text drag, new cursor
	// (ctrl-click), rectangle drag (alt-drag), or xwin
	// middle-click-paste. Or it might be a click on something we should
	// not interfere with, such as a scrollbar or widget.
	function onMouseDown(e) {
	  var cm = this, display = cm.display
	  if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }
	  display.input.ensurePolled()
	  display.shift = e.shiftKey
	
	  if (eventInWidget(display, e)) {
	    if (!webkit) {
	      // Briefly turn off draggability, to allow widgets to do
	      // normal dragging things.
	      display.scroller.draggable = false
	      setTimeout(function () { return display.scroller.draggable = true; }, 100)
	    }
	    return
	  }
	  if (clickInGutter(cm, e)) { return }
	  var start = posFromMouse(cm, e)
	  window.focus()
	
	  switch (e_button(e)) {
	  case 1:
	    // #3261: make sure, that we're not starting a second selection
	    if (cm.state.selectingText)
	      { cm.state.selectingText(e) }
	    else if (start)
	      { leftButtonDown(cm, e, start) }
	    else if (e_target(e) == display.scroller)
	      { e_preventDefault(e) }
	    break
	  case 2:
	    if (webkit) { cm.state.lastMiddleDown = +new Date }
	    if (start) { extendSelection(cm.doc, start) }
	    setTimeout(function () { return display.input.focus(); }, 20)
	    e_preventDefault(e)
	    break
	  case 3:
	    if (captureRightClick) { onContextMenu(cm, e) }
	    else { delayBlurEvent(cm) }
	    break
	  }
	}
	
	var lastClick;
	var lastDoubleClick;
	function leftButtonDown(cm, e, start) {
	  if (ie) { setTimeout(bind(ensureFocus, cm), 0) }
	  else { cm.curOp.focus = activeElt() }
	
	  var now = +new Date, type
	  if (lastDoubleClick && lastDoubleClick.time > now - 400 && cmp(lastDoubleClick.pos, start) == 0) {
	    type = "triple"
	  } else if (lastClick && lastClick.time > now - 400 && cmp(lastClick.pos, start) == 0) {
	    type = "double"
	    lastDoubleClick = {time: now, pos: start}
	  } else {
	    type = "single"
	    lastClick = {time: now, pos: start}
	  }
	
	  var sel = cm.doc.sel, modifier = mac ? e.metaKey : e.ctrlKey, contained
	  if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&
	      type == "single" && (contained = sel.contains(start)) > -1 &&
	      (cmp((contained = sel.ranges[contained]).from(), start) < 0 || start.xRel > 0) &&
	      (cmp(contained.to(), start) > 0 || start.xRel < 0))
	    { leftButtonStartDrag(cm, e, start, modifier) }
	  else
	    { leftButtonSelect(cm, e, start, type, modifier) }
	}
	
	// Start a text drag. When it ends, see if any dragging actually
	// happen, and treat as a click if it didn't.
	function leftButtonStartDrag(cm, e, start, modifier) {
	  var display = cm.display, startTime = +new Date
	  var dragEnd = operation(cm, function (e2) {
	    if (webkit) { display.scroller.draggable = false }
	    cm.state.draggingText = false
	    off(document, "mouseup", dragEnd)
	    off(display.scroller, "drop", dragEnd)
	    if (Math.abs(e.clientX - e2.clientX) + Math.abs(e.clientY - e2.clientY) < 10) {
	      e_preventDefault(e2)
	      if (!modifier && +new Date - 200 < startTime)
	        { extendSelection(cm.doc, start) }
	      // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)
	      if (webkit || ie && ie_version == 9)
	        { setTimeout(function () {document.body.focus(); display.input.focus()}, 20) }
	      else
	        { display.input.focus() }
	    }
	  })
	  // Let the drag handler handle this.
	  if (webkit) { display.scroller.draggable = true }
	  cm.state.draggingText = dragEnd
	  dragEnd.copy = mac ? e.altKey : e.ctrlKey
	  // IE's approach to draggable
	  if (display.scroller.dragDrop) { display.scroller.dragDrop() }
	  on(document, "mouseup", dragEnd)
	  on(display.scroller, "drop", dragEnd)
	}
	
	// Normal selection, as opposed to text dragging.
	function leftButtonSelect(cm, e, start, type, addNew) {
	  var display = cm.display, doc = cm.doc
	  e_preventDefault(e)
	
	  var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges
	  if (addNew && !e.shiftKey) {
	    ourIndex = doc.sel.contains(start)
	    if (ourIndex > -1)
	      { ourRange = ranges[ourIndex] }
	    else
	      { ourRange = new Range(start, start) }
	  } else {
	    ourRange = doc.sel.primary()
	    ourIndex = doc.sel.primIndex
	  }
	
	  if (chromeOS ? e.shiftKey && e.metaKey : e.altKey) {
	    type = "rect"
	    if (!addNew) { ourRange = new Range(start, start) }
	    start = posFromMouse(cm, e, true, true)
	    ourIndex = -1
	  } else if (type == "double") {
	    var word = cm.findWordAt(start)
	    if (cm.display.shift || doc.extend)
	      { ourRange = extendRange(doc, ourRange, word.anchor, word.head) }
	    else
	      { ourRange = word }
	  } else if (type == "triple") {
	    var line = new Range(Pos(start.line, 0), clipPos(doc, Pos(start.line + 1, 0)))
	    if (cm.display.shift || doc.extend)
	      { ourRange = extendRange(doc, ourRange, line.anchor, line.head) }
	    else
	      { ourRange = line }
	  } else {
	    ourRange = extendRange(doc, ourRange, start)
	  }
	
	  if (!addNew) {
	    ourIndex = 0
	    setSelection(doc, new Selection([ourRange], 0), sel_mouse)
	    startSel = doc.sel
	  } else if (ourIndex == -1) {
	    ourIndex = ranges.length
	    setSelection(doc, normalizeSelection(ranges.concat([ourRange]), ourIndex),
	                 {scroll: false, origin: "*mouse"})
	  } else if (ranges.length > 1 && ranges[ourIndex].empty() && type == "single" && !e.shiftKey) {
	    setSelection(doc, normalizeSelection(ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),
	                 {scroll: false, origin: "*mouse"})
	    startSel = doc.sel
	  } else {
	    replaceOneSelection(doc, ourIndex, ourRange, sel_mouse)
	  }
	
	  var lastPos = start
	  function extendTo(pos) {
	    if (cmp(lastPos, pos) == 0) { return }
	    lastPos = pos
	
	    if (type == "rect") {
	      var ranges = [], tabSize = cm.options.tabSize
	      var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize)
	      var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize)
	      var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol)
	      for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));
	           line <= end; line++) {
	        var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize)
	        if (left == right)
	          { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))) }
	        else if (text.length > leftPos)
	          { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))) }
	      }
	      if (!ranges.length) { ranges.push(new Range(start, start)) }
	      setSelection(doc, normalizeSelection(startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),
	                   {origin: "*mouse", scroll: false})
	      cm.scrollIntoView(pos)
	    } else {
	      var oldRange = ourRange
	      var anchor = oldRange.anchor, head = pos
	      if (type != "single") {
	        var range
	        if (type == "double")
	          { range = cm.findWordAt(pos) }
	        else
	          { range = new Range(Pos(pos.line, 0), clipPos(doc, Pos(pos.line + 1, 0))) }
	        if (cmp(range.anchor, anchor) > 0) {
	          head = range.head
	          anchor = minPos(oldRange.from(), range.anchor)
	        } else {
	          head = range.anchor
	          anchor = maxPos(oldRange.to(), range.head)
	        }
	      }
	      var ranges$1 = startSel.ranges.slice(0)
	      ranges$1[ourIndex] = new Range(clipPos(doc, anchor), head)
	      setSelection(doc, normalizeSelection(ranges$1, ourIndex), sel_mouse)
	    }
	  }
	
	  var editorSize = display.wrapper.getBoundingClientRect()
	  // Used to ensure timeout re-tries don't fire when another extend
	  // happened in the meantime (clearTimeout isn't reliable -- at
	  // least on Chrome, the timeouts still happen even when cleared,
	  // if the clear happens after their scheduled firing time).
	  var counter = 0
	
	  function extend(e) {
	    var curCount = ++counter
	    var cur = posFromMouse(cm, e, true, type == "rect")
	    if (!cur) { return }
	    if (cmp(cur, lastPos) != 0) {
	      cm.curOp.focus = activeElt()
	      extendTo(cur)
	      var visible = visibleLines(display, doc)
	      if (cur.line >= visible.to || cur.line < visible.from)
	        { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e) }}), 150) }
	    } else {
	      var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0
	      if (outside) { setTimeout(operation(cm, function () {
	        if (counter != curCount) { return }
	        display.scroller.scrollTop += outside
	        extend(e)
	      }), 50) }
	    }
	  }
	
	  function done(e) {
	    cm.state.selectingText = false
	    counter = Infinity
	    e_preventDefault(e)
	    display.input.focus()
	    off(document, "mousemove", move)
	    off(document, "mouseup", up)
	    doc.history.lastSelOrigin = null
	  }
	
	  var move = operation(cm, function (e) {
	    if (!e_button(e)) { done(e) }
	    else { extend(e) }
	  })
	  var up = operation(cm, done)
	  cm.state.selectingText = up
	  on(document, "mousemove", move)
	  on(document, "mouseup", up)
	}
	
	
	// Determines whether an event happened in the gutter, and fires the
	// handlers for the corresponding event.
	function gutterEvent(cm, e, type, prevent) {
	  var mX, mY
	  try { mX = e.clientX; mY = e.clientY }
	  catch(e) { return false }
	  if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }
	  if (prevent) { e_preventDefault(e) }
	
	  var display = cm.display
	  var lineBox = display.lineDiv.getBoundingClientRect()
	
	  if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }
	  mY -= lineBox.top - display.viewOffset
	
	  for (var i = 0; i < cm.options.gutters.length; ++i) {
	    var g = display.gutters.childNodes[i]
	    if (g && g.getBoundingClientRect().right >= mX) {
	      var line = lineAtHeight(cm.doc, mY)
	      var gutter = cm.options.gutters[i]
	      signal(cm, type, cm, line, gutter, e)
	      return e_defaultPrevented(e)
	    }
	  }
	}
	
	function clickInGutter(cm, e) {
	  return gutterEvent(cm, e, "gutterClick", true)
	}
	
	// CONTEXT MENU HANDLING
	
	// To make the context menu work, we need to briefly unhide the
	// textarea (making it as unobtrusive as possible) to let the
	// right-click take effect on it.
	function onContextMenu(cm, e) {
	  if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }
	  if (signalDOMEvent(cm, e, "contextmenu")) { return }
	  cm.display.input.onContextMenu(e)
	}
	
	function contextMenuInGutter(cm, e) {
	  if (!hasHandler(cm, "gutterContextMenu")) { return false }
	  return gutterEvent(cm, e, "gutterContextMenu", false)
	}
	
	function themeChanged(cm) {
	  cm.display.wrapper.className = cm.display.wrapper.className.replace(/\s*cm-s-\S+/g, "") +
	    cm.options.theme.replace(/(^|\s)\s*/g, " cm-s-")
	  clearCaches(cm)
	}
	
	var Init = {toString: function(){return "CodeMirror.Init"}}
	
	var defaults = {}
	var optionHandlers = {}
	
	function defineOptions(CodeMirror) {
	  var optionHandlers = CodeMirror.optionHandlers
	
	  function option(name, deflt, handle, notOnInit) {
	    CodeMirror.defaults[name] = deflt
	    if (handle) { optionHandlers[name] =
	      notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old) }} : handle }
	  }
	
	  CodeMirror.defineOption = option
	
	  // Passed to option handlers when there is no old value.
	  CodeMirror.Init = Init
	
	  // These two are, on init, called from the constructor because they
	  // have to be initialized before the editor can start at all.
	  option("value", "", function (cm, val) { return cm.setValue(val); }, true)
	  option("mode", null, function (cm, val) {
	    cm.doc.modeOption = val
	    loadMode(cm)
	  }, true)
	
	  option("indentUnit", 2, loadMode, true)
	  option("indentWithTabs", false)
	  option("smartIndent", true)
	  option("tabSize", 4, function (cm) {
	    resetModeState(cm)
	    clearCaches(cm)
	    regChange(cm)
	  }, true)
	  option("lineSeparator", null, function (cm, val) {
	    cm.doc.lineSep = val
	    if (!val) { return }
	    var newBreaks = [], lineNo = cm.doc.first
	    cm.doc.iter(function (line) {
	      for (var pos = 0;;) {
	        var found = line.text.indexOf(val, pos)
	        if (found == -1) { break }
	        pos = found + val.length
	        newBreaks.push(Pos(lineNo, found))
	      }
	      lineNo++
	    })
	    for (var i = newBreaks.length - 1; i >= 0; i--)
	      { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)) }
	  })
	  option("specialChars", /[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g, function (cm, val, old) {
	    cm.state.specialChars = new RegExp(val.source + (val.test("\t") ? "" : "|\t"), "g")
	    if (old != Init) { cm.refresh() }
	  })
	  option("specialCharPlaceholder", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true)
	  option("electricChars", true)
	  option("inputStyle", mobile ? "contenteditable" : "textarea", function () {
	    throw new Error("inputStyle can not (yet) be changed in a running editor") // FIXME
	  }, true)
	  option("spellcheck", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true)
	  option("rtlMoveVisually", !windows)
	  option("wholeLineUpdateBefore", true)
	
	  option("theme", "default", function (cm) {
	    themeChanged(cm)
	    guttersChanged(cm)
	  }, true)
	  option("keyMap", "default", function (cm, val, old) {
	    var next = getKeyMap(val)
	    var prev = old != Init && getKeyMap(old)
	    if (prev && prev.detach) { prev.detach(cm, next) }
	    if (next.attach) { next.attach(cm, prev || null) }
	  })
	  option("extraKeys", null)
	
	  option("lineWrapping", false, wrappingChanged, true)
	  option("gutters", [], function (cm) {
	    setGuttersForLineNumbers(cm.options)
	    guttersChanged(cm)
	  }, true)
	  option("fixedGutter", true, function (cm, val) {
	    cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + "px" : "0"
	    cm.refresh()
	  }, true)
	  option("coverGutterNextToScrollbar", false, function (cm) { return updateScrollbars(cm); }, true)
	  option("scrollbarStyle", "native", function (cm) {
	    initScrollbars(cm)
	    updateScrollbars(cm)
	    cm.display.scrollbars.setScrollTop(cm.doc.scrollTop)
	    cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft)
	  }, true)
	  option("lineNumbers", false, function (cm) {
	    setGuttersForLineNumbers(cm.options)
	    guttersChanged(cm)
	  }, true)
	  option("firstLineNumber", 1, guttersChanged, true)
	  option("lineNumberFormatter", function (integer) { return integer; }, guttersChanged, true)
	  option("showCursorWhenSelecting", false, updateSelection, true)
	
	  option("resetSelectionOnContextMenu", true)
	  option("lineWiseCopyCut", true)
	
	  option("readOnly", false, function (cm, val) {
	    if (val == "nocursor") {
	      onBlur(cm)
	      cm.display.input.blur()
	      cm.display.disabled = true
	    } else {
	      cm.display.disabled = false
	    }
	    cm.display.input.readOnlyChanged(val)
	  })
	  option("disableInput", false, function (cm, val) {if (!val) { cm.display.input.reset() }}, true)
	  option("dragDrop", true, dragDropChanged)
	  option("allowDropFileTypes", null)
	
	  option("cursorBlinkRate", 530)
	  option("cursorScrollMargin", 0)
	  option("cursorHeight", 1, updateSelection, true)
	  option("singleCursorHeightPerLine", true, updateSelection, true)
	  option("workTime", 100)
	  option("workDelay", 100)
	  option("flattenSpans", true, resetModeState, true)
	  option("addModeClass", false, resetModeState, true)
	  option("pollInterval", 100)
	  option("undoDepth", 200, function (cm, val) { return cm.doc.history.undoDepth = val; })
	  option("historyEventDelay", 1250)
	  option("viewportMargin", 10, function (cm) { return cm.refresh(); }, true)
	  option("maxHighlightLength", 10000, resetModeState, true)
	  option("moveInputWithCursor", true, function (cm, val) {
	    if (!val) { cm.display.input.resetPosition() }
	  })
	
	  option("tabindex", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || ""; })
	  option("autofocus", null)
	}
	
	function guttersChanged(cm) {
	  updateGutters(cm)
	  regChange(cm)
	  setTimeout(function () { return alignHorizontally(cm); }, 20)
	}
	
	function dragDropChanged(cm, value, old) {
	  var wasOn = old && old != Init
	  if (!value != !wasOn) {
	    var funcs = cm.display.dragFunctions
	    var toggle = value ? on : off
	    toggle(cm.display.scroller, "dragstart", funcs.start)
	    toggle(cm.display.scroller, "dragenter", funcs.enter)
	    toggle(cm.display.scroller, "dragover", funcs.over)
	    toggle(cm.display.scroller, "dragleave", funcs.leave)
	    toggle(cm.display.scroller, "drop", funcs.drop)
	  }
	}
	
	function wrappingChanged(cm) {
	  if (cm.options.lineWrapping) {
	    addClass(cm.display.wrapper, "CodeMirror-wrap")
	    cm.display.sizer.style.minWidth = ""
	    cm.display.sizerWidth = null
	  } else {
	    rmClass(cm.display.wrapper, "CodeMirror-wrap")
	    findMaxLine(cm)
	  }
	  estimateLineHeights(cm)
	  regChange(cm)
	  clearCaches(cm)
	  setTimeout(function () { return updateScrollbars(cm); }, 100)
	}
	
	// A CodeMirror instance represents an editor. This is the object
	// that user code is usually dealing with.
	
	function CodeMirror(place, options) {
	  var this$1 = this;
	
	  if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }
	
	  this.options = options = options ? copyObj(options) : {}
	  // Determine effective options based on given values and defaults.
	  copyObj(defaults, options, false)
	  setGuttersForLineNumbers(options)
	
	  var doc = options.value
	  if (typeof doc == "string") { doc = new Doc(doc, options.mode, null, options.lineSeparator) }
	  this.doc = doc
	
	  var input = new CodeMirror.inputStyles[options.inputStyle](this)
	  var display = this.display = new Display(place, doc, input)
	  display.wrapper.CodeMirror = this
	  updateGutters(this)
	  themeChanged(this)
	  if (options.lineWrapping)
	    { this.display.wrapper.className += " CodeMirror-wrap" }
	  if (options.autofocus && !mobile) { display.input.focus() }
	  initScrollbars(this)
	
	  this.state = {
	    keyMaps: [],  // stores maps added by addKeyMap
	    overlays: [], // highlighting overlays, as added by addOverlay
	    modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info
	    overwrite: false,
	    delayingBlurEvent: false,
	    focused: false,
	    suppressEdits: false, // used to disable editing during key handlers when in readOnly mode
	    pasteIncoming: false, cutIncoming: false, // help recognize paste/cut edits in input.poll
	    selectingText: false,
	    draggingText: false,
	    highlight: new Delayed(), // stores highlight worker timeout
	    keySeq: null,  // Unfinished key sequence
	    specialChars: null
	  }
	
	  // Override magic textarea content restore that IE sometimes does
	  // on our hidden textarea on reload
	  if (ie && ie_version < 11) { setTimeout(function () { return this$1.display.input.reset(true); }, 20) }
	
	  registerEventHandlers(this)
	  ensureGlobalHandlers()
	
	  startOperation(this)
	  this.curOp.forceUpdate = true
	  attachDoc(this, doc)
	
	  if ((options.autofocus && !mobile) || this.hasFocus())
	    { setTimeout(bind(onFocus, this), 20) }
	  else
	    { onBlur(this) }
	
	  for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))
	    { optionHandlers[opt](this$1, options[opt], Init) } }
	  maybeUpdateLineNumberWidth(this)
	  if (options.finishInit) { options.finishInit(this) }
	  for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this$1) }
	  endOperation(this)
	  // Suppress optimizelegibility in Webkit, since it breaks text
	  // measuring on line wrapping boundaries.
	  if (webkit && options.lineWrapping &&
	      getComputedStyle(display.lineDiv).textRendering == "optimizelegibility")
	    { display.lineDiv.style.textRendering = "auto" }
	}
	
	// The default configuration options.
	CodeMirror.defaults = defaults
	// Functions to run when options are changed.
	CodeMirror.optionHandlers = optionHandlers
	
	// Attach the necessary event handlers when initializing the editor
	function registerEventHandlers(cm) {
	  var d = cm.display
	  on(d.scroller, "mousedown", operation(cm, onMouseDown))
	  // Older IE's will not fire a second mousedown for a double click
	  if (ie && ie_version < 11)
	    { on(d.scroller, "dblclick", operation(cm, function (e) {
	      if (signalDOMEvent(cm, e)) { return }
	      var pos = posFromMouse(cm, e)
	      if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }
	      e_preventDefault(e)
	      var word = cm.findWordAt(pos)
	      extendSelection(cm.doc, word.anchor, word.head)
	    })) }
	  else
	    { on(d.scroller, "dblclick", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }) }
	  // Some browsers fire contextmenu *after* opening the menu, at
	  // which point we can't mess with it anymore. Context menu is
	  // handled in onMouseDown for these browsers.
	  if (!captureRightClick) { on(d.scroller, "contextmenu", function (e) { return onContextMenu(cm, e); }) }
	
	  // Used to suppress mouse event handling when a touch happens
	  var touchFinished, prevTouch = {end: 0}
	  function finishTouch() {
	    if (d.activeTouch) {
	      touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000)
	      prevTouch = d.activeTouch
	      prevTouch.end = +new Date
	    }
	  }
	  function isMouseLikeTouchEvent(e) {
	    if (e.touches.length != 1) { return false }
	    var touch = e.touches[0]
	    return touch.radiusX <= 1 && touch.radiusY <= 1
	  }
	  function farAway(touch, other) {
	    if (other.left == null) { return true }
	    var dx = other.left - touch.left, dy = other.top - touch.top
	    return dx * dx + dy * dy > 20 * 20
	  }
	  on(d.scroller, "touchstart", function (e) {
	    if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e)) {
	      d.input.ensurePolled()
	      clearTimeout(touchFinished)
	      var now = +new Date
	      d.activeTouch = {start: now, moved: false,
	                       prev: now - prevTouch.end <= 300 ? prevTouch : null}
	      if (e.touches.length == 1) {
	        d.activeTouch.left = e.touches[0].pageX
	        d.activeTouch.top = e.touches[0].pageY
	      }
	    }
	  })
	  on(d.scroller, "touchmove", function () {
	    if (d.activeTouch) { d.activeTouch.moved = true }
	  })
	  on(d.scroller, "touchend", function (e) {
	    var touch = d.activeTouch
	    if (touch && !eventInWidget(d, e) && touch.left != null &&
	        !touch.moved && new Date - touch.start < 300) {
	      var pos = cm.coordsChar(d.activeTouch, "page"), range
	      if (!touch.prev || farAway(touch, touch.prev)) // Single tap
	        { range = new Range(pos, pos) }
	      else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap
	        { range = cm.findWordAt(pos) }
	      else // Triple tap
	        { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }
	      cm.setSelection(range.anchor, range.head)
	      cm.focus()
	      e_preventDefault(e)
	    }
	    finishTouch()
	  })
	  on(d.scroller, "touchcancel", finishTouch)
	
	  // Sync scrolling between fake scrollbars and real scrollable
	  // area, ensure viewport is updated when scrolling.
	  on(d.scroller, "scroll", function () {
	    if (d.scroller.clientHeight) {
	      setScrollTop(cm, d.scroller.scrollTop)
	      setScrollLeft(cm, d.scroller.scrollLeft, true)
	      signal(cm, "scroll", cm)
	    }
	  })
	
	  // Listen to wheel events in order to try and update the viewport on time.
	  on(d.scroller, "mousewheel", function (e) { return onScrollWheel(cm, e); })
	  on(d.scroller, "DOMMouseScroll", function (e) { return onScrollWheel(cm, e); })
	
	  // Prevent wrapper from ever scrolling
	  on(d.wrapper, "scroll", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; })
	
	  d.dragFunctions = {
	    enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e) }},
	    over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e) }},
	    start: function (e) { return onDragStart(cm, e); },
	    drop: operation(cm, onDrop),
	    leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm) }}
	  }
	
	  var inp = d.input.getField()
	  on(inp, "keyup", function (e) { return onKeyUp.call(cm, e); })
	  on(inp, "keydown", operation(cm, onKeyDown))
	  on(inp, "keypress", operation(cm, onKeyPress))
	  on(inp, "focus", function (e) { return onFocus(cm, e); })
	  on(inp, "blur", function (e) { return onBlur(cm, e); })
	}
	
	var initHooks = []
	CodeMirror.defineInitHook = function (f) { return initHooks.push(f); }
	
	// Indent the given line. The how parameter can be "smart",
	// "add"/null, "subtract", or "prev". When aggressive is false
	// (typically set to true for forced single-line indents), empty
	// lines are not indented, and places where the mode returns Pass
	// are left alone.
	function indentLine(cm, n, how, aggressive) {
	  var doc = cm.doc, state
	  if (how == null) { how = "add" }
	  if (how == "smart") {
	    // Fall back to "prev" when the mode doesn't have an indentation
	    // method.
	    if (!doc.mode.indent) { how = "prev" }
	    else { state = getStateBefore(cm, n) }
	  }
	
	  var tabSize = cm.options.tabSize
	  var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize)
	  if (line.stateAfter) { line.stateAfter = null }
	  var curSpaceString = line.text.match(/^\s*/)[0], indentation
	  if (!aggressive && !/\S/.test(line.text)) {
	    indentation = 0
	    how = "not"
	  } else if (how == "smart") {
	    indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text)
	    if (indentation == Pass || indentation > 150) {
	      if (!aggressive) { return }
	      how = "prev"
	    }
	  }
	  if (how == "prev") {
	    if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize) }
	    else { indentation = 0 }
	  } else if (how == "add") {
	    indentation = curSpace + cm.options.indentUnit
	  } else if (how == "subtract") {
	    indentation = curSpace - cm.options.indentUnit
	  } else if (typeof how == "number") {
	    indentation = curSpace + how
	  }
	  indentation = Math.max(0, indentation)
	
	  var indentString = "", pos = 0
	  if (cm.options.indentWithTabs)
	    { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += "\t"} }
	  if (pos < indentation) { indentString += spaceStr(indentation - pos) }
	
	  if (indentString != curSpaceString) {
	    replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), "+input")
	    line.stateAfter = null
	    return true
	  } else {
	    // Ensure that, if the cursor was in the whitespace at the start
	    // of the line, it is moved to the end of that space.
	    for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {
	      var range = doc.sel.ranges[i$1]
	      if (range.head.line == n && range.head.ch < curSpaceString.length) {
	        var pos$1 = Pos(n, curSpaceString.length)
	        replaceOneSelection(doc, i$1, new Range(pos$1, pos$1))
	        break
	      }
	    }
	  }
	}
	
	// This will be set to a {lineWise: bool, text: [string]} object, so
	// that, when pasting, we know what kind of selections the copied
	// text was made out of.
	var lastCopied = null
	
	function setLastCopied(newLastCopied) {
	  lastCopied = newLastCopied
	}
	
	function applyTextInput(cm, inserted, deleted, sel, origin) {
	  var doc = cm.doc
	  cm.display.shift = false
	  if (!sel) { sel = doc.sel }
	
	  var paste = cm.state.pasteIncoming || origin == "paste"
	  var textLines = splitLinesAuto(inserted), multiPaste = null
	  // When pasing N lines into N selections, insert one line per selection
	  if (paste && sel.ranges.length > 1) {
	    if (lastCopied && lastCopied.text.join("\n") == inserted) {
	      if (sel.ranges.length % lastCopied.text.length == 0) {
	        multiPaste = []
	        for (var i = 0; i < lastCopied.text.length; i++)
	          { multiPaste.push(doc.splitLines(lastCopied.text[i])) }
	      }
	    } else if (textLines.length == sel.ranges.length) {
	      multiPaste = map(textLines, function (l) { return [l]; })
	    }
	  }
	
	  var updateInput
	  // Normal behavior is to insert the new text into every selection
	  for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {
	    var range = sel.ranges[i$1]
	    var from = range.from(), to = range.to()
	    if (range.empty()) {
	      if (deleted && deleted > 0) // Handle deletion
	        { from = Pos(from.line, from.ch - deleted) }
	      else if (cm.state.overwrite && !paste) // Handle overwrite
	        { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)) }
	      else if (lastCopied && lastCopied.lineWise && lastCopied.text.join("\n") == inserted)
	        { from = to = Pos(from.line, 0) }
	    }
	    updateInput = cm.curOp.updateInput
	    var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,
	                       origin: origin || (paste ? "paste" : cm.state.cutIncoming ? "cut" : "+input")}
	    makeChange(cm.doc, changeEvent)
	    signalLater(cm, "inputRead", cm, changeEvent)
	  }
	  if (inserted && !paste)
	    { triggerElectric(cm, inserted) }
	
	  ensureCursorVisible(cm)
	  cm.curOp.updateInput = updateInput
	  cm.curOp.typing = true
	  cm.state.pasteIncoming = cm.state.cutIncoming = false
	}
	
	function handlePaste(e, cm) {
	  var pasted = e.clipboardData && e.clipboardData.getData("Text")
	  if (pasted) {
	    e.preventDefault()
	    if (!cm.isReadOnly() && !cm.options.disableInput)
	      { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, "paste"); }) }
	    return true
	  }
	}
	
	function triggerElectric(cm, inserted) {
	  // When an 'electric' character is inserted, immediately trigger a reindent
	  if (!cm.options.electricChars || !cm.options.smartIndent) { return }
	  var sel = cm.doc.sel
	
	  for (var i = sel.ranges.length - 1; i >= 0; i--) {
	    var range = sel.ranges[i]
	    if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }
	    var mode = cm.getModeAt(range.head)
	    var indented = false
	    if (mode.electricChars) {
	      for (var j = 0; j < mode.electricChars.length; j++)
	        { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {
	          indented = indentLine(cm, range.head.line, "smart")
	          break
	        } }
	    } else if (mode.electricInput) {
	      if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))
	        { indented = indentLine(cm, range.head.line, "smart") }
	    }
	    if (indented) { signalLater(cm, "electricInput", cm, range.head.line) }
	  }
	}
	
	function copyableRanges(cm) {
	  var text = [], ranges = []
	  for (var i = 0; i < cm.doc.sel.ranges.length; i++) {
	    var line = cm.doc.sel.ranges[i].head.line
	    var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)}
	    ranges.push(lineRange)
	    text.push(cm.getRange(lineRange.anchor, lineRange.head))
	  }
	  return {text: text, ranges: ranges}
	}
	
	function disableBrowserMagic(field, spellcheck) {
	  field.setAttribute("autocorrect", "off")
	  field.setAttribute("autocapitalize", "off")
	  field.setAttribute("spellcheck", !!spellcheck)
	}
	
	function hiddenTextarea() {
	  var te = elt("textarea", null, null, "position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none")
	  var div = elt("div", [te], null, "overflow: hidden; position: relative; width: 3px; height: 0px;")
	  // The textarea is kept positioned near the cursor to prevent the
	  // fact that it'll be scrolled into view on input from scrolling
	  // our fake cursor out of view. On webkit, when wrap=off, paste is
	  // very slow. So make the area wide instead.
	  if (webkit) { te.style.width = "1000px" }
	  else { te.setAttribute("wrap", "off") }
	  // If border: 0; -- iOS fails to open keyboard (issue #1287)
	  if (ios) { te.style.border = "1px solid black" }
	  disableBrowserMagic(te)
	  return div
	}
	
	// The publicly visible API. Note that methodOp(f) means
	// 'wrap f in an operation, performed on its `this` parameter'.
	
	// This is not the complete set of editor methods. Most of the
	// methods defined on the Doc type are also injected into
	// CodeMirror.prototype, for backwards compatibility and
	// convenience.
	
	function addEditorMethods(CodeMirror) {
	  var optionHandlers = CodeMirror.optionHandlers
	
	  var helpers = CodeMirror.helpers = {}
	
	  CodeMirror.prototype = {
	    constructor: CodeMirror,
	    focus: function(){window.focus(); this.display.input.focus()},
	
	    setOption: function(option, value) {
	      var options = this.options, old = options[option]
	      if (options[option] == value && option != "mode") { return }
	      options[option] = value
	      if (optionHandlers.hasOwnProperty(option))
	        { operation(this, optionHandlers[option])(this, value, old) }
	    },
	
	    getOption: function(option) {return this.options[option]},
	    getDoc: function() {return this.doc},
	
	    addKeyMap: function(map, bottom) {
	      this.state.keyMaps[bottom ? "push" : "unshift"](getKeyMap(map))
	    },
	    removeKeyMap: function(map) {
	      var maps = this.state.keyMaps
	      for (var i = 0; i < maps.length; ++i)
	        { if (maps[i] == map || maps[i].name == map) {
	          maps.splice(i, 1)
	          return true
	        } }
	    },
	
	    addOverlay: methodOp(function(spec, options) {
	      var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec)
	      if (mode.startState) { throw new Error("Overlays may not be stateful.") }
	      insertSorted(this.state.overlays,
	                   {mode: mode, modeSpec: spec, opaque: options && options.opaque,
	                    priority: (options && options.priority) || 0},
	                   function (overlay) { return overlay.priority; })
	      this.state.modeGen++
	      regChange(this)
	    }),
	    removeOverlay: methodOp(function(spec) {
	      var this$1 = this;
	
	      var overlays = this.state.overlays
	      for (var i = 0; i < overlays.length; ++i) {
	        var cur = overlays[i].modeSpec
	        if (cur == spec || typeof spec == "string" && cur.name == spec) {
	          overlays.splice(i, 1)
	          this$1.state.modeGen++
	          regChange(this$1)
	          return
	        }
	      }
	    }),
	
	    indentLine: methodOp(function(n, dir, aggressive) {
	      if (typeof dir != "string" && typeof dir != "number") {
	        if (dir == null) { dir = this.options.smartIndent ? "smart" : "prev" }
	        else { dir = dir ? "add" : "subtract" }
	      }
	      if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive) }
	    }),
	    indentSelection: methodOp(function(how) {
	      var this$1 = this;
	
	      var ranges = this.doc.sel.ranges, end = -1
	      for (var i = 0; i < ranges.length; i++) {
	        var range = ranges[i]
	        if (!range.empty()) {
	          var from = range.from(), to = range.to()
	          var start = Math.max(end, from.line)
	          end = Math.min(this$1.lastLine(), to.line - (to.ch ? 0 : 1)) + 1
	          for (var j = start; j < end; ++j)
	            { indentLine(this$1, j, how) }
	          var newRanges = this$1.doc.sel.ranges
	          if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)
	            { replaceOneSelection(this$1.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll) }
	        } else if (range.head.line > end) {
	          indentLine(this$1, range.head.line, how, true)
	          end = range.head.line
	          if (i == this$1.doc.sel.primIndex) { ensureCursorVisible(this$1) }
	        }
	      }
	    }),
	
	    // Fetch the parser token for a given character. Useful for hacks
	    // that want to inspect the mode state (say, for completion).
	    getTokenAt: function(pos, precise) {
	      return takeToken(this, pos, precise)
	    },
	
	    getLineTokens: function(line, precise) {
	      return takeToken(this, Pos(line), precise, true)
	    },
	
	    getTokenTypeAt: function(pos) {
	      pos = clipPos(this.doc, pos)
	      var styles = getLineStyles(this, getLine(this.doc, pos.line))
	      var before = 0, after = (styles.length - 1) / 2, ch = pos.ch
	      var type
	      if (ch == 0) { type = styles[2] }
	      else { for (;;) {
	        var mid = (before + after) >> 1
	        if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid }
	        else if (styles[mid * 2 + 1] < ch) { before = mid + 1 }
	        else { type = styles[mid * 2 + 2]; break }
	      } }
	      var cut = type ? type.indexOf("overlay ") : -1
	      return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)
	    },
	
	    getModeAt: function(pos) {
	      var mode = this.doc.mode
	      if (!mode.innerMode) { return mode }
	      return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode
	    },
	
	    getHelper: function(pos, type) {
	      return this.getHelpers(pos, type)[0]
	    },
	
	    getHelpers: function(pos, type) {
	      var this$1 = this;
	
	      var found = []
	      if (!helpers.hasOwnProperty(type)) { return found }
	      var help = helpers[type], mode = this.getModeAt(pos)
	      if (typeof mode[type] == "string") {
	        if (help[mode[type]]) { found.push(help[mode[type]]) }
	      } else if (mode[type]) {
	        for (var i = 0; i < mode[type].length; i++) {
	          var val = help[mode[type][i]]
	          if (val) { found.push(val) }
	        }
	      } else if (mode.helperType && help[mode.helperType]) {
	        found.push(help[mode.helperType])
	      } else if (help[mode.name]) {
	        found.push(help[mode.name])
	      }
	      for (var i$1 = 0; i$1 < help._global.length; i$1++) {
	        var cur = help._global[i$1]
	        if (cur.pred(mode, this$1) && indexOf(found, cur.val) == -1)
	          { found.push(cur.val) }
	      }
	      return found
	    },
	
	    getStateAfter: function(line, precise) {
	      var doc = this.doc
	      line = clipLine(doc, line == null ? doc.first + doc.size - 1: line)
	      return getStateBefore(this, line + 1, precise)
	    },
	
	    cursorCoords: function(start, mode) {
	      var pos, range = this.doc.sel.primary()
	      if (start == null) { pos = range.head }
	      else if (typeof start == "object") { pos = clipPos(this.doc, start) }
	      else { pos = start ? range.from() : range.to() }
	      return cursorCoords(this, pos, mode || "page")
	    },
	
	    charCoords: function(pos, mode) {
	      return charCoords(this, clipPos(this.doc, pos), mode || "page")
	    },
	
	    coordsChar: function(coords, mode) {
	      coords = fromCoordSystem(this, coords, mode || "page")
	      return coordsChar(this, coords.left, coords.top)
	    },
	
	    lineAtHeight: function(height, mode) {
	      height = fromCoordSystem(this, {top: height, left: 0}, mode || "page").top
	      return lineAtHeight(this.doc, height + this.display.viewOffset)
	    },
	    heightAtLine: function(line, mode, includeWidgets) {
	      var end = false, lineObj
	      if (typeof line == "number") {
	        var last = this.doc.first + this.doc.size - 1
	        if (line < this.doc.first) { line = this.doc.first }
	        else if (line > last) { line = last; end = true }
	        lineObj = getLine(this.doc, line)
	      } else {
	        lineObj = line
	      }
	      return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || "page", includeWidgets).top +
	        (end ? this.doc.height - heightAtLine(lineObj) : 0)
	    },
	
	    defaultTextHeight: function() { return textHeight(this.display) },
	    defaultCharWidth: function() { return charWidth(this.display) },
	
	    getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},
	
	    addWidget: function(pos, node, scroll, vert, horiz) {
	      var display = this.display
	      pos = cursorCoords(this, clipPos(this.doc, pos))
	      var top = pos.bottom, left = pos.left
	      node.style.position = "absolute"
	      node.setAttribute("cm-ignore-events", "true")
	      this.display.input.setUneditable(node)
	      display.sizer.appendChild(node)
	      if (vert == "over") {
	        top = pos.top
	      } else if (vert == "above" || vert == "near") {
	        var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),
	        hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth)
	        // Default to positioning above (if specified and possible); otherwise default to positioning below
	        if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)
	          { top = pos.top - node.offsetHeight }
	        else if (pos.bottom + node.offsetHeight <= vspace)
	          { top = pos.bottom }
	        if (left + node.offsetWidth > hspace)
	          { left = hspace - node.offsetWidth }
	      }
	      node.style.top = top + "px"
	      node.style.left = node.style.right = ""
	      if (horiz == "right") {
	        left = display.sizer.clientWidth - node.offsetWidth
	        node.style.right = "0px"
	      } else {
	        if (horiz == "left") { left = 0 }
	        else if (horiz == "middle") { left = (display.sizer.clientWidth - node.offsetWidth) / 2 }
	        node.style.left = left + "px"
	      }
	      if (scroll)
	        { scrollIntoView(this, left, top, left + node.offsetWidth, top + node.offsetHeight) }
	    },
	
	    triggerOnKeyDown: methodOp(onKeyDown),
	    triggerOnKeyPress: methodOp(onKeyPress),
	    triggerOnKeyUp: onKeyUp,
	
	    execCommand: function(cmd) {
	      if (commands.hasOwnProperty(cmd))
	        { return commands[cmd].call(null, this) }
	    },
	
	    triggerElectric: methodOp(function(text) { triggerElectric(this, text) }),
	
	    findPosH: function(from, amount, unit, visually) {
	      var this$1 = this;
	
	      var dir = 1
	      if (amount < 0) { dir = -1; amount = -amount }
	      var cur = clipPos(this.doc, from)
	      for (var i = 0; i < amount; ++i) {
	        cur = findPosH(this$1.doc, cur, dir, unit, visually)
	        if (cur.hitSide) { break }
	      }
	      return cur
	    },
	
	    moveH: methodOp(function(dir, unit) {
	      var this$1 = this;
	
	      this.extendSelectionsBy(function (range) {
	        if (this$1.display.shift || this$1.doc.extend || range.empty())
	          { return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually) }
	        else
	          { return dir < 0 ? range.from() : range.to() }
	      }, sel_move)
	    }),
	
	    deleteH: methodOp(function(dir, unit) {
	      var sel = this.doc.sel, doc = this.doc
	      if (sel.somethingSelected())
	        { doc.replaceSelection("", null, "+delete") }
	      else
	        { deleteNearSelection(this, function (range) {
	          var other = findPosH(doc, range.head, dir, unit, false)
	          return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}
	        }) }
	    }),
	
	    findPosV: function(from, amount, unit, goalColumn) {
	      var this$1 = this;
	
	      var dir = 1, x = goalColumn
	      if (amount < 0) { dir = -1; amount = -amount }
	      var cur = clipPos(this.doc, from)
	      for (var i = 0; i < amount; ++i) {
	        var coords = cursorCoords(this$1, cur, "div")
	        if (x == null) { x = coords.left }
	        else { coords.left = x }
	        cur = findPosV(this$1, coords, dir, unit)
	        if (cur.hitSide) { break }
	      }
	      return cur
	    },
	
	    moveV: methodOp(function(dir, unit) {
	      var this$1 = this;
	
	      var doc = this.doc, goals = []
	      var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected()
	      doc.extendSelectionsBy(function (range) {
	        if (collapse)
	          { return dir < 0 ? range.from() : range.to() }
	        var headPos = cursorCoords(this$1, range.head, "div")
	        if (range.goalColumn != null) { headPos.left = range.goalColumn }
	        goals.push(headPos.left)
	        var pos = findPosV(this$1, headPos, dir, unit)
	        if (unit == "page" && range == doc.sel.primary())
	          { addToScrollPos(this$1, null, charCoords(this$1, pos, "div").top - headPos.top) }
	        return pos
	      }, sel_move)
	      if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)
	        { doc.sel.ranges[i].goalColumn = goals[i] } }
	    }),
	
	    // Find the word at the given position (as returned by coordsChar).
	    findWordAt: function(pos) {
	      var doc = this.doc, line = getLine(doc, pos.line).text
	      var start = pos.ch, end = pos.ch
	      if (line) {
	        var helper = this.getHelper(pos, "wordChars")
	        if ((pos.xRel < 0 || end == line.length) && start) { --start; } else { ++end }
	        var startChar = line.charAt(start)
	        var check = isWordChar(startChar, helper)
	          ? function (ch) { return isWordChar(ch, helper); }
	          : /\s/.test(startChar) ? function (ch) { return /\s/.test(ch); }
	          : function (ch) { return (!/\s/.test(ch) && !isWordChar(ch)); }
	        while (start > 0 && check(line.charAt(start - 1))) { --start }
	        while (end < line.length && check(line.charAt(end))) { ++end }
	      }
	      return new Range(Pos(pos.line, start), Pos(pos.line, end))
	    },
	
	    toggleOverwrite: function(value) {
	      if (value != null && value == this.state.overwrite) { return }
	      if (this.state.overwrite = !this.state.overwrite)
	        { addClass(this.display.cursorDiv, "CodeMirror-overwrite") }
	      else
	        { rmClass(this.display.cursorDiv, "CodeMirror-overwrite") }
	
	      signal(this, "overwriteToggle", this, this.state.overwrite)
	    },
	    hasFocus: function() { return this.display.input.getField() == activeElt() },
	    isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },
	
	    scrollTo: methodOp(function(x, y) {
	      if (x != null || y != null) { resolveScrollToPos(this) }
	      if (x != null) { this.curOp.scrollLeft = x }
	      if (y != null) { this.curOp.scrollTop = y }
	    }),
	    getScrollInfo: function() {
	      var scroller = this.display.scroller
	      return {left: scroller.scrollLeft, top: scroller.scrollTop,
	              height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,
	              width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,
	              clientHeight: displayHeight(this), clientWidth: displayWidth(this)}
	    },
	
	    scrollIntoView: methodOp(function(range, margin) {
	      if (range == null) {
	        range = {from: this.doc.sel.primary().head, to: null}
	        if (margin == null) { margin = this.options.cursorScrollMargin }
	      } else if (typeof range == "number") {
	        range = {from: Pos(range, 0), to: null}
	      } else if (range.from == null) {
	        range = {from: range, to: null}
	      }
	      if (!range.to) { range.to = range.from }
	      range.margin = margin || 0
	
	      if (range.from.line != null) {
	        resolveScrollToPos(this)
	        this.curOp.scrollToPos = range
	      } else {
	        var sPos = calculateScrollPos(this, Math.min(range.from.left, range.to.left),
	                                      Math.min(range.from.top, range.to.top) - range.margin,
	                                      Math.max(range.from.right, range.to.right),
	                                      Math.max(range.from.bottom, range.to.bottom) + range.margin)
	        this.scrollTo(sPos.scrollLeft, sPos.scrollTop)
	      }
	    }),
	
	    setSize: methodOp(function(width, height) {
	      var this$1 = this;
	
	      var interpret = function (val) { return typeof val == "number" || /^\d+$/.test(String(val)) ? val + "px" : val; }
	      if (width != null) { this.display.wrapper.style.width = interpret(width) }
	      if (height != null) { this.display.wrapper.style.height = interpret(height) }
	      if (this.options.lineWrapping) { clearLineMeasurementCache(this) }
	      var lineNo = this.display.viewFrom
	      this.doc.iter(lineNo, this.display.viewTo, function (line) {
	        if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)
	          { if (line.widgets[i].noHScroll) { regLineChange(this$1, lineNo, "widget"); break } } }
	        ++lineNo
	      })
	      this.curOp.forceUpdate = true
	      signal(this, "refresh", this)
	    }),
	
	    operation: function(f){return runInOp(this, f)},
	
	    refresh: methodOp(function() {
	      var oldHeight = this.display.cachedTextHeight
	      regChange(this)
	      this.curOp.forceUpdate = true
	      clearCaches(this)
	      this.scrollTo(this.doc.scrollLeft, this.doc.scrollTop)
	      updateGutterSpace(this)
	      if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5)
	        { estimateLineHeights(this) }
	      signal(this, "refresh", this)
	    }),
	
	    swapDoc: methodOp(function(doc) {
	      var old = this.doc
	      old.cm = null
	      attachDoc(this, doc)
	      clearCaches(this)
	      this.display.input.reset()
	      this.scrollTo(doc.scrollLeft, doc.scrollTop)
	      this.curOp.forceScroll = true
	      signalLater(this, "swapDoc", this, old)
	      return old
	    }),
	
	    getInputField: function(){return this.display.input.getField()},
	    getWrapperElement: function(){return this.display.wrapper},
	    getScrollerElement: function(){return this.display.scroller},
	    getGutterElement: function(){return this.display.gutters}
	  }
	  eventMixin(CodeMirror)
	
	  CodeMirror.registerHelper = function(type, name, value) {
	    if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []} }
	    helpers[type][name] = value
	  }
	  CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {
	    CodeMirror.registerHelper(type, name, value)
	    helpers[type]._global.push({pred: predicate, val: value})
	  }
	}
	
	// Used for horizontal relative motion. Dir is -1 or 1 (left or
	// right), unit can be "char", "column" (like char, but doesn't
	// cross line boundaries), "word" (across next word), or "group" (to
	// the start of next group of word or non-word-non-whitespace
	// chars). The visually param controls whether, in right-to-left
	// text, direction 1 means to move towards the next index in the
	// string, or towards the character to the right of the current
	// position. The resulting position will have a hitSide=true
	// property if it reached the end of the document.
	function findPosH(doc, pos, dir, unit, visually) {
	  var line = pos.line, ch = pos.ch, origDir = dir
	  var lineObj = getLine(doc, line)
	  function findNextLine() {
	    var l = line + dir
	    if (l < doc.first || l >= doc.first + doc.size) { return false }
	    line = l
	    return lineObj = getLine(doc, l)
	  }
	  function moveOnce(boundToLine) {
	    var next = (visually ? moveVisually : moveLogically)(lineObj, ch, dir, true)
	    if (next == null) {
	      if (!boundToLine && findNextLine()) {
	        if (visually) { ch = (dir < 0 ? lineRight : lineLeft)(lineObj) }
	        else { ch = dir < 0 ? lineObj.text.length : 0 }
	      } else { return false }
	    } else { ch = next }
	    return true
	  }
	
	  if (unit == "char") {
	    moveOnce()
	  } else if (unit == "column") {
	    moveOnce(true)
	  } else if (unit == "word" || unit == "group") {
	    var sawType = null, group = unit == "group"
	    var helper = doc.cm && doc.cm.getHelper(pos, "wordChars")
	    for (var first = true;; first = false) {
	      if (dir < 0 && !moveOnce(!first)) { break }
	      var cur = lineObj.text.charAt(ch) || "\n"
	      var type = isWordChar(cur, helper) ? "w"
	        : group && cur == "\n" ? "n"
	        : !group || /\s/.test(cur) ? null
	        : "p"
	      if (group && !first && !type) { type = "s" }
	      if (sawType && sawType != type) {
	        if (dir < 0) {dir = 1; moveOnce()}
	        break
	      }
	
	      if (type) { sawType = type }
	      if (dir > 0 && !moveOnce(!first)) { break }
	    }
	  }
	  var result = skipAtomic(doc, Pos(line, ch), pos, origDir, true)
	  if (!cmp(pos, result)) { result.hitSide = true }
	  return result
	}
	
	// For relative vertical movement. Dir may be -1 or 1. Unit can be
	// "page" or "line". The resulting position will have a hitSide=true
	// property if it reached the end of the document.
	function findPosV(cm, pos, dir, unit) {
	  var doc = cm.doc, x = pos.left, y
	  if (unit == "page") {
	    var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight)
	    var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3)
	    y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount
	
	  } else if (unit == "line") {
	    y = dir > 0 ? pos.bottom + 3 : pos.top - 3
	  }
	  var target
	  for (;;) {
	    target = coordsChar(cm, x, y)
	    if (!target.outside) { break }
	    if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }
	    y += dir * 5
	  }
	  return target
	}
	
	// CONTENTEDITABLE INPUT STYLE
	
	function ContentEditableInput(cm) {
	  this.cm = cm
	  this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null
	  this.polling = new Delayed()
	  this.composing = null
	  this.gracePeriod = false
	  this.readDOMTimeout = null
	}
	
	ContentEditableInput.prototype = copyObj({
	  init: function(display) {
	    var this$1 = this;
	
	    var input = this, cm = input.cm
	    var div = input.div = display.lineDiv
	    disableBrowserMagic(div, cm.options.spellcheck)
	
	    on(div, "paste", function (e) {
	      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }
	      // IE doesn't fire input events, so we schedule a read for the pasted content in this way
	      if (ie_version <= 11) { setTimeout(operation(cm, function () {
	        if (!input.pollContent()) { regChange(cm) }
	      }), 20) }
	    })
	
	    on(div, "compositionstart", function (e) {
	      this$1.composing = {data: e.data}
	    })
	    on(div, "compositionupdate", function (e) {
	      if (!this$1.composing) { this$1.composing = {data: e.data} }
	    })
	    on(div, "compositionend", function (e) {
	      if (this$1.composing) {
	        if (e.data != this$1.composing.data) { this$1.readFromDOMSoon() }
	        this$1.composing = null
	      }
	    })
	
	    on(div, "touchstart", function () { return input.forceCompositionEnd(); })
	
	    on(div, "input", function () {
	      if (!this$1.composing) { this$1.readFromDOMSoon() }
	    })
	
	    function onCopyCut(e) {
	      if (signalDOMEvent(cm, e)) { return }
	      if (cm.somethingSelected()) {
	        setLastCopied({lineWise: false, text: cm.getSelections()})
	        if (e.type == "cut") { cm.replaceSelection("", null, "cut") }
	      } else if (!cm.options.lineWiseCopyCut) {
	        return
	      } else {
	        var ranges = copyableRanges(cm)
	        setLastCopied({lineWise: true, text: ranges.text})
	        if (e.type == "cut") {
	          cm.operation(function () {
	            cm.setSelections(ranges.ranges, 0, sel_dontScroll)
	            cm.replaceSelection("", null, "cut")
	          })
	        }
	      }
	      if (e.clipboardData) {
	        e.clipboardData.clearData()
	        var content = lastCopied.text.join("\n")
	        // iOS exposes the clipboard API, but seems to discard content inserted into it
	        e.clipboardData.setData("Text", content)
	        if (e.clipboardData.getData("Text") == content) {
	          e.preventDefault()
	          return
	        }
	      }
	      // Old-fashioned briefly-focus-a-textarea hack
	      var kludge = hiddenTextarea(), te = kludge.firstChild
	      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild)
	      te.value = lastCopied.text.join("\n")
	      var hadFocus = document.activeElement
	      selectInput(te)
	      setTimeout(function () {
	        cm.display.lineSpace.removeChild(kludge)
	        hadFocus.focus()
	        if (hadFocus == div) { input.showPrimarySelection() }
	      }, 50)
	    }
	    on(div, "copy", onCopyCut)
	    on(div, "cut", onCopyCut)
	  },
	
	  prepareSelection: function() {
	    var result = prepareSelection(this.cm, false)
	    result.focus = this.cm.state.focused
	    return result
	  },
	
	  showSelection: function(info, takeFocus) {
	    if (!info || !this.cm.display.view.length) { return }
	    if (info.focus || takeFocus) { this.showPrimarySelection() }
	    this.showMultipleSelections(info)
	  },
	
	  showPrimarySelection: function() {
	    var sel = window.getSelection(), prim = this.cm.doc.sel.primary()
	    var curAnchor = domToPos(this.cm, sel.anchorNode, sel.anchorOffset)
	    var curFocus = domToPos(this.cm, sel.focusNode, sel.focusOffset)
	    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&
	        cmp(minPos(curAnchor, curFocus), prim.from()) == 0 &&
	        cmp(maxPos(curAnchor, curFocus), prim.to()) == 0)
	      { return }
	
	    var start = posToDOM(this.cm, prim.from())
	    var end = posToDOM(this.cm, prim.to())
	    if (!start && !end) { return }
	
	    var view = this.cm.display.view
	    var old = sel.rangeCount && sel.getRangeAt(0)
	    if (!start) {
	      start = {node: view[0].measure.map[2], offset: 0}
	    } else if (!end) { // FIXME dangerously hacky
	      var measure = view[view.length - 1].measure
	      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map
	      end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]}
	    }
	
	    var rng
	    try { rng = range(start.node, start.offset, end.offset, end.node) }
	    catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible
	    if (rng) {
	      if (!gecko && this.cm.state.focused) {
	        sel.collapse(start.node, start.offset)
	        if (!rng.collapsed) {
	          sel.removeAllRanges()
	          sel.addRange(rng)
	        }
	      } else {
	        sel.removeAllRanges()
	        sel.addRange(rng)
	      }
	      if (old && sel.anchorNode == null) { sel.addRange(old) }
	      else if (gecko) { this.startGracePeriod() }
	    }
	    this.rememberSelection()
	  },
	
	  startGracePeriod: function() {
	    var this$1 = this;
	
	    clearTimeout(this.gracePeriod)
	    this.gracePeriod = setTimeout(function () {
	      this$1.gracePeriod = false
	      if (this$1.selectionChanged())
	        { this$1.cm.operation(function () { return this$1.cm.curOp.selectionChanged = true; }) }
	    }, 20)
	  },
	
	  showMultipleSelections: function(info) {
	    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors)
	    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection)
	  },
	
	  rememberSelection: function() {
	    var sel = window.getSelection()
	    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset
	    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset
	  },
	
	  selectionInEditor: function() {
	    var sel = window.getSelection()
	    if (!sel.rangeCount) { return false }
	    var node = sel.getRangeAt(0).commonAncestorContainer
	    return contains(this.div, node)
	  },
	
	  focus: function() {
	    if (this.cm.options.readOnly != "nocursor") {
	      if (!this.selectionInEditor())
	        { this.showSelection(this.prepareSelection(), true) }
	      this.div.focus()
	    }
	  },
	  blur: function() { this.div.blur() },
	  getField: function() { return this.div },
	
	  supportsTouch: function() { return true },
	
	  receivedFocus: function() {
	    var input = this
	    if (this.selectionInEditor())
	      { this.pollSelection() }
	    else
	      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }) }
	
	    function poll() {
	      if (input.cm.state.focused) {
	        input.pollSelection()
	        input.polling.set(input.cm.options.pollInterval, poll)
	      }
	    }
	    this.polling.set(this.cm.options.pollInterval, poll)
	  },
	
	  selectionChanged: function() {
	    var sel = window.getSelection()
	    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||
	      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset
	  },
	
	  pollSelection: function() {
	    if (!this.composing && this.readDOMTimeout == null && !this.gracePeriod && this.selectionChanged()) {
	      var sel = window.getSelection(), cm = this.cm
	      this.rememberSelection()
	      var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset)
	      var head = domToPos(cm, sel.focusNode, sel.focusOffset)
	      if (anchor && head) { runInOp(cm, function () {
	        setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll)
	        if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true }
	      }) }
	    }
	  },
	
	  pollContent: function() {
	    if (this.readDOMTimeout != null) {
	      clearTimeout(this.readDOMTimeout)
	      this.readDOMTimeout = null
	    }
	
	    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary()
	    var from = sel.from(), to = sel.to()
	    if (from.ch == 0 && from.line > cm.firstLine())
	      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length) }
	    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())
	      { to = Pos(to.line + 1, 0) }
	    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }
	
	    var fromIndex, fromLine, fromNode
	    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {
	      fromLine = lineNo(display.view[0].line)
	      fromNode = display.view[0].node
	    } else {
	      fromLine = lineNo(display.view[fromIndex].line)
	      fromNode = display.view[fromIndex - 1].node.nextSibling
	    }
	    var toIndex = findViewIndex(cm, to.line)
	    var toLine, toNode
	    if (toIndex == display.view.length - 1) {
	      toLine = display.viewTo - 1
	      toNode = display.lineDiv.lastChild
	    } else {
	      toLine = lineNo(display.view[toIndex + 1].line) - 1
	      toNode = display.view[toIndex + 1].node.previousSibling
	    }
	
	    if (!fromNode) { return false }
	    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine))
	    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length))
	    while (newText.length > 1 && oldText.length > 1) {
	      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine-- }
	      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++ }
	      else { break }
	    }
	
	    var cutFront = 0, cutEnd = 0
	    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length)
	    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))
	      { ++cutFront }
	    var newBot = lst(newText), oldBot = lst(oldText)
	    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),
	                             oldBot.length - (oldText.length == 1 ? cutFront : 0))
	    while (cutEnd < maxCutEnd &&
	           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))
	      { ++cutEnd }
	
	    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\u200b+/, "")
	    newText[0] = newText[0].slice(cutFront).replace(/\u200b+$/, "")
	
	    var chFrom = Pos(fromLine, cutFront)
	    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0)
	    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {
	      replaceRange(cm.doc, newText, chFrom, chTo, "+input")
	      return true
	    }
	  },
	
	  ensurePolled: function() {
	    this.forceCompositionEnd()
	  },
	  reset: function() {
	    this.forceCompositionEnd()
	  },
	  forceCompositionEnd: function() {
	    if (!this.composing) { return }
	    this.composing = null
	    if (!this.pollContent()) { regChange(this.cm) }
	    this.div.blur()
	    this.div.focus()
	  },
	  readFromDOMSoon: function() {
	    var this$1 = this;
	
	    if (this.readDOMTimeout != null) { return }
	    this.readDOMTimeout = setTimeout(function () {
	      this$1.readDOMTimeout = null
	      if (this$1.composing) { return }
	      if (this$1.cm.isReadOnly() || !this$1.pollContent())
	        { runInOp(this$1.cm, function () { return regChange(this$1.cm); }) }
	    }, 80)
	  },
	
	  setUneditable: function(node) {
	    node.contentEditable = "false"
	  },
	
	  onKeyPress: function(e) {
	    e.preventDefault()
	    if (!this.cm.isReadOnly())
	      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0) }
	  },
	
	  readOnlyChanged: function(val) {
	    this.div.contentEditable = String(val != "nocursor")
	  },
	
	  onContextMenu: nothing,
	  resetPosition: nothing,
	
	  needsContentAttribute: true
	  }, ContentEditableInput.prototype)
	
	function posToDOM(cm, pos) {
	  var view = findViewForLine(cm, pos.line)
	  if (!view || view.hidden) { return null }
	  var line = getLine(cm.doc, pos.line)
	  var info = mapFromLineView(view, line, pos.line)
	
	  var order = getOrder(line), side = "left"
	  if (order) {
	    var partPos = getBidiPartAt(order, pos.ch)
	    side = partPos % 2 ? "right" : "left"
	  }
	  var result = nodeAndOffsetInLineMap(info.map, pos.ch, side)
	  result.offset = result.collapse == "right" ? result.end : result.start
	  return result
	}
	
	function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }
	
	function domTextBetween(cm, from, to, fromLine, toLine) {
	  var text = "", closing = false, lineSep = cm.doc.lineSeparator()
	  function recognizeMarker(id) { return function (marker) { return marker.id == id; } }
	  function walk(node) {
	    if (node.nodeType == 1) {
	      var cmText = node.getAttribute("cm-text")
	      if (cmText != null) {
	        if (cmText == "") { text += node.textContent.replace(/\u200b/g, "") }
	        else { text += cmText }
	        return
	      }
	      var markerID = node.getAttribute("cm-marker"), range
	      if (markerID) {
	        var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID))
	        if (found.length && (range = found[0].find()))
	          { text += getBetween(cm.doc, range.from, range.to).join(lineSep) }
	        return
	      }
	      if (node.getAttribute("contenteditable") == "false") { return }
	      for (var i = 0; i < node.childNodes.length; i++)
	        { walk(node.childNodes[i]) }
	      if (/^(pre|div|p)$/i.test(node.nodeName))
	        { closing = true }
	    } else if (node.nodeType == 3) {
	      var val = node.nodeValue
	      if (!val) { return }
	      if (closing) {
	        text += lineSep
	        closing = false
	      }
	      text += val
	    }
	  }
	  for (;;) {
	    walk(from)
	    if (from == to) { break }
	    from = from.nextSibling
	  }
	  return text
	}
	
	function domToPos(cm, node, offset) {
	  var lineNode
	  if (node == cm.display.lineDiv) {
	    lineNode = cm.display.lineDiv.childNodes[offset]
	    if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }
	    node = null; offset = 0
	  } else {
	    for (lineNode = node;; lineNode = lineNode.parentNode) {
	      if (!lineNode || lineNode == cm.display.lineDiv) { return null }
	      if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }
	    }
	  }
	  for (var i = 0; i < cm.display.view.length; i++) {
	    var lineView = cm.display.view[i]
	    if (lineView.node == lineNode)
	      { return locateNodeInLineView(lineView, node, offset) }
	  }
	}
	
	function locateNodeInLineView(lineView, node, offset) {
	  var wrapper = lineView.text.firstChild, bad = false
	  if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }
	  if (node == wrapper) {
	    bad = true
	    node = wrapper.childNodes[offset]
	    offset = 0
	    if (!node) {
	      var line = lineView.rest ? lst(lineView.rest) : lineView.line
	      return badPos(Pos(lineNo(line), line.text.length), bad)
	    }
	  }
	
	  var textNode = node.nodeType == 3 ? node : null, topNode = node
	  if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {
	    textNode = node.firstChild
	    if (offset) { offset = textNode.nodeValue.length }
	  }
	  while (topNode.parentNode != wrapper) { topNode = topNode.parentNode }
	  var measure = lineView.measure, maps = measure.maps
	
	  function find(textNode, topNode, offset) {
	    for (var i = -1; i < (maps ? maps.length : 0); i++) {
	      var map = i < 0 ? measure.map : maps[i]
	      for (var j = 0; j < map.length; j += 3) {
	        var curNode = map[j + 2]
	        if (curNode == textNode || curNode == topNode) {
	          var line = lineNo(i < 0 ? lineView.line : lineView.rest[i])
	          var ch = map[j] + offset
	          if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)] }
	          return Pos(line, ch)
	        }
	      }
	    }
	  }
	  var found = find(textNode, topNode, offset)
	  if (found) { return badPos(found, bad) }
	
	  // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems
	  for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {
	    found = find(after, after.firstChild, 0)
	    if (found)
	      { return badPos(Pos(found.line, found.ch - dist), bad) }
	    else
	      { dist += after.textContent.length }
	  }
	  for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {
	    found = find(before, before.firstChild, -1)
	    if (found)
	      { return badPos(Pos(found.line, found.ch + dist$1), bad) }
	    else
	      { dist$1 += before.textContent.length }
	  }
	}
	
	// TEXTAREA INPUT STYLE
	
	function TextareaInput(cm) {
	  this.cm = cm
	  // See input.poll and input.reset
	  this.prevInput = ""
	
	  // Flag that indicates whether we expect input to appear real soon
	  // now (after some event like 'keypress' or 'input') and are
	  // polling intensively.
	  this.pollingFast = false
	  // Self-resetting timeout for the poller
	  this.polling = new Delayed()
	  // Tracks when input.reset has punted to just putting a short
	  // string into the textarea instead of the full selection.
	  this.inaccurateSelection = false
	  // Used to work around IE issue with selection being forgotten when focus moves away from textarea
	  this.hasSelection = false
	  this.composing = null
	}
	
	TextareaInput.prototype = copyObj({
	  init: function(display) {
	    var this$1 = this;
	
	    var input = this, cm = this.cm
	
	    // Wraps and hides input textarea
	    var div = this.wrapper = hiddenTextarea()
	    // The semihidden textarea that is focused when the editor is
	    // focused, and receives input.
	    var te = this.textarea = div.firstChild
	    display.wrapper.insertBefore(div, display.wrapper.firstChild)
	
	    // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)
	    if (ios) { te.style.width = "0px" }
	
	    on(te, "input", function () {
	      if (ie && ie_version >= 9 && this$1.hasSelection) { this$1.hasSelection = null }
	      input.poll()
	    })
	
	    on(te, "paste", function (e) {
	      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }
	
	      cm.state.pasteIncoming = true
	      input.fastPoll()
	    })
	
	    function prepareCopyCut(e) {
	      if (signalDOMEvent(cm, e)) { return }
	      if (cm.somethingSelected()) {
	        setLastCopied({lineWise: false, text: cm.getSelections()})
	        if (input.inaccurateSelection) {
	          input.prevInput = ""
	          input.inaccurateSelection = false
	          te.value = lastCopied.text.join("\n")
	          selectInput(te)
	        }
	      } else if (!cm.options.lineWiseCopyCut) {
	        return
	      } else {
	        var ranges = copyableRanges(cm)
	        setLastCopied({lineWise: true, text: ranges.text})
	        if (e.type == "cut") {
	          cm.setSelections(ranges.ranges, null, sel_dontScroll)
	        } else {
	          input.prevInput = ""
	          te.value = ranges.text.join("\n")
	          selectInput(te)
	        }
	      }
	      if (e.type == "cut") { cm.state.cutIncoming = true }
	    }
	    on(te, "cut", prepareCopyCut)
	    on(te, "copy", prepareCopyCut)
	
	    on(display.scroller, "paste", function (e) {
	      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }
	      cm.state.pasteIncoming = true
	      input.focus()
	    })
	
	    // Prevent normal selection in the editor (we handle our own)
	    on(display.lineSpace, "selectstart", function (e) {
	      if (!eventInWidget(display, e)) { e_preventDefault(e) }
	    })
	
	    on(te, "compositionstart", function () {
	      var start = cm.getCursor("from")
	      if (input.composing) { input.composing.range.clear() }
	      input.composing = {
	        start: start,
	        range: cm.markText(start, cm.getCursor("to"), {className: "CodeMirror-composing"})
	      }
	    })
	    on(te, "compositionend", function () {
	      if (input.composing) {
	        input.poll()
	        input.composing.range.clear()
	        input.composing = null
	      }
	    })
	  },
	
	  prepareSelection: function() {
	    // Redraw the selection and/or cursor
	    var cm = this.cm, display = cm.display, doc = cm.doc
	    var result = prepareSelection(cm)
	
	    // Move the hidden textarea near the cursor to prevent scrolling artifacts
	    if (cm.options.moveInputWithCursor) {
	      var headPos = cursorCoords(cm, doc.sel.primary().head, "div")
	      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect()
	      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,
	                                          headPos.top + lineOff.top - wrapOff.top))
	      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,
	                                           headPos.left + lineOff.left - wrapOff.left))
	    }
	
	    return result
	  },
	
	  showSelection: function(drawn) {
	    var cm = this.cm, display = cm.display
	    removeChildrenAndAdd(display.cursorDiv, drawn.cursors)
	    removeChildrenAndAdd(display.selectionDiv, drawn.selection)
	    if (drawn.teTop != null) {
	      this.wrapper.style.top = drawn.teTop + "px"
	      this.wrapper.style.left = drawn.teLeft + "px"
	    }
	  },
	
	  // Reset the input to correspond to the selection (or to be empty,
	  // when not typing and nothing is selected)
	  reset: function(typing) {
	    if (this.contextMenuPending) { return }
	    var minimal, selected, cm = this.cm, doc = cm.doc
	    if (cm.somethingSelected()) {
	      this.prevInput = ""
	      var range = doc.sel.primary()
	      minimal = hasCopyEvent &&
	        (range.to().line - range.from().line > 100 || (selected = cm.getSelection()).length > 1000)
	      var content = minimal ? "-" : selected || cm.getSelection()
	      this.textarea.value = content
	      if (cm.state.focused) { selectInput(this.textarea) }
	      if (ie && ie_version >= 9) { this.hasSelection = content }
	    } else if (!typing) {
	      this.prevInput = this.textarea.value = ""
	      if (ie && ie_version >= 9) { this.hasSelection = null }
	    }
	    this.inaccurateSelection = minimal
	  },
	
	  getField: function() { return this.textarea },
	
	  supportsTouch: function() { return false },
	
	  focus: function() {
	    if (this.cm.options.readOnly != "nocursor" && (!mobile || activeElt() != this.textarea)) {
	      try { this.textarea.focus() }
	      catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM
	    }
	  },
	
	  blur: function() { this.textarea.blur() },
	
	  resetPosition: function() {
	    this.wrapper.style.top = this.wrapper.style.left = 0
	  },
	
	  receivedFocus: function() { this.slowPoll() },
	
	  // Poll for input changes, using the normal rate of polling. This
	  // runs as long as the editor is focused.
	  slowPoll: function() {
	    var this$1 = this;
	
	    if (this.pollingFast) { return }
	    this.polling.set(this.cm.options.pollInterval, function () {
	      this$1.poll()
	      if (this$1.cm.state.focused) { this$1.slowPoll() }
	    })
	  },
	
	  // When an event has just come in that is likely to add or change
	  // something in the input textarea, we poll faster, to ensure that
	  // the change appears on the screen quickly.
	  fastPoll: function() {
	    var missed = false, input = this
	    input.pollingFast = true
	    function p() {
	      var changed = input.poll()
	      if (!changed && !missed) {missed = true; input.polling.set(60, p)}
	      else {input.pollingFast = false; input.slowPoll()}
	    }
	    input.polling.set(20, p)
	  },
	
	  // Read input from the textarea, and update the document to match.
	  // When something is selected, it is present in the textarea, and
	  // selected (unless it is huge, in which case a placeholder is
	  // used). When nothing is selected, the cursor sits after previously
	  // seen text (can be empty), which is stored in prevInput (we must
	  // not reset the textarea when typing, because that breaks IME).
	  poll: function() {
	    var this$1 = this;
	
	    var cm = this.cm, input = this.textarea, prevInput = this.prevInput
	    // Since this is called a *lot*, try to bail out as cheaply as
	    // possible when it is clear that nothing happened. hasSelection
	    // will be the case when there is a lot of text in the textarea,
	    // in which case reading its value would be expensive.
	    if (this.contextMenuPending || !cm.state.focused ||
	        (hasSelection(input) && !prevInput && !this.composing) ||
	        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)
	      { return false }
	
	    var text = input.value
	    // If nothing changed, bail.
	    if (text == prevInput && !cm.somethingSelected()) { return false }
	    // Work around nonsensical selection resetting in IE9/10, and
	    // inexplicable appearance of private area unicode characters on
	    // some key combos in Mac (#2689).
	    if (ie && ie_version >= 9 && this.hasSelection === text ||
	        mac && /[\uf700-\uf7ff]/.test(text)) {
	      cm.display.input.reset()
	      return false
	    }
	
	    if (cm.doc.sel == cm.display.selForContextMenu) {
	      var first = text.charCodeAt(0)
	      if (first == 0x200b && !prevInput) { prevInput = "\u200b" }
	      if (first == 0x21da) { this.reset(); return this.cm.execCommand("undo") }
	    }
	    // Find the part of the input that is actually new
	    var same = 0, l = Math.min(prevInput.length, text.length)
	    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same }
	
	    runInOp(cm, function () {
	      applyTextInput(cm, text.slice(same), prevInput.length - same,
	                     null, this$1.composing ? "*compose" : null)
	
	      // Don't leave long text in the textarea, since it makes further polling slow
	      if (text.length > 1000 || text.indexOf("\n") > -1) { input.value = this$1.prevInput = "" }
	      else { this$1.prevInput = text }
	
	      if (this$1.composing) {
	        this$1.composing.range.clear()
	        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor("to"),
	                                           {className: "CodeMirror-composing"})
	      }
	    })
	    return true
	  },
	
	  ensurePolled: function() {
	    if (this.pollingFast && this.poll()) { this.pollingFast = false }
	  },
	
	  onKeyPress: function() {
	    if (ie && ie_version >= 9) { this.hasSelection = null }
	    this.fastPoll()
	  },
	
	  onContextMenu: function(e) {
	    var input = this, cm = input.cm, display = cm.display, te = input.textarea
	    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop
	    if (!pos || presto) { return } // Opera is difficult.
	
	    // Reset the current text selection only if the click is done outside of the selection
	    // and 'resetSelectionOnContextMenu' option is true.
	    var reset = cm.options.resetSelectionOnContextMenu
	    if (reset && cm.doc.sel.contains(pos) == -1)
	      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll) }
	
	    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText
	    input.wrapper.style.cssText = "position: absolute"
	    var wrapperBox = input.wrapper.getBoundingClientRect()
	    te.style.cssText = "position: absolute; width: 30px; height: 30px;\n      top: " + (e.clientY - wrapperBox.top - 5) + "px; left: " + (e.clientX - wrapperBox.left - 5) + "px;\n      z-index: 1000; background: " + (ie ? "rgba(255, 255, 255, .05)" : "transparent") + ";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);"
	    var oldScrollY
	    if (webkit) { oldScrollY = window.scrollY } // Work around Chrome issue (#2712)
	    display.input.focus()
	    if (webkit) { window.scrollTo(null, oldScrollY) }
	    display.input.reset()
	    // Adds "Select all" to context menu in FF
	    if (!cm.somethingSelected()) { te.value = input.prevInput = " " }
	    input.contextMenuPending = true
	    display.selForContextMenu = cm.doc.sel
	    clearTimeout(display.detectingSelectAll)
	
	    // Select-all will be greyed out if there's nothing to select, so
	    // this adds a zero-width space so that we can later check whether
	    // it got selected.
	    function prepareSelectAllHack() {
	      if (te.selectionStart != null) {
	        var selected = cm.somethingSelected()
	        var extval = "\u200b" + (selected ? te.value : "")
	        te.value = "\u21da" // Used to catch context-menu undo
	        te.value = extval
	        input.prevInput = selected ? "" : "\u200b"
	        te.selectionStart = 1; te.selectionEnd = extval.length
	        // Re-set this, in case some other handler touched the
	        // selection in the meantime.
	        display.selForContextMenu = cm.doc.sel
	      }
	    }
	    function rehide() {
	      input.contextMenuPending = false
	      input.wrapper.style.cssText = oldWrapperCSS
	      te.style.cssText = oldCSS
	      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos) }
	
	      // Try to detect the user choosing select-all
	      if (te.selectionStart != null) {
	        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack() }
	        var i = 0, poll = function () {
	          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&
	              te.selectionEnd > 0 && input.prevInput == "\u200b")
	            { operation(cm, selectAll)(cm) }
	          else if (i++ < 10) { display.detectingSelectAll = setTimeout(poll, 500) }
	          else { display.input.reset() }
	        }
	        display.detectingSelectAll = setTimeout(poll, 200)
	      }
	    }
	
	    if (ie && ie_version >= 9) { prepareSelectAllHack() }
	    if (captureRightClick) {
	      e_stop(e)
	      var mouseup = function () {
	        off(window, "mouseup", mouseup)
	        setTimeout(rehide, 20)
	      }
	      on(window, "mouseup", mouseup)
	    } else {
	      setTimeout(rehide, 50)
	    }
	  },
	
	  readOnlyChanged: function(val) {
	    if (!val) { this.reset() }
	  },
	
	  setUneditable: nothing,
	
	  needsContentAttribute: false
	}, TextareaInput.prototype)
	
	function fromTextArea(textarea, options) {
	  options = options ? copyObj(options) : {}
	  options.value = textarea.value
	  if (!options.tabindex && textarea.tabIndex)
	    { options.tabindex = textarea.tabIndex }
	  if (!options.placeholder && textarea.placeholder)
	    { options.placeholder = textarea.placeholder }
	  // Set autofocus to true if this textarea is focused, or if it has
	  // autofocus and no other element is focused.
	  if (options.autofocus == null) {
	    var hasFocus = activeElt()
	    options.autofocus = hasFocus == textarea ||
	      textarea.getAttribute("autofocus") != null && hasFocus == document.body
	  }
	
	  function save() {textarea.value = cm.getValue()}
	
	  var realSubmit
	  if (textarea.form) {
	    on(textarea.form, "submit", save)
	    // Deplorable hack to make the submit method do the right thing.
	    if (!options.leaveSubmitMethodAlone) {
	      var form = textarea.form
	      realSubmit = form.submit
	      try {
	        var wrappedSubmit = form.submit = function () {
	          save()
	          form.submit = realSubmit
	          form.submit()
	          form.submit = wrappedSubmit
	        }
	      } catch(e) {}
	    }
	  }
	
	  options.finishInit = function (cm) {
	    cm.save = save
	    cm.getTextArea = function () { return textarea; }
	    cm.toTextArea = function () {
	      cm.toTextArea = isNaN // Prevent this from being ran twice
	      save()
	      textarea.parentNode.removeChild(cm.getWrapperElement())
	      textarea.style.display = ""
	      if (textarea.form) {
	        off(textarea.form, "submit", save)
	        if (typeof textarea.form.submit == "function")
	          { textarea.form.submit = realSubmit }
	      }
	    }
	  }
	
	  textarea.style.display = "none"
	  var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },
	    options)
	  return cm
	}
	
	function addLegacyProps(CodeMirror) {
	  CodeMirror.off = off
	  CodeMirror.on = on
	  CodeMirror.wheelEventPixels = wheelEventPixels
	  CodeMirror.Doc = Doc
	  CodeMirror.splitLines = splitLinesAuto
	  CodeMirror.countColumn = countColumn
	  CodeMirror.findColumn = findColumn
	  CodeMirror.isWordChar = isWordCharBasic
	  CodeMirror.Pass = Pass
	  CodeMirror.signal = signal
	  CodeMirror.Line = Line
	  CodeMirror.changeEnd = changeEnd
	  CodeMirror.scrollbarModel = scrollbarModel
	  CodeMirror.Pos = Pos
	  CodeMirror.cmpPos = cmp
	  CodeMirror.modes = modes
	  CodeMirror.mimeModes = mimeModes
	  CodeMirror.resolveMode = resolveMode
	  CodeMirror.getMode = getMode
	  CodeMirror.modeExtensions = modeExtensions
	  CodeMirror.extendMode = extendMode
	  CodeMirror.copyState = copyState
	  CodeMirror.startState = startState
	  CodeMirror.innerMode = innerMode
	  CodeMirror.commands = commands
	  CodeMirror.keyMap = keyMap
	  CodeMirror.keyName = keyName
	  CodeMirror.isModifierKey = isModifierKey
	  CodeMirror.lookupKey = lookupKey
	  CodeMirror.normalizeKeyMap = normalizeKeyMap
	  CodeMirror.StringStream = StringStream
	  CodeMirror.SharedTextMarker = SharedTextMarker
	  CodeMirror.TextMarker = TextMarker
	  CodeMirror.LineWidget = LineWidget
	  CodeMirror.e_preventDefault = e_preventDefault
	  CodeMirror.e_stopPropagation = e_stopPropagation
	  CodeMirror.e_stop = e_stop
	  CodeMirror.addClass = addClass
	  CodeMirror.contains = contains
	  CodeMirror.rmClass = rmClass
	  CodeMirror.keyNames = keyNames
	}
	
	// EDITOR CONSTRUCTOR
	
	defineOptions(CodeMirror)
	
	addEditorMethods(CodeMirror)
	
	// Set up methods on CodeMirror's prototype to redirect to the editor's document.
	var dontDelegate = "iter insert remove copy getEditor constructor".split(" ")
	for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)
	  { CodeMirror.prototype[prop] = (function(method) {
	    return function() {return method.apply(this.doc, arguments)}
	  })(Doc.prototype[prop]) } }
	
	eventMixin(Doc)
	
	// INPUT HANDLING
	
	CodeMirror.inputStyles = {"textarea": TextareaInput, "contenteditable": ContentEditableInput}
	
	// MODE DEFINITION AND QUERYING
	
	// Extra arguments are stored as the mode's dependencies, which is
	// used by (legacy) mechanisms like loadmode.js to automatically
	// load a mode. (Preferred mechanism is the require/define calls.)
	CodeMirror.defineMode = function(name/*, mode, …*/) {
	  if (!CodeMirror.defaults.mode && name != "null") { CodeMirror.defaults.mode = name }
	  defineMode.apply(this, arguments)
	}
	
	CodeMirror.defineMIME = defineMIME
	
	// Minimal default mode.
	CodeMirror.defineMode("null", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); })
	CodeMirror.defineMIME("text/plain", "null")
	
	// EXTENSIONS
	
	CodeMirror.defineExtension = function (name, func) {
	  CodeMirror.prototype[name] = func
	}
	CodeMirror.defineDocExtension = function (name, func) {
	  Doc.prototype[name] = func
	}
	
	CodeMirror.fromTextArea = fromTextArea
	
	addLegacyProps(CodeMirror)
	
	CodeMirror.version = "5.21.0"
	
	return CodeMirror;
	
	})));

/***/ }
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgMTgwNDg2ZmU1ZGZhMWFkYTQ0OTUiLCJ3ZWJwYWNrOi8vLy4vY2xpZW50X3NyYy9qcy9iZWZvcmVBbmd1bGFyLmpzIiwid2VicGFjazovLy8uL34vZm9udC1hd2Vzb21lLXdlYnBhY2svaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9mb250LWF3ZXNvbWUtd2VicGFjay9mb250LWF3ZXNvbWUuY29uZmlnLmpzPzMxMWIiLCJ3ZWJwYWNrOi8vLy4vfi9mb250LWF3ZXNvbWUtd2VicGFjay9mb250LWF3ZXNvbWUuY29uZmlnLmpzIiwid2VicGFjazovLy8uL34vZm9udC1hd2Vzb21lLXdlYnBhY2svfi9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2ZvbnQtYXdlc29tZS9mb250cy9mb250YXdlc29tZS13ZWJmb250LmVvdD85YjI2Iiwid2VicGFjazovLy8uL34vZm9udC1hd2Vzb21lL2ZvbnRzL2ZvbnRhd2Vzb21lLXdlYmZvbnQuZW90Iiwid2VicGFjazovLy8uL34vZm9udC1hd2Vzb21lL2ZvbnRzL2ZvbnRhd2Vzb21lLXdlYmZvbnQud29mZjIiLCJ3ZWJwYWNrOi8vLy4vfi9mb250LWF3ZXNvbWUvZm9udHMvZm9udGF3ZXNvbWUtd2ViZm9udC53b2ZmIiwid2VicGFjazovLy8uL34vZm9udC1hd2Vzb21lL2ZvbnRzL2ZvbnRhd2Vzb21lLXdlYmZvbnQudHRmIiwid2VicGFjazovLy8uL34vZm9udC1hd2Vzb21lL2ZvbnRzL2ZvbnRhd2Vzb21lLXdlYmZvbnQuc3ZnIiwid2VicGFjazovLy8uL34vZm9udC1hd2Vzb21lLXdlYnBhY2svfi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL34vdzJ1aS93MnVpLmNzcz8wZGQ3Iiwid2VicGFjazovLy8uL34vdzJ1aS93MnVpLmNzcyIsIndlYnBhY2s6Ly8vLi9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwid2VicGFjazovLy8uL34vc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2pxdWVyeS9kaXN0L2pxdWVyeS5qcyIsIndlYnBhY2s6Ly8vLi9+L3NjcmlwdC1sb2FkZXIvYWRkU2NyaXB0LmpzIiwid2VicGFjazovLy8uL34vanF1ZXJ5L2Rpc3QvanF1ZXJ5LmpzP2VjYWYiLCJ3ZWJwYWNrOi8vLy4vfi93MnVpL3cydWkubWluLmpzIiwid2VicGFjazovLy8uL34vdzJ1aS93MnVpLm1pbi5qcz81YTRmIiwid2VicGFjazovLy8uL2NsaWVudF9zcmMvanMvZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL2NsaWVudF9zcmMvanMvbGliLWVkaXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2NvZGVtaXJyb3IvbGliL2NvZGVtaXJyb3IuanMiXSwibmFtZXMiOlsidG9wU3R5bGUiLCJwc3R5bGUiLCJ0b3BDb250ZW50IiwibGVmdENvbnRlbnQiLCJtYWluQ29udGVudCIsInByZXZpZXdDb250ZW50IiwicmlnaHRDb250ZW50IiwiYm90dG9tQ29udGVudCIsImNvbnNvbGUiLCJsb2ciLCIkIiwidzJsYXlvdXQiLCJuYW1lIiwicGFuZWxzIiwidHlwZSIsInNpemUiLCJyZXNpemFibGUiLCJzdHlsZSIsImNvbnRlbnQiLCJ0YWJzIiwib25DbGljayIsImV2ZW50IiwiaWRTdHJpbmciLCJnZXRJZEZyb21FdmVudFRhcmdldCIsInRhcmdldCIsInNlbGVjdENvZGVNaXJyb3IiLCJjb2RlVmlld0lkIiwib25DbG9zZSIsInJlbW92ZUNvZGVNaXJyb3IiLCJfZ2xvYmFsIiwibGliRWRpdG9yIiwicGFyZW50SWQiLCJuZXdJZCIsInBhcmVudFZpZXciLCJhcHBlbmQiLCJjb2RlTWlycm9yUGFyZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImVkaXRvciIsIm1vZGUiLCJsaW5lTnVtYmVycyIsImxpbmVXcmFwcGluZyIsImV4dHJhS2V5cyIsImNtIiwiZm9sZENvZGUiLCJnZXRDdXJzb3IiLCJmb2xkR3V0dGVyIiwiZ3V0dGVycyIsIncydWkiLCJyZXNpemUiLCJyZW1vdmVJRCIsImNvZGVNaXJyb3IiLCJyZW1vdmUiLCJzZWxlY3RJRCIsImhpZGUiLCJzaG93IiwiZXZlbnRUYXJnZXQiXSwibWFwcGluZ3MiOiI7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1QkFBZTtBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7O0FDdENBOztBQUVBOztBQUNBOztBQUVBOztBQUNBOztBQUVBOzs7O0FBQ0E7Ozs7OztBQUVBLEtBQUlBLFdBQWEsaUZBQWpCO0FBQ0EsS0FBSUMsU0FBWSxxRUFBaEI7QUFDQSxLQUFJQyxhQUFlLGtEQUNYLDZDQURSO0FBRUEsS0FBSUMsY0FBZ0IsNkNBQXBCO0FBQ0EsS0FBSUMsY0FBZ0IsNkNBQXBCO0FBQ0EsS0FBSUMsaUJBQWtCLG1EQUF0QjtBQUNBLEtBQUlDLGVBQWdCLCtDQUFwQjtBQUNBLEtBQUlDLGdCQUFpQixpREFBckI7O0FBRUFDLFNBQVFDLEdBQVIsQ0FBWSx1QkFBWjs7QUFFQUMsR0FBRSxTQUFGLEVBQWFDLFFBQWIsQ0FBc0I7QUFDckJDLFFBQU0sUUFEZTtBQUVyQkMsVUFBUSxDQUNQLEVBQUVDLE1BQU0sS0FBUixFQUFxQkMsTUFBTSxFQUEzQixFQUFnQ0MsV0FBVyxLQUEzQyxFQUFvREMsT0FBT2pCLFFBQTNELEVBQXdFa0IsU0FBU2hCLFVBQWpGLEVBRE8sRUFFUCxFQUFFWSxNQUFNLE1BQVIsRUFBcUJDLE1BQU0sR0FBM0IsRUFBaUNDLFdBQVcsSUFBNUMsRUFBa0RDLE9BQU9oQixNQUF6RCxFQUFzRWlCLFNBQVNmLFdBQS9FLEVBRk8sRUFHUCxFQUFFVyxNQUFNLE1BQVIsRUFBMEJHLE9BQU9oQixNQUFqQyxFQUE4Q2lCLFNBQVNkLFdB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdDQUF1QyxxRUFBcUUsRUFBRTtBQUM5RztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLGtDQUFpQztBQUNqQyxJQUFHO0FBQ0gsd0JBQXVCO0FBQ3ZCLElBQUcsd0JBQXdCOztBQUUzQjs7QUFFQTs7QUFFQSwyQkFBMEI7O0FBRTFCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQW9EO0FBQ3BEO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSw0Q0FBMkMsVUFBVSwwQkFBMEIsMkJBQTJCLEdBQUcsRUFBRSxFQUFFO0FBQ2pIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQSxFQUFDLEkiLCJmaWxlIjoiYmVmb3JlQW5ndWxhci5lbnRyeS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDE4MDQ4NmZlNWRmYTFhZGE0NDk1IiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgJ2ZvbnQtYXdlc29tZS13ZWJwYWNrJztcbmltcG9ydCAndzJ1aS93MnVpLmNzcyc7XG5cbmltcG9ydCAnanF1ZXJ5JztcbmltcG9ydCAndzJ1aSc7XG5cbmltcG9ydCBfZ2xvYmFsXHRcdGZyb20gJy4vZ2xvYmFsLmpzJztcbmltcG9ydCBsaWJFZGl0b3JcdGZyb20gJy4vbGliLWVkaXRvci5qcyc7XG5cbnZhciB0b3BTdHlsZVx0XHRcdD0gJ2JhY2tncm91bmQtY29sb3I6ICNGNUY2Rjc7IGJvcmRlcjogMXB4IHNvbGlkICNkZmRmZGY7IHBhZGRpbmc6IDBweCAwcHggMXB4IDBweDsnO1xudmFyIHBzdHlsZVx0XHRcdFx0PSAnYmFja2dyb3VuZC1jb2xvcjogI0Y1RjZGNzsgYm9yZGVyOiAxcHggc29saWQgI2RmZGZkZjsgcGFkZGluZzogNXB4Oyc7XG52YXIgdG9wQ29udGVudFx0XHRcdD0gJzxkaXYgY2xhc3M9XCJtYWluVGl0bGVcIiB1aS12aWV3PVwidGl0bGVcIj48L2Rpdj4nXG5cdFx0XHRcdFx0XHQrICc8ZGl2IGNsYXNzPVwibWFpbk1lbnVcIiB1aS12aWV3PVwibWVudVwiPjwvZGl2Pic7XG52YXIgbGVmdENvbnRlbnRcdFx0XHQ9ICc8ZGl2IGNsYXNzPVwibWFpbkxlZnRcIiB1aS12aWV3PVwibGVmdFwiPjwvZGl2Pic7XG52YXIgbWFpbkNvbnRlbnRcdFx0XHQ9ICc8ZGl2IGNsYXNzPVwibWFpbk1haW5cIiB1aS12aWV3PVwibWFpblwiPjwvZGl2Pic7XG52YXIgcHJldmlld0NvbnRlbnRcdFx0PSAnPGRpdiBjbGFzcz1cIm1haW5QcmV2aWV3XCIgdWktdmlldz1cInByZXZpZXdcIj48L2Rpdj4nO1xudmFyIHJpZ2h0Q29udGVudFx0XHQ9ICc8ZGl2IGNsYXNzPVwibWFpblJpZ2h0XCIgdWktdmlldz1cInJpZ2h0XCI+PC9kaXY+JztcbnZhciBib3R0b21Db250ZW50XHRcdD0gJzxkaXYgY2xhc3M9XCJtYWluQm90dG9tXCIgdWktdmlldz1cImJvdHRvbVwiPjwvZGl2Pic7XG5cbmNvbnNvbGUubG9nKCdDQUxMIGJlZm9yZUFuZ3VsYXIuanMnKTsgXG5cbiQoJyNsYXlvdXQnKS53MmxheW91dCh7XG5cdG5hbWU6ICdsYXlvdXQnLFxuXHRwYW5lbHM6IFtcblx0XHR7IHR5cGU6ICd0b3AnLCAgICAgICBzaXplOiA2NSxcdFx0cmVzaXphYmxlOiBmYWxzZSwgICBzdHlsZTogdG9wU3R5bGUsICAgIGNvbnRlbnQ6IHRvcENvbnRlbnRcdFx0fSxcblx0XHR7IHR5cGU6ICdsZWZ0JywgICAgICBzaXplOiAyMDAsXHRcdHJlc2l6YWJsZTogdHJ1ZSxcdHN0eWxlOiBwc3R5bGUsICAgICAgY29udGVudDogbGVmdENvbnRlbnQgICAgfSxcblx0XHR7IHR5cGU6ICdtYWluJyxcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3R5bGU6IHBzdHlsZSwgICAgICBjb250ZW50OiBtYWluQ29udGVudCxcblxuXHRcdFx0dGFiczoge1xuXHRcdFx0XHRvbkNsaWNrOiBmdW5jdGlvbiAoZXZlbnQpIHtcblxuXHRcdFx0XHRcdHZhciBpZFN0cmluZyA9IGxpYkVkaXRvci5nZXRJZEZyb21FdmVudFRhcmdldChldmVudC50YXJnZXQpO1xuXG5cdFx0XHRcdFx0bGliRWRpdG9yLnNlbGVjdENvZGVNaXJyb3IoX2dsb2JhbC5jb2RlVmlld0lkLCBpZFN0cmluZyk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdH0sXG5cdFx0XHRcdG9uQ2xvc2U6IGZ1bmN0aW9uIChldmVudCkge1xuXG5cdFx0XHRcdFx0dmFyIGlkU3RyaW5nID0gbGliRWRpdG9yLmdldElkRnJvbUV2ZW50VGFyZ2V0KGV2ZW50LnRhcmdldCk7XG5cdFx0XHRcdFxuXHRcdFx0XHRcdGxpYkVkaXRvci5yZW1vdmVDb2RlTWlycm9yKGlkU3RyaW5nKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0fSxcblx0XHR7IHR5cGU6ICdwcmV2aWV3JywgICBzaXplOiAnMjAlJyxcdHJlc2l6YWJsZTogdHJ1ZSwgICAgc3R5bGU6IHBzdHlsZSwgICAgICBjb250ZW50OiBwcmV2aWV3Q29udGVudFx0fSxcblx0XHR7IHR5cGU6ICdyaWdodCcsICAgICBzaXplOiAyMDAsXHRcdHJlc2l6YWJsZTogdHJ1ZSxcdHN0eWxlOiBwc3R5bGUsICAgICAgY29udGVudDogcmlnaHRDb250ZW50ICAgfSxcblx0XHR7IHR5cGU6ICdib3R0b20nLCAgICBzaXplOiA0MCxcdFx0cmVzaXphYmxlOiBmYWxzZSwgICBzdHlsZTogcHN0eWxlLCAgICAgIGNvbnRlbnQ6IGJvdHRvbUNvbnRlbnQgIH1cblx0XVxufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9jbGllbnRfc3JjL2pzL2JlZm9yZUFuZ3VsYXIuanMiLCJyZXF1aXJlKFwic3R5bGUhY3NzIWxlc3MhLi9mb250LWF3ZXNvbWUtc3R5bGVzIS4vZm9udC1hd2Vzb21lLmNvbmZpZy5qc1wiKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9mb250LWF3ZXNvbWUtd2VicGFjay9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9ub2RlX21vZHVsZXMvbGVzcy1sb2FkZXIvaW5kZXguanMhLi9mb250LWF3ZXNvbWUtc3R5bGVzLmxvYWRlci5qcyEuL2ZvbnQtYXdlc29tZS5jb25maWcuanNcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbm9kZV9tb2R1bGVzL2xlc3MtbG9hZGVyL2luZGV4LmpzIS4vZm9udC1hd2Vzb21lLXN0eWxlcy5sb2FkZXIuanMhLi9mb250LWF3ZXNvbWUuY29uZmlnLmpzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbm9kZV9tb2R1bGVzL2xlc3MtbG9hZGVyL2luZGV4LmpzIS4vZm9udC1hd2Vzb21lLXN0eWxlcy5sb2FkZXIuanMhLi9mb250LWF3ZXNvbWUuY29uZmlnLmpzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZm9udC1hd2Vzb21lLXdlYnBhY2svfi9zdHlsZS1sb2FkZXIhLi9+L2ZvbnQtYXdlc29tZS13ZWJwYWNrL34vY3NzLWxvYWRlciEuL34vZm9udC1hd2Vzb21lLXdlYnBhY2svfi9sZXNzLWxvYWRlciEuL34vZm9udC1hd2Vzb21lLXdlYnBhY2svZm9udC1hd2Vzb21lLXN0eWxlcy5sb2FkZXIuanMhLi9+L2ZvbnQtYXdlc29tZS13ZWJwYWNrL2ZvbnQtYXdlc29tZS5jb25maWcuanNcbi8vIG1vZHVsZSBpZCA9IDE1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmZhLWJvcmRlciB7XFxuICBwYWRkaW5nOiAuMmVtIC4yNWVtIC4xNWVtO1xcbiAgYm9yZGVyOiBzb2xpZCAwLjA4ZW0gI2VlZTtcXG4gIGJvcmRlci1yYWRpdXM6IC4xZW07XFxufVxcbi5mYS1wdWxsLWxlZnQge1xcbiAgZmxvYXQ6IGxlZnQ7XFxufVxcbi5mYS1wdWxsLXJpZ2h0IHtcXG4gIGZsb2F0OiByaWdodDtcXG59XFxuLmZhLmZhLXB1bGwtbGVmdCB7XFxuICBtYXJnaW4tcmlnaHQ6IC4zZW07XFxufVxcbi5mYS5mYS1wdWxsLXJpZ2h0IHtcXG4gIG1hcmdpbi1sZWZ0OiAuM2VtO1xcbn1cXG4vKiBEZXByZWNhdGVkIGFzIG9mIDQuNC4wICovXFxuLnB1bGwtcmlnaHQge1xcbiAgZmxvYXQ6IHJpZ2h0O1xcbn1cXG4ucHVsbC1sZWZ0IHtcXG4gIGZsb2F0OiBsZWZ0O1xcbn1cXG4uZmEucHVsbC1sZWZ0IHtcXG4gIG1hcmdpbi1yaWdodDogLjNlbTtcXG59XFxuLmZhLnB1bGwtcmlnaHQge1xcbiAgbWFyZ2luLWxlZnQ6IC4zZW07XFxufVxcbi5mYSB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBmb250OiBub3JtYWwgbm9ybWFsIG5vcm1hbCAxNHB4LzEgRm9udEF3ZXNvbWU7XFxuICBmb250LXNpemU6IGluaGVyaXQ7XFxuICB0ZXh0LXJlbmRlcmluZzogYXV0bztcXG4gIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xcbiAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTtcXG59XFxuLmZhLWZ3IHtcXG4gIHdpZHRoOiAxLjI4NTcxNDI5ZW07XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbi8qIEZvbnQgQXdlc29tZSB1c2VzIHRoZSBVbmljb2RlIFByaXZhdGUgVXNlIEFyZWEgKFBVQSkgdG8gZW5zdXJlIHNjcmVlblxcbiAgIHJlYWRlcnMgZG8gbm90IHJlYWQgb2ZmIHJhbmRvbSBjaGFyYWN0ZXJzIHRoYXQgcmVwcmVzZW50IGljb25zICovXFxuLmZhLWdsYXNzOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwMDBcXFwiO1xcbn1cXG4uZmEtbXVzaWM6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjAwMVxcXCI7XFxufVxcbi5mYS1zZWFyY2g6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjAwMlxcXCI7XFxufVxcbi5mYS1lbnZlbG9wZS1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwMDNcXFwiO1xcbn1cXG4uZmEtaGVhcnQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjAwNFxcXCI7XFxufVxcbi5mYS1zdGFyOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwMDVcXFwiO1xcbn1cXG4uZmEtc3Rhci1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwMDZcXFwiO1xcbn1cXG4uZmEtdXNlcjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDA3XFxcIjtcXG59XFxuLmZhLWZpbG06YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjAwOFxcXCI7XFxufVxcbi5mYS10aC1sYXJnZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDA5XFxcIjtcXG59XFxuLmZhLXRoOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwMEFcXFwiO1xcbn1cXG4uZmEtdGgtbGlzdDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDBCXFxcIjtcXG59XFxuLmZhLWNoZWNrOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwMENcXFwiO1xcbn1cXG4uZmEtcmVtb3ZlOmJlZm9yZSxcXG4uZmEtY2xvc2U6YmVmb3JlLFxcbi5mYS10aW1lczpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDBEXFxcIjtcXG59XFxuLmZhLXNlYXJjaC1wbHVzOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwMEVcXFwiO1xcbn1cXG4uZmEtc2VhcmNoLW1pbnVzOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwMTBcXFwiO1xcbn1cXG4uZmEtcG93ZXItb2ZmOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwMTFcXFwiO1xcbn1cXG4uZmEtc2lnbmFsOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwMTJcXFwiO1xcbn1cXG4uZmEtZ2VhcjpiZWZvcmUsXFxuLmZhLWNvZzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDEzXFxcIjtcXG59XFxuLmZhLXRyYXNoLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjAxNFxcXCI7XFxufVxcbi5mYS1ob21lOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwMTVcXFwiO1xcbn1cXG4uZmEtZmlsZS1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwMTZcXFwiO1xcbn1cXG4uZmEtY2xvY2stbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDE3XFxcIjtcXG59XFxuLmZhLXJvYWQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjAxOFxcXCI7XFxufVxcbi5mYS1kb3dubG9hZDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDE5XFxcIjtcXG59XFxuLmZhLWFycm93LWNpcmNsZS1vLWRvd246YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjAxQVxcXCI7XFxufVxcbi5mYS1hcnJvdy1jaXJjbGUtby11cDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDFCXFxcIjtcXG59XFxuLmZhLWluYm94OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwMUNcXFwiO1xcbn1cXG4uZmEtcGxheS1jaXJjbGUtbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDFEXFxcIjtcXG59XFxuLmZhLXJvdGF0ZS1yaWdodDpiZWZvcmUsXFxuLmZhLXJlcGVhdDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDFFXFxcIjtcXG59XFxuLmZhLXJlZnJlc2g6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjAyMVxcXCI7XFxufVxcbi5mYS1saXN0LWFsdDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDIyXFxcIjtcXG59XFxuLmZhLWxvY2s6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjAyM1xcXCI7XFxufVxcbi5mYS1mbGFnOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwMjRcXFwiO1xcbn1cXG4uZmEtaGVhZHBob25lczpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDI1XFxcIjtcXG59XFxuLmZhLXZvbHVtZS1vZmY6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjAyNlxcXCI7XFxufVxcbi5mYS12b2x1bWUtZG93bjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDI3XFxcIjtcXG59XFxuLmZhLXZvbHVtZS11cDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDI4XFxcIjtcXG59XFxuLmZhLXFyY29kZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDI5XFxcIjtcXG59XFxuLmZhLWJhcmNvZGU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjAyQVxcXCI7XFxufVxcbi5mYS10YWc6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjAyQlxcXCI7XFxufVxcbi5mYS10YWdzOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwMkNcXFwiO1xcbn1cXG4uZmEtYm9vazpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDJEXFxcIjtcXG59XFxuLmZhLWJvb2ttYXJrOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwMkVcXFwiO1xcbn1cXG4uZmEtcHJpbnQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjAyRlxcXCI7XFxufVxcbi5mYS1jYW1lcmE6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjAzMFxcXCI7XFxufVxcbi5mYS1mb250OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwMzFcXFwiO1xcbn1cXG4uZmEtYm9sZDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDMyXFxcIjtcXG59XFxuLmZhLWl0YWxpYzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDMzXFxcIjtcXG59XFxuLmZhLXRleHQtaGVpZ2h0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwMzRcXFwiO1xcbn1cXG4uZmEtdGV4dC13aWR0aDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDM1XFxcIjtcXG59XFxuLmZhLWFsaWduLWxlZnQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjAzNlxcXCI7XFxufVxcbi5mYS1hbGlnbi1jZW50ZXI6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjAzN1xcXCI7XFxufVxcbi5mYS1hbGlnbi1yaWdodDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDM4XFxcIjtcXG59XFxuLmZhLWFsaWduLWp1c3RpZnk6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjAzOVxcXCI7XFxufVxcbi5mYS1saXN0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwM0FcXFwiO1xcbn1cXG4uZmEtZGVkZW50OmJlZm9yZSxcXG4uZmEtb3V0ZGVudDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDNCXFxcIjtcXG59XFxuLmZhLWluZGVudDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDNDXFxcIjtcXG59XFxuLmZhLXZpZGVvLWNhbWVyYTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDNEXFxcIjtcXG59XFxuLmZhLXBob3RvOmJlZm9yZSxcXG4uZmEtaW1hZ2U6YmVmb3JlLFxcbi5mYS1waWN0dXJlLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjAzRVxcXCI7XFxufVxcbi5mYS1wZW5jaWw6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA0MFxcXCI7XFxufVxcbi5mYS1tYXAtbWFya2VyOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNDFcXFwiO1xcbn1cXG4uZmEtYWRqdXN0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNDJcXFwiO1xcbn1cXG4uZmEtdGludDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDQzXFxcIjtcXG59XFxuLmZhLWVkaXQ6YmVmb3JlLFxcbi5mYS1wZW5jaWwtc3F1YXJlLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA0NFxcXCI7XFxufVxcbi5mYS1zaGFyZS1zcXVhcmUtbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDQ1XFxcIjtcXG59XFxuLmZhLWNoZWNrLXNxdWFyZS1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNDZcXFwiO1xcbn1cXG4uZmEtYXJyb3dzOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNDdcXFwiO1xcbn1cXG4uZmEtc3RlcC1iYWNrd2FyZDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDQ4XFxcIjtcXG59XFxuLmZhLWZhc3QtYmFja3dhcmQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA0OVxcXCI7XFxufVxcbi5mYS1iYWNrd2FyZDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDRBXFxcIjtcXG59XFxuLmZhLXBsYXk6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA0QlxcXCI7XFxufVxcbi5mYS1wYXVzZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDRDXFxcIjtcXG59XFxuLmZhLXN0b3A6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA0RFxcXCI7XFxufVxcbi5mYS1mb3J3YXJkOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNEVcXFwiO1xcbn1cXG4uZmEtZmFzdC1mb3J3YXJkOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNTBcXFwiO1xcbn1cXG4uZmEtc3RlcC1mb3J3YXJkOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNTFcXFwiO1xcbn1cXG4uZmEtZWplY3Q6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA1MlxcXCI7XFxufVxcbi5mYS1jaGV2cm9uLWxlZnQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA1M1xcXCI7XFxufVxcbi5mYS1jaGV2cm9uLXJpZ2h0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNTRcXFwiO1xcbn1cXG4uZmEtcGx1cy1jaXJjbGU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA1NVxcXCI7XFxufVxcbi5mYS1taW51cy1jaXJjbGU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA1NlxcXCI7XFxufVxcbi5mYS10aW1lcy1jaXJjbGU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA1N1xcXCI7XFxufVxcbi5mYS1jaGVjay1jaXJjbGU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA1OFxcXCI7XFxufVxcbi5mYS1xdWVzdGlvbi1jaXJjbGU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA1OVxcXCI7XFxufVxcbi5mYS1pbmZvLWNpcmNsZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDVBXFxcIjtcXG59XFxuLmZhLWNyb3NzaGFpcnM6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA1QlxcXCI7XFxufVxcbi5mYS10aW1lcy1jaXJjbGUtbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDVDXFxcIjtcXG59XFxuLmZhLWNoZWNrLWNpcmNsZS1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNURcXFwiO1xcbn1cXG4uZmEtYmFuOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNUVcXFwiO1xcbn1cXG4uZmEtYXJyb3ctbGVmdDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDYwXFxcIjtcXG59XFxuLmZhLWFycm93LXJpZ2h0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNjFcXFwiO1xcbn1cXG4uZmEtYXJyb3ctdXA6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA2MlxcXCI7XFxufVxcbi5mYS1hcnJvdy1kb3duOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNjNcXFwiO1xcbn1cXG4uZmEtbWFpbC1mb3J3YXJkOmJlZm9yZSxcXG4uZmEtc2hhcmU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA2NFxcXCI7XFxufVxcbi5mYS1leHBhbmQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA2NVxcXCI7XFxufVxcbi5mYS1jb21wcmVzczpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDY2XFxcIjtcXG59XFxuLmZhLXBsdXM6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA2N1xcXCI7XFxufVxcbi5mYS1taW51czpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDY4XFxcIjtcXG59XFxuLmZhLWFzdGVyaXNrOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNjlcXFwiO1xcbn1cXG4uZmEtZXhjbGFtYXRpb24tY2lyY2xlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNkFcXFwiO1xcbn1cXG4uZmEtZ2lmdDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDZCXFxcIjtcXG59XFxuLmZhLWxlYWY6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA2Q1xcXCI7XFxufVxcbi5mYS1maXJlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNkRcXFwiO1xcbn1cXG4uZmEtZXllOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNkVcXFwiO1xcbn1cXG4uZmEtZXllLXNsYXNoOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNzBcXFwiO1xcbn1cXG4uZmEtd2FybmluZzpiZWZvcmUsXFxuLmZhLWV4Y2xhbWF0aW9uLXRyaWFuZ2xlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNzFcXFwiO1xcbn1cXG4uZmEtcGxhbmU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA3MlxcXCI7XFxufVxcbi5mYS1jYWxlbmRhcjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDczXFxcIjtcXG59XFxuLmZhLXJhbmRvbTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDc0XFxcIjtcXG59XFxuLmZhLWNvbW1lbnQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA3NVxcXCI7XFxufVxcbi5mYS1tYWduZXQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA3NlxcXCI7XFxufVxcbi5mYS1jaGV2cm9uLXVwOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNzdcXFwiO1xcbn1cXG4uZmEtY2hldnJvbi1kb3duOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwNzhcXFwiO1xcbn1cXG4uZmEtcmV0d2VldDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDc5XFxcIjtcXG59XFxuLmZhLXNob3BwaW5nLWNhcnQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA3QVxcXCI7XFxufVxcbi5mYS1mb2xkZXI6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA3QlxcXCI7XFxufVxcbi5mYS1mb2xkZXItb3BlbjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDdDXFxcIjtcXG59XFxuLmZhLWFycm93cy12OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwN0RcXFwiO1xcbn1cXG4uZmEtYXJyb3dzLWg6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA3RVxcXCI7XFxufVxcbi5mYS1iYXItY2hhcnQtbzpiZWZvcmUsXFxuLmZhLWJhci1jaGFydDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDgwXFxcIjtcXG59XFxuLmZhLXR3aXR0ZXItc3F1YXJlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwODFcXFwiO1xcbn1cXG4uZmEtZmFjZWJvb2stc3F1YXJlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwODJcXFwiO1xcbn1cXG4uZmEtY2FtZXJhLXJldHJvOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwODNcXFwiO1xcbn1cXG4uZmEta2V5OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwODRcXFwiO1xcbn1cXG4uZmEtZ2VhcnM6YmVmb3JlLFxcbi5mYS1jb2dzOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwODVcXFwiO1xcbn1cXG4uZmEtY29tbWVudHM6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA4NlxcXCI7XFxufVxcbi5mYS10aHVtYnMtby11cDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDg3XFxcIjtcXG59XFxuLmZhLXRodW1icy1vLWRvd246YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA4OFxcXCI7XFxufVxcbi5mYS1zdGFyLWhhbGY6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA4OVxcXCI7XFxufVxcbi5mYS1oZWFydC1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwOEFcXFwiO1xcbn1cXG4uZmEtc2lnbi1vdXQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA4QlxcXCI7XFxufVxcbi5mYS1saW5rZWRpbi1zcXVhcmU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA4Q1xcXCI7XFxufVxcbi5mYS10aHVtYi10YWNrOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwOERcXFwiO1xcbn1cXG4uZmEtZXh0ZXJuYWwtbGluazpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDhFXFxcIjtcXG59XFxuLmZhLXNpZ24taW46YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA5MFxcXCI7XFxufVxcbi5mYS10cm9waHk6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA5MVxcXCI7XFxufVxcbi5mYS1naXRodWItc3F1YXJlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwOTJcXFwiO1xcbn1cXG4uZmEtdXBsb2FkOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwOTNcXFwiO1xcbn1cXG4uZmEtbGVtb24tbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDk0XFxcIjtcXG59XFxuLmZhLXBob25lOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwOTVcXFwiO1xcbn1cXG4uZmEtc3F1YXJlLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjA5NlxcXCI7XFxufVxcbi5mYS1ib29rbWFyay1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwOTdcXFwiO1xcbn1cXG4uZmEtcGhvbmUtc3F1YXJlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwOThcXFwiO1xcbn1cXG4uZmEtdHdpdHRlcjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDk5XFxcIjtcXG59XFxuLmZhLWZhY2Vib29rLWY6YmVmb3JlLFxcbi5mYS1mYWNlYm9vazpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDlBXFxcIjtcXG59XFxuLmZhLWdpdGh1YjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDlCXFxcIjtcXG59XFxuLmZhLXVubG9jazpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDlDXFxcIjtcXG59XFxuLmZhLWNyZWRpdC1jYXJkOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwOURcXFwiO1xcbn1cXG4uZmEtZmVlZDpiZWZvcmUsXFxuLmZhLXJzczpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMDlFXFxcIjtcXG59XFxuLmZhLWhkZC1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwQTBcXFwiO1xcbn1cXG4uZmEtYnVsbGhvcm46YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBBMVxcXCI7XFxufVxcbi5mYS1iZWxsOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwRjNcXFwiO1xcbn1cXG4uZmEtY2VydGlmaWNhdGU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBBM1xcXCI7XFxufVxcbi5mYS1oYW5kLW8tcmlnaHQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBBNFxcXCI7XFxufVxcbi5mYS1oYW5kLW8tbGVmdDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMEE1XFxcIjtcXG59XFxuLmZhLWhhbmQtby11cDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMEE2XFxcIjtcXG59XFxuLmZhLWhhbmQtby1kb3duOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwQTdcXFwiO1xcbn1cXG4uZmEtYXJyb3ctY2lyY2xlLWxlZnQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBBOFxcXCI7XFxufVxcbi5mYS1hcnJvdy1jaXJjbGUtcmlnaHQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBBOVxcXCI7XFxufVxcbi5mYS1hcnJvdy1jaXJjbGUtdXA6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBBQVxcXCI7XFxufVxcbi5mYS1hcnJvdy1jaXJjbGUtZG93bjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMEFCXFxcIjtcXG59XFxuLmZhLWdsb2JlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwQUNcXFwiO1xcbn1cXG4uZmEtd3JlbmNoOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwQURcXFwiO1xcbn1cXG4uZmEtdGFza3M6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBBRVxcXCI7XFxufVxcbi5mYS1maWx0ZXI6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBCMFxcXCI7XFxufVxcbi5mYS1icmllZmNhc2U6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBCMVxcXCI7XFxufVxcbi5mYS1hcnJvd3MtYWx0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwQjJcXFwiO1xcbn1cXG4uZmEtZ3JvdXA6YmVmb3JlLFxcbi5mYS11c2VyczpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMEMwXFxcIjtcXG59XFxuLmZhLWNoYWluOmJlZm9yZSxcXG4uZmEtbGluazpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMEMxXFxcIjtcXG59XFxuLmZhLWNsb3VkOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwQzJcXFwiO1xcbn1cXG4uZmEtZmxhc2s6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBDM1xcXCI7XFxufVxcbi5mYS1jdXQ6YmVmb3JlLFxcbi5mYS1zY2lzc29yczpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMEM0XFxcIjtcXG59XFxuLmZhLWNvcHk6YmVmb3JlLFxcbi5mYS1maWxlcy1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwQzVcXFwiO1xcbn1cXG4uZmEtcGFwZXJjbGlwOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwQzZcXFwiO1xcbn1cXG4uZmEtc2F2ZTpiZWZvcmUsXFxuLmZhLWZsb3BweS1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwQzdcXFwiO1xcbn1cXG4uZmEtc3F1YXJlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwQzhcXFwiO1xcbn1cXG4uZmEtbmF2aWNvbjpiZWZvcmUsXFxuLmZhLXJlb3JkZXI6YmVmb3JlLFxcbi5mYS1iYXJzOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwQzlcXFwiO1xcbn1cXG4uZmEtbGlzdC11bDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMENBXFxcIjtcXG59XFxuLmZhLWxpc3Qtb2w6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBDQlxcXCI7XFxufVxcbi5mYS1zdHJpa2V0aHJvdWdoOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwQ0NcXFwiO1xcbn1cXG4uZmEtdW5kZXJsaW5lOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwQ0RcXFwiO1xcbn1cXG4uZmEtdGFibGU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBDRVxcXCI7XFxufVxcbi5mYS1tYWdpYzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMEQwXFxcIjtcXG59XFxuLmZhLXRydWNrOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwRDFcXFwiO1xcbn1cXG4uZmEtcGludGVyZXN0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwRDJcXFwiO1xcbn1cXG4uZmEtcGludGVyZXN0LXNxdWFyZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMEQzXFxcIjtcXG59XFxuLmZhLWdvb2dsZS1wbHVzLXNxdWFyZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMEQ0XFxcIjtcXG59XFxuLmZhLWdvb2dsZS1wbHVzOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwRDVcXFwiO1xcbn1cXG4uZmEtbW9uZXk6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBENlxcXCI7XFxufVxcbi5mYS1jYXJldC1kb3duOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwRDdcXFwiO1xcbn1cXG4uZmEtY2FyZXQtdXA6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBEOFxcXCI7XFxufVxcbi5mYS1jYXJldC1sZWZ0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwRDlcXFwiO1xcbn1cXG4uZmEtY2FyZXQtcmlnaHQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBEQVxcXCI7XFxufVxcbi5mYS1jb2x1bW5zOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwREJcXFwiO1xcbn1cXG4uZmEtdW5zb3J0ZWQ6YmVmb3JlLFxcbi5mYS1zb3J0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwRENcXFwiO1xcbn1cXG4uZmEtc29ydC1kb3duOmJlZm9yZSxcXG4uZmEtc29ydC1kZXNjOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwRERcXFwiO1xcbn1cXG4uZmEtc29ydC11cDpiZWZvcmUsXFxuLmZhLXNvcnQtYXNjOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwREVcXFwiO1xcbn1cXG4uZmEtZW52ZWxvcGU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBFMFxcXCI7XFxufVxcbi5mYS1saW5rZWRpbjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMEUxXFxcIjtcXG59XFxuLmZhLXJvdGF0ZS1sZWZ0OmJlZm9yZSxcXG4uZmEtdW5kbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMEUyXFxcIjtcXG59XFxuLmZhLWxlZ2FsOmJlZm9yZSxcXG4uZmEtZ2F2ZWw6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBFM1xcXCI7XFxufVxcbi5mYS1kYXNoYm9hcmQ6YmVmb3JlLFxcbi5mYS10YWNob21ldGVyOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwRTRcXFwiO1xcbn1cXG4uZmEtY29tbWVudC1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwRTVcXFwiO1xcbn1cXG4uZmEtY29tbWVudHMtbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMEU2XFxcIjtcXG59XFxuLmZhLWZsYXNoOmJlZm9yZSxcXG4uZmEtYm9sdDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMEU3XFxcIjtcXG59XFxuLmZhLXNpdGVtYXA6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBFOFxcXCI7XFxufVxcbi5mYS11bWJyZWxsYTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMEU5XFxcIjtcXG59XFxuLmZhLXBhc3RlOmJlZm9yZSxcXG4uZmEtY2xpcGJvYXJkOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwRUFcXFwiO1xcbn1cXG4uZmEtbGlnaHRidWxiLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBFQlxcXCI7XFxufVxcbi5mYS1leGNoYW5nZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMEVDXFxcIjtcXG59XFxuLmZhLWNsb3VkLWRvd25sb2FkOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwRURcXFwiO1xcbn1cXG4uZmEtY2xvdWQtdXBsb2FkOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwRUVcXFwiO1xcbn1cXG4uZmEtdXNlci1tZDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMEYwXFxcIjtcXG59XFxuLmZhLXN0ZXRob3Njb3BlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwRjFcXFwiO1xcbn1cXG4uZmEtc3VpdGNhc2U6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBGMlxcXCI7XFxufVxcbi5mYS1iZWxsLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBBMlxcXCI7XFxufVxcbi5mYS1jb2ZmZWU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBGNFxcXCI7XFxufVxcbi5mYS1jdXRsZXJ5OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwRjVcXFwiO1xcbn1cXG4uZmEtZmlsZS10ZXh0LW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBGNlxcXCI7XFxufVxcbi5mYS1idWlsZGluZy1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwRjdcXFwiO1xcbn1cXG4uZmEtaG9zcGl0YWwtbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMEY4XFxcIjtcXG59XFxuLmZhLWFtYnVsYW5jZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMEY5XFxcIjtcXG59XFxuLmZhLW1lZGtpdDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMEZBXFxcIjtcXG59XFxuLmZhLWZpZ2h0ZXItamV0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwRkJcXFwiO1xcbn1cXG4uZmEtYmVlcjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMEZDXFxcIjtcXG59XFxuLmZhLWgtc3F1YXJlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYwRkRcXFwiO1xcbn1cXG4uZmEtcGx1cy1zcXVhcmU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjBGRVxcXCI7XFxufVxcbi5mYS1hbmdsZS1kb3VibGUtbGVmdDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTAwXFxcIjtcXG59XFxuLmZhLWFuZ2xlLWRvdWJsZS1yaWdodDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTAxXFxcIjtcXG59XFxuLmZhLWFuZ2xlLWRvdWJsZS11cDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTAyXFxcIjtcXG59XFxuLmZhLWFuZ2xlLWRvdWJsZS1kb3duOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxMDNcXFwiO1xcbn1cXG4uZmEtYW5nbGUtbGVmdDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTA0XFxcIjtcXG59XFxuLmZhLWFuZ2xlLXJpZ2h0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxMDVcXFwiO1xcbn1cXG4uZmEtYW5nbGUtdXA6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjEwNlxcXCI7XFxufVxcbi5mYS1hbmdsZS1kb3duOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxMDdcXFwiO1xcbn1cXG4uZmEtZGVza3RvcDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTA4XFxcIjtcXG59XFxuLmZhLWxhcHRvcDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTA5XFxcIjtcXG59XFxuLmZhLXRhYmxldDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTBBXFxcIjtcXG59XFxuLmZhLW1vYmlsZS1waG9uZTpiZWZvcmUsXFxuLmZhLW1vYmlsZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTBCXFxcIjtcXG59XFxuLmZhLWNpcmNsZS1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxMENcXFwiO1xcbn1cXG4uZmEtcXVvdGUtbGVmdDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTBEXFxcIjtcXG59XFxuLmZhLXF1b3RlLXJpZ2h0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxMEVcXFwiO1xcbn1cXG4uZmEtc3Bpbm5lcjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTEwXFxcIjtcXG59XFxuLmZhLWNpcmNsZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTExXFxcIjtcXG59XFxuLmZhLW1haWwtcmVwbHk6YmVmb3JlLFxcbi5mYS1yZXBseTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTEyXFxcIjtcXG59XFxuLmZhLWdpdGh1Yi1hbHQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjExM1xcXCI7XFxufVxcbi5mYS1mb2xkZXItbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTE0XFxcIjtcXG59XFxuLmZhLWZvbGRlci1vcGVuLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjExNVxcXCI7XFxufVxcbi5mYS1zbWlsZS1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxMThcXFwiO1xcbn1cXG4uZmEtZnJvd24tbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTE5XFxcIjtcXG59XFxuLmZhLW1laC1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxMUFcXFwiO1xcbn1cXG4uZmEtZ2FtZXBhZDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTFCXFxcIjtcXG59XFxuLmZhLWtleWJvYXJkLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjExQ1xcXCI7XFxufVxcbi5mYS1mbGFnLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjExRFxcXCI7XFxufVxcbi5mYS1mbGFnLWNoZWNrZXJlZDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTFFXFxcIjtcXG59XFxuLmZhLXRlcm1pbmFsOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxMjBcXFwiO1xcbn1cXG4uZmEtY29kZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTIxXFxcIjtcXG59XFxuLmZhLW1haWwtcmVwbHktYWxsOmJlZm9yZSxcXG4uZmEtcmVwbHktYWxsOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxMjJcXFwiO1xcbn1cXG4uZmEtc3Rhci1oYWxmLWVtcHR5OmJlZm9yZSxcXG4uZmEtc3Rhci1oYWxmLWZ1bGw6YmVmb3JlLFxcbi5mYS1zdGFyLWhhbGYtbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTIzXFxcIjtcXG59XFxuLmZhLWxvY2F0aW9uLWFycm93OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxMjRcXFwiO1xcbn1cXG4uZmEtY3JvcDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTI1XFxcIjtcXG59XFxuLmZhLWNvZGUtZm9yazpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTI2XFxcIjtcXG59XFxuLmZhLXVubGluazpiZWZvcmUsXFxuLmZhLWNoYWluLWJyb2tlbjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTI3XFxcIjtcXG59XFxuLmZhLXF1ZXN0aW9uOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxMjhcXFwiO1xcbn1cXG4uZmEtaW5mbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTI5XFxcIjtcXG59XFxuLmZhLWV4Y2xhbWF0aW9uOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxMkFcXFwiO1xcbn1cXG4uZmEtc3VwZXJzY3JpcHQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjEyQlxcXCI7XFxufVxcbi5mYS1zdWJzY3JpcHQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjEyQ1xcXCI7XFxufVxcbi5mYS1lcmFzZXI6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjEyRFxcXCI7XFxufVxcbi5mYS1wdXp6bGUtcGllY2U6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjEyRVxcXCI7XFxufVxcbi5mYS1taWNyb3Bob25lOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxMzBcXFwiO1xcbn1cXG4uZmEtbWljcm9waG9uZS1zbGFzaDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTMxXFxcIjtcXG59XFxuLmZhLXNoaWVsZDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTMyXFxcIjtcXG59XFxuLmZhLWNhbGVuZGFyLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjEzM1xcXCI7XFxufVxcbi5mYS1maXJlLWV4dGluZ3Vpc2hlcjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTM0XFxcIjtcXG59XFxuLmZhLXJvY2tldDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTM1XFxcIjtcXG59XFxuLmZhLW1heGNkbjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTM2XFxcIjtcXG59XFxuLmZhLWNoZXZyb24tY2lyY2xlLWxlZnQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjEzN1xcXCI7XFxufVxcbi5mYS1jaGV2cm9uLWNpcmNsZS1yaWdodDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTM4XFxcIjtcXG59XFxuLmZhLWNoZXZyb24tY2lyY2xlLXVwOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxMzlcXFwiO1xcbn1cXG4uZmEtY2hldnJvbi1jaXJjbGUtZG93bjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTNBXFxcIjtcXG59XFxuLmZhLWh0bWw1OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxM0JcXFwiO1xcbn1cXG4uZmEtY3NzMzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTNDXFxcIjtcXG59XFxuLmZhLWFuY2hvcjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTNEXFxcIjtcXG59XFxuLmZhLXVubG9jay1hbHQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjEzRVxcXCI7XFxufVxcbi5mYS1idWxsc2V5ZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTQwXFxcIjtcXG59XFxuLmZhLWVsbGlwc2lzLWg6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE0MVxcXCI7XFxufVxcbi5mYS1lbGxpcHNpcy12OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxNDJcXFwiO1xcbn1cXG4uZmEtcnNzLXNxdWFyZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTQzXFxcIjtcXG59XFxuLmZhLXBsYXktY2lyY2xlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxNDRcXFwiO1xcbn1cXG4uZmEtdGlja2V0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxNDVcXFwiO1xcbn1cXG4uZmEtbWludXMtc3F1YXJlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxNDZcXFwiO1xcbn1cXG4uZmEtbWludXMtc3F1YXJlLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE0N1xcXCI7XFxufVxcbi5mYS1sZXZlbC11cDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTQ4XFxcIjtcXG59XFxuLmZhLWxldmVsLWRvd246YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE0OVxcXCI7XFxufVxcbi5mYS1jaGVjay1zcXVhcmU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE0QVxcXCI7XFxufVxcbi5mYS1wZW5jaWwtc3F1YXJlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxNEJcXFwiO1xcbn1cXG4uZmEtZXh0ZXJuYWwtbGluay1zcXVhcmU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE0Q1xcXCI7XFxufVxcbi5mYS1zaGFyZS1zcXVhcmU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE0RFxcXCI7XFxufVxcbi5mYS1jb21wYXNzOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxNEVcXFwiO1xcbn1cXG4uZmEtdG9nZ2xlLWRvd246YmVmb3JlLFxcbi5mYS1jYXJldC1zcXVhcmUtby1kb3duOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxNTBcXFwiO1xcbn1cXG4uZmEtdG9nZ2xlLXVwOmJlZm9yZSxcXG4uZmEtY2FyZXQtc3F1YXJlLW8tdXA6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE1MVxcXCI7XFxufVxcbi5mYS10b2dnbGUtcmlnaHQ6YmVmb3JlLFxcbi5mYS1jYXJldC1zcXVhcmUtby1yaWdodDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTUyXFxcIjtcXG59XFxuLmZhLWV1cm86YmVmb3JlLFxcbi5mYS1ldXI6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE1M1xcXCI7XFxufVxcbi5mYS1nYnA6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE1NFxcXCI7XFxufVxcbi5mYS1kb2xsYXI6YmVmb3JlLFxcbi5mYS11c2Q6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE1NVxcXCI7XFxufVxcbi5mYS1ydXBlZTpiZWZvcmUsXFxuLmZhLWlucjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTU2XFxcIjtcXG59XFxuLmZhLWNueTpiZWZvcmUsXFxuLmZhLXJtYjpiZWZvcmUsXFxuLmZhLXllbjpiZWZvcmUsXFxuLmZhLWpweTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTU3XFxcIjtcXG59XFxuLmZhLXJ1YmxlOmJlZm9yZSxcXG4uZmEtcm91YmxlOmJlZm9yZSxcXG4uZmEtcnViOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxNThcXFwiO1xcbn1cXG4uZmEtd29uOmJlZm9yZSxcXG4uZmEta3J3OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxNTlcXFwiO1xcbn1cXG4uZmEtYml0Y29pbjpiZWZvcmUsXFxuLmZhLWJ0YzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTVBXFxcIjtcXG59XFxuLmZhLWZpbGU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE1QlxcXCI7XFxufVxcbi5mYS1maWxlLXRleHQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE1Q1xcXCI7XFxufVxcbi5mYS1zb3J0LWFscGhhLWFzYzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTVEXFxcIjtcXG59XFxuLmZhLXNvcnQtYWxwaGEtZGVzYzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTVFXFxcIjtcXG59XFxuLmZhLXNvcnQtYW1vdW50LWFzYzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTYwXFxcIjtcXG59XFxuLmZhLXNvcnQtYW1vdW50LWRlc2M6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE2MVxcXCI7XFxufVxcbi5mYS1zb3J0LW51bWVyaWMtYXNjOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxNjJcXFwiO1xcbn1cXG4uZmEtc29ydC1udW1lcmljLWRlc2M6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE2M1xcXCI7XFxufVxcbi5mYS10aHVtYnMtdXA6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE2NFxcXCI7XFxufVxcbi5mYS10aHVtYnMtZG93bjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTY1XFxcIjtcXG59XFxuLmZhLXlvdXR1YmUtc3F1YXJlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxNjZcXFwiO1xcbn1cXG4uZmEteW91dHViZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTY3XFxcIjtcXG59XFxuLmZhLXhpbmc6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE2OFxcXCI7XFxufVxcbi5mYS14aW5nLXNxdWFyZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTY5XFxcIjtcXG59XFxuLmZhLXlvdXR1YmUtcGxheTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTZBXFxcIjtcXG59XFxuLmZhLWRyb3Bib3g6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE2QlxcXCI7XFxufVxcbi5mYS1zdGFjay1vdmVyZmxvdzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTZDXFxcIjtcXG59XFxuLmZhLWluc3RhZ3JhbTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTZEXFxcIjtcXG59XFxuLmZhLWZsaWNrcjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTZFXFxcIjtcXG59XFxuLmZhLWFkbjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTcwXFxcIjtcXG59XFxuLmZhLWJpdGJ1Y2tldDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTcxXFxcIjtcXG59XFxuLmZhLWJpdGJ1Y2tldC1zcXVhcmU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE3MlxcXCI7XFxufVxcbi5mYS10dW1ibHI6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE3M1xcXCI7XFxufVxcbi5mYS10dW1ibHItc3F1YXJlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxNzRcXFwiO1xcbn1cXG4uZmEtbG9uZy1hcnJvdy1kb3duOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxNzVcXFwiO1xcbn1cXG4uZmEtbG9uZy1hcnJvdy11cDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTc2XFxcIjtcXG59XFxuLmZhLWxvbmctYXJyb3ctbGVmdDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTc3XFxcIjtcXG59XFxuLmZhLWxvbmctYXJyb3ctcmlnaHQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE3OFxcXCI7XFxufVxcbi5mYS1hcHBsZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTc5XFxcIjtcXG59XFxuLmZhLXdpbmRvd3M6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE3QVxcXCI7XFxufVxcbi5mYS1hbmRyb2lkOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxN0JcXFwiO1xcbn1cXG4uZmEtbGludXg6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE3Q1xcXCI7XFxufVxcbi5mYS1kcmliYmJsZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTdEXFxcIjtcXG59XFxuLmZhLXNreXBlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxN0VcXFwiO1xcbn1cXG4uZmEtZm91cnNxdWFyZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTgwXFxcIjtcXG59XFxuLmZhLXRyZWxsbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTgxXFxcIjtcXG59XFxuLmZhLWZlbWFsZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTgyXFxcIjtcXG59XFxuLmZhLW1hbGU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE4M1xcXCI7XFxufVxcbi5mYS1naXR0aXA6YmVmb3JlLFxcbi5mYS1ncmF0aXBheTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTg0XFxcIjtcXG59XFxuLmZhLXN1bi1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxODVcXFwiO1xcbn1cXG4uZmEtbW9vbi1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxODZcXFwiO1xcbn1cXG4uZmEtYXJjaGl2ZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTg3XFxcIjtcXG59XFxuLmZhLWJ1ZzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTg4XFxcIjtcXG59XFxuLmZhLXZrOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxODlcXFwiO1xcbn1cXG4uZmEtd2VpYm86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE4QVxcXCI7XFxufVxcbi5mYS1yZW5yZW46YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE4QlxcXCI7XFxufVxcbi5mYS1wYWdlbGluZXM6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE4Q1xcXCI7XFxufVxcbi5mYS1zdGFjay1leGNoYW5nZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMThEXFxcIjtcXG59XFxuLmZhLWFycm93LWNpcmNsZS1vLXJpZ2h0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxOEVcXFwiO1xcbn1cXG4uZmEtYXJyb3ctY2lyY2xlLW8tbGVmdDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTkwXFxcIjtcXG59XFxuLmZhLXRvZ2dsZS1sZWZ0OmJlZm9yZSxcXG4uZmEtY2FyZXQtc3F1YXJlLW8tbGVmdDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTkxXFxcIjtcXG59XFxuLmZhLWRvdC1jaXJjbGUtbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTkyXFxcIjtcXG59XFxuLmZhLXdoZWVsY2hhaXI6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE5M1xcXCI7XFxufVxcbi5mYS12aW1lby1zcXVhcmU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE5NFxcXCI7XFxufVxcbi5mYS10dXJraXNoLWxpcmE6YmVmb3JlLFxcbi5mYS10cnk6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE5NVxcXCI7XFxufVxcbi5mYS1wbHVzLXNxdWFyZS1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxOTZcXFwiO1xcbn1cXG4uZmEtc3BhY2Utc2h1dHRsZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTk3XFxcIjtcXG59XFxuLmZhLXNsYWNrOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxOThcXFwiO1xcbn1cXG4uZmEtZW52ZWxvcGUtc3F1YXJlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxOTlcXFwiO1xcbn1cXG4uZmEtd29yZHByZXNzOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxOUFcXFwiO1xcbn1cXG4uZmEtb3BlbmlkOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxOUJcXFwiO1xcbn1cXG4uZmEtaW5zdGl0dXRpb246YmVmb3JlLFxcbi5mYS1iYW5rOmJlZm9yZSxcXG4uZmEtdW5pdmVyc2l0eTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTlDXFxcIjtcXG59XFxuLmZhLW1vcnRhci1ib2FyZDpiZWZvcmUsXFxuLmZhLWdyYWR1YXRpb24tY2FwOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxOURcXFwiO1xcbn1cXG4uZmEteWFob286YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjE5RVxcXCI7XFxufVxcbi5mYS1nb29nbGU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFBMFxcXCI7XFxufVxcbi5mYS1yZWRkaXQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFBMVxcXCI7XFxufVxcbi5mYS1yZWRkaXQtc3F1YXJlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxQTJcXFwiO1xcbn1cXG4uZmEtc3R1bWJsZXVwb24tY2lyY2xlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxQTNcXFwiO1xcbn1cXG4uZmEtc3R1bWJsZXVwb246YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFBNFxcXCI7XFxufVxcbi5mYS1kZWxpY2lvdXM6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFBNVxcXCI7XFxufVxcbi5mYS1kaWdnOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxQTZcXFwiO1xcbn1cXG4uZmEtcGllZC1waXBlci1wcDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMUE3XFxcIjtcXG59XFxuLmZhLXBpZWQtcGlwZXItYWx0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxQThcXFwiO1xcbn1cXG4uZmEtZHJ1cGFsOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxQTlcXFwiO1xcbn1cXG4uZmEtam9vbWxhOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxQUFcXFwiO1xcbn1cXG4uZmEtbGFuZ3VhZ2U6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFBQlxcXCI7XFxufVxcbi5mYS1mYXg6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFBQ1xcXCI7XFxufVxcbi5mYS1idWlsZGluZzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMUFEXFxcIjtcXG59XFxuLmZhLWNoaWxkOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxQUVcXFwiO1xcbn1cXG4uZmEtcGF3OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxQjBcXFwiO1xcbn1cXG4uZmEtc3Bvb246YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFCMVxcXCI7XFxufVxcbi5mYS1jdWJlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxQjJcXFwiO1xcbn1cXG4uZmEtY3ViZXM6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFCM1xcXCI7XFxufVxcbi5mYS1iZWhhbmNlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxQjRcXFwiO1xcbn1cXG4uZmEtYmVoYW5jZS1zcXVhcmU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFCNVxcXCI7XFxufVxcbi5mYS1zdGVhbTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMUI2XFxcIjtcXG59XFxuLmZhLXN0ZWFtLXNxdWFyZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMUI3XFxcIjtcXG59XFxuLmZhLXJlY3ljbGU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFCOFxcXCI7XFxufVxcbi5mYS1hdXRvbW9iaWxlOmJlZm9yZSxcXG4uZmEtY2FyOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxQjlcXFwiO1xcbn1cXG4uZmEtY2FiOmJlZm9yZSxcXG4uZmEtdGF4aTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMUJBXFxcIjtcXG59XFxuLmZhLXRyZWU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFCQlxcXCI7XFxufVxcbi5mYS1zcG90aWZ5OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxQkNcXFwiO1xcbn1cXG4uZmEtZGV2aWFudGFydDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMUJEXFxcIjtcXG59XFxuLmZhLXNvdW5kY2xvdWQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFCRVxcXCI7XFxufVxcbi5mYS1kYXRhYmFzZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMUMwXFxcIjtcXG59XFxuLmZhLWZpbGUtcGRmLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFDMVxcXCI7XFxufVxcbi5mYS1maWxlLXdvcmQtbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMUMyXFxcIjtcXG59XFxuLmZhLWZpbGUtZXhjZWwtbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMUMzXFxcIjtcXG59XFxuLmZhLWZpbGUtcG93ZXJwb2ludC1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxQzRcXFwiO1xcbn1cXG4uZmEtZmlsZS1waG90by1vOmJlZm9yZSxcXG4uZmEtZmlsZS1waWN0dXJlLW86YmVmb3JlLFxcbi5mYS1maWxlLWltYWdlLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFDNVxcXCI7XFxufVxcbi5mYS1maWxlLXppcC1vOmJlZm9yZSxcXG4uZmEtZmlsZS1hcmNoaXZlLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFDNlxcXCI7XFxufVxcbi5mYS1maWxlLXNvdW5kLW86YmVmb3JlLFxcbi5mYS1maWxlLWF1ZGlvLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFDN1xcXCI7XFxufVxcbi5mYS1maWxlLW1vdmllLW86YmVmb3JlLFxcbi5mYS1maWxlLXZpZGVvLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFDOFxcXCI7XFxufVxcbi5mYS1maWxlLWNvZGUtbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMUM5XFxcIjtcXG59XFxuLmZhLXZpbmU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFDQVxcXCI7XFxufVxcbi5mYS1jb2RlcGVuOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxQ0JcXFwiO1xcbn1cXG4uZmEtanNmaWRkbGU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFDQ1xcXCI7XFxufVxcbi5mYS1saWZlLWJvdXk6YmVmb3JlLFxcbi5mYS1saWZlLWJ1b3k6YmVmb3JlLFxcbi5mYS1saWZlLXNhdmVyOmJlZm9yZSxcXG4uZmEtc3VwcG9ydDpiZWZvcmUsXFxuLmZhLWxpZmUtcmluZzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMUNEXFxcIjtcXG59XFxuLmZhLWNpcmNsZS1vLW5vdGNoOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxQ0VcXFwiO1xcbn1cXG4uZmEtcmE6YmVmb3JlLFxcbi5mYS1yZXNpc3RhbmNlOmJlZm9yZSxcXG4uZmEtcmViZWw6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFEMFxcXCI7XFxufVxcbi5mYS1nZTpiZWZvcmUsXFxuLmZhLWVtcGlyZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMUQxXFxcIjtcXG59XFxuLmZhLWdpdC1zcXVhcmU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFEMlxcXCI7XFxufVxcbi5mYS1naXQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFEM1xcXCI7XFxufVxcbi5mYS15LWNvbWJpbmF0b3Itc3F1YXJlOmJlZm9yZSxcXG4uZmEteWMtc3F1YXJlOmJlZm9yZSxcXG4uZmEtaGFja2VyLW5ld3M6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFENFxcXCI7XFxufVxcbi5mYS10ZW5jZW50LXdlaWJvOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxRDVcXFwiO1xcbn1cXG4uZmEtcXE6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFENlxcXCI7XFxufVxcbi5mYS13ZWNoYXQ6YmVmb3JlLFxcbi5mYS13ZWl4aW46YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFEN1xcXCI7XFxufVxcbi5mYS1zZW5kOmJlZm9yZSxcXG4uZmEtcGFwZXItcGxhbmU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFEOFxcXCI7XFxufVxcbi5mYS1zZW5kLW86YmVmb3JlLFxcbi5mYS1wYXBlci1wbGFuZS1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxRDlcXFwiO1xcbn1cXG4uZmEtaGlzdG9yeTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMURBXFxcIjtcXG59XFxuLmZhLWNpcmNsZS10aGluOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxREJcXFwiO1xcbn1cXG4uZmEtaGVhZGVyOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxRENcXFwiO1xcbn1cXG4uZmEtcGFyYWdyYXBoOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxRERcXFwiO1xcbn1cXG4uZmEtc2xpZGVyczpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMURFXFxcIjtcXG59XFxuLmZhLXNoYXJlLWFsdDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMUUwXFxcIjtcXG59XFxuLmZhLXNoYXJlLWFsdC1zcXVhcmU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFFMVxcXCI7XFxufVxcbi5mYS1ib21iOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxRTJcXFwiO1xcbn1cXG4uZmEtc29jY2VyLWJhbGwtbzpiZWZvcmUsXFxuLmZhLWZ1dGJvbC1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxRTNcXFwiO1xcbn1cXG4uZmEtdHR5OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxRTRcXFwiO1xcbn1cXG4uZmEtYmlub2N1bGFyczpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMUU1XFxcIjtcXG59XFxuLmZhLXBsdWc6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFFNlxcXCI7XFxufVxcbi5mYS1zbGlkZXNoYXJlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxRTdcXFwiO1xcbn1cXG4uZmEtdHdpdGNoOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxRThcXFwiO1xcbn1cXG4uZmEteWVscDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMUU5XFxcIjtcXG59XFxuLmZhLW5ld3NwYXBlci1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxRUFcXFwiO1xcbn1cXG4uZmEtd2lmaTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMUVCXFxcIjtcXG59XFxuLmZhLWNhbGN1bGF0b3I6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFFQ1xcXCI7XFxufVxcbi5mYS1wYXlwYWw6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFFRFxcXCI7XFxufVxcbi5mYS1nb29nbGUtd2FsbGV0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxRUVcXFwiO1xcbn1cXG4uZmEtY2MtdmlzYTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMUYwXFxcIjtcXG59XFxuLmZhLWNjLW1hc3RlcmNhcmQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFGMVxcXCI7XFxufVxcbi5mYS1jYy1kaXNjb3ZlcjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMUYyXFxcIjtcXG59XFxuLmZhLWNjLWFtZXg6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFGM1xcXCI7XFxufVxcbi5mYS1jYy1wYXlwYWw6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFGNFxcXCI7XFxufVxcbi5mYS1jYy1zdHJpcGU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFGNVxcXCI7XFxufVxcbi5mYS1iZWxsLXNsYXNoOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxRjZcXFwiO1xcbn1cXG4uZmEtYmVsbC1zbGFzaC1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxRjdcXFwiO1xcbn1cXG4uZmEtdHJhc2g6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFGOFxcXCI7XFxufVxcbi5mYS1jb3B5cmlnaHQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFGOVxcXCI7XFxufVxcbi5mYS1hdDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMUZBXFxcIjtcXG59XFxuLmZhLWV5ZWRyb3BwZXI6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFGQlxcXCI7XFxufVxcbi5mYS1wYWludC1icnVzaDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMUZDXFxcIjtcXG59XFxuLmZhLWJpcnRoZGF5LWNha2U6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjFGRFxcXCI7XFxufVxcbi5mYS1hcmVhLWNoYXJ0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxRkVcXFwiO1xcbn1cXG4uZmEtcGllLWNoYXJ0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyMDBcXFwiO1xcbn1cXG4uZmEtbGluZS1jaGFydDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjAxXFxcIjtcXG59XFxuLmZhLWxhc3RmbTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjAyXFxcIjtcXG59XFxuLmZhLWxhc3RmbS1zcXVhcmU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjIwM1xcXCI7XFxufVxcbi5mYS10b2dnbGUtb2ZmOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyMDRcXFwiO1xcbn1cXG4uZmEtdG9nZ2xlLW9uOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyMDVcXFwiO1xcbn1cXG4uZmEtYmljeWNsZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjA2XFxcIjtcXG59XFxuLmZhLWJ1czpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjA3XFxcIjtcXG59XFxuLmZhLWlveGhvc3Q6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjIwOFxcXCI7XFxufVxcbi5mYS1hbmdlbGxpc3Q6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjIwOVxcXCI7XFxufVxcbi5mYS1jYzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjBBXFxcIjtcXG59XFxuLmZhLXNoZWtlbDpiZWZvcmUsXFxuLmZhLXNoZXFlbDpiZWZvcmUsXFxuLmZhLWlsczpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjBCXFxcIjtcXG59XFxuLmZhLW1lYW5wYXRoOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyMENcXFwiO1xcbn1cXG4uZmEtYnV5c2VsbGFkczpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjBEXFxcIjtcXG59XFxuLmZhLWNvbm5lY3RkZXZlbG9wOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyMEVcXFwiO1xcbn1cXG4uZmEtZGFzaGN1YmU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjIxMFxcXCI7XFxufVxcbi5mYS1mb3J1bWJlZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjExXFxcIjtcXG59XFxuLmZhLWxlYW5wdWI6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjIxMlxcXCI7XFxufVxcbi5mYS1zZWxsc3k6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjIxM1xcXCI7XFxufVxcbi5mYS1zaGlydHNpbmJ1bGs6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjIxNFxcXCI7XFxufVxcbi5mYS1zaW1wbHlidWlsdDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjE1XFxcIjtcXG59XFxuLmZhLXNreWF0bGFzOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyMTZcXFwiO1xcbn1cXG4uZmEtY2FydC1wbHVzOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyMTdcXFwiO1xcbn1cXG4uZmEtY2FydC1hcnJvdy1kb3duOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyMThcXFwiO1xcbn1cXG4uZmEtZGlhbW9uZDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjE5XFxcIjtcXG59XFxuLmZhLXNoaXA6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjIxQVxcXCI7XFxufVxcbi5mYS11c2VyLXNlY3JldDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjFCXFxcIjtcXG59XFxuLmZhLW1vdG9yY3ljbGU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjIxQ1xcXCI7XFxufVxcbi5mYS1zdHJlZXQtdmlldzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjFEXFxcIjtcXG59XFxuLmZhLWhlYXJ0YmVhdDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjFFXFxcIjtcXG59XFxuLmZhLXZlbnVzOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyMjFcXFwiO1xcbn1cXG4uZmEtbWFyczpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjIyXFxcIjtcXG59XFxuLmZhLW1lcmN1cnk6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjIyM1xcXCI7XFxufVxcbi5mYS1pbnRlcnNleDpiZWZvcmUsXFxuLmZhLXRyYW5zZ2VuZGVyOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyMjRcXFwiO1xcbn1cXG4uZmEtdHJhbnNnZW5kZXItYWx0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyMjVcXFwiO1xcbn1cXG4uZmEtdmVudXMtZG91YmxlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyMjZcXFwiO1xcbn1cXG4uZmEtbWFycy1kb3VibGU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjIyN1xcXCI7XFxufVxcbi5mYS12ZW51cy1tYXJzOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyMjhcXFwiO1xcbn1cXG4uZmEtbWFycy1zdHJva2U6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjIyOVxcXCI7XFxufVxcbi5mYS1tYXJzLXN0cm9rZS12OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyMkFcXFwiO1xcbn1cXG4uZmEtbWFycy1zdHJva2UtaDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjJCXFxcIjtcXG59XFxuLmZhLW5ldXRlcjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjJDXFxcIjtcXG59XFxuLmZhLWdlbmRlcmxlc3M6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjIyRFxcXCI7XFxufVxcbi5mYS1mYWNlYm9vay1vZmZpY2lhbDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjMwXFxcIjtcXG59XFxuLmZhLXBpbnRlcmVzdC1wOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyMzFcXFwiO1xcbn1cXG4uZmEtd2hhdHNhcHA6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjIzMlxcXCI7XFxufVxcbi5mYS1zZXJ2ZXI6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjIzM1xcXCI7XFxufVxcbi5mYS11c2VyLXBsdXM6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjIzNFxcXCI7XFxufVxcbi5mYS11c2VyLXRpbWVzOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyMzVcXFwiO1xcbn1cXG4uZmEtaG90ZWw6YmVmb3JlLFxcbi5mYS1iZWQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjIzNlxcXCI7XFxufVxcbi5mYS12aWFjb2luOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyMzdcXFwiO1xcbn1cXG4uZmEtdHJhaW46YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjIzOFxcXCI7XFxufVxcbi5mYS1zdWJ3YXk6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjIzOVxcXCI7XFxufVxcbi5mYS1tZWRpdW06YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjIzQVxcXCI7XFxufVxcbi5mYS15YzpiZWZvcmUsXFxuLmZhLXktY29tYmluYXRvcjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjNCXFxcIjtcXG59XFxuLmZhLW9wdGluLW1vbnN0ZXI6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjIzQ1xcXCI7XFxufVxcbi5mYS1vcGVuY2FydDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjNEXFxcIjtcXG59XFxuLmZhLWV4cGVkaXRlZHNzbDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjNFXFxcIjtcXG59XFxuLmZhLWJhdHRlcnktNDpiZWZvcmUsXFxuLmZhLWJhdHRlcnk6YmVmb3JlLFxcbi5mYS1iYXR0ZXJ5LWZ1bGw6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI0MFxcXCI7XFxufVxcbi5mYS1iYXR0ZXJ5LTM6YmVmb3JlLFxcbi5mYS1iYXR0ZXJ5LXRocmVlLXF1YXJ0ZXJzOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyNDFcXFwiO1xcbn1cXG4uZmEtYmF0dGVyeS0yOmJlZm9yZSxcXG4uZmEtYmF0dGVyeS1oYWxmOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyNDJcXFwiO1xcbn1cXG4uZmEtYmF0dGVyeS0xOmJlZm9yZSxcXG4uZmEtYmF0dGVyeS1xdWFydGVyOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyNDNcXFwiO1xcbn1cXG4uZmEtYmF0dGVyeS0wOmJlZm9yZSxcXG4uZmEtYmF0dGVyeS1lbXB0eTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjQ0XFxcIjtcXG59XFxuLmZhLW1vdXNlLXBvaW50ZXI6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI0NVxcXCI7XFxufVxcbi5mYS1pLWN1cnNvcjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjQ2XFxcIjtcXG59XFxuLmZhLW9iamVjdC1ncm91cDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjQ3XFxcIjtcXG59XFxuLmZhLW9iamVjdC11bmdyb3VwOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyNDhcXFwiO1xcbn1cXG4uZmEtc3RpY2t5LW5vdGU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI0OVxcXCI7XFxufVxcbi5mYS1zdGlja3ktbm90ZS1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyNEFcXFwiO1xcbn1cXG4uZmEtY2MtamNiOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyNEJcXFwiO1xcbn1cXG4uZmEtY2MtZGluZXJzLWNsdWI6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI0Q1xcXCI7XFxufVxcbi5mYS1jbG9uZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjREXFxcIjtcXG59XFxuLmZhLWJhbGFuY2Utc2NhbGU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI0RVxcXCI7XFxufVxcbi5mYS1ob3VyZ2xhc3MtbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjUwXFxcIjtcXG59XFxuLmZhLWhvdXJnbGFzcy0xOmJlZm9yZSxcXG4uZmEtaG91cmdsYXNzLXN0YXJ0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyNTFcXFwiO1xcbn1cXG4uZmEtaG91cmdsYXNzLTI6YmVmb3JlLFxcbi5mYS1ob3VyZ2xhc3MtaGFsZjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjUyXFxcIjtcXG59XFxuLmZhLWhvdXJnbGFzcy0zOmJlZm9yZSxcXG4uZmEtaG91cmdsYXNzLWVuZDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjUzXFxcIjtcXG59XFxuLmZhLWhvdXJnbGFzczpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjU0XFxcIjtcXG59XFxuLmZhLWhhbmQtZ3JhYi1vOmJlZm9yZSxcXG4uZmEtaGFuZC1yb2NrLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI1NVxcXCI7XFxufVxcbi5mYS1oYW5kLXN0b3AtbzpiZWZvcmUsXFxuLmZhLWhhbmQtcGFwZXItbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjU2XFxcIjtcXG59XFxuLmZhLWhhbmQtc2Npc3NvcnMtbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjU3XFxcIjtcXG59XFxuLmZhLWhhbmQtbGl6YXJkLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI1OFxcXCI7XFxufVxcbi5mYS1oYW5kLXNwb2NrLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI1OVxcXCI7XFxufVxcbi5mYS1oYW5kLXBvaW50ZXItbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjVBXFxcIjtcXG59XFxuLmZhLWhhbmQtcGVhY2UtbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjVCXFxcIjtcXG59XFxuLmZhLXRyYWRlbWFyazpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjVDXFxcIjtcXG59XFxuLmZhLXJlZ2lzdGVyZWQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI1RFxcXCI7XFxufVxcbi5mYS1jcmVhdGl2ZS1jb21tb25zOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyNUVcXFwiO1xcbn1cXG4uZmEtZ2c6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI2MFxcXCI7XFxufVxcbi5mYS1nZy1jaXJjbGU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI2MVxcXCI7XFxufVxcbi5mYS10cmlwYWR2aXNvcjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjYyXFxcIjtcXG59XFxuLmZhLW9kbm9rbGFzc25pa2k6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI2M1xcXCI7XFxufVxcbi5mYS1vZG5va2xhc3NuaWtpLXNxdWFyZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjY0XFxcIjtcXG59XFxuLmZhLWdldC1wb2NrZXQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI2NVxcXCI7XFxufVxcbi5mYS13aWtpcGVkaWEtdzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjY2XFxcIjtcXG59XFxuLmZhLXNhZmFyaTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjY3XFxcIjtcXG59XFxuLmZhLWNocm9tZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjY4XFxcIjtcXG59XFxuLmZhLWZpcmVmb3g6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI2OVxcXCI7XFxufVxcbi5mYS1vcGVyYTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjZBXFxcIjtcXG59XFxuLmZhLWludGVybmV0LWV4cGxvcmVyOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyNkJcXFwiO1xcbn1cXG4uZmEtdHY6YmVmb3JlLFxcbi5mYS10ZWxldmlzaW9uOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyNkNcXFwiO1xcbn1cXG4uZmEtY29udGFvOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyNkRcXFwiO1xcbn1cXG4uZmEtNTAwcHg6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI2RVxcXCI7XFxufVxcbi5mYS1hbWF6b246YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI3MFxcXCI7XFxufVxcbi5mYS1jYWxlbmRhci1wbHVzLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI3MVxcXCI7XFxufVxcbi5mYS1jYWxlbmRhci1taW51cy1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyNzJcXFwiO1xcbn1cXG4uZmEtY2FsZW5kYXItdGltZXMtbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjczXFxcIjtcXG59XFxuLmZhLWNhbGVuZGFyLWNoZWNrLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI3NFxcXCI7XFxufVxcbi5mYS1pbmR1c3RyeTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjc1XFxcIjtcXG59XFxuLmZhLW1hcC1waW46YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI3NlxcXCI7XFxufVxcbi5mYS1tYXAtc2lnbnM6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI3N1xcXCI7XFxufVxcbi5mYS1tYXAtbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjc4XFxcIjtcXG59XFxuLmZhLW1hcDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjc5XFxcIjtcXG59XFxuLmZhLWNvbW1lbnRpbmc6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI3QVxcXCI7XFxufVxcbi5mYS1jb21tZW50aW5nLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI3QlxcXCI7XFxufVxcbi5mYS1ob3V6ejpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjdDXFxcIjtcXG59XFxuLmZhLXZpbWVvOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyN0RcXFwiO1xcbn1cXG4uZmEtYmxhY2stdGllOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyN0VcXFwiO1xcbn1cXG4uZmEtZm9udGljb25zOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyODBcXFwiO1xcbn1cXG4uZmEtcmVkZGl0LWFsaWVuOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyODFcXFwiO1xcbn1cXG4uZmEtZWRnZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjgyXFxcIjtcXG59XFxuLmZhLWNyZWRpdC1jYXJkLWFsdDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjgzXFxcIjtcXG59XFxuLmZhLWNvZGllcGllOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyODRcXFwiO1xcbn1cXG4uZmEtbW9keDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjg1XFxcIjtcXG59XFxuLmZhLWZvcnQtYXdlc29tZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjg2XFxcIjtcXG59XFxuLmZhLXVzYjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjg3XFxcIjtcXG59XFxuLmZhLXByb2R1Y3QtaHVudDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjg4XFxcIjtcXG59XFxuLmZhLW1peGNsb3VkOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyODlcXFwiO1xcbn1cXG4uZmEtc2NyaWJkOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyOEFcXFwiO1xcbn1cXG4uZmEtcGF1c2UtY2lyY2xlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyOEJcXFwiO1xcbn1cXG4uZmEtcGF1c2UtY2lyY2xlLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI4Q1xcXCI7XFxufVxcbi5mYS1zdG9wLWNpcmNsZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjhEXFxcIjtcXG59XFxuLmZhLXN0b3AtY2lyY2xlLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI4RVxcXCI7XFxufVxcbi5mYS1zaG9wcGluZy1iYWc6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI5MFxcXCI7XFxufVxcbi5mYS1zaG9wcGluZy1iYXNrZXQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI5MVxcXCI7XFxufVxcbi5mYS1oYXNodGFnOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyOTJcXFwiO1xcbn1cXG4uZmEtYmx1ZXRvb3RoOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyOTNcXFwiO1xcbn1cXG4uZmEtYmx1ZXRvb3RoLWI6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI5NFxcXCI7XFxufVxcbi5mYS1wZXJjZW50OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyOTVcXFwiO1xcbn1cXG4uZmEtZ2l0bGFiOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyOTZcXFwiO1xcbn1cXG4uZmEtd3BiZWdpbm5lcjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjk3XFxcIjtcXG59XFxuLmZhLXdwZm9ybXM6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI5OFxcXCI7XFxufVxcbi5mYS1lbnZpcmE6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI5OVxcXCI7XFxufVxcbi5mYS11bml2ZXJzYWwtYWNjZXNzOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyOUFcXFwiO1xcbn1cXG4uZmEtd2hlZWxjaGFpci1hbHQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI5QlxcXCI7XFxufVxcbi5mYS1xdWVzdGlvbi1jaXJjbGUtbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMjlDXFxcIjtcXG59XFxuLmZhLWJsaW5kOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyOURcXFwiO1xcbn1cXG4uZmEtYXVkaW8tZGVzY3JpcHRpb246YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjI5RVxcXCI7XFxufVxcbi5mYS12b2x1bWUtY29udHJvbC1waG9uZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMkEwXFxcIjtcXG59XFxuLmZhLWJyYWlsbGU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjJBMVxcXCI7XFxufVxcbi5mYS1hc3Npc3RpdmUtbGlzdGVuaW5nLXN5c3RlbXM6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjJBMlxcXCI7XFxufVxcbi5mYS1hc2wtaW50ZXJwcmV0aW5nOmJlZm9yZSxcXG4uZmEtYW1lcmljYW4tc2lnbi1sYW5ndWFnZS1pbnRlcnByZXRpbmc6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjJBM1xcXCI7XFxufVxcbi5mYS1kZWFmbmVzczpiZWZvcmUsXFxuLmZhLWhhcmQtb2YtaGVhcmluZzpiZWZvcmUsXFxuLmZhLWRlYWY6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjJBNFxcXCI7XFxufVxcbi5mYS1nbGlkZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMkE1XFxcIjtcXG59XFxuLmZhLWdsaWRlLWc6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjJBNlxcXCI7XFxufVxcbi5mYS1zaWduaW5nOmJlZm9yZSxcXG4uZmEtc2lnbi1sYW5ndWFnZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMkE3XFxcIjtcXG59XFxuLmZhLWxvdy12aXNpb246YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjJBOFxcXCI7XFxufVxcbi5mYS12aWFkZW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjJBOVxcXCI7XFxufVxcbi5mYS12aWFkZW8tc3F1YXJlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyQUFcXFwiO1xcbn1cXG4uZmEtc25hcGNoYXQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjJBQlxcXCI7XFxufVxcbi5mYS1zbmFwY2hhdC1naG9zdDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMkFDXFxcIjtcXG59XFxuLmZhLXNuYXBjaGF0LXNxdWFyZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMkFEXFxcIjtcXG59XFxuLmZhLXBpZWQtcGlwZXI6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjJBRVxcXCI7XFxufVxcbi5mYS1maXJzdC1vcmRlcjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMkIwXFxcIjtcXG59XFxuLmZhLXlvYXN0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyQjFcXFwiO1xcbn1cXG4uZmEtdGhlbWVpc2xlOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyQjJcXFwiO1xcbn1cXG4uZmEtZ29vZ2xlLXBsdXMtY2lyY2xlOmJlZm9yZSxcXG4uZmEtZ29vZ2xlLXBsdXMtb2ZmaWNpYWw6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjJCM1xcXCI7XFxufVxcbi5mYS1mYTpiZWZvcmUsXFxuLmZhLWZvbnQtYXdlc29tZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMkI0XFxcIjtcXG59XFxuLmZhLWhhbmRzaGFrZS1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyQjVcXFwiO1xcbn1cXG4uZmEtZW52ZWxvcGUtb3BlbjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMkI2XFxcIjtcXG59XFxuLmZhLWVudmVsb3BlLW9wZW4tbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMkI3XFxcIjtcXG59XFxuLmZhLWxpbm9kZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMkI4XFxcIjtcXG59XFxuLmZhLWFkZHJlc3MtYm9vazpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMkI5XFxcIjtcXG59XFxuLmZhLWFkZHJlc3MtYm9vay1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyQkFcXFwiO1xcbn1cXG4uZmEtdmNhcmQ6YmVmb3JlLFxcbi5mYS1hZGRyZXNzLWNhcmQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjJCQlxcXCI7XFxufVxcbi5mYS12Y2FyZC1vOmJlZm9yZSxcXG4uZmEtYWRkcmVzcy1jYXJkLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjJCQ1xcXCI7XFxufVxcbi5mYS11c2VyLWNpcmNsZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMkJEXFxcIjtcXG59XFxuLmZhLXVzZXItY2lyY2xlLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjJCRVxcXCI7XFxufVxcbi5mYS11c2VyLW86YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjJDMFxcXCI7XFxufVxcbi5mYS1pZC1iYWRnZTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMkMxXFxcIjtcXG59XFxuLmZhLWRyaXZlcnMtbGljZW5zZTpiZWZvcmUsXFxuLmZhLWlkLWNhcmQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjJDMlxcXCI7XFxufVxcbi5mYS1kcml2ZXJzLWxpY2Vuc2UtbzpiZWZvcmUsXFxuLmZhLWlkLWNhcmQtbzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMkMzXFxcIjtcXG59XFxuLmZhLXF1b3JhOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyQzRcXFwiO1xcbn1cXG4uZmEtZnJlZS1jb2RlLWNhbXA6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjJDNVxcXCI7XFxufVxcbi5mYS10ZWxlZ3JhbTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMkM2XFxcIjtcXG59XFxuLmZhLXRoZXJtb21ldGVyLTQ6YmVmb3JlLFxcbi5mYS10aGVybW9tZXRlcjpiZWZvcmUsXFxuLmZhLXRoZXJtb21ldGVyLWZ1bGw6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjJDN1xcXCI7XFxufVxcbi5mYS10aGVybW9tZXRlci0zOmJlZm9yZSxcXG4uZmEtdGhlcm1vbWV0ZXItdGhyZWUtcXVhcnRlcnM6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjJDOFxcXCI7XFxufVxcbi5mYS10aGVybW9tZXRlci0yOmJlZm9yZSxcXG4uZmEtdGhlcm1vbWV0ZXItaGFsZjpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMkM5XFxcIjtcXG59XFxuLmZhLXRoZXJtb21ldGVyLTE6YmVmb3JlLFxcbi5mYS10aGVybW9tZXRlci1xdWFydGVyOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyQ0FcXFwiO1xcbn1cXG4uZmEtdGhlcm1vbWV0ZXItMDpiZWZvcmUsXFxuLmZhLXRoZXJtb21ldGVyLWVtcHR5OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyQ0JcXFwiO1xcbn1cXG4uZmEtc2hvd2VyOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyQ0NcXFwiO1xcbn1cXG4uZmEtYmF0aHR1YjpiZWZvcmUsXFxuLmZhLXMxNTpiZWZvcmUsXFxuLmZhLWJhdGg6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjJDRFxcXCI7XFxufVxcbi5mYS1wb2RjYXN0OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyQ0VcXFwiO1xcbn1cXG4uZmEtd2luZG93LW1heGltaXplOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyRDBcXFwiO1xcbn1cXG4uZmEtd2luZG93LW1pbmltaXplOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyRDFcXFwiO1xcbn1cXG4uZmEtd2luZG93LXJlc3RvcmU6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjJEMlxcXCI7XFxufVxcbi5mYS10aW1lcy1yZWN0YW5nbGU6YmVmb3JlLFxcbi5mYS13aW5kb3ctY2xvc2U6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjJEM1xcXCI7XFxufVxcbi5mYS10aW1lcy1yZWN0YW5nbGUtbzpiZWZvcmUsXFxuLmZhLXdpbmRvdy1jbG9zZS1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyRDRcXFwiO1xcbn1cXG4uZmEtYmFuZGNhbXA6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjJENVxcXCI7XFxufVxcbi5mYS1ncmF2OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyRDZcXFwiO1xcbn1cXG4uZmEtZXRzeTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMkQ3XFxcIjtcXG59XFxuLmZhLWltZGI6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjJEOFxcXCI7XFxufVxcbi5mYS1yYXZlbHJ5OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyRDlcXFwiO1xcbn1cXG4uZmEtZWVyY2FzdDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMkRBXFxcIjtcXG59XFxuLmZhLW1pY3JvY2hpcDpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMkRCXFxcIjtcXG59XFxuLmZhLXNub3dmbGFrZS1vOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyRENcXFwiO1xcbn1cXG4uZmEtc3VwZXJwb3dlcnM6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjJERFxcXCI7XFxufVxcbi5mYS13cGV4cGxvcmVyOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyREVcXFwiO1xcbn1cXG4uZmEtbWVldHVwOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYyRTBcXFwiO1xcbn1cXG4vKiBtYWtlcyB0aGUgZm9udCAzMyUgbGFyZ2VyIHJlbGF0aXZlIHRvIHRoZSBpY29uIGNvbnRhaW5lciAqL1xcbi5mYS1sZyB7XFxuICBmb250LXNpemU6IDEuMzMzMzMzMzNlbTtcXG4gIGxpbmUtaGVpZ2h0OiAwLjc1ZW07XFxuICB2ZXJ0aWNhbC1hbGlnbjogLTE1JTtcXG59XFxuLmZhLTJ4IHtcXG4gIGZvbnQtc2l6ZTogMmVtO1xcbn1cXG4uZmEtM3gge1xcbiAgZm9udC1zaXplOiAzZW07XFxufVxcbi5mYS00eCB7XFxuICBmb250LXNpemU6IDRlbTtcXG59XFxuLmZhLTV4IHtcXG4gIGZvbnQtc2l6ZTogNWVtO1xcbn1cXG4uZmEtdWwge1xcbiAgcGFkZGluZy1sZWZ0OiAwO1xcbiAgbWFyZ2luLWxlZnQ6IDIuMTQyODU3MTRlbTtcXG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcXG59XFxuLmZhLXVsID4gbGkge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG4uZmEtbGkge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogLTIuMTQyODU3MTRlbTtcXG4gIHdpZHRoOiAyLjE0Mjg1NzE0ZW07XFxuICB0b3A6IDAuMTQyODU3MTRlbTtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuLmZhLWxpLmZhLWxnIHtcXG4gIGxlZnQ6IC0xLjg1NzE0Mjg2ZW07XFxufVxcbi8qIEZPTlQgUEFUSFxcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXFxuQGZvbnQtZmFjZSB7XFxuICBmb250LWZhbWlseTogJ0ZvbnRBd2Vzb21lJztcXG4gIHNyYzogdXJsKFwiICsgcmVxdWlyZShcImZvbnQtYXdlc29tZS9mb250cy8vZm9udGF3ZXNvbWUtd2ViZm9udC5lb3Q/dj00LjcuMFwiKSArIFwiKTtcXG4gIHNyYzogdXJsKFwiICsgcmVxdWlyZShcImZvbnQtYXdlc29tZS9mb250cy8vZm9udGF3ZXNvbWUtd2ViZm9udC5lb3RcIikgKyBcIj8jaWVmaXgmdj00LjcuMCkgZm9ybWF0KCdlbWJlZGRlZC1vcGVudHlwZScpLCB1cmwoXCIgKyByZXF1aXJlKFwiZm9udC1hd2Vzb21lL2ZvbnRzLy9mb250YXdlc29tZS13ZWJmb250LndvZmYyP3Y9NC43LjBcIikgKyBcIikgZm9ybWF0KCd3b2ZmMicpLCB1cmwoXCIgKyByZXF1aXJlKFwiZm9udC1hd2Vzb21lL2ZvbnRzLy9mb250YXdlc29tZS13ZWJmb250LndvZmY/dj00LjcuMFwiKSArIFwiKSBmb3JtYXQoJ3dvZmYnKSwgdXJsKFwiICsgcmVxdWlyZShcImZvbnQtYXdlc29tZS9mb250cy8vZm9udGF3ZXNvbWUtd2ViZm9udC50dGY/dj00LjcuMFwiKSArIFwiKSBmb3JtYXQoJ3RydWV0eXBlJyksIHVybChcIiArIHJlcXVpcmUoXCJmb250LWF3ZXNvbWUvZm9udHMvL2ZvbnRhd2Vzb21lLXdlYmZvbnQuc3ZnP3Y9NC43LjBcIikgKyBcIiNmb250YXdlc29tZXJlZ3VsYXIpIGZvcm1hdCgnc3ZnJyk7XFxuICBmb250LXdlaWdodDogbm9ybWFsO1xcbiAgZm9udC1zdHlsZTogbm9ybWFsO1xcbn1cXG4uZmEtcm90YXRlLTkwIHtcXG4gIC1tcy1maWx0ZXI6IFxcXCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQmFzaWNJbWFnZShyb3RhdGlvbj0xKVxcXCI7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDkwZGVnKTtcXG4gIC1tcy10cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZyk7XFxuICB0cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZyk7XFxufVxcbi5mYS1yb3RhdGUtMTgwIHtcXG4gIC1tcy1maWx0ZXI6IFxcXCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQmFzaWNJbWFnZShyb3RhdGlvbj0yKVxcXCI7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDE4MGRlZyk7XFxuICAtbXMtdHJhbnNmb3JtOiByb3RhdGUoMTgwZGVnKTtcXG4gIHRyYW5zZm9ybTogcm90YXRlKDE4MGRlZyk7XFxufVxcbi5mYS1yb3RhdGUtMjcwIHtcXG4gIC1tcy1maWx0ZXI6IFxcXCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQmFzaWNJbWFnZShyb3RhdGlvbj0zKVxcXCI7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDI3MGRlZyk7XFxuICAtbXMtdHJhbnNmb3JtOiByb3RhdGUoMjcwZGVnKTtcXG4gIHRyYW5zZm9ybTogcm90YXRlKDI3MGRlZyk7XFxufVxcbi5mYS1mbGlwLWhvcml6b250YWwge1xcbiAgLW1zLWZpbHRlcjogXFxcInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5CYXNpY0ltYWdlKHJvdGF0aW9uPTAsIG1pcnJvcj0xKVxcXCI7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoLTEsIDEpO1xcbiAgLW1zLXRyYW5zZm9ybTogc2NhbGUoLTEsIDEpO1xcbiAgdHJhbnNmb3JtOiBzY2FsZSgtMSwgMSk7XFxufVxcbi5mYS1mbGlwLXZlcnRpY2FsIHtcXG4gIC1tcy1maWx0ZXI6IFxcXCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQmFzaWNJbWFnZShyb3RhdGlvbj0yLCBtaXJyb3I9MSlcXFwiO1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDEsIC0xKTtcXG4gIC1tcy10cmFuc2Zvcm06IHNjYWxlKDEsIC0xKTtcXG4gIHRyYW5zZm9ybTogc2NhbGUoMSwgLTEpO1xcbn1cXG46cm9vdCAuZmEtcm90YXRlLTkwLFxcbjpyb290IC5mYS1yb3RhdGUtMTgwLFxcbjpyb290IC5mYS1yb3RhdGUtMjcwLFxcbjpyb290IC5mYS1mbGlwLWhvcml6b250YWwsXFxuOnJvb3QgLmZhLWZsaXAtdmVydGljYWwge1xcbiAgZmlsdGVyOiBub25lO1xcbn1cXG4uZmEtc3BpbiB7XFxuICAtd2Via2l0LWFuaW1hdGlvbjogZmEtc3BpbiAycyBpbmZpbml0ZSBsaW5lYXI7XFxuICBhbmltYXRpb246IGZhLXNwaW4gMnMgaW5maW5pdGUgbGluZWFyO1xcbn1cXG4uZmEtcHVsc2Uge1xcbiAgLXdlYmtpdC1hbmltYXRpb246IGZhLXNwaW4gMXMgaW5maW5pdGUgc3RlcHMoOCk7XFxuICBhbmltYXRpb246IGZhLXNwaW4gMXMgaW5maW5pdGUgc3RlcHMoOCk7XFxufVxcbkAtd2Via2l0LWtleWZyYW1lcyBmYS1zcGluIHtcXG4gIDAlIHtcXG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcXG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XFxuICB9XFxuICAxMDAlIHtcXG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgzNTlkZWcpO1xcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzNTlkZWcpO1xcbiAgfVxcbn1cXG5Aa2V5ZnJhbWVzIGZhLXNwaW4ge1xcbiAgMCUge1xcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpO1xcbiAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcXG4gIH1cXG4gIDEwMCUge1xcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDM1OWRlZyk7XFxuICAgIHRyYW5zZm9ybTogcm90YXRlKDM1OWRlZyk7XFxuICB9XFxufVxcbi5mYS1zdGFjayB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB3aWR0aDogMmVtO1xcbiAgaGVpZ2h0OiAyZW07XFxuICBsaW5lLWhlaWdodDogMmVtO1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG59XFxuLmZhLXN0YWNrLTF4LFxcbi5mYS1zdGFjay0yeCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBsZWZ0OiAwO1xcbiAgd2lkdGg6IDEwMCU7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbi5mYS1zdGFjay0xeCB7XFxuICBsaW5lLWhlaWdodDogaW5oZXJpdDtcXG59XFxuLmZhLXN0YWNrLTJ4IHtcXG4gIGZvbnQtc2l6ZTogMmVtO1xcbn1cXG4uZmEtaW52ZXJzZSB7XFxuICBjb2xvcjogI2ZmZjtcXG59XFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2ZvbnQtYXdlc29tZS13ZWJwYWNrL34vY3NzLWxvYWRlciEuL34vZm9udC1hd2Vzb21lLXdlYnBhY2svfi9sZXNzLWxvYWRlciEuL34vZm9udC1hd2Vzb21lLXdlYnBhY2svZm9udC1hd2Vzb21lLXN0eWxlcy5sb2FkZXIuanMhLi9+L2ZvbnQtYXdlc29tZS13ZWJwYWNrL2ZvbnQtYXdlc29tZS5jb25maWcuanNcbi8vIG1vZHVsZSBpZCA9IDE2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qXHJcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcbiovXHJcbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XHJcblx0dmFyIGxpc3QgPSBbXTtcclxuXHJcblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xyXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcclxuXHRcdHZhciByZXN1bHQgPSBbXTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gdGhpc1tpXTtcclxuXHRcdFx0aWYoaXRlbVsyXSkge1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgaXRlbVsxXSArIFwifVwiKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXN1bHQucHVzaChpdGVtWzFdKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpO1xyXG5cdH07XHJcblxyXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XHJcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xyXG5cdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXHJcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcclxuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xyXG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXHJcblx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XHJcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcclxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcclxuXHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cclxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcclxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcclxuXHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XHJcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcclxuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xyXG5cdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cdHJldHVybiBsaXN0O1xyXG59O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZm9udC1hd2Vzb21lLXdlYnBhY2svfi9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1xuLy8gbW9kdWxlIGlkID0gMTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNjc0ZjUwZDI4N2E4YzQ4ZGMxOWJhNDA0ZDIwZmU3MTMuZW90XCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2ZvbnQtYXdlc29tZS9mb250cy9mb250YXdlc29tZS13ZWJmb250LmVvdD92PTQuNy4wXG4vLyBtb2R1bGUgaWQgPSAxOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI2NzRmNTBkMjg3YThjNDhkYzE5YmE0MDRkMjBmZTcxMy5lb3RcIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZm9udC1hd2Vzb21lL2ZvbnRzL2ZvbnRhd2Vzb21lLXdlYmZvbnQuZW90XG4vLyBtb2R1bGUgaWQgPSAxOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJhZjdhZTUwNWE5ZWVkNTAzZjhiOGU2OTgyMDM2ODczZS53b2ZmMlwiO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9mb250LWF3ZXNvbWUvZm9udHMvZm9udGF3ZXNvbWUtd2ViZm9udC53b2ZmMj92PTQuNy4wXG4vLyBtb2R1bGUgaWQgPSAyMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJmZWU2NmU3MTJhOGEwOGVlZjU4MDVhNDY4OTI5MzJhZC53b2ZmXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2ZvbnQtYXdlc29tZS9mb250cy9mb250YXdlc29tZS13ZWJmb250LndvZmY/dj00LjcuMFxuLy8gbW9kdWxlIGlkID0gMjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiYjA2ODcxZjI4MWZlZTZiMjQxZDYwNTgyYWU5MzY5YjkudHRmXCI7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2ZvbnQtYXdlc29tZS9mb250cy9mb250YXdlc29tZS13ZWJmb250LnR0Zj92PTQuNy4wXG4vLyBtb2R1bGUgaWQgPSAyMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI5MTJlYzY2ZDc1NzJmZjgyMTc0OTMxOTM5NjQ3MGJkZS5zdmdcIjtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZm9udC1hd2Vzb21lL2ZvbnRzL2ZvbnRhd2Vzb21lLXdlYmZvbnQuc3ZnP3Y9NC43LjBcbi8vIG1vZHVsZSBpZCA9IDIzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qXHJcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcbiovXHJcbnZhciBzdHlsZXNJbkRvbSA9IHt9LFxyXG5cdG1lbW9pemUgPSBmdW5jdGlvbihmbikge1xyXG5cdFx0dmFyIG1lbW87XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRyZXR1cm4gbWVtbztcclxuXHRcdH07XHJcblx0fSxcclxuXHRpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiAvbXNpZSBbNi05XVxcYi8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTtcclxuXHR9KSxcclxuXHRnZXRIZWFkRWxlbWVudCA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xyXG5cdH0pLFxyXG5cdHNpbmdsZXRvbkVsZW1lbnQgPSBudWxsLFxyXG5cdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XHJcblx0aWYodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XHJcblx0XHRpZih0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcclxuXHR9XHJcblxyXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xyXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxyXG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcclxuXHRpZiAodHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcclxuXHJcblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0KTtcclxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcclxuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XHJcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcclxuXHRcdH1cclxuXHRcdGlmKG5ld0xpc3QpIHtcclxuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0KTtcclxuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcclxuXHRcdH1cclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xyXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XHJcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKVxyXG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oKTtcclxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKSB7XHJcblx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdGlmKGRvbVN0eWxlKSB7XHJcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcclxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIHBhcnRzID0gW107XHJcblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCkge1xyXG5cdHZhciBzdHlsZXMgPSBbXTtcclxuXHR2YXIgbmV3U3R5bGVzID0ge307XHJcblx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcclxuXHRcdHZhciBpZCA9IGl0ZW1bMF07XHJcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcclxuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XHJcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcclxuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcclxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKVxyXG5cdFx0XHRzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XHJcblx0fVxyXG5cdHJldHVybiBzdHlsZXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCgpIHtcclxuXHR2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG5cdHZhciBoZWFkID0gZ2V0SGVhZEVsZW1lbnQoKTtcclxuXHRzdHlsZUVsZW1lbnQudHlwZSA9IFwidGV4dC9jc3NcIjtcclxuXHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0cmV0dXJuIHN0eWxlRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQoKSB7XHJcblx0dmFyIGxpbmtFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XHJcblx0dmFyIGhlYWQgPSBnZXRIZWFkRWxlbWVudCgpO1xyXG5cdGxpbmtFbGVtZW50LnJlbCA9IFwic3R5bGVzaGVldFwiO1xyXG5cdGhlYWQuYXBwZW5kQ2hpbGQobGlua0VsZW1lbnQpO1xyXG5cdHJldHVybiBsaW5rRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XHJcblx0dmFyIHN0eWxlRWxlbWVudCwgdXBkYXRlLCByZW1vdmU7XHJcblxyXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xyXG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XHJcblx0XHRzdHlsZUVsZW1lbnQgPSBzaW5nbGV0b25FbGVtZW50IHx8IChzaW5nbGV0b25FbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KCkpO1xyXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgZmFsc2UpO1xyXG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgdHJ1ZSk7XHJcblx0fSBlbHNlIGlmKG9iai5zb3VyY2VNYXAgJiZcclxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxyXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlTGlua0VsZW1lbnQoKTtcclxuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdGlmKHN0eWxlRWxlbWVudC5ocmVmKVxyXG5cdFx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGVFbGVtZW50LmhyZWYpO1xyXG5cdFx0fTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KCk7XHJcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50KTtcclxuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHVwZGF0ZShvYmopO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XHJcblx0XHRpZihuZXdPYmopIHtcclxuXHRcdFx0aWYobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZW1vdmUoKTtcclxuXHRcdH1cclxuXHR9O1xyXG59XHJcblxyXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xyXG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcclxuXHJcblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcclxuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcclxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xyXG5cdH07XHJcbn0pKCk7XHJcblxyXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlRWxlbWVudCwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XHJcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xyXG5cclxuXHRpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xyXG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZUVsZW1lbnQuY2hpbGROb2RlcztcclxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChjc3NOb2RlKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGVFbGVtZW50LCBvYmopIHtcclxuXHR2YXIgY3NzID0gb2JqLmNzcztcclxuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XHJcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XHJcblxyXG5cdGlmKG1lZGlhKSB7XHJcblx0XHRzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXHJcblx0fVxyXG5cclxuXHRpZihzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcclxuXHR9IGVsc2Uge1xyXG5cdFx0d2hpbGUoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcclxuXHRcdH1cclxuXHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUxpbmsobGlua0VsZW1lbnQsIG9iaikge1xyXG5cdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcclxuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcclxuXHJcblx0aWYoc291cmNlTWFwKSB7XHJcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxyXG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xyXG5cdH1cclxuXHJcblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XHJcblxyXG5cdHZhciBvbGRTcmMgPSBsaW5rRWxlbWVudC5ocmVmO1xyXG5cclxuXHRsaW5rRWxlbWVudC5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcclxuXHJcblx0aWYob2xkU3JjKVxyXG5cdFx0VVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xyXG59XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9mb250LWF3ZXNvbWUtd2VicGFjay9+L3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcbi8vIG1vZHVsZSBpZCA9IDI0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uL2Nzcy1sb2FkZXIvaW5kZXguanMhLi93MnVpLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi9jc3MtbG9hZGVyL2luZGV4LmpzIS4vdzJ1aS5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vY3NzLWxvYWRlci9pbmRleC5qcyEuL3cydWkuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdzJ1aS93MnVpLmNzc1xuLy8gbW9kdWxlIGlkID0gMjVcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qIHcydWkgMS40LnggKG5pZ2h0bHkpIChjKSBodHRwOi8vdzJ1aS5jb20sIHZpdG1hbGluYUBnbWFpbC5jb20gKi9cXG5AZm9udC1mYWNlIHtcXG4gIGZvbnQtZmFtaWx5OiBcXFwidzJ1aS1mb250XFxcIjtcXG4gIHNyYzogdXJsKFxcXCJkYXRhOmFwcGxpY2F0aW9uL3gtZm9udC13b2ZmO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGQwOUdSZ0FCQUFBQUFBV0lBQW9BQUFBQUNBZ0FBUUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFCUFV5OHlBQUFBOUFBQUFFTUFBQUJXUUx4TXNtTnRZWEFBQUFFNEFBQUFPZ0FBQVVyaUdSQzJaMng1WmdBQUFYUUFBQUg5QUFBQ2dMdTR2VFJvWldGa0FBQURkQUFBQURBQUFBQTJBT1lYQkdob1pXRUFBQU9rQUFBQUlBQUFBQ1FEOHdISGFHMTBlQUFBQThRQUFBQVdBQUFBSUE3ZEFBQnNiMk5oQUFBRDNBQUFBQklBQUFBU0FuZ0J1RzFoZUhBQUFBUHdBQUFBSHdBQUFDQUJGUUEyYm1GdFpRQUFCQkFBQUFFdEFBQUNJc1RRL3pKd2IzTjBBQUFGUUFBQUFFZ0FBQUJpNC83WkVIaWNZMkJrdk1NNGdZR1ZnWVBSaFRHTmdZSEJIVXAvWlpCa2FHRmdZR0pnWldiQUNnTFNYRk1ZSEQ0eWZtUm5QUEQvQUlNZTR3RUdSNkF3STBnT0FOSFpDL0lBZUp4allHQmdab0JnR1FaR0JoQndBZklZd1h3V0JnMGd6UWFrR1JtWUdCZytzdi8vRDFMd2tSRkU4ek5BMVFNQkl4dkRpQWNBZGR3R3ZnQUFlSnhGa0xGdjAxQVF4dTk3THJIZFJJbWpwbmFTMWduRWlhM0lvcUFrdGtraUVoYUVPaUNzRGtFbzhkeUJEa3l0S3BZS1ZXd3NzS0tLQVltQlJFS01MSlNGb1JKL0FHSmhZME5aR0ZnU3pyVWludlIrZCsrN1QrL2VQUUxSY2k0SUozU0ZDTElqRzhDSCtaUHdISGR3a2tTUzJQTVhQM0RHbVV4cG9vMTIzbHJ0NW5qOGZqeWVqc2M0VzB6d050bDhGZkhDS1Y1UW5hT2hGM0lKVXJVYmtHUFluU0djR0g2cmlzQnZHUWhkVlkwaVZYWFZraEpOMUpMNi82eE9JcVdrNHRSbEppVkZpU0pGU1Vyc1ordGtvcXBFZ3QvNkhiL3dqdFpvZzJnb25CeDI0QXlGSlV1TndNdmhhKy9DdkxpM3ZxMWY3ODVHc3hHdVRxZldjNU8xTi9yMitsTnJPbDM4WkhuV3BkVU1yL0NhTEtMR1ppSGw0aEkxK3phc0dCMi9EeTlHU3pmUmJ1bDRxYVdQdEhTUTBZN1NXcHhtZ25TYy9tYmxNS05wbWNPVkVoZmorNWQvOEJHZnFNbDliS3VXRllXS2FMZjhZSUFxOUlLYzVUWTdvak5nVFRjQzdpRWphTjR5UGRzd2JNKzgxdDhVaW1STG9qcTY2WWJkV3EwYnVzMzc1dDIxYndnY3cvSDZubU5VeWhJa1IvRHNUYXNYUGd4N1Z0VjhvRHg2WEl4SEU4dmw4ck1BenFsRURaN1FzZVVCUFA2dExPUUtESDVIcW9vS2ZMdkIyZ0FCYTFsZ2Zsekk2MFZ4c0xkM0lKajFZUm41L1d4OVN5eSsrTHZBcm4vSnpINGU1V0U5OFRDTGVyNXduQk5iOVdjckI1UG9IMDg0ZGc4QUFBQjRuR05nWkdCZ0FPS01zUGliOGZ3Mlh4bTRtUmhBNFB6amJCY1kvZi8vLy8xTWpJd0hnRndPQnJBMEFGY3VEUEY0bkdOZ1pHQmdQUEQvQUlNZUV3TUR3LzkvVEV3TVFCRVV3QUVBZTM0RXZIaWNZMkpnWUdDQ1lzYkpDSnB4TzRRTkFCZFRBZXNBQUFBQUFBQUFFZ0FzQUdnQWpnQytBUDRCUUFBQWVKeGpZR1JnWU9CZzBHSmdaZ0FCSmlEbUFrSUdodjlnUGdNQURZRUJUQUI0bkcyUFRXN0NNQkNGWHlCUUZhUUt0VktsN3F3dXVxa0lQd3NXSEFEMkxOaUg0QVJRRWtlT1FlSUNQVUhQMERQMEJGMzJERDFLWDhJb2l4WmJIbi96NW8xL0FBendCUS9WOEhCYngycTBjTVBzd20zU1FOZ25Qd2wzME1lemNKZjZVTGlIVjh5RSszaEF5Qk04dnpydEhrNjRoVHU4Q2JlcHZ3djc1QS9oRGg3eEtkeWwvaTNjd3hvL3duMjhlTE45WlBKaGJISzMwc2t4RFcyVE43RFd0dHliWEUyQ2NhTXRkYTV0NlBSV2JjNnFQQ1ZUNTJJVlc1T3BCYXM2VFkwcXJEbm95QVU3NTRyNWFCU0xIa1Ftd3g0UkRITCtPcTUzaHhVMEVoeVI4c2YyU3YyL3NtYUhSY2xLbFN0TUVHQjh4YmVrTDYrOUlUT05MYjBibkJsTG5Iam5sS3FqVzNGWjltU2toZlJxdmljbEt4UjE3VUFsb2g1Z1YzY1ZtR1BFR2YveEIvVXJzbDl1RG1CeUFBQUFlSnh0d1VFT2dDQU1CTUF1MHNJM1NkTUVJd0toOG44UFhwMmhRQittZjVrSUFRY2lHSUtFekZwTnI2U2o3YnM3NnhydU1xM3IyZUpzMjJYWnRQS0lXMWxhaVY2ckNCREFcXFwiKSBmb3JtYXQoXFxcIndvZmZcXFwiKTtcXG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XFxuICBmb250LXN0eWxlOiBub3JtYWw7XFxufVxcbltjbGFzc149XFxcIncydWktaWNvbi1cXFwiXTpiZWZvcmUsXFxuW2NsYXNzKj1cXFwiIHcydWktaWNvbi1cXFwiXTpiZWZvcmUge1xcbiAgZm9udC1mYW1pbHk6IFxcXCJ3MnVpLWZvbnRcXFwiO1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gIGxpbmUtaGVpZ2h0OiAxO1xcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcXG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcXG4gIHNwZWFrOiBub25lO1xcbiAgdGV4dC1kZWNvcmF0aW9uOiBpbmhlcml0O1xcbiAgdGV4dC10cmFuc2Zvcm06IG5vbmU7XFxuICB0ZXh0LXJlbmRlcmluZzogb3B0aW1pemVMZWdpYmlsaXR5O1xcbiAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7XFxuICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlO1xcbn1cXG4vKiBJY29ucyAqL1xcbi53MnVpLWljb24tY2hlY2s6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjEwMVxcXCI7XFxufVxcbi53MnVpLWljb24tY29sdW1uczpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTAyXFxcIjtcXG59XFxuLncydWktaWNvbi1jcm9zczpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTAzXFxcIjtcXG59XFxuLncydWktaWNvbi1wZW5jaWw6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjEwNFxcXCI7XFxufVxcbi53MnVpLWljb24tcGx1czpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXFxGMTA1XFxcIjtcXG59XFxuLncydWktaWNvbi1yZWxvYWQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFxcRjEwNlxcXCI7XFxufVxcbi53MnVpLWljb24tc2VhcmNoOmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcXEYxMDdcXFwiO1xcbn1cXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxcbiogLS0tIFJlc2V0ICh1c2VkIGZvciBhbGwgdzJ1aSB3ZGlnZXRlcylcXG4qIC0tLSBUaGUgcmVzZXQgaXMgbmVlZGVkIHRvIGNvZXhpc3Qgd2l0aCBvdGhlciBDU1NcXG4qIC0tLSBvbiB0aGUgc2FtZSBwYWdlIChmb3IgZXhhbXBsZSBib290c3RyYXApXFxuKi9cXG4udzJ1aS1yZXNldCB7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtbXMtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIC1vLWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgZm9udC1mYW1pbHk6IFZlcmRhbmEsIEFyaWFsLCBzYW5zLXNlcmlmO1xcbiAgZm9udC1zaXplOiAxMXB4O1xcbn1cXG4udzJ1aS1yZXNldCAqIHtcXG4gIGNvbG9yOiBkZWZhdWx0O1xcbiAgbGluZS1oZWlnaHQ6IDEwMCU7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtbXMtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIC1vLWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgbWFyZ2luOiAwcHg7XFxuICBwYWRkaW5nOiAwcHg7XFxufVxcbi53MnVpLXJlc2V0IHRhYmxlIHtcXG4gIGZvbnQtZmFtaWx5OiBWZXJkYW5hLCBBcmlhbCwgc2Fucy1zZXJpZjtcXG4gIGZvbnQtc2l6ZTogMTFweDtcXG4gIG1heC13aWR0aDogbm9uZTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLWNvbGxhcHNlOiBzZXBhcmF0ZTtcXG4gIGJvcmRlci1zcGFjaW5nOiAwO1xcbn1cXG4udzJ1aS1yZXNldCBpbnB1dCxcXG4udzJ1aS1yZXNldCB0ZXh0YXJlYSB7XFxuICB3aWR0aDogYXV0bztcXG4gIGhlaWdodDogYXV0bztcXG4gIHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTtcXG4gIHBhZGRpbmc6IDRweDtcXG59XFxuLncydWktcmVzZXQgc2VsZWN0IHtcXG4gIHBhZGRpbmc6IDFweDtcXG4gIGhlaWdodDogMjNweDtcXG59XFxuLncydWktY2VudGVyZWQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMHB4O1xcbiAgcmlnaHQ6IDBweDtcXG4gIHRvcDogNTAlO1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxuICAtbW96LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG4gIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxuICAtby10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxuICBtYXgtaGVpZ2h0OiAxMDAlO1xcbiAgbWFyZ2luOiAwcHg7XFxuICBwYWRkaW5nOiAwcHggMTBweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuLncydWktZGlzYWJsZWQsXFxuLncydWktcmVhZG9ubHkge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YxZjFmMSAhaW1wb3J0YW50O1xcbiAgY29sb3I6ICM3NzcgIWltcG9ydGFudDtcXG59XFxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcXG4qIC0tLS0gSW5wdXQgQ29udHJvbHMgLS0tLVxcbiovXFxuaW5wdXQ6bm90KFt0eXBlPWJ1dHRvbl0pLFxcbnNlbGVjdCxcXG50ZXh0YXJlYSB7XFxuICBwYWRkaW5nOiA0cHg7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjYmJiYmJiO1xcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xcbiAgY29sb3I6ICMwMDAwMDA7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xcbiAgbGluZS1oZWlnaHQ6IG5vcm1hbDtcXG59XFxuaW5wdXQ6bm90KFt0eXBlPWJ1dHRvbl0pOmZvY3VzLFxcbnNlbGVjdDpmb2N1cyxcXG50ZXh0YXJlYTpmb2N1cyB7XFxuICBvdXRsaW5lLWNvbG9yOiAjNzJiMmZmO1xcbn1cXG5pbnB1dDpub3QoW3R5cGU9YnV0dG9uXSk6ZGlzYWJsZWQsXFxuc2VsZWN0OmRpc2FibGVkLFxcbnRleHRhcmVhOmRpc2FibGVkLFxcbmlucHV0Om5vdChbdHlwZT1idXR0b25dKVtyZWFkb25seV0sXFxuc2VsZWN0W3JlYWRvbmx5XSxcXG50ZXh0YXJlYVtyZWFkb25seV0ge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YxZjFmMTtcXG4gIGNvbG9yOiAjNzc3O1xcbn1cXG4vKiBJRTktMTEgc3BlY2lmaWMgY2xhc3NlcyAqL1xcbi8qIG5lZWRzIGRvYmx1ZSA6OiAqL1xcbmlucHV0OjotbXMtY2xlYXIge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuaW5wdXQ6LW1zLWlucHV0LXBsYWNlaG9sZGVyIHtcXG4gIGNvbG9yOiAjYWFhICFpbXBvcnRhbnQ7XFxufVxcbnNlbGVjdCB7XFxuICBwYWRkaW5nOiAycHg7XFxufVxcbi8qIE9uL09mZiBzd2l0Y2ggKi9cXG5pbnB1dFt0eXBlPVxcXCJjaGVja2JveFxcXCJdLncydWktdG9nZ2xlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIG9wYWNpdHk6IDA7XFxuICB3aWR0aDogNDZweDtcXG4gIGhlaWdodDogMjJweDtcXG4gIHBhZGRpbmc6IDBweDtcXG4gIG1hcmdpbjogMHB4O1xcbiAgbWFyZ2luLWxlZnQ6IDJweDtcXG59XFxuLyogVHJhY2sgKi9cXG5pbnB1dFt0eXBlPVxcXCJjaGVja2JveFxcXCJdLncydWktdG9nZ2xlICsgZGl2IHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIHdpZHRoOiA0NnB4O1xcbiAgaGVpZ2h0OiAyMnB4O1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2JiYjtcXG4gIGJvcmRlci1yYWRpdXM6IDMwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uLWR1cmF0aW9uOiAuM3M7XFxuICAtd2Via2l0LXRyYW5zaXRpb24tcHJvcGVydHk6IGJhY2tncm91bmQtY29sb3IsIGJveC1zaGFkb3c7XFxuICAtbW96LXRyYW5zaXRpb24tZHVyYXRpb246IC4zcztcXG4gIC1tb3otdHJhbnNpdGlvbi1wcm9wZXJ0eTogYmFja2dyb3VuZC1jb2xvciwgYm94LXNoYWRvdztcXG4gIGJveC1zaGFkb3c6IGluc2V0IDAgMCAwIDBweCByZ2JhKDAsIDAsIDAsIDAuNCk7XFxuICBtYXJnaW4tbGVmdDogMnB4O1xcbn1cXG5pbnB1dFt0eXBlPVxcXCJjaGVja2JveFxcXCJdLncydWktdG9nZ2xlOmRpc2FibGVkICsgZGl2IHtcXG4gIG9wYWNpdHk6IDAuMztcXG59XFxuLyogS25vYiAqL1xcbmlucHV0W3R5cGU9XFxcImNoZWNrYm94XFxcIl0udzJ1aS10b2dnbGUgKyBkaXYgPiBkaXYge1xcbiAgZmxvYXQ6IGxlZnQ7XFxuICB3aWR0aDogMjJweDtcXG4gIGhlaWdodDogMjJweDtcXG4gIGJvcmRlci1yYWRpdXM6IGluaGVyaXQ7XFxuICBiYWNrZ3JvdW5kOiAjZjVmNWY1O1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uLWR1cmF0aW9uOiAwLjNzO1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uLXByb3BlcnR5OiB0cmFuc2Zvcm0sIGJhY2tncm91bmQtY29sb3IsIGJveC1zaGFkb3c7XFxuICAtbW96LXRyYW5zaXRpb24tZHVyYXRpb246IDAuM3M7XFxuICAtbW96LXRyYW5zaXRpb24tcHJvcGVydHk6IHRyYW5zZm9ybSwgYmFja2dyb3VuZC1jb2xvcjtcXG4gIGJveC1zaGFkb3c6IDBweCAwcHggMXB4ICMzMjMyMzIsIDAgMCAwIDFweCByZ2JhKDIwMCwgMjAwLCAyMDAsIDAuNik7XFxuICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG4gIG1hcmdpbi10b3A6IC0xcHg7XFxuICBtYXJnaW4tbGVmdDogLTFweDtcXG59XFxuLyogRGVmYXVsdCBHcmVlbiAqL1xcbmlucHV0W3R5cGU9XFxcImNoZWNrYm94XFxcIl0udzJ1aS10b2dnbGU6Y2hlY2tlZCArIGRpdiB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjMDBhMjNmO1xcbiAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDAgMTJweCAjNTRCMzUwO1xcbn1cXG5pbnB1dFt0eXBlPVxcXCJjaGVja2JveFxcXCJdLncydWktdG9nZ2xlOmNoZWNrZWQgKyBkaXYgPiBkaXYge1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDI0cHgsIDAsIDApO1xcbiAgLW1vei10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDI0cHgsIDAsIDApO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcXG4gIGJveC1zaGFkb3c6IDBweCAycHggNXB4IHJnYmEoMCwgMCwgMCwgMC4zKSwgMCAwIDAgMXB4ICMwMGEyM2Y7XFxufVxcbi8qIEJsdWUgKi9cXG5pbnB1dFt0eXBlPVxcXCJjaGVja2JveFxcXCJdLncydWktdG9nZ2xlLmJsdWU6Y2hlY2tlZCArIGRpdiB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjMjA2RkFEO1xcbiAgYm94LXNoYWRvdzogaW5zZXQgMCAwIDAgMTJweCAjMzVBNkVCO1xcbn1cXG5pbnB1dFt0eXBlPVxcXCJjaGVja2JveFxcXCJdLncydWktdG9nZ2xlLmJsdWU6Y2hlY2tlZCArIGRpdiA+IGRpdiB7XFxuICBib3gtc2hhZG93OiAwcHggMnB4IDVweCByZ2JhKDAsIDAsIDAsIDAuMyksIDBweCAwcHggMCAxcHggIzIwNmZhZDtcXG59XFxuaW5wdXRbdHlwZT1jaGVja2JveF0udzJ1aS10b2dnbGU6Zm9jdXMge1xcbiAgb3V0bGluZTogbm9uZTtcXG59XFxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcXG4qIC0tLS0gT3ZlcmxheSBhbmQgQnViYmxlIC0tLS1cXG4qL1xcbi53MnVpLW92ZXJsYXkge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbWFyZ2luLXRvcDogNnB4O1xcbiAgbWFyZ2luLWxlZnQ6IC0xN3B4O1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIHotaW5kZXg6IDEzMDA7XFxuICBjb2xvcjogaW5oZXJpdDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmYmZiZmI7XFxuICBib3JkZXI6IDNweCBzb2xpZCAjNzc3Nzc3O1xcbiAgYm94LXNoYWRvdzogMHB4IDJweCAxMHB4ICM5OTk5OTk7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICB0ZXh0LWFsaWduOiBsZWZ0O1xcbn1cXG4udzJ1aS1vdmVybGF5IHRhYmxlIHRkIHtcXG4gIGNvbG9yOiBpbmhlcml0O1xcbn1cXG4udzJ1aS1vdmVybGF5OmJlZm9yZSB7XFxuICBjb250ZW50OiBcXFwiXFxcIjtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTtcXG4gIC1tb3otdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTtcXG4gIC1tcy10cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xcbiAgLW8tdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTtcXG4gIHRyYW5zZm9ybTogcm90YXRlKC00NWRlZyk7XFxuICB3aWR0aDogMTJweDtcXG4gIGhlaWdodDogMTJweDtcXG4gIGJvcmRlcjogM3B4IHNvbGlkICM3Nzc3Nzc7XFxuICBib3JkZXItY29sb3I6IGluaGVyaXQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBpbmhlcml0O1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDUwcHg7XFxuICBtYXJnaW46IC05cHggMCAwIDMwcHg7XFxufVxcbi53MnVpLW92ZXJsYXk6YWZ0ZXIge1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgxMzVkZWcpO1xcbiAgLW1vei10cmFuc2Zvcm06IHJvdGF0ZSgxMzVkZWcpO1xcbiAgLW1zLXRyYW5zZm9ybTogcm90YXRlKDEzNWRlZyk7XFxuICAtby10cmFuc2Zvcm06IHJvdGF0ZSgxMzVkZWcpO1xcbiAgdHJhbnNmb3JtOiByb3RhdGUoMTM1ZGVnKTtcXG4gIHdpZHRoOiAxMnB4O1xcbiAgaGVpZ2h0OiAxMnB4O1xcbiAgYm9yZGVyOiAzcHggc29saWQgIzc3Nzc3NztcXG4gIGJvcmRlci1jb2xvcjogaW5oZXJpdDtcXG4gIGJhY2tncm91bmQtY29sb3I6IGluaGVyaXQ7XFxuICBib3JkZXItbGVmdDogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogNTBweDtcXG4gIG1hcmdpbjogLTdweCAwIDAgMzBweDtcXG59XFxuLncydWktb3ZlcmxheS53MnVpLW92ZXJsYXktcG9wdXAge1xcbiAgei1pbmRleDogMTcwMDtcXG59XFxuLncydWktdGFnIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDEzMDA7XFxuICBvcGFjaXR5OiAwO1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBvcGFjaXR5IDAuM3M7XFxuICAtbW96LXRyYW5zaXRpb246IG9wYWNpdHkgMC4zcztcXG4gIC1tcy10cmFuc2l0aW9uOiBvcGFjaXR5IDAuM3M7XFxuICAtby10cmFuc2l0aW9uOiBvcGFjaXR5IDAuM3M7XFxuICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuM3M7XFxufVxcbi53MnVpLXRhZyAudzJ1aS10YWctYm9keSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDYwLCA2MCwgNjAsIDAuODIpO1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgcGFkZGluZzogNHB4IDEwcHg7XFxuICBtYXJnaW4tbGVmdDogMTBweDtcXG4gIG1hcmdpbi10b3A6IDBweDtcXG4gIGNvbG9yOiAjZmZmZmZmICFpbXBvcnRhbnQ7XFxuICBib3gtc2hhZG93OiAxcHggMXB4IDNweCAjMDAwMDAwO1xcbiAgbGluZS1oZWlnaHQ6IDEwMCU7XFxuICBmb250LXNpemU6IDExcHg7XFxuICBmb250LWZhbWlseTogVmVyZGFuYSwgQXJpYWwsIHNhbnMtc2VyaWY7XFxufVxcbi53MnVpLXRhZyAudzJ1aS10YWctYm9keTpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXCI7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB3aWR0aDogMDtcXG4gIGhlaWdodDogMDtcXG4gIGJvcmRlci10b3A6IDVweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci1yaWdodDogNXB4IHNvbGlkIHJnYmEoNjAsIDYwLCA2MCwgMC44Mik7XFxuICBib3JkZXItYm90dG9tOiA1cHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBtYXJnaW46IDJweCAwIDAgLTE1cHg7XFxufVxcbi53MnVpLXRhZy53MnVpLXRhZy1wb3B1cCB7XFxuICB6LWluZGV4OiAxNzAwO1xcbn1cXG4vKlxcbiogICAgRHJvcCBkb3duIG1lbnVcXG4qL1xcbi53MnVpLW92ZXJsYXkgdGFibGUudzJ1aS1kcm9wLW1lbnUge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBjb2xvcjogIzAwMDAwMDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XFxuICBwYWRkaW5nOiA1cHggMHB4O1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbn1cXG4udzJ1aS1vdmVybGF5IHRhYmxlLncydWktZHJvcC1tZW51IHRkIHtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxufVxcbi53MnVpLW92ZXJsYXkgdGFibGUudzJ1aS1kcm9wLW1lbnUgLncydWktaXRlbS1ldmVuIHtcXG4gIGNvbG9yOiBpbmhlcml0O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcXG59XFxuLncydWktb3ZlcmxheSB0YWJsZS53MnVpLWRyb3AtbWVudSAudzJ1aS1pdGVtLW9kZCB7XFxuICBjb2xvcjogaW5oZXJpdDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmM2Y2ZmE7XFxufVxcbi53MnVpLW92ZXJsYXkgdGFibGUudzJ1aS1kcm9wLW1lbnUgLncydWktaXRlbS1ncm91cCB7XFxuICBjb2xvcjogIzQ0NDtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0VDRURGMDtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjRDNEMkQ0O1xcbn1cXG4udzJ1aS1vdmVybGF5IHRhYmxlLncydWktZHJvcC1tZW51IHRkLm1lbnUtaWNvbiB7XFxuICBwYWRkaW5nOiAzcHggMHB4IDRweCA2cHg7XFxuICB3aWR0aDogMjBweDtcXG59XFxuLncydWktb3ZlcmxheSB0YWJsZS53MnVpLWRyb3AtbWVudSB0ZC5tZW51LXRleHQge1xcbiAgcGFkZGluZzogOHB4IDEwcHggOHB4IDVweDtcXG4gIHdpZHRoOiBhdXRvO1xcbn1cXG4udzJ1aS1vdmVybGF5IHRhYmxlLncydWktZHJvcC1tZW51IHRkLm1lbnUtY291bnQge1xcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XFxufVxcbi53MnVpLW92ZXJsYXkgdGFibGUudzJ1aS1kcm9wLW1lbnUgdGQubWVudS1jb3VudCA+IHNwYW4ge1xcbiAgYm9yZGVyOiAxcHggc29saWQgIzlkYTRhZjtcXG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XFxuICB3aWR0aDogYXV0bztcXG4gIGhlaWdodDogMThweDtcXG4gIHBhZGRpbmc6IDJweCA3cHg7XFxuICBtYXJnaW46IDNweCA1cHggMHB4IDVweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlN2YwZmM7XFxuICBjb2xvcjogIzY2NzI3NDtcXG4gIGJveC1zaGFkb3c6IDAgMCAycHggI2ZmZmZmZjtcXG4gIHRleHQtc2hhZG93OiAxcHggMXB4IDFweCAjZTZlNmU2O1xcbn1cXG4udzJ1aS1vdmVybGF5IHRhYmxlLncydWktZHJvcC1tZW51IHRyOmhvdmVyIHtcXG4gIGNvbG9yOiBpbmhlcml0O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U2ZjBmZjtcXG59XFxuLncydWktb3ZlcmxheSB0YWJsZS53MnVpLWRyb3AtbWVudSB0ci53MnVpLXNlbGVjdGVkIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNiNmQ1ZmI7XFxufVxcbi53MnVpLW92ZXJsYXkgdGFibGUudzJ1aS1kcm9wLW1lbnUgdHIudzJ1aS1zZWxlY3RlZCB0ZCB7XFxuICBjb2xvcjogaW5oZXJpdDtcXG59XFxuLncydWktb3ZlcmxheSB0YWJsZS53MnVpLWRyb3AtbWVudSB0ci53MnVpLWRpc2FibGVkIHtcXG4gIG9wYWNpdHk6IDAuNDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XFxufVxcbi53MnVpLW92ZXJsYXkgdGFibGUudzJ1aS1kcm9wLW1lbnUgLncydWktaWNvbiB7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICBjb2xvcjogIzhkOTlhNztcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIHBhZGRpbmctdG9wOiA0cHg7XFxufVxcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXFxuKiAtLS0tIENvbW1vbiBDbGFzc2VzIC0tLS1cXG4qL1xcbi53MnVpLW1hcmtlciB7XFxuICBjb2xvcjogIzQ0NDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjUyLCAyNDQsIDE2MSwgMC40OCk7XFxufVxcbi53MnVpLXNwaW5uZXIge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgYmFja2dyb3VuZC1zaXplOiAxMDAlO1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IHVybChkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhnQUNBQUtJQUFQLy8vOTNkM2J1N3U1bVptUUFBL3dBQUFBQUFBQUFBQUNIL0MwNUZWRk5EUVZCRk1pNHdBd0VBQUFBaCtRUUZCUUFFQUN3Q0FBSUFmQUI4QUFBRC8waTYzUDR3eWdZcW1EanJ6YnRmbHZXTlpHbGlZWGl1Ykt1bG9pdlBMbHpSZUQ3YWwrNy9FaDV3U0ZRSWk4aEhZQmt3SFVtRDZDRDVZVEpMejQ5VVN1VllyYVJzWjd2dGFyN1huUTFLanBvejZMUkh2R2x6MzVPNG5FUFAyTzk0RW5wTmMyc2VmMU9CR0lPRk1JZC9pbkI2alNtUGRwR1NjUjE5RW9pWW1ab2JuQkNJaVo5NWs2S0dHcDZuaTR3dnF4aWxycUJmcW82c2tMVzJZQm1qRGEyOHI2RW9zcDI3dzhSb3Y4ZWt5Y3FvcVVIT0RyVFJ2WHNRd0FyQzJOTEYyOVVNMTkvTHR4TzV5SmQ0QXU0Q0s3RFVOeFBlYkc0ZTcrOG44aXYyV21RNjZCdG9ZcG8vZHZmYWNCaklrSVRCRTlER2xNdkFzT0lJWmpJVUFpeGxpdjlpeFlaVnRMVW9zNUdqd0k4Z3pjM2lDR2doeXBRcXJiRnNtZThsd1pnTFp0SWNZZk5tVEozNFdQVFVadzVvUnhkRDl3MHo2aU9wTzE1TWdUaDFCVFRKVUtvczM5akUrby9LUzY0SUZWbXNGZllUMGFVN2NhcGR5N2F0MjdkdzQ4cWRTN2V1M2J0NDgwSTAydlViWDJGL0p4WU5ESW13NEdpR0UvUDlxYmh4VnBXT0kvZUZLdGxOWmJXWHV6bG1HMW12NTgrZ1E0c2VUYnEwNmRPb1U2dkdRWkp5MEZObE1jVitjemhRN1NRbVlkOGVNaFBzNUJ4VmRmY0dFdFYzYnVEQlhRK2ZVUnh4OG9NNk1UOVArRmg2ZE9ySDJ6YXZjMTN1OUpYVkpiNTIwVnA4ZHZDNzZ3WE11TjVTZXBtLzFXdGtFWkhEZWZuelI5UXZzZDkrL3dpOCtlbjNYMG50WVZjU2RBRStVTjR6czdsbjI0Q2FMYWdnaEl4QmFHRjhrRkdvSVlWK1liZ2hoODQxR0l5STVJQ0lGb2tsSnNpZ2lobWltSk9MRWJMWUlZd3hTZ2lnaVorOGwyS0IrTWw0b28vdzhkaWpqY3JvdUNPUkt3SXBuSklqTW5ra2tzYWxOZVI0ZnVCSW01VUVZSW1oSWxzR0NlV05OSnBocEpkU1Rsa21sMWpXZU9ZNlRuYVJwcHBVY3RjbUZXOW1HU2FaY2VZb3BIOXpram5qVWU1OWlSNXBkYXBXYUdxSG9wYm9hWXVhMXFpamU2N0dKNkN1SkFBQUlma0VCUVVBQkFBc0NnQUNBRmNBTUFBQUEvOUl1dHorTUw1QWc3dzQ2ejByNVdBb1NwNDNuaWhYVm1ucmR1c3J2K3MzMzJkdDRUeW85eU9CVUpENm9RQklRR3M0UkJsSHlTU0t5Y3pWVHRIb2lkb2NQVU5aYVpBcjlGNUZZYkdJM1BXZFFXbjFtaTM2YnVMS0ZKdm9qc0hqTG5zaGRobDRMNElxYnhxR2g0Z2FoQko0ZVkxa2lYNkxnRE43ZkJtUUVKSTRqaGllRDR5aGRKMktrWms4b2lTcUVhYXRxQmVrRExLenRCRzJDcUJBQ3E0d0pSaTRQWnUxc0EyK3Y4QzZFSmV4ckJBRDFBT0J6c0xFMGcvVjFVdllSOXNOM2VSNmxUTGk0K1RsWTF3ejZRenI4dTF0NkZrWTh2TnpaVHhhR2ZuNm1Ba0VHRkRnTDRMckRESkR5RTRoRUliZEhCNkVTRTFpRDRvVkxmTEFxUEVUSXNPT0R3bUNESmx2NU1TR0prbGFTNmtoQVFBaCtRUUZCUUFFQUN3ZkFBSUFWd0F3QUFBRC8waTYzUDVMU0FHcnZUanJOdWYrWUtoMW5XaWVJdW1oYkZ1cGtpdlBCRXpSK0dubmZMajNvb0Z3d1BxZEFzaEFhemhFR1VYSkpJckoxTUdPVWFtSjJqUTlRVmx0a0N2MFhxRmg1SW5jQlgwMWFmR1luRHFENDB1Mno3NkpLL04wYm54d2VDNXNSQjl2RjM0emg0Z2pnNHVNalhvYmloV1RsSlVabHc5K2Z6U0hscEdZaFRtaW5LU2VwcWViRjUwTm1UeW9yNnF4ckxPMEw3WUxuMEFMdWhDd0NySkFqclVxa3JqR3JzSWtHTVcvQk1FUEpjcGhMZ0RhQUJqVUtORWgyOXZkZ1RMTElPTHBGODBzNXhycDhPUlZPTmdpOFBjWjh6bFJKdmY0MHRMOC9RUFlRK0JBZ2pnTXhrUElRNkU2aGdrZGpvTklRK0pFaWpNc2FzTlkwUlFpeDRnS1ArWUlLWEtrd0pJRkY2Sk11ZEZFQWdBaCtRUUZCUUFFQUN3OEFBSUFRZ0JDQUFBRC9rZzBQUG93eWttcm5hM2R6WHZObVNlT0ZxaVJhR295YVR1dWppdHY4R3gvNjYxSHRTdjhndDJqbHdJQ2hZdGMwWGpjRVVuTXB1NHBpa3B2MUk3MWFzdHl0a0doOXdKR0prM1FyWGxjS2ErVldqZVNQWkhQNFJ0dytJMk9XODFEZUJaMmZDQitVWUNCZldScWlRcDBDbnFPajRKMWpaT1FrcE9VSVl4L200b3hnNWN1QWFZQk80UW9wNmM2cEt1c3JEZXZJckcycmt3cHRydXBYQjY3dktBYndNSENGY1RGeGhMSXQ4b1V6TEhPRTlDeTBoSFVyZGJYMktqYUVOemV5OURoMDhqa3o4VG54ODNxNjZidDhQSHk4L1QxOXZmNCtmcjZBUDMrL3dBREFqUW1zS0RCZjZBT0tqUzRhYUhEZ1pNZVNnVFFjS0xEaEJZUEVzd29BMUJCQWdBaCtRUUZCUUFFQUN4T0FBb0FNQUJYQUFBRDdFaTZ2UE9qeVVrcmhkRHFmWEhtNE9aOVlTbU5wS21pcVZxeWtidXlzZ3ZYNW8ySGNMeHp1cDhvS0xRUWl4MFVjcWhjVm81T1JpK2FIRkVuMDJzRGV1V3FCR0NCa2JZTGg1L05tbmxkeGFqWDdMYlBCSytQSDdLNm5hcmZPL3QrU0lCd2ZJTm1VWWFIZjRsZ2hZeU9obHFKV2dxRGxBdUFsd3lCbXBWbm5hQ2hvcU9rcGFhbnFLbXFLZ0d0cnErd3NiQTFzclcycnk2M3VyYXN1NzY0SnIvQ0FiM0R1N25HdDdUSnNxdk96OURSMHRQVTFUSUEyQUNsMmR5aTNOL2FuZURmNHVQa2xPYmo2T25nV3V6dDd1L2Q4ZkxZOVBYcjllRlgrdnY4K1BuWWxVc1hpcUMzYzZQbVVVZ0FBQ0g1QkFVRkFBUUFMRTRBSHdBd0FGY0FBQVBwU0xyYy9tN0lBYXU5YlU3TU85R2dKMFpnT0k1bGVvcXB1bUt0KzFheFBKTzFkdE81dnVNOXlpOFRsQXlCdlNNeHFFUzJtbzhjRkZLYjhreldxekRMN1hxLzRMQjRUQzZiejF5QmVzMXV1OXV6dDN6T1h0SHY4eE4rRHgveC93SjZnSHQyZzNSeGhtOW9pNHlOam8rUWtaS1RDZ0dXQVdhWG1tT2FuWmhnbnAyZ29hSmRwS0dtcDU1Y3FxdXNyWnV2c0pheXM2bXpuMW00dVJBQXZnQXZ1QlcvdjhHd3ZjVEZ4cWZJeWNBM3pBL095dENsMHRQUE83SEQyR0xZdnQ3ZFlkL1pYOTlqNStQaTZ0UGg2K2J2WHVUdXp1anhYZW5zOWZyN1lQbis3ZWdSSTlQUEhyZ3BDUUFBSWZrRUJRVUFCQUFzUEFBOEFFSUFRZ0FBQS9sSXV0eitVSTFKcTcwMjZoMngveFVuY21ENWplaGpybG5xU216OHZyRTh1N1Y1ei9tNS84Q2djRWdzR28vSXBITEpiRHFmMEtoMFNoQllCZFRYZFpzZGJiL1lyZ2I4RlVmSVlMTURUVll6MkcxM0ZWNld6K2xYK3gwZmR2UHpkbjlXZW9KR0FZY0JOMzlFaUlpS2VFT05qVHQwa1pLSFFHeVdsNG1aZFJFQW9RQWNuSmhCWEJxaW9xU2xUNnFxRzZXbVRLK3JzYTFOdGFHc3VFdTZvN3lYdWJvanNyVEVJc2EreU1tOVNMOG9zcDNQek0yY1N0RFJ5a2ZaMnRmVXRTL2JSZDNld3R6VjVwTG80ZUxqUXVVcDcwSHg4dDlFOWVxTzVPa3U1L3p0ZGt4aTkwcVBnM3gyRU1wUjZJYWhHb2NQQ3hwOEFHdGlnd1FBSWZrRUJRVUFCQUFzSHdCT0FGY0FNQUFBQS85SXV0eitNTW8zNnBnNDY4MkovVjBvanMxblhtU3FTcWU1dnJEWHVuRWR6cTJ0YTNpKy81RGVDVWgwQ0duRjVCR1VMQzR0VGVVVEZRVk9OWUFzNENmb0NrWlBqRmFyODNyQng4bDRYRE9iU1VMMU90dDJkMVU0eVp3Y3M1L3hTQkI3ZEJNQmhnRVlmbmNyVEJHRFc0V0hob21LVVkrUUVaS1NFNHFMUlk4WW1vZVVma21Yb2FLSW5KMmZneG1wcXF1bFFLQ3ZxUnFzUDdXb29yaVZPN3U4bWh1NU5hY2FzTVRGTU1IQ204cXp6TTJSdmREUks5UFV3eHpMS2RuYXo5eS9LdDhTeVIzZEl1WG10eUhwSE1jZDUranZXSzRpOC9UWEhmZjQ3U0xqUXZRTGtVK2ZHMjlyVWhRMDZJa0VHNFgvUnJ5cDRtd1V4U2dMTC83SXFGRVRCOGVPTlQ2Q2hDRnk1SXRxSm9tRVM2a2dBUUFoK1FRRkJRQUVBQ3dLQUU0QVZ3QXdBQUFELzBpNjNBNFF1RW1ydlRpM3lMWC80TWVOVW1pZUlUbWliRXVwcEN1M3NEcmZZRzNqUEtiSHZlRGt0eElhRjhUT2NabU1MSTlOeUJQYW5GS0pwNEEySUJ4NEI1bGtkcXZ0ZmI4K0hZcE14cDNQbDFxTHZYVy92V2tsaTE2LzNkRnhUaTU4WlJjQ2h3SVlmM2hXQklSY2hvaUhpb3RXajVBVmtwSVhpNHhManhpYWlKUi9UNWVob29tY25aK0VHYW1xcTZWR29LK3BHcXhDdGFpaXVKVkJ1N3lhSHJrNHB4cXd4TVV6d2NLYnlyUE16Wkc5ME5HRHJoL0pIOHQ3MmRxM0lOMWpmQ0hiM0wvZTVlYmg0dWtteHlEbjZPOGcwOGp0N3RmMjZ5YnorbS9XOUdOWHpVUTlmbTFRL0FQb1NXQWhoZmtNQW1wRWJSaEZLd3N2Q3Ntb3NSSUh4NDQ0UG9LY0lYS2tqSUltalR6amtRQUFJZmtFQlFVQUJBQXNBZ0E4QUVJQVFnQUFBL1ZJQk56KzhLbEpxNzJZeHMxZC91RFZqVnhvZ21RcW5heWx2a0FyVDdBNjMvVjQ3L20yLzhDZ2NFZ3NHby9JcEhMSmJEcWYwS2gwU2owRnJvR3FETXZWbXJqZ3JEY1RCbzh2NWZDWmtpNnZDVzMzT3E0KzA4MzJPL2F0MytmN2ZJQ0JkenNDaGdKR2VvV0hoa1YwUDR5TVJHMUJrWWVPZUVDV2w1aFhRNXVOSUFPakExS2dpS0trbzFDbnFCbXFxaytuSWJDa1RxMjB0YVZOczdtMXZLQW51cnRMdmI2d1RNYkhzVXE0d3JyRndTekR6Y3JMdGtuVzE2dEkydHZFUnQ2cHYwZmk0OGpoNWgvVTZaczc3RVhTTi9CRThqUDA5WkZBK1BtaFAveHZKZ0FNU0dCZ1FJTnZFSzVSZUlaaFEzUUVNVEJMQUFBaCtRUUZCUUFFQUN3Q0FCOEFNQUJYQUFBRDUwaTZEQTRzeWtscmU4N3FUYkhuNE9hTllTbU5xS21pcVZxeXJjdkJzYXpScEgzam1DN3lEOThPQ0JGMmlFWGpCS21zQUpzV0hEUUttdzU3MWw4bXkrMTZ2K0N3ZUV3dW04K2hnSHJOYnJ2YnRyZDh6bmJSNzNNVmZnODM4ZjhCZW9CN2RvTjBjWVp2YUl1TWpZNlBrSkdTazJnQ2xnSm1sNXBqbXAyWVlKNmRYNkdlWGFTaFdhZW9WcXFsVTYyaXI3Q1hxYk9XckxhZnNyTmN0aklEd0FNV3ZDN0J3Uld0TnNiR0ZLYyt5OGZOc1RyUTBkSzNRdFhBWXRyQ1lkM2VZTjNjNDkvYTVOVmo1ZUxuNXUzczZlN3g4TkRvOWZiTCtNenk5L1Q1K3R2VXpkTjNacCtHQkFBaCtRUUpCUUFFQUN3Q0FBSUFmQUI4QUFBRC8waTYzUDR3eWttcnZUanJ6YnYvWUNpT1pHbWVhS3F1Yk91K2NDelBkQXJjUUsyVE9MNy9ubDRQU013SWZjVWs1WWhVT2gzTTVuTktpT2FvV0N1V3F0MU91MTZsOVJwT2dzdkVNZG9jWGJPWjduUTdEanpUYWVxN3pxNlA1ZnN6ZklBU0FZVUJJWUtERG9hR0lJbUtDNHlTSDNPUUVKS1lIWldXaTVpWkcwZWNFWjZlSEVPaW82U2ZxQ2FxcGF5dHJwT3dKTEt6dENPMmpMaTF1b1c4SXI2L3dDSEN4TUcyeDdtdXlzdWt6YjIzME02SDA5YlgyTm5hMjl6ZDN0L2c0Y0FDNU9YbTUram4zT25zN2ViYTd2SHQyZkwxNnRqMitRTDArdlh3L2U3V0FVd25ycURCZ3dnVEtseklzS0hEaDJnR1NCd0FjY0hFaXhBdmFxVFljRkNqUm9ZZU55b002UkVoeVpJSFQ0bzBxUElqeTVZVFRjS1VtSElteDVjd0U4NWNtSlBuU1lja0s2NnNTQUFqMGFOSWt5cGR5clNwMDZkUW8wcWRTcldxMWF0WXMycmR5cldyMTY5Z3d4WkpBQUE3KTtcXG59XFxuLyogY29tbW9uIGljb25zICovXFxuLncydWktaWNvbiB7XFxuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgaGVpZ2h0OiAxNnB4O1xcbiAgd2lkdGg6IDE2cHg7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgbWFyZ2luOiAycHggMnB4O1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbn1cXG4udzJ1aS1pY29uLmljb24tc2VhcmNoLFxcbi53MnVpLWljb24uaWNvbi1zZWFyY2gtZG93biB7XFxuICBiYWNrZ3JvdW5kOiB1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFDWUFBQUFnQ0FZQUFBQitaQXF6QUFBQ3VFbEVRVlJZdzlXWFNXaFRRUmpIUjBVS0xxaEZhVjBPVWloNjhHQU9XanlKS3lwQ3BBb1Y4YUlpaW9JSUNpS2lCMUdNdEUzTVltcnkybW9YRHoxVUR4N3NVWEhCaFFwU2FSVnhyWXBXY01POWF2eC84QUpoL0Niem5Ia3hkZUIzQ2QvODU4OWt2dVVKa1djZGpDVEhnaFVnQWk2REorQVZlQXF1Z1NRSWdnbmlYeXdjTkJKc0I3MGc0NEVIWUJjWVhVaFRNOEVGajRaa2JvS3FRcGlxQXYyR3BySzhvNy9mNzV0NnBqbjBNM2dOUG1yaTN2dHljeEFaQTY0cUR2a0oya0VOcUFRVFFRV29CZzc0cXRoM0I0eTNOYlpESVg0ZnpOZnNuUXR1Sy9ZZnNqRlZDaDRwTXEzQ28wWTV1TVZvVUdrcHk4YUZUNXhhZVN6VkVvNDViWGRCdDRMZWFMcTFrMFJYTVlKZmREZkZtQXVBRDR6V2x0eTRVTnlaRWttMTlNVWIyek13OFNmcDF1K0lXU3JjSWltTG5URzgvU2lqZFU2T081cG9ERVNkdGdIWlZCelVIbS9hbWhXN3pvaXRNVFMybU5IcUFTUGsyRkRDQ2NMTVlLNnArb2JtdWx5eGZpWUxBNGJHS0Z2ZlNuclV2a3E1K0xwazh6NHlSSDhyM2wvWDRXaXFKRmZzcFNRMENHWVpHcHNNbmt0NkwraDMxWjc2aHBNZGVPd1BRN0gwTkZuc3NTVDBDOHd4TkRhREtiNmtQMDYxNTBnc0hhaE5ObFZ6WWhlWmQ3SEowQmlYNFZSR2hwbUloUml4S3laaWxNMk0xbW5UQXJ0SVViVTMvcVZPMEgwR3ZtUTRDWTRDM1lvcFlZbEhqWGxnZ05HNFIzM1lwaTJ0VnR3YVBlVGROTWtxOXBWUVpRZHZGUHMzMnpieDRhQWp6eGhEUmZJQVdBZVdnN1ZncnpzWTVodC96b05KdHViS3dBM0xJVEdqU0tSeVczTlR3YVVDbUtPU01kM1dISDBaSlJRWlprT1AxekZLWjNDQisrNCthUTZrRWVrc1dBYjJhMkw3cUR2NDlTMVE2VDcyTU9nRVhhNlJHRmhQM3dwUy9CNk5PV3BSczBVeEZnN2VxVEZIalgxaHNjeHRBei95bUV1SVlpMGN2Z0Y4WTB3NVJvM2RaM00xYm9Ka1RhWEVVRmx1ZzZmc2RzUlFXelRqMGNleStOL1hiMnNqNWxUaDJNNk9BQUFBQUVsRlRrU3VRbUNDKSBuby1yZXBlYXQgY2VudGVyICFpbXBvcnRhbnQ7XFxuICBiYWNrZ3JvdW5kLXNpemU6IDE0cHggMTJweCAhaW1wb3J0YW50O1xcbiAgb3BhY2l0eTogMC45O1xcbn1cXG4udzJ1aS1pY29uLmljb24tZm9sZGVyIHtcXG4gIGJhY2tncm91bmQ6IHVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJBQUFBQVFDQVlBQUFBZjgvOWhBQUFBQkdkQlRVRUFBSy9JTndXSzZRQUFBQmwwUlZoMFUyOW1kSGRoY21VQVFXUnZZbVVnU1cxaFoyVlNaV0ZrZVhISlpUd0FBQUdyU1VSQlZEakx4Wk83aWhSQkZJYS82dTBaVzdHSEJVVjBVUVFUWnpkM1FkaE1ReE9md01SWEVBTkJNTlFYME16QXpGQXdFekh3QVJiTkZEZHdFZDMxTWozWDdhNnVPcjlCdHpOallqS0JKNm5pY1A3djNLcWNKRmF4aEJWdFpVQUs4T0hsbGQyc3Q3WGwzREpQVk9OUCt6RVVWNEhxTDVVRFlIcjV4dnVRQWpnbC9RczdUenZPT1ZBanhqbEMrZVBTd2U2RGZiVmVnTFZ1VDRyMTRlVHI2enZBOHhTQW9CTHp4NnB2ajRsK0RaSWV6dVZrRzlmWTJIN1lSUUlNWklCd3ljbXpIMS9zM0Y4QWFwZklQTkYza1FrNytrdzlQV0J5K0laT2RnNVVnM21rQUFUeS90MHVzb3Z6R2VDVVdUakN6MEIrU2owZWtmZHZrWjNhYkJ2K1U0R2FDdEoxaUVtNkFOUUo2ZkV6ckcvZW5nY0t3L3dYUXZFS3hTRUtReFJHS0U3SXp0K0RTaXdCSk1VU203MXJndU1ZaFFLckJ5Z09JUlN0ZjRUaUZGUkJ2YlJHS2lRTFdQMjl5UlNIS0JUdGZkQm1IczBCVXBndnRnRjR5UkZSK05VS2kwWFpjWWpDZUNHMnNta3pMQUhrYlJCbVAwL1VrMjZPNVluVUFjdEJwMUdzQUkrUzVuUkpKSmFsNUsxYUFNcnEwZDZUbTl1STZ6anlmNzVkQWU2dHgvU3NXZUQvL28yL0FiNklIMy9oMjVwT0FBQUFBRWxGVGtTdVFtQ0MpIG5vLXJlcGVhdCBjZW50ZXIgIWltcG9ydGFudDtcXG59XFxuLncydWktaWNvbi5pY29uLXBhZ2Uge1xcbiAgYmFja2dyb3VuZDogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQkFBQUFBUUNBWUFBQUFmOC85aEFBQUFCR2RCVFVFQUFLL0lOd1dLNlFBQUFCbDBSVmgwVTI5bWRIZGhjbVVBUVdSdlltVWdTVzFoWjJWU1pXRmtlWEhKWlR3QUFBSU5TVVJCVkJnWkJjRy9yNTV6R0FmZzYvNCt6M3ZhMDFOSGxZZ3pFZkU3TWRDSUdJU0ZnUzRHazhWaVl5TTJNZGxza280R1NmOERvMEZMUkNJa2doaFlKQTNhVkJ0RXozblA4OXdmMTFWSnZQRGVwZGQzOTArOE5zbzVuRVNCUW9xMHBmdlhtOWZ6V2YxOTQ1M0xGODV2QVNxSmx6NzQ4dkluYjUxN2RJdzZFeVlCSUlHNDl1K3hpOS9jOU1kdlIvLzk5TVBQWjcrNGNQNElaaGhUUGJ3elQyZCt2R29hVlJScDFyUmxpVnZIcStjZnZNM1REODIrN211bjBvL2NlTzdOVCsvNC9LT1hqd1pVMWVrazA4NDBiQVp6TVEybW9vcWgwQTcyZDV4LzZzQjlENXpZbmZmM1BvWUJvV0JnRktQS3FES3FqQ3BqS3IvL2RjdTlwNDg5ZHJhODhjeWRwczMwS3N3QUNmTkVLYW5TYXhobG50ako4TXYxMlBhaWUrdlorMCtvZVN3d1EwSXcxeEFSMUNpRk5Ka0dPNHd1M1pNWTFBQXpCSTBxU2dtQ05Kc0pVRU90SlNNYUNUQkRMeVEwQ2tuQUdPZ3lUeUZGaUxJMmF3TXpkRWNTUWdTQUFLVlVtQWVOa3h2V0pXQ0d0VmxEbWdZUTBHRnRnZzRwTnRPd2JCY3dReS9SaWZlLzJ5clJSVkkwcVlDRUJseThaK1A0cU1FTXk3SmFWdzcyTjU2OGUraXdoclhvRUNRa2ZIOTFrWTdqd3dYTXNCeDFMOTNacnVxcks2dXVpQUlkU25USUtLUExQRmN2YXk4d3cvSGgrdWZlem5UWHU0OXY5NUlNb1FHMzc4NGdZWGRUcXZSbXFuL1dwYS9BREZYNThNVzNMNzFTVlU5RVRnRUlRUVFJT096dWIrZmhJdndQUkRnZVZqV0RhaElBQUFBQVNVVk9SSzVDWUlJPSkgbm8tcmVwZWF0IGNlbnRlciAhaW1wb3J0YW50O1xcbn1cXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxcbiogLS0tLSBMb2NraW5nIHBvcnRpb24gb2YgdGhlIHNjcmVlbiAoaW4gZ3JpZCwgZm9ybSwgbGF5b3V0KVxcbiovXFxuLncydWktbG9jayB7XFxuICBkaXNwbGF5OiBub25lO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogMTQwMDtcXG4gIHRvcDogMHB4O1xcbiAgbGVmdDogMHB4O1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBvcGFjaXR5OiAwLjE1O1xcbiAgZmlsdGVyOiBhbHBoYShvcGFjaXR5PTE1KTtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzMzMzMzM7XFxufVxcbi53MnVpLWxvY2stbXNnIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB6LWluZGV4OiAxNDAwO1xcbiAgdG9wOiA0NSU7XFxuICBsZWZ0OiA1MCU7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKC01MCUpO1xcbiAgLW1vei10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSkgdHJhbnNsYXRlWSgtNTAlKTtcXG4gIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSkgdHJhbnNsYXRlWSgtNTAlKTtcXG4gIC1vLXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKC01MCUpO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSk7XFxuICB3aWR0aDogMjAwcHg7XFxuICBoZWlnaHQ6IDgwcHg7XFxuICBwYWRkaW5nOiAzMHB4IDhweDtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBmb250LXNpemU6IDEzcHg7XFxuICBmb250LWZhbWlseTogVmVyZGFuYSwgQXJpYWwsIHNhbnMtc2VyaWY7XFxuICBvcGFjaXR5OiAwLjg7XFxuICBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9ODApO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzU1NTU1NTtcXG4gIGNvbG9yOiAjZmZmZmZmO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xcbiAgYm9yZGVyOiAycHggc29saWQgIzQ0NDQ0NDtcXG59XFxuLncydWktbG9jay1tc2cgLncydWktc3Bpbm5lciB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB3aWR0aDogMjRweDtcXG4gIGhlaWdodDogMjRweDtcXG4gIG1hcmdpbjogLTNweCA4cHggLTdweCAtMTBweDtcXG59XFxuYnV0dG9uLncydWktYnRuIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcXG4gIG1hcmdpbjogMHB4IDVweDtcXG4gIHBhZGRpbmc6IDdweCAxMnB4IDZweCAxMnB4ICFpbXBvcnRhbnQ7XFxuICBjb2xvcjogIzY2NjtcXG4gIGZvbnQtc2l6ZTogMTJweCAhaW1wb3J0YW50O1xcbiAgYm9yZGVyOiAxcHggc29saWQgI0I2QjZCNjtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KCNmZmZmZmYgMCUsICNlN2U3ZTcgMTAwJSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtbW96LWxpbmVhci1ncmFkaWVudCgjZmZmZmZmIDAlLCAjZTdlN2U3IDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudCgjZmZmZmZmIDAlLCAjZTdlN2U3IDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KCNmZmZmZmYgMCUsICNlN2U3ZTcgMTAwJSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoI2ZmZmZmZiAwJSwgI2U3ZTdlNyAxMDAlKTtcXG4gIGZpbHRlcjogcHJvZ2lkOmR4aW1hZ2V0cmFuc2Zvcm0ubWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9JyNmZmU3ZTdlNycsIGVuZENvbG9yc3RyPScjZmZmZmZmZmYnLCBHcmFkaWVudFR5cGU9MCk7XFxuICBvdXRsaW5lOiBub25lO1xcbiAgYm94LXNoYWRvdzogMHB4IDFweCAwcHggd2hpdGU7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxuICBtaW4td2lkdGg6IDc1cHg7XFxuICBsaW5lLWhlaWdodDogMTAwJSAhaW1wb3J0YW50O1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1vLXVzZXItc2VsZWN0OiBub25lO1xcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsIDAsIDAsIDApO1xcbn1cXG5idXR0b24udzJ1aS1idG46aG92ZXIge1xcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2JiYjtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KCNmN2Y3ZjcgMCUsICNkZGRkZGQgMTAwJSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtbW96LWxpbmVhci1ncmFkaWVudCgjZjdmN2Y3IDAlLCAjZGRkZGRkIDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudCgjZjdmN2Y3IDAlLCAjZGRkZGRkIDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KCNmN2Y3ZjcgMCUsICNkZGRkZGQgMTAwJSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoI2Y3ZjdmNyAwJSwgI2RkZGRkZCAxMDAlKTtcXG4gIGZpbHRlcjogcHJvZ2lkOmR4aW1hZ2V0cmFuc2Zvcm0ubWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9JyNmZmRkZGRkZCcsIGVuZENvbG9yc3RyPScjZmZmN2Y3ZjcnLCBHcmFkaWVudFR5cGU9MCk7XFxuICBjb2xvcjogIzMzMztcXG59XFxuYnV0dG9uLncydWktYnRuOmFjdGl2ZSxcXG5idXR0b24udzJ1aS1idG4uY2xpY2tlZCB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjOTk5O1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQoI2NjY2NjYyAwJSwgI2NjY2NjYyAxMDAlKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KCNjY2NjY2MgMCUsICNjY2NjY2MgMTAwJSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KCNjY2NjY2MgMCUsICNjY2NjY2MgMTAwJSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQoI2NjY2NjYyAwJSwgI2NjY2NjYyAxMDAlKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgjY2NjY2NjIDAlLCAjY2NjY2NjIDEwMCUpO1xcbiAgZmlsdGVyOiBwcm9naWQ6ZHhpbWFnZXRyYW5zZm9ybS5taWNyb3NvZnQuZ3JhZGllbnQoc3RhcnRDb2xvcnN0cj0nI2ZmY2NjY2NjJywgZW5kQ29sb3JzdHI9JyNmZmNjY2NjYycsIEdyYWRpZW50VHlwZT0wKTtcXG4gIHRleHQtc2hhZG93OiAxcHggMXB4IDFweCAjZWVlO1xcbn1cXG5idXR0b24udzJ1aS1idG46ZGlzYWJsZWQge1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2JiYiAhaW1wb3J0YW50O1xcbiAgYmFja2dyb3VuZDogI2Y3ZjdmNyAhaW1wb3J0YW50O1xcbiAgY29sb3I6ICNiZGJjYmMgIWltcG9ydGFudDtcXG4gIHRleHQtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7XFxufVxcbmJ1dHRvbi53MnVpLWJ0bi1ibHVlIHtcXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KCM4MGMwZjcgMCUsICMyNjlkZjAgMTAwJSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtbW96LWxpbmVhci1ncmFkaWVudCgjODBjMGY3IDAlLCAjMjY5ZGYwIDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudCgjODBjMGY3IDAlLCAjMjY5ZGYwIDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KCM4MGMwZjcgMCUsICMyNjlkZjAgMTAwJSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoIzgwYzBmNyAwJSwgIzI2OWRmMCAxMDAlKTtcXG4gIGZpbHRlcjogcHJvZ2lkOmR4aW1hZ2V0cmFuc2Zvcm0ubWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9JyNmZjI2OWRmMCcsIGVuZENvbG9yc3RyPScjZmY4MGMwZjcnLCBHcmFkaWVudFR5cGU9MCk7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjNTM4QUI3O1xcbiAgdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4ICM3Nzc3Nzc7XFxufVxcbmJ1dHRvbi53MnVpLWJ0bi1ibHVlOmhvdmVyIHtcXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KCM3M2I2ZjAgMCUsICMyMzkxZGQgMTAwJSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtbW96LWxpbmVhci1ncmFkaWVudCgjNzNiNmYwIDAlLCAjMjM5MWRkIDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudCgjNzNiNmYwIDAlLCAjMjM5MWRkIDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KCM3M2I2ZjAgMCUsICMyMzkxZGQgMTAwJSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoIzczYjZmMCAwJSwgIzIzOTFkZCAxMDAlKTtcXG4gIGZpbHRlcjogcHJvZ2lkOmR4aW1hZ2V0cmFuc2Zvcm0ubWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9JyNmZjIzOTFkZCcsIGVuZENvbG9yc3RyPScjZmY3M2I2ZjAnLCBHcmFkaWVudFR5cGU9MCk7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjNDk3QkEzO1xcbiAgdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4ICM3Nzc3Nzc7XFxufVxcbmJ1dHRvbi53MnVpLWJ0bi1ibHVlOmFjdGl2ZSxcXG5idXR0b24udzJ1aS1idG4tYmx1ZS5jbGlja2VkIHtcXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KCMxZTgzYzkgMCUsICMxZTgzYzkgMTAwJSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtbW96LWxpbmVhci1ncmFkaWVudCgjMWU4M2M5IDAlLCAjMWU4M2M5IDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudCgjMWU4M2M5IDAlLCAjMWU4M2M5IDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KCMxZTgzYzkgMCUsICMxZTgzYzkgMTAwJSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoIzFlODNjOSAwJSwgIzFlODNjOSAxMDAlKTtcXG4gIGZpbHRlcjogcHJvZ2lkOmR4aW1hZ2V0cmFuc2Zvcm0ubWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9JyNmZjFlODNjOScsIGVuZENvbG9yc3RyPScjZmYxZTgzYzknLCBHcmFkaWVudFR5cGU9MCk7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjMTI2OEE2O1xcbiAgdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4ICM3Nzc3Nzc7XFxufVxcbmJ1dHRvbi53MnVpLWJ0bi1ncmVlbiB7XFxuICBjb2xvcjogd2hpdGU7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCgjODFjZjgxIDAlLCAjNTJhNDUyIDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW1vei1saW5lYXItZ3JhZGllbnQoIzgxY2Y4MSAwJSwgIzUyYTQ1MiAxMDAlKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1tcy1saW5lYXItZ3JhZGllbnQoIzgxY2Y4MSAwJSwgIzUyYTQ1MiAxMDAlKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1vLWxpbmVhci1ncmFkaWVudCgjODFjZjgxIDAlLCAjNTJhNDUyIDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KCM4MWNmODEgMCUsICM1MmE0NTIgMTAwJSk7XFxuICBmaWx0ZXI6IHByb2dpZDpkeGltYWdldHJhbnNmb3JtLm1pY3Jvc29mdC5ncmFkaWVudChzdGFydENvbG9yc3RyPScjZmY1MmE0NTInLCBlbmRDb2xvcnN0cj0nI2ZmODFjZjgxJywgR3JhZGllbnRUeXBlPTApO1xcbiAgYm9yZGVyOiAxcHggc29saWQgIzQ3OTI0NztcXG4gIHRleHQtc2hhZG93OiAxcHggMXB4IDFweCAjNzc3Nzc3O1xcbn1cXG5idXR0b24udzJ1aS1idG4tZ3JlZW46aG92ZXIge1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQoIzZhYmU2OCAwJSwgIzNmOGYzZCAxMDAlKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KCM2YWJlNjggMCUsICMzZjhmM2QgMTAwJSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KCM2YWJlNjggMCUsICMzZjhmM2QgMTAwJSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQoIzZhYmU2OCAwJSwgIzNmOGYzZCAxMDAlKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgjNmFiZTY4IDAlLCAjM2Y4ZjNkIDEwMCUpO1xcbiAgZmlsdGVyOiBwcm9naWQ6ZHhpbWFnZXRyYW5zZm9ybS5taWNyb3NvZnQuZ3JhZGllbnQoc3RhcnRDb2xvcnN0cj0nI2ZmM2Y4ZjNkJywgZW5kQ29sb3JzdHI9JyNmZjZhYmU2OCcsIEdyYWRpZW50VHlwZT0wKTtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICM0NzkyNDc7XFxuICB0ZXh0LXNoYWRvdzogMXB4IDFweCAxcHggIzc3Nzc3NztcXG59XFxuYnV0dG9uLncydWktYnRuLWdyZWVuOmFjdGl2ZSxcXG5idXR0b24udzJ1aS1idG4tZ3JlZW4uY2xpY2tlZCB7XFxuICBjb2xvcjogd2hpdGU7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCgjMzc3ZDM2IDAlLCAjMzc3ZDM2IDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW1vei1saW5lYXItZ3JhZGllbnQoIzM3N2QzNiAwJSwgIzM3N2QzNiAxMDAlKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1tcy1saW5lYXItZ3JhZGllbnQoIzM3N2QzNiAwJSwgIzM3N2QzNiAxMDAlKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1vLWxpbmVhci1ncmFkaWVudCgjMzc3ZDM2IDAlLCAjMzc3ZDM2IDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KCMzNzdkMzYgMCUsICMzNzdkMzYgMTAwJSk7XFxuICBmaWx0ZXI6IHByb2dpZDpkeGltYWdldHJhbnNmb3JtLm1pY3Jvc29mdC5ncmFkaWVudChzdGFydENvbG9yc3RyPScjZmYzNzdkMzYnLCBlbmRDb2xvcnN0cj0nI2ZmMzc3ZDM2JywgR3JhZGllbnRUeXBlPTApO1xcbiAgYm9yZGVyOiAxcHggc29saWQgIzU1NSAhaW1wb3J0YW50O1xcbiAgdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4ICM3Nzc3Nzc7XFxufVxcbmJ1dHRvbi53MnVpLWJ0bi1vcmFuZ2Uge1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQoI2ZjYzI3MiAwJSwgI2ZiODgyMiAxMDAlKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KCNmY2MyNzIgMCUsICNmYjg4MjIgMTAwJSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KCNmY2MyNzIgMCUsICNmYjg4MjIgMTAwJSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQoI2ZjYzI3MiAwJSwgI2ZiODgyMiAxMDAlKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgjZmNjMjcyIDAlLCAjZmI4ODIyIDEwMCUpO1xcbiAgZmlsdGVyOiBwcm9naWQ6ZHhpbWFnZXRyYW5zZm9ybS5taWNyb3NvZnQuZ3JhZGllbnQoc3RhcnRDb2xvcnN0cj0nI2ZmZmI4ODIyJywgZW5kQ29sb3JzdHI9JyNmZmZjYzI3MicsIEdyYWRpZW50VHlwZT0wKTtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNCNjhCNEM7XFxuICB0ZXh0LXNoYWRvdzogMXB4IDFweCAxcHggIzc3Nzc3NztcXG59XFxuYnV0dG9uLncydWktYnRuLW9yYW5nZTpob3ZlciB7XFxuICBjb2xvcjogd2hpdGU7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCgjZjRhZDU5IDAlLCAjZjE3MzFmIDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW1vei1saW5lYXItZ3JhZGllbnQoI2Y0YWQ1OSAwJSwgI2YxNzMxZiAxMDAlKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1tcy1saW5lYXItZ3JhZGllbnQoI2Y0YWQ1OSAwJSwgI2YxNzMxZiAxMDAlKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1vLWxpbmVhci1ncmFkaWVudCgjZjRhZDU5IDAlLCAjZjE3MzFmIDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KCNmNGFkNTkgMCUsICNmMTczMWYgMTAwJSk7XFxuICBmaWx0ZXI6IHByb2dpZDpkeGltYWdldHJhbnNmb3JtLm1pY3Jvc29mdC5ncmFkaWVudChzdGFydENvbG9yc3RyPScjZmZmMTczMWYnLCBlbmRDb2xvcnN0cj0nI2ZmZjRhZDU5JywgR3JhZGllbnRUeXBlPTApO1xcbiAgYm9yZGVyOiAxcHggc29saWQgI0I2OEI0QztcXG4gIHRleHQtc2hhZG93OiAxcHggMXB4IDFweCAjNzc3Nzc3O1xcbn1cXG5idXR0b24udzJ1aS1idG4tb3JhbmdlOmFjdGl2ZSxcXG5idXR0b24udzJ1aS1idG4tb3JhbmdlLmNsaWNrZWQge1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgYm9yZGVyOiAxcHggc29saWQgIzY2NjtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KCNiOTg3NDcgMCUsICNiOTg3NDcgMTAwJSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtbW96LWxpbmVhci1ncmFkaWVudCgjYjk4NzQ3IDAlLCAjYjk4NzQ3IDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudCgjYjk4NzQ3IDAlLCAjYjk4NzQ3IDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KCNiOTg3NDcgMCUsICNiOTg3NDcgMTAwJSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoI2I5ODc0NyAwJSwgI2I5ODc0NyAxMDAlKTtcXG4gIGZpbHRlcjogcHJvZ2lkOmR4aW1hZ2V0cmFuc2Zvcm0ubWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9JyNmZmI5ODc0NycsIGVuZENvbG9yc3RyPScjZmZiOTg3NDcnLCBHcmFkaWVudFR5cGU9MCk7XFxuICB0ZXh0LXNoYWRvdzogMXB4IDFweCAxcHggIzc3Nzc3NztcXG59XFxuYnV0dG9uLncydWktYnRuLXJlZCB7XFxuICBjb2xvcjogd2hpdGU7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCgjZmY2ZTcwIDAlLCAjYzcyZDJkIDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW1vei1saW5lYXItZ3JhZGllbnQoI2ZmNmU3MCAwJSwgI2M3MmQyZCAxMDAlKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1tcy1saW5lYXItZ3JhZGllbnQoI2ZmNmU3MCAwJSwgI2M3MmQyZCAxMDAlKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1vLWxpbmVhci1ncmFkaWVudCgjZmY2ZTcwIDAlLCAjYzcyZDJkIDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KCNmZjZlNzAgMCUsICNjNzJkMmQgMTAwJSk7XFxuICBmaWx0ZXI6IHByb2dpZDpkeGltYWdldHJhbnNmb3JtLm1pY3Jvc29mdC5ncmFkaWVudChzdGFydENvbG9yc3RyPScjZmZjNzJkMmQnLCBlbmRDb2xvcnN0cj0nI2ZmZmY2ZTcwJywgR3JhZGllbnRUeXBlPTApO1xcbiAgYm9yZGVyOiAxcHggc29saWQgI0JCM0MzRTtcXG4gIHRleHQtc2hhZG93OiAxcHggMXB4IDFweCAjNzc3Nzc3O1xcbn1cXG5idXR0b24udzJ1aS1idG4tcmVkOmhvdmVyIHtcXG4gIGNvbG9yOiB3aGl0ZTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KCNlZTY5NmMgMCUsICNhZTI1MjcgMTAwJSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtbW96LWxpbmVhci1ncmFkaWVudCgjZWU2OTZjIDAlLCAjYWUyNTI3IDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudCgjZWU2OTZjIDAlLCAjYWUyNTI3IDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KCNlZTY5NmMgMCUsICNhZTI1MjcgMTAwJSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoI2VlNjk2YyAwJSwgI2FlMjUyNyAxMDAlKTtcXG4gIGZpbHRlcjogcHJvZ2lkOmR4aW1hZ2V0cmFuc2Zvcm0ubWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9JyNmZmFlMjUyNycsIGVuZENvbG9yc3RyPScjZmZlZTY5NmMnLCBHcmFkaWVudFR5cGU9MCk7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjQkIzQzNFO1xcbiAgdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4ICM3Nzc3Nzc7XFxufVxcbmJ1dHRvbi53MnVpLWJ0bi1yZWQ6YWN0aXZlLFxcbmJ1dHRvbi53MnVpLWJ0bi1yZWQuY2xpY2tlZCB7XFxuICBjb2xvcjogd2hpdGU7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjODYxQzFFO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQoIzljMjEyMyAwJSwgIzljMjEyMyAxMDAlKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KCM5YzIxMjMgMCUsICM5YzIxMjMgMTAwJSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KCM5YzIxMjMgMCUsICM5YzIxMjMgMTAwJSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQoIzljMjEyMyAwJSwgIzljMjEyMyAxMDAlKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgjOWMyMTIzIDAlLCAjOWMyMTIzIDEwMCUpO1xcbiAgZmlsdGVyOiBwcm9naWQ6ZHhpbWFnZXRyYW5zZm9ybS5taWNyb3NvZnQuZ3JhZGllbnQoc3RhcnRDb2xvcnN0cj0nI2ZmOWMyMTIzJywgZW5kQ29sb3JzdHI9JyNmZjljMjEyMycsIEdyYWRpZW50VHlwZT0wKTtcXG4gIHRleHQtc2hhZG93OiAxcHggMXB4IDFweCAjNzc3Nzc3O1xcbn1cXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxcbiogLS0tLSBGb3JtcyAtLS0tXFxuKi9cXG4udzJ1aS1mb3JtIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGNvbG9yOiAjMDAwMDAwO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y1ZjZmNztcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjMGMwYzA7XFxuICBib3JkZXItcmFkaXVzOiAzcHg7XFxuICBwYWRkaW5nOiAwcHg7XFxuICBvdmVyZmxvdzogaGlkZGVuICFpbXBvcnRhbnQ7XFxufVxcbi53MnVpLWZvcm0gPiBkaXYge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuLncydWktZm9ybSAudzJ1aS1mb3JtLWhlYWRlciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBsZWZ0OiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzk5YmJlOCAhaW1wb3J0YW50O1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIGNvbG9yOiAjNDQ0NDQ0O1xcbiAgZm9udC1zaXplOiAxM3B4O1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgcGFkZGluZzogOHB4O1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQoI2RhZTZmMywgI2MyZDVlZCk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtbW96LWxpbmVhci1ncmFkaWVudCgjZGFlNmYzLCAjYzJkNWVkKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1tcy1saW5lYXItZ3JhZGllbnQoI2RhZTZmMywgI2MyZDVlZCk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQoI2RhZTZmMywgI2MyZDVlZCk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoI2RhZTZmMywgI2MyZDVlZCk7XFxuICBmaWx0ZXI6IHByb2dpZDpkeGltYWdldHJhbnNmb3JtLm1pY3Jvc29mdC5ncmFkaWVudChzdGFydENvbG9yc3RyPScjZmZkYWU2ZjMnLCBlbmRDb2xvcnN0cj0nI2ZmYzJkNWVkJywgR3JhZGllbnRUeXBlPTApO1xcbiAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogM3B4O1xcbiAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDNweDtcXG59XFxuLncydWktZm9ybSAudzJ1aS1mb3JtLXRvb2xiYXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMHB4O1xcbiAgcmlnaHQ6IDBweDtcXG4gIG1hcmdpbjogMHB4O1xcbiAgcGFkZGluZzogNnB4IDNweDtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZDVkOGQ4O1xcbn1cXG4udzJ1aS1mb3JtIC53MnVpLWZvcm0tdGFicyB7XFxuICBtYXJnaW46IDBweDtcXG4gIHBhZGRpbmc6IDBweDtcXG59XFxuLncydWktZm9ybSAudzJ1aS10YWJzIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGxlZnQ6IDA7XFxuICByaWdodDogMDtcXG4gIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDNweDtcXG4gIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAzcHg7XFxuICBwYWRkaW5nLXRvcDogNXB4ICFpbXBvcnRhbnQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhO1xcbn1cXG4udzJ1aS1mb3JtIC53MnVpLXRhYnMgLncydWktdGFiLmFjdGl2ZSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNmY3O1xcbn1cXG4udzJ1aS1mb3JtIC53MnVpLXBhZ2Uge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgb3ZlcmZsb3c6IGF1dG87XFxuICBwYWRkaW5nOiAxMHB4O1xcbiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCBpbmhlcml0O1xcbiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgaW5oZXJpdDtcXG4gIGJhY2tncm91bmQtY29sb3I6IGluaGVyaXQ7XFxuICBib3JkZXItcmFkaXVzOiAzcHg7XFxufVxcbi53MnVpLWZvcm0gLncydWktYnV0dG9ucyB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBsZWZ0OiAwO1xcbiAgcmlnaHQ6IDA7XFxuICBib3R0b206IDA7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgI2Q1ZDhkODtcXG4gIGJvcmRlci1ib3R0b206IDBweCBzb2xpZCAjZDVkOGQ4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZhZmFmYTtcXG4gIHBhZGRpbmc6IDE1cHggMHB4ICFpbXBvcnRhbnQ7XFxuICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAzcHg7XFxuICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogM3B4O1xcbn1cXG4udzJ1aS1mb3JtIC53MnVpLWJ1dHRvbnMgaW5wdXRbdHlwZT1cXFwiYnV0dG9uXFxcIl0sXFxuLncydWktZm9ybSAudzJ1aS1idXR0b25zIGJ1dHRvbiB7XFxuICBtaW4td2lkdGg6IDgwcHg7XFxuICBtYXJnaW4tcmlnaHQ6IDVweDtcXG59XFxuLncydWktZm9ybSBpbnB1dFt0eXBlPWNoZWNrYm94XSxcXG4udzJ1aS1mb3JtIGlucHV0W3R5cGU9cmFkaW9dIHtcXG4gIG1hcmdpbi10b3A6IDRweDtcXG4gIG1hcmdpbi1ib3R0b206IDRweDtcXG59XFxuLncydWktZm9ybSBpbnB1dFt0eXBlPWNoZWNrYm94XS53MnVpLXRvZ2dsZSB7XFxuICBtYXJnaW46IDBweDtcXG59XFxuLncydWktZ3JvdXAtdGl0bGUge1xcbiAgcGFkZGluZzogNXB4IDJweDtcXG4gIGNvbG9yOiAjOEQ5NkEyO1xcbiAgdGV4dC1zaGFkb3c6IDFweCAxcHggMnB4ICNmZGZkZmQ7XFxuICBmb250LXNpemU6IDEyMCU7XFxufVxcbi53MnVpLWdyb3VwIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlYmVjZWY7XFxuICBtYXJnaW46IDVweCAwcHggMTBweCAwcHg7XFxuICBwYWRkaW5nOiAxMHB4IDVweDtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjY2VkY2VhO1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNjZWRjZWE7XFxufVxcbi53MnVpLWZpZWxkID4gbGFiZWwge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBmbG9hdDogbGVmdDtcXG4gIG1hcmdpbi10b3A6IDdweDtcXG4gIG1hcmdpbi1ib3R0b206IDNweDtcXG4gIHdpZHRoOiAxMjBweDtcXG4gIHBhZGRpbmc6IDBweDtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG4gIG1pbi1oZWlnaHQ6IDIwcHg7XFxuICBjb2xvcjogIzY2NjtcXG59XFxuLncydWktZmllbGQgPiBkaXYge1xcbiAgLyogZG8gbm90IGluY2x1ZGUgd2lkdGggKi9cXG4gIG1hcmdpbi1ib3R0b206IDNweDtcXG4gIG1hcmdpbi1sZWZ0OiAxMjhweDtcXG4gIHBhZGRpbmc6IDNweDtcXG4gIG1pbi1oZWlnaHQ6IDI4cHg7XFxuICBmbG9hdDogbm9uZTtcXG59XFxuLncydWktZmllbGQudzJ1aS1yZXF1aXJlZCA+IGRpdiB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcbi53MnVpLWZpZWxkLncydWktcmVxdWlyZWQgPiBkaXY6OmJlZm9yZSB7XFxuICBjb250ZW50OiAnKic7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBtYXJnaW4tdG9wOiA1cHg7XFxuICBtYXJnaW4tbGVmdDogLTlweDtcXG4gIGNvbG9yOiAjZmYwMDAwO1xcbn1cXG4udzJ1aS1maWVsZC53MnVpLXNwYW4xID4gbGFiZWwge1xcbiAgd2lkdGg6IDIwcHg7XFxufVxcbi53MnVpLWZpZWxkLncydWktc3BhbjEgPiBkaXYge1xcbiAgbWFyZ2luLWxlZnQ6IDI4cHg7XFxufVxcbi53MnVpLWZpZWxkLncydWktc3BhbjIgPiBsYWJlbCB7XFxuICB3aWR0aDogNDBweDtcXG59XFxuLncydWktZmllbGQudzJ1aS1zcGFuMiA+IGRpdiB7XFxuICBtYXJnaW4tbGVmdDogNDhweDtcXG59XFxuLncydWktZmllbGQudzJ1aS1zcGFuMyA+IGxhYmVsIHtcXG4gIHdpZHRoOiA2MHB4O1xcbn1cXG4udzJ1aS1maWVsZC53MnVpLXNwYW4zID4gZGl2IHtcXG4gIG1hcmdpbi1sZWZ0OiA2OHB4O1xcbn1cXG4udzJ1aS1maWVsZC53MnVpLXNwYW40ID4gbGFiZWwge1xcbiAgd2lkdGg6IDgwcHg7XFxufVxcbi53MnVpLWZpZWxkLncydWktc3BhbjQgPiBkaXYge1xcbiAgbWFyZ2luLWxlZnQ6IDg4cHg7XFxufVxcbi53MnVpLWZpZWxkLncydWktc3BhbjUgPiBsYWJlbCB7XFxuICB3aWR0aDogMTAwcHg7XFxufVxcbi53MnVpLWZpZWxkLncydWktc3BhbjUgPiBkaXYge1xcbiAgbWFyZ2luLWxlZnQ6IDEwOHB4O1xcbn1cXG4udzJ1aS1maWVsZC53MnVpLXNwYW42ID4gbGFiZWwge1xcbiAgd2lkdGg6IDEyMHB4O1xcbn1cXG4udzJ1aS1maWVsZC53MnVpLXNwYW42ID4gZGl2IHtcXG4gIG1hcmdpbi1sZWZ0OiAxMjhweDtcXG59XFxuLncydWktZmllbGQudzJ1aS1zcGFuNyA+IGxhYmVsIHtcXG4gIHdpZHRoOiAxNDBweDtcXG59XFxuLncydWktZmllbGQudzJ1aS1zcGFuNyA+IGRpdiB7XFxuICBtYXJnaW4tbGVmdDogMTQ4cHg7XFxufVxcbi53MnVpLWZpZWxkLncydWktc3BhbjggPiBsYWJlbCB7XFxuICB3aWR0aDogMTYwcHg7XFxufVxcbi53MnVpLWZpZWxkLncydWktc3BhbjggPiBkaXYge1xcbiAgbWFyZ2luLWxlZnQ6IDE2OHB4O1xcbn1cXG4udzJ1aS1maWVsZC53MnVpLXNwYW45ID4gbGFiZWwge1xcbiAgd2lkdGg6IDE4MHB4O1xcbn1cXG4udzJ1aS1maWVsZC53MnVpLXNwYW45ID4gZGl2IHtcXG4gIG1hcmdpbi1sZWZ0OiAxODhweDtcXG59XFxuLncydWktZmllbGQudzJ1aS1zcGFuMTAgPiBsYWJlbCB7XFxuICB3aWR0aDogMjAwcHg7XFxufVxcbi53MnVpLWZpZWxkLncydWktc3BhbjEwID4gZGl2IHtcXG4gIG1hcmdpbi1sZWZ0OiAyMDhweDtcXG59XFxuLncydWktZXJyb3Ige1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2ZmYThhOCAhaW1wb3J0YW50O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjRlYiAhaW1wb3J0YW50O1xcbn1cXG4udzJmaWVsZCB7XFxuICBwYWRkaW5nOiAzcHg7XFxuICBib3JkZXItcmFkaXVzOiAzcHg7XFxuICBib3JkZXI6IDFweCBzb2xpZCBzaWx2ZXI7XFxufVxcbi53MnVpLWZpZWxkLWhlbHBlciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBsaW5lLWhlaWdodDogMTAwJTtcXG4gIC8qIHBvaW50ZXItZXZlbnRzOiBub25lOyAtIGRvIG5vdCB1c2UgYXMgSUUgZG9lcyBub3Qgc3VwcG9ydCBpdCAqL1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgLW1vei11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tcy11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1vLXVzZXItc2VsZWN0OiBub25lO1xcbn1cXG4udzJ1aS1maWVsZC1oZWxwZXIgLncydWktZmllbGQtdXAge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwcHg7XFxuICBwYWRkaW5nOiAycHggM3B4O1xcbn1cXG4udzJ1aS1maWVsZC1oZWxwZXIgLncydWktZmllbGQtZG93biB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBib3R0b206IDBweDtcXG4gIHBhZGRpbmc6IDJweCAzcHg7XFxufVxcbi53MnVpLWZpZWxkLWhlbHBlciAuYXJyb3ctdXA6aG92ZXIge1xcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogIzgxQzZGRjtcXG59XFxuLncydWktZmllbGQtaGVscGVyIC5hcnJvdy1kb3duOmhvdmVyIHtcXG4gIGJvcmRlci10b3AtY29sb3I6ICM4MUM2RkY7XFxufVxcbi8qXFxuKiAgICBBUlJPV1MgXFxuKi9cXG4uYXJyb3ctdXAge1xcbiAgYmFja2dyb3VuZDogbm9uZTtcXG4gIHdpZHRoOiAwO1xcbiAgaGVpZ2h0OiAwO1xcbiAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIC8qIGxlZnQgYXJyb3cgc2xhbnQgKi9cXG4gIGJvcmRlci1yaWdodDogNHB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgLyogcmlnaHQgYXJyb3cgc2xhbnQgKi9cXG4gIGJvcmRlci1ib3R0b206IDVweCBzb2xpZCAjNzc3O1xcbiAgLyogYm90dG9tLCBhZGQgYmFja2dyb3VuZCBjb2xvciBoZXJlICovXFxuICBmb250LXNpemU6IDA7XFxuICBsaW5lLWhlaWdodDogMDtcXG59XFxuLmFycm93LWRvd24ge1xcbiAgYmFja2dyb3VuZDogbm9uZTtcXG4gIHdpZHRoOiAwO1xcbiAgaGVpZ2h0OiAwO1xcbiAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci1yaWdodDogNHB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLXRvcDogNXB4IHNvbGlkICM3Nzc7XFxuICBmb250LXNpemU6IDA7XFxuICBsaW5lLWhlaWdodDogMDtcXG59XFxuLmFycm93LWxlZnQge1xcbiAgYmFja2dyb3VuZDogbm9uZTtcXG4gIHdpZHRoOiAwO1xcbiAgaGVpZ2h0OiAwO1xcbiAgYm9yZGVyLWJvdHRvbTogNHB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgLyogbGVmdCBhcnJvdyBzbGFudCAqL1xcbiAgYm9yZGVyLXRvcDogNHB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgLyogcmlnaHQgYXJyb3cgc2xhbnQgKi9cXG4gIGJvcmRlci1yaWdodDogNXB4IHNvbGlkICM3Nzc7XFxuICAvKiBib3R0b20sIGFkZCBiYWNrZ3JvdW5kIGNvbG9yIGhlcmUgKi9cXG4gIGZvbnQtc2l6ZTogMDtcXG4gIGxpbmUtaGVpZ2h0OiAwO1xcbn1cXG4uYXJyb3ctcmlnaHQge1xcbiAgYmFja2dyb3VuZDogbm9uZTtcXG4gIHdpZHRoOiAwO1xcbiAgaGVpZ2h0OiAwO1xcbiAgYm9yZGVyLWJvdHRvbTogNHB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgLyogbGVmdCBhcnJvdyBzbGFudCAqL1xcbiAgYm9yZGVyLXRvcDogNHB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgLyogcmlnaHQgYXJyb3cgc2xhbnQgKi9cXG4gIGJvcmRlci1sZWZ0OiA1cHggc29saWQgIzc3NztcXG4gIC8qIGJvdHRvbSwgYWRkIGJhY2tncm91bmQgY29sb3IgaGVyZSAqL1xcbiAgZm9udC1zaXplOiAwO1xcbiAgbGluZS1oZWlnaHQ6IDA7XFxufVxcbi8qXFxuKiAgICBDT0xPUiBvdmVybGF5XFxuKi9cXG4udzJ1aS1jb2xvciB7XFxuICBwYWRkaW5nOiA1cHg7XFxuICBwYWRkaW5nLXRvcDogOHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxuICBib3JkZXItcmFkaXVzOiAzcHg7XFxufVxcbi53MnVpLWNvbG9yID4gdGFibGUge1xcbiAgdGFibGUtbGF5b3V0OiBmaXhlZDtcXG4gIHdpZHRoOiAxNjBweDtcXG59XFxuLncydWktY29sb3IgPiB0YWJsZSB0ZCB7XFxuICB3aWR0aDogMjBweDtcXG4gIGhlaWdodDogMjBweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuLncydWktY29sb3IgPiB0YWJsZSB0ZCBkaXYge1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgd2lkdGg6IDE2cHg7XFxuICBoZWlnaHQ6IDE3cHg7XFxuICBwYWRkaW5nOiAxcHggNHB4O1xcbiAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBjb2xvcjogd2hpdGU7XFxuICB0ZXh0LXNoYWRvdzogMHB4IDBweCAycHggIzAwMDtcXG59XFxuLncydWktY29sb3IgPiB0YWJsZSB0ZCBkaXY6aG92ZXIge1xcbiAgb3V0bGluZTogMXB4IHNvbGlkICM2NjY7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZmZmO1xcbn1cXG4vKiBcXG4qICAgIERBVEUgb3ZlcmxheVxcbiovXFxuLncydWktY2FsZW5kYXIge1xcbiAgbWFyZ2luOiAwcHg7XFxuICBwYWRkaW5nOiAxcHg7XFxuICBsaW5lLWhlaWdodDogMTA4JTtcXG59XFxuLncydWktY2FsZW5kYXIgLncydWktY2FsZW5kYXItdGl0bGUge1xcbiAgbWFyZ2luOiAwcHggLTFweDtcXG4gIHBhZGRpbmc6IDdweCAycHg7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCgjZjZmNmY2LCAjZDlkOWQ5KTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KCNmNmY2ZjYsICNkOWQ5ZDkpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudCgjZjZmNmY2LCAjZDlkOWQ5KTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1vLWxpbmVhci1ncmFkaWVudCgjZjZmNmY2LCAjZDlkOWQ5KTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgjZjZmNmY2LCAjZDlkOWQ5KTtcXG4gIGZpbHRlcjogcHJvZ2lkOmR4aW1hZ2V0cmFuc2Zvcm0ubWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9JyNmZmY2ZjZmNicsIGVuZENvbG9yc3RyPScjZmZkOWQ5ZDknLCBHcmFkaWVudFR5cGU9MCk7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2JiYmJiYjtcXG4gIGNvbG9yOiAjNTU1NTU1O1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4ICNlZWVlZWU7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi53MnVpLWNhbGVuZGFyIC53MnVpLWNhbGVuZGFyLWp1bXAge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAyN3B4O1xcbiAgbGVmdDogMHB4O1xcbiAgcmlnaHQ6IDBweDtcXG4gIGJvdHRvbTogMHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI0ZhRmFGYTtcXG59XFxuLncydWktY2FsZW5kYXIgLncydWktY2FsZW5kYXItanVtcCA+IDpmaXJzdC1jaGlsZCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDBweDtcXG4gIGxlZnQ6IDBweDtcXG4gIGJvdHRvbTogMHB4O1xcbiAgd2lkdGg6IDExMHB4O1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHBhZGRpbmctdG9wOiA1cHg7XFxuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjYzBjMGMwO1xcbn1cXG4udzJ1aS1jYWxlbmRhciAudzJ1aS1jYWxlbmRhci1qdW1wID4gOmxhc3QtY2hpbGQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwcHg7XFxuICByaWdodDogMHB4O1xcbiAgYm90dG9tOiAwcHg7XFxuICB3aWR0aDogODhweDtcXG4gIG92ZXJmbG93LXg6IGhpZGRlbjtcXG4gIG92ZXJmbG93LXk6IGF1dG87XFxuICBwYWRkaW5nLXRvcDogNXB4O1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG4udzJ1aS1jYWxlbmRhciAudzJ1aS1jYWxlbmRhci1qdW1wIC53MnVpLWp1bXAtbW9udGgsXFxuLncydWktY2FsZW5kYXIgLncydWktY2FsZW5kYXItanVtcCAudzJ1aS1qdW1wLXllYXIge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgcGFkZGluZzogNXB4IDBweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGZsb2F0OiBsZWZ0O1xcbiAgbWFyZ2luOiAycHg7XFxuICB3aWR0aDogNTBweDtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xcbn1cXG4udzJ1aS1jYWxlbmRhciAudzJ1aS1jYWxlbmRhci1qdW1wIC53MnVpLWp1bXAteWVhciB7XFxuICBmbG9hdDogbm9uZTtcXG4gIHdpZHRoOiA5NSU7XFxufVxcbi53MnVpLWNhbGVuZGFyIC53MnVpLWNhbGVuZGFyLWp1bXAgLncydWktanVtcC1tb250aDpob3ZlcixcXG4udzJ1aS1jYWxlbmRhciAudzJ1aS1jYWxlbmRhci1qdW1wIC53MnVpLWp1bXAteWVhcjpob3ZlciB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjY2NjO1xcbiAgY29sb3I6ICMwMDAwMDA7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWZlZmVmO1xcbn1cXG4udzJ1aS1jYWxlbmRhciAudzJ1aS1jYWxlbmRhci1qdW1wIC53MnVpLWp1bXAtbW9udGguc2VsZWN0ZWQsXFxuLncydWktY2FsZW5kYXIgLncydWktY2FsZW5kYXItanVtcCAudzJ1aS1qdW1wLXllYXIuc2VsZWN0ZWQge1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjY2NjYztcXG4gIGNvbG9yOiAjMDAwMDAwO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2RhZGFkYTtcXG59XFxuLncydWktY2FsZW5kYXIgLncydWktY2FsZW5kYXItcHJldmlvdXMsXFxuLncydWktY2FsZW5kYXIgLncydWktY2FsZW5kYXItbmV4dCB7XFxuICB3aWR0aDogMjRweDtcXG4gIGhlaWdodDogMjBweDtcXG4gIGNvbG9yOiAjNjY2NjY2O1xcbiAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItcmFkaXVzOiAzcHg7XFxuICBwYWRkaW5nOiAycHggM3B4IDFweCAycHg7XFxuICBtYXJnaW46IC00cHggMHB4IDBweCAwcHg7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxufVxcbi53MnVpLWNhbGVuZGFyIC53MnVpLWNhbGVuZGFyLXByZXZpb3VzOmhvdmVyLFxcbi53MnVpLWNhbGVuZGFyIC53MnVpLWNhbGVuZGFyLW5leHQ6aG92ZXIge1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2MwYzBjMDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlZmVmZWY7XFxufVxcbi53MnVpLWNhbGVuZGFyIC53MnVpLWNhbGVuZGFyLXByZXZpb3VzID4gZGl2LFxcbi53MnVpLWNhbGVuZGFyIC53MnVpLWNhbGVuZGFyLW5leHQgPiBkaXYge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjODg4O1xcbiAgYm9yZGVyLXRvcDogNHB4IHNvbGlkICM4ODg7XFxuICBib3JkZXItcmlnaHQ6IDRweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci1ib3R0b206IDRweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIHdpZHRoOiAwcHg7XFxuICBoZWlnaHQ6IDBweDtcXG4gIHBhZGRpbmc6IDBweDtcXG4gIG1hcmdpbjogM3B4IDBweCAwcHggMHB4O1xcbn1cXG4udzJ1aS1jYWxlbmRhciAudzJ1aS1jYWxlbmRhci1wcmV2aW91cyB7XFxuICBmbG9hdDogbGVmdDtcXG59XFxuLncydWktY2FsZW5kYXIgLncydWktY2FsZW5kYXItcHJldmlvdXMgPiBkaXYge1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xcbiAgLW1vei10cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xcbiAgLW1zLXRyYW5zZm9ybTogcm90YXRlKC00NWRlZyk7XFxuICAtby10cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xcbiAgdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTtcXG4gIG1hcmdpbi1sZWZ0OiA2cHg7XFxufVxcbi53MnVpLWNhbGVuZGFyIC53MnVpLWNhbGVuZGFyLW5leHQge1xcbiAgZmxvYXQ6IHJpZ2h0O1xcbn1cXG4udzJ1aS1jYWxlbmRhciAudzJ1aS1jYWxlbmRhci1uZXh0ID4gZGl2IHtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMTM1ZGVnKTtcXG4gIC1tb3otdHJhbnNmb3JtOiByb3RhdGUoMTM1ZGVnKTtcXG4gIC1tcy10cmFuc2Zvcm06IHJvdGF0ZSgxMzVkZWcpO1xcbiAgLW8tdHJhbnNmb3JtOiByb3RhdGUoMTM1ZGVnKTtcXG4gIHRyYW5zZm9ybTogcm90YXRlKDEzNWRlZyk7XFxuICBtYXJnaW4tbGVmdDogMnB4O1xcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XFxufVxcbi53MnVpLWNhbGVuZGFyIHRhYmxlLncydWktY2FsZW5kYXItZGF5cyB7XFxuICBwYWRkaW5nOiAwcHg7XFxufVxcbi53MnVpLWNhbGVuZGFyIHRhYmxlLncydWktY2FsZW5kYXItZGF5cyB0ZCB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZmZmZmZmO1xcbiAgY29sb3I6ICMwMDAwMDA7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWY5O1xcbiAgcGFkZGluZzogNnB4O1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XFxufVxcbi53MnVpLWNhbGVuZGFyIHRhYmxlLncydWktY2FsZW5kYXItZGF5cyB0ZC53MnVpLXNhdHVyZGF5LFxcbi53MnVpLWNhbGVuZGFyIHRhYmxlLncydWktY2FsZW5kYXItZGF5cyB0ZC53MnVpLXN1bmRheSB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZmZmZmZmO1xcbiAgY29sb3I6ICNjODQ5M2I7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmOWY5O1xcbn1cXG4udzJ1aS1jYWxlbmRhciB0YWJsZS53MnVpLWNhbGVuZGFyLWRheXMgdGQudzJ1aS1zYXR1cmRheTpob3ZlcixcXG4udzJ1aS1jYWxlbmRhciB0YWJsZS53MnVpLWNhbGVuZGFyLWRheXMgdGQudzJ1aS1zdW5kYXk6aG92ZXIge1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjY2NjYztcXG4gIGNvbG9yOiAjMDAwMDAwO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U5ZTllOTtcXG59XFxuLncydWktY2FsZW5kYXIgdGFibGUudzJ1aS1jYWxlbmRhci1kYXlzIHRkLncydWktc2F0dXJkYXkudzJ1aS1ibG9ja2VkLFxcbi53MnVpLWNhbGVuZGFyIHRhYmxlLncydWktY2FsZW5kYXItZGF5cyB0ZC53MnVpLXN1bmRheS53MnVpLWJsb2NrZWQge1xcbiAgdGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZmZmZmZmO1xcbiAgY29sb3I6ICNjY2NjY2M7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xcbn1cXG4udzJ1aS1jYWxlbmRhciB0YWJsZS53MnVpLWNhbGVuZGFyLWRheXMgdGQudzJ1aS10b2RheSB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjOGNiMDY3O1xcbiAgY29sb3I6ICMwMDAwMDA7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTJmN2NkO1xcbn1cXG4udzJ1aS1jYWxlbmRhciB0YWJsZS53MnVpLWNhbGVuZGFyLWRheXMgdGQ6aG92ZXIge1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2NjY2NjYztcXG4gIGNvbG9yOiAjMDAwMDAwO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U5ZTllOTtcXG59XFxuLncydWktY2FsZW5kYXIgdGFibGUudzJ1aS1jYWxlbmRhci1kYXlzIHRkLncydWktYmxvY2tlZCB7XFxuICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNmZmZmZmY7XFxuICBjb2xvcjogI2NjY2NjYztcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XFxufVxcbi53MnVpLWNhbGVuZGFyIHRhYmxlLncydWktY2FsZW5kYXItZGF5cyB0ZC53MnVpLWRheS1lbXB0eSB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZmZmZmZmO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZkZmRmZDtcXG59XFxuLncydWktY2FsZW5kYXIgdGFibGUudzJ1aS1jYWxlbmRhci1kYXlzIHRyLncydWktZGF5LXRpdGxlIHRkIHtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNmZmZmZmY7XFxuICBjb2xvcjogIzgwODA4MDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBwYWRkaW5nOiA2cHg7XFxufVxcbi8qXFxuKiAgICBUaW1lXFxuKi9cXG4udzJ1aS1jYWxlbmRhci10aW1lIHtcXG4gIHBhZGRpbmc6IDVweDtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG59XFxuLncydWktY2FsZW5kYXItdGltZSB0ZCBkaXYge1xcbiAgcGFkZGluZzogN3B4IDEwcHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxufVxcbi53MnVpLWNhbGVuZGFyLXRpbWUgdGQ6bnRoLWNoaWxkKGV2ZW4pIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmNmY2ZjY7XFxufVxcbi53MnVpLWNhbGVuZGFyLXRpbWUgdGQgZGl2OmhvdmVyIHtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2NjY2M7XFxuICBjb2xvcjogIzAwMDAwMDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlOWU5ZTk7XFxufVxcbi53MnVpLWNhbGVuZGFyLXRpbWUgdGQgZGl2LncydWktYmxvY2tlZCB7XFxuICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNmZmZmZmY7XFxuICBjb2xvcjogI2NjY2NjYztcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XFxufVxcbi53MnVpLXNlbGVjdCB7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxuICBjb2xvcjogYmxhY2sgIWltcG9ydGFudDtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwjZmZmZmZmIDIwJSwjZjZmNmY2IDUwJSwjZWVlZWVlIDUyJSwjZjRmNGY0IDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCNmZmZmZmYgMjAlLCNmNmY2ZjYgNTAlLCNlZWVlZWUgNTIlLCNmNGY0ZjQgMTAwJSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwjZmZmZmZmIDIwJSwjZjZmNmY2IDUwJSwjZWVlZWVlIDUyJSwjZjRmNGY0IDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KHRvcCwjZmZmZmZmIDIwJSwjZjZmNmY2IDUwJSwjZWVlZWVlIDUyJSwjZjRmNGY0IDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvcCwjZmZmZmZmIDIwJSwjZjZmNmY2IDUwJSwjZWVlZWVlIDUyJSwjZjRmNGY0IDEwMCUpO1xcbn1cXG4vKlxcbiogICAgRU5VTSBpdGVtc1xcbiovXFxuLncydWktbGlzdCB7XFxuICBjb2xvcjogaW5oZXJpdDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHBhZGRpbmc6IDBweDtcXG4gIG1hcmdpbjogMHB4O1xcbiAgbWluLWhlaWdodDogMjVweDtcXG4gIG92ZXJmbG93OiBhdXRvO1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2MwYzBjMDtcXG4gIGJvcmRlci1yYWRpdXM6IDNweDtcXG4gIGZvbnQtc2l6ZTogNnB4O1xcbiAgbGluZS1oZWlnaHQ6IDEwMCU7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtbXMtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIC1vLWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcXG59XFxuLncydWktbGlzdCBpbnB1dFt0eXBlPXRleHRdIHtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogbm9uZTtcXG4gIC1tb3otYm94LXNoYWRvdzogbm9uZTtcXG4gIC1tcy1ib3gtc2hhZG93OiBub25lO1xcbiAgLW8tYm94LXNoYWRvdzogbm9uZTtcXG4gIGJveC1zaGFkb3c6IG5vbmU7XFxufVxcbi53MnVpLWxpc3QgdWwge1xcbiAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XFxuICBtYXJnaW46IDBweDtcXG4gIHBhZGRpbmc6IDBweDtcXG59XFxuLncydWktbGlzdCB1bCBsaSB7XFxuICBmbG9hdDogbGVmdDtcXG4gIG1hcmdpbjogMnB4IDFweCAwcHggMnB4O1xcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xcbiAgd2lkdGg6IGF1dG87XFxuICBwYWRkaW5nOiAzcHggMTBweCAxcHggN3B4O1xcbiAgYm9yZGVyOiAxcHggc29saWQgIzg4YjBkNjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlZmYzZjU7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbiAgZm9udC1mYW1pbHk6IHZlcmRhbmE7XFxuICBmb250LXNpemU6IDExcHg7XFxuICBsaW5lLWhlaWdodDogMTAwJTtcXG4gIGhlaWdodDogMjBweDtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIC1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIC1tcy1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgLW8tYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcbi53MnVpLWxpc3QgdWwgbGk6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2QwZGJlMTtcXG59XFxuLncydWktbGlzdCB1bCBsaTpsYXN0LWNoaWxkIHtcXG4gIGJvcmRlci1yYWRpdXM6IDBweDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxufVxcbi53MnVpLWxpc3QgdWwgbGk6bGFzdC1jaGlsZCBpbnB1dCB7XFxuICBwYWRkaW5nOiAxcHg7XFxuICBwYWRkaW5nLXRvcDogMHB4O1xcbiAgbWFyZ2luOiAwcHg7XFxuICBib3JkZXI6IDBweDtcXG4gIG91dGxpbmU6IG5vbmU7XFxuICBoZWlnaHQ6IGF1dG87XFxuICBsaW5lLWhlaWdodDogMTAwJTtcXG4gIGZvbnQtc2l6ZTogaW5oZXJpdDtcXG4gIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxufVxcbi53MnVpLWxpc3QgdWwgbGkgLncydWktbGlzdC1yZW1vdmUge1xcbiAgZmxvYXQ6IHJpZ2h0O1xcbiAgd2lkdGg6IDE1cHg7XFxuICBoZWlnaHQ6IDE0cHg7XFxuICBtYXJnaW46IC0xcHggLTlweCAwcHggM3B4O1xcbiAgYm9yZGVyLXJhZGl1czogMTVweDtcXG59XFxuLncydWktbGlzdCB1bCBsaSAudzJ1aS1saXN0LXJlbW92ZTpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRDc3RjdGO1xcbiAgY29sb3I6IHdoaXRlO1xcbn1cXG4udzJ1aS1saXN0IHVsIGxpIC53MnVpLWxpc3QtcmVtb3ZlOmJlZm9yZSB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB0b3A6IDBweDtcXG4gIHBhZGRpbmc6IDBweDtcXG4gIG1hcmdpbjogMHB4O1xcbiAgbGVmdDogNXB4O1xcbiAgY29sb3I6IGluaGVyaXQ7XFxuICBvcGFjaXR5OiAwLjc7XFxuICB0ZXh0LXNoYWRvdzogaW5oZXJpdDtcXG4gIGZvbnQtc2l6ZTogaW5oZXJpdDtcXG4gIGZvbnQtdmFyaWFudDogc21hbGwtY2FwcztcXG4gIGNvbnRlbnQ6ICd4JztcXG4gIGxpbmUtaGVpZ2h0OiAxMDAlO1xcbn1cXG4udzJ1aS1saXN0IHVsIGxpID4gc3Bhbi5maWxlLXNpemUge1xcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxuICBjb2xvcjogIzc3NztcXG59XFxuLncydWktbGlzdCAudzJ1aS1lbnVtLXBsYWNlaG9sZGVyIHtcXG4gIGRpc3BsYXk6IGlubGluZTtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbiAgY29sb3I6ICM5OTk7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtbXMtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIC1vLWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG4udzJ1aS1saXN0LncydWktZmlsZS1kcmFnb3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRTRGRkRBO1xcbiAgYm9yZGVyOiAxcHggc29saWQgIzkzRTA3RDtcXG59XFxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcXG4qIC0tLS0gTGF5b3V0IC0tLS1cXG4qL1xcbi53MnVpLWxheW91dCB7XFxuICBvdmVyZmxvdzogaGlkZGVuICFpbXBvcnRhbnQ7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtbXMtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIC1vLWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG4udzJ1aS1sYXlvdXQgKiB7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtbXMtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIC1vLWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG4udzJ1aS1sYXlvdXQgPiBkaXYge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIGJvcmRlcjogMHB4O1xcbiAgbWFyZ2luOiAwcHg7XFxuICBwYWRkaW5nOiAwcHg7XFxuICBvdXRsaW5lOiAwcHg7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtbXMtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIC1vLWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG4udzJ1aS1sYXlvdXQgPiBkaXYgLncydWktcGFuZWwge1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDEyMDtcXG59XFxuLncydWktbGF5b3V0ID4gZGl2IC53MnVpLXBhbmVsIC53MnVpLXBhbmVsLXRpdGxlIHtcXG4gIHBhZGRpbmc6IDVweDtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KCNkYWU2ZjMsICNjMmQ1ZWQpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW1vei1saW5lYXItZ3JhZGllbnQoI2RhZTZmMywgI2MyZDVlZCk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KCNkYWU2ZjMsICNjMmQ1ZWQpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KCNkYWU2ZjMsICNjMmQ1ZWQpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KCNkYWU2ZjMsICNjMmQ1ZWQpO1xcbiAgZmlsdGVyOiBwcm9naWQ6ZHhpbWFnZXRyYW5zZm9ybS5taWNyb3NvZnQuZ3JhZGllbnQoc3RhcnRDb2xvcnN0cj0nI2ZmZGFlNmYzJywgZW5kQ29sb3JzdHI9JyNmZmMyZDVlZCcsIEdyYWRpZW50VHlwZT0wKTtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNiOWNlZTk7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzk5YmJlODtcXG59XFxuLncydWktbGF5b3V0ID4gZGl2IC53MnVpLXBhbmVsIC53MnVpLXBhbmVsLXRhYnMge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMHB4O1xcbiAgdG9wOiAwcHg7XFxuICByaWdodDogMHB4O1xcbiAgei1pbmRleDogMjtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZhZmFmYTtcXG4gIHBhZGRpbmc6IDRweCAwcHg7XFxufVxcbi53MnVpLWxheW91dCA+IGRpdiAudzJ1aS1wYW5lbCAudzJ1aS1wYW5lbC10YWJzID4gLncydWktdGFiLmFjdGl2ZSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNmY3O1xcbn1cXG4udzJ1aS1sYXlvdXQgPiBkaXYgLncydWktcGFuZWwgLncydWktcGFuZWwtdG9vbGJhciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBsZWZ0OiAwcHg7XFxuICB0b3A6IDBweDtcXG4gIHJpZ2h0OiAwcHg7XFxuICB6LWluZGV4OiAyO1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhO1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHNpbHZlcjtcXG4gIHBhZGRpbmc6IDRweDtcXG59XFxuLncydWktbGF5b3V0ID4gZGl2IC53MnVpLXBhbmVsIC53MnVpLXBhbmVsLWNvbnRlbnQge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMHB4O1xcbiAgdG9wOiAwcHg7XFxuICByaWdodDogMHB4O1xcbiAgYm90dG9tOiAwcHg7XFxuICB6LWluZGV4OiAxO1xcbiAgY29sb3I6IGluaGVyaXQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNmY3O1xcbn1cXG4udzJ1aS1sYXlvdXQgPiBkaXYgLncydWktcmVzaXplciB7XFxuICBkaXNwbGF5OiBub25lO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogMTIxO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxufVxcbi53MnVpLWxheW91dCA+IGRpdiAudzJ1aS1yZXNpemVyOmhvdmVyLFxcbi53MnVpLWxheW91dCA+IGRpdiAudzJ1aS1yZXNpemVyLmFjdGl2ZSB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZDdlNGYyO1xcbn1cXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxcbiogLS0tLSBHcmlkIC0tLS1cXG4qL1xcbi53MnVpLWdyaWQge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2MwYzBjMDtcXG4gIGJvcmRlci1yYWRpdXM6IDJweDtcXG4gIG92ZXJmbG93OiBoaWRkZW4gIWltcG9ydGFudDtcXG59XFxuLncydWktZ3JpZCA+IGRpdiB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbn1cXG4udzJ1aS1ncmlkIC53MnVpLWdyaWQtaGVhZGVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjOTliYmU4ICFpbXBvcnRhbnQ7XFxuICBoZWlnaHQ6IDI4cHg7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgY29sb3I6ICM0NDQ0NDQ7XFxuICBmb250LXNpemU6IDEzcHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBwYWRkaW5nOiA3cHg7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCgjZGFlNmYzLCAjYzJkNWVkKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KCNkYWU2ZjMsICNjMmQ1ZWQpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudCgjZGFlNmYzLCAjYzJkNWVkKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1vLWxpbmVhci1ncmFkaWVudCgjZGFlNmYzLCAjYzJkNWVkKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgjZGFlNmYzLCAjYzJkNWVkKTtcXG4gIGZpbHRlcjogcHJvZ2lkOmR4aW1hZ2V0cmFuc2Zvcm0ubWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9JyNmZmRhZTZmMycsIGVuZENvbG9yc3RyPScjZmZjMmQ1ZWQnLCBHcmFkaWVudFR5cGU9MCk7XFxuICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAycHg7XFxuICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMnB4O1xcbn1cXG4udzJ1aS1ncmlkIC53MnVpLWdyaWQtdG9vbGJhciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2MwYzBjMDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlYWVhZWE7XFxuICBoZWlnaHQ6IDM4cHg7XFxuICBwYWRkaW5nOiA3cHggM3B4IDRweCAzcHg7XFxuICBtYXJnaW46IDBweDtcXG4gIGJveC1zaGFkb3c6IDBweCAxcHggMnB4ICNkZGRkZGQ7XFxufVxcbi53MnVpLWdyaWQgLncydWktdG9vbGJhci1zZWFyY2gge1xcbiAgd2lkdGg6IDE2MHB4O1xcbiAgbWFyZ2luLXJpZ2h0OiAzcHg7XFxufVxcbi53MnVpLWdyaWQgLncydWktdG9vbGJhci1zZWFyY2ggLncydWktc2VhcmNoLWFsbCB7XFxuICBvdXRsaW5lOiBub25lICFpbXBvcnRhbnQ7XFxuICB3aWR0aDogMTYwcHg7XFxuICBib3JkZXItcmFkaXVzOiAxMHB4O1xcbiAgbGluZS1oZWlnaHQ6IG5vcm1hbDtcXG4gIGhlaWdodDogMjJweDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNiOWI5Yjk7XFxuICBjb2xvcjogIzAwMDAwMDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XFxuICBwYWRkaW5nOiAzcHggMThweCAzcHggMjNweDtcXG4gIG1hcmdpbjogMHB4O1xcbn1cXG4udzJ1aS1ncmlkIC53MnVpLXRvb2xiYXItc2VhcmNoIC53MnVpLXNlYXJjaC1kb3duIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIG1hcmdpbi10b3A6IC03cHg7XFxuICBtYXJnaW4tbGVmdDogNnB4O1xcbn1cXG4udzJ1aS1ncmlkIC53MnVpLXRvb2xiYXItc2VhcmNoIC53MnVpLXNlYXJjaC1jbGVhciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB3aWR0aDogMTZweDtcXG4gIGhlaWdodDogMTZweDtcXG4gIG1hcmdpbi10b3A6IC04cHg7XFxuICBtYXJnaW4tbGVmdDogLTIwcHg7XFxuICBib3JkZXItcmFkaXVzOiAxNXB4O1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbn1cXG4udzJ1aS1ncmlkIC53MnVpLXRvb2xiYXItc2VhcmNoIC53MnVpLXNlYXJjaC1jbGVhcjpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRDc3RjdGO1xcbiAgY29sb3I6IHdoaXRlO1xcbn1cXG4udzJ1aS1ncmlkIC53MnVpLXRvb2xiYXItc2VhcmNoIC53MnVpLXNlYXJjaC1jbGVhcjpiZWZvcmUge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgdG9wOiAxcHg7XFxuICBsZWZ0OiA1cHg7XFxuICBvcGFjaXR5OiAwLjY7XFxuICBjb2xvcjogaW5oZXJpdDtcXG4gIHRleHQtc2hhZG93OiBpbmhlcml0O1xcbiAgY29udGVudDogJ3gnO1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbn1cXG4udzJ1aS1ncmlkIC53MnVpLWdyaWQtYm9keSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgcGFkZGluZzogMHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcbiAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xcbiAgLW8tdXNlci1zZWxlY3Q6IG5vbmU7XFxuICB1c2VyLXNlbGVjdDogbm9uZTtcXG59XFxuLncydWktZ3JpZCAudzJ1aS1ncmlkLWJvZHkgaW5wdXQsXFxuLncydWktZ3JpZCAudzJ1aS1ncmlkLWJvZHkgc2VsZWN0LFxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1ib2R5IHRleHRhcmVhIHtcXG4gIHVzZXItc2VsZWN0OiB0ZXh0O1xcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogdGV4dDtcXG4gIC1tb3otdXNlci1zZWxlY3Q6IHRleHQ7XFxuICAtbXMtdXNlci1zZWxlY3Q6IHRleHQ7XFxuICAtby11c2VyLXNlbGVjdDogdGV4dDtcXG59XFxuLncydWktZ3JpZCAudzJ1aS1ncmlkLWJvZHkgLncydWktZ3JpZC1jb2x1bW5zIHtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBsZWZ0OiAwcHg7XFxuICB0b3A6IDBweDtcXG4gIHJpZ2h0OiAwcHg7XFxuICBib3gtc2hhZG93OiAwcHggMXB4IDRweCAjZGRkZGRkO1xcbiAgaGVpZ2h0OiBhdXRvO1xcbn1cXG4udzJ1aS1ncmlkIC53MnVpLWdyaWQtYm9keSAudzJ1aS1ncmlkLWNvbHVtbnMgdGFibGUge1xcbiAgaGVpZ2h0OiBhdXRvO1xcbn1cXG4udzJ1aS1ncmlkIC53MnVpLWdyaWQtYm9keSAudzJ1aS1ncmlkLWNvbHVtbnMgLncydWktcmVzaXplciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB6LWluZGV4OiAxMDAwO1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiBub25lO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTtcXG4gIC8qIG5lZWRlZCBmb3IgSUUgKi9cXG4gIHBhZGRpbmc6IDBweDtcXG4gIG1hcmdpbjogMHB4O1xcbiAgd2lkdGg6IDZweDtcXG4gIGhlaWdodDogMTJweDtcXG4gIGN1cnNvcjogY29sLXJlc2l6ZTtcXG59XFxuLncydWktZ3JpZCAudzJ1aS1ncmlkLWJvZHkgLncydWktZ3JpZC1yZWNvcmRzIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGxlZnQ6IDBweDtcXG4gIHJpZ2h0OiAwcHg7XFxuICB0b3A6IDBweDtcXG4gIGJvdHRvbTogMHB4O1xcbn1cXG4udzJ1aS1ncmlkIC53MnVpLWdyaWQtYm9keSAudzJ1aS1ncmlkLXJlY29yZHMgdGFibGUgdHIudzJ1aS1vZGQge1xcbiAgY29sb3I6IGluaGVyaXQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmO1xcbn1cXG4udzJ1aS1ncmlkIC53MnVpLWdyaWQtYm9keSAudzJ1aS1ncmlkLXJlY29yZHMgdGFibGUgdHIudzJ1aS1vZGQ6aG92ZXIge1xcbiAgY29sb3I6IGluaGVyaXQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTZmMGZmO1xcbn1cXG4udzJ1aS1ncmlkIC53MnVpLWdyaWQtYm9keSAudzJ1aS1ncmlkLXJlY29yZHMgdGFibGUgdHIudzJ1aS1vZGQudzJ1aS1lbXB0eS1yZWNvcmQ6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcXG59XFxuLncydWktZ3JpZCAudzJ1aS1ncmlkLWJvZHkgLncydWktZ3JpZC1yZWNvcmRzIHRhYmxlIHRyLncydWktZXZlbiB7XFxuICBjb2xvcjogaW5oZXJpdDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmM2Y2ZmE7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1ib2R5IC53MnVpLWdyaWQtcmVjb3JkcyB0YWJsZSB0ci53MnVpLWV2ZW46aG92ZXIge1xcbiAgY29sb3I6IGluaGVyaXQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTZmMGZmO1xcbn1cXG4udzJ1aS1ncmlkIC53MnVpLWdyaWQtYm9keSAudzJ1aS1ncmlkLXJlY29yZHMgdGFibGUgdHIudzJ1aS1ldmVuLncydWktZW1wdHktcmVjb3JkOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmM2Y2ZmE7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1ib2R5IC53MnVpLWdyaWQtcmVjb3JkcyB0YWJsZSB0ci53MnVpLXNlbGVjdGVkLFxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1ib2R5IC53MnVpLWdyaWQtcmVjb3JkcyB0YWJsZSB0ciB0ZC53MnVpLXNlbGVjdGVkIHtcXG4gIGNvbG9yOiAjMDAwMDAwICFpbXBvcnRhbnQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjZkNWZmICFpbXBvcnRhbnQ7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1ib2R5IC53MnVpLWdyaWQtcmVjb3JkcyAudzJ1aS1leHBhbmRlZCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjQ0NEQ0YwICFpbXBvcnRhbnQ7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1ib2R5IC53MnVpLWdyaWQtcmVjb3JkcyAudzJ1aS1leHBhbmRlZDEge1xcbiAgaGVpZ2h0OiAwcHg7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2IyYmFjMDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNDQ0RDRjA7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1ib2R5IC53MnVpLWdyaWQtcmVjb3JkcyAudzJ1aS1leHBhbmRlZDEgPiBkaXYge1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgbWFyZ2luOiAwcHg7XFxuICBwYWRkaW5nOiAwcHg7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1ib2R5IC53MnVpLWdyaWQtcmVjb3JkcyAudzJ1aS1leHBhbmRlZDIge1xcbiAgaGVpZ2h0OiAwcHg7XFxuICBib3JkZXItcmFkaXVzOiAwcHg7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2IyYmFjMDtcXG59XFxuLncydWktZ3JpZCAudzJ1aS1ncmlkLWJvZHkgLncydWktZ3JpZC1yZWNvcmRzIC53MnVpLWV4cGFuZGVkMiA+IGRpdiB7XFxuICBoZWlnaHQ6IDBweDtcXG4gIGJvcmRlcjogMHB4O1xcbiAgdHJhbnNpdGlvbjogaGVpZ2h0IC4zcywgb3BhY2l0eSAuM3M7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1ib2R5IC53MnVpLWdyaWQtcmVjb3JkcyAudzJ1aS1sb2FkLW1vcmUge1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNkNmQ1ZDc7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1ib2R5IC53MnVpLWdyaWQtcmVjb3JkcyAudzJ1aS1sb2FkLW1vcmUgPiBkaXYge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgY29sb3I6ICM3Nzc3Nzc7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDIzMywgMjM3LCAyNDMsIDAuNSk7XFxuICBwYWRkaW5nOiAxMHB4IDBweCAxNXB4IDBweDtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZmZmZmZmO1xcbn1cXG4udzJ1aS1ncmlkIC53MnVpLWdyaWQtYm9keSAudzJ1aS1ncmlkLXJlY29yZHMgLncydWktbG9hZC1tb3JlID4gZGl2OmhvdmVyIHtcXG4gIGNvbG9yOiBpbmhlcml0O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2U2ZjBmZjtcXG59XFxuLncydWktZ3JpZCAudzJ1aS1ncmlkLWJvZHkgdGFibGUge1xcbiAgYm9yZGVyLXNwYWNpbmc6IDBweDtcXG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XFxuICB0YWJsZS1sYXlvdXQ6IGZpeGVkO1xcbiAgd2lkdGg6IDFweDtcXG59XFxuLncydWktZ3JpZCAudzJ1aS1ncmlkLWJvZHkgdGFibGUgLncydWktaGVhZCB7XFxuICBtYXJnaW46IDBweDtcXG4gIHBhZGRpbmc6IDBweDtcXG4gIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNjNWM1YzU7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2M1YzVjNTtcXG4gIGNvbG9yOiAjMDAwMDAwO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQoI2Y5ZjlmOSwgI2U0ZTRlNCk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtbW96LWxpbmVhci1ncmFkaWVudCgjZjlmOWY5LCAjZTRlNGU0KTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1tcy1saW5lYXItZ3JhZGllbnQoI2Y5ZjlmOSwgI2U0ZTRlNCk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQoI2Y5ZjlmOSwgI2U0ZTRlNCk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoI2Y5ZjlmOSwgI2U0ZTRlNCk7XFxuICBmaWx0ZXI6IHByb2dpZDpkeGltYWdldHJhbnNmb3JtLm1pY3Jvc29mdC5ncmFkaWVudChzdGFydENvbG9yc3RyPScjZmZmOWY5ZjknLCBlbmRDb2xvcnN0cj0nI2ZmZTRlNGU0JywgR3JhZGllbnRUeXBlPTApO1xcbn1cXG4udzJ1aS1ncmlkIC53MnVpLWdyaWQtYm9keSB0YWJsZSAudzJ1aS1oZWFkID4gZGl2IHtcXG4gIHBhZGRpbmc6IDdweCAzcHg7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG4udzJ1aS1ncmlkIC53MnVpLWdyaWQtYm9keSB0YWJsZSAudzJ1aS1oZWFkLncydWktY29sLWludGVyc2VjdGlvbiB7XFxuICBib3JkZXItcmlnaHQtY29sb3I6ICM3MmIyZmY7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1ib2R5IHRhYmxlIC53MnVpLWhlYWQudzJ1aS1yZW9yZGVyLWNvbHMtaGVhZDpob3ZlciB7XFxuICBjdXJzb3I6IG1vdmU7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1ib2R5IHRhYmxlIC53MnVpLWhlYWQgLmNvbC1pbnRlcnNlY3Rpb24tbWFya2VyIHtcXG4gIHBhZGRpbmc6IDA7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICB0b3A6IDA7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1ib2R5IHRhYmxlIC53MnVpLWhlYWQgLmNvbC1pbnRlcnNlY3Rpb24tbWFya2VyLmxlZnQge1xcbiAgbGVmdDogMDtcXG4gIG1hcmdpbi1sZWZ0OiAtNXB4O1xcbn1cXG4udzJ1aS1ncmlkIC53MnVpLWdyaWQtYm9keSB0YWJsZSAudzJ1aS1oZWFkIC5jb2wtaW50ZXJzZWN0aW9uLW1hcmtlci5yaWdodCB7XFxuICByaWdodDogMDtcXG4gIG1hcmdpbi1yaWdodDogLTVweDtcXG59XFxuLncydWktZ3JpZCAudzJ1aS1ncmlkLWJvZHkgdGFibGUgLncydWktaGVhZCAuY29sLWludGVyc2VjdGlvbi1tYXJrZXIgLnRvcC1tYXJrZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgaGVpZ2h0OiAwO1xcbiAgd2lkdGg6IDA7XFxuICBib3JkZXItdG9wOiA1cHggc29saWQgIzcyYjJmZjtcXG4gIGJvcmRlci1sZWZ0OiA1cHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItcmlnaHQ6IDVweCBzb2xpZCB0cmFuc3BhcmVudDtcXG59XFxuLncydWktZ3JpZCAudzJ1aS1ncmlkLWJvZHkgdGFibGUgLncydWktaGVhZCAuY29sLWludGVyc2VjdGlvbi1tYXJrZXIgLmJvdHRvbS1tYXJrZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm90dG9tOiAwO1xcbiAgaGVpZ2h0OiAwO1xcbiAgd2lkdGg6IDA7XFxuICBib3JkZXItYm90dG9tOiA1cHggc29saWQgIzcyYjJmZjtcXG4gIGJvcmRlci1sZWZ0OiA1cHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItcmlnaHQ6IDVweCBzb2xpZCB0cmFuc3BhcmVudDtcXG59XFxuLncydWktZ3JpZCAudzJ1aS1ncmlkLWJvZHkgdGFibGUgdGQge1xcbiAgYm9yZGVyLXJpZ2h0OiAxcHggc29saWQgI2Q2ZDVkNztcXG4gIGJvcmRlci1ib3R0b206IDBweCBzb2xpZCAjZDZkNWQ3O1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuLncydWktZ3JpZCAudzJ1aS1ncmlkLWJvZHkgdGFibGUgdGQudzJ1aS1ncmlkLWRhdGEge1xcbiAgbWFyZ2luOiAwcHg7XFxuICBwYWRkaW5nOiAwcHg7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1ib2R5IHRhYmxlIHRkLncydWktZ3JpZC1kYXRhID4gZGl2IHtcXG4gIHBhZGRpbmc6IDNweCAzcHggM3B4IDNweDtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1ib2R5IHRhYmxlIHRkLncydWktZ3JpZC1kYXRhID4gZGl2LmZsZXhpYmxlLXJlY29yZCB7XFxuICBoZWlnaHQ6IGF1dG87XFxuICBvdmVyZmxvdzogdmlzaWJsZTtcXG4gIHdoaXRlLXNwYWNlOiBub3JtYWw7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1ib2R5IHRhYmxlIHRkOmxhc3QtY2hpbGQge1xcbiAgYm9yZGVyLXJpZ2h0OiAwcHg7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1ib2R5IHRhYmxlIC53MnVpLWNvbC1udW1iZXIge1xcbiAgd2lkdGg6IDM0cHg7XFxuICBjb2xvcjogIzc3Nzc3NztcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjMzLCAyMzcsIDI0MywgMC41KTtcXG59XFxuLncydWktZ3JpZCAudzJ1aS1ncmlkLWJvZHkgdGFibGUgLncydWktY29sLW51bWJlciBkaXYge1xcbiAgcGFkZGluZzogMHB4IDdweCAwcHggM3B4O1xcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1ib2R5IHRhYmxlIC53MnVpLWNvbC1zZWxlY3Qge1xcbiAgd2lkdGg6IDI2cHg7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1ib2R5IHRhYmxlIC53MnVpLWNvbC1zZWxlY3QgZGl2IHtcXG4gIHBhZGRpbmc6IDBweCAwcHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbn1cXG4udzJ1aS1ncmlkIC53MnVpLWdyaWQtYm9keSB0YWJsZSAudzJ1aS1jb2wtc2VsZWN0IGRpdiBpbnB1dFt0eXBlPWNoZWNrYm94XSB7XFxuICBtYXJnaW4tdG9wOiAycHg7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1ib2R5IHRhYmxlIC53MnVpLWNvbC1leHBhbmQge1xcbiAgd2lkdGg6IDI2cHg7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1ib2R5IHRhYmxlIC53MnVpLWNvbC1leHBhbmQgZGl2IHtcXG4gIHBhZGRpbmc6IDBweCAwcHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBmb250LXdlaWdodDogYm9sZDtcXG59XFxuLncydWktZ3JpZCAudzJ1aS1ncmlkLWJvZHkgZGl2LncydWktY29sLWhlYWRlciB7XFxuICBoZWlnaHQ6IGF1dG8gIWltcG9ydGFudDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHBhZGRpbmctcmlnaHQ6IDEwcHggIWltcG9ydGFudDtcXG59XFxuLncydWktZ3JpZCAudzJ1aS1ncmlkLWJvZHkgZGl2LncydWktY29sLWhlYWRlciA+IGRpdi53MnVpLXNvcnQtdXAge1xcbiAgYm9yZGVyOiA0cHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItYm90dG9tOiA1cHggc29saWQgIzhEOTlBNztcXG4gIG1hcmdpbi10b3A6IC0ycHg7XFxuICBtYXJnaW4tcmlnaHQ6IC03cHg7XFxuICBmbG9hdDogcmlnaHQ7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1ib2R5IGRpdi53MnVpLWNvbC1oZWFkZXIgPiBkaXYudzJ1aS1zb3J0LWRvd24ge1xcbiAgYm9yZGVyOiA0cHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItdG9wOiA1cHggc29saWQgIzhEOTlBNztcXG4gIG1hcmdpbi10b3A6IDJweDtcXG4gIG1hcmdpbi1yaWdodDogLTdweDtcXG4gIGZsb2F0OiByaWdodDtcXG59XFxuLncydWktZ3JpZCAudzJ1aS1ncmlkLWJvZHkgLncydWktY29sLWdyb3VwIHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuLncydWktZ3JpZCAudzJ1aS1jaGFuZ2VkIHtcXG4gIGJhY2tncm91bmQ6IHVybChkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhDZ0FLQUpFQUFMQUFCZi8vL3dBQUFBQUFBQ0g1QkFFQUFBSUFMQUFBQUFBS0FBb0FBQUlQbEk4SHk4bWJ4SXNTVW51cDNyUUFBRHM9KSBuby1yZXBlYXQgdG9wIHJpZ2h0O1xcbn1cXG4udzJ1aS1ncmlkIC53MnVpLWVkaXRhYmxlIHtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBoZWlnaHQ6IDEwMCUgIWltcG9ydGFudDtcXG4gIG1hcmdpbjogMHB4ICFpbXBvcnRhbnQ7XFxuICBwYWRkaW5nOiAwcHggIWltcG9ydGFudDtcXG59XFxuLncydWktZ3JpZCAudzJ1aS1lZGl0YWJsZSBpbnB1dCB7XFxuICBib3JkZXI6IDBweDtcXG4gIGJvcmRlci1yYWRpdXM6IDBweDtcXG4gIG1hcmdpbjogMHB4O1xcbiAgcGFkZGluZzogNHB4IDNweDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG4udzJ1aS1ncmlkIC53MnVpLWVkaXRhYmxlIGlucHV0LncydWktc2VsZWN0IHtcXG4gIG91dGxpbmU6IG5vbmUgIWltcG9ydGFudDtcXG4gIGJhY2tncm91bmQ6ICNmZmY7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1zdW1tYXJ5IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJveC1zaGFkb3c6IDBweCAtMXB4IDRweCAjYWFhYWFhO1xcbn1cXG4udzJ1aS1ncmlkIC53MnVpLWdyaWQtc3VtbWFyeSB0YWJsZSB7XFxuICBjb2xvcjogaW5oZXJpdDtcXG59XFxuLncydWktZ3JpZCAudzJ1aS1ncmlkLXN1bW1hcnkgdGFibGUgLncydWktb2RkIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlZWY1ZWI7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1zdW1tYXJ5IHRhYmxlIC53MnVpLWV2ZW4ge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZmZmNTtcXG59XFxuLncydWktZ3JpZCAudzJ1aS1ncmlkLWZvb3RlciB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBtYXJnaW46IDBweDtcXG4gIHBhZGRpbmc6IDBweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGhlaWdodDogMjRweDtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICB1c2VyLXNlbGVjdDogdGV4dDtcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IHRleHQ7XFxuICAtbW96LXVzZXItc2VsZWN0OiB0ZXh0O1xcbiAgLW1zLXVzZXItc2VsZWN0OiB0ZXh0O1xcbiAgLW8tdXNlci1zZWxlY3Q6IHRleHQ7XFxuICBib3gtc2hhZG93OiAwcHggLTFweCA0cHggI2VlZWVlZTtcXG4gIGNvbG9yOiAjNDQ0NDQ0O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjhmODtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZGRkZGRkO1xcbiAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMnB4O1xcbiAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDJweDtcXG59XFxuLncydWktZ3JpZCAudzJ1aS1ncmlkLWZvb3RlciAudzJ1aS1mb290ZXItbGVmdCB7XFxuICBmbG9hdDogbGVmdDtcXG4gIHBhZGRpbmctdG9wOiA1cHg7XFxuICBwYWRkaW5nLWxlZnQ6IDVweDtcXG59XFxuLncydWktZ3JpZCAudzJ1aS1ncmlkLWZvb3RlciAudzJ1aS1mb290ZXItcmlnaHQge1xcbiAgZmxvYXQ6IHJpZ2h0O1xcbiAgcGFkZGluZy10b3A6IDVweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDVweDtcXG59XFxuLncydWktZ3JpZCAudzJ1aS1ncmlkLWZvb3RlciAudzJ1aS1mb290ZXItY2VudGVyIHtcXG4gIHBhZGRpbmc6IDJweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuLncydWktZ3JpZCAudzJ1aS1ncmlkLWZvb3RlciAudzJ1aS1mb290ZXItY2VudGVyIC53MnVpLWZvb3Rlci1uYXYge1xcbiAgd2lkdGg6IDExMHB4O1xcbiAgbWFyZ2luOiAwIGF1dG87XFxuICBwYWRkaW5nOiAwcHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1mb290ZXIgLncydWktZm9vdGVyLWNlbnRlciAudzJ1aS1mb290ZXItbmF2IGlucHV0W3R5cGU9dGV4dF0ge1xcbiAgcGFkZGluZzogMXB4IDJweCAycHggMnB4O1xcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xcbiAgd2lkdGg6IDQwcHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1mb290ZXIgLncydWktZm9vdGVyLWNlbnRlciAudzJ1aS1mb290ZXItbmF2IGEudzJ1aS1mb290ZXItYnRuIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIGJvcmRlci1yYWRpdXM6IDNweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGZvbnQtc2l6ZTogMTFweDtcXG4gIGxpbmUtaGVpZ2h0OiAxNnB4O1xcbiAgcGFkZGluZzogMXB4IDVweDtcXG4gIHdpZHRoOiAzMHB4O1xcbiAgaGVpZ2h0OiAxOHB4O1xcbiAgbWFyZ2luLXRvcDogLTFweDtcXG4gIGNvbG9yOiAjMDAwMDAwO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxufVxcbi53MnVpLWdyaWQgLncydWktZ3JpZC1mb290ZXIgLncydWktZm9vdGVyLWNlbnRlciAudzJ1aS1mb290ZXItbmF2IGEudzJ1aS1mb290ZXItYnRuOmhvdmVyIHtcXG4gIGNvbG9yOiAjMDAwMDAwO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2FlYzhmZjtcXG59XFxuLyogU3BlYWRTaGVldCAqL1xcbi53MnVpLXNzIC53MnVpLWdyaWQtYm9keSAudzJ1aS1ncmlkLXJlY29yZHMgdGFibGUgdHIudzJ1aS1vZGQsXFxuLncydWktc3MgLncydWktZ3JpZC1ib2R5IC53MnVpLWdyaWQtcmVjb3JkcyB0YWJsZSB0ci53MnVpLWV2ZW4sXFxuLncydWktc3MgLncydWktZ3JpZC1ib2R5IC53MnVpLWdyaWQtcmVjb3JkcyB0YWJsZSB0ci53MnVpLW9kZDpob3ZlcixcXG4udzJ1aS1zcyAudzJ1aS1ncmlkLWJvZHkgLncydWktZ3JpZC1yZWNvcmRzIHRhYmxlIHRyLncydWktZXZlbjpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBpbmhlcml0O1xcbn1cXG4udzJ1aS1zcyAudzJ1aS1ncmlkLXJlY29yZHMgdGFibGUgdGQge1xcbiAgYm9yZGVyLXJpZ2h0LXdpZHRoOiAxcHg7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VmZWZlZjtcXG59XFxuLncydWktc3MgLncydWktZ3JpZC1yZWNvcmRzIHRhYmxlIHRyOmZpcnN0LWNoaWxkIHRkIHtcXG4gIGJvcmRlci1ib3R0b206IDBweDtcXG59XFxuLncydWktc3MgLncydWktZ3JpZC1ib2R5IC53MnVpLWdyaWQtcmVjb3JkcyB0YWJsZSB0ci53MnVpLXNlbGVjdGVkLFxcbi53MnVpLXNzIC53MnVpLWdyaWQtYm9keSAudzJ1aS1ncmlkLXJlY29yZHMgdGFibGUgdHIgdGQudzJ1aS1zZWxlY3RlZCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRUVGNEZFICFpbXBvcnRhbnQ7XFxufVxcbi53MnVpLXNzIC53MnVpLWNoYW5nZWQge1xcbiAgYmFja2dyb3VuZDogaW5oZXJpdDtcXG59XFxuLncydWktc3MgLncydWktZ3JpZC1ib2R5IC53MnVpLXNlbGVjdGlvbiB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBib3JkZXI6IDJweCBzb2xpZCAjNjI5OURBO1xcbiAgLyogIzQ1N0ZDMjsgKi9cXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbn1cXG4udzJ1aS1zcyAudzJ1aS1ncmlkLWJvZHkgLncydWktc2VsZWN0aW9uIC53MnVpLXNlbGVjdGlvbi1yZXNpemVyIHtcXG4gIGN1cnNvcjogY3Jvc3NoYWlyO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgYm90dG9tOiAwcHg7XFxuICByaWdodDogMHB4O1xcbiAgd2lkdGg6IDZweDtcXG4gIGhlaWdodDogNnB4O1xcbiAgbWFyZ2luLXJpZ2h0OiAtM3B4O1xcbiAgbWFyZ2luLWJvdHRvbTogLTNweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICM0NTdGQzI7XFxuICBib3JkZXI6IDAuNXB4IHNvbGlkICNmZmY7XFxuICBvdXRsaW5lOiAxcHggc29saWQgd2hpdGU7XFxuICBwb2ludGVyLWV2ZW50czogYXV0bztcXG59XFxuLncydWktb3ZlcmxheSAudzJ1aS1zZWxlY3QtZmllbGQge1xcbiAgcGFkZGluZzogOHB4IDVweDtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG59XFxuLncydWktb3ZlcmxheSAudzJ1aS1zZWxlY3QtZmllbGQgdGFibGUge1xcbiAgZm9udC1zaXplOiAxMXB4O1xcbiAgZm9udC1mYW1pbHk6IFZlcmRhbmEsIEFyaWFsLCBzYW5zLXNlcmlmO1xcbiAgYm9yZGVyLXNwYWNpbmc6IDBweDtcXG4gIGJvcmRlci1jb2xsYXBzZTogYm9yZGVyLWNvbGxhcHNlO1xcbn1cXG4udzJ1aS1vdmVybGF5IC53MnVpLXNlbGVjdC1maWVsZCB0YWJsZSB0cjpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjZkNWZmO1xcbn1cXG4udzJ1aS1vdmVybGF5IC53MnVpLXNlbGVjdC1maWVsZCB0YWJsZSB0ZDpudGgtY2hpbGQoMSkge1xcbiAgcGFkZGluZzogM3B4IDNweCAzcHggNnB4O1xcbn1cXG4udzJ1aS1vdmVybGF5IC53MnVpLXNlbGVjdC1maWVsZCB0YWJsZSB0ZDpudGgtY2hpbGQoMSkgaW5wdXQge1xcbiAgbWFyZ2luOiAzcHggMnB4IDJweCAycHg7XFxufVxcbi53MnVpLW92ZXJsYXkgLncydWktc2VsZWN0LWZpZWxkIHRhYmxlIHRkOm50aC1jaGlsZCgyKSB7XFxuICBwYWRkaW5nOiAzcHggMTVweCAzcHggM3B4O1xcbn1cXG4udzJ1aS1vdmVybGF5IC53MnVpLWNvbC1vbi1vZmYge1xcbiAgcGFkZGluZzogNHB4IDBweDtcXG59XFxuLncydWktb3ZlcmxheSAudzJ1aS1jb2wtb24tb2ZmIHRhYmxlIHtcXG4gIGJvcmRlci1zcGFjaW5nOiAwcHg7XFxuICBib3JkZXItY29sbGFwc2U6IGJvcmRlci1jb2xsYXBzZTtcXG59XFxuLncydWktb3ZlcmxheSAudzJ1aS1jb2wtb24tb2ZmIHRhYmxlIHRyOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNiNmQ1ZmY7XFxufVxcbi53MnVpLW92ZXJsYXkgLncydWktY29sLW9uLW9mZiB0YWJsZSB0ZCBpbnB1dFt0eXBlPWNoZWNrYm94XSB7XFxuICBtYXJnaW46IDNweCAycHggMnB4IDJweDtcXG59XFxuLncydWktb3ZlcmxheSAudzJ1aS1jb2wtb24tb2ZmIHRhYmxlIHRkIGxhYmVsIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgcGFkZGluZzogM3B4IDBweDtcXG4gIHBhZGRpbmctcmlnaHQ6IDEwcHg7XFxufVxcbi53MnVpLW92ZXJsYXkgLncydWktY29sLW9uLW9mZiB0YWJsZSB0ZDpmaXJzdC1jaGlsZCB7XFxuICBwYWRkaW5nOiA0cHggMHB4IDRweCA2cHg7XFxufVxcbi53MnVpLW92ZXJsYXkgLncydWktY29sLW9uLW9mZiB0YWJsZSB0ZDpsYXN0LWNoaWxkIHtcXG4gIHBhZGRpbmc6IDRweCA2cHggNHB4IDBweDtcXG59XFxuLncydWktb3ZlcmxheSAudzJ1aS1ncmlkLXNlYXJjaGVzIHtcXG4gIHRleHQtYWxpZ246IGxlZnQ7XFxuICBwYWRkaW5nOiAwcHg7XFxuICBib3JkZXItdG9wOiAwcHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmNmYwO1xcbn1cXG4udzJ1aS1vdmVybGF5IC53MnVpLWdyaWQtc2VhcmNoZXMgdGFibGUge1xcbiAgcGFkZGluZzogNHB4O1xcbiAgcGFkZGluZy10b3A6IDEycHg7XFxuICBib3JkZXItY29sbGFwc2U6IGJvcmRlci1jb2xsYXBzZTtcXG59XFxuLncydWktb3ZlcmxheSAudzJ1aS1ncmlkLXNlYXJjaGVzIHRhYmxlIHRkIHtcXG4gIHBhZGRpbmc6IDRweDtcXG4gIC8qIGZvciBJRSAqL1xcbn1cXG4udzJ1aS1vdmVybGF5IC53MnVpLWdyaWQtc2VhcmNoZXMgdGFibGUgdGQuY2xvc2UtYnRuIHtcXG4gIHdpZHRoOiAyMHB4O1xcbiAgcGFkZGluZy1yaWdodDogMjBweDtcXG59XFxuLncydWktb3ZlcmxheSAudzJ1aS1ncmlkLXNlYXJjaGVzIHRhYmxlIHRkLmNsb3NlLWJ0biBidXR0b24ge1xcbiAgbWluLXdpZHRoOiAyNHB4O1xcbiAgaGVpZ2h0OiAyNHB4O1xcbiAgcGFkZGluZy10b3A6IDZweCAhaW1wb3J0YW50O1xcbn1cXG4udzJ1aS1vdmVybGF5IC53MnVpLWdyaWQtc2VhcmNoZXMgdGFibGUgdGQuY2FwdGlvbiB7XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG4gIHBhZGRpbmctcmlnaHQ6IDVweDtcXG4gIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNlOGU4ZTM7XFxufVxcbi53MnVpLW92ZXJsYXkgLncydWktZ3JpZC1zZWFyY2hlcyB0YWJsZSB0ZC5vcGVyYXRvciB7XFxuICB0ZXh0LWFsaWduOiBsZWZ0O1xcbiAgcGFkZGluZzogMHB4IDEwcHg7XFxuICBwYWRkaW5nLXJpZ2h0OiA1cHg7XFxuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZThlOGUzO1xcbn1cXG4udzJ1aS1vdmVybGF5IC53MnVpLWdyaWQtc2VhcmNoZXMgdGFibGUgdGQub3BlcmF0b3Igc2VsZWN0IHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgY29sb3I6IGJsYWNrO1xcbiAgcGFkZGluZzogMHB4IDE1cHggMHB4IDVweDtcXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcXG4gIC1tb3otYXBwZWFyYW5jZTogbm9uZTtcXG4gIC1tcy1hcHBlYXJhbmNlOiBub25lO1xcbiAgLW8tYXBwZWFyYW5jZTogbm9uZTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwjZmZmZmZmIDIwJSwjZjZmNmY2IDUwJSwjZWVlZWVlIDUyJSwjZjRmNGY0IDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCNmZmZmZmYgMjAlLCNmNmY2ZjYgNTAlLCNlZWVlZWUgNTIlLCNmNGY0ZjQgMTAwJSk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwjZmZmZmZmIDIwJSwjZjZmNmY2IDUwJSwjZWVlZWVlIDUyJSwjZjRmNGY0IDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KHRvcCwjZmZmZmZmIDIwJSwjZjZmNmY2IDUwJSwjZWVlZWVlIDUyJSwjZjRmNGY0IDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvcCwjZmZmZmZmIDIwJSwjZjZmNmY2IDUwJSwjZWVlZWVlIDUyJSwjZjRmNGY0IDEwMCUpO1xcbn1cXG4udzJ1aS1vdmVybGF5IC53MnVpLWdyaWQtc2VhcmNoZXMgdGFibGUgdGQub3BlcmF0b3Igc2VsZWN0OjotbXMtZXhwYW5kIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi53MnVpLW92ZXJsYXkgLncydWktZ3JpZC1zZWFyY2hlcyB0YWJsZSB0ZC52YWx1ZSB7XFxuICBwYWRkaW5nLXJpZ2h0OiA1cHg7XFxuICBwYWRkaW5nLWxlZnQ6IDVweDtcXG59XFxuLncydWktb3ZlcmxheSAudzJ1aS1ncmlkLXNlYXJjaGVzIHRhYmxlIHRkLnZhbHVlIGlucHV0W3R5cGU9dGV4dF0ge1xcbiAgYm9yZGVyLXJhZGl1czogM3B4O1xcbiAgcGFkZGluZzogM3B4O1xcbiAgbWFyZ2luLXJpZ2h0OiAzcHg7XFxuICBoZWlnaHQ6IDIzcHg7XFxufVxcbi53MnVpLW92ZXJsYXkgLncydWktZ3JpZC1zZWFyY2hlcyB0YWJsZSB0ZC52YWx1ZSBzZWxlY3Qge1xcbiAgcGFkZGluZzogM3B4O1xcbiAgbWFyZ2luLXJpZ2h0OiAzcHg7XFxuICBoZWlnaHQ6IDIzcHg7XFxufVxcbi53MnVpLW92ZXJsYXkgLncydWktZ3JpZC1zZWFyY2hlcyB0YWJsZSB0ZC5hY3Rpb25zIHtcXG4gIGJvcmRlci1yaWdodDogMHB4O1xcbn1cXG4udzJ1aS1vdmVybGF5IC53MnVpLWdyaWQtc2VhcmNoZXMgdGFibGUgdGQuYWN0aW9ucyA+IGRpdiB7XFxuICBtYXJnaW46IC03cHg7XFxuICBtYXJnaW4tdG9wOiAxNXB4O1xcbiAgcGFkZGluZzogMTNweCAwcHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWZlZmU5O1xcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlOGU4ZTM7XFxufVxcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXFxuKiAtLS0tIFBvcHVwIC0tLS1cXG4qL1xcbi53MnVpLXBvcHVwIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHotaW5kZXg6IDE2MDA7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgZm9udC1mYW1pbHk6IFZlcmRhbmEsIEFyaWFsLCBzYW5zLXNlcmlmO1xcbiAgYm9yZGVyLXJhZGl1czogNnB4O1xcbiAgcGFkZGluZzogMHB4O1xcbiAgbWFyZ2luOiAwcHg7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjNzc3Nzc3O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VlZWVlZTtcXG4gIGJveC1zaGFkb3c6IDBweCAwcHggMjVweCAjNTU1NTU1O1xcbn1cXG4udzJ1aS1wb3B1cCxcXG4udzJ1aS1wb3B1cCAqIHtcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIC1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIC1tcy1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgLW8tYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcbi53MnVpLXBvcHVwIC53MnVpLW1zZy10aXRsZSB7XFxuICBwYWRkaW5nOiA2cHg7XFxuICBib3JkZXItcmFkaXVzOiA2cHggNnB4IDBweCAwcHg7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCgjZWNlY2VjLCAjZGZkZmRmKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KCNlY2VjZWMsICNkZmRmZGYpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudCgjZWNlY2VjLCAjZGZkZmRmKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1vLWxpbmVhci1ncmFkaWVudCgjZWNlY2VjLCAjZGZkZmRmKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgjZWNlY2VjLCAjZGZkZmRmKTtcXG4gIGZpbHRlcjogcHJvZ2lkOmR4aW1hZ2V0cmFuc2Zvcm0ubWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9JyNmZmVjZWNlYycsIGVuZENvbG9yc3RyPScjZmZkZmRmZGYnLCBHcmFkaWVudFR5cGU9MCk7XFxuICBib3JkZXItYm90dG9tOiAycHggc29saWQgI2JmYmZiZjtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBoZWlnaHQ6IDMycHg7XFxuICBsZWZ0OiAwcHg7XFxuICByaWdodDogMHB4O1xcbiAgdG9wOiAwcHg7XFxuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcbiAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xcbiAgLW8tdXNlci1zZWxlY3Q6IG5vbmU7XFxuICB1c2VyLXNlbGVjdDogbm9uZTtcXG4gIGN1cnNvcjogbW92ZTtcXG4gIGZvbnQtc2l6ZTogMTVweDtcXG4gIGNvbG9yOiAjNTU1NTU1O1xcbiAgei1pbmRleDogMzAwO1xcbn1cXG4udzJ1aS1wb3B1cCAudzJ1aS1tc2ctYnV0dG9uIHtcXG4gIGZsb2F0OiByaWdodDtcXG4gIHdpZHRoOiAxOHB4O1xcbiAgaGVpZ2h0OiAxOHB4O1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHBhZGRpbmc6IDBweDtcXG4gIG1hcmdpbjogMHB4IDNweCAwcHggMHB4O1xcbiAgYmFja2dyb3VuZDogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBREFBQUFBUUNBWUFBQUJRcnZ5eEFBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUFLVDJsRFExQlFhRzkwYjNOb2IzQWdTVU5ESUhCeWIyWnBiR1VBQUhqYW5WTm5WRlBwRmozMzN2UkNTNGlBbEV0dlVoVUlJRkpDaTRBVWtTWXFJUWtRU29naG9ka1ZVY0VSUlVVRUc4aWdpQU9Pam9DTUZWRXNESW9LMkFma0lhS09nNk9JaXNyNzRYdWphOWE4OStiTi9yWFhQdWVzODUyenp3ZkFDQXlXU0ROUk5ZQU1xVUllRWVDRHg4VEc0ZVF1UUlFS0pIQUFFQWl6WkNGei9TTUJBUGgrUER3cklzQUh2Z0FCZU5NTENBREFUWnZBTUJ5SC93L3FRcGxjQVlDRUFjQjBrVGhMQ0lBVUFFQjZqa0ttQUVCR0FZQ2RtQ1pUQUtBRUFHRExZMkxqQUZBdEFHQW5mK2JUQUlDZCtKbDdBUUJibENFVkFhQ1JBQ0FUWlloRUFHZzdBS3pQVm9wRkFGZ3dBQlJtUzhRNUFOZ3RBREJKVjJaSUFMQzNBTURPRUF1eUFBZ01BREJSaUlVcEFBUjdBR0RJSXlONEFJU1pBQlJHOGxjODhTdXVFT2NxQUFCNG1iSTh1U1E1UllGYkNDMXhCMWRYTGg0b3pra1hLeFEyWVFKaG1rQXV3bm1aR1RLQk5BL2c4OHdBQUtDUkZSSGdnL1A5ZU00T3JzN09ObzYyRGw4dDZyOEcveUppWXVQKzVjK3JjRUFBQU9GMGZ0SCtMQyt6R29BN0JvQnQvcUlsN2dSb1hndWdkZmVMWnJJUFFMVUFvT25hVi9OdytINDhQRVdoa0xuWjJlWGs1TmhLeEVKYlljcFhmZjVud2wvQVYvMXMrWDQ4L1BmMTRMN2lKSUV5WFlGSEJQamd3c3owVEtVY3o1SUpoR0xjNW85SC9MY0wvL3dkMHlMRVNXSzVXQ29VNDFFU2NZNUVtb3p6TXFVaWlVS1NLY1VsMHY5azR0OHMrd00rM3pVQXNHbytBWHVSTGFoZFl3UDJTeWNRV0hUQTR2Y0FBUEs3YjhIVUtBZ0RnR2lENGM5My8rOC8vVWVnSlFDQVprbVNjUUFBWGtRa0xsVEtzei9IQ0FBQVJLQ0JLckJCRy9UQkdDekFCaHpCQmR6QkMveGdOb1JDSk1UQ1FoQkNDbVNBSEhKZ0theUNRaWlHemJBZEttQXYxRUFkTk1CUmFJYVRjQTR1d2xXNERqMXdEL3BoQ0o3QktMeUJDUVJCeUFnVFlTSGFpQUZpaWxnampnZ1htWVg0SWNGSUJCS0xKQ0RKaUJSUklrdVJOVWd4VW9wVUlGVklIZkk5Y2dJNWgxeEd1cEU3eUFBeWd2eUd2RWN4bElHeVVUM1VETFZEdWFnM0dvUkdvZ3ZRWkhReG1vOFdvSnZRY3JRYVBZdzJvZWZRcTJnUDJvOCtROGN3d09nWUJ6UEViREF1eHNOQ3NUZ3NDWk5qeTdFaXJBeXJ4aHF3VnF3RHU0bjFZOCt4ZHdRU2dVWEFDVFlFZDBJZ1lSNUJTRmhNV0U3WVNLZ2dIQ1EwRWRvSk53a0RoRkhDSnlLVHFFdTBKcm9SK2NRWVlqSXhoMWhJTENQV0VvOFRMeEI3aUVQRU55UVNpVU15SjdtUUFrbXhwRlRTRXRKRzBtNVNJK2tzcVpzMFNCb2prOG5hWkd1eUJ6bVVMQ0FyeUlYa25lVEQ1RFBrRytRaDhsc0tuV0pBY2FUNFUrSW9Vc3BxU2hubEVPVTA1UVpsbURKQlZhT2FVdDJvb1ZRUk5ZOWFRcTJodGxLdlVZZW9FelIxbWpuTmd4WkpTNld0b3BYVEdtZ1hhUGRwcitoMHVoSGRsUjVPbDlCWDBzdnBSK2lYNkFQMGR3d05oaFdEeDRobktCbWJHQWNZWnhsM0dLK1lUS1laMDRzWngxUXdOekhybU9lWkQ1bHZWVmdxdGlwOEZaSEtDcFZLbFNhVkd5b3ZWS21xcHFyZXFndFY4MVhMVkkrcFhsTjlya1pWTTFQanFRblVscXRWcXAxUTYxTWJVMmVwTzZpSHFtZW9iMVEvcEg1Wi9Za0dXY05NdzA5RHBGR2dzVi9qdk1ZZ0MyTVpzM2dzSVdzTnE0WjFnVFhFSnJITjJYeDJLcnVZL1IyN2l6MnFxYUU1UXpOS00xZXpVdk9VWmo4SDQ1aHgrSngwVGdubktLZVg4MzZLM2hUdktlSXBHNlkwVExreFpWeHJxcGFYbGxpclNLdFJxMGZydlRhdTdhZWRwcjFGdTFuN2dRNUJ4MG9uWENkSFo0L09CWjNuVTlsVDNhY0tweFpOUFRyMXJpNnFhNlVib2J0RWQ3OXVwKzZZbnI1ZWdKNU1iNmZlZWIzbitoeDlMLzFVL1czNnAvVkhERmdHc3d3a0J0c016aGc4eFRWeGJ6d2RMOGZiOFZGRFhjTkFRNlZobFdHWDRZU1J1ZEU4bzlWR2pVWVBqR25HWE9NazQyM0diY2FqSmdZbUlTWkxUZXBON3BwU1RibW1LYVk3VER0TXg4M016YUxOMXBrMW16MHgxekxubStlYjE1dmZ0MkJhZUZvc3RxaTJ1R1ZKc3VSYXBsbnV0cnh1aFZvNVdhVllWVnBkczBhdG5hMGwxcnV0dTZjUnA3bE9rMDZybnRabnc3RHh0c20ycWJjWnNPWFlCdHV1dG0yMmZXRm5ZaGRudDhXdXcrNlR2Wk45dW4yTi9UMEhEWWZaRHFzZFdoMStjN1J5RkRwV090NmF6cHp1UDMzRjlKYnBMMmRZenhEUDJEUGp0aFBMS2NScG5WT2IwMGRuRjJlNWM0UHppSXVKUzRMTExwYytMcHNieHQzSXZlUktkUFZ4WGVGNjB2V2RtN09id3UybzI2L3VOdTVwN29mY244dzBueW1lV1ROejBNUElRK0JSNWRFL0M1K1ZNR3Zmckg1UFEwK0JaN1huSXk5akw1RlhyZGV3dDZWM3F2ZGg3eGMrOWo1eW4rTSs0enczM2pMZVdWL01OOEMzeUxmTFQ4TnZubCtGMzBOL0kvOWsvM3IvMFFDbmdDVUJad09KZ1VHQld3TDcrSHA4SWIrT1B6cmJaZmF5MmUxQmpLQzVRUlZCajRLdGd1WEJyU0ZveU95UXJTSDM1NWpPa2M1cERvVlFmdWpXMEFkaDVtR0x3MzRNSjRXSGhWZUdQNDV3aUZnYTBUR1hOWGZSM0VOejMwVDZSSlpFM3B0bk1VODVyeTFLTlNvK3FpNXFQTm8zdWpTNlA4WXVabG5NMVZpZFdFbHNTeHc1TGlxdU5tNXN2dC84N2ZPSDRwM2lDK043RjVndnlGMXdlYUhPd3ZTRnB4YXBMaElzT3BaQVRJaE9PSlR3UVJBcXFCYU1KZklUZHlXT0NubkNIY0puSWkvUk50R0kyRU5jS2g1TzhrZ3FUWHFTN0pHOE5Ya2t4VE9sTE9XNWhDZXBrTHhNRFV6ZG16cWVGcHAySUcweVBUcTlNWU9Ta1pCeFFxb2hUWk8yWitwbjVtWjJ5NnhsaGJMK3hXNkx0eThlbFFmSmE3T1FyQVZaTFFxMlFxYm9WRm9vMXlvSHNtZGxWMmEvelluS09aYXJuaXZON2N5enl0dVFONXp2bi8vdEVzSVM0WksycFlaTFZ5MGRXT2E5ckdvNXNqeHhlZHNLNHhVRks0WldCcXc4dUlxMkttM1ZUNnZ0VjVldWZyMG1lazFyZ1Y3QnlvTEJ0UUZyNnd0VkN1V0ZmZXZjMSsxZFQxZ3ZXZCsxWWZxR25ScytGWW1LcmhUYkY1Y1ZmOWdvM0hqbEc0ZHZ5citaM0pTMHFhdkV1V1RQWnRKbTZlYmVMWjViRHBhcWwrYVhEbTROMmRxMERkOVd0TzMxOWtYYkw1Zk5LTnU3ZzdaRHVhTy9QTGk4WmFmSnpzMDdQMVNrVlBSVStsUTI3dExkdFdIWCtHN1I3aHQ3dlBZMDdOWGJXN3ozL1Q3SnZ0dFZBVlZOMVdiVlpmdEorN1AzUDY2SnF1bjRsdnR0WGExT2JYSHR4d1BTQS8wSEl3NjIxN25VMVIzU1BWUlNqOVlyNjBjT3h4KysvcDN2ZHkwTk5nMVZqWnpHNGlOd1JIbms2ZmNKMy9jZURUcmFkb3g3ck9FSDB4OTJIV2NkTDJwQ212S2FScHRUbXZ0YllsdTZUOHcrMGRicTNucjhSOXNmRDV3MFBGbDVTdk5VeVduYTZZTFRrMmZ5ejR5ZGxaMTlmaTc1M0dEYm9yWjc1MlBPMzJvUGIrKzZFSFRoMGtYL2krYzd2RHZPWFBLNGRQS3kyK1VUVjdoWG1xODZYMjNxZE9vOC9wUFRUOGU3bkx1YXJybGNhN251ZXIyMWUyYjM2UnVlTjg3ZDlMMTU4UmIvMXRXZU9UM2R2Zk42Yi9mRjkvWGZGdDErY2lmOXpzdTcyWGNuN3EyOFQ3eGY5RUR0UWRsRDNZZlZQMXYrM05qdjNIOXF3SGVnODlIY1IvY0doWVBQL3BIMWp3OURCWStaajh1R0RZYnJuamcrT1RuaVAzTDk2ZnluUTg5a3p5YWVGLzZpL3N1dUZ4WXZmdmpWNjlmTzBaalJvWmZ5bDVPL2JYeWwvZXJBNnhtdjI4YkN4aDYreVhnek1WNzBWdnZ0d1hmY2R4M3ZvOThQVCtSOElIOG8vMmo1c2ZWVDBLZjdreG1Uay84RUE1anovR016TGRzQUFBQWdZMGhTVFFBQWVpVUFBSUNEQUFENS93QUFnT2tBQUhVd0FBRHFZQUFBT3BnQUFCZHZrbC9GUmdBQUFqMUpSRUZVZU5yc2xyOXJGRkVReHovelppL3F4U2dXMmxzcWtpWW9Ca3U1Um8xbzRVRktFWWtnU2F4U0NMWXFkdjVJRVZQWUNNSkp3RVJXckswQ0tob1E4aGRvYlFUalhXN25qY1hsWW5MdW5RUXUwWURUTE95K056dmZtZTk4WjhUZDJja1cyT0dXZE12UnZZZlQvUkdmQlBvQkJWcExLMEFFUGdWa2RHTDA2dnQvQ29CNW5CYVJFOEFYWUtYTnNRSXdhQjRmQXdPdEgrODhtbjRtN2lmTjR2VVllYldCS2tGS3FqSVYzTjlOakkyVXV3NUFSSTQ1ZkJhbkgrRjc3aUZuTjhKSEVUbVM2OFA5TkhCUU5Ud0hMOGZvYVNONFNxb3lBL1NaeUw0dHFRQVFCVllDTE9GWWxOeG1xMFdvclZMcE45T2U1TEt0MUNzZ1JWV3BBT2ZCNjZwaEJ1aFRrZXBTZGZuS1ZqYXhOSk1TV24vaWF3bVR0cGVEcDZwV0JwYUJvcXJNcW9ZVTZBT3FJYkZoeEdhM1I0VjhuZk5OS0xVRVN6WEpob0N2UUMrd0YvZ1cxQzVJaUMrMlhVYkQ1akEzcmQ0QzI2TlIzOTQ1SUEyaVJ6cVJKZ2RFbEpKbFNRb2NBS3JBRDJBLzZFdjNjTGFqak41OU1EV0h5S2wydm9PSTF6S2J2M1hqMmxDSEpGb3orTFh1Qm9JQWpuVWtsRXZKckREVDVMd21kaEc4YmxreUJ4UmpYU3U0bG9FMFg0VkV6blhLVjNTbm9PRk1CN1lVb2xCY2JjS05keHVQWFVCUHU4cGJMWHNLMGdoZWJWakVYZ05vWW1YTHRHTHV4ZDZlUFUrQVEyMEFhSXJiNERwRnljbVN2ODEvN1lzaU1nQXN0QjFrUWdFNDdPNEx1UW1DTndHT0I3VnhDYi9VUnNSU1RiaGttVTRpZkdpWkhkMVo1bTdmbnhvSVFTYUJvMzlZSlJaajlMR2I0eVB6WFdtMS85dm9YN2FmQXdBQzV0YWNEVEEyWGdBQUFBQkpSVTVFcmtKZ2dnPT0pIG5vLXJlcGVhdCBjZW50ZXIgbGVmdDtcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IDBweCAwcHg7XFxuICBjb2xvcjogdHJhbnNwYXJlbnQgIWltcG9ydGFudDtcXG4gIGJvcmRlci1yYWRpdXM6IDNweDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbn1cXG4udzJ1aS1wb3B1cCAudzJ1aS1tc2ctY2xvc2Uge1xcbiAgbWFyZ2luLXRvcDogMHB4O1xcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTMycHggMHB4O1xcbn1cXG4udzJ1aS1wb3B1cCAudzJ1aS1tc2ctY2xvc2U6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2NjY2NjYztcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNhYWFhYWE7XFxufVxcbi53MnVpLXBvcHVwIC53MnVpLW1zZy1tYXgge1xcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogLTE2cHggMHB4O1xcbn1cXG4udzJ1aS1wb3B1cCAudzJ1aS1tc2ctbWF4OmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNjY2NjY2M7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjYWFhYWFhO1xcbn1cXG4udzJ1aS1wb3B1cCAudzJ1aS1ib3gxLFxcbi53MnVpLXBvcHVwIC53MnVpLWJveDIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgbGVmdDogMHB4O1xcbiAgcmlnaHQ6IDBweDtcXG4gIHRvcDogMzJweDtcXG4gIGJvdHRvbTogNTVweDtcXG4gIHotaW5kZXg6IDEwMDtcXG59XFxuLncydWktcG9wdXAgLncydWktbXNnLWJvZHkge1xcbiAgZm9udC1zaXplOiAxM3B4O1xcbiAgbGluZS1oZWlnaHQ6IDEzMCU7XFxuICBwYWRkaW5nOiAwcHggN3B4IDdweCA3cHg7XFxuICBjb2xvcjogIzAwMDAwMDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlZWVlZWU7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBvdmVyZmxvdzogYXV0bztcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbn1cXG4udzJ1aS1wb3B1cCAudzJ1aS1wb3B1cC1tZXNzYWdlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDI1MDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmOWY5Zjk7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjOTk5OTk5O1xcbiAgYm94LXNoYWRvdzogMHB4IDBweCAxNXB4ICNhYWFhYWE7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtbXMtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIC1vLWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgYm9yZGVyLXRvcDogMHB4O1xcbiAgYm9yZGVyLXJhZGl1czogMHB4IDBweCA2cHggNnB4O1xcbiAgb3ZlcmZsb3c6IGF1dG87XFxufVxcbi53MnVpLXBvcHVwIC53MnVpLW1zZy1idXR0b25zIHtcXG4gIHBhZGRpbmc6IDEycHg7XFxuICBib3JkZXItcmFkaXVzOiAwcHggMHB4IDZweCA2cHg7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgI2Q1ZDhkODtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgaGVpZ2h0OiA1MnB4O1xcbiAgbGVmdDogMHB4O1xcbiAgcmlnaHQ6IDBweDtcXG4gIGJvdHRvbTogMHB4O1xcbiAgei1pbmRleDogMjAwO1xcbn1cXG4udzJ1aS1wb3B1cCAudzJ1aS1tc2ctbm8tdGl0bGUge1xcbiAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogNnB4O1xcbiAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDZweDtcXG4gIHRvcDogMHB4ICFpbXBvcnRhbnQ7XFxufVxcbi53MnVpLXBvcHVwIC53MnVpLW1zZy1uby1idXR0b25zIHtcXG4gIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDZweDtcXG4gIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiA2cHg7XFxuICBib3R0b206IDBweCAhaW1wb3J0YW50O1xcbn1cXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxcbiogLS0tLSBTaWRlYmFyIC0tLS1cXG4qL1xcbi53MnVpLXNpZGViYXIge1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbiAgb3ZlcmZsb3c6IGhpZGRlbiAhaW1wb3J0YW50O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VkZjFmNiAhaW1wb3J0YW50O1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgLW1zLWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtby1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuLncydWktc2lkZWJhciAqIHtcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIC1tb3otYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIC1tcy1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgLW8tYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcbi53MnVpLXNpZGViYXIgPiBkaXYge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuLncydWktc2lkZWJhciAudzJ1aS1zaWRlYmFyLXRvcCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB6LWluZGV4OiAyO1xcbiAgdG9wOiAwcHg7XFxuICBsZWZ0OiAwcHg7XFxuICByaWdodDogMHB4O1xcbn1cXG4udzJ1aS1zaWRlYmFyIC53MnVpLXNpZGViYXItYm90dG9tIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDI7XFxuICBib3R0b206IDBweDtcXG4gIGxlZnQ6IDBweDtcXG4gIHJpZ2h0OiAwcHg7XFxufVxcbi53MnVpLXNpZGViYXIgLncydWktc2lkZWJhci1kaXYge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogMTtcXG4gIG92ZXJmbG93OiBhdXRvO1xcbiAgdG9wOiAwcHg7XFxuICBib3R0b206IDBweDtcXG4gIGxlZnQ6IDBweDtcXG4gIHJpZ2h0OiAwcHg7XFxuICBwYWRkaW5nOiAycHggMHB4O1xcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtby11c2VyLXNlbGVjdDogbm9uZTtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbn1cXG4udzJ1aS1zaWRlYmFyIC53MnVpLXNpZGViYXItZGl2IHRhYmxlIHtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG4udzJ1aS1zaWRlYmFyIC53MnVpLXNpZGViYXItZGl2IC53MnVpLW5vZGUge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VkZjFmNjtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIG1hcmdpbjogMHB4O1xcbiAgcGFkZGluZzogMXB4IDBweDtcXG59XFxuLncydWktc2lkZWJhciAudzJ1aS1zaWRlYmFyLWRpdiAudzJ1aS1ub2RlIHRhYmxlIHtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbn1cXG4udzJ1aS1zaWRlYmFyIC53MnVpLXNpZGViYXItZGl2IC53MnVpLW5vZGUgLncydWktbm9kZS1jYXB0aW9uLFxcbi53MnVpLXNpZGViYXIgLncydWktc2lkZWJhci1kaXYgLncydWktbm9kZSAudzJ1aS1ub2RlLWltYWdlLFxcbi53MnVpLXNpZGViYXIgLncydWktc2lkZWJhci1kaXYgLncydWktbm9kZSAudzJ1aS1ub2RlLWltYWdlID4gc3BhbixcXG4udzJ1aS1zaWRlYmFyIC53MnVpLXNpZGViYXItZGl2IC53MnVpLW5vZGUgdGQudzJ1aS1ub2RlLWRvdHMge1xcbiAgY29sb3I6ICMwMDAwMDA7XFxuICB0ZXh0LXNoYWRvdzogMHB4IDBweCAwcHggI2ZmZmZmZjtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbn1cXG4udzJ1aS1zaWRlYmFyIC53MnVpLXNpZGViYXItZGl2IC53MnVpLW5vZGUgLncydWktbm9kZS1jYXB0aW9uOmhvdmVyLFxcbi53MnVpLXNpZGViYXIgLncydWktc2lkZWJhci1kaXYgLncydWktbm9kZSAudzJ1aS1ub2RlLWltYWdlOmhvdmVyLFxcbi53MnVpLXNpZGViYXIgLncydWktc2lkZWJhci1kaXYgLncydWktbm9kZSAudzJ1aS1ub2RlLWltYWdlID4gc3Bhbjpob3ZlcixcXG4udzJ1aS1zaWRlYmFyIC53MnVpLXNpZGViYXItZGl2IC53MnVpLW5vZGUgdGQudzJ1aS1ub2RlLWRvdHM6aG92ZXIge1xcbiAgY29sb3I6IGluaGVyaXQ7XFxufVxcbi53MnVpLXNpZGViYXIgLncydWktc2lkZWJhci1kaXYgLncydWktbm9kZTpob3ZlciB7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgI2Y5ZjlmOTtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZjlmOWY5O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Q3ZTFlZjtcXG59XFxuLncydWktc2lkZWJhciAudzJ1aS1zaWRlYmFyLWRpdiAudzJ1aS1ub2RlIC53MnVpLW5vZGUtaW1hZ2Uge1xcbiAgd2lkdGg6IDIycHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBwb2ludGVyLWV2ZW50czogbm9uZTtcXG59XFxuLncydWktc2lkZWJhciAudzJ1aS1zaWRlYmFyLWRpdiAudzJ1aS1ub2RlIC53MnVpLW5vZGUtaW1hZ2UgPiBzcGFuIHtcXG4gIGNvbG9yOiAjNTE2MTczICFpbXBvcnRhbnQ7XFxufVxcbi53MnVpLXNpZGViYXIgLncydWktc2lkZWJhci1kaXYgLncydWktbm9kZSBpbnB1dCB7XFxuICBwb2ludGVyLWV2ZW50czogYXV0bztcXG59XFxuLncydWktc2lkZWJhciAudzJ1aS1zaWRlYmFyLWRpdiAudzJ1aS1zZWxlY3RlZCxcXG4udzJ1aS1zaWRlYmFyIC53MnVpLXNpZGViYXItZGl2IC53MnVpLXNlbGVjdGVkOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KCM2OWIxZTAsICM0YTk2ZDMpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW1vei1saW5lYXItZ3JhZGllbnQoIzY5YjFlMCwgIzRhOTZkMyk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KCM2OWIxZTAsICM0YTk2ZDMpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KCM2OWIxZTAsICM0YTk2ZDMpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KCM2OWIxZTAsICM0YTk2ZDMpO1xcbiAgZmlsdGVyOiBwcm9naWQ6ZHhpbWFnZXRyYW5zZm9ybS5taWNyb3NvZnQuZ3JhZGllbnQoc3RhcnRDb2xvcnN0cj0nI2ZmNjliMWUwJywgZW5kQ29sb3JzdHI9JyNmZjRhOTZkMycsIEdyYWRpZW50VHlwZT0wKTtcXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjNTI5NWNkO1xcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMyNjYxYTY7XFxufVxcbi53MnVpLXNpZGViYXIgLncydWktc2lkZWJhci1kaXYgLncydWktc2VsZWN0ZWQgLncydWktbm9kZS1jYXB0aW9uLFxcbi53MnVpLXNpZGViYXIgLncydWktc2lkZWJhci1kaXYgLncydWktc2VsZWN0ZWQ6aG92ZXIgLncydWktbm9kZS1jYXB0aW9uLFxcbi53MnVpLXNpZGViYXIgLncydWktc2lkZWJhci1kaXYgLncydWktc2VsZWN0ZWQgLncydWktbm9kZS1pbWFnZSxcXG4udzJ1aS1zaWRlYmFyIC53MnVpLXNpZGViYXItZGl2IC53MnVpLXNlbGVjdGVkOmhvdmVyIC53MnVpLW5vZGUtaW1hZ2UsXFxuLncydWktc2lkZWJhciAudzJ1aS1zaWRlYmFyLWRpdiAudzJ1aS1zZWxlY3RlZCAudzJ1aS1ub2RlLWltYWdlID4gc3BhbixcXG4udzJ1aS1zaWRlYmFyIC53MnVpLXNpZGViYXItZGl2IC53MnVpLXNlbGVjdGVkOmhvdmVyIC53MnVpLW5vZGUtaW1hZ2UgPiBzcGFuLFxcbi53MnVpLXNpZGViYXIgLncydWktc2lkZWJhci1kaXYgLncydWktc2VsZWN0ZWQgdGQudzJ1aS1ub2RlLWRvdHMsXFxuLncydWktc2lkZWJhciAudzJ1aS1zaWRlYmFyLWRpdiAudzJ1aS1zZWxlY3RlZDpob3ZlciB0ZC53MnVpLW5vZGUtZG90cyB7XFxuICBjb2xvcjogI2ZmZmZmZiAhaW1wb3J0YW50O1xcbiAgdGV4dC1zaGFkb3c6IDFweCAxcHggMnB4ICM2NjY2NjYgIWltcG9ydGFudDtcXG59XFxuLncydWktc2lkZWJhciAudzJ1aS1zaWRlYmFyLWRpdiAudzJ1aS1kaXNhYmxlZCxcXG4udzJ1aS1zaWRlYmFyIC53MnVpLXNpZGViYXItZGl2IC53MnVpLWRpc2FibGVkOmhvdmVyIHtcXG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XFxuICBib3JkZXItdG9wOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxufVxcbi53MnVpLXNpZGViYXIgLncydWktc2lkZWJhci1kaXYgLncydWktZGlzYWJsZWQgLncydWktbm9kZS1jYXB0aW9uLFxcbi53MnVpLXNpZGViYXIgLncydWktc2lkZWJhci1kaXYgLncydWktZGlzYWJsZWQ6aG92ZXIgLncydWktbm9kZS1jYXB0aW9uLFxcbi53MnVpLXNpZGViYXIgLncydWktc2lkZWJhci1kaXYgLncydWktZGlzYWJsZWQgLncydWktbm9kZS1pbWFnZSxcXG4udzJ1aS1zaWRlYmFyIC53MnVpLXNpZGViYXItZGl2IC53MnVpLWRpc2FibGVkOmhvdmVyIC53MnVpLW5vZGUtaW1hZ2UsXFxuLncydWktc2lkZWJhciAudzJ1aS1zaWRlYmFyLWRpdiAudzJ1aS1kaXNhYmxlZCAudzJ1aS1ub2RlLWltYWdlID4gc3BhbixcXG4udzJ1aS1zaWRlYmFyIC53MnVpLXNpZGViYXItZGl2IC53MnVpLWRpc2FibGVkOmhvdmVyIC53MnVpLW5vZGUtaW1hZ2UgPiBzcGFuLFxcbi53MnVpLXNpZGViYXIgLncydWktc2lkZWJhci1kaXYgLncydWktZGlzYWJsZWQgdGQudzJ1aS1ub2RlLWRvdHMsXFxuLncydWktc2lkZWJhciAudzJ1aS1zaWRlYmFyLWRpdiAudzJ1aS1kaXNhYmxlZDpob3ZlciB0ZC53MnVpLW5vZGUtZG90cyB7XFxuICBvcGFjaXR5OiAwLjQ7XFxuICBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9NDApO1xcbiAgY29sb3I6ICMwMDAwMDAgIWltcG9ydGFudDtcXG4gIHRleHQtc2hhZG93OiAwcHggMHB4IDBweCAjZmZmZmZmICFpbXBvcnRhbnQ7XFxufVxcbi53MnVpLXNpZGViYXIgLncydWktc2lkZWJhci1kaXYgLncydWktbm9kZS1jYXB0aW9uIHtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICBwYWRkaW5nOiA1cHggMHB4IDVweCAzcHg7XFxuICBtYXJnaW46IDFweCAwcHggMXB4IDIycHg7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICB6LWluZGV4OiAxO1xcbiAgZm9udC1zaXplOiAxMnB4O1xcbn1cXG4udzJ1aS1zaWRlYmFyIC53MnVpLXNpZGViYXItZGl2IC53MnVpLW5vZGUtZ3JvdXAge1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBwYWRkaW5nOiAxMHB4IDBweCAxMHB4IDEwcHg7XFxuICBtYXJnaW46IDBweDtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG4gIGNvbG9yOiAjODY4YjkyO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxufVxcbi53MnVpLXNpZGViYXIgLncydWktc2lkZWJhci1kaXYgLncydWktbm9kZS1ncm91cCA6bnRoLWNoaWxkKDEpIHtcXG4gIC8qIHNob3cgLyBoaWRlIGxpbmsgKi9cXG4gIG1hcmdpbi1yaWdodDogMTBweDtcXG4gIGZsb2F0OiByaWdodDtcXG4gIGNvbG9yOiB0cmFuc3BhcmVudDtcXG59XFxuLncydWktc2lkZWJhciAudzJ1aS1zaWRlYmFyLWRpdiAudzJ1aS1ub2RlLWdyb3VwIDpudGgtY2hpbGQoMikge1xcbiAgLyogdGl0bGUgdGV4dCAqL1xcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XFxufVxcbi53MnVpLXNpZGViYXIgLncydWktc2lkZWJhci1kaXYgLncydWktbm9kZS1zdWIge1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuLncydWktc2lkZWJhciAudzJ1aS1zaWRlYmFyLWRpdiB0ZC53MnVpLW5vZGUtZG90cyB7XFxuICB3aWR0aDogMThweDtcXG4gIHBhZGRpbmc6IDBweCAwcHggMXB4IDdweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuLncydWktc2lkZWJhciAudzJ1aS1zaWRlYmFyLWRpdiB0ZC53MnVpLW5vZGUtZG90cyAudzJ1aS1leHBhbmQge1xcbiAgd2lkdGg6IDE2cHg7XFxuICBtYXJnaW4tdG9wOiAtM3B4O1xcbiAgcG9pbnRlci1ldmVudHM6IGF1dG87XFxufVxcbi53MnVpLXNpZGViYXIgLncydWktc2lkZWJhci1kaXYgdGQudzJ1aS1ub2RlLWRhdGEge1xcbiAgcGFkZGluZzogMXB4IDFweCAzcHggMXB4O1xcbn1cXG4udzJ1aS1zaWRlYmFyIC53MnVpLXNpZGViYXItZGl2IHRkLncydWktbm9kZS1kYXRhIC53MnVpLW5vZGUtaW1hZ2Uge1xcbiAgcGFkZGluZzogM3B4IDBweCAwcHggMHB4O1xcbiAgZmxvYXQ6IGxlZnQ7XFxufVxcbi53MnVpLXNpZGViYXIgLncydWktc2lkZWJhci1kaXYgdGQudzJ1aS1ub2RlLWRhdGEgLncydWktbm9kZS1pbWFnZSA+IHNwYW4ge1xcbiAgZm9udC1zaXplOiAxNnB4O1xcbiAgY29sb3I6ICMwMDAwMDA7XFxuICB0ZXh0LXNoYWRvdzogMHB4IDBweCAwcHggI2ZmZmZmZjtcXG59XFxuLncydWktc2lkZWJhciAudzJ1aS1zaWRlYmFyLWRpdiB0ZC53MnVpLW5vZGUtZGF0YSAudzJ1aS1ub2RlLWltYWdlLncydWktaWNvbiB7XFxuICBtYXJnaW4tdG9wOiAzcHg7XFxufVxcbi53MnVpLXNpZGViYXIgLncydWktc2lkZWJhci1kaXYgdGQudzJ1aS1ub2RlLWRhdGEgLncydWktbm9kZS1jb3VudCB7XFxuICBmbG9hdDogcmlnaHQ7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjOWRhNGFmO1xcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcXG4gIHdpZHRoOiBhdXRvO1xcbiAgaGVpZ2h0OiAxOHB4O1xcbiAgcGFkZGluZzogMnB4IDdweDtcXG4gIG1hcmdpbjogM3B4IDRweCAtMnB4IDA7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTdmMGZjO1xcbiAgY29sb3I6ICM2NjcyNzQ7XFxuICBib3gtc2hhZG93OiAwIDAgMnB4ICNmZmZmZmY7XFxuICB0ZXh0LXNoYWRvdzogMXB4IDFweCAxcHggI2U2ZTZlNjtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHotaW5kZXg6IDI7XFxufVxcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXFxuKiAtLS0tIFRhYnMgLS0tLVxcbiovXFxuLncydWktdGFicyB7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxuICBvdmVyZmxvdzogaGlkZGVuICFpbXBvcnRhbnQ7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhO1xcbiAgcGFkZGluZzogM3B4IDBweDtcXG4gIHBhZGRpbmctYm90dG9tOiAwcHggIWltcG9ydGFudDtcXG59XFxuLncydWktdGFicyB0YWJsZSB7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgc2lsdmVyO1xcbiAgcGFkZGluZzogMHB4IDdweDtcXG59XFxuLncydWktdGFicyAudzJ1aS10YWIge1xcbiAgcGFkZGluZzogNnB4IDIwcHg7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBjb2xvcjogIzAwMDAwMDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyOiAxcHggc29saWQgI2MwYzBjMDtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCBzaWx2ZXI7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgbWFyZ2luOiAxcHggMXB4IC0xcHggMHB4O1xcbiAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogNHB4O1xcbiAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDRweDtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG59XFxuLncydWktdGFicyAudzJ1aS10YWIuYWN0aXZlIHtcXG4gIGNvbG9yOiAjMDAwMDAwO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcXG4gIGJvcmRlcjogMXB4IHNvbGlkICNjMGMwYzA7XFxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxufVxcbi53MnVpLXRhYnMgLncydWktdGFiLmNsb3NhYmxlIHtcXG4gIHBhZGRpbmc6IDZweCAyOHB4IDZweCAyMHB4O1xcbn1cXG4udzJ1aS10YWJzIC53MnVpLXRhYi1jbG9zZSB7XFxuICBjb2xvcjogIzU1NTtcXG4gIHRleHQtc2hhZG93OiAxcHggMXB4IDFweCAjYmJiO1xcbiAgZmxvYXQ6IHJpZ2h0O1xcbiAgbWFyZ2luOiA2cHggNHB4IDBweCAwcHg7XFxuICBwYWRkaW5nOiAwcHggMHB4IDBweCA1cHg7XFxuICB3aWR0aDogMTZweDtcXG4gIGhlaWdodDogMTZweDtcXG4gIG9wYWNpdHk6IDAuOTtcXG4gIGJvcmRlcjogMHB4O1xcbiAgYm9yZGVyLXRvcDogM3B4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLXJhZGl1czogOXB4O1xcbn1cXG4udzJ1aS10YWJzIC53MnVpLXRhYi1jbG9zZTpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRDc3RjdGO1xcbiAgY29sb3I6IHdoaXRlO1xcbn1cXG4udzJ1aS10YWJzIC53MnVpLXRhYi1jbG9zZTpiZWZvcmUge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgdG9wOiAtMnB4O1xcbiAgbGVmdDogMHB4O1xcbiAgb3BhY2l0eTogMC42O1xcbiAgY29sb3I6IGluaGVyaXQ7XFxuICB0ZXh0LXNoYWRvdzogaW5oZXJpdDtcXG4gIGNvbnRlbnQ6ICd4JztcXG59XFxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcXG4qIC0tLS0gVG9vbGJhciAtLS0tXFxuKi9cXG4udzJ1aS10b29sYmFyIHtcXG4gIG1hcmdpbjogMHB4O1xcbiAgcGFkZGluZzogMnB4O1xcbiAgb3V0bGluZTogMHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VmZWZlZjtcXG4gIG92ZXJmbG93OiBoaWRkZW4gIWltcG9ydGFudDtcXG4gIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtbW96LXVzZXItc2VsZWN0OiBub25lO1xcbiAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xcbiAgLW8tdXNlci1zZWxlY3Q6IG5vbmU7XFxuICB1c2VyLXNlbGVjdDogbm9uZTtcXG59XFxuLncydWktdG9vbGJhciAuZGlzYWJsZWQge1xcbiAgb3BhY2l0eTogMC4zO1xcbiAgZmlsdGVyOiBhbHBoYShvcGFjaXR5PTMwKTtcXG59XFxuLncydWktdG9vbGJhciB0YWJsZSB7XFxuICB0YWJsZS1sYXlvdXQ6IGF1dG8gIWltcG9ydGFudDtcXG59XFxuLncydWktdG9vbGJhciB0YWJsZSB0ZCB7XFxuICBib3JkZXI6IDBweCAhaW1wb3J0YW50O1xcbn1cXG4udzJ1aS10b29sYmFyIHRhYmxlLncydWktYnV0dG9uIHtcXG4gIG1hcmdpbjogMHB4IDFweDtcXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcXG4gIGhlaWdodDogMjRweDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxufVxcbi53MnVpLXRvb2xiYXIgdGFibGUudzJ1aS1idXR0b24gLncydWktdGItaW1hZ2Uge1xcbiAgd2lkdGg6IDE2cHg7XFxuICBoZWlnaHQ6IDE2cHg7XFxuICBwYWRkaW5nOiAwcHg7XFxuICBtYXJnaW46IDJweCA0cHggM3B4IDNweCAhaW1wb3J0YW50O1xcbiAgYm9yZGVyOiAwcHggIWltcG9ydGFudDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuLncydWktdG9vbGJhciB0YWJsZS53MnVpLWJ1dHRvbiAudzJ1aS10Yi1pbWFnZSA+IHNwYW4ge1xcbiAgZm9udC1zaXplOiAxNXB4O1xcbiAgbWFyZ2luLXRvcDogM3B4O1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBjb2xvcjogIzhkOTlhNztcXG59XFxuLncydWktdG9vbGJhciB0YWJsZS53MnVpLWJ1dHRvbiAudzJ1aS10Yi1jYXB0aW9uIHtcXG4gIGNvbG9yOiAjMDAwMDAwO1xcbiAgcGFkZGluZzogMHB4IDRweCAwcHggMnB4O1xcbn1cXG4udzJ1aS10b29sYmFyIHRhYmxlLncydWktYnV0dG9uIC53MnVpLXRiLWNvdW50IHtcXG4gIHBhZGRpbmc6IDBweCA0cHggMHB4IDBweDtcXG59XFxuLncydWktdG9vbGJhciB0YWJsZS53MnVpLWJ1dHRvbiAudzJ1aS10Yi1jb3VudCA+IHNwYW4ge1xcbiAgYm9yZGVyOiAxcHggc29saWQgIzlkYTRhZjtcXG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XFxuICB3aWR0aDogYXV0bztcXG4gIGhlaWdodDogMThweDtcXG4gIHBhZGRpbmc6IDJweCA3cHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTdmMGZjO1xcbiAgY29sb3I6ICM2NjcyNzQ7XFxuICBib3gtc2hhZG93OiAwIDAgMnB4ICNmZmZmZmY7XFxuICB0ZXh0LXNoYWRvdzogMXB4IDFweCAxcHggI2U2ZTZlNjtcXG59XFxuLncydWktdG9vbGJhciB0YWJsZS53MnVpLWJ1dHRvbiAudzJ1aS10Yi1kb3duIHtcXG4gIHBhZGRpbmc6IDNweDtcXG59XFxuLncydWktdG9vbGJhciB0YWJsZS53MnVpLWJ1dHRvbiAudzJ1aS10Yi1kb3duID4gZGl2IHtcXG4gIGJvcmRlcjogNHB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLXRvcDogNXB4IHNvbGlkICM4RDk5QTc7XFxuICBtYXJnaW4tdG9wOiA1cHg7XFxufVxcbi53MnVpLXRvb2xiYXIgdGFibGUudzJ1aS1idXR0b24ub3ZlciB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjY2NjO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VlZWVlZTtcXG59XFxuLncydWktdG9vbGJhciB0YWJsZS53MnVpLWJ1dHRvbi5vdmVyIC53MnVpLXRiLWNhcHRpb24ge1xcbiAgY29sb3I6ICMwMDAwMDA7XFxufVxcbi53MnVpLXRvb2xiYXIgdGFibGUudzJ1aS1idXR0b24uZG93biB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjYWFhYWFhO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2RkZGRkZDtcXG59XFxuLncydWktdG9vbGJhciB0YWJsZS53MnVpLWJ1dHRvbi5kb3duIC53MnVpLXRiLWNhcHRpb24ge1xcbiAgY29sb3I6ICM2NjY2NjY7XFxufVxcbi53MnVpLXRvb2xiYXIgdGFibGUudzJ1aS1idXR0b24uY2hlY2tlZCB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjYWFhYWFhO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcXG59XFxuLncydWktdG9vbGJhciB0YWJsZS53MnVpLWJ1dHRvbi5jaGVja2VkIC53MnVpLXRiLWNhcHRpb24ge1xcbiAgY29sb3I6ICMwMDAwMDA7XFxufVxcbi53MnVpLXRvb2xiYXIgdGFibGUudzJ1aS1idXR0b24gdGFibGUge1xcbiAgaGVpZ2h0OiAxN3B4O1xcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xcbiAgY3Vyc29yOiBkZWZhdWx0O1xcbn1cXG4udzJ1aS10b29sYmFyIC53MnVpLWJyZWFrIHtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgcmdiYSgxNTMsIDE1MywgMTUzLCAwLjEpIDAlLCAjOTk5OTk5IDQwJSwgIzk5OTk5OSA2MCUsIHJnYmEoMTUzLCAxNTMsIDE1MywgMC4xKSAxMDAlKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgcmdiYSgxNTMsIDE1MywgMTUzLCAwLjEpIDAlLCAjOTk5OTk5IDQwJSwgIzk5OTk5OSA2MCUsIHJnYmEoMTUzLCAxNTMsIDE1MywgMC4xKSAxMDAlKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCByZ2JhKDE1MywgMTUzLCAxNTMsIDAuMSkgMCUsICM5OTk5OTkgNDAlLCAjOTk5OTk5IDYwJSwgcmdiYSgxNTMsIDE1MywgMTUzLCAwLjEpIDEwMCUpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgcmdiYSgxNTMsIDE1MywgMTUzLCAwLjEpIDAlLCAjOTk5OTk5IDQwJSwgIzk5OTk5OSA2MCUsIHJnYmEoMTUzLCAxNTMsIDE1MywgMC4xKSAxMDAlKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCh0b3AsIHJnYmEoMTUzLCAxNTMsIDE1MywgMC4xKSAwJSwgIzk5OTk5OSA0MCUsICM5OTk5OTkgNjAlLCByZ2JhKDE1MywgMTUzLCAxNTMsIDAuMSkgMTAwJSk7XFxuICBmaWx0ZXI6IHByb2dpZDpkeGltYWdldHJhbnNmb3JtLm1pY3Jvc29mdC5ncmFkaWVudChzdGFydENvbG9yc3RyPScjZmY5OTk5OTknLCBlbmRDb2xvcnN0cj0nI2ZmOTk5OTk5JywgR3JhZGllbnRUeXBlPTApO1xcbiAgd2lkdGg6IDFweCAhaW1wb3J0YW50O1xcbiAgaGVpZ2h0OiAyMnB4O1xcbiAgcGFkZGluZzogMHB4O1xcbiAgbWFyZ2luOiAwcHggNnB4O1xcbn1cXG4udzJ1aS1saXN0dmlldyB7XFxuICBvdmVyZmxvdzogYXV0byAhaW1wb3J0YW50O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZiAhaW1wb3J0YW50O1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgLW1zLWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtby1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG59XFxuLncydWktbGlzdHZpZXcgKiB7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtbXMtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIC1vLWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbn1cXG4udzJ1aS1saXN0dmlldyA+IHVsIHtcXG4gIGxpc3Qtc3R5bGUtdHlwZTogbm9uZTtcXG4gIG1hcmdpbjogMDtcXG4gIGN1cnNvcjogZGVmYXVsdDtcXG59XFxuLncydWktbGlzdHZpZXcgPiB1bCA+IGxpIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIHZlcnRpY2FsLWFsaWduOiB0b3A7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgLXdlYmtpdC11c2VyLXNlbGVjdDogbm9uZTtcXG4gIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtbXMtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtby11c2VyLXNlbGVjdDogbm9uZTtcXG4gIHVzZXItc2VsZWN0OiBub25lO1xcbiAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItcmFkaXVzOiA0cHg7XFxufVxcbi53MnVpLWxpc3R2aWV3ID4gdWwgPiBsaS53MnVpLWZvY3VzZWQge1xcbiAgYm9yZGVyOiAxcHggc29saWQgIzI2NjFhNjtcXG59XFxuLncydWktbGlzdHZpZXcgPiB1bCA+IGxpLncydWktc2VsZWN0ZWQge1xcbiAgYm9yZGVyOiAxcHggc29saWQgIzI2NjFhNjtcXG59XFxuLncydWktbGlzdHZpZXcgPiB1bCA+IGxpLncydWktc2VsZWN0ZWQsXFxuLncydWktbGlzdHZpZXcgPiB1bCA+IGxpLncydWktc2VsZWN0ZWQuaG92ZXIge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQoIzY5YjFlMCwgIzRhOTZkMyk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtbW96LWxpbmVhci1ncmFkaWVudCgjNjliMWUwLCAjNGE5NmQzKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1tcy1saW5lYXItZ3JhZGllbnQoIzY5YjFlMCwgIzRhOTZkMyk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtby1saW5lYXItZ3JhZGllbnQoIzY5YjFlMCwgIzRhOTZkMyk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoIzY5YjFlMCwgIzRhOTZkMyk7XFxuICBmaWx0ZXI6IHByb2dpZDpkeGltYWdldHJhbnNmb3JtLm1pY3Jvc29mdC5ncmFkaWVudChzdGFydENvbG9yc3RyPScjZmY2OWIxZTAnLCBlbmRDb2xvcnN0cj0nI2ZmNGE5NmQzJywgR3JhZGllbnRUeXBlPTApO1xcbn1cXG4udzJ1aS1saXN0dmlldyA+IHVsID4gbGkudzJ1aS1zZWxlY3RlZCA+IGRpdiA+IGRpdi5jYXB0aW9uLFxcbi53MnVpLWxpc3R2aWV3ID4gdWwgPiBsaS53MnVpLXNlbGVjdGVkLmhvdmVyID4gZGl2ID4gZGl2LmNhcHRpb24ge1xcbiAgY29sb3I6ICNmZmZmZmY7XFxufVxcbi53MnVpLWxpc3R2aWV3ID4gdWwgPiBsaS53MnVpLXNlbGVjdGVkID4gZGl2ID4gZGl2LmRlc2NyaXB0aW9uLFxcbi53MnVpLWxpc3R2aWV3ID4gdWwgPiBsaS53MnVpLXNlbGVjdGVkLmhvdmVyID4gZGl2ID4gZGl2LmRlc2NyaXB0aW9uIHtcXG4gIGNvbG9yOiAjZGRkZGRkO1xcbn1cXG4udzJ1aS1saXN0dmlldyA+IHVsID4gbGkudzJ1aS1zZWxlY3RlZCA+IGRpdiA+IGRpdi5leHRyYSA+IGRpdiA+IGRpdixcXG4udzJ1aS1saXN0dmlldyA+IHVsID4gbGkudzJ1aS1zZWxlY3RlZC5ob3ZlciA+IGRpdiA+IGRpdi5leHRyYSA+IGRpdiA+IGRpdiB7XFxuICBjb2xvcjogI2RkZGRkZDtcXG59XFxuLncydWktbGlzdHZpZXcgPiB1bCA+IGxpLmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNkN2UxZWY7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjMjY2MWE2O1xcbn1cXG4udzJ1aS1saXN0dmlldyA+IHVsID4gbGkgZGl2IHtcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxufVxcbi53MnVpLWxpc3R2aWV3ID4gdWwgPiBsaSA+IGRpdiA+IGRpdi5jYXB0aW9uIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgd29yZC13cmFwOiBicmVhay13b3JkO1xcbiAgbWF4LWhlaWdodDogNTBweDtcXG4gIGNvbG9yOiAjMDAwMDAwO1xcbiAgZm9udC1zaXplOiAxMnB4O1xcbn1cXG4udzJ1aS1saXN0dmlldyA+IHVsID4gbGkgPiBkaXYgPiBkaXYuZGVzY3JpcHRpb24ge1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIHRleHQtYWxpZ246IGxlZnQ7XFxuICBjb2xvcjogIzc3Nzc3NztcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG59XFxuLncydWktbGlzdHZpZXcgPiB1bCA+IGxpID4gZGl2ID4gZGl2LmV4dHJhIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi53MnVpLWxpc3R2aWV3ID4gdWwgPiBsaSA+IGRpdiA+IGRpdi5leHRyYSA+IGRpdiA+IGRpdiB7XFxuICBjb2xvcjogIzc3Nzc3NztcXG59XFxuLncydWktaWNvbi1zbWFsbCA+IHVsIHtcXG4gIHBhZGRpbmc6IDFweCAwcHggMHB4IDFweDtcXG59XFxuLncydWktaWNvbi1zbWFsbCA+IHVsID4gbGkge1xcbiAgbWFyZ2luOiAwcHggMXB4IDFweCAwcHg7XFxuICBwYWRkaW5nOiAycHg7XFxuICB3aWR0aDogMjUwcHg7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbn1cXG4udzJ1aS1pY29uLXNtYWxsID4gdWwgPiBsaSA+IGRpdiA+IGRpdi53MnVpLWxpc3R2aWV3LWltZyB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB3aWR0aDogMjZweDtcXG4gIGhlaWdodDogMjJweDtcXG4gIGZvbnQtc2l6ZTogMjFweDtcXG4gIG1hcmdpbi1yaWdodDogMnB4O1xcbn1cXG4udzJ1aS1pY29uLXNtYWxsID4gdWwgPiBsaSA+IGRpdiA+IGRpdi5jYXB0aW9uIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG59XFxuLncydWktaWNvbi1tZWRpdW0gPiB1bCB7XFxuICBwYWRkaW5nOiA0cHggMHB4IDBweCA0cHg7XFxufVxcbi53MnVpLWljb24tbWVkaXVtID4gdWwgPiBsaSB7XFxuICBtYXJnaW46IDBweCA0cHggNHB4IDBweDtcXG4gIHBhZGRpbmc6IDRweDtcXG4gIHdpZHRoOiAxMDBweDtcXG59XFxuLncydWktaWNvbi1tZWRpdW0gPiB1bCA+IGxpID4gZGl2ID4gZGl2LncydWktbGlzdHZpZXctaW1nIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgd2lkdGg6IDkycHg7XFxuICBoZWlnaHQ6IDYwcHg7XFxuICBmb250LXNpemU6IDU3cHg7XFxuICBtYXJnaW4tbGVmdDogYXV0bztcXG4gIG1hcmdpbi1yaWdodDogYXV0bztcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcXG59XFxuLncydWktaWNvbi1sYXJnZSA+IHVsIHtcXG4gIHBhZGRpbmc6IDRweCAwcHggMHB4IDRweDtcXG59XFxuLncydWktaWNvbi1sYXJnZSA+IHVsID4gbGkge1xcbiAgbWFyZ2luOiAwcHggNHB4IDRweCAwcHg7XFxuICBwYWRkaW5nOiA0cHg7XFxuICB3aWR0aDogMTYwcHg7XFxufVxcbi53MnVpLWljb24tbGFyZ2UgPiB1bCA+IGxpID4gZGl2ID4gZGl2LncydWktbGlzdHZpZXctaW1nIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgd2lkdGg6IDE1MnB4O1xcbiAgaGVpZ2h0OiAxMjBweDtcXG4gIGZvbnQtc2l6ZTogMTE0cHg7XFxuICBtYXJnaW4tbGVmdDogYXV0bztcXG4gIG1hcmdpbi1yaWdodDogYXV0bztcXG4gIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcXG59XFxuLncydWktaWNvbi10aWxlID4gdWwge1xcbiAgcGFkZGluZzogMXB4IDBweCAwcHggMXB4O1xcbn1cXG4udzJ1aS1pY29uLXRpbGUgPiB1bCA+IGxpIHtcXG4gIG1hcmdpbjogMHB4IDFweCAxcHggMHB4O1xcbiAgcGFkZGluZzogNHB4O1xcbiAgd2lkdGg6IDI1MHB4O1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG59XFxuLncydWktaWNvbi10aWxlID4gdWwgPiBsaSA+IGRpdiA+IGRpdi53MnVpLWxpc3R2aWV3LWltZyB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB3aWR0aDogNzJweDtcXG4gIGhlaWdodDogNjBweDtcXG4gIGZvbnQtc2l6ZTogNTdweDtcXG4gIGZsb2F0OiBsZWZ0O1xcbiAgbWFyZ2luLXJpZ2h0OiA0cHg7XFxufVxcbi53MnVpLWljb24tdGlsZSA+IHVsID4gbGkgPiBkaXYgPiBkaXYuY2FwdGlvbiB7XFxuICB0ZXh0LWFsaWduOiBsZWZ0O1xcbn1cXG4udzJ1aS1pY29uLXRpbGUgPiB1bCA+IGxpID4gZGl2ID4gZGl2LmRlc2NyaXB0aW9uIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG4udzJ1aS10YWJsZSA+IHVsIHtcXG4gIHBhZGRpbmc6IDA7XFxufVxcbi53MnVpLXRhYmxlID4gdWwgPiBsaSB7XFxuICB3aWR0aDogMTAwJTtcXG4gIHBhZGRpbmc6IDJweDtcXG4gIGJvcmRlci1yYWRpdXM6IDBweDtcXG4gIGJvcmRlci1ib3R0b206IDFweCBkb3R0ZWQgbGlnaHRncmF5O1xcbn1cXG4udzJ1aS10YWJsZSA+IHVsID4gbGkgPiBkaXYge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgd2lkdGg6IDEwMCU7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuLncydWktdGFibGUgPiB1bCA+IGxpID4gZGl2ID4gZGl2LncydWktbGlzdHZpZXctaW1nIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIHdpZHRoOiAzOHB4O1xcbiAgaGVpZ2h0OiAzMnB4O1xcbiAgZm9udC1zaXplOiAzMXB4O1xcbiAgbWFyZ2luLXJpZ2h0OiAycHg7XFxufVxcbi53MnVpLXRhYmxlID4gdWwgPiBsaSA+IGRpdiA+IGRpdi5jYXB0aW9uIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG59XFxuLncydWktdGFibGUgPiB1bCA+IGxpID4gZGl2ID4gZGl2LmV4dHJhIHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHJpZ2h0OiAwO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcXG59XFxuLncydWktdGFibGUgPiB1bCA+IGxpID4gZGl2ID4gZGl2LmV4dHJhID4gZGl2OmJlZm9yZSB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICB3aWR0aDogMDtcXG4gIGNvbnRlbnQ6ICcnO1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG59XFxuLncydWktdGFibGUgPiB1bCA+IGxpID4gZGl2ID4gZGl2LmV4dHJhID4gZGl2IHtcXG4gIGRpc3BsYXk6IGlubGluZTtcXG59XFxuLncydWktdGFibGUgPiB1bCA+IGxpID4gZGl2ID4gZGl2LmV4dHJhID4gZGl2ID4gZGl2IHtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG59XFxuLncydWktdGFibGUgPiB1bCA+IGxpLncydWktc2VsZWN0ZWQgZGl2LmV4dHJhLFxcbi53MnVpLXRhYmxlID4gdWwgPiBsaS53MnVpLXNlbGVjdGVkLmhvdmVyIGRpdi5leHRyYSB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCgjNjliMWUwLCAjNGE5NmQzKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1tb3otbGluZWFyLWdyYWRpZW50KCM2OWIxZTAsICM0YTk2ZDMpO1xcbiAgYmFja2dyb3VuZC1pbWFnZTogLW1zLWxpbmVhci1ncmFkaWVudCgjNjliMWUwLCAjNGE5NmQzKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IC1vLWxpbmVhci1ncmFkaWVudCgjNjliMWUwLCAjNGE5NmQzKTtcXG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudCgjNjliMWUwLCAjNGE5NmQzKTtcXG4gIGZpbHRlcjogcHJvZ2lkOmR4aW1hZ2V0cmFuc2Zvcm0ubWljcm9zb2Z0LmdyYWRpZW50KHN0YXJ0Q29sb3JzdHI9JyNmZjY5YjFlMCcsIGVuZENvbG9yc3RyPScjZmY0YTk2ZDMnLCBHcmFkaWVudFR5cGU9MCk7XFxufVxcbi53MnVpLXRhYmxlID4gdWwgPiBsaS5ob3ZlciBkaXYuZXh0cmEge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Q3ZTFlZjtcXG59XFxuLncydWktbGlzdHZpZXcgPiB1bCA+IGxpIGRpdi5pY29uLW5vbmUge1xcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgxMDIsIDEwMiwgMTAyLCAwLjM1KTtcXG59XFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Nzcy1sb2FkZXIhLi9+L3cydWkvdzJ1aS5jc3Ncbi8vIG1vZHVsZSBpZCA9IDI2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8qXHJcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcbiovXHJcbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XHJcblx0dmFyIGxpc3QgPSBbXTtcclxuXHJcblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xyXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcclxuXHRcdHZhciByZXN1bHQgPSBbXTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gdGhpc1tpXTtcclxuXHRcdFx0aWYoaXRlbVsyXSkge1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgaXRlbVsxXSArIFwifVwiKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXN1bHQucHVzaChpdGVtWzFdKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpO1xyXG5cdH07XHJcblxyXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XHJcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xyXG5cdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXHJcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcclxuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xyXG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXHJcblx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XHJcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcclxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcclxuXHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cclxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcclxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcclxuXHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XHJcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcclxuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xyXG5cdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cdHJldHVybiBsaXN0O1xyXG59O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcbi8vIG1vZHVsZSBpZCA9IDI3XG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIiwiLypcclxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuKi9cclxudmFyIHN0eWxlc0luRG9tID0ge30sXHJcblx0bWVtb2l6ZSA9IGZ1bmN0aW9uKGZuKSB7XHJcblx0XHR2YXIgbWVtbztcclxuXHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblx0XHRcdHJldHVybiBtZW1vO1xyXG5cdFx0fTtcclxuXHR9LFxyXG5cdGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIC9tc2llIFs2LTldXFxiLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xyXG5cdH0pLFxyXG5cdGdldEhlYWRFbGVtZW50ID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XHJcblx0XHRyZXR1cm4gZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF07XHJcblx0fSksXHJcblx0c2luZ2xldG9uRWxlbWVudCA9IG51bGwsXHJcblx0c2luZ2xldG9uQ291bnRlciA9IDAsXHJcblx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AgPSBbXTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xyXG5cdGlmKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xyXG5cdFx0aWYodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XHJcblx0fVxyXG5cclxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cclxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXHJcblx0aWYgKHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XHJcblxyXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiA8aGVhZD4uXHJcblx0aWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcclxuXHJcblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0KTtcclxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcclxuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xyXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XHJcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcclxuXHRcdH1cclxuXHRcdGlmKG5ld0xpc3QpIHtcclxuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0KTtcclxuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcclxuXHRcdH1cclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xyXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XHJcblx0XHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKVxyXG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oKTtcclxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKSB7XHJcblx0Zm9yKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XHJcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdGlmKGRvbVN0eWxlKSB7XHJcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcclxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XHJcblx0XHRcdH1cclxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcclxuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dmFyIHBhcnRzID0gW107XHJcblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMobGlzdCkge1xyXG5cdHZhciBzdHlsZXMgPSBbXTtcclxuXHR2YXIgbmV3U3R5bGVzID0ge307XHJcblx0Zm9yKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcclxuXHRcdHZhciBpZCA9IGl0ZW1bMF07XHJcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcclxuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XHJcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcclxuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcclxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKVxyXG5cdFx0XHRzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XHJcblx0fVxyXG5cdHJldHVybiBzdHlsZXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpIHtcclxuXHR2YXIgaGVhZCA9IGdldEhlYWRFbGVtZW50KCk7XHJcblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3Bbc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XHJcblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcclxuXHRcdGlmKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xyXG5cdFx0XHRoZWFkLmluc2VydEJlZm9yZShzdHlsZUVsZW1lbnQsIGhlYWQuZmlyc3RDaGlsZCk7XHJcblx0XHR9IGVsc2UgaWYobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcclxuXHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0XHR9XHJcblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlRWxlbWVudCk7XHJcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XHJcblx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnLiBNdXN0IGJlICd0b3AnIG9yICdib3R0b20nLlwiKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcclxuXHRzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdHZhciBpZHggPSBzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlRWxlbWVudCk7XHJcblx0aWYoaWR4ID49IDApIHtcclxuXHRcdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcclxuXHR2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xyXG5cdHN0eWxlRWxlbWVudC50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xyXG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZUVsZW1lbnQpO1xyXG5cdHJldHVybiBzdHlsZUVsZW1lbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpIHtcclxuXHR2YXIgbGlua0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcclxuXHRsaW5rRWxlbWVudC5yZWwgPSBcInN0eWxlc2hlZXRcIjtcclxuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGlua0VsZW1lbnQpO1xyXG5cdHJldHVybiBsaW5rRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XHJcblx0dmFyIHN0eWxlRWxlbWVudCwgdXBkYXRlLCByZW1vdmU7XHJcblxyXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xyXG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XHJcblx0XHRzdHlsZUVsZW1lbnQgPSBzaW5nbGV0b25FbGVtZW50IHx8IChzaW5nbGV0b25FbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcclxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIGZhbHNlKTtcclxuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQsIHN0eWxlSW5kZXgsIHRydWUpO1xyXG5cdH0gZWxzZSBpZihvYmouc291cmNlTWFwICYmXHJcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcclxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcclxuXHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHRcdGlmKHN0eWxlRWxlbWVudC5ocmVmKVxyXG5cdFx0XHRcdFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGVFbGVtZW50LmhyZWYpO1xyXG5cdFx0fTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xyXG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XHJcblx0XHRyZW1vdmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0dXBkYXRlKG9iaik7XHJcblxyXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcclxuXHRcdGlmKG5ld09iaikge1xyXG5cdFx0XHRpZihuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cdH07XHJcbn1cclxuXHJcbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XHJcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xyXG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xyXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XHJcblx0fTtcclxufSkoKTtcclxuXHJcbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGVFbGVtZW50LCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcclxuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XHJcblxyXG5cdGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XHJcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlRWxlbWVudC5jaGlsZE5vZGVzO1xyXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGNzc05vZGUpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZUVsZW1lbnQsIG9iaikge1xyXG5cdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcclxuXHJcblx0aWYobWVkaWEpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcclxuXHR9XHJcblxyXG5cdGlmKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcblx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR3aGlsZShzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xyXG5cdFx0fVxyXG5cdFx0c3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlTGluayhsaW5rRWxlbWVudCwgb2JqKSB7XHJcblx0dmFyIGNzcyA9IG9iai5jc3M7XHJcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XHJcblxyXG5cdGlmKHNvdXJjZU1hcCkge1xyXG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcclxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcclxuXHR9XHJcblxyXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xyXG5cclxuXHR2YXIgb2xkU3JjID0gbGlua0VsZW1lbnQuaHJlZjtcclxuXHJcblx0bGlua0VsZW1lbnQuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcblxyXG5cdGlmKG9sZFNyYylcclxuXHRcdFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcclxufVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1xuLy8gbW9kdWxlIGlkID0gMjhcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiLCJyZXF1aXJlKFwiISEvd29yay9hcHAvbm9kZV9tb2R1bGVzL3NjcmlwdC1sb2FkZXIvYWRkU2NyaXB0LmpzXCIpKHJlcXVpcmUoXCIhIS93b3JrL2FwcC9ub2RlX21vZHVsZXMvc2NyaXB0LWxvYWRlci9ub2RlX21vZHVsZXMvcmF3LWxvYWRlci9pbmRleC5qcyEvd29yay9hcHAvbm9kZV9tb2R1bGVzL2pxdWVyeS9kaXN0L2pxdWVyeS5qc1wiKSlcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vanF1ZXJ5L2Rpc3QvanF1ZXJ5LmpzXG4vLyBtb2R1bGUgaWQgPSAyOVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCIvKlxyXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG4qL1xyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHNyYykge1xyXG5cdGlmICh0eXBlb2YgZXhlY1NjcmlwdCAhPT0gXCJ1bmRlZmluZWRcIilcclxuXHRcdGV4ZWNTY3JpcHQoc3JjKTtcclxuXHRlbHNlXHJcblx0XHRldmFsLmNhbGwobnVsbCwgc3JjKTtcclxufVxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vc2NyaXB0LWxvYWRlci9hZGRTY3JpcHQuanNcbi8vIG1vZHVsZSBpZCA9IDMwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gXCIvKiFcXG4gKiBqUXVlcnkgSmF2YVNjcmlwdCBMaWJyYXJ5IHYzLjEuMVxcbiAqIGh0dHBzOi8vanF1ZXJ5LmNvbS9cXG4gKlxcbiAqIEluY2x1ZGVzIFNpenpsZS5qc1xcbiAqIGh0dHBzOi8vc2l6emxlanMuY29tL1xcbiAqXFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcXG4gKiBodHRwczovL2pxdWVyeS5vcmcvbGljZW5zZVxcbiAqXFxuICogRGF0ZTogMjAxNi0wOS0yMlQyMjozMFpcXG4gKi9cXG4oIGZ1bmN0aW9uKCBnbG9iYWwsIGZhY3RvcnkgKSB7XFxuXFxuXFx0XFxcInVzZSBzdHJpY3RcXFwiO1xcblxcblxcdGlmICggdHlwZW9mIG1vZHVsZSA9PT0gXFxcIm9iamVjdFxcXCIgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzID09PSBcXFwib2JqZWN0XFxcIiApIHtcXG5cXG5cXHRcXHQvLyBGb3IgQ29tbW9uSlMgYW5kIENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHdoZXJlIGEgcHJvcGVyIGB3aW5kb3dgXFxuXFx0XFx0Ly8gaXMgcHJlc2VudCwgZXhlY3V0ZSB0aGUgZmFjdG9yeSBhbmQgZ2V0IGpRdWVyeS5cXG5cXHRcXHQvLyBGb3IgZW52aXJvbm1lbnRzIHRoYXQgZG8gbm90IGhhdmUgYSBgd2luZG93YCB3aXRoIGEgYGRvY3VtZW50YFxcblxcdFxcdC8vIChzdWNoIGFzIE5vZGUuanMpLCBleHBvc2UgYSBmYWN0b3J5IGFzIG1vZHVsZS5leHBvcnRzLlxcblxcdFxcdC8vIFRoaXMgYWNjZW50dWF0ZXMgdGhlIG5lZWQgZm9yIHRoZSBjcmVhdGlvbiBvZiBhIHJlYWwgYHdpbmRvd2AuXFxuXFx0XFx0Ly8gZS5nLiB2YXIgalF1ZXJ5ID0gcmVxdWlyZShcXFwianF1ZXJ5XFxcIikod2luZG93KTtcXG5cXHRcXHQvLyBTZWUgdGlja2V0ICMxNDU0OSBmb3IgbW9yZSBpbmZvLlxcblxcdFxcdG1vZHVsZS5leHBvcnRzID0gZ2xvYmFsLmRvY3VtZW50ID9cXG5cXHRcXHRcXHRmYWN0b3J5KCBnbG9iYWwsIHRydWUgKSA6XFxuXFx0XFx0XFx0ZnVuY3Rpb24oIHcgKSB7XFxuXFx0XFx0XFx0XFx0aWYgKCAhdy5kb2N1bWVudCApIHtcXG5cXHRcXHRcXHRcXHRcXHR0aHJvdyBuZXcgRXJyb3IoIFxcXCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50XFxcIiApO1xcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRyZXR1cm4gZmFjdG9yeSggdyApO1xcblxcdFxcdFxcdH07XFxuXFx0fSBlbHNlIHtcXG5cXHRcXHRmYWN0b3J5KCBnbG9iYWwgKTtcXG5cXHR9XFxuXFxuLy8gUGFzcyB0aGlzIGlmIHdpbmRvdyBpcyBub3QgZGVmaW5lZCB5ZXRcXG59ICkoIHR5cGVvZiB3aW5kb3cgIT09IFxcXCJ1bmRlZmluZWRcXFwiID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24oIHdpbmRvdywgbm9HbG9iYWwgKSB7XFxuXFxuLy8gRWRnZSA8PSAxMiAtIDEzKywgRmlyZWZveCA8PTE4IC0gNDUrLCBJRSAxMCAtIDExLCBTYWZhcmkgNS4xIC0gOSssIGlPUyA2IC0gOS4xXFxuLy8gdGhyb3cgZXhjZXB0aW9ucyB3aGVuIG5vbi1zdHJpY3QgY29kZSAoZS5nLiwgQVNQLk5FVCA0LjUpIGFjY2Vzc2VzIHN0cmljdCBtb2RlXFxuLy8gYXJndW1lbnRzLmNhbGxlZS5jYWxsZXIgKHRyYWMtMTMzMzUpLiBCdXQgYXMgb2YgalF1ZXJ5IDMuMCAoMjAxNiksIHN0cmljdCBtb2RlIHNob3VsZCBiZSBjb21tb25cXG4vLyBlbm91Z2ggdGhhdCBhbGwgc3VjaCBhdHRlbXB0cyBhcmUgZ3VhcmRlZCBpbiBhIHRyeSBibG9jay5cXG5cXFwidXNlIHN0cmljdFxcXCI7XFxuXFxudmFyIGFyciA9IFtdO1xcblxcbnZhciBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDtcXG5cXG52YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XFxuXFxudmFyIHNsaWNlID0gYXJyLnNsaWNlO1xcblxcbnZhciBjb25jYXQgPSBhcnIuY29uY2F0O1xcblxcbnZhciBwdXNoID0gYXJyLnB1c2g7XFxuXFxudmFyIGluZGV4T2YgPSBhcnIuaW5kZXhPZjtcXG5cXG52YXIgY2xhc3MydHlwZSA9IHt9O1xcblxcbnZhciB0b1N0cmluZyA9IGNsYXNzMnR5cGUudG9TdHJpbmc7XFxuXFxudmFyIGhhc093biA9IGNsYXNzMnR5cGUuaGFzT3duUHJvcGVydHk7XFxuXFxudmFyIGZuVG9TdHJpbmcgPSBoYXNPd24udG9TdHJpbmc7XFxuXFxudmFyIE9iamVjdEZ1bmN0aW9uU3RyaW5nID0gZm5Ub1N0cmluZy5jYWxsKCBPYmplY3QgKTtcXG5cXG52YXIgc3VwcG9ydCA9IHt9O1xcblxcblxcblxcblxcdGZ1bmN0aW9uIERPTUV2YWwoIGNvZGUsIGRvYyApIHtcXG5cXHRcXHRkb2MgPSBkb2MgfHwgZG9jdW1lbnQ7XFxuXFxuXFx0XFx0dmFyIHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KCBcXFwic2NyaXB0XFxcIiApO1xcblxcblxcdFxcdHNjcmlwdC50ZXh0ID0gY29kZTtcXG5cXHRcXHRkb2MuaGVhZC5hcHBlbmRDaGlsZCggc2NyaXB0ICkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggc2NyaXB0ICk7XFxuXFx0fVxcbi8qIGdsb2JhbCBTeW1ib2wgKi9cXG4vLyBEZWZpbmluZyB0aGlzIGdsb2JhbCBpbiAuZXNsaW50cmMuanNvbiB3b3VsZCBjcmVhdGUgYSBkYW5nZXIgb2YgdXNpbmcgdGhlIGdsb2JhbFxcbi8vIHVuZ3VhcmRlZCBpbiBhbm90aGVyIHBsYWNlLCBpdCBzZWVtcyBzYWZlciB0byBkZWZpbmUgZ2xvYmFsIG9ubHkgZm9yIHRoaXMgbW9kdWxlXFxuXFxuXFxuXFxudmFyXFxuXFx0dmVyc2lvbiA9IFxcXCIzLjEuMVxcXCIsXFxuXFxuXFx0Ly8gRGVmaW5lIGEgbG9jYWwgY29weSBvZiBqUXVlcnlcXG5cXHRqUXVlcnkgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQgKSB7XFxuXFxuXFx0XFx0Ly8gVGhlIGpRdWVyeSBvYmplY3QgaXMgYWN0dWFsbHkganVzdCB0aGUgaW5pdCBjb25zdHJ1Y3RvciAnZW5oYW5jZWQnXFxuXFx0XFx0Ly8gTmVlZCBpbml0IGlmIGpRdWVyeSBpcyBjYWxsZWQgKGp1c3QgYWxsb3cgZXJyb3IgdG8gYmUgdGhyb3duIGlmIG5vdCBpbmNsdWRlZClcXG5cXHRcXHRyZXR1cm4gbmV3IGpRdWVyeS5mbi5pbml0KCBzZWxlY3RvciwgY29udGV4dCApO1xcblxcdH0sXFxuXFxuXFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5XFxuXFx0Ly8gTWFrZSBzdXJlIHdlIHRyaW0gQk9NIGFuZCBOQlNQXFxuXFx0cnRyaW0gPSAvXltcXFxcc1xcXFx1RkVGRlxcXFx4QTBdK3xbXFxcXHNcXFxcdUZFRkZcXFxceEEwXSskL2csXFxuXFxuXFx0Ly8gTWF0Y2hlcyBkYXNoZWQgc3RyaW5nIGZvciBjYW1lbGl6aW5nXFxuXFx0cm1zUHJlZml4ID0gL14tbXMtLyxcXG5cXHRyZGFzaEFscGhhID0gLy0oW2Etel0pL2csXFxuXFxuXFx0Ly8gVXNlZCBieSBqUXVlcnkuY2FtZWxDYXNlIGFzIGNhbGxiYWNrIHRvIHJlcGxhY2UoKVxcblxcdGZjYW1lbENhc2UgPSBmdW5jdGlvbiggYWxsLCBsZXR0ZXIgKSB7XFxuXFx0XFx0cmV0dXJuIGxldHRlci50b1VwcGVyQ2FzZSgpO1xcblxcdH07XFxuXFxualF1ZXJ5LmZuID0galF1ZXJ5LnByb3RvdHlwZSA9IHtcXG5cXG5cXHQvLyBUaGUgY3VycmVudCB2ZXJzaW9uIG9mIGpRdWVyeSBiZWluZyB1c2VkXFxuXFx0anF1ZXJ5OiB2ZXJzaW9uLFxcblxcblxcdGNvbnN0cnVjdG9yOiBqUXVlcnksXFxuXFxuXFx0Ly8gVGhlIGRlZmF1bHQgbGVuZ3RoIG9mIGEgalF1ZXJ5IG9iamVjdCBpcyAwXFxuXFx0bGVuZ3RoOiAwLFxcblxcblxcdHRvQXJyYXk6IGZ1bmN0aW9uKCkge1xcblxcdFxcdHJldHVybiBzbGljZS5jYWxsKCB0aGlzICk7XFxuXFx0fSxcXG5cXG5cXHQvLyBHZXQgdGhlIE50aCBlbGVtZW50IGluIHRoZSBtYXRjaGVkIGVsZW1lbnQgc2V0IE9SXFxuXFx0Ly8gR2V0IHRoZSB3aG9sZSBtYXRjaGVkIGVsZW1lbnQgc2V0IGFzIGEgY2xlYW4gYXJyYXlcXG5cXHRnZXQ6IGZ1bmN0aW9uKCBudW0gKSB7XFxuXFxuXFx0XFx0Ly8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgaW4gYSBjbGVhbiBhcnJheVxcblxcdFxcdGlmICggbnVtID09IG51bGwgKSB7XFxuXFx0XFx0XFx0cmV0dXJuIHNsaWNlLmNhbGwoIHRoaXMgKTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gUmV0dXJuIGp1c3QgdGhlIG9uZSBlbGVtZW50IGZyb20gdGhlIHNldFxcblxcdFxcdHJldHVybiBudW0gPCAwID8gdGhpc1sgbnVtICsgdGhpcy5sZW5ndGggXSA6IHRoaXNbIG51bSBdO1xcblxcdH0sXFxuXFxuXFx0Ly8gVGFrZSBhbiBhcnJheSBvZiBlbGVtZW50cyBhbmQgcHVzaCBpdCBvbnRvIHRoZSBzdGFja1xcblxcdC8vIChyZXR1cm5pbmcgdGhlIG5ldyBtYXRjaGVkIGVsZW1lbnQgc2V0KVxcblxcdHB1c2hTdGFjazogZnVuY3Rpb24oIGVsZW1zICkge1xcblxcblxcdFxcdC8vIEJ1aWxkIGEgbmV3IGpRdWVyeSBtYXRjaGVkIGVsZW1lbnQgc2V0XFxuXFx0XFx0dmFyIHJldCA9IGpRdWVyeS5tZXJnZSggdGhpcy5jb25zdHJ1Y3RvcigpLCBlbGVtcyApO1xcblxcblxcdFxcdC8vIEFkZCB0aGUgb2xkIG9iamVjdCBvbnRvIHRoZSBzdGFjayAoYXMgYSByZWZlcmVuY2UpXFxuXFx0XFx0cmV0LnByZXZPYmplY3QgPSB0aGlzO1xcblxcblxcdFxcdC8vIFJldHVybiB0aGUgbmV3bHktZm9ybWVkIGVsZW1lbnQgc2V0XFxuXFx0XFx0cmV0dXJuIHJldDtcXG5cXHR9LFxcblxcblxcdC8vIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZXZlcnkgZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBzZXQuXFxuXFx0ZWFjaDogZnVuY3Rpb24oIGNhbGxiYWNrICkge1xcblxcdFxcdHJldHVybiBqUXVlcnkuZWFjaCggdGhpcywgY2FsbGJhY2sgKTtcXG5cXHR9LFxcblxcblxcdG1hcDogZnVuY3Rpb24oIGNhbGxiYWNrICkge1xcblxcdFxcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5Lm1hcCggdGhpcywgZnVuY3Rpb24oIGVsZW0sIGkgKSB7XFxuXFx0XFx0XFx0cmV0dXJuIGNhbGxiYWNrLmNhbGwoIGVsZW0sIGksIGVsZW0gKTtcXG5cXHRcXHR9ICkgKTtcXG5cXHR9LFxcblxcblxcdHNsaWNlOiBmdW5jdGlvbigpIHtcXG5cXHRcXHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHNsaWNlLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKSApO1xcblxcdH0sXFxuXFxuXFx0Zmlyc3Q6IGZ1bmN0aW9uKCkge1xcblxcdFxcdHJldHVybiB0aGlzLmVxKCAwICk7XFxuXFx0fSxcXG5cXG5cXHRsYXN0OiBmdW5jdGlvbigpIHtcXG5cXHRcXHRyZXR1cm4gdGhpcy5lcSggLTEgKTtcXG5cXHR9LFxcblxcblxcdGVxOiBmdW5jdGlvbiggaSApIHtcXG5cXHRcXHR2YXIgbGVuID0gdGhpcy5sZW5ndGgsXFxuXFx0XFx0XFx0aiA9ICtpICsgKCBpIDwgMCA/IGxlbiA6IDAgKTtcXG5cXHRcXHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGogPj0gMCAmJiBqIDwgbGVuID8gWyB0aGlzWyBqIF0gXSA6IFtdICk7XFxuXFx0fSxcXG5cXG5cXHRlbmQ6IGZ1bmN0aW9uKCkge1xcblxcdFxcdHJldHVybiB0aGlzLnByZXZPYmplY3QgfHwgdGhpcy5jb25zdHJ1Y3RvcigpO1xcblxcdH0sXFxuXFxuXFx0Ly8gRm9yIGludGVybmFsIHVzZSBvbmx5LlxcblxcdC8vIEJlaGF2ZXMgbGlrZSBhbiBBcnJheSdzIG1ldGhvZCwgbm90IGxpa2UgYSBqUXVlcnkgbWV0aG9kLlxcblxcdHB1c2g6IHB1c2gsXFxuXFx0c29ydDogYXJyLnNvcnQsXFxuXFx0c3BsaWNlOiBhcnIuc3BsaWNlXFxufTtcXG5cXG5qUXVlcnkuZXh0ZW5kID0galF1ZXJ5LmZuLmV4dGVuZCA9IGZ1bmN0aW9uKCkge1xcblxcdHZhciBvcHRpb25zLCBuYW1lLCBzcmMsIGNvcHksIGNvcHlJc0FycmF5LCBjbG9uZSxcXG5cXHRcXHR0YXJnZXQgPSBhcmd1bWVudHNbIDAgXSB8fCB7fSxcXG5cXHRcXHRpID0gMSxcXG5cXHRcXHRsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxcblxcdFxcdGRlZXAgPSBmYWxzZTtcXG5cXG5cXHQvLyBIYW5kbGUgYSBkZWVwIGNvcHkgc2l0dWF0aW9uXFxuXFx0aWYgKCB0eXBlb2YgdGFyZ2V0ID09PSBcXFwiYm9vbGVhblxcXCIgKSB7XFxuXFx0XFx0ZGVlcCA9IHRhcmdldDtcXG5cXG5cXHRcXHQvLyBTa2lwIHRoZSBib29sZWFuIGFuZCB0aGUgdGFyZ2V0XFxuXFx0XFx0dGFyZ2V0ID0gYXJndW1lbnRzWyBpIF0gfHwge307XFxuXFx0XFx0aSsrO1xcblxcdH1cXG5cXG5cXHQvLyBIYW5kbGUgY2FzZSB3aGVuIHRhcmdldCBpcyBhIHN0cmluZyBvciBzb21ldGhpbmcgKHBvc3NpYmxlIGluIGRlZXAgY29weSlcXG5cXHRpZiAoIHR5cGVvZiB0YXJnZXQgIT09IFxcXCJvYmplY3RcXFwiICYmICFqUXVlcnkuaXNGdW5jdGlvbiggdGFyZ2V0ICkgKSB7XFxuXFx0XFx0dGFyZ2V0ID0ge307XFxuXFx0fVxcblxcblxcdC8vIEV4dGVuZCBqUXVlcnkgaXRzZWxmIGlmIG9ubHkgb25lIGFyZ3VtZW50IGlzIHBhc3NlZFxcblxcdGlmICggaSA9PT0gbGVuZ3RoICkge1xcblxcdFxcdHRhcmdldCA9IHRoaXM7XFxuXFx0XFx0aS0tO1xcblxcdH1cXG5cXG5cXHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcXG5cXG5cXHRcXHQvLyBPbmx5IGRlYWwgd2l0aCBub24tbnVsbC91bmRlZmluZWQgdmFsdWVzXFxuXFx0XFx0aWYgKCAoIG9wdGlvbnMgPSBhcmd1bWVudHNbIGkgXSApICE9IG51bGwgKSB7XFxuXFxuXFx0XFx0XFx0Ly8gRXh0ZW5kIHRoZSBiYXNlIG9iamVjdFxcblxcdFxcdFxcdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcXG5cXHRcXHRcXHRcXHRzcmMgPSB0YXJnZXRbIG5hbWUgXTtcXG5cXHRcXHRcXHRcXHRjb3B5ID0gb3B0aW9uc1sgbmFtZSBdO1xcblxcblxcdFxcdFxcdFxcdC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3BcXG5cXHRcXHRcXHRcXHRpZiAoIHRhcmdldCA9PT0gY29weSApIHtcXG5cXHRcXHRcXHRcXHRcXHRjb250aW51ZTtcXG5cXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0Ly8gUmVjdXJzZSBpZiB3ZSdyZSBtZXJnaW5nIHBsYWluIG9iamVjdHMgb3IgYXJyYXlzXFxuXFx0XFx0XFx0XFx0aWYgKCBkZWVwICYmIGNvcHkgJiYgKCBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29weSApIHx8XFxuXFx0XFx0XFx0XFx0XFx0KCBjb3B5SXNBcnJheSA9IGpRdWVyeS5pc0FycmF5KCBjb3B5ICkgKSApICkge1xcblxcblxcdFxcdFxcdFxcdFxcdGlmICggY29weUlzQXJyYXkgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0Y29weUlzQXJyYXkgPSBmYWxzZTtcXG5cXHRcXHRcXHRcXHRcXHRcXHRjbG9uZSA9IHNyYyAmJiBqUXVlcnkuaXNBcnJheSggc3JjICkgPyBzcmMgOiBbXTtcXG5cXG5cXHRcXHRcXHRcXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdFxcdFxcdFxcdGNsb25lID0gc3JjICYmIGpRdWVyeS5pc1BsYWluT2JqZWN0KCBzcmMgKSA/IHNyYyA6IHt9O1xcblxcdFxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRcXHQvLyBOZXZlciBtb3ZlIG9yaWdpbmFsIG9iamVjdHMsIGNsb25lIHRoZW1cXG5cXHRcXHRcXHRcXHRcXHR0YXJnZXRbIG5hbWUgXSA9IGpRdWVyeS5leHRlbmQoIGRlZXAsIGNsb25lLCBjb3B5ICk7XFxuXFxuXFx0XFx0XFx0XFx0Ly8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xcblxcdFxcdFxcdFxcdH0gZWxzZSBpZiAoIGNvcHkgIT09IHVuZGVmaW5lZCApIHtcXG5cXHRcXHRcXHRcXHRcXHR0YXJnZXRbIG5hbWUgXSA9IGNvcHk7XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH1cXG5cXHRcXHR9XFxuXFx0fVxcblxcblxcdC8vIFJldHVybiB0aGUgbW9kaWZpZWQgb2JqZWN0XFxuXFx0cmV0dXJuIHRhcmdldDtcXG59O1xcblxcbmpRdWVyeS5leHRlbmQoIHtcXG5cXG5cXHQvLyBVbmlxdWUgZm9yIGVhY2ggY29weSBvZiBqUXVlcnkgb24gdGhlIHBhZ2VcXG5cXHRleHBhbmRvOiBcXFwialF1ZXJ5XFxcIiArICggdmVyc2lvbiArIE1hdGgucmFuZG9tKCkgKS5yZXBsYWNlKCAvXFxcXEQvZywgXFxcIlxcXCIgKSxcXG5cXG5cXHQvLyBBc3N1bWUgalF1ZXJ5IGlzIHJlYWR5IHdpdGhvdXQgdGhlIHJlYWR5IG1vZHVsZVxcblxcdGlzUmVhZHk6IHRydWUsXFxuXFxuXFx0ZXJyb3I6IGZ1bmN0aW9uKCBtc2cgKSB7XFxuXFx0XFx0dGhyb3cgbmV3IEVycm9yKCBtc2cgKTtcXG5cXHR9LFxcblxcblxcdG5vb3A6IGZ1bmN0aW9uKCkge30sXFxuXFxuXFx0aXNGdW5jdGlvbjogZnVuY3Rpb24oIG9iaiApIHtcXG5cXHRcXHRyZXR1cm4galF1ZXJ5LnR5cGUoIG9iaiApID09PSBcXFwiZnVuY3Rpb25cXFwiO1xcblxcdH0sXFxuXFxuXFx0aXNBcnJheTogQXJyYXkuaXNBcnJheSxcXG5cXG5cXHRpc1dpbmRvdzogZnVuY3Rpb24oIG9iaiApIHtcXG5cXHRcXHRyZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqID09PSBvYmoud2luZG93O1xcblxcdH0sXFxuXFxuXFx0aXNOdW1lcmljOiBmdW5jdGlvbiggb2JqICkge1xcblxcblxcdFxcdC8vIEFzIG9mIGpRdWVyeSAzLjAsIGlzTnVtZXJpYyBpcyBsaW1pdGVkIHRvXFxuXFx0XFx0Ly8gc3RyaW5ncyBhbmQgbnVtYmVycyAocHJpbWl0aXZlcyBvciBvYmplY3RzKVxcblxcdFxcdC8vIHRoYXQgY2FuIGJlIGNvZXJjZWQgdG8gZmluaXRlIG51bWJlcnMgKGdoLTI2NjIpXFxuXFx0XFx0dmFyIHR5cGUgPSBqUXVlcnkudHlwZSggb2JqICk7XFxuXFx0XFx0cmV0dXJuICggdHlwZSA9PT0gXFxcIm51bWJlclxcXCIgfHwgdHlwZSA9PT0gXFxcInN0cmluZ1xcXCIgKSAmJlxcblxcblxcdFxcdFxcdC8vIHBhcnNlRmxvYXQgTmFOcyBudW1lcmljLWNhc3QgZmFsc2UgcG9zaXRpdmVzIChcXFwiXFxcIilcXG5cXHRcXHRcXHQvLyAuLi5idXQgbWlzaW50ZXJwcmV0cyBsZWFkaW5nLW51bWJlciBzdHJpbmdzLCBwYXJ0aWN1bGFybHkgaGV4IGxpdGVyYWxzIChcXFwiMHguLi5cXFwiKVxcblxcdFxcdFxcdC8vIHN1YnRyYWN0aW9uIGZvcmNlcyBpbmZpbml0aWVzIHRvIE5hTlxcblxcdFxcdFxcdCFpc05hTiggb2JqIC0gcGFyc2VGbG9hdCggb2JqICkgKTtcXG5cXHR9LFxcblxcblxcdGlzUGxhaW5PYmplY3Q6IGZ1bmN0aW9uKCBvYmogKSB7XFxuXFx0XFx0dmFyIHByb3RvLCBDdG9yO1xcblxcblxcdFxcdC8vIERldGVjdCBvYnZpb3VzIG5lZ2F0aXZlc1xcblxcdFxcdC8vIFVzZSB0b1N0cmluZyBpbnN0ZWFkIG9mIGpRdWVyeS50eXBlIHRvIGNhdGNoIGhvc3Qgb2JqZWN0c1xcblxcdFxcdGlmICggIW9iaiB8fCB0b1N0cmluZy5jYWxsKCBvYmogKSAhPT0gXFxcIltvYmplY3QgT2JqZWN0XVxcXCIgKSB7XFxuXFx0XFx0XFx0cmV0dXJuIGZhbHNlO1xcblxcdFxcdH1cXG5cXG5cXHRcXHRwcm90byA9IGdldFByb3RvKCBvYmogKTtcXG5cXG5cXHRcXHQvLyBPYmplY3RzIHdpdGggbm8gcHJvdG90eXBlIChlLmcuLCBgT2JqZWN0LmNyZWF0ZSggbnVsbCApYCkgYXJlIHBsYWluXFxuXFx0XFx0aWYgKCAhcHJvdG8gKSB7XFxuXFx0XFx0XFx0cmV0dXJuIHRydWU7XFxuXFx0XFx0fVxcblxcblxcdFxcdC8vIE9iamVjdHMgd2l0aCBwcm90b3R5cGUgYXJlIHBsYWluIGlmZiB0aGV5IHdlcmUgY29uc3RydWN0ZWQgYnkgYSBnbG9iYWwgT2JqZWN0IGZ1bmN0aW9uXFxuXFx0XFx0Q3RvciA9IGhhc093bi5jYWxsKCBwcm90bywgXFxcImNvbnN0cnVjdG9yXFxcIiApICYmIHByb3RvLmNvbnN0cnVjdG9yO1xcblxcdFxcdHJldHVybiB0eXBlb2YgQ3RvciA9PT0gXFxcImZ1bmN0aW9uXFxcIiAmJiBmblRvU3RyaW5nLmNhbGwoIEN0b3IgKSA9PT0gT2JqZWN0RnVuY3Rpb25TdHJpbmc7XFxuXFx0fSxcXG5cXG5cXHRpc0VtcHR5T2JqZWN0OiBmdW5jdGlvbiggb2JqICkge1xcblxcblxcdFxcdC8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXFxuXFx0XFx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lc2xpbnQvZXNsaW50L2lzc3Vlcy82MTI1XFxuXFx0XFx0dmFyIG5hbWU7XFxuXFxuXFx0XFx0Zm9yICggbmFtZSBpbiBvYmogKSB7XFxuXFx0XFx0XFx0cmV0dXJuIGZhbHNlO1xcblxcdFxcdH1cXG5cXHRcXHRyZXR1cm4gdHJ1ZTtcXG5cXHR9LFxcblxcblxcdHR5cGU6IGZ1bmN0aW9uKCBvYmogKSB7XFxuXFx0XFx0aWYgKCBvYmogPT0gbnVsbCApIHtcXG5cXHRcXHRcXHRyZXR1cm4gb2JqICsgXFxcIlxcXCI7XFxuXFx0XFx0fVxcblxcblxcdFxcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD0yLjMgb25seSAoZnVuY3Rpb25pc2ggUmVnRXhwKVxcblxcdFxcdHJldHVybiB0eXBlb2Ygb2JqID09PSBcXFwib2JqZWN0XFxcIiB8fCB0eXBlb2Ygb2JqID09PSBcXFwiZnVuY3Rpb25cXFwiID9cXG5cXHRcXHRcXHRjbGFzczJ0eXBlWyB0b1N0cmluZy5jYWxsKCBvYmogKSBdIHx8IFxcXCJvYmplY3RcXFwiIDpcXG5cXHRcXHRcXHR0eXBlb2Ygb2JqO1xcblxcdH0sXFxuXFxuXFx0Ly8gRXZhbHVhdGVzIGEgc2NyaXB0IGluIGEgZ2xvYmFsIGNvbnRleHRcXG5cXHRnbG9iYWxFdmFsOiBmdW5jdGlvbiggY29kZSApIHtcXG5cXHRcXHRET01FdmFsKCBjb2RlICk7XFxuXFx0fSxcXG5cXG5cXHQvLyBDb252ZXJ0IGRhc2hlZCB0byBjYW1lbENhc2U7IHVzZWQgYnkgdGhlIGNzcyBhbmQgZGF0YSBtb2R1bGVzXFxuXFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEsIEVkZ2UgMTIgLSAxM1xcblxcdC8vIE1pY3Jvc29mdCBmb3Jnb3QgdG8gaHVtcCB0aGVpciB2ZW5kb3IgcHJlZml4ICgjOTU3MilcXG5cXHRjYW1lbENhc2U6IGZ1bmN0aW9uKCBzdHJpbmcgKSB7XFxuXFx0XFx0cmV0dXJuIHN0cmluZy5yZXBsYWNlKCBybXNQcmVmaXgsIFxcXCJtcy1cXFwiICkucmVwbGFjZSggcmRhc2hBbHBoYSwgZmNhbWVsQ2FzZSApO1xcblxcdH0sXFxuXFxuXFx0bm9kZU5hbWU6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xcblxcdFxcdHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpO1xcblxcdH0sXFxuXFxuXFx0ZWFjaDogZnVuY3Rpb24oIG9iaiwgY2FsbGJhY2sgKSB7XFxuXFx0XFx0dmFyIGxlbmd0aCwgaSA9IDA7XFxuXFxuXFx0XFx0aWYgKCBpc0FycmF5TGlrZSggb2JqICkgKSB7XFxuXFx0XFx0XFx0bGVuZ3RoID0gb2JqLmxlbmd0aDtcXG5cXHRcXHRcXHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcXG5cXHRcXHRcXHRcXHRpZiAoIGNhbGxiYWNrLmNhbGwoIG9ialsgaSBdLCBpLCBvYmpbIGkgXSApID09PSBmYWxzZSApIHtcXG5cXHRcXHRcXHRcXHRcXHRicmVhaztcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fVxcblxcdFxcdH0gZWxzZSB7XFxuXFx0XFx0XFx0Zm9yICggaSBpbiBvYmogKSB7XFxuXFx0XFx0XFx0XFx0aWYgKCBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwgb2JqWyBpIF0gKSA9PT0gZmFsc2UgKSB7XFxuXFx0XFx0XFx0XFx0XFx0YnJlYWs7XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH1cXG5cXHRcXHR9XFxuXFxuXFx0XFx0cmV0dXJuIG9iajtcXG5cXHR9LFxcblxcblxcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seVxcblxcdHRyaW06IGZ1bmN0aW9uKCB0ZXh0ICkge1xcblxcdFxcdHJldHVybiB0ZXh0ID09IG51bGwgP1xcblxcdFxcdFxcdFxcXCJcXFwiIDpcXG5cXHRcXHRcXHQoIHRleHQgKyBcXFwiXFxcIiApLnJlcGxhY2UoIHJ0cmltLCBcXFwiXFxcIiApO1xcblxcdH0sXFxuXFxuXFx0Ly8gcmVzdWx0cyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxcblxcdG1ha2VBcnJheTogZnVuY3Rpb24oIGFyciwgcmVzdWx0cyApIHtcXG5cXHRcXHR2YXIgcmV0ID0gcmVzdWx0cyB8fCBbXTtcXG5cXG5cXHRcXHRpZiAoIGFyciAhPSBudWxsICkge1xcblxcdFxcdFxcdGlmICggaXNBcnJheUxpa2UoIE9iamVjdCggYXJyICkgKSApIHtcXG5cXHRcXHRcXHRcXHRqUXVlcnkubWVyZ2UoIHJldCxcXG5cXHRcXHRcXHRcXHRcXHR0eXBlb2YgYXJyID09PSBcXFwic3RyaW5nXFxcIiA/XFxuXFx0XFx0XFx0XFx0XFx0WyBhcnIgXSA6IGFyclxcblxcdFxcdFxcdFxcdCk7XFxuXFx0XFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRcXHRwdXNoLmNhbGwoIHJldCwgYXJyICk7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXG5cXHRcXHRyZXR1cm4gcmV0O1xcblxcdH0sXFxuXFxuXFx0aW5BcnJheTogZnVuY3Rpb24oIGVsZW0sIGFyciwgaSApIHtcXG5cXHRcXHRyZXR1cm4gYXJyID09IG51bGwgPyAtMSA6IGluZGV4T2YuY2FsbCggYXJyLCBlbGVtLCBpICk7XFxuXFx0fSxcXG5cXG5cXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcXG5cXHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XFxuXFx0bWVyZ2U6IGZ1bmN0aW9uKCBmaXJzdCwgc2Vjb25kICkge1xcblxcdFxcdHZhciBsZW4gPSArc2Vjb25kLmxlbmd0aCxcXG5cXHRcXHRcXHRqID0gMCxcXG5cXHRcXHRcXHRpID0gZmlyc3QubGVuZ3RoO1xcblxcblxcdFxcdGZvciAoIDsgaiA8IGxlbjsgaisrICkge1xcblxcdFxcdFxcdGZpcnN0WyBpKysgXSA9IHNlY29uZFsgaiBdO1xcblxcdFxcdH1cXG5cXG5cXHRcXHRmaXJzdC5sZW5ndGggPSBpO1xcblxcblxcdFxcdHJldHVybiBmaXJzdDtcXG5cXHR9LFxcblxcblxcdGdyZXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGludmVydCApIHtcXG5cXHRcXHR2YXIgY2FsbGJhY2tJbnZlcnNlLFxcblxcdFxcdFxcdG1hdGNoZXMgPSBbXSxcXG5cXHRcXHRcXHRpID0gMCxcXG5cXHRcXHRcXHRsZW5ndGggPSBlbGVtcy5sZW5ndGgsXFxuXFx0XFx0XFx0Y2FsbGJhY2tFeHBlY3QgPSAhaW52ZXJ0O1xcblxcblxcdFxcdC8vIEdvIHRocm91Z2ggdGhlIGFycmF5LCBvbmx5IHNhdmluZyB0aGUgaXRlbXNcXG5cXHRcXHQvLyB0aGF0IHBhc3MgdGhlIHZhbGlkYXRvciBmdW5jdGlvblxcblxcdFxcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xcblxcdFxcdFxcdGNhbGxiYWNrSW52ZXJzZSA9ICFjYWxsYmFjayggZWxlbXNbIGkgXSwgaSApO1xcblxcdFxcdFxcdGlmICggY2FsbGJhY2tJbnZlcnNlICE9PSBjYWxsYmFja0V4cGVjdCApIHtcXG5cXHRcXHRcXHRcXHRtYXRjaGVzLnB1c2goIGVsZW1zWyBpIF0gKTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcblxcdFxcdHJldHVybiBtYXRjaGVzO1xcblxcdH0sXFxuXFxuXFx0Ly8gYXJnIGlzIGZvciBpbnRlcm5hbCB1c2FnZSBvbmx5XFxuXFx0bWFwOiBmdW5jdGlvbiggZWxlbXMsIGNhbGxiYWNrLCBhcmcgKSB7XFxuXFx0XFx0dmFyIGxlbmd0aCwgdmFsdWUsXFxuXFx0XFx0XFx0aSA9IDAsXFxuXFx0XFx0XFx0cmV0ID0gW107XFxuXFxuXFx0XFx0Ly8gR28gdGhyb3VnaCB0aGUgYXJyYXksIHRyYW5zbGF0aW5nIGVhY2ggb2YgdGhlIGl0ZW1zIHRvIHRoZWlyIG5ldyB2YWx1ZXNcXG5cXHRcXHRpZiAoIGlzQXJyYXlMaWtlKCBlbGVtcyApICkge1xcblxcdFxcdFxcdGxlbmd0aCA9IGVsZW1zLmxlbmd0aDtcXG5cXHRcXHRcXHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcXG5cXHRcXHRcXHRcXHR2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTtcXG5cXG5cXHRcXHRcXHRcXHRpZiAoIHZhbHVlICE9IG51bGwgKSB7XFxuXFx0XFx0XFx0XFx0XFx0cmV0LnB1c2goIHZhbHVlICk7XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHQvLyBHbyB0aHJvdWdoIGV2ZXJ5IGtleSBvbiB0aGUgb2JqZWN0LFxcblxcdFxcdH0gZWxzZSB7XFxuXFx0XFx0XFx0Zm9yICggaSBpbiBlbGVtcyApIHtcXG5cXHRcXHRcXHRcXHR2YWx1ZSA9IGNhbGxiYWNrKCBlbGVtc1sgaSBdLCBpLCBhcmcgKTtcXG5cXG5cXHRcXHRcXHRcXHRpZiAoIHZhbHVlICE9IG51bGwgKSB7XFxuXFx0XFx0XFx0XFx0XFx0cmV0LnB1c2goIHZhbHVlICk7XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH1cXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gRmxhdHRlbiBhbnkgbmVzdGVkIGFycmF5c1xcblxcdFxcdHJldHVybiBjb25jYXQuYXBwbHkoIFtdLCByZXQgKTtcXG5cXHR9LFxcblxcblxcdC8vIEEgZ2xvYmFsIEdVSUQgY291bnRlciBmb3Igb2JqZWN0c1xcblxcdGd1aWQ6IDEsXFxuXFxuXFx0Ly8gQmluZCBhIGZ1bmN0aW9uIHRvIGEgY29udGV4dCwgb3B0aW9uYWxseSBwYXJ0aWFsbHkgYXBwbHlpbmcgYW55XFxuXFx0Ly8gYXJndW1lbnRzLlxcblxcdHByb3h5OiBmdW5jdGlvbiggZm4sIGNvbnRleHQgKSB7XFxuXFx0XFx0dmFyIHRtcCwgYXJncywgcHJveHk7XFxuXFxuXFx0XFx0aWYgKCB0eXBlb2YgY29udGV4dCA9PT0gXFxcInN0cmluZ1xcXCIgKSB7XFxuXFx0XFx0XFx0dG1wID0gZm5bIGNvbnRleHQgXTtcXG5cXHRcXHRcXHRjb250ZXh0ID0gZm47XFxuXFx0XFx0XFx0Zm4gPSB0bXA7XFxuXFx0XFx0fVxcblxcblxcdFxcdC8vIFF1aWNrIGNoZWNrIHRvIGRldGVybWluZSBpZiB0YXJnZXQgaXMgY2FsbGFibGUsIGluIHRoZSBzcGVjXFxuXFx0XFx0Ly8gdGhpcyB0aHJvd3MgYSBUeXBlRXJyb3IsIGJ1dCB3ZSB3aWxsIGp1c3QgcmV0dXJuIHVuZGVmaW5lZC5cXG5cXHRcXHRpZiAoICFqUXVlcnkuaXNGdW5jdGlvbiggZm4gKSApIHtcXG5cXHRcXHRcXHRyZXR1cm4gdW5kZWZpbmVkO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBTaW11bGF0ZWQgYmluZFxcblxcdFxcdGFyZ3MgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMsIDIgKTtcXG5cXHRcXHRwcm94eSA9IGZ1bmN0aW9uKCkge1xcblxcdFxcdFxcdHJldHVybiBmbi5hcHBseSggY29udGV4dCB8fCB0aGlzLCBhcmdzLmNvbmNhdCggc2xpY2UuY2FsbCggYXJndW1lbnRzICkgKSApO1xcblxcdFxcdH07XFxuXFxuXFx0XFx0Ly8gU2V0IHRoZSBndWlkIG9mIHVuaXF1ZSBoYW5kbGVyIHRvIHRoZSBzYW1lIG9mIG9yaWdpbmFsIGhhbmRsZXIsIHNvIGl0IGNhbiBiZSByZW1vdmVkXFxuXFx0XFx0cHJveHkuZ3VpZCA9IGZuLmd1aWQgPSBmbi5ndWlkIHx8IGpRdWVyeS5ndWlkKys7XFxuXFxuXFx0XFx0cmV0dXJuIHByb3h5O1xcblxcdH0sXFxuXFxuXFx0bm93OiBEYXRlLm5vdyxcXG5cXG5cXHQvLyBqUXVlcnkuc3VwcG9ydCBpcyBub3QgdXNlZCBpbiBDb3JlIGJ1dCBvdGhlciBwcm9qZWN0cyBhdHRhY2ggdGhlaXJcXG5cXHQvLyBwcm9wZXJ0aWVzIHRvIGl0IHNvIGl0IG5lZWRzIHRvIGV4aXN0LlxcblxcdHN1cHBvcnQ6IHN1cHBvcnRcXG59ICk7XFxuXFxuaWYgKCB0eXBlb2YgU3ltYm9sID09PSBcXFwiZnVuY3Rpb25cXFwiICkge1xcblxcdGpRdWVyeS5mblsgU3ltYm9sLml0ZXJhdG9yIF0gPSBhcnJbIFN5bWJvbC5pdGVyYXRvciBdO1xcbn1cXG5cXG4vLyBQb3B1bGF0ZSB0aGUgY2xhc3MydHlwZSBtYXBcXG5qUXVlcnkuZWFjaCggXFxcIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sXFxcIi5zcGxpdCggXFxcIiBcXFwiICksXFxuZnVuY3Rpb24oIGksIG5hbWUgKSB7XFxuXFx0Y2xhc3MydHlwZVsgXFxcIltvYmplY3QgXFxcIiArIG5hbWUgKyBcXFwiXVxcXCIgXSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcXG59ICk7XFxuXFxuZnVuY3Rpb24gaXNBcnJheUxpa2UoIG9iaiApIHtcXG5cXG5cXHQvLyBTdXBwb3J0OiByZWFsIGlPUyA4LjIgb25seSAobm90IHJlcHJvZHVjaWJsZSBpbiBzaW11bGF0b3IpXFxuXFx0Ly8gYGluYCBjaGVjayB1c2VkIHRvIHByZXZlbnQgSklUIGVycm9yIChnaC0yMTQ1KVxcblxcdC8vIGhhc093biBpc24ndCB1c2VkIGhlcmUgZHVlIHRvIGZhbHNlIG5lZ2F0aXZlc1xcblxcdC8vIHJlZ2FyZGluZyBOb2RlbGlzdCBsZW5ndGggaW4gSUVcXG5cXHR2YXIgbGVuZ3RoID0gISFvYmogJiYgXFxcImxlbmd0aFxcXCIgaW4gb2JqICYmIG9iai5sZW5ndGgsXFxuXFx0XFx0dHlwZSA9IGpRdWVyeS50eXBlKCBvYmogKTtcXG5cXG5cXHRpZiAoIHR5cGUgPT09IFxcXCJmdW5jdGlvblxcXCIgfHwgalF1ZXJ5LmlzV2luZG93KCBvYmogKSApIHtcXG5cXHRcXHRyZXR1cm4gZmFsc2U7XFxuXFx0fVxcblxcblxcdHJldHVybiB0eXBlID09PSBcXFwiYXJyYXlcXFwiIHx8IGxlbmd0aCA9PT0gMCB8fFxcblxcdFxcdHR5cGVvZiBsZW5ndGggPT09IFxcXCJudW1iZXJcXFwiICYmIGxlbmd0aCA+IDAgJiYgKCBsZW5ndGggLSAxICkgaW4gb2JqO1xcbn1cXG52YXIgU2l6emxlID1cXG4vKiFcXG4gKiBTaXp6bGUgQ1NTIFNlbGVjdG9yIEVuZ2luZSB2Mi4zLjNcXG4gKiBodHRwczovL3NpenpsZWpzLmNvbS9cXG4gKlxcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXFxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXFxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxcbiAqXFxuICogRGF0ZTogMjAxNi0wOC0wOFxcbiAqL1xcbihmdW5jdGlvbiggd2luZG93ICkge1xcblxcbnZhciBpLFxcblxcdHN1cHBvcnQsXFxuXFx0RXhwcixcXG5cXHRnZXRUZXh0LFxcblxcdGlzWE1MLFxcblxcdHRva2VuaXplLFxcblxcdGNvbXBpbGUsXFxuXFx0c2VsZWN0LFxcblxcdG91dGVybW9zdENvbnRleHQsXFxuXFx0c29ydElucHV0LFxcblxcdGhhc0R1cGxpY2F0ZSxcXG5cXG5cXHQvLyBMb2NhbCBkb2N1bWVudCB2YXJzXFxuXFx0c2V0RG9jdW1lbnQsXFxuXFx0ZG9jdW1lbnQsXFxuXFx0ZG9jRWxlbSxcXG5cXHRkb2N1bWVudElzSFRNTCxcXG5cXHRyYnVnZ3lRU0EsXFxuXFx0cmJ1Z2d5TWF0Y2hlcyxcXG5cXHRtYXRjaGVzLFxcblxcdGNvbnRhaW5zLFxcblxcblxcdC8vIEluc3RhbmNlLXNwZWNpZmljIGRhdGFcXG5cXHRleHBhbmRvID0gXFxcInNpenpsZVxcXCIgKyAxICogbmV3IERhdGUoKSxcXG5cXHRwcmVmZXJyZWREb2MgPSB3aW5kb3cuZG9jdW1lbnQsXFxuXFx0ZGlycnVucyA9IDAsXFxuXFx0ZG9uZSA9IDAsXFxuXFx0Y2xhc3NDYWNoZSA9IGNyZWF0ZUNhY2hlKCksXFxuXFx0dG9rZW5DYWNoZSA9IGNyZWF0ZUNhY2hlKCksXFxuXFx0Y29tcGlsZXJDYWNoZSA9IGNyZWF0ZUNhY2hlKCksXFxuXFx0c29ydE9yZGVyID0gZnVuY3Rpb24oIGEsIGIgKSB7XFxuXFx0XFx0aWYgKCBhID09PSBiICkge1xcblxcdFxcdFxcdGhhc0R1cGxpY2F0ZSA9IHRydWU7XFxuXFx0XFx0fVxcblxcdFxcdHJldHVybiAwO1xcblxcdH0sXFxuXFxuXFx0Ly8gSW5zdGFuY2UgbWV0aG9kc1xcblxcdGhhc093biA9ICh7fSkuaGFzT3duUHJvcGVydHksXFxuXFx0YXJyID0gW10sXFxuXFx0cG9wID0gYXJyLnBvcCxcXG5cXHRwdXNoX25hdGl2ZSA9IGFyci5wdXNoLFxcblxcdHB1c2ggPSBhcnIucHVzaCxcXG5cXHRzbGljZSA9IGFyci5zbGljZSxcXG5cXHQvLyBVc2UgYSBzdHJpcHBlZC1kb3duIGluZGV4T2YgYXMgaXQncyBmYXN0ZXIgdGhhbiBuYXRpdmVcXG5cXHQvLyBodHRwczovL2pzcGVyZi5jb20vdGhvci1pbmRleG9mLXZzLWZvci81XFxuXFx0aW5kZXhPZiA9IGZ1bmN0aW9uKCBsaXN0LCBlbGVtICkge1xcblxcdFxcdHZhciBpID0gMCxcXG5cXHRcXHRcXHRsZW4gPSBsaXN0Lmxlbmd0aDtcXG5cXHRcXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcXG5cXHRcXHRcXHRpZiAoIGxpc3RbaV0gPT09IGVsZW0gKSB7XFxuXFx0XFx0XFx0XFx0cmV0dXJuIGk7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXHRcXHRyZXR1cm4gLTE7XFxuXFx0fSxcXG5cXG5cXHRib29sZWFucyA9IFxcXCJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZFxcXCIsXFxuXFxuXFx0Ly8gUmVndWxhciBleHByZXNzaW9uc1xcblxcblxcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtc2VsZWN0b3JzLyN3aGl0ZXNwYWNlXFxuXFx0d2hpdGVzcGFjZSA9IFxcXCJbXFxcXFxcXFx4MjBcXFxcXFxcXHRcXFxcXFxcXHJcXFxcXFxcXG5cXFxcXFxcXGZdXFxcIixcXG5cXG5cXHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyMS9zeW5kYXRhLmh0bWwjdmFsdWUtZGVmLWlkZW50aWZpZXJcXG5cXHRpZGVudGlmaWVyID0gXFxcIig/OlxcXFxcXFxcXFxcXFxcXFwufFtcXFxcXFxcXHctXXxbXlxcXFwwLVxcXFxcXFxceGEwXSkrXFxcIixcXG5cXG5cXHQvLyBBdHRyaWJ1dGUgc2VsZWN0b3JzOiBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2F0dHJpYnV0ZS1zZWxlY3RvcnNcXG5cXHRhdHRyaWJ1dGVzID0gXFxcIlxcXFxcXFxcW1xcXCIgKyB3aGl0ZXNwYWNlICsgXFxcIiooXFxcIiArIGlkZW50aWZpZXIgKyBcXFwiKSg/OlxcXCIgKyB3aGl0ZXNwYWNlICtcXG5cXHRcXHQvLyBPcGVyYXRvciAoY2FwdHVyZSAyKVxcblxcdFxcdFxcXCIqKFsqXiR8IX5dPz0pXFxcIiArIHdoaXRlc3BhY2UgK1xcblxcdFxcdC8vIFxcXCJBdHRyaWJ1dGUgdmFsdWVzIG11c3QgYmUgQ1NTIGlkZW50aWZpZXJzIFtjYXB0dXJlIDVdIG9yIHN0cmluZ3MgW2NhcHR1cmUgMyBvciBjYXB0dXJlIDRdXFxcIlxcblxcdFxcdFxcXCIqKD86JygoPzpcXFxcXFxcXFxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcXFxcXFwnXSkqKSd8XFxcXFxcXCIoKD86XFxcXFxcXFxcXFxcXFxcXC58W15cXFxcXFxcXFxcXFxcXFxcXFxcXFxcXCJdKSopXFxcXFxcXCJ8KFxcXCIgKyBpZGVudGlmaWVyICsgXFxcIikpfClcXFwiICsgd2hpdGVzcGFjZSArXFxuXFx0XFx0XFxcIipcXFxcXFxcXF1cXFwiLFxcblxcblxcdHBzZXVkb3MgPSBcXFwiOihcXFwiICsgaWRlbnRpZmllciArIFxcXCIpKD86XFxcXFxcXFwoKFxcXCIgK1xcblxcdFxcdC8vIFRvIHJlZHVjZSB0aGUgbnVtYmVyIG9mIHNlbGVjdG9ycyBuZWVkaW5nIHRva2VuaXplIGluIHRoZSBwcmVGaWx0ZXIsIHByZWZlciBhcmd1bWVudHM6XFxuXFx0XFx0Ly8gMS4gcXVvdGVkIChjYXB0dXJlIDM7IGNhcHR1cmUgNCBvciBjYXB0dXJlIDUpXFxuXFx0XFx0XFxcIignKCg/OlxcXFxcXFxcXFxcXFxcXFwufFteXFxcXFxcXFxcXFxcXFxcXCddKSopJ3xcXFxcXFxcIigoPzpcXFxcXFxcXFxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcIl0pKilcXFxcXFxcIil8XFxcIiArXFxuXFx0XFx0Ly8gMi4gc2ltcGxlIChjYXB0dXJlIDYpXFxuXFx0XFx0XFxcIigoPzpcXFxcXFxcXFxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcXFxcXFwoKVtcXFxcXFxcXF1dfFxcXCIgKyBhdHRyaWJ1dGVzICsgXFxcIikqKXxcXFwiICtcXG5cXHRcXHQvLyAzLiBhbnl0aGluZyBlbHNlIChjYXB0dXJlIDIpXFxuXFx0XFx0XFxcIi4qXFxcIiArXFxuXFx0XFx0XFxcIilcXFxcXFxcXCl8KVxcXCIsXFxuXFxuXFx0Ly8gTGVhZGluZyBhbmQgbm9uLWVzY2FwZWQgdHJhaWxpbmcgd2hpdGVzcGFjZSwgY2FwdHVyaW5nIHNvbWUgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVycyBwcmVjZWRpbmcgdGhlIGxhdHRlclxcblxcdHJ3aGl0ZXNwYWNlID0gbmV3IFJlZ0V4cCggd2hpdGVzcGFjZSArIFxcXCIrXFxcIiwgXFxcImdcXFwiICksXFxuXFx0cnRyaW0gPSBuZXcgUmVnRXhwKCBcXFwiXlxcXCIgKyB3aGl0ZXNwYWNlICsgXFxcIit8KCg/Ol58W15cXFxcXFxcXFxcXFxcXFxcXSkoPzpcXFxcXFxcXFxcXFxcXFxcLikqKVxcXCIgKyB3aGl0ZXNwYWNlICsgXFxcIiskXFxcIiwgXFxcImdcXFwiICksXFxuXFxuXFx0cmNvbW1hID0gbmV3IFJlZ0V4cCggXFxcIl5cXFwiICsgd2hpdGVzcGFjZSArIFxcXCIqLFxcXCIgKyB3aGl0ZXNwYWNlICsgXFxcIipcXFwiICksXFxuXFx0cmNvbWJpbmF0b3JzID0gbmV3IFJlZ0V4cCggXFxcIl5cXFwiICsgd2hpdGVzcGFjZSArIFxcXCIqKFs+K35dfFxcXCIgKyB3aGl0ZXNwYWNlICsgXFxcIilcXFwiICsgd2hpdGVzcGFjZSArIFxcXCIqXFxcIiApLFxcblxcblxcdHJhdHRyaWJ1dGVRdW90ZXMgPSBuZXcgUmVnRXhwKCBcXFwiPVxcXCIgKyB3aGl0ZXNwYWNlICsgXFxcIiooW15cXFxcXFxcXF0nXFxcXFxcXCJdKj8pXFxcIiArIHdoaXRlc3BhY2UgKyBcXFwiKlxcXFxcXFxcXVxcXCIsIFxcXCJnXFxcIiApLFxcblxcblxcdHJwc2V1ZG8gPSBuZXcgUmVnRXhwKCBwc2V1ZG9zICksXFxuXFx0cmlkZW50aWZpZXIgPSBuZXcgUmVnRXhwKCBcXFwiXlxcXCIgKyBpZGVudGlmaWVyICsgXFxcIiRcXFwiICksXFxuXFxuXFx0bWF0Y2hFeHByID0ge1xcblxcdFxcdFxcXCJJRFxcXCI6IG5ldyBSZWdFeHAoIFxcXCJeIyhcXFwiICsgaWRlbnRpZmllciArIFxcXCIpXFxcIiApLFxcblxcdFxcdFxcXCJDTEFTU1xcXCI6IG5ldyBSZWdFeHAoIFxcXCJeXFxcXFxcXFwuKFxcXCIgKyBpZGVudGlmaWVyICsgXFxcIilcXFwiICksXFxuXFx0XFx0XFxcIlRBR1xcXCI6IG5ldyBSZWdFeHAoIFxcXCJeKFxcXCIgKyBpZGVudGlmaWVyICsgXFxcInxbKl0pXFxcIiApLFxcblxcdFxcdFxcXCJBVFRSXFxcIjogbmV3IFJlZ0V4cCggXFxcIl5cXFwiICsgYXR0cmlidXRlcyApLFxcblxcdFxcdFxcXCJQU0VVRE9cXFwiOiBuZXcgUmVnRXhwKCBcXFwiXlxcXCIgKyBwc2V1ZG9zICksXFxuXFx0XFx0XFxcIkNISUxEXFxcIjogbmV3IFJlZ0V4cCggXFxcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFxcXFxcKFxcXCIgKyB3aGl0ZXNwYWNlICtcXG5cXHRcXHRcXHRcXFwiKihldmVufG9kZHwoKFsrLV18KShcXFxcXFxcXGQqKW58KVxcXCIgKyB3aGl0ZXNwYWNlICsgXFxcIiooPzooWystXXwpXFxcIiArIHdoaXRlc3BhY2UgK1xcblxcdFxcdFxcdFxcXCIqKFxcXFxcXFxcZCspfCkpXFxcIiArIHdoaXRlc3BhY2UgKyBcXFwiKlxcXFxcXFxcKXwpXFxcIiwgXFxcImlcXFwiICksXFxuXFx0XFx0XFxcImJvb2xcXFwiOiBuZXcgUmVnRXhwKCBcXFwiXig/OlxcXCIgKyBib29sZWFucyArIFxcXCIpJFxcXCIsIFxcXCJpXFxcIiApLFxcblxcdFxcdC8vIEZvciB1c2UgaW4gbGlicmFyaWVzIGltcGxlbWVudGluZyAuaXMoKVxcblxcdFxcdC8vIFdlIHVzZSB0aGlzIGZvciBQT1MgbWF0Y2hpbmcgaW4gYHNlbGVjdGBcXG5cXHRcXHRcXFwibmVlZHNDb250ZXh0XFxcIjogbmV3IFJlZ0V4cCggXFxcIl5cXFwiICsgd2hpdGVzcGFjZSArIFxcXCIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXFxcXFxcXChcXFwiICtcXG5cXHRcXHRcXHR3aGl0ZXNwYWNlICsgXFxcIiooKD86LVxcXFxcXFxcZCk/XFxcXFxcXFxkKilcXFwiICsgd2hpdGVzcGFjZSArIFxcXCIqXFxcXFxcXFwpfCkoPz1bXi1dfCQpXFxcIiwgXFxcImlcXFwiIClcXG5cXHR9LFxcblxcblxcdHJpbnB1dHMgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFxcblxcdHJoZWFkZXIgPSAvXmhcXFxcZCQvaSxcXG5cXG5cXHRybmF0aXZlID0gL15bXntdK1xcXFx7XFxcXHMqXFxcXFtuYXRpdmUgXFxcXHcvLFxcblxcblxcdC8vIEVhc2lseS1wYXJzZWFibGUvcmV0cmlldmFibGUgSUQgb3IgVEFHIG9yIENMQVNTIHNlbGVjdG9yc1xcblxcdHJxdWlja0V4cHIgPSAvXig/OiMoW1xcXFx3LV0rKXwoXFxcXHcrKXxcXFxcLihbXFxcXHctXSspKSQvLFxcblxcblxcdHJzaWJsaW5nID0gL1srfl0vLFxcblxcblxcdC8vIENTUyBlc2NhcGVzXFxuXFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI2VzY2FwZWQtY2hhcmFjdGVyc1xcblxcdHJ1bmVzY2FwZSA9IG5ldyBSZWdFeHAoIFxcXCJcXFxcXFxcXFxcXFxcXFxcKFtcXFxcXFxcXGRhLWZdezEsNn1cXFwiICsgd2hpdGVzcGFjZSArIFxcXCI/fChcXFwiICsgd2hpdGVzcGFjZSArIFxcXCIpfC4pXFxcIiwgXFxcImlnXFxcIiApLFxcblxcdGZ1bmVzY2FwZSA9IGZ1bmN0aW9uKCBfLCBlc2NhcGVkLCBlc2NhcGVkV2hpdGVzcGFjZSApIHtcXG5cXHRcXHR2YXIgaGlnaCA9IFxcXCIweFxcXCIgKyBlc2NhcGVkIC0gMHgxMDAwMDtcXG5cXHRcXHQvLyBOYU4gbWVhbnMgbm9uLWNvZGVwb2ludFxcblxcdFxcdC8vIFN1cHBvcnQ6IEZpcmVmb3g8MjRcXG5cXHRcXHQvLyBXb3JrYXJvdW5kIGVycm9uZW91cyBudW1lcmljIGludGVycHJldGF0aW9uIG9mICtcXFwiMHhcXFwiXFxuXFx0XFx0cmV0dXJuIGhpZ2ggIT09IGhpZ2ggfHwgZXNjYXBlZFdoaXRlc3BhY2UgP1xcblxcdFxcdFxcdGVzY2FwZWQgOlxcblxcdFxcdFxcdGhpZ2ggPCAwID9cXG5cXHRcXHRcXHRcXHQvLyBCTVAgY29kZXBvaW50XFxuXFx0XFx0XFx0XFx0U3RyaW5nLmZyb21DaGFyQ29kZSggaGlnaCArIDB4MTAwMDAgKSA6XFxuXFx0XFx0XFx0XFx0Ly8gU3VwcGxlbWVudGFsIFBsYW5lIGNvZGVwb2ludCAoc3Vycm9nYXRlIHBhaXIpXFxuXFx0XFx0XFx0XFx0U3RyaW5nLmZyb21DaGFyQ29kZSggaGlnaCA+PiAxMCB8IDB4RDgwMCwgaGlnaCAmIDB4M0ZGIHwgMHhEQzAwICk7XFxuXFx0fSxcXG5cXG5cXHQvLyBDU1Mgc3RyaW5nL2lkZW50aWZpZXIgc2VyaWFsaXphdGlvblxcblxcdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jY29tbW9uLXNlcmlhbGl6aW5nLWlkaW9tc1xcblxcdHJjc3Nlc2NhcGUgPSAvKFtcXFxcMC1cXFxceDFmXFxcXHg3Zl18Xi0/XFxcXGQpfF4tJHxbXlxcXFwwLVxcXFx4MWZcXFxceDdmLVxcXFx1RkZGRlxcXFx3LV0vZyxcXG5cXHRmY3NzZXNjYXBlID0gZnVuY3Rpb24oIGNoLCBhc0NvZGVQb2ludCApIHtcXG5cXHRcXHRpZiAoIGFzQ29kZVBvaW50ICkge1xcblxcblxcdFxcdFxcdC8vIFUrMDAwMCBOVUxMIGJlY29tZXMgVStGRkZEIFJFUExBQ0VNRU5UIENIQVJBQ1RFUlxcblxcdFxcdFxcdGlmICggY2ggPT09IFxcXCJcXFxcMFxcXCIgKSB7XFxuXFx0XFx0XFx0XFx0cmV0dXJuIFxcXCJcXFxcdUZGRkRcXFwiO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHQvLyBDb250cm9sIGNoYXJhY3RlcnMgYW5kIChkZXBlbmRlbnQgdXBvbiBwb3NpdGlvbikgbnVtYmVycyBnZXQgZXNjYXBlZCBhcyBjb2RlIHBvaW50c1xcblxcdFxcdFxcdHJldHVybiBjaC5zbGljZSggMCwgLTEgKSArIFxcXCJcXFxcXFxcXFxcXCIgKyBjaC5jaGFyQ29kZUF0KCBjaC5sZW5ndGggLSAxICkudG9TdHJpbmcoIDE2ICkgKyBcXFwiIFxcXCI7XFxuXFx0XFx0fVxcblxcblxcdFxcdC8vIE90aGVyIHBvdGVudGlhbGx5LXNwZWNpYWwgQVNDSUkgY2hhcmFjdGVycyBnZXQgYmFja3NsYXNoLWVzY2FwZWRcXG5cXHRcXHRyZXR1cm4gXFxcIlxcXFxcXFxcXFxcIiArIGNoO1xcblxcdH0sXFxuXFxuXFx0Ly8gVXNlZCBmb3IgaWZyYW1lc1xcblxcdC8vIFNlZSBzZXREb2N1bWVudCgpXFxuXFx0Ly8gUmVtb3ZpbmcgdGhlIGZ1bmN0aW9uIHdyYXBwZXIgY2F1c2VzIGEgXFxcIlBlcm1pc3Npb24gRGVuaWVkXFxcIlxcblxcdC8vIGVycm9yIGluIElFXFxuXFx0dW5sb2FkSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xcblxcdFxcdHNldERvY3VtZW50KCk7XFxuXFx0fSxcXG5cXG5cXHRkaXNhYmxlZEFuY2VzdG9yID0gYWRkQ29tYmluYXRvcihcXG5cXHRcXHRmdW5jdGlvbiggZWxlbSApIHtcXG5cXHRcXHRcXHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gdHJ1ZSAmJiAoXFxcImZvcm1cXFwiIGluIGVsZW0gfHwgXFxcImxhYmVsXFxcIiBpbiBlbGVtKTtcXG5cXHRcXHR9LFxcblxcdFxcdHsgZGlyOiBcXFwicGFyZW50Tm9kZVxcXCIsIG5leHQ6IFxcXCJsZWdlbmRcXFwiIH1cXG5cXHQpO1xcblxcbi8vIE9wdGltaXplIGZvciBwdXNoLmFwcGx5KCBfLCBOb2RlTGlzdCApXFxudHJ5IHtcXG5cXHRwdXNoLmFwcGx5KFxcblxcdFxcdChhcnIgPSBzbGljZS5jYWxsKCBwcmVmZXJyZWREb2MuY2hpbGROb2RlcyApKSxcXG5cXHRcXHRwcmVmZXJyZWREb2MuY2hpbGROb2Rlc1xcblxcdCk7XFxuXFx0Ly8gU3VwcG9ydDogQW5kcm9pZDw0LjBcXG5cXHQvLyBEZXRlY3Qgc2lsZW50bHkgZmFpbGluZyBwdXNoLmFwcGx5XFxuXFx0YXJyWyBwcmVmZXJyZWREb2MuY2hpbGROb2Rlcy5sZW5ndGggXS5ub2RlVHlwZTtcXG59IGNhdGNoICggZSApIHtcXG5cXHRwdXNoID0geyBhcHBseTogYXJyLmxlbmd0aCA/XFxuXFxuXFx0XFx0Ly8gTGV2ZXJhZ2Ugc2xpY2UgaWYgcG9zc2libGVcXG5cXHRcXHRmdW5jdGlvbiggdGFyZ2V0LCBlbHMgKSB7XFxuXFx0XFx0XFx0cHVzaF9uYXRpdmUuYXBwbHkoIHRhcmdldCwgc2xpY2UuY2FsbChlbHMpICk7XFxuXFx0XFx0fSA6XFxuXFxuXFx0XFx0Ly8gU3VwcG9ydDogSUU8OVxcblxcdFxcdC8vIE90aGVyd2lzZSBhcHBlbmQgZGlyZWN0bHlcXG5cXHRcXHRmdW5jdGlvbiggdGFyZ2V0LCBlbHMgKSB7XFxuXFx0XFx0XFx0dmFyIGogPSB0YXJnZXQubGVuZ3RoLFxcblxcdFxcdFxcdFxcdGkgPSAwO1xcblxcdFxcdFxcdC8vIENhbid0IHRydXN0IE5vZGVMaXN0Lmxlbmd0aFxcblxcdFxcdFxcdHdoaWxlICggKHRhcmdldFtqKytdID0gZWxzW2krK10pICkge31cXG5cXHRcXHRcXHR0YXJnZXQubGVuZ3RoID0gaiAtIDE7XFxuXFx0XFx0fVxcblxcdH07XFxufVxcblxcbmZ1bmN0aW9uIFNpenpsZSggc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKSB7XFxuXFx0dmFyIG0sIGksIGVsZW0sIG5pZCwgbWF0Y2gsIGdyb3VwcywgbmV3U2VsZWN0b3IsXFxuXFx0XFx0bmV3Q29udGV4dCA9IGNvbnRleHQgJiYgY29udGV4dC5vd25lckRvY3VtZW50LFxcblxcblxcdFxcdC8vIG5vZGVUeXBlIGRlZmF1bHRzIHRvIDksIHNpbmNlIGNvbnRleHQgZGVmYXVsdHMgdG8gZG9jdW1lbnRcXG5cXHRcXHRub2RlVHlwZSA9IGNvbnRleHQgPyBjb250ZXh0Lm5vZGVUeXBlIDogOTtcXG5cXG5cXHRyZXN1bHRzID0gcmVzdWx0cyB8fCBbXTtcXG5cXG5cXHQvLyBSZXR1cm4gZWFybHkgZnJvbSBjYWxscyB3aXRoIGludmFsaWQgc2VsZWN0b3Igb3IgY29udGV4dFxcblxcdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcXFwic3RyaW5nXFxcIiB8fCAhc2VsZWN0b3IgfHxcXG5cXHRcXHRub2RlVHlwZSAhPT0gMSAmJiBub2RlVHlwZSAhPT0gOSAmJiBub2RlVHlwZSAhPT0gMTEgKSB7XFxuXFxuXFx0XFx0cmV0dXJuIHJlc3VsdHM7XFxuXFx0fVxcblxcblxcdC8vIFRyeSB0byBzaG9ydGN1dCBmaW5kIG9wZXJhdGlvbnMgKGFzIG9wcG9zZWQgdG8gZmlsdGVycykgaW4gSFRNTCBkb2N1bWVudHNcXG5cXHRpZiAoICFzZWVkICkge1xcblxcblxcdFxcdGlmICggKCBjb250ZXh0ID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBwcmVmZXJyZWREb2MgKSAhPT0gZG9jdW1lbnQgKSB7XFxuXFx0XFx0XFx0c2V0RG9jdW1lbnQoIGNvbnRleHQgKTtcXG5cXHRcXHR9XFxuXFx0XFx0Y29udGV4dCA9IGNvbnRleHQgfHwgZG9jdW1lbnQ7XFxuXFxuXFx0XFx0aWYgKCBkb2N1bWVudElzSFRNTCApIHtcXG5cXG5cXHRcXHRcXHQvLyBJZiB0aGUgc2VsZWN0b3IgaXMgc3VmZmljaWVudGx5IHNpbXBsZSwgdHJ5IHVzaW5nIGEgXFxcImdldCpCeSpcXFwiIERPTSBtZXRob2RcXG5cXHRcXHRcXHQvLyAoZXhjZXB0aW5nIERvY3VtZW50RnJhZ21lbnQgY29udGV4dCwgd2hlcmUgdGhlIG1ldGhvZHMgZG9uJ3QgZXhpc3QpXFxuXFx0XFx0XFx0aWYgKCBub2RlVHlwZSAhPT0gMTEgJiYgKG1hdGNoID0gcnF1aWNrRXhwci5leGVjKCBzZWxlY3RvciApKSApIHtcXG5cXG5cXHRcXHRcXHRcXHQvLyBJRCBzZWxlY3RvclxcblxcdFxcdFxcdFxcdGlmICggKG0gPSBtYXRjaFsxXSkgKSB7XFxuXFxuXFx0XFx0XFx0XFx0XFx0Ly8gRG9jdW1lbnQgY29udGV4dFxcblxcdFxcdFxcdFxcdFxcdGlmICggbm9kZVR5cGUgPT09IDkgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0aWYgKCAoZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIG0gKSkgKSB7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0Ly8gU3VwcG9ydDogSUUsIE9wZXJhLCBXZWJraXRcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBUT0RPOiBpZGVudGlmeSB2ZXJzaW9uc1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIGdldEVsZW1lbnRCeUlkIGNhbiBtYXRjaCBlbGVtZW50cyBieSBuYW1lIGluc3RlYWQgb2YgSURcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRpZiAoIGVsZW0uaWQgPT09IG0gKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0cmVzdWx0cy5wdXNoKCBlbGVtICk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0cmV0dXJuIHJlc3VsdHM7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdFxcdH0gZWxzZSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0cmV0dXJuIHJlc3VsdHM7XFxuXFx0XFx0XFx0XFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdFxcdFxcdC8vIEVsZW1lbnQgY29udGV4dFxcblxcdFxcdFxcdFxcdFxcdH0gZWxzZSB7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0Ly8gU3VwcG9ydDogSUUsIE9wZXJhLCBXZWJraXRcXG5cXHRcXHRcXHRcXHRcXHRcXHQvLyBUT0RPOiBpZGVudGlmeSB2ZXJzaW9uc1xcblxcdFxcdFxcdFxcdFxcdFxcdC8vIGdldEVsZW1lbnRCeUlkIGNhbiBtYXRjaCBlbGVtZW50cyBieSBuYW1lIGluc3RlYWQgb2YgSURcXG5cXHRcXHRcXHRcXHRcXHRcXHRpZiAoIG5ld0NvbnRleHQgJiYgKGVsZW0gPSBuZXdDb250ZXh0LmdldEVsZW1lbnRCeUlkKCBtICkpICYmXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0Y29udGFpbnMoIGNvbnRleHQsIGVsZW0gKSAmJlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdGVsZW0uaWQgPT09IG0gKSB7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0cmVzdWx0cy5wdXNoKCBlbGVtICk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0cmV0dXJuIHJlc3VsdHM7XFxuXFx0XFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHQvLyBUeXBlIHNlbGVjdG9yXFxuXFx0XFx0XFx0XFx0fSBlbHNlIGlmICggbWF0Y2hbMl0gKSB7XFxuXFx0XFx0XFx0XFx0XFx0cHVzaC5hcHBseSggcmVzdWx0cywgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggc2VsZWN0b3IgKSApO1xcblxcdFxcdFxcdFxcdFxcdHJldHVybiByZXN1bHRzO1xcblxcblxcdFxcdFxcdFxcdC8vIENsYXNzIHNlbGVjdG9yXFxuXFx0XFx0XFx0XFx0fSBlbHNlIGlmICggKG0gPSBtYXRjaFszXSkgJiYgc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmXFxuXFx0XFx0XFx0XFx0XFx0Y29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICkge1xcblxcblxcdFxcdFxcdFxcdFxcdHB1c2guYXBwbHkoIHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggbSApICk7XFxuXFx0XFx0XFx0XFx0XFx0cmV0dXJuIHJlc3VsdHM7XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHQvLyBUYWtlIGFkdmFudGFnZSBvZiBxdWVyeVNlbGVjdG9yQWxsXFxuXFx0XFx0XFx0aWYgKCBzdXBwb3J0LnFzYSAmJlxcblxcdFxcdFxcdFxcdCFjb21waWxlckNhY2hlWyBzZWxlY3RvciArIFxcXCIgXFxcIiBdICYmXFxuXFx0XFx0XFx0XFx0KCFyYnVnZ3lRU0EgfHwgIXJidWdneVFTQS50ZXN0KCBzZWxlY3RvciApKSApIHtcXG5cXG5cXHRcXHRcXHRcXHRpZiAoIG5vZGVUeXBlICE9PSAxICkge1xcblxcdFxcdFxcdFxcdFxcdG5ld0NvbnRleHQgPSBjb250ZXh0O1xcblxcdFxcdFxcdFxcdFxcdG5ld1NlbGVjdG9yID0gc2VsZWN0b3I7XFxuXFxuXFx0XFx0XFx0XFx0Ly8gcVNBIGxvb2tzIG91dHNpZGUgRWxlbWVudCBjb250ZXh0LCB3aGljaCBpcyBub3Qgd2hhdCB3ZSB3YW50XFxuXFx0XFx0XFx0XFx0Ly8gVGhhbmtzIHRvIEFuZHJldyBEdXBvbnQgZm9yIHRoaXMgd29ya2Fyb3VuZCB0ZWNobmlxdWVcXG5cXHRcXHRcXHRcXHQvLyBTdXBwb3J0OiBJRSA8PThcXG5cXHRcXHRcXHRcXHQvLyBFeGNsdWRlIG9iamVjdCBlbGVtZW50c1xcblxcdFxcdFxcdFxcdH0gZWxzZSBpZiAoIGNvbnRleHQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gXFxcIm9iamVjdFxcXCIgKSB7XFxuXFxuXFx0XFx0XFx0XFx0XFx0Ly8gQ2FwdHVyZSB0aGUgY29udGV4dCBJRCwgc2V0dGluZyBpdCBmaXJzdCBpZiBuZWNlc3NhcnlcXG5cXHRcXHRcXHRcXHRcXHRpZiAoIChuaWQgPSBjb250ZXh0LmdldEF0dHJpYnV0ZSggXFxcImlkXFxcIiApKSApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRuaWQgPSBuaWQucmVwbGFjZSggcmNzc2VzY2FwZSwgZmNzc2VzY2FwZSApO1xcblxcdFxcdFxcdFxcdFxcdH0gZWxzZSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0Y29udGV4dC5zZXRBdHRyaWJ1dGUoIFxcXCJpZFxcXCIsIChuaWQgPSBleHBhbmRvKSApO1xcblxcdFxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRcXHQvLyBQcmVmaXggZXZlcnkgc2VsZWN0b3IgaW4gdGhlIGxpc3RcXG5cXHRcXHRcXHRcXHRcXHRncm91cHMgPSB0b2tlbml6ZSggc2VsZWN0b3IgKTtcXG5cXHRcXHRcXHRcXHRcXHRpID0gZ3JvdXBzLmxlbmd0aDtcXG5cXHRcXHRcXHRcXHRcXHR3aGlsZSAoIGktLSApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRncm91cHNbaV0gPSBcXFwiI1xcXCIgKyBuaWQgKyBcXFwiIFxcXCIgKyB0b1NlbGVjdG9yKCBncm91cHNbaV0gKTtcXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0bmV3U2VsZWN0b3IgPSBncm91cHMuam9pbiggXFxcIixcXFwiICk7XFxuXFxuXFx0XFx0XFx0XFx0XFx0Ly8gRXhwYW5kIGNvbnRleHQgZm9yIHNpYmxpbmcgc2VsZWN0b3JzXFxuXFx0XFx0XFx0XFx0XFx0bmV3Q29udGV4dCA9IHJzaWJsaW5nLnRlc3QoIHNlbGVjdG9yICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8XFxuXFx0XFx0XFx0XFx0XFx0XFx0Y29udGV4dDtcXG5cXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0aWYgKCBuZXdTZWxlY3RvciApIHtcXG5cXHRcXHRcXHRcXHRcXHR0cnkge1xcblxcdFxcdFxcdFxcdFxcdFxcdHB1c2guYXBwbHkoIHJlc3VsdHMsXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0bmV3Q29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCBuZXdTZWxlY3RvciApXFxuXFx0XFx0XFx0XFx0XFx0XFx0KTtcXG5cXHRcXHRcXHRcXHRcXHRcXHRyZXR1cm4gcmVzdWx0cztcXG5cXHRcXHRcXHRcXHRcXHR9IGNhdGNoICggcXNhRXJyb3IgKSB7XFxuXFx0XFx0XFx0XFx0XFx0fSBmaW5hbGx5IHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRpZiAoIG5pZCA9PT0gZXhwYW5kbyApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRjb250ZXh0LnJlbW92ZUF0dHJpYnV0ZSggXFxcImlkXFxcIiApO1xcblxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH1cXG5cXHRcXHR9XFxuXFx0fVxcblxcblxcdC8vIEFsbCBvdGhlcnNcXG5cXHRyZXR1cm4gc2VsZWN0KCBzZWxlY3Rvci5yZXBsYWNlKCBydHJpbSwgXFxcIiQxXFxcIiApLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICk7XFxufVxcblxcbi8qKlxcbiAqIENyZWF0ZSBrZXktdmFsdWUgY2FjaGVzIG9mIGxpbWl0ZWQgc2l6ZVxcbiAqIEByZXR1cm5zIHtmdW5jdGlvbihzdHJpbmcsIG9iamVjdCl9IFJldHVybnMgdGhlIE9iamVjdCBkYXRhIGFmdGVyIHN0b3JpbmcgaXQgb24gaXRzZWxmIHdpdGhcXG4gKlxcdHByb3BlcnR5IG5hbWUgdGhlIChzcGFjZS1zdWZmaXhlZCkgc3RyaW5nIGFuZCAoaWYgdGhlIGNhY2hlIGlzIGxhcmdlciB0aGFuIEV4cHIuY2FjaGVMZW5ndGgpXFxuICpcXHRkZWxldGluZyB0aGUgb2xkZXN0IGVudHJ5XFxuICovXFxuZnVuY3Rpb24gY3JlYXRlQ2FjaGUoKSB7XFxuXFx0dmFyIGtleXMgPSBbXTtcXG5cXG5cXHRmdW5jdGlvbiBjYWNoZSgga2V5LCB2YWx1ZSApIHtcXG5cXHRcXHQvLyBVc2UgKGtleSArIFxcXCIgXFxcIikgdG8gYXZvaWQgY29sbGlzaW9uIHdpdGggbmF0aXZlIHByb3RvdHlwZSBwcm9wZXJ0aWVzIChzZWUgSXNzdWUgIzE1NylcXG5cXHRcXHRpZiAoIGtleXMucHVzaCgga2V5ICsgXFxcIiBcXFwiICkgPiBFeHByLmNhY2hlTGVuZ3RoICkge1xcblxcdFxcdFxcdC8vIE9ubHkga2VlcCB0aGUgbW9zdCByZWNlbnQgZW50cmllc1xcblxcdFxcdFxcdGRlbGV0ZSBjYWNoZVsga2V5cy5zaGlmdCgpIF07XFxuXFx0XFx0fVxcblxcdFxcdHJldHVybiAoY2FjaGVbIGtleSArIFxcXCIgXFxcIiBdID0gdmFsdWUpO1xcblxcdH1cXG5cXHRyZXR1cm4gY2FjaGU7XFxufVxcblxcbi8qKlxcbiAqIE1hcmsgYSBmdW5jdGlvbiBmb3Igc3BlY2lhbCB1c2UgYnkgU2l6emxlXFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIG1hcmtcXG4gKi9cXG5mdW5jdGlvbiBtYXJrRnVuY3Rpb24oIGZuICkge1xcblxcdGZuWyBleHBhbmRvIF0gPSB0cnVlO1xcblxcdHJldHVybiBmbjtcXG59XFxuXFxuLyoqXFxuICogU3VwcG9ydCB0ZXN0aW5nIHVzaW5nIGFuIGVsZW1lbnRcXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBQYXNzZWQgdGhlIGNyZWF0ZWQgZWxlbWVudCBhbmQgcmV0dXJucyBhIGJvb2xlYW4gcmVzdWx0XFxuICovXFxuZnVuY3Rpb24gYXNzZXJ0KCBmbiApIHtcXG5cXHR2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFxcXCJmaWVsZHNldFxcXCIpO1xcblxcblxcdHRyeSB7XFxuXFx0XFx0cmV0dXJuICEhZm4oIGVsICk7XFxuXFx0fSBjYXRjaCAoZSkge1xcblxcdFxcdHJldHVybiBmYWxzZTtcXG5cXHR9IGZpbmFsbHkge1xcblxcdFxcdC8vIFJlbW92ZSBmcm9tIGl0cyBwYXJlbnQgYnkgZGVmYXVsdFxcblxcdFxcdGlmICggZWwucGFyZW50Tm9kZSApIHtcXG5cXHRcXHRcXHRlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBlbCApO1xcblxcdFxcdH1cXG5cXHRcXHQvLyByZWxlYXNlIG1lbW9yeSBpbiBJRVxcblxcdFxcdGVsID0gbnVsbDtcXG5cXHR9XFxufVxcblxcbi8qKlxcbiAqIEFkZHMgdGhlIHNhbWUgaGFuZGxlciBmb3IgYWxsIG9mIHRoZSBzcGVjaWZpZWQgYXR0cnNcXG4gKiBAcGFyYW0ge1N0cmluZ30gYXR0cnMgUGlwZS1zZXBhcmF0ZWQgbGlzdCBvZiBhdHRyaWJ1dGVzXFxuICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlciBUaGUgbWV0aG9kIHRoYXQgd2lsbCBiZSBhcHBsaWVkXFxuICovXFxuZnVuY3Rpb24gYWRkSGFuZGxlKCBhdHRycywgaGFuZGxlciApIHtcXG5cXHR2YXIgYXJyID0gYXR0cnMuc3BsaXQoXFxcInxcXFwiKSxcXG5cXHRcXHRpID0gYXJyLmxlbmd0aDtcXG5cXG5cXHR3aGlsZSAoIGktLSApIHtcXG5cXHRcXHRFeHByLmF0dHJIYW5kbGVbIGFycltpXSBdID0gaGFuZGxlcjtcXG5cXHR9XFxufVxcblxcbi8qKlxcbiAqIENoZWNrcyBkb2N1bWVudCBvcmRlciBvZiB0d28gc2libGluZ3NcXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGFcXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGJcXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBSZXR1cm5zIGxlc3MgdGhhbiAwIGlmIGEgcHJlY2VkZXMgYiwgZ3JlYXRlciB0aGFuIDAgaWYgYSBmb2xsb3dzIGJcXG4gKi9cXG5mdW5jdGlvbiBzaWJsaW5nQ2hlY2soIGEsIGIgKSB7XFxuXFx0dmFyIGN1ciA9IGIgJiYgYSxcXG5cXHRcXHRkaWZmID0gY3VyICYmIGEubm9kZVR5cGUgPT09IDEgJiYgYi5ub2RlVHlwZSA9PT0gMSAmJlxcblxcdFxcdFxcdGEuc291cmNlSW5kZXggLSBiLnNvdXJjZUluZGV4O1xcblxcblxcdC8vIFVzZSBJRSBzb3VyY2VJbmRleCBpZiBhdmFpbGFibGUgb24gYm90aCBub2Rlc1xcblxcdGlmICggZGlmZiApIHtcXG5cXHRcXHRyZXR1cm4gZGlmZjtcXG5cXHR9XFxuXFxuXFx0Ly8gQ2hlY2sgaWYgYiBmb2xsb3dzIGFcXG5cXHRpZiAoIGN1ciApIHtcXG5cXHRcXHR3aGlsZSAoIChjdXIgPSBjdXIubmV4dFNpYmxpbmcpICkge1xcblxcdFxcdFxcdGlmICggY3VyID09PSBiICkge1xcblxcdFxcdFxcdFxcdHJldHVybiAtMTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcdH1cXG5cXG5cXHRyZXR1cm4gYSA/IDEgOiAtMTtcXG59XFxuXFxuLyoqXFxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBpbnB1dCB0eXBlc1xcbiAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXFxuICovXFxuZnVuY3Rpb24gY3JlYXRlSW5wdXRQc2V1ZG8oIHR5cGUgKSB7XFxuXFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xcblxcdFxcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xcblxcdFxcdHJldHVybiBuYW1lID09PSBcXFwiaW5wdXRcXFwiICYmIGVsZW0udHlwZSA9PT0gdHlwZTtcXG5cXHR9O1xcbn1cXG5cXG4vKipcXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGJ1dHRvbnNcXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxcbiAqL1xcbmZ1bmN0aW9uIGNyZWF0ZUJ1dHRvblBzZXVkbyggdHlwZSApIHtcXG5cXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XFxuXFx0XFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XFxuXFx0XFx0cmV0dXJuIChuYW1lID09PSBcXFwiaW5wdXRcXFwiIHx8IG5hbWUgPT09IFxcXCJidXR0b25cXFwiKSAmJiBlbGVtLnR5cGUgPT09IHR5cGU7XFxuXFx0fTtcXG59XFxuXFxuLyoqXFxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciA6ZW5hYmxlZC86ZGlzYWJsZWRcXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGRpc2FibGVkIHRydWUgZm9yIDpkaXNhYmxlZDsgZmFsc2UgZm9yIDplbmFibGVkXFxuICovXFxuZnVuY3Rpb24gY3JlYXRlRGlzYWJsZWRQc2V1ZG8oIGRpc2FibGVkICkge1xcblxcblxcdC8vIEtub3duIDpkaXNhYmxlZCBmYWxzZSBwb3NpdGl2ZXM6IGZpZWxkc2V0W2Rpc2FibGVkXSA+IGxlZ2VuZDpudGgtb2YtdHlwZShuKzIpIDpjYW4tZGlzYWJsZVxcblxcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcXG5cXG5cXHRcXHQvLyBPbmx5IGNlcnRhaW4gZWxlbWVudHMgY2FuIG1hdGNoIDplbmFibGVkIG9yIDpkaXNhYmxlZFxcblxcdFxcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3NjcmlwdGluZy5odG1sI3NlbGVjdG9yLWVuYWJsZWRcXG5cXHRcXHQvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zY3JpcHRpbmcuaHRtbCNzZWxlY3Rvci1kaXNhYmxlZFxcblxcdFxcdGlmICggXFxcImZvcm1cXFwiIGluIGVsZW0gKSB7XFxuXFxuXFx0XFx0XFx0Ly8gQ2hlY2sgZm9yIGluaGVyaXRlZCBkaXNhYmxlZG5lc3Mgb24gcmVsZXZhbnQgbm9uLWRpc2FibGVkIGVsZW1lbnRzOlxcblxcdFxcdFxcdC8vICogbGlzdGVkIGZvcm0tYXNzb2NpYXRlZCBlbGVtZW50cyBpbiBhIGRpc2FibGVkIGZpZWxkc2V0XFxuXFx0XFx0XFx0Ly8gICBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3Jtcy5odG1sI2NhdGVnb3J5LWxpc3RlZFxcblxcdFxcdFxcdC8vICAgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNjb25jZXB0LWZlLWRpc2FibGVkXFxuXFx0XFx0XFx0Ly8gKiBvcHRpb24gZWxlbWVudHMgaW4gYSBkaXNhYmxlZCBvcHRncm91cFxcblxcdFxcdFxcdC8vICAgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNjb25jZXB0LW9wdGlvbi1kaXNhYmxlZFxcblxcdFxcdFxcdC8vIEFsbCBzdWNoIGVsZW1lbnRzIGhhdmUgYSBcXFwiZm9ybVxcXCIgcHJvcGVydHkuXFxuXFx0XFx0XFx0aWYgKCBlbGVtLnBhcmVudE5vZGUgJiYgZWxlbS5kaXNhYmxlZCA9PT0gZmFsc2UgKSB7XFxuXFxuXFx0XFx0XFx0XFx0Ly8gT3B0aW9uIGVsZW1lbnRzIGRlZmVyIHRvIGEgcGFyZW50IG9wdGdyb3VwIGlmIHByZXNlbnRcXG5cXHRcXHRcXHRcXHRpZiAoIFxcXCJsYWJlbFxcXCIgaW4gZWxlbSApIHtcXG5cXHRcXHRcXHRcXHRcXHRpZiAoIFxcXCJsYWJlbFxcXCIgaW4gZWxlbS5wYXJlbnROb2RlICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdHJldHVybiBlbGVtLnBhcmVudE5vZGUuZGlzYWJsZWQgPT09IGRpc2FibGVkO1xcblxcdFxcdFxcdFxcdFxcdH0gZWxzZSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0cmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IGRpc2FibGVkO1xcblxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0Ly8gU3VwcG9ydDogSUUgNiAtIDExXFxuXFx0XFx0XFx0XFx0Ly8gVXNlIHRoZSBpc0Rpc2FibGVkIHNob3J0Y3V0IHByb3BlcnR5IHRvIGNoZWNrIGZvciBkaXNhYmxlZCBmaWVsZHNldCBhbmNlc3RvcnNcXG5cXHRcXHRcXHRcXHRyZXR1cm4gZWxlbS5pc0Rpc2FibGVkID09PSBkaXNhYmxlZCB8fFxcblxcblxcdFxcdFxcdFxcdFxcdC8vIFdoZXJlIHRoZXJlIGlzIG5vIGlzRGlzYWJsZWQsIGNoZWNrIG1hbnVhbGx5XFxuXFx0XFx0XFx0XFx0XFx0LyoganNoaW50IC1XMDE4ICovXFxuXFx0XFx0XFx0XFx0XFx0ZWxlbS5pc0Rpc2FibGVkICE9PSAhZGlzYWJsZWQgJiZcXG5cXHRcXHRcXHRcXHRcXHRcXHRkaXNhYmxlZEFuY2VzdG9yKCBlbGVtICkgPT09IGRpc2FibGVkO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7XFxuXFxuXFx0XFx0Ly8gVHJ5IHRvIHdpbm5vdyBvdXQgZWxlbWVudHMgdGhhdCBjYW4ndCBiZSBkaXNhYmxlZCBiZWZvcmUgdHJ1c3RpbmcgdGhlIGRpc2FibGVkIHByb3BlcnR5LlxcblxcdFxcdC8vIFNvbWUgdmljdGltcyBnZXQgY2F1Z2h0IGluIG91ciBuZXQgKGxhYmVsLCBsZWdlbmQsIG1lbnUsIHRyYWNrKSwgYnV0IGl0IHNob3VsZG4ndFxcblxcdFxcdC8vIGV2ZW4gZXhpc3Qgb24gdGhlbSwgbGV0IGFsb25lIGhhdmUgYSBib29sZWFuIHZhbHVlLlxcblxcdFxcdH0gZWxzZSBpZiAoIFxcXCJsYWJlbFxcXCIgaW4gZWxlbSApIHtcXG5cXHRcXHRcXHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7XFxuXFx0XFx0fVxcblxcblxcdFxcdC8vIFJlbWFpbmluZyBlbGVtZW50cyBhcmUgbmVpdGhlciA6ZW5hYmxlZCBub3IgOmRpc2FibGVkXFxuXFx0XFx0cmV0dXJuIGZhbHNlO1xcblxcdH07XFxufVxcblxcbi8qKlxcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgcG9zaXRpb25hbHNcXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxcbiAqL1xcbmZ1bmN0aW9uIGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oIGZuICkge1xcblxcdHJldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIGFyZ3VtZW50ICkge1xcblxcdFxcdGFyZ3VtZW50ID0gK2FyZ3VtZW50O1xcblxcdFxcdHJldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMgKSB7XFxuXFx0XFx0XFx0dmFyIGosXFxuXFx0XFx0XFx0XFx0bWF0Y2hJbmRleGVzID0gZm4oIFtdLCBzZWVkLmxlbmd0aCwgYXJndW1lbnQgKSxcXG5cXHRcXHRcXHRcXHRpID0gbWF0Y2hJbmRleGVzLmxlbmd0aDtcXG5cXG5cXHRcXHRcXHQvLyBNYXRjaCBlbGVtZW50cyBmb3VuZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4ZXNcXG5cXHRcXHRcXHR3aGlsZSAoIGktLSApIHtcXG5cXHRcXHRcXHRcXHRpZiAoIHNlZWRbIChqID0gbWF0Y2hJbmRleGVzW2ldKSBdICkge1xcblxcdFxcdFxcdFxcdFxcdHNlZWRbal0gPSAhKG1hdGNoZXNbal0gPSBzZWVkW2pdKTtcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fVxcblxcdFxcdH0pO1xcblxcdH0pO1xcbn1cXG5cXG4vKipcXG4gKiBDaGVja3MgYSBub2RlIGZvciB2YWxpZGl0eSBhcyBhIFNpenpsZSBjb250ZXh0XFxuICogQHBhcmFtIHtFbGVtZW50fE9iamVjdD19IGNvbnRleHRcXG4gKiBAcmV0dXJucyB7RWxlbWVudHxPYmplY3R8Qm9vbGVhbn0gVGhlIGlucHV0IG5vZGUgaWYgYWNjZXB0YWJsZSwgb3RoZXJ3aXNlIGEgZmFsc3kgdmFsdWVcXG4gKi9cXG5mdW5jdGlvbiB0ZXN0Q29udGV4dCggY29udGV4dCApIHtcXG5cXHRyZXR1cm4gY29udGV4dCAmJiB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXFxcInVuZGVmaW5lZFxcXCIgJiYgY29udGV4dDtcXG59XFxuXFxuLy8gRXhwb3NlIHN1cHBvcnQgdmFycyBmb3IgY29udmVuaWVuY2VcXG5zdXBwb3J0ID0gU2l6emxlLnN1cHBvcnQgPSB7fTtcXG5cXG4vKipcXG4gKiBEZXRlY3RzIFhNTCBub2Rlc1xcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3R9IGVsZW0gQW4gZWxlbWVudCBvciBhIGRvY3VtZW50XFxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWZmIGVsZW0gaXMgYSBub24tSFRNTCBYTUwgbm9kZVxcbiAqL1xcbmlzWE1MID0gU2l6emxlLmlzWE1MID0gZnVuY3Rpb24oIGVsZW0gKSB7XFxuXFx0Ly8gZG9jdW1lbnRFbGVtZW50IGlzIHZlcmlmaWVkIGZvciBjYXNlcyB3aGVyZSBpdCBkb2Vzbid0IHlldCBleGlzdFxcblxcdC8vIChzdWNoIGFzIGxvYWRpbmcgaWZyYW1lcyBpbiBJRSAtICM0ODMzKVxcblxcdHZhciBkb2N1bWVudEVsZW1lbnQgPSBlbGVtICYmIChlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSkuZG9jdW1lbnRFbGVtZW50O1xcblxcdHJldHVybiBkb2N1bWVudEVsZW1lbnQgPyBkb2N1bWVudEVsZW1lbnQubm9kZU5hbWUgIT09IFxcXCJIVE1MXFxcIiA6IGZhbHNlO1xcbn07XFxuXFxuLyoqXFxuICogU2V0cyBkb2N1bWVudC1yZWxhdGVkIHZhcmlhYmxlcyBvbmNlIGJhc2VkIG9uIHRoZSBjdXJyZW50IGRvY3VtZW50XFxuICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gW2RvY10gQW4gZWxlbWVudCBvciBkb2N1bWVudCBvYmplY3QgdG8gdXNlIHRvIHNldCB0aGUgZG9jdW1lbnRcXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjdXJyZW50IGRvY3VtZW50XFxuICovXFxuc2V0RG9jdW1lbnQgPSBTaXp6bGUuc2V0RG9jdW1lbnQgPSBmdW5jdGlvbiggbm9kZSApIHtcXG5cXHR2YXIgaGFzQ29tcGFyZSwgc3ViV2luZG93LFxcblxcdFxcdGRvYyA9IG5vZGUgPyBub2RlLm93bmVyRG9jdW1lbnQgfHwgbm9kZSA6IHByZWZlcnJlZERvYztcXG5cXG5cXHQvLyBSZXR1cm4gZWFybHkgaWYgZG9jIGlzIGludmFsaWQgb3IgYWxyZWFkeSBzZWxlY3RlZFxcblxcdGlmICggZG9jID09PSBkb2N1bWVudCB8fCBkb2Mubm9kZVR5cGUgIT09IDkgfHwgIWRvYy5kb2N1bWVudEVsZW1lbnQgKSB7XFxuXFx0XFx0cmV0dXJuIGRvY3VtZW50O1xcblxcdH1cXG5cXG5cXHQvLyBVcGRhdGUgZ2xvYmFsIHZhcmlhYmxlc1xcblxcdGRvY3VtZW50ID0gZG9jO1xcblxcdGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XFxuXFx0ZG9jdW1lbnRJc0hUTUwgPSAhaXNYTUwoIGRvY3VtZW50ICk7XFxuXFxuXFx0Ly8gU3VwcG9ydDogSUUgOS0xMSwgRWRnZVxcblxcdC8vIEFjY2Vzc2luZyBpZnJhbWUgZG9jdW1lbnRzIGFmdGVyIHVubG9hZCB0aHJvd3MgXFxcInBlcm1pc3Npb24gZGVuaWVkXFxcIiBlcnJvcnMgKGpRdWVyeSAjMTM5MzYpXFxuXFx0aWYgKCBwcmVmZXJyZWREb2MgIT09IGRvY3VtZW50ICYmXFxuXFx0XFx0KHN1YldpbmRvdyA9IGRvY3VtZW50LmRlZmF1bHRWaWV3KSAmJiBzdWJXaW5kb3cudG9wICE9PSBzdWJXaW5kb3cgKSB7XFxuXFxuXFx0XFx0Ly8gU3VwcG9ydDogSUUgMTEsIEVkZ2VcXG5cXHRcXHRpZiAoIHN1YldpbmRvdy5hZGRFdmVudExpc3RlbmVyICkge1xcblxcdFxcdFxcdHN1YldpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcXFwidW5sb2FkXFxcIiwgdW5sb2FkSGFuZGxlciwgZmFsc2UgKTtcXG5cXG5cXHRcXHQvLyBTdXBwb3J0OiBJRSA5IC0gMTAgb25seVxcblxcdFxcdH0gZWxzZSBpZiAoIHN1YldpbmRvdy5hdHRhY2hFdmVudCApIHtcXG5cXHRcXHRcXHRzdWJXaW5kb3cuYXR0YWNoRXZlbnQoIFxcXCJvbnVubG9hZFxcXCIsIHVubG9hZEhhbmRsZXIgKTtcXG5cXHRcXHR9XFxuXFx0fVxcblxcblxcdC8qIEF0dHJpYnV0ZXNcXG5cXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXFxuXFxuXFx0Ly8gU3VwcG9ydDogSUU8OFxcblxcdC8vIFZlcmlmeSB0aGF0IGdldEF0dHJpYnV0ZSByZWFsbHkgcmV0dXJucyBhdHRyaWJ1dGVzIGFuZCBub3QgcHJvcGVydGllc1xcblxcdC8vIChleGNlcHRpbmcgSUU4IGJvb2xlYW5zKVxcblxcdHN1cHBvcnQuYXR0cmlidXRlcyA9IGFzc2VydChmdW5jdGlvbiggZWwgKSB7XFxuXFx0XFx0ZWwuY2xhc3NOYW1lID0gXFxcImlcXFwiO1xcblxcdFxcdHJldHVybiAhZWwuZ2V0QXR0cmlidXRlKFxcXCJjbGFzc05hbWVcXFwiKTtcXG5cXHR9KTtcXG5cXG5cXHQvKiBnZXRFbGVtZW50KHMpQnkqXFxuXFx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xcblxcblxcdC8vIENoZWNrIGlmIGdldEVsZW1lbnRzQnlUYWdOYW1lKFxcXCIqXFxcIikgcmV0dXJucyBvbmx5IGVsZW1lbnRzXFxuXFx0c3VwcG9ydC5nZXRFbGVtZW50c0J5VGFnTmFtZSA9IGFzc2VydChmdW5jdGlvbiggZWwgKSB7XFxuXFx0XFx0ZWwuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoXFxcIlxcXCIpICk7XFxuXFx0XFx0cmV0dXJuICFlbC5nZXRFbGVtZW50c0J5VGFnTmFtZShcXFwiKlxcXCIpLmxlbmd0aDtcXG5cXHR9KTtcXG5cXG5cXHQvLyBTdXBwb3J0OiBJRTw5XFxuXFx0c3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gcm5hdGl2ZS50ZXN0KCBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICk7XFxuXFxuXFx0Ly8gU3VwcG9ydDogSUU8MTBcXG5cXHQvLyBDaGVjayBpZiBnZXRFbGVtZW50QnlJZCByZXR1cm5zIGVsZW1lbnRzIGJ5IG5hbWVcXG5cXHQvLyBUaGUgYnJva2VuIGdldEVsZW1lbnRCeUlkIG1ldGhvZHMgZG9uJ3QgcGljayB1cCBwcm9ncmFtbWF0aWNhbGx5LXNldCBuYW1lcyxcXG5cXHQvLyBzbyB1c2UgYSByb3VuZGFib3V0IGdldEVsZW1lbnRzQnlOYW1lIHRlc3RcXG5cXHRzdXBwb3J0LmdldEJ5SWQgPSBhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xcblxcdFxcdGRvY0VsZW0uYXBwZW5kQ2hpbGQoIGVsICkuaWQgPSBleHBhbmRvO1xcblxcdFxcdHJldHVybiAhZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUgfHwgIWRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCBleHBhbmRvICkubGVuZ3RoO1xcblxcdH0pO1xcblxcblxcdC8vIElEIGZpbHRlciBhbmQgZmluZFxcblxcdGlmICggc3VwcG9ydC5nZXRCeUlkICkge1xcblxcdFxcdEV4cHIuZmlsdGVyW1xcXCJJRFxcXCJdID0gZnVuY3Rpb24oIGlkICkge1xcblxcdFxcdFxcdHZhciBhdHRySWQgPSBpZC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xcblxcdFxcdFxcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcXG5cXHRcXHRcXHRcXHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoXFxcImlkXFxcIikgPT09IGF0dHJJZDtcXG5cXHRcXHRcXHR9O1xcblxcdFxcdH07XFxuXFx0XFx0RXhwci5maW5kW1xcXCJJRFxcXCJdID0gZnVuY3Rpb24oIGlkLCBjb250ZXh0ICkge1xcblxcdFxcdFxcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQgIT09IFxcXCJ1bmRlZmluZWRcXFwiICYmIGRvY3VtZW50SXNIVE1MICkge1xcblxcdFxcdFxcdFxcdHZhciBlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggaWQgKTtcXG5cXHRcXHRcXHRcXHRyZXR1cm4gZWxlbSA/IFsgZWxlbSBdIDogW107XFxuXFx0XFx0XFx0fVxcblxcdFxcdH07XFxuXFx0fSBlbHNlIHtcXG5cXHRcXHRFeHByLmZpbHRlcltcXFwiSURcXFwiXSA9ICBmdW5jdGlvbiggaWQgKSB7XFxuXFx0XFx0XFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XFxuXFx0XFx0XFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xcblxcdFxcdFxcdFxcdHZhciBub2RlID0gdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlTm9kZSAhPT0gXFxcInVuZGVmaW5lZFxcXCIgJiZcXG5cXHRcXHRcXHRcXHRcXHRlbGVtLmdldEF0dHJpYnV0ZU5vZGUoXFxcImlkXFxcIik7XFxuXFx0XFx0XFx0XFx0cmV0dXJuIG5vZGUgJiYgbm9kZS52YWx1ZSA9PT0gYXR0cklkO1xcblxcdFxcdFxcdH07XFxuXFx0XFx0fTtcXG5cXG5cXHRcXHQvLyBTdXBwb3J0OiBJRSA2IC0gNyBvbmx5XFxuXFx0XFx0Ly8gZ2V0RWxlbWVudEJ5SWQgaXMgbm90IHJlbGlhYmxlIGFzIGEgZmluZCBzaG9ydGN1dFxcblxcdFxcdEV4cHIuZmluZFtcXFwiSURcXFwiXSA9IGZ1bmN0aW9uKCBpZCwgY29udGV4dCApIHtcXG5cXHRcXHRcXHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRCeUlkICE9PSBcXFwidW5kZWZpbmVkXFxcIiAmJiBkb2N1bWVudElzSFRNTCApIHtcXG5cXHRcXHRcXHRcXHR2YXIgbm9kZSwgaSwgZWxlbXMsXFxuXFx0XFx0XFx0XFx0XFx0ZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIGlkICk7XFxuXFxuXFx0XFx0XFx0XFx0aWYgKCBlbGVtICkge1xcblxcblxcdFxcdFxcdFxcdFxcdC8vIFZlcmlmeSB0aGUgaWQgYXR0cmlidXRlXFxuXFx0XFx0XFx0XFx0XFx0bm9kZSA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcXFwiaWRcXFwiKTtcXG5cXHRcXHRcXHRcXHRcXHRpZiAoIG5vZGUgJiYgbm9kZS52YWx1ZSA9PT0gaWQgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0cmV0dXJuIFsgZWxlbSBdO1xcblxcdFxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRcXHQvLyBGYWxsIGJhY2sgb24gZ2V0RWxlbWVudHNCeU5hbWVcXG5cXHRcXHRcXHRcXHRcXHRlbGVtcyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeU5hbWUoIGlkICk7XFxuXFx0XFx0XFx0XFx0XFx0aSA9IDA7XFxuXFx0XFx0XFx0XFx0XFx0d2hpbGUgKCAoZWxlbSA9IGVsZW1zW2krK10pICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdG5vZGUgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoXFxcImlkXFxcIik7XFxuXFx0XFx0XFx0XFx0XFx0XFx0aWYgKCBub2RlICYmIG5vZGUudmFsdWUgPT09IGlkICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdHJldHVybiBbIGVsZW0gXTtcXG5cXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRyZXR1cm4gW107XFxuXFx0XFx0XFx0fVxcblxcdFxcdH07XFxuXFx0fVxcblxcblxcdC8vIFRhZ1xcblxcdEV4cHIuZmluZFtcXFwiVEFHXFxcIl0gPSBzdXBwb3J0LmdldEVsZW1lbnRzQnlUYWdOYW1lID9cXG5cXHRcXHRmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkge1xcblxcdFxcdFxcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFxcXCJ1bmRlZmluZWRcXFwiICkge1xcblxcdFxcdFxcdFxcdHJldHVybiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgKTtcXG5cXG5cXHRcXHRcXHQvLyBEb2N1bWVudEZyYWdtZW50IG5vZGVzIGRvbid0IGhhdmUgZ0VCVE5cXG5cXHRcXHRcXHR9IGVsc2UgaWYgKCBzdXBwb3J0LnFzYSApIHtcXG5cXHRcXHRcXHRcXHRyZXR1cm4gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCB0YWcgKTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fSA6XFxuXFxuXFx0XFx0ZnVuY3Rpb24oIHRhZywgY29udGV4dCApIHtcXG5cXHRcXHRcXHR2YXIgZWxlbSxcXG5cXHRcXHRcXHRcXHR0bXAgPSBbXSxcXG5cXHRcXHRcXHRcXHRpID0gMCxcXG5cXHRcXHRcXHRcXHQvLyBCeSBoYXBweSBjb2luY2lkZW5jZSwgYSAoYnJva2VuKSBnRUJUTiBhcHBlYXJzIG9uIERvY3VtZW50RnJhZ21lbnQgbm9kZXMgdG9vXFxuXFx0XFx0XFx0XFx0cmVzdWx0cyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyApO1xcblxcblxcdFxcdFxcdC8vIEZpbHRlciBvdXQgcG9zc2libGUgY29tbWVudHNcXG5cXHRcXHRcXHRpZiAoIHRhZyA9PT0gXFxcIipcXFwiICkge1xcblxcdFxcdFxcdFxcdHdoaWxlICggKGVsZW0gPSByZXN1bHRzW2krK10pICkge1xcblxcdFxcdFxcdFxcdFxcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHR0bXAucHVzaCggZWxlbSApO1xcblxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0cmV0dXJuIHRtcDtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0XFx0cmV0dXJuIHJlc3VsdHM7XFxuXFx0XFx0fTtcXG5cXG5cXHQvLyBDbGFzc1xcblxcdEV4cHIuZmluZFtcXFwiQ0xBU1NcXFwiXSA9IHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAmJiBmdW5jdGlvbiggY2xhc3NOYW1lLCBjb250ZXh0ICkge1xcblxcdFxcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAhPT0gXFxcInVuZGVmaW5lZFxcXCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7XFxuXFx0XFx0XFx0cmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggY2xhc3NOYW1lICk7XFxuXFx0XFx0fVxcblxcdH07XFxuXFxuXFx0LyogUVNBL21hdGNoZXNTZWxlY3RvclxcblxcdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cXG5cXG5cXHQvLyBRU0EgYW5kIG1hdGNoZXNTZWxlY3RvciBzdXBwb3J0XFxuXFxuXFx0Ly8gbWF0Y2hlc1NlbGVjdG9yKDphY3RpdmUpIHJlcG9ydHMgZmFsc2Ugd2hlbiB0cnVlIChJRTkvT3BlcmEgMTEuNSlcXG5cXHRyYnVnZ3lNYXRjaGVzID0gW107XFxuXFxuXFx0Ly8gcVNhKDpmb2N1cykgcmVwb3J0cyBmYWxzZSB3aGVuIHRydWUgKENocm9tZSAyMSlcXG5cXHQvLyBXZSBhbGxvdyB0aGlzIGJlY2F1c2Ugb2YgYSBidWcgaW4gSUU4LzkgdGhhdCB0aHJvd3MgYW4gZXJyb3JcXG5cXHQvLyB3aGVuZXZlciBgZG9jdW1lbnQuYWN0aXZlRWxlbWVudGAgaXMgYWNjZXNzZWQgb24gYW4gaWZyYW1lXFxuXFx0Ly8gU28sIHdlIGFsbG93IDpmb2N1cyB0byBwYXNzIHRocm91Z2ggUVNBIGFsbCB0aGUgdGltZSB0byBhdm9pZCB0aGUgSUUgZXJyb3JcXG5cXHQvLyBTZWUgaHR0cHM6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEzMzc4XFxuXFx0cmJ1Z2d5UVNBID0gW107XFxuXFxuXFx0aWYgKCAoc3VwcG9ydC5xc2EgPSBybmF0aXZlLnRlc3QoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwgKSkgKSB7XFxuXFx0XFx0Ly8gQnVpbGQgUVNBIHJlZ2V4XFxuXFx0XFx0Ly8gUmVnZXggc3RyYXRlZ3kgYWRvcHRlZCBmcm9tIERpZWdvIFBlcmluaVxcblxcdFxcdGFzc2VydChmdW5jdGlvbiggZWwgKSB7XFxuXFx0XFx0XFx0Ly8gU2VsZWN0IGlzIHNldCB0byBlbXB0eSBzdHJpbmcgb24gcHVycG9zZVxcblxcdFxcdFxcdC8vIFRoaXMgaXMgdG8gdGVzdCBJRSdzIHRyZWF0bWVudCBvZiBub3QgZXhwbGljaXRseVxcblxcdFxcdFxcdC8vIHNldHRpbmcgYSBib29sZWFuIGNvbnRlbnQgYXR0cmlidXRlLFxcblxcdFxcdFxcdC8vIHNpbmNlIGl0cyBwcmVzZW5jZSBzaG91bGQgYmUgZW5vdWdoXFxuXFx0XFx0XFx0Ly8gaHR0cHM6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEyMzU5XFxuXFx0XFx0XFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5pbm5lckhUTUwgPSBcXFwiPGEgaWQ9J1xcXCIgKyBleHBhbmRvICsgXFxcIic+PC9hPlxcXCIgK1xcblxcdFxcdFxcdFxcdFxcXCI8c2VsZWN0IGlkPSdcXFwiICsgZXhwYW5kbyArIFxcXCItXFxcXHJcXFxcXFxcXCcgbXNhbGxvd2NhcHR1cmU9Jyc+XFxcIiArXFxuXFx0XFx0XFx0XFx0XFxcIjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+XFxcIjtcXG5cXG5cXHRcXHRcXHQvLyBTdXBwb3J0OiBJRTgsIE9wZXJhIDExLTEyLjE2XFxuXFx0XFx0XFx0Ly8gTm90aGluZyBzaG91bGQgYmUgc2VsZWN0ZWQgd2hlbiBlbXB0eSBzdHJpbmdzIGZvbGxvdyBePSBvciAkPSBvciAqPVxcblxcdFxcdFxcdC8vIFRoZSB0ZXN0IGF0dHJpYnV0ZSBtdXN0IGJlIHVua25vd24gaW4gT3BlcmEgYnV0IFxcXCJzYWZlXFxcIiBmb3IgV2luUlRcXG5cXHRcXHRcXHQvLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2hoNDY1Mzg4LmFzcHgjYXR0cmlidXRlX3NlY3Rpb25cXG5cXHRcXHRcXHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXFxcIlttc2FsbG93Y2FwdHVyZV49JyddXFxcIikubGVuZ3RoICkge1xcblxcdFxcdFxcdFxcdHJidWdneVFTQS5wdXNoKCBcXFwiWypeJF09XFxcIiArIHdoaXRlc3BhY2UgKyBcXFwiKig/OicnfFxcXFxcXFwiXFxcXFxcXCIpXFxcIiApO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHQvLyBTdXBwb3J0OiBJRThcXG5cXHRcXHRcXHQvLyBCb29sZWFuIGF0dHJpYnV0ZXMgYW5kIFxcXCJ2YWx1ZVxcXCIgYXJlIG5vdCB0cmVhdGVkIGNvcnJlY3RseVxcblxcdFxcdFxcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoXFxcIltzZWxlY3RlZF1cXFwiKS5sZW5ndGggKSB7XFxuXFx0XFx0XFx0XFx0cmJ1Z2d5UVNBLnB1c2goIFxcXCJcXFxcXFxcXFtcXFwiICsgd2hpdGVzcGFjZSArIFxcXCIqKD86dmFsdWV8XFxcIiArIGJvb2xlYW5zICsgXFxcIilcXFwiICk7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdC8vIFN1cHBvcnQ6IENocm9tZTwyOSwgQW5kcm9pZDw0LjQsIFNhZmFyaTw3LjArLCBpT1M8Ny4wKywgUGhhbnRvbUpTPDEuOS44K1xcblxcdFxcdFxcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFxcXCJbaWR+PVxcXCIgKyBleHBhbmRvICsgXFxcIi1dXFxcIiApLmxlbmd0aCApIHtcXG5cXHRcXHRcXHRcXHRyYnVnZ3lRU0EucHVzaChcXFwifj1cXFwiKTtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0Ly8gV2Via2l0L09wZXJhIC0gOmNoZWNrZWQgc2hvdWxkIHJldHVybiBzZWxlY3RlZCBvcHRpb24gZWxlbWVudHNcXG5cXHRcXHRcXHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDExL1JFQy1jc3MzLXNlbGVjdG9ycy0yMDExMDkyOS8jY2hlY2tlZFxcblxcdFxcdFxcdC8vIElFOCB0aHJvd3MgZXJyb3IgaGVyZSBhbmQgd2lsbCBub3Qgc2VlIGxhdGVyIHRlc3RzXFxuXFx0XFx0XFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbChcXFwiOmNoZWNrZWRcXFwiKS5sZW5ndGggKSB7XFxuXFx0XFx0XFx0XFx0cmJ1Z2d5UVNBLnB1c2goXFxcIjpjaGVja2VkXFxcIik7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdC8vIFN1cHBvcnQ6IFNhZmFyaSA4KywgaU9TIDgrXFxuXFx0XFx0XFx0Ly8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNjg1MVxcblxcdFxcdFxcdC8vIEluLXBhZ2UgYHNlbGVjdG9yI2lkIHNpYmxpbmctY29tYmluYXRvciBzZWxlY3RvcmAgZmFpbHNcXG5cXHRcXHRcXHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCBcXFwiYSNcXFwiICsgZXhwYW5kbyArIFxcXCIrKlxcXCIgKS5sZW5ndGggKSB7XFxuXFx0XFx0XFx0XFx0cmJ1Z2d5UVNBLnB1c2goXFxcIi4jLitbK35dXFxcIik7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH0pO1xcblxcblxcdFxcdGFzc2VydChmdW5jdGlvbiggZWwgKSB7XFxuXFx0XFx0XFx0ZWwuaW5uZXJIVE1MID0gXFxcIjxhIGhyZWY9JycgZGlzYWJsZWQ9J2Rpc2FibGVkJz48L2E+XFxcIiArXFxuXFx0XFx0XFx0XFx0XFxcIjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD5cXFwiO1xcblxcblxcdFxcdFxcdC8vIFN1cHBvcnQ6IFdpbmRvd3MgOCBOYXRpdmUgQXBwc1xcblxcdFxcdFxcdC8vIFRoZSB0eXBlIGFuZCBuYW1lIGF0dHJpYnV0ZXMgYXJlIHJlc3RyaWN0ZWQgZHVyaW5nIC5pbm5lckhUTUwgYXNzaWdubWVudFxcblxcdFxcdFxcdHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXFxcImlucHV0XFxcIik7XFxuXFx0XFx0XFx0aW5wdXQuc2V0QXR0cmlidXRlKCBcXFwidHlwZVxcXCIsIFxcXCJoaWRkZW5cXFwiICk7XFxuXFx0XFx0XFx0ZWwuYXBwZW5kQ2hpbGQoIGlucHV0ICkuc2V0QXR0cmlidXRlKCBcXFwibmFtZVxcXCIsIFxcXCJEXFxcIiApO1xcblxcblxcdFxcdFxcdC8vIFN1cHBvcnQ6IElFOFxcblxcdFxcdFxcdC8vIEVuZm9yY2UgY2FzZS1zZW5zaXRpdml0eSBvZiBuYW1lIGF0dHJpYnV0ZVxcblxcdFxcdFxcdGlmICggZWwucXVlcnlTZWxlY3RvckFsbChcXFwiW25hbWU9ZF1cXFwiKS5sZW5ndGggKSB7XFxuXFx0XFx0XFx0XFx0cmJ1Z2d5UVNBLnB1c2goIFxcXCJuYW1lXFxcIiArIHdoaXRlc3BhY2UgKyBcXFwiKlsqXiR8IX5dPz1cXFwiICk7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdC8vIEZGIDMuNSAtIDplbmFibGVkLzpkaXNhYmxlZCBhbmQgaGlkZGVuIGVsZW1lbnRzIChoaWRkZW4gZWxlbWVudHMgYXJlIHN0aWxsIGVuYWJsZWQpXFxuXFx0XFx0XFx0Ly8gSUU4IHRocm93cyBlcnJvciBoZXJlIGFuZCB3aWxsIG5vdCBzZWUgbGF0ZXIgdGVzdHNcXG5cXHRcXHRcXHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXFxcIjplbmFibGVkXFxcIikubGVuZ3RoICE9PSAyICkge1xcblxcdFxcdFxcdFxcdHJidWdneVFTQS5wdXNoKCBcXFwiOmVuYWJsZWRcXFwiLCBcXFwiOmRpc2FibGVkXFxcIiApO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHQvLyBTdXBwb3J0OiBJRTktMTErXFxuXFx0XFx0XFx0Ly8gSUUncyA6ZGlzYWJsZWQgc2VsZWN0b3IgZG9lcyBub3QgcGljayB1cCB0aGUgY2hpbGRyZW4gb2YgZGlzYWJsZWQgZmllbGRzZXRzXFxuXFx0XFx0XFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5kaXNhYmxlZCA9IHRydWU7XFxuXFx0XFx0XFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKFxcXCI6ZGlzYWJsZWRcXFwiKS5sZW5ndGggIT09IDIgKSB7XFxuXFx0XFx0XFx0XFx0cmJ1Z2d5UVNBLnB1c2goIFxcXCI6ZW5hYmxlZFxcXCIsIFxcXCI6ZGlzYWJsZWRcXFwiICk7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdC8vIE9wZXJhIDEwLTExIGRvZXMgbm90IHRocm93IG9uIHBvc3QtY29tbWEgaW52YWxpZCBwc2V1ZG9zXFxuXFx0XFx0XFx0ZWwucXVlcnlTZWxlY3RvckFsbChcXFwiKiw6eFxcXCIpO1xcblxcdFxcdFxcdHJidWdneVFTQS5wdXNoKFxcXCIsLio6XFxcIik7XFxuXFx0XFx0fSk7XFxuXFx0fVxcblxcblxcdGlmICggKHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yID0gcm5hdGl2ZS50ZXN0KCAobWF0Y2hlcyA9IGRvY0VsZW0ubWF0Y2hlcyB8fFxcblxcdFxcdGRvY0VsZW0ud2Via2l0TWF0Y2hlc1NlbGVjdG9yIHx8XFxuXFx0XFx0ZG9jRWxlbS5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcXG5cXHRcXHRkb2NFbGVtLm9NYXRjaGVzU2VsZWN0b3IgfHxcXG5cXHRcXHRkb2NFbGVtLm1zTWF0Y2hlc1NlbGVjdG9yKSApKSApIHtcXG5cXG5cXHRcXHRhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xcblxcdFxcdFxcdC8vIENoZWNrIHRvIHNlZSBpZiBpdCdzIHBvc3NpYmxlIHRvIGRvIG1hdGNoZXNTZWxlY3RvclxcblxcdFxcdFxcdC8vIG9uIGEgZGlzY29ubmVjdGVkIG5vZGUgKElFIDkpXFxuXFx0XFx0XFx0c3VwcG9ydC5kaXNjb25uZWN0ZWRNYXRjaCA9IG1hdGNoZXMuY2FsbCggZWwsIFxcXCIqXFxcIiApO1xcblxcblxcdFxcdFxcdC8vIFRoaXMgc2hvdWxkIGZhaWwgd2l0aCBhbiBleGNlcHRpb25cXG5cXHRcXHRcXHQvLyBHZWNrbyBkb2VzIG5vdCBlcnJvciwgcmV0dXJucyBmYWxzZSBpbnN0ZWFkXFxuXFx0XFx0XFx0bWF0Y2hlcy5jYWxsKCBlbCwgXFxcIltzIT0nJ106eFxcXCIgKTtcXG5cXHRcXHRcXHRyYnVnZ3lNYXRjaGVzLnB1c2goIFxcXCIhPVxcXCIsIHBzZXVkb3MgKTtcXG5cXHRcXHR9KTtcXG5cXHR9XFxuXFxuXFx0cmJ1Z2d5UVNBID0gcmJ1Z2d5UVNBLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lRU0Euam9pbihcXFwifFxcXCIpICk7XFxuXFx0cmJ1Z2d5TWF0Y2hlcyA9IHJidWdneU1hdGNoZXMubGVuZ3RoICYmIG5ldyBSZWdFeHAoIHJidWdneU1hdGNoZXMuam9pbihcXFwifFxcXCIpICk7XFxuXFxuXFx0LyogQ29udGFpbnNcXG5cXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXFxuXFx0aGFzQ29tcGFyZSA9IHJuYXRpdmUudGVzdCggZG9jRWxlbS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiApO1xcblxcblxcdC8vIEVsZW1lbnQgY29udGFpbnMgYW5vdGhlclxcblxcdC8vIFB1cnBvc2VmdWxseSBzZWxmLWV4Y2x1c2l2ZVxcblxcdC8vIEFzIGluLCBhbiBlbGVtZW50IGRvZXMgbm90IGNvbnRhaW4gaXRzZWxmXFxuXFx0Y29udGFpbnMgPSBoYXNDb21wYXJlIHx8IHJuYXRpdmUudGVzdCggZG9jRWxlbS5jb250YWlucyApID9cXG5cXHRcXHRmdW5jdGlvbiggYSwgYiApIHtcXG5cXHRcXHRcXHR2YXIgYWRvd24gPSBhLm5vZGVUeXBlID09PSA5ID8gYS5kb2N1bWVudEVsZW1lbnQgOiBhLFxcblxcdFxcdFxcdFxcdGJ1cCA9IGIgJiYgYi5wYXJlbnROb2RlO1xcblxcdFxcdFxcdHJldHVybiBhID09PSBidXAgfHwgISEoIGJ1cCAmJiBidXAubm9kZVR5cGUgPT09IDEgJiYgKFxcblxcdFxcdFxcdFxcdGFkb3duLmNvbnRhaW5zID9cXG5cXHRcXHRcXHRcXHRcXHRhZG93bi5jb250YWlucyggYnVwICkgOlxcblxcdFxcdFxcdFxcdFxcdGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gJiYgYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYnVwICkgJiAxNlxcblxcdFxcdFxcdCkpO1xcblxcdFxcdH0gOlxcblxcdFxcdGZ1bmN0aW9uKCBhLCBiICkge1xcblxcdFxcdFxcdGlmICggYiApIHtcXG5cXHRcXHRcXHRcXHR3aGlsZSAoIChiID0gYi5wYXJlbnROb2RlKSApIHtcXG5cXHRcXHRcXHRcXHRcXHRpZiAoIGIgPT09IGEgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0cmV0dXJuIHRydWU7XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0XFx0cmV0dXJuIGZhbHNlO1xcblxcdFxcdH07XFxuXFxuXFx0LyogU29ydGluZ1xcblxcdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cXG5cXG5cXHQvLyBEb2N1bWVudCBvcmRlciBzb3J0aW5nXFxuXFx0c29ydE9yZGVyID0gaGFzQ29tcGFyZSA/XFxuXFx0ZnVuY3Rpb24oIGEsIGIgKSB7XFxuXFxuXFx0XFx0Ly8gRmxhZyBmb3IgZHVwbGljYXRlIHJlbW92YWxcXG5cXHRcXHRpZiAoIGEgPT09IGIgKSB7XFxuXFx0XFx0XFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcXG5cXHRcXHRcXHRyZXR1cm4gMDtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gU29ydCBvbiBtZXRob2QgZXhpc3RlbmNlIGlmIG9ubHkgb25lIGlucHV0IGhhcyBjb21wYXJlRG9jdW1lbnRQb3NpdGlvblxcblxcdFxcdHZhciBjb21wYXJlID0gIWEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gLSAhYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtcXG5cXHRcXHRpZiAoIGNvbXBhcmUgKSB7XFxuXFx0XFx0XFx0cmV0dXJuIGNvbXBhcmU7XFxuXFx0XFx0fVxcblxcblxcdFxcdC8vIENhbGN1bGF0ZSBwb3NpdGlvbiBpZiBib3RoIGlucHV0cyBiZWxvbmcgdG8gdGhlIHNhbWUgZG9jdW1lbnRcXG5cXHRcXHRjb21wYXJlID0gKCBhLm93bmVyRG9jdW1lbnQgfHwgYSApID09PSAoIGIub3duZXJEb2N1bWVudCB8fCBiICkgP1xcblxcdFxcdFxcdGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGIgKSA6XFxuXFxuXFx0XFx0XFx0Ly8gT3RoZXJ3aXNlIHdlIGtub3cgdGhleSBhcmUgZGlzY29ubmVjdGVkXFxuXFx0XFx0XFx0MTtcXG5cXG5cXHRcXHQvLyBEaXNjb25uZWN0ZWQgbm9kZXNcXG5cXHRcXHRpZiAoIGNvbXBhcmUgJiAxIHx8XFxuXFx0XFx0XFx0KCFzdXBwb3J0LnNvcnREZXRhY2hlZCAmJiBiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBhICkgPT09IGNvbXBhcmUpICkge1xcblxcblxcdFxcdFxcdC8vIENob29zZSB0aGUgZmlyc3QgZWxlbWVudCB0aGF0IGlzIHJlbGF0ZWQgdG8gb3VyIHByZWZlcnJlZCBkb2N1bWVudFxcblxcdFxcdFxcdGlmICggYSA9PT0gZG9jdW1lbnQgfHwgYS5vd25lckRvY3VtZW50ID09PSBwcmVmZXJyZWREb2MgJiYgY29udGFpbnMocHJlZmVycmVkRG9jLCBhKSApIHtcXG5cXHRcXHRcXHRcXHRyZXR1cm4gLTE7XFxuXFx0XFx0XFx0fVxcblxcdFxcdFxcdGlmICggYiA9PT0gZG9jdW1lbnQgfHwgYi5vd25lckRvY3VtZW50ID09PSBwcmVmZXJyZWREb2MgJiYgY29udGFpbnMocHJlZmVycmVkRG9jLCBiKSApIHtcXG5cXHRcXHRcXHRcXHRyZXR1cm4gMTtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0Ly8gTWFpbnRhaW4gb3JpZ2luYWwgb3JkZXJcXG5cXHRcXHRcXHRyZXR1cm4gc29ydElucHV0ID9cXG5cXHRcXHRcXHRcXHQoIGluZGV4T2YoIHNvcnRJbnB1dCwgYSApIC0gaW5kZXhPZiggc29ydElucHV0LCBiICkgKSA6XFxuXFx0XFx0XFx0XFx0MDtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0cmV0dXJuIGNvbXBhcmUgJiA0ID8gLTEgOiAxO1xcblxcdH0gOlxcblxcdGZ1bmN0aW9uKCBhLCBiICkge1xcblxcdFxcdC8vIEV4aXQgZWFybHkgaWYgdGhlIG5vZGVzIGFyZSBpZGVudGljYWxcXG5cXHRcXHRpZiAoIGEgPT09IGIgKSB7XFxuXFx0XFx0XFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcXG5cXHRcXHRcXHRyZXR1cm4gMDtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0dmFyIGN1cixcXG5cXHRcXHRcXHRpID0gMCxcXG5cXHRcXHRcXHRhdXAgPSBhLnBhcmVudE5vZGUsXFxuXFx0XFx0XFx0YnVwID0gYi5wYXJlbnROb2RlLFxcblxcdFxcdFxcdGFwID0gWyBhIF0sXFxuXFx0XFx0XFx0YnAgPSBbIGIgXTtcXG5cXG5cXHRcXHQvLyBQYXJlbnRsZXNzIG5vZGVzIGFyZSBlaXRoZXIgZG9jdW1lbnRzIG9yIGRpc2Nvbm5lY3RlZFxcblxcdFxcdGlmICggIWF1cCB8fCAhYnVwICkge1xcblxcdFxcdFxcdHJldHVybiBhID09PSBkb2N1bWVudCA/IC0xIDpcXG5cXHRcXHRcXHRcXHRiID09PSBkb2N1bWVudCA/IDEgOlxcblxcdFxcdFxcdFxcdGF1cCA/IC0xIDpcXG5cXHRcXHRcXHRcXHRidXAgPyAxIDpcXG5cXHRcXHRcXHRcXHRzb3J0SW5wdXQgP1xcblxcdFxcdFxcdFxcdCggaW5kZXhPZiggc29ydElucHV0LCBhICkgLSBpbmRleE9mKCBzb3J0SW5wdXQsIGIgKSApIDpcXG5cXHRcXHRcXHRcXHQwO1xcblxcblxcdFxcdC8vIElmIHRoZSBub2RlcyBhcmUgc2libGluZ3MsIHdlIGNhbiBkbyBhIHF1aWNrIGNoZWNrXFxuXFx0XFx0fSBlbHNlIGlmICggYXVwID09PSBidXAgKSB7XFxuXFx0XFx0XFx0cmV0dXJuIHNpYmxpbmdDaGVjayggYSwgYiApO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBPdGhlcndpc2Ugd2UgbmVlZCBmdWxsIGxpc3RzIG9mIHRoZWlyIGFuY2VzdG9ycyBmb3IgY29tcGFyaXNvblxcblxcdFxcdGN1ciA9IGE7XFxuXFx0XFx0d2hpbGUgKCAoY3VyID0gY3VyLnBhcmVudE5vZGUpICkge1xcblxcdFxcdFxcdGFwLnVuc2hpZnQoIGN1ciApO1xcblxcdFxcdH1cXG5cXHRcXHRjdXIgPSBiO1xcblxcdFxcdHdoaWxlICggKGN1ciA9IGN1ci5wYXJlbnROb2RlKSApIHtcXG5cXHRcXHRcXHRicC51bnNoaWZ0KCBjdXIgKTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gV2FsayBkb3duIHRoZSB0cmVlIGxvb2tpbmcgZm9yIGEgZGlzY3JlcGFuY3lcXG5cXHRcXHR3aGlsZSAoIGFwW2ldID09PSBicFtpXSApIHtcXG5cXHRcXHRcXHRpKys7XFxuXFx0XFx0fVxcblxcblxcdFxcdHJldHVybiBpID9cXG5cXHRcXHRcXHQvLyBEbyBhIHNpYmxpbmcgY2hlY2sgaWYgdGhlIG5vZGVzIGhhdmUgYSBjb21tb24gYW5jZXN0b3JcXG5cXHRcXHRcXHRzaWJsaW5nQ2hlY2soIGFwW2ldLCBicFtpXSApIDpcXG5cXG5cXHRcXHRcXHQvLyBPdGhlcndpc2Ugbm9kZXMgaW4gb3VyIGRvY3VtZW50IHNvcnQgZmlyc3RcXG5cXHRcXHRcXHRhcFtpXSA9PT0gcHJlZmVycmVkRG9jID8gLTEgOlxcblxcdFxcdFxcdGJwW2ldID09PSBwcmVmZXJyZWREb2MgPyAxIDpcXG5cXHRcXHRcXHQwO1xcblxcdH07XFxuXFxuXFx0cmV0dXJuIGRvY3VtZW50O1xcbn07XFxuXFxuU2l6emxlLm1hdGNoZXMgPSBmdW5jdGlvbiggZXhwciwgZWxlbWVudHMgKSB7XFxuXFx0cmV0dXJuIFNpenpsZSggZXhwciwgbnVsbCwgbnVsbCwgZWxlbWVudHMgKTtcXG59O1xcblxcblNpenpsZS5tYXRjaGVzU2VsZWN0b3IgPSBmdW5jdGlvbiggZWxlbSwgZXhwciApIHtcXG5cXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcXG5cXHRpZiAoICggZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0gKSAhPT0gZG9jdW1lbnQgKSB7XFxuXFx0XFx0c2V0RG9jdW1lbnQoIGVsZW0gKTtcXG5cXHR9XFxuXFxuXFx0Ly8gTWFrZSBzdXJlIHRoYXQgYXR0cmlidXRlIHNlbGVjdG9ycyBhcmUgcXVvdGVkXFxuXFx0ZXhwciA9IGV4cHIucmVwbGFjZSggcmF0dHJpYnV0ZVF1b3RlcywgXFxcIj0nJDEnXVxcXCIgKTtcXG5cXG5cXHRpZiAoIHN1cHBvcnQubWF0Y2hlc1NlbGVjdG9yICYmIGRvY3VtZW50SXNIVE1MICYmXFxuXFx0XFx0IWNvbXBpbGVyQ2FjaGVbIGV4cHIgKyBcXFwiIFxcXCIgXSAmJlxcblxcdFxcdCggIXJidWdneU1hdGNoZXMgfHwgIXJidWdneU1hdGNoZXMudGVzdCggZXhwciApICkgJiZcXG5cXHRcXHQoICFyYnVnZ3lRU0EgICAgIHx8ICFyYnVnZ3lRU0EudGVzdCggZXhwciApICkgKSB7XFxuXFxuXFx0XFx0dHJ5IHtcXG5cXHRcXHRcXHR2YXIgcmV0ID0gbWF0Y2hlcy5jYWxsKCBlbGVtLCBleHByICk7XFxuXFxuXFx0XFx0XFx0Ly8gSUUgOSdzIG1hdGNoZXNTZWxlY3RvciByZXR1cm5zIGZhbHNlIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xcblxcdFxcdFxcdGlmICggcmV0IHx8IHN1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2ggfHxcXG5cXHRcXHRcXHRcXHRcXHQvLyBBcyB3ZWxsLCBkaXNjb25uZWN0ZWQgbm9kZXMgYXJlIHNhaWQgdG8gYmUgaW4gYSBkb2N1bWVudFxcblxcdFxcdFxcdFxcdFxcdC8vIGZyYWdtZW50IGluIElFIDlcXG5cXHRcXHRcXHRcXHRcXHRlbGVtLmRvY3VtZW50ICYmIGVsZW0uZG9jdW1lbnQubm9kZVR5cGUgIT09IDExICkge1xcblxcdFxcdFxcdFxcdHJldHVybiByZXQ7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH0gY2F0Y2ggKGUpIHt9XFxuXFx0fVxcblxcblxcdHJldHVybiBTaXp6bGUoIGV4cHIsIGRvY3VtZW50LCBudWxsLCBbIGVsZW0gXSApLmxlbmd0aCA+IDA7XFxufTtcXG5cXG5TaXp6bGUuY29udGFpbnMgPSBmdW5jdGlvbiggY29udGV4dCwgZWxlbSApIHtcXG5cXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcXG5cXHRpZiAoICggY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgKSAhPT0gZG9jdW1lbnQgKSB7XFxuXFx0XFx0c2V0RG9jdW1lbnQoIGNvbnRleHQgKTtcXG5cXHR9XFxuXFx0cmV0dXJuIGNvbnRhaW5zKCBjb250ZXh0LCBlbGVtICk7XFxufTtcXG5cXG5TaXp6bGUuYXR0ciA9IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xcblxcdC8vIFNldCBkb2N1bWVudCB2YXJzIGlmIG5lZWRlZFxcblxcdGlmICggKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZWxlbSApICE9PSBkb2N1bWVudCApIHtcXG5cXHRcXHRzZXREb2N1bWVudCggZWxlbSApO1xcblxcdH1cXG5cXG5cXHR2YXIgZm4gPSBFeHByLmF0dHJIYW5kbGVbIG5hbWUudG9Mb3dlckNhc2UoKSBdLFxcblxcdFxcdC8vIERvbid0IGdldCBmb29sZWQgYnkgT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzIChqUXVlcnkgIzEzODA3KVxcblxcdFxcdHZhbCA9IGZuICYmIGhhc093bi5jYWxsKCBFeHByLmF0dHJIYW5kbGUsIG5hbWUudG9Mb3dlckNhc2UoKSApID9cXG5cXHRcXHRcXHRmbiggZWxlbSwgbmFtZSwgIWRvY3VtZW50SXNIVE1MICkgOlxcblxcdFxcdFxcdHVuZGVmaW5lZDtcXG5cXG5cXHRyZXR1cm4gdmFsICE9PSB1bmRlZmluZWQgP1xcblxcdFxcdHZhbCA6XFxuXFx0XFx0c3VwcG9ydC5hdHRyaWJ1dGVzIHx8ICFkb2N1bWVudElzSFRNTCA/XFxuXFx0XFx0XFx0ZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUgKSA6XFxuXFx0XFx0XFx0KHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZShuYW1lKSkgJiYgdmFsLnNwZWNpZmllZCA/XFxuXFx0XFx0XFx0XFx0dmFsLnZhbHVlIDpcXG5cXHRcXHRcXHRcXHRudWxsO1xcbn07XFxuXFxuU2l6emxlLmVzY2FwZSA9IGZ1bmN0aW9uKCBzZWwgKSB7XFxuXFx0cmV0dXJuIChzZWwgKyBcXFwiXFxcIikucmVwbGFjZSggcmNzc2VzY2FwZSwgZmNzc2VzY2FwZSApO1xcbn07XFxuXFxuU2l6emxlLmVycm9yID0gZnVuY3Rpb24oIG1zZyApIHtcXG5cXHR0aHJvdyBuZXcgRXJyb3IoIFxcXCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiBcXFwiICsgbXNnICk7XFxufTtcXG5cXG4vKipcXG4gKiBEb2N1bWVudCBzb3J0aW5nIGFuZCByZW1vdmluZyBkdXBsaWNhdGVzXFxuICogQHBhcmFtIHtBcnJheUxpa2V9IHJlc3VsdHNcXG4gKi9cXG5TaXp6bGUudW5pcXVlU29ydCA9IGZ1bmN0aW9uKCByZXN1bHRzICkge1xcblxcdHZhciBlbGVtLFxcblxcdFxcdGR1cGxpY2F0ZXMgPSBbXSxcXG5cXHRcXHRqID0gMCxcXG5cXHRcXHRpID0gMDtcXG5cXG5cXHQvLyBVbmxlc3Mgd2UgKmtub3cqIHdlIGNhbiBkZXRlY3QgZHVwbGljYXRlcywgYXNzdW1lIHRoZWlyIHByZXNlbmNlXFxuXFx0aGFzRHVwbGljYXRlID0gIXN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcztcXG5cXHRzb3J0SW5wdXQgPSAhc3VwcG9ydC5zb3J0U3RhYmxlICYmIHJlc3VsdHMuc2xpY2UoIDAgKTtcXG5cXHRyZXN1bHRzLnNvcnQoIHNvcnRPcmRlciApO1xcblxcblxcdGlmICggaGFzRHVwbGljYXRlICkge1xcblxcdFxcdHdoaWxlICggKGVsZW0gPSByZXN1bHRzW2krK10pICkge1xcblxcdFxcdFxcdGlmICggZWxlbSA9PT0gcmVzdWx0c1sgaSBdICkge1xcblxcdFxcdFxcdFxcdGogPSBkdXBsaWNhdGVzLnB1c2goIGkgKTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcdFxcdHdoaWxlICggai0tICkge1xcblxcdFxcdFxcdHJlc3VsdHMuc3BsaWNlKCBkdXBsaWNhdGVzWyBqIF0sIDEgKTtcXG5cXHRcXHR9XFxuXFx0fVxcblxcblxcdC8vIENsZWFyIGlucHV0IGFmdGVyIHNvcnRpbmcgdG8gcmVsZWFzZSBvYmplY3RzXFxuXFx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvc2l6emxlL3B1bGwvMjI1XFxuXFx0c29ydElucHV0ID0gbnVsbDtcXG5cXG5cXHRyZXR1cm4gcmVzdWx0cztcXG59O1xcblxcbi8qKlxcbiAqIFV0aWxpdHkgZnVuY3Rpb24gZm9yIHJldHJpZXZpbmcgdGhlIHRleHQgdmFsdWUgb2YgYW4gYXJyYXkgb2YgRE9NIG5vZGVzXFxuICogQHBhcmFtIHtBcnJheXxFbGVtZW50fSBlbGVtXFxuICovXFxuZ2V0VGV4dCA9IFNpenpsZS5nZXRUZXh0ID0gZnVuY3Rpb24oIGVsZW0gKSB7XFxuXFx0dmFyIG5vZGUsXFxuXFx0XFx0cmV0ID0gXFxcIlxcXCIsXFxuXFx0XFx0aSA9IDAsXFxuXFx0XFx0bm9kZVR5cGUgPSBlbGVtLm5vZGVUeXBlO1xcblxcblxcdGlmICggIW5vZGVUeXBlICkge1xcblxcdFxcdC8vIElmIG5vIG5vZGVUeXBlLCB0aGlzIGlzIGV4cGVjdGVkIHRvIGJlIGFuIGFycmF5XFxuXFx0XFx0d2hpbGUgKCAobm9kZSA9IGVsZW1baSsrXSkgKSB7XFxuXFx0XFx0XFx0Ly8gRG8gbm90IHRyYXZlcnNlIGNvbW1lbnQgbm9kZXNcXG5cXHRcXHRcXHRyZXQgKz0gZ2V0VGV4dCggbm9kZSApO1xcblxcdFxcdH1cXG5cXHR9IGVsc2UgaWYgKCBub2RlVHlwZSA9PT0gMSB8fCBub2RlVHlwZSA9PT0gOSB8fCBub2RlVHlwZSA9PT0gMTEgKSB7XFxuXFx0XFx0Ly8gVXNlIHRleHRDb250ZW50IGZvciBlbGVtZW50c1xcblxcdFxcdC8vIGlubmVyVGV4dCB1c2FnZSByZW1vdmVkIGZvciBjb25zaXN0ZW5jeSBvZiBuZXcgbGluZXMgKGpRdWVyeSAjMTExNTMpXFxuXFx0XFx0aWYgKCB0eXBlb2YgZWxlbS50ZXh0Q29udGVudCA9PT0gXFxcInN0cmluZ1xcXCIgKSB7XFxuXFx0XFx0XFx0cmV0dXJuIGVsZW0udGV4dENvbnRlbnQ7XFxuXFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHQvLyBUcmF2ZXJzZSBpdHMgY2hpbGRyZW5cXG5cXHRcXHRcXHRmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHtcXG5cXHRcXHRcXHRcXHRyZXQgKz0gZ2V0VGV4dCggZWxlbSApO1xcblxcdFxcdFxcdH1cXG5cXHRcXHR9XFxuXFx0fSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDMgfHwgbm9kZVR5cGUgPT09IDQgKSB7XFxuXFx0XFx0cmV0dXJuIGVsZW0ubm9kZVZhbHVlO1xcblxcdH1cXG5cXHQvLyBEbyBub3QgaW5jbHVkZSBjb21tZW50IG9yIHByb2Nlc3NpbmcgaW5zdHJ1Y3Rpb24gbm9kZXNcXG5cXG5cXHRyZXR1cm4gcmV0O1xcbn07XFxuXFxuRXhwciA9IFNpenpsZS5zZWxlY3RvcnMgPSB7XFxuXFxuXFx0Ly8gQ2FuIGJlIGFkanVzdGVkIGJ5IHRoZSB1c2VyXFxuXFx0Y2FjaGVMZW5ndGg6IDUwLFxcblxcblxcdGNyZWF0ZVBzZXVkbzogbWFya0Z1bmN0aW9uLFxcblxcblxcdG1hdGNoOiBtYXRjaEV4cHIsXFxuXFxuXFx0YXR0ckhhbmRsZToge30sXFxuXFxuXFx0ZmluZDoge30sXFxuXFxuXFx0cmVsYXRpdmU6IHtcXG5cXHRcXHRcXFwiPlxcXCI6IHsgZGlyOiBcXFwicGFyZW50Tm9kZVxcXCIsIGZpcnN0OiB0cnVlIH0sXFxuXFx0XFx0XFxcIiBcXFwiOiB7IGRpcjogXFxcInBhcmVudE5vZGVcXFwiIH0sXFxuXFx0XFx0XFxcIitcXFwiOiB7IGRpcjogXFxcInByZXZpb3VzU2libGluZ1xcXCIsIGZpcnN0OiB0cnVlIH0sXFxuXFx0XFx0XFxcIn5cXFwiOiB7IGRpcjogXFxcInByZXZpb3VzU2libGluZ1xcXCIgfVxcblxcdH0sXFxuXFxuXFx0cHJlRmlsdGVyOiB7XFxuXFx0XFx0XFxcIkFUVFJcXFwiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XFxuXFx0XFx0XFx0bWF0Y2hbMV0gPSBtYXRjaFsxXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xcblxcblxcdFxcdFxcdC8vIE1vdmUgdGhlIGdpdmVuIHZhbHVlIHRvIG1hdGNoWzNdIHdoZXRoZXIgcXVvdGVkIG9yIHVucXVvdGVkXFxuXFx0XFx0XFx0bWF0Y2hbM10gPSAoIG1hdGNoWzNdIHx8IG1hdGNoWzRdIHx8IG1hdGNoWzVdIHx8IFxcXCJcXFwiICkucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcXG5cXG5cXHRcXHRcXHRpZiAoIG1hdGNoWzJdID09PSBcXFwifj1cXFwiICkge1xcblxcdFxcdFxcdFxcdG1hdGNoWzNdID0gXFxcIiBcXFwiICsgbWF0Y2hbM10gKyBcXFwiIFxcXCI7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdHJldHVybiBtYXRjaC5zbGljZSggMCwgNCApO1xcblxcdFxcdH0sXFxuXFxuXFx0XFx0XFxcIkNISUxEXFxcIjogZnVuY3Rpb24oIG1hdGNoICkge1xcblxcdFxcdFxcdC8qIG1hdGNoZXMgZnJvbSBtYXRjaEV4cHJbXFxcIkNISUxEXFxcIl1cXG5cXHRcXHRcXHRcXHQxIHR5cGUgKG9ubHl8bnRofC4uLilcXG5cXHRcXHRcXHRcXHQyIHdoYXQgKGNoaWxkfG9mLXR5cGUpXFxuXFx0XFx0XFx0XFx0MyBhcmd1bWVudCAoZXZlbnxvZGR8XFxcXGQqfFxcXFxkKm4oWystXVxcXFxkKyk/fC4uLilcXG5cXHRcXHRcXHRcXHQ0IHhuLWNvbXBvbmVudCBvZiB4bit5IGFyZ3VtZW50IChbKy1dP1xcXFxkKm58KVxcblxcdFxcdFxcdFxcdDUgc2lnbiBvZiB4bi1jb21wb25lbnRcXG5cXHRcXHRcXHRcXHQ2IHggb2YgeG4tY29tcG9uZW50XFxuXFx0XFx0XFx0XFx0NyBzaWduIG9mIHktY29tcG9uZW50XFxuXFx0XFx0XFx0XFx0OCB5IG9mIHktY29tcG9uZW50XFxuXFx0XFx0XFx0Ki9cXG5cXHRcXHRcXHRtYXRjaFsxXSA9IG1hdGNoWzFdLnRvTG93ZXJDYXNlKCk7XFxuXFxuXFx0XFx0XFx0aWYgKCBtYXRjaFsxXS5zbGljZSggMCwgMyApID09PSBcXFwibnRoXFxcIiApIHtcXG5cXHRcXHRcXHRcXHQvLyBudGgtKiByZXF1aXJlcyBhcmd1bWVudFxcblxcdFxcdFxcdFxcdGlmICggIW1hdGNoWzNdICkge1xcblxcdFxcdFxcdFxcdFxcdFNpenpsZS5lcnJvciggbWF0Y2hbMF0gKTtcXG5cXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0Ly8gbnVtZXJpYyB4IGFuZCB5IHBhcmFtZXRlcnMgZm9yIEV4cHIuZmlsdGVyLkNISUxEXFxuXFx0XFx0XFx0XFx0Ly8gcmVtZW1iZXIgdGhhdCBmYWxzZS90cnVlIGNhc3QgcmVzcGVjdGl2ZWx5IHRvIDAvMVxcblxcdFxcdFxcdFxcdG1hdGNoWzRdID0gKyggbWF0Y2hbNF0gPyBtYXRjaFs1XSArIChtYXRjaFs2XSB8fCAxKSA6IDIgKiAoIG1hdGNoWzNdID09PSBcXFwiZXZlblxcXCIgfHwgbWF0Y2hbM10gPT09IFxcXCJvZGRcXFwiICkgKTtcXG5cXHRcXHRcXHRcXHRtYXRjaFs1XSA9ICsoICggbWF0Y2hbN10gKyBtYXRjaFs4XSApIHx8IG1hdGNoWzNdID09PSBcXFwib2RkXFxcIiApO1xcblxcblxcdFxcdFxcdC8vIG90aGVyIHR5cGVzIHByb2hpYml0IGFyZ3VtZW50c1xcblxcdFxcdFxcdH0gZWxzZSBpZiAoIG1hdGNoWzNdICkge1xcblxcdFxcdFxcdFxcdFNpenpsZS5lcnJvciggbWF0Y2hbMF0gKTtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0cmV0dXJuIG1hdGNoO1xcblxcdFxcdH0sXFxuXFxuXFx0XFx0XFxcIlBTRVVET1xcXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcXG5cXHRcXHRcXHR2YXIgZXhjZXNzLFxcblxcdFxcdFxcdFxcdHVucXVvdGVkID0gIW1hdGNoWzZdICYmIG1hdGNoWzJdO1xcblxcblxcdFxcdFxcdGlmICggbWF0Y2hFeHByW1xcXCJDSElMRFxcXCJdLnRlc3QoIG1hdGNoWzBdICkgKSB7XFxuXFx0XFx0XFx0XFx0cmV0dXJuIG51bGw7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdC8vIEFjY2VwdCBxdW90ZWQgYXJndW1lbnRzIGFzLWlzXFxuXFx0XFx0XFx0aWYgKCBtYXRjaFszXSApIHtcXG5cXHRcXHRcXHRcXHRtYXRjaFsyXSA9IG1hdGNoWzRdIHx8IG1hdGNoWzVdIHx8IFxcXCJcXFwiO1xcblxcblxcdFxcdFxcdC8vIFN0cmlwIGV4Y2VzcyBjaGFyYWN0ZXJzIGZyb20gdW5xdW90ZWQgYXJndW1lbnRzXFxuXFx0XFx0XFx0fSBlbHNlIGlmICggdW5xdW90ZWQgJiYgcnBzZXVkby50ZXN0KCB1bnF1b3RlZCApICYmXFxuXFx0XFx0XFx0XFx0Ly8gR2V0IGV4Y2VzcyBmcm9tIHRva2VuaXplIChyZWN1cnNpdmVseSlcXG5cXHRcXHRcXHRcXHQoZXhjZXNzID0gdG9rZW5pemUoIHVucXVvdGVkLCB0cnVlICkpICYmXFxuXFx0XFx0XFx0XFx0Ly8gYWR2YW5jZSB0byB0aGUgbmV4dCBjbG9zaW5nIHBhcmVudGhlc2lzXFxuXFx0XFx0XFx0XFx0KGV4Y2VzcyA9IHVucXVvdGVkLmluZGV4T2YoIFxcXCIpXFxcIiwgdW5xdW90ZWQubGVuZ3RoIC0gZXhjZXNzICkgLSB1bnF1b3RlZC5sZW5ndGgpICkge1xcblxcblxcdFxcdFxcdFxcdC8vIGV4Y2VzcyBpcyBhIG5lZ2F0aXZlIGluZGV4XFxuXFx0XFx0XFx0XFx0bWF0Y2hbMF0gPSBtYXRjaFswXS5zbGljZSggMCwgZXhjZXNzICk7XFxuXFx0XFx0XFx0XFx0bWF0Y2hbMl0gPSB1bnF1b3RlZC5zbGljZSggMCwgZXhjZXNzICk7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdC8vIFJldHVybiBvbmx5IGNhcHR1cmVzIG5lZWRlZCBieSB0aGUgcHNldWRvIGZpbHRlciBtZXRob2QgKHR5cGUgYW5kIGFyZ3VtZW50KVxcblxcdFxcdFxcdHJldHVybiBtYXRjaC5zbGljZSggMCwgMyApO1xcblxcdFxcdH1cXG5cXHR9LFxcblxcblxcdGZpbHRlcjoge1xcblxcblxcdFxcdFxcXCJUQUdcXFwiOiBmdW5jdGlvbiggbm9kZU5hbWVTZWxlY3RvciApIHtcXG5cXHRcXHRcXHR2YXIgbm9kZU5hbWUgPSBub2RlTmFtZVNlbGVjdG9yLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcXG5cXHRcXHRcXHRyZXR1cm4gbm9kZU5hbWVTZWxlY3RvciA9PT0gXFxcIipcXFwiID9cXG5cXHRcXHRcXHRcXHRmdW5jdGlvbigpIHsgcmV0dXJuIHRydWU7IH0gOlxcblxcdFxcdFxcdFxcdGZ1bmN0aW9uKCBlbGVtICkge1xcblxcdFxcdFxcdFxcdFxcdHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbm9kZU5hbWU7XFxuXFx0XFx0XFx0XFx0fTtcXG5cXHRcXHR9LFxcblxcblxcdFxcdFxcXCJDTEFTU1xcXCI6IGZ1bmN0aW9uKCBjbGFzc05hbWUgKSB7XFxuXFx0XFx0XFx0dmFyIHBhdHRlcm4gPSBjbGFzc0NhY2hlWyBjbGFzc05hbWUgKyBcXFwiIFxcXCIgXTtcXG5cXG5cXHRcXHRcXHRyZXR1cm4gcGF0dGVybiB8fFxcblxcdFxcdFxcdFxcdChwYXR0ZXJuID0gbmV3IFJlZ0V4cCggXFxcIihefFxcXCIgKyB3aGl0ZXNwYWNlICsgXFxcIilcXFwiICsgY2xhc3NOYW1lICsgXFxcIihcXFwiICsgd2hpdGVzcGFjZSArIFxcXCJ8JClcXFwiICkpICYmXFxuXFx0XFx0XFx0XFx0Y2xhc3NDYWNoZSggY2xhc3NOYW1lLCBmdW5jdGlvbiggZWxlbSApIHtcXG5cXHRcXHRcXHRcXHRcXHRyZXR1cm4gcGF0dGVybi50ZXN0KCB0eXBlb2YgZWxlbS5jbGFzc05hbWUgPT09IFxcXCJzdHJpbmdcXFwiICYmIGVsZW0uY2xhc3NOYW1lIHx8IHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSAhPT0gXFxcInVuZGVmaW5lZFxcXCIgJiYgZWxlbS5nZXRBdHRyaWJ1dGUoXFxcImNsYXNzXFxcIikgfHwgXFxcIlxcXCIgKTtcXG5cXHRcXHRcXHRcXHR9KTtcXG5cXHRcXHR9LFxcblxcblxcdFxcdFxcXCJBVFRSXFxcIjogZnVuY3Rpb24oIG5hbWUsIG9wZXJhdG9yLCBjaGVjayApIHtcXG5cXHRcXHRcXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XFxuXFx0XFx0XFx0XFx0dmFyIHJlc3VsdCA9IFNpenpsZS5hdHRyKCBlbGVtLCBuYW1lICk7XFxuXFxuXFx0XFx0XFx0XFx0aWYgKCByZXN1bHQgPT0gbnVsbCApIHtcXG5cXHRcXHRcXHRcXHRcXHRyZXR1cm4gb3BlcmF0b3IgPT09IFxcXCIhPVxcXCI7XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdGlmICggIW9wZXJhdG9yICkge1xcblxcdFxcdFxcdFxcdFxcdHJldHVybiB0cnVlO1xcblxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRyZXN1bHQgKz0gXFxcIlxcXCI7XFxuXFxuXFx0XFx0XFx0XFx0cmV0dXJuIG9wZXJhdG9yID09PSBcXFwiPVxcXCIgPyByZXN1bHQgPT09IGNoZWNrIDpcXG5cXHRcXHRcXHRcXHRcXHRvcGVyYXRvciA9PT0gXFxcIiE9XFxcIiA/IHJlc3VsdCAhPT0gY2hlY2sgOlxcblxcdFxcdFxcdFxcdFxcdG9wZXJhdG9yID09PSBcXFwiXj1cXFwiID8gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoIGNoZWNrICkgPT09IDAgOlxcblxcdFxcdFxcdFxcdFxcdG9wZXJhdG9yID09PSBcXFwiKj1cXFwiID8gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XFxuXFx0XFx0XFx0XFx0XFx0b3BlcmF0b3IgPT09IFxcXCIkPVxcXCIgPyBjaGVjayAmJiByZXN1bHQuc2xpY2UoIC1jaGVjay5sZW5ndGggKSA9PT0gY2hlY2sgOlxcblxcdFxcdFxcdFxcdFxcdG9wZXJhdG9yID09PSBcXFwifj1cXFwiID8gKCBcXFwiIFxcXCIgKyByZXN1bHQucmVwbGFjZSggcndoaXRlc3BhY2UsIFxcXCIgXFxcIiApICsgXFxcIiBcXFwiICkuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDpcXG5cXHRcXHRcXHRcXHRcXHRvcGVyYXRvciA9PT0gXFxcInw9XFxcIiA/IHJlc3VsdCA9PT0gY2hlY2sgfHwgcmVzdWx0LnNsaWNlKCAwLCBjaGVjay5sZW5ndGggKyAxICkgPT09IGNoZWNrICsgXFxcIi1cXFwiIDpcXG5cXHRcXHRcXHRcXHRcXHRmYWxzZTtcXG5cXHRcXHRcXHR9O1xcblxcdFxcdH0sXFxuXFxuXFx0XFx0XFxcIkNISUxEXFxcIjogZnVuY3Rpb24oIHR5cGUsIHdoYXQsIGFyZ3VtZW50LCBmaXJzdCwgbGFzdCApIHtcXG5cXHRcXHRcXHR2YXIgc2ltcGxlID0gdHlwZS5zbGljZSggMCwgMyApICE9PSBcXFwibnRoXFxcIixcXG5cXHRcXHRcXHRcXHRmb3J3YXJkID0gdHlwZS5zbGljZSggLTQgKSAhPT0gXFxcImxhc3RcXFwiLFxcblxcdFxcdFxcdFxcdG9mVHlwZSA9IHdoYXQgPT09IFxcXCJvZi10eXBlXFxcIjtcXG5cXG5cXHRcXHRcXHRyZXR1cm4gZmlyc3QgPT09IDEgJiYgbGFzdCA9PT0gMCA/XFxuXFxuXFx0XFx0XFx0XFx0Ly8gU2hvcnRjdXQgZm9yIDpudGgtKihuKVxcblxcdFxcdFxcdFxcdGZ1bmN0aW9uKCBlbGVtICkge1xcblxcdFxcdFxcdFxcdFxcdHJldHVybiAhIWVsZW0ucGFyZW50Tm9kZTtcXG5cXHRcXHRcXHRcXHR9IDpcXG5cXG5cXHRcXHRcXHRcXHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xcblxcdFxcdFxcdFxcdFxcdHZhciBjYWNoZSwgdW5pcXVlQ2FjaGUsIG91dGVyQ2FjaGUsIG5vZGUsIG5vZGVJbmRleCwgc3RhcnQsXFxuXFx0XFx0XFx0XFx0XFx0XFx0ZGlyID0gc2ltcGxlICE9PSBmb3J3YXJkID8gXFxcIm5leHRTaWJsaW5nXFxcIiA6IFxcXCJwcmV2aW91c1NpYmxpbmdcXFwiLFxcblxcdFxcdFxcdFxcdFxcdFxcdHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZSxcXG5cXHRcXHRcXHRcXHRcXHRcXHRuYW1lID0gb2ZUeXBlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcXG5cXHRcXHRcXHRcXHRcXHRcXHR1c2VDYWNoZSA9ICF4bWwgJiYgIW9mVHlwZSxcXG5cXHRcXHRcXHRcXHRcXHRcXHRkaWZmID0gZmFsc2U7XFxuXFxuXFx0XFx0XFx0XFx0XFx0aWYgKCBwYXJlbnQgKSB7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0Ly8gOihmaXJzdHxsYXN0fG9ubHkpLShjaGlsZHxvZi10eXBlKVxcblxcdFxcdFxcdFxcdFxcdFxcdGlmICggc2ltcGxlICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdHdoaWxlICggZGlyICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdG5vZGUgPSBlbGVtO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdHdoaWxlICggKG5vZGUgPSBub2RlWyBkaXIgXSkgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0aWYgKCBvZlR5cGUgP1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZSA6XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0bm9kZS5ub2RlVHlwZSA9PT0gMSApIHtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRyZXR1cm4gZmFsc2U7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBSZXZlcnNlIGRpcmVjdGlvbiBmb3IgOm9ubHktKiAoaWYgd2UgaGF2ZW4ndCB5ZXQgZG9uZSBzbylcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRzdGFydCA9IGRpciA9IHR5cGUgPT09IFxcXCJvbmx5XFxcIiAmJiAhc3RhcnQgJiYgXFxcIm5leHRTaWJsaW5nXFxcIjtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0cmV0dXJuIHRydWU7XFxuXFx0XFx0XFx0XFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdFxcdFxcdFxcdHN0YXJ0ID0gWyBmb3J3YXJkID8gcGFyZW50LmZpcnN0Q2hpbGQgOiBwYXJlbnQubGFzdENoaWxkIF07XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0Ly8gbm9uLXhtbCA6bnRoLWNoaWxkKC4uLikgc3RvcmVzIGNhY2hlIGRhdGEgb24gYHBhcmVudGBcXG5cXHRcXHRcXHRcXHRcXHRcXHRpZiAoIGZvcndhcmQgJiYgdXNlQ2FjaGUgKSB7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0Ly8gU2VlayBgZWxlbWAgZnJvbSBhIHByZXZpb3VzbHktY2FjaGVkIGluZGV4XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0Ly8gLi4uaW4gYSBnemlwLWZyaWVuZGx5IHdheVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdG5vZGUgPSBwYXJlbnQ7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0b3V0ZXJDYWNoZSA9IG5vZGVbIGV4cGFuZG8gXSB8fCAobm9kZVsgZXhwYW5kbyBdID0ge30pO1xcblxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdChvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSk7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0Y2FjaGUgPSB1bmlxdWVDYWNoZVsgdHlwZSBdIHx8IFtdO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdG5vZGVJbmRleCA9IGNhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgY2FjaGVbIDEgXTtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRkaWZmID0gbm9kZUluZGV4ICYmIGNhY2hlWyAyIF07XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0bm9kZSA9IG5vZGVJbmRleCAmJiBwYXJlbnQuY2hpbGROb2Rlc1sgbm9kZUluZGV4IF07XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0d2hpbGUgKCAobm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHxcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBGYWxsYmFjayB0byBzZWVraW5nIGBlbGVtYCBmcm9tIHRoZSBzdGFydFxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdChkaWZmID0gbm9kZUluZGV4ID0gMCkgfHwgc3RhcnQucG9wKCkpICkge1xcblxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIFdoZW4gZm91bmQsIGNhY2hlIGluZGV4ZXMgb24gYHBhcmVudGAgYW5kIGJyZWFrXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0aWYgKCBub2RlLm5vZGVUeXBlID09PSAxICYmICsrZGlmZiAmJiBub2RlID09PSBlbGVtICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdHVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIG5vZGVJbmRleCwgZGlmZiBdO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdGJyZWFrO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBVc2UgcHJldmlvdXNseS1jYWNoZWQgZWxlbWVudCBpbmRleCBpZiBhdmFpbGFibGVcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRpZiAoIHVzZUNhY2hlICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIC4uLmluIGEgZ3ppcC1mcmllbmRseSB3YXlcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRub2RlID0gZWxlbTtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8IChub2RlWyBleHBhbmRvIF0gPSB7fSk7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdIHx8XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0KG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9KTtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRjYWNoZSA9IHVuaXF1ZUNhY2hlWyB0eXBlIF0gfHwgW107XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0bm9kZUluZGV4ID0gY2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBjYWNoZVsgMSBdO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdGRpZmYgPSBub2RlSW5kZXg7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIHhtbCA6bnRoLWNoaWxkKC4uLilcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBvciA6bnRoLWxhc3QtY2hpbGQoLi4uKSBvciA6bnRoKC1sYXN0KT8tb2YtdHlwZSguLi4pXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0aWYgKCBkaWZmID09PSBmYWxzZSApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBVc2UgdGhlIHNhbWUgbG9vcCBhcyBhYm92ZSB0byBzZWVrIGBlbGVtYCBmcm9tIHRoZSBzdGFydFxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdHdoaWxlICggKG5vZGUgPSArK25vZGVJbmRleCAmJiBub2RlICYmIG5vZGVbIGRpciBdIHx8XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0KGRpZmYgPSBub2RlSW5kZXggPSAwKSB8fCBzdGFydC5wb3AoKSkgKSB7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0aWYgKCAoIG9mVHlwZSA/XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0bm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lIDpcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRub2RlLm5vZGVUeXBlID09PSAxICkgJiZcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQrK2RpZmYgKSB7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0Ly8gQ2FjaGUgdGhlIGluZGV4IG9mIGVhY2ggZW5jb3VudGVyZWQgZWxlbWVudFxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdGlmICggdXNlQ2FjaGUgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0b3V0ZXJDYWNoZSA9IG5vZGVbIGV4cGFuZG8gXSB8fCAobm9kZVsgZXhwYW5kbyBdID0ge30pO1xcblxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdChvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSk7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0dW5pcXVlQ2FjaGVbIHR5cGUgXSA9IFsgZGlycnVucywgZGlmZiBdO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRpZiAoIG5vZGUgPT09IGVsZW0gKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0YnJlYWs7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHQvLyBJbmNvcnBvcmF0ZSB0aGUgb2Zmc2V0LCB0aGVuIGNoZWNrIGFnYWluc3QgY3ljbGUgc2l6ZVxcblxcdFxcdFxcdFxcdFxcdFxcdGRpZmYgLT0gbGFzdDtcXG5cXHRcXHRcXHRcXHRcXHRcXHRyZXR1cm4gZGlmZiA9PT0gZmlyc3QgfHwgKCBkaWZmICUgZmlyc3QgPT09IDAgJiYgZGlmZiAvIGZpcnN0ID49IDAgKTtcXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0fTtcXG5cXHRcXHR9LFxcblxcblxcdFxcdFxcXCJQU0VVRE9cXFwiOiBmdW5jdGlvbiggcHNldWRvLCBhcmd1bWVudCApIHtcXG5cXHRcXHRcXHQvLyBwc2V1ZG8tY2xhc3MgbmFtZXMgYXJlIGNhc2UtaW5zZW5zaXRpdmVcXG5cXHRcXHRcXHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI3BzZXVkby1jbGFzc2VzXFxuXFx0XFx0XFx0Ly8gUHJpb3JpdGl6ZSBieSBjYXNlIHNlbnNpdGl2aXR5IGluIGNhc2UgY3VzdG9tIHBzZXVkb3MgYXJlIGFkZGVkIHdpdGggdXBwZXJjYXNlIGxldHRlcnNcXG5cXHRcXHRcXHQvLyBSZW1lbWJlciB0aGF0IHNldEZpbHRlcnMgaW5oZXJpdHMgZnJvbSBwc2V1ZG9zXFxuXFx0XFx0XFx0dmFyIGFyZ3MsXFxuXFx0XFx0XFx0XFx0Zm4gPSBFeHByLnBzZXVkb3NbIHBzZXVkbyBdIHx8IEV4cHIuc2V0RmlsdGVyc1sgcHNldWRvLnRvTG93ZXJDYXNlKCkgXSB8fFxcblxcdFxcdFxcdFxcdFxcdFNpenpsZS5lcnJvciggXFxcInVuc3VwcG9ydGVkIHBzZXVkbzogXFxcIiArIHBzZXVkbyApO1xcblxcblxcdFxcdFxcdC8vIFRoZSB1c2VyIG1heSB1c2UgY3JlYXRlUHNldWRvIHRvIGluZGljYXRlIHRoYXRcXG5cXHRcXHRcXHQvLyBhcmd1bWVudHMgYXJlIG5lZWRlZCB0byBjcmVhdGUgdGhlIGZpbHRlciBmdW5jdGlvblxcblxcdFxcdFxcdC8vIGp1c3QgYXMgU2l6emxlIGRvZXNcXG5cXHRcXHRcXHRpZiAoIGZuWyBleHBhbmRvIF0gKSB7XFxuXFx0XFx0XFx0XFx0cmV0dXJuIGZuKCBhcmd1bWVudCApO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHQvLyBCdXQgbWFpbnRhaW4gc3VwcG9ydCBmb3Igb2xkIHNpZ25hdHVyZXNcXG5cXHRcXHRcXHRpZiAoIGZuLmxlbmd0aCA+IDEgKSB7XFxuXFx0XFx0XFx0XFx0YXJncyA9IFsgcHNldWRvLCBwc2V1ZG8sIFxcXCJcXFwiLCBhcmd1bWVudCBdO1xcblxcdFxcdFxcdFxcdHJldHVybiBFeHByLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoIHBzZXVkby50b0xvd2VyQ2FzZSgpICkgP1xcblxcdFxcdFxcdFxcdFxcdG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcyApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHR2YXIgaWR4LFxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdG1hdGNoZWQgPSBmbiggc2VlZCwgYXJndW1lbnQgKSxcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRpID0gbWF0Y2hlZC5sZW5ndGg7XFxuXFx0XFx0XFx0XFx0XFx0XFx0d2hpbGUgKCBpLS0gKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0aWR4ID0gaW5kZXhPZiggc2VlZCwgbWF0Y2hlZFtpXSApO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdHNlZWRbIGlkeCBdID0gISggbWF0Y2hlc1sgaWR4IF0gPSBtYXRjaGVkW2ldICk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdH0pIDpcXG5cXHRcXHRcXHRcXHRcXHRmdW5jdGlvbiggZWxlbSApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRyZXR1cm4gZm4oIGVsZW0sIDAsIGFyZ3MgKTtcXG5cXHRcXHRcXHRcXHRcXHR9O1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRyZXR1cm4gZm47XFxuXFx0XFx0fVxcblxcdH0sXFxuXFxuXFx0cHNldWRvczoge1xcblxcdFxcdC8vIFBvdGVudGlhbGx5IGNvbXBsZXggcHNldWRvc1xcblxcdFxcdFxcXCJub3RcXFwiOiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlbGVjdG9yICkge1xcblxcdFxcdFxcdC8vIFRyaW0gdGhlIHNlbGVjdG9yIHBhc3NlZCB0byBjb21waWxlXFxuXFx0XFx0XFx0Ly8gdG8gYXZvaWQgdHJlYXRpbmcgbGVhZGluZyBhbmQgdHJhaWxpbmdcXG5cXHRcXHRcXHQvLyBzcGFjZXMgYXMgY29tYmluYXRvcnNcXG5cXHRcXHRcXHR2YXIgaW5wdXQgPSBbXSxcXG5cXHRcXHRcXHRcXHRyZXN1bHRzID0gW10sXFxuXFx0XFx0XFx0XFx0bWF0Y2hlciA9IGNvbXBpbGUoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltLCBcXFwiJDFcXFwiICkgKTtcXG5cXG5cXHRcXHRcXHRyZXR1cm4gbWF0Y2hlclsgZXhwYW5kbyBdID9cXG5cXHRcXHRcXHRcXHRtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMsIGNvbnRleHQsIHhtbCApIHtcXG5cXHRcXHRcXHRcXHRcXHR2YXIgZWxlbSxcXG5cXHRcXHRcXHRcXHRcXHRcXHR1bm1hdGNoZWQgPSBtYXRjaGVyKCBzZWVkLCBudWxsLCB4bWwsIFtdICksXFxuXFx0XFx0XFx0XFx0XFx0XFx0aSA9IHNlZWQubGVuZ3RoO1xcblxcblxcdFxcdFxcdFxcdFxcdC8vIE1hdGNoIGVsZW1lbnRzIHVubWF0Y2hlZCBieSBgbWF0Y2hlcmBcXG5cXHRcXHRcXHRcXHRcXHR3aGlsZSAoIGktLSApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRpZiAoIChlbGVtID0gdW5tYXRjaGVkW2ldKSApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRzZWVkW2ldID0gIShtYXRjaGVzW2ldID0gZWxlbSk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHR9KSA6XFxuXFx0XFx0XFx0XFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcXG5cXHRcXHRcXHRcXHRcXHRpbnB1dFswXSA9IGVsZW07XFxuXFx0XFx0XFx0XFx0XFx0bWF0Y2hlciggaW5wdXQsIG51bGwsIHhtbCwgcmVzdWx0cyApO1xcblxcdFxcdFxcdFxcdFxcdC8vIERvbid0IGtlZXAgdGhlIGVsZW1lbnQgKGlzc3VlICMyOTkpXFxuXFx0XFx0XFx0XFx0XFx0aW5wdXRbMF0gPSBudWxsO1xcblxcdFxcdFxcdFxcdFxcdHJldHVybiAhcmVzdWx0cy5wb3AoKTtcXG5cXHRcXHRcXHRcXHR9O1xcblxcdFxcdH0pLFxcblxcblxcdFxcdFxcXCJoYXNcXFwiOiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlbGVjdG9yICkge1xcblxcdFxcdFxcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcXG5cXHRcXHRcXHRcXHRyZXR1cm4gU2l6emxlKCBzZWxlY3RvciwgZWxlbSApLmxlbmd0aCA+IDA7XFxuXFx0XFx0XFx0fTtcXG5cXHRcXHR9KSxcXG5cXG5cXHRcXHRcXFwiY29udGFpbnNcXFwiOiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHRleHQgKSB7XFxuXFx0XFx0XFx0dGV4dCA9IHRleHQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcXG5cXHRcXHRcXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XFxuXFx0XFx0XFx0XFx0cmV0dXJuICggZWxlbS50ZXh0Q29udGVudCB8fCBlbGVtLmlubmVyVGV4dCB8fCBnZXRUZXh0KCBlbGVtICkgKS5pbmRleE9mKCB0ZXh0ICkgPiAtMTtcXG5cXHRcXHRcXHR9O1xcblxcdFxcdH0pLFxcblxcblxcdFxcdC8vIFxcXCJXaGV0aGVyIGFuIGVsZW1lbnQgaXMgcmVwcmVzZW50ZWQgYnkgYSA6bGFuZygpIHNlbGVjdG9yXFxuXFx0XFx0Ly8gaXMgYmFzZWQgc29sZWx5IG9uIHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWVcXG5cXHRcXHQvLyBiZWluZyBlcXVhbCB0byB0aGUgaWRlbnRpZmllciBDLFxcblxcdFxcdC8vIG9yIGJlZ2lubmluZyB3aXRoIHRoZSBpZGVudGlmaWVyIEMgaW1tZWRpYXRlbHkgZm9sbG93ZWQgYnkgXFxcIi1cXFwiLlxcblxcdFxcdC8vIFRoZSBtYXRjaGluZyBvZiBDIGFnYWluc3QgdGhlIGVsZW1lbnQncyBsYW5ndWFnZSB2YWx1ZSBpcyBwZXJmb3JtZWQgY2FzZS1pbnNlbnNpdGl2ZWx5LlxcblxcdFxcdC8vIFRoZSBpZGVudGlmaWVyIEMgZG9lcyBub3QgaGF2ZSB0byBiZSBhIHZhbGlkIGxhbmd1YWdlIG5hbWUuXFxcIlxcblxcdFxcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jbGFuZy1wc2V1ZG9cXG5cXHRcXHRcXFwibGFuZ1xcXCI6IG1hcmtGdW5jdGlvbiggZnVuY3Rpb24oIGxhbmcgKSB7XFxuXFx0XFx0XFx0Ly8gbGFuZyB2YWx1ZSBtdXN0IGJlIGEgdmFsaWQgaWRlbnRpZmllclxcblxcdFxcdFxcdGlmICggIXJpZGVudGlmaWVyLnRlc3QobGFuZyB8fCBcXFwiXFxcIikgKSB7XFxuXFx0XFx0XFx0XFx0U2l6emxlLmVycm9yKCBcXFwidW5zdXBwb3J0ZWQgbGFuZzogXFxcIiArIGxhbmcgKTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0XFx0bGFuZyA9IGxhbmcucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpO1xcblxcdFxcdFxcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcXG5cXHRcXHRcXHRcXHR2YXIgZWxlbUxhbmc7XFxuXFx0XFx0XFx0XFx0ZG8ge1xcblxcdFxcdFxcdFxcdFxcdGlmICggKGVsZW1MYW5nID0gZG9jdW1lbnRJc0hUTUwgP1xcblxcdFxcdFxcdFxcdFxcdFxcdGVsZW0ubGFuZyA6XFxuXFx0XFx0XFx0XFx0XFx0XFx0ZWxlbS5nZXRBdHRyaWJ1dGUoXFxcInhtbDpsYW5nXFxcIikgfHwgZWxlbS5nZXRBdHRyaWJ1dGUoXFxcImxhbmdcXFwiKSkgKSB7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0ZWxlbUxhbmcgPSBlbGVtTGFuZy50b0xvd2VyQ2FzZSgpO1xcblxcdFxcdFxcdFxcdFxcdFxcdHJldHVybiBlbGVtTGFuZyA9PT0gbGFuZyB8fCBlbGVtTGFuZy5pbmRleE9mKCBsYW5nICsgXFxcIi1cXFwiICkgPT09IDA7XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdH0gd2hpbGUgKCAoZWxlbSA9IGVsZW0ucGFyZW50Tm9kZSkgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApO1xcblxcdFxcdFxcdFxcdHJldHVybiBmYWxzZTtcXG5cXHRcXHRcXHR9O1xcblxcdFxcdH0pLFxcblxcblxcdFxcdC8vIE1pc2NlbGxhbmVvdXNcXG5cXHRcXHRcXFwidGFyZ2V0XFxcIjogZnVuY3Rpb24oIGVsZW0gKSB7XFxuXFx0XFx0XFx0dmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24gJiYgd2luZG93LmxvY2F0aW9uLmhhc2g7XFxuXFx0XFx0XFx0cmV0dXJuIGhhc2ggJiYgaGFzaC5zbGljZSggMSApID09PSBlbGVtLmlkO1xcblxcdFxcdH0sXFxuXFxuXFx0XFx0XFxcInJvb3RcXFwiOiBmdW5jdGlvbiggZWxlbSApIHtcXG5cXHRcXHRcXHRyZXR1cm4gZWxlbSA9PT0gZG9jRWxlbTtcXG5cXHRcXHR9LFxcblxcblxcdFxcdFxcXCJmb2N1c1xcXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xcblxcdFxcdFxcdHJldHVybiBlbGVtID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmICghZG9jdW1lbnQuaGFzRm9jdXMgfHwgZG9jdW1lbnQuaGFzRm9jdXMoKSkgJiYgISEoZWxlbS50eXBlIHx8IGVsZW0uaHJlZiB8fCB+ZWxlbS50YWJJbmRleCk7XFxuXFx0XFx0fSxcXG5cXG5cXHRcXHQvLyBCb29sZWFuIHByb3BlcnRpZXNcXG5cXHRcXHRcXFwiZW5hYmxlZFxcXCI6IGNyZWF0ZURpc2FibGVkUHNldWRvKCBmYWxzZSApLFxcblxcdFxcdFxcXCJkaXNhYmxlZFxcXCI6IGNyZWF0ZURpc2FibGVkUHNldWRvKCB0cnVlICksXFxuXFxuXFx0XFx0XFxcImNoZWNrZWRcXFwiOiBmdW5jdGlvbiggZWxlbSApIHtcXG5cXHRcXHRcXHQvLyBJbiBDU1MzLCA6Y2hlY2tlZCBzaG91bGQgcmV0dXJuIGJvdGggY2hlY2tlZCBhbmQgc2VsZWN0ZWQgZWxlbWVudHNcXG5cXHRcXHRcXHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDExL1JFQy1jc3MzLXNlbGVjdG9ycy0yMDExMDkyOS8jY2hlY2tlZFxcblxcdFxcdFxcdHZhciBub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcXG5cXHRcXHRcXHRyZXR1cm4gKG5vZGVOYW1lID09PSBcXFwiaW5wdXRcXFwiICYmICEhZWxlbS5jaGVja2VkKSB8fCAobm9kZU5hbWUgPT09IFxcXCJvcHRpb25cXFwiICYmICEhZWxlbS5zZWxlY3RlZCk7XFxuXFx0XFx0fSxcXG5cXG5cXHRcXHRcXFwic2VsZWN0ZWRcXFwiOiBmdW5jdGlvbiggZWxlbSApIHtcXG5cXHRcXHRcXHQvLyBBY2Nlc3NpbmcgdGhpcyBwcm9wZXJ0eSBtYWtlcyBzZWxlY3RlZC1ieS1kZWZhdWx0XFxuXFx0XFx0XFx0Ly8gb3B0aW9ucyBpbiBTYWZhcmkgd29yayBwcm9wZXJseVxcblxcdFxcdFxcdGlmICggZWxlbS5wYXJlbnROb2RlICkge1xcblxcdFxcdFxcdFxcdGVsZW0ucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRyZXR1cm4gZWxlbS5zZWxlY3RlZCA9PT0gdHJ1ZTtcXG5cXHRcXHR9LFxcblxcblxcdFxcdC8vIENvbnRlbnRzXFxuXFx0XFx0XFxcImVtcHR5XFxcIjogZnVuY3Rpb24oIGVsZW0gKSB7XFxuXFx0XFx0XFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNlbXB0eS1wc2V1ZG9cXG5cXHRcXHRcXHQvLyA6ZW1wdHkgaXMgbmVnYXRlZCBieSBlbGVtZW50ICgxKSBvciBjb250ZW50IG5vZGVzICh0ZXh0OiAzOyBjZGF0YTogNDsgZW50aXR5IHJlZjogNSksXFxuXFx0XFx0XFx0Ly8gICBidXQgbm90IGJ5IG90aGVycyAoY29tbWVudDogODsgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbjogNzsgZXRjLilcXG5cXHRcXHRcXHQvLyBub2RlVHlwZSA8IDYgd29ya3MgYmVjYXVzZSBhdHRyaWJ1dGVzICgyKSBkbyBub3QgYXBwZWFyIGFzIGNoaWxkcmVuXFxuXFx0XFx0XFx0Zm9yICggZWxlbSA9IGVsZW0uZmlyc3RDaGlsZDsgZWxlbTsgZWxlbSA9IGVsZW0ubmV4dFNpYmxpbmcgKSB7XFxuXFx0XFx0XFx0XFx0aWYgKCBlbGVtLm5vZGVUeXBlIDwgNiApIHtcXG5cXHRcXHRcXHRcXHRcXHRyZXR1cm4gZmFsc2U7XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH1cXG5cXHRcXHRcXHRyZXR1cm4gdHJ1ZTtcXG5cXHRcXHR9LFxcblxcblxcdFxcdFxcXCJwYXJlbnRcXFwiOiBmdW5jdGlvbiggZWxlbSApIHtcXG5cXHRcXHRcXHRyZXR1cm4gIUV4cHIucHNldWRvc1tcXFwiZW1wdHlcXFwiXSggZWxlbSApO1xcblxcdFxcdH0sXFxuXFxuXFx0XFx0Ly8gRWxlbWVudC9pbnB1dCB0eXBlc1xcblxcdFxcdFxcXCJoZWFkZXJcXFwiOiBmdW5jdGlvbiggZWxlbSApIHtcXG5cXHRcXHRcXHRyZXR1cm4gcmhlYWRlci50ZXN0KCBlbGVtLm5vZGVOYW1lICk7XFxuXFx0XFx0fSxcXG5cXG5cXHRcXHRcXFwiaW5wdXRcXFwiOiBmdW5jdGlvbiggZWxlbSApIHtcXG5cXHRcXHRcXHRyZXR1cm4gcmlucHV0cy50ZXN0KCBlbGVtLm5vZGVOYW1lICk7XFxuXFx0XFx0fSxcXG5cXG5cXHRcXHRcXFwiYnV0dG9uXFxcIjogZnVuY3Rpb24oIGVsZW0gKSB7XFxuXFx0XFx0XFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XFxuXFx0XFx0XFx0cmV0dXJuIG5hbWUgPT09IFxcXCJpbnB1dFxcXCIgJiYgZWxlbS50eXBlID09PSBcXFwiYnV0dG9uXFxcIiB8fCBuYW1lID09PSBcXFwiYnV0dG9uXFxcIjtcXG5cXHRcXHR9LFxcblxcblxcdFxcdFxcXCJ0ZXh0XFxcIjogZnVuY3Rpb24oIGVsZW0gKSB7XFxuXFx0XFx0XFx0dmFyIGF0dHI7XFxuXFx0XFx0XFx0cmV0dXJuIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXFxcImlucHV0XFxcIiAmJlxcblxcdFxcdFxcdFxcdGVsZW0udHlwZSA9PT0gXFxcInRleHRcXFwiICYmXFxuXFxuXFx0XFx0XFx0XFx0Ly8gU3VwcG9ydDogSUU8OFxcblxcdFxcdFxcdFxcdC8vIE5ldyBIVE1MNSBhdHRyaWJ1dGUgdmFsdWVzIChlLmcuLCBcXFwic2VhcmNoXFxcIikgYXBwZWFyIHdpdGggZWxlbS50eXBlID09PSBcXFwidGV4dFxcXCJcXG5cXHRcXHRcXHRcXHQoIChhdHRyID0gZWxlbS5nZXRBdHRyaWJ1dGUoXFxcInR5cGVcXFwiKSkgPT0gbnVsbCB8fCBhdHRyLnRvTG93ZXJDYXNlKCkgPT09IFxcXCJ0ZXh0XFxcIiApO1xcblxcdFxcdH0sXFxuXFxuXFx0XFx0Ly8gUG9zaXRpb24taW4tY29sbGVjdGlvblxcblxcdFxcdFxcXCJmaXJzdFxcXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0cmV0dXJuIFsgMCBdO1xcblxcdFxcdH0pLFxcblxcblxcdFxcdFxcXCJsYXN0XFxcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XFxuXFx0XFx0XFx0cmV0dXJuIFsgbGVuZ3RoIC0gMSBdO1xcblxcdFxcdH0pLFxcblxcblxcdFxcdFxcXCJlcVxcXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcXG5cXHRcXHRcXHRyZXR1cm4gWyBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50IF07XFxuXFx0XFx0fSksXFxuXFxuXFx0XFx0XFxcImV2ZW5cXFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcXG5cXHRcXHRcXHR2YXIgaSA9IDA7XFxuXFx0XFx0XFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpICs9IDIgKSB7XFxuXFx0XFx0XFx0XFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0XFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcXG5cXHRcXHR9KSxcXG5cXG5cXHRcXHRcXFwib2RkXFxcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XFxuXFx0XFx0XFx0dmFyIGkgPSAxO1xcblxcdFxcdFxcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkge1xcblxcdFxcdFxcdFxcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XFxuXFx0XFx0XFx0fVxcblxcdFxcdFxcdHJldHVybiBtYXRjaEluZGV4ZXM7XFxuXFx0XFx0fSksXFxuXFxuXFx0XFx0XFxcImx0XFxcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xcblxcdFxcdFxcdHZhciBpID0gYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudDtcXG5cXHRcXHRcXHRmb3IgKCA7IC0taSA+PSAwOyApIHtcXG5cXHRcXHRcXHRcXHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xcblxcdFxcdFxcdH1cXG5cXHRcXHRcXHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xcblxcdFxcdH0pLFxcblxcblxcdFxcdFxcXCJndFxcXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcXG5cXHRcXHRcXHR2YXIgaSA9IGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQ7XFxuXFx0XFx0XFx0Zm9yICggOyArK2kgPCBsZW5ndGg7ICkge1xcblxcdFxcdFxcdFxcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XFxuXFx0XFx0XFx0fVxcblxcdFxcdFxcdHJldHVybiBtYXRjaEluZGV4ZXM7XFxuXFx0XFx0fSlcXG5cXHR9XFxufTtcXG5cXG5FeHByLnBzZXVkb3NbXFxcIm50aFxcXCJdID0gRXhwci5wc2V1ZG9zW1xcXCJlcVxcXCJdO1xcblxcbi8vIEFkZCBidXR0b24vaW5wdXQgdHlwZSBwc2V1ZG9zXFxuZm9yICggaSBpbiB7IHJhZGlvOiB0cnVlLCBjaGVja2JveDogdHJ1ZSwgZmlsZTogdHJ1ZSwgcGFzc3dvcmQ6IHRydWUsIGltYWdlOiB0cnVlIH0gKSB7XFxuXFx0RXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVJbnB1dFBzZXVkbyggaSApO1xcbn1cXG5mb3IgKCBpIGluIHsgc3VibWl0OiB0cnVlLCByZXNldDogdHJ1ZSB9ICkge1xcblxcdEV4cHIucHNldWRvc1sgaSBdID0gY3JlYXRlQnV0dG9uUHNldWRvKCBpICk7XFxufVxcblxcbi8vIEVhc3kgQVBJIGZvciBjcmVhdGluZyBuZXcgc2V0RmlsdGVyc1xcbmZ1bmN0aW9uIHNldEZpbHRlcnMoKSB7fVxcbnNldEZpbHRlcnMucHJvdG90eXBlID0gRXhwci5maWx0ZXJzID0gRXhwci5wc2V1ZG9zO1xcbkV4cHIuc2V0RmlsdGVycyA9IG5ldyBzZXRGaWx0ZXJzKCk7XFxuXFxudG9rZW5pemUgPSBTaXp6bGUudG9rZW5pemUgPSBmdW5jdGlvbiggc2VsZWN0b3IsIHBhcnNlT25seSApIHtcXG5cXHR2YXIgbWF0Y2hlZCwgbWF0Y2gsIHRva2VucywgdHlwZSxcXG5cXHRcXHRzb0ZhciwgZ3JvdXBzLCBwcmVGaWx0ZXJzLFxcblxcdFxcdGNhY2hlZCA9IHRva2VuQ2FjaGVbIHNlbGVjdG9yICsgXFxcIiBcXFwiIF07XFxuXFxuXFx0aWYgKCBjYWNoZWQgKSB7XFxuXFx0XFx0cmV0dXJuIHBhcnNlT25seSA/IDAgOiBjYWNoZWQuc2xpY2UoIDAgKTtcXG5cXHR9XFxuXFxuXFx0c29GYXIgPSBzZWxlY3RvcjtcXG5cXHRncm91cHMgPSBbXTtcXG5cXHRwcmVGaWx0ZXJzID0gRXhwci5wcmVGaWx0ZXI7XFxuXFxuXFx0d2hpbGUgKCBzb0ZhciApIHtcXG5cXG5cXHRcXHQvLyBDb21tYSBhbmQgZmlyc3QgcnVuXFxuXFx0XFx0aWYgKCAhbWF0Y2hlZCB8fCAobWF0Y2ggPSByY29tbWEuZXhlYyggc29GYXIgKSkgKSB7XFxuXFx0XFx0XFx0aWYgKCBtYXRjaCApIHtcXG5cXHRcXHRcXHRcXHQvLyBEb24ndCBjb25zdW1lIHRyYWlsaW5nIGNvbW1hcyBhcyB2YWxpZFxcblxcdFxcdFxcdFxcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoWzBdLmxlbmd0aCApIHx8IHNvRmFyO1xcblxcdFxcdFxcdH1cXG5cXHRcXHRcXHRncm91cHMucHVzaCggKHRva2VucyA9IFtdKSApO1xcblxcdFxcdH1cXG5cXG5cXHRcXHRtYXRjaGVkID0gZmFsc2U7XFxuXFxuXFx0XFx0Ly8gQ29tYmluYXRvcnNcXG5cXHRcXHRpZiAoIChtYXRjaCA9IHJjb21iaW5hdG9ycy5leGVjKCBzb0ZhciApKSApIHtcXG5cXHRcXHRcXHRtYXRjaGVkID0gbWF0Y2guc2hpZnQoKTtcXG5cXHRcXHRcXHR0b2tlbnMucHVzaCh7XFxuXFx0XFx0XFx0XFx0dmFsdWU6IG1hdGNoZWQsXFxuXFx0XFx0XFx0XFx0Ly8gQ2FzdCBkZXNjZW5kYW50IGNvbWJpbmF0b3JzIHRvIHNwYWNlXFxuXFx0XFx0XFx0XFx0dHlwZTogbWF0Y2hbMF0ucmVwbGFjZSggcnRyaW0sIFxcXCIgXFxcIiApXFxuXFx0XFx0XFx0fSk7XFxuXFx0XFx0XFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hlZC5sZW5ndGggKTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gRmlsdGVyc1xcblxcdFxcdGZvciAoIHR5cGUgaW4gRXhwci5maWx0ZXIgKSB7XFxuXFx0XFx0XFx0aWYgKCAobWF0Y2ggPSBtYXRjaEV4cHJbIHR5cGUgXS5leGVjKCBzb0ZhciApKSAmJiAoIXByZUZpbHRlcnNbIHR5cGUgXSB8fFxcblxcdFxcdFxcdFxcdChtYXRjaCA9IHByZUZpbHRlcnNbIHR5cGUgXSggbWF0Y2ggKSkpICkge1xcblxcdFxcdFxcdFxcdG1hdGNoZWQgPSBtYXRjaC5zaGlmdCgpO1xcblxcdFxcdFxcdFxcdHRva2Vucy5wdXNoKHtcXG5cXHRcXHRcXHRcXHRcXHR2YWx1ZTogbWF0Y2hlZCxcXG5cXHRcXHRcXHRcXHRcXHR0eXBlOiB0eXBlLFxcblxcdFxcdFxcdFxcdFxcdG1hdGNoZXM6IG1hdGNoXFxuXFx0XFx0XFx0XFx0fSk7XFxuXFx0XFx0XFx0XFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hlZC5sZW5ndGggKTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcblxcdFxcdGlmICggIW1hdGNoZWQgKSB7XFxuXFx0XFx0XFx0YnJlYWs7XFxuXFx0XFx0fVxcblxcdH1cXG5cXG5cXHQvLyBSZXR1cm4gdGhlIGxlbmd0aCBvZiB0aGUgaW52YWxpZCBleGNlc3NcXG5cXHQvLyBpZiB3ZSdyZSBqdXN0IHBhcnNpbmdcXG5cXHQvLyBPdGhlcndpc2UsIHRocm93IGFuIGVycm9yIG9yIHJldHVybiB0b2tlbnNcXG5cXHRyZXR1cm4gcGFyc2VPbmx5ID9cXG5cXHRcXHRzb0Zhci5sZW5ndGggOlxcblxcdFxcdHNvRmFyID9cXG5cXHRcXHRcXHRTaXp6bGUuZXJyb3IoIHNlbGVjdG9yICkgOlxcblxcdFxcdFxcdC8vIENhY2hlIHRoZSB0b2tlbnNcXG5cXHRcXHRcXHR0b2tlbkNhY2hlKCBzZWxlY3RvciwgZ3JvdXBzICkuc2xpY2UoIDAgKTtcXG59O1xcblxcbmZ1bmN0aW9uIHRvU2VsZWN0b3IoIHRva2VucyApIHtcXG5cXHR2YXIgaSA9IDAsXFxuXFx0XFx0bGVuID0gdG9rZW5zLmxlbmd0aCxcXG5cXHRcXHRzZWxlY3RvciA9IFxcXCJcXFwiO1xcblxcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xcblxcdFxcdHNlbGVjdG9yICs9IHRva2Vuc1tpXS52YWx1ZTtcXG5cXHR9XFxuXFx0cmV0dXJuIHNlbGVjdG9yO1xcbn1cXG5cXG5mdW5jdGlvbiBhZGRDb21iaW5hdG9yKCBtYXRjaGVyLCBjb21iaW5hdG9yLCBiYXNlICkge1xcblxcdHZhciBkaXIgPSBjb21iaW5hdG9yLmRpcixcXG5cXHRcXHRza2lwID0gY29tYmluYXRvci5uZXh0LFxcblxcdFxcdGtleSA9IHNraXAgfHwgZGlyLFxcblxcdFxcdGNoZWNrTm9uRWxlbWVudHMgPSBiYXNlICYmIGtleSA9PT0gXFxcInBhcmVudE5vZGVcXFwiLFxcblxcdFxcdGRvbmVOYW1lID0gZG9uZSsrO1xcblxcblxcdHJldHVybiBjb21iaW5hdG9yLmZpcnN0ID9cXG5cXHRcXHQvLyBDaGVjayBhZ2FpbnN0IGNsb3Nlc3QgYW5jZXN0b3IvcHJlY2VkaW5nIGVsZW1lbnRcXG5cXHRcXHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xcblxcdFxcdFxcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XFxuXFx0XFx0XFx0XFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGNoZWNrTm9uRWxlbWVudHMgKSB7XFxuXFx0XFx0XFx0XFx0XFx0cmV0dXJuIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApO1xcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0XFx0cmV0dXJuIGZhbHNlO1xcblxcdFxcdH0gOlxcblxcblxcdFxcdC8vIENoZWNrIGFnYWluc3QgYWxsIGFuY2VzdG9yL3ByZWNlZGluZyBlbGVtZW50c1xcblxcdFxcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XFxuXFx0XFx0XFx0dmFyIG9sZENhY2hlLCB1bmlxdWVDYWNoZSwgb3V0ZXJDYWNoZSxcXG5cXHRcXHRcXHRcXHRuZXdDYWNoZSA9IFsgZGlycnVucywgZG9uZU5hbWUgXTtcXG5cXG5cXHRcXHRcXHQvLyBXZSBjYW4ndCBzZXQgYXJiaXRyYXJ5IGRhdGEgb24gWE1MIG5vZGVzLCBzbyB0aGV5IGRvbid0IGJlbmVmaXQgZnJvbSBjb21iaW5hdG9yIGNhY2hpbmdcXG5cXHRcXHRcXHRpZiAoIHhtbCApIHtcXG5cXHRcXHRcXHRcXHR3aGlsZSAoIChlbGVtID0gZWxlbVsgZGlyIF0pICkge1xcblxcdFxcdFxcdFxcdFxcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdGlmICggbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0cmV0dXJuIHRydWU7XFxuXFx0XFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRcXHR3aGlsZSAoIChlbGVtID0gZWxlbVsgZGlyIF0pICkge1xcblxcdFxcdFxcdFxcdFxcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdG91dGVyQ2FjaGUgPSBlbGVtWyBleHBhbmRvIF0gfHwgKGVsZW1bIGV4cGFuZG8gXSA9IHt9KTtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XFxuXFx0XFx0XFx0XFx0XFx0XFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXFxuXFx0XFx0XFx0XFx0XFx0XFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBlbGVtLnVuaXF1ZUlEIF0gfHwgKG91dGVyQ2FjaGVbIGVsZW0udW5pcXVlSUQgXSA9IHt9KTtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRpZiAoIHNraXAgJiYgc2tpcCA9PT0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdGVsZW0gPSBlbGVtWyBkaXIgXSB8fCBlbGVtO1xcblxcdFxcdFxcdFxcdFxcdFxcdH0gZWxzZSBpZiAoIChvbGRDYWNoZSA9IHVuaXF1ZUNhY2hlWyBrZXkgXSkgJiZcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRvbGRDYWNoZVsgMCBdID09PSBkaXJydW5zICYmIG9sZENhY2hlWyAxIF0gPT09IGRvbmVOYW1lICkge1xcblxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIEFzc2lnbiB0byBuZXdDYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0cmV0dXJuIChuZXdDYWNoZVsgMiBdID0gb2xkQ2FjaGVbIDIgXSk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBSZXVzZSBuZXdjYWNoZSBzbyByZXN1bHRzIGJhY2stcHJvcGFnYXRlIHRvIHByZXZpb3VzIGVsZW1lbnRzXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0dW5pcXVlQ2FjaGVbIGtleSBdID0gbmV3Q2FjaGU7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0Ly8gQSBtYXRjaCBtZWFucyB3ZSdyZSBkb25lOyBhIGZhaWwgbWVhbnMgd2UgaGF2ZSB0byBrZWVwIGNoZWNraW5nXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0aWYgKCAobmV3Q2FjaGVbIDIgXSA9IG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApKSApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRyZXR1cm4gdHJ1ZTtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fVxcblxcdFxcdFxcdHJldHVybiBmYWxzZTtcXG5cXHRcXHR9O1xcbn1cXG5cXG5mdW5jdGlvbiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSB7XFxuXFx0cmV0dXJuIG1hdGNoZXJzLmxlbmd0aCA+IDEgP1xcblxcdFxcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XFxuXFx0XFx0XFx0dmFyIGkgPSBtYXRjaGVycy5sZW5ndGg7XFxuXFx0XFx0XFx0d2hpbGUgKCBpLS0gKSB7XFxuXFx0XFx0XFx0XFx0aWYgKCAhbWF0Y2hlcnNbaV0oIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xcblxcdFxcdFxcdFxcdFxcdHJldHVybiBmYWxzZTtcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fVxcblxcdFxcdFxcdHJldHVybiB0cnVlO1xcblxcdFxcdH0gOlxcblxcdFxcdG1hdGNoZXJzWzBdO1xcbn1cXG5cXG5mdW5jdGlvbiBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciwgY29udGV4dHMsIHJlc3VsdHMgKSB7XFxuXFx0dmFyIGkgPSAwLFxcblxcdFxcdGxlbiA9IGNvbnRleHRzLmxlbmd0aDtcXG5cXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcXG5cXHRcXHRTaXp6bGUoIHNlbGVjdG9yLCBjb250ZXh0c1tpXSwgcmVzdWx0cyApO1xcblxcdH1cXG5cXHRyZXR1cm4gcmVzdWx0cztcXG59XFxuXFxuZnVuY3Rpb24gY29uZGVuc2UoIHVubWF0Y2hlZCwgbWFwLCBmaWx0ZXIsIGNvbnRleHQsIHhtbCApIHtcXG5cXHR2YXIgZWxlbSxcXG5cXHRcXHRuZXdVbm1hdGNoZWQgPSBbXSxcXG5cXHRcXHRpID0gMCxcXG5cXHRcXHRsZW4gPSB1bm1hdGNoZWQubGVuZ3RoLFxcblxcdFxcdG1hcHBlZCA9IG1hcCAhPSBudWxsO1xcblxcblxcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xcblxcdFxcdGlmICggKGVsZW0gPSB1bm1hdGNoZWRbaV0pICkge1xcblxcdFxcdFxcdGlmICggIWZpbHRlciB8fCBmaWx0ZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xcblxcdFxcdFxcdFxcdG5ld1VubWF0Y2hlZC5wdXNoKCBlbGVtICk7XFxuXFx0XFx0XFx0XFx0aWYgKCBtYXBwZWQgKSB7XFxuXFx0XFx0XFx0XFx0XFx0bWFwLnB1c2goIGkgKTtcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXHR9XFxuXFxuXFx0cmV0dXJuIG5ld1VubWF0Y2hlZDtcXG59XFxuXFxuZnVuY3Rpb24gc2V0TWF0Y2hlciggcHJlRmlsdGVyLCBzZWxlY3RvciwgbWF0Y2hlciwgcG9zdEZpbHRlciwgcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICkge1xcblxcdGlmICggcG9zdEZpbHRlciAmJiAhcG9zdEZpbHRlclsgZXhwYW5kbyBdICkge1xcblxcdFxcdHBvc3RGaWx0ZXIgPSBzZXRNYXRjaGVyKCBwb3N0RmlsdGVyICk7XFxuXFx0fVxcblxcdGlmICggcG9zdEZpbmRlciAmJiAhcG9zdEZpbmRlclsgZXhwYW5kbyBdICkge1xcblxcdFxcdHBvc3RGaW5kZXIgPSBzZXRNYXRjaGVyKCBwb3N0RmluZGVyLCBwb3N0U2VsZWN0b3IgKTtcXG5cXHR9XFxuXFx0cmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgcmVzdWx0cywgY29udGV4dCwgeG1sICkge1xcblxcdFxcdHZhciB0ZW1wLCBpLCBlbGVtLFxcblxcdFxcdFxcdHByZU1hcCA9IFtdLFxcblxcdFxcdFxcdHBvc3RNYXAgPSBbXSxcXG5cXHRcXHRcXHRwcmVleGlzdGluZyA9IHJlc3VsdHMubGVuZ3RoLFxcblxcblxcdFxcdFxcdC8vIEdldCBpbml0aWFsIGVsZW1lbnRzIGZyb20gc2VlZCBvciBjb250ZXh0XFxuXFx0XFx0XFx0ZWxlbXMgPSBzZWVkIHx8IG11bHRpcGxlQ29udGV4dHMoIHNlbGVjdG9yIHx8IFxcXCIqXFxcIiwgY29udGV4dC5ub2RlVHlwZSA/IFsgY29udGV4dCBdIDogY29udGV4dCwgW10gKSxcXG5cXG5cXHRcXHRcXHQvLyBQcmVmaWx0ZXIgdG8gZ2V0IG1hdGNoZXIgaW5wdXQsIHByZXNlcnZpbmcgYSBtYXAgZm9yIHNlZWQtcmVzdWx0cyBzeW5jaHJvbml6YXRpb25cXG5cXHRcXHRcXHRtYXRjaGVySW4gPSBwcmVGaWx0ZXIgJiYgKCBzZWVkIHx8ICFzZWxlY3RvciApID9cXG5cXHRcXHRcXHRcXHRjb25kZW5zZSggZWxlbXMsIHByZU1hcCwgcHJlRmlsdGVyLCBjb250ZXh0LCB4bWwgKSA6XFxuXFx0XFx0XFx0XFx0ZWxlbXMsXFxuXFxuXFx0XFx0XFx0bWF0Y2hlck91dCA9IG1hdGNoZXIgP1xcblxcdFxcdFxcdFxcdC8vIElmIHdlIGhhdmUgYSBwb3N0RmluZGVyLCBvciBmaWx0ZXJlZCBzZWVkLCBvciBub24tc2VlZCBwb3N0RmlsdGVyIG9yIHByZWV4aXN0aW5nIHJlc3VsdHMsXFxuXFx0XFx0XFx0XFx0cG9zdEZpbmRlciB8fCAoIHNlZWQgPyBwcmVGaWx0ZXIgOiBwcmVleGlzdGluZyB8fCBwb3N0RmlsdGVyICkgP1xcblxcblxcdFxcdFxcdFxcdFxcdC8vIC4uLmludGVybWVkaWF0ZSBwcm9jZXNzaW5nIGlzIG5lY2Vzc2FyeVxcblxcdFxcdFxcdFxcdFxcdFtdIDpcXG5cXG5cXHRcXHRcXHRcXHRcXHQvLyAuLi5vdGhlcndpc2UgdXNlIHJlc3VsdHMgZGlyZWN0bHlcXG5cXHRcXHRcXHRcXHRcXHRyZXN1bHRzIDpcXG5cXHRcXHRcXHRcXHRtYXRjaGVySW47XFxuXFxuXFx0XFx0Ly8gRmluZCBwcmltYXJ5IG1hdGNoZXNcXG5cXHRcXHRpZiAoIG1hdGNoZXIgKSB7XFxuXFx0XFx0XFx0bWF0Y2hlciggbWF0Y2hlckluLCBtYXRjaGVyT3V0LCBjb250ZXh0LCB4bWwgKTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gQXBwbHkgcG9zdEZpbHRlclxcblxcdFxcdGlmICggcG9zdEZpbHRlciApIHtcXG5cXHRcXHRcXHR0ZW1wID0gY29uZGVuc2UoIG1hdGNoZXJPdXQsIHBvc3RNYXAgKTtcXG5cXHRcXHRcXHRwb3N0RmlsdGVyKCB0ZW1wLCBbXSwgY29udGV4dCwgeG1sICk7XFxuXFxuXFx0XFx0XFx0Ly8gVW4tbWF0Y2ggZmFpbGluZyBlbGVtZW50cyBieSBtb3ZpbmcgdGhlbSBiYWNrIHRvIG1hdGNoZXJJblxcblxcdFxcdFxcdGkgPSB0ZW1wLmxlbmd0aDtcXG5cXHRcXHRcXHR3aGlsZSAoIGktLSApIHtcXG5cXHRcXHRcXHRcXHRpZiAoIChlbGVtID0gdGVtcFtpXSkgKSB7XFxuXFx0XFx0XFx0XFx0XFx0bWF0Y2hlck91dFsgcG9zdE1hcFtpXSBdID0gIShtYXRjaGVySW5bIHBvc3RNYXBbaV0gXSA9IGVsZW0pO1xcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcblxcdFxcdGlmICggc2VlZCApIHtcXG5cXHRcXHRcXHRpZiAoIHBvc3RGaW5kZXIgfHwgcHJlRmlsdGVyICkge1xcblxcdFxcdFxcdFxcdGlmICggcG9zdEZpbmRlciApIHtcXG5cXHRcXHRcXHRcXHRcXHQvLyBHZXQgdGhlIGZpbmFsIG1hdGNoZXJPdXQgYnkgY29uZGVuc2luZyB0aGlzIGludGVybWVkaWF0ZSBpbnRvIHBvc3RGaW5kZXIgY29udGV4dHNcXG5cXHRcXHRcXHRcXHRcXHR0ZW1wID0gW107XFxuXFx0XFx0XFx0XFx0XFx0aSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xcblxcdFxcdFxcdFxcdFxcdHdoaWxlICggaS0tICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdGlmICggKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBSZXN0b3JlIG1hdGNoZXJJbiBzaW5jZSBlbGVtIGlzIG5vdCB5ZXQgYSBmaW5hbCBtYXRjaFxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdHRlbXAucHVzaCggKG1hdGNoZXJJbltpXSA9IGVsZW0pICk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHRwb3N0RmluZGVyKCBudWxsLCAobWF0Y2hlck91dCA9IFtdKSwgdGVtcCwgeG1sICk7XFxuXFx0XFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdFxcdC8vIE1vdmUgbWF0Y2hlZCBlbGVtZW50cyBmcm9tIHNlZWQgdG8gcmVzdWx0cyB0byBrZWVwIHRoZW0gc3luY2hyb25pemVkXFxuXFx0XFx0XFx0XFx0aSA9IG1hdGNoZXJPdXQubGVuZ3RoO1xcblxcdFxcdFxcdFxcdHdoaWxlICggaS0tICkge1xcblxcdFxcdFxcdFxcdFxcdGlmICggKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSAmJlxcblxcdFxcdFxcdFxcdFxcdFxcdCh0ZW1wID0gcG9zdEZpbmRlciA/IGluZGV4T2YoIHNlZWQsIGVsZW0gKSA6IHByZU1hcFtpXSkgPiAtMSApIHtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRzZWVkW3RlbXBdID0gIShyZXN1bHRzW3RlbXBdID0gZWxlbSk7XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0Ly8gQWRkIGVsZW1lbnRzIHRvIHJlc3VsdHMsIHRocm91Z2ggcG9zdEZpbmRlciBpZiBkZWZpbmVkXFxuXFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRtYXRjaGVyT3V0ID0gY29uZGVuc2UoXFxuXFx0XFx0XFx0XFx0bWF0Y2hlck91dCA9PT0gcmVzdWx0cyA/XFxuXFx0XFx0XFx0XFx0XFx0bWF0Y2hlck91dC5zcGxpY2UoIHByZWV4aXN0aW5nLCBtYXRjaGVyT3V0Lmxlbmd0aCApIDpcXG5cXHRcXHRcXHRcXHRcXHRtYXRjaGVyT3V0XFxuXFx0XFx0XFx0KTtcXG5cXHRcXHRcXHRpZiAoIHBvc3RGaW5kZXIgKSB7XFxuXFx0XFx0XFx0XFx0cG9zdEZpbmRlciggbnVsbCwgcmVzdWx0cywgbWF0Y2hlck91dCwgeG1sICk7XFxuXFx0XFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRcXHRwdXNoLmFwcGx5KCByZXN1bHRzLCBtYXRjaGVyT3V0ICk7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXHR9KTtcXG59XFxuXFxuZnVuY3Rpb24gbWF0Y2hlckZyb21Ub2tlbnMoIHRva2VucyApIHtcXG5cXHR2YXIgY2hlY2tDb250ZXh0LCBtYXRjaGVyLCBqLFxcblxcdFxcdGxlbiA9IHRva2Vucy5sZW5ndGgsXFxuXFx0XFx0bGVhZGluZ1JlbGF0aXZlID0gRXhwci5yZWxhdGl2ZVsgdG9rZW5zWzBdLnR5cGUgXSxcXG5cXHRcXHRpbXBsaWNpdFJlbGF0aXZlID0gbGVhZGluZ1JlbGF0aXZlIHx8IEV4cHIucmVsYXRpdmVbXFxcIiBcXFwiXSxcXG5cXHRcXHRpID0gbGVhZGluZ1JlbGF0aXZlID8gMSA6IDAsXFxuXFxuXFx0XFx0Ly8gVGhlIGZvdW5kYXRpb25hbCBtYXRjaGVyIGVuc3VyZXMgdGhhdCBlbGVtZW50cyBhcmUgcmVhY2hhYmxlIGZyb20gdG9wLWxldmVsIGNvbnRleHQocylcXG5cXHRcXHRtYXRjaENvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHtcXG5cXHRcXHRcXHRyZXR1cm4gZWxlbSA9PT0gY2hlY2tDb250ZXh0O1xcblxcdFxcdH0sIGltcGxpY2l0UmVsYXRpdmUsIHRydWUgKSxcXG5cXHRcXHRtYXRjaEFueUNvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHtcXG5cXHRcXHRcXHRyZXR1cm4gaW5kZXhPZiggY2hlY2tDb250ZXh0LCBlbGVtICkgPiAtMTtcXG5cXHRcXHR9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksXFxuXFx0XFx0bWF0Y2hlcnMgPSBbIGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XFxuXFx0XFx0XFx0dmFyIHJldCA9ICggIWxlYWRpbmdSZWxhdGl2ZSAmJiAoIHhtbCB8fCBjb250ZXh0ICE9PSBvdXRlcm1vc3RDb250ZXh0ICkgKSB8fCAoXFxuXFx0XFx0XFx0XFx0KGNoZWNrQ29udGV4dCA9IGNvbnRleHQpLm5vZGVUeXBlID9cXG5cXHRcXHRcXHRcXHRcXHRtYXRjaENvbnRleHQoIGVsZW0sIGNvbnRleHQsIHhtbCApIDpcXG5cXHRcXHRcXHRcXHRcXHRtYXRjaEFueUNvbnRleHQoIGVsZW0sIGNvbnRleHQsIHhtbCApICk7XFxuXFx0XFx0XFx0Ly8gQXZvaWQgaGFuZ2luZyBvbnRvIGVsZW1lbnQgKGlzc3VlICMyOTkpXFxuXFx0XFx0XFx0Y2hlY2tDb250ZXh0ID0gbnVsbDtcXG5cXHRcXHRcXHRyZXR1cm4gcmV0O1xcblxcdFxcdH0gXTtcXG5cXG5cXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcXG5cXHRcXHRpZiAoIChtYXRjaGVyID0gRXhwci5yZWxhdGl2ZVsgdG9rZW5zW2ldLnR5cGUgXSkgKSB7XFxuXFx0XFx0XFx0bWF0Y2hlcnMgPSBbIGFkZENvbWJpbmF0b3IoZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksIG1hdGNoZXIpIF07XFxuXFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRtYXRjaGVyID0gRXhwci5maWx0ZXJbIHRva2Vuc1tpXS50eXBlIF0uYXBwbHkoIG51bGwsIHRva2Vuc1tpXS5tYXRjaGVzICk7XFxuXFxuXFx0XFx0XFx0Ly8gUmV0dXJuIHNwZWNpYWwgdXBvbiBzZWVpbmcgYSBwb3NpdGlvbmFsIG1hdGNoZXJcXG5cXHRcXHRcXHRpZiAoIG1hdGNoZXJbIGV4cGFuZG8gXSApIHtcXG5cXHRcXHRcXHRcXHQvLyBGaW5kIHRoZSBuZXh0IHJlbGF0aXZlIG9wZXJhdG9yIChpZiBhbnkpIGZvciBwcm9wZXIgaGFuZGxpbmdcXG5cXHRcXHRcXHRcXHRqID0gKytpO1xcblxcdFxcdFxcdFxcdGZvciAoIDsgaiA8IGxlbjsgaisrICkge1xcblxcdFxcdFxcdFxcdFxcdGlmICggRXhwci5yZWxhdGl2ZVsgdG9rZW5zW2pdLnR5cGUgXSApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRicmVhaztcXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdHJldHVybiBzZXRNYXRjaGVyKFxcblxcdFxcdFxcdFxcdFxcdGkgPiAxICYmIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApLFxcblxcdFxcdFxcdFxcdFxcdGkgPiAxICYmIHRvU2VsZWN0b3IoXFxuXFx0XFx0XFx0XFx0XFx0XFx0Ly8gSWYgdGhlIHByZWNlZGluZyB0b2tlbiB3YXMgYSBkZXNjZW5kYW50IGNvbWJpbmF0b3IsIGluc2VydCBhbiBpbXBsaWNpdCBhbnktZWxlbWVudCBgKmBcXG5cXHRcXHRcXHRcXHRcXHRcXHR0b2tlbnMuc2xpY2UoIDAsIGkgLSAxICkuY29uY2F0KHsgdmFsdWU6IHRva2Vuc1sgaSAtIDIgXS50eXBlID09PSBcXFwiIFxcXCIgPyBcXFwiKlxcXCIgOiBcXFwiXFxcIiB9KVxcblxcdFxcdFxcdFxcdFxcdCkucmVwbGFjZSggcnRyaW0sIFxcXCIkMVxcXCIgKSxcXG5cXHRcXHRcXHRcXHRcXHRtYXRjaGVyLFxcblxcdFxcdFxcdFxcdFxcdGkgPCBqICYmIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMuc2xpY2UoIGksIGogKSApLFxcblxcdFxcdFxcdFxcdFxcdGogPCBsZW4gJiYgbWF0Y2hlckZyb21Ub2tlbnMoICh0b2tlbnMgPSB0b2tlbnMuc2xpY2UoIGogKSkgKSxcXG5cXHRcXHRcXHRcXHRcXHRqIDwgbGVuICYmIHRvU2VsZWN0b3IoIHRva2VucyApXFxuXFx0XFx0XFx0XFx0KTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0XFx0bWF0Y2hlcnMucHVzaCggbWF0Y2hlciApO1xcblxcdFxcdH1cXG5cXHR9XFxuXFxuXFx0cmV0dXJuIGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApO1xcbn1cXG5cXG5mdW5jdGlvbiBtYXRjaGVyRnJvbUdyb3VwTWF0Y2hlcnMoIGVsZW1lbnRNYXRjaGVycywgc2V0TWF0Y2hlcnMgKSB7XFxuXFx0dmFyIGJ5U2V0ID0gc2V0TWF0Y2hlcnMubGVuZ3RoID4gMCxcXG5cXHRcXHRieUVsZW1lbnQgPSBlbGVtZW50TWF0Y2hlcnMubGVuZ3RoID4gMCxcXG5cXHRcXHRzdXBlck1hdGNoZXIgPSBmdW5jdGlvbiggc2VlZCwgY29udGV4dCwgeG1sLCByZXN1bHRzLCBvdXRlcm1vc3QgKSB7XFxuXFx0XFx0XFx0dmFyIGVsZW0sIGosIG1hdGNoZXIsXFxuXFx0XFx0XFx0XFx0bWF0Y2hlZENvdW50ID0gMCxcXG5cXHRcXHRcXHRcXHRpID0gXFxcIjBcXFwiLFxcblxcdFxcdFxcdFxcdHVubWF0Y2hlZCA9IHNlZWQgJiYgW10sXFxuXFx0XFx0XFx0XFx0c2V0TWF0Y2hlZCA9IFtdLFxcblxcdFxcdFxcdFxcdGNvbnRleHRCYWNrdXAgPSBvdXRlcm1vc3RDb250ZXh0LFxcblxcdFxcdFxcdFxcdC8vIFdlIG11c3QgYWx3YXlzIGhhdmUgZWl0aGVyIHNlZWQgZWxlbWVudHMgb3Igb3V0ZXJtb3N0IGNvbnRleHRcXG5cXHRcXHRcXHRcXHRlbGVtcyA9IHNlZWQgfHwgYnlFbGVtZW50ICYmIEV4cHIuZmluZFtcXFwiVEFHXFxcIl0oIFxcXCIqXFxcIiwgb3V0ZXJtb3N0ICksXFxuXFx0XFx0XFx0XFx0Ly8gVXNlIGludGVnZXIgZGlycnVucyBpZmYgdGhpcyBpcyB0aGUgb3V0ZXJtb3N0IG1hdGNoZXJcXG5cXHRcXHRcXHRcXHRkaXJydW5zVW5pcXVlID0gKGRpcnJ1bnMgKz0gY29udGV4dEJhY2t1cCA9PSBudWxsID8gMSA6IE1hdGgucmFuZG9tKCkgfHwgMC4xKSxcXG5cXHRcXHRcXHRcXHRsZW4gPSBlbGVtcy5sZW5ndGg7XFxuXFxuXFx0XFx0XFx0aWYgKCBvdXRlcm1vc3QgKSB7XFxuXFx0XFx0XFx0XFx0b3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHQgPT09IGRvY3VtZW50IHx8IGNvbnRleHQgfHwgb3V0ZXJtb3N0O1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHQvLyBBZGQgZWxlbWVudHMgcGFzc2luZyBlbGVtZW50TWF0Y2hlcnMgZGlyZWN0bHkgdG8gcmVzdWx0c1xcblxcdFxcdFxcdC8vIFN1cHBvcnQ6IElFPDksIFNhZmFyaVxcblxcdFxcdFxcdC8vIFRvbGVyYXRlIE5vZGVMaXN0IHByb3BlcnRpZXMgKElFOiBcXFwibGVuZ3RoXFxcIjsgU2FmYXJpOiA8bnVtYmVyPikgbWF0Y2hpbmcgZWxlbWVudHMgYnkgaWRcXG5cXHRcXHRcXHRmb3IgKCA7IGkgIT09IGxlbiAmJiAoZWxlbSA9IGVsZW1zW2ldKSAhPSBudWxsOyBpKysgKSB7XFxuXFx0XFx0XFx0XFx0aWYgKCBieUVsZW1lbnQgJiYgZWxlbSApIHtcXG5cXHRcXHRcXHRcXHRcXHRqID0gMDtcXG5cXHRcXHRcXHRcXHRcXHRpZiAoICFjb250ZXh0ICYmIGVsZW0ub3duZXJEb2N1bWVudCAhPT0gZG9jdW1lbnQgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0c2V0RG9jdW1lbnQoIGVsZW0gKTtcXG5cXHRcXHRcXHRcXHRcXHRcXHR4bWwgPSAhZG9jdW1lbnRJc0hUTUw7XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdHdoaWxlICggKG1hdGNoZXIgPSBlbGVtZW50TWF0Y2hlcnNbaisrXSkgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0aWYgKCBtYXRjaGVyKCBlbGVtLCBjb250ZXh0IHx8IGRvY3VtZW50LCB4bWwpICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdHJlc3VsdHMucHVzaCggZWxlbSApO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdGJyZWFrO1xcblxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0aWYgKCBvdXRlcm1vc3QgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0ZGlycnVucyA9IGRpcnJ1bnNVbmlxdWU7XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHQvLyBUcmFjayB1bm1hdGNoZWQgZWxlbWVudHMgZm9yIHNldCBmaWx0ZXJzXFxuXFx0XFx0XFx0XFx0aWYgKCBieVNldCApIHtcXG5cXHRcXHRcXHRcXHRcXHQvLyBUaGV5IHdpbGwgaGF2ZSBnb25lIHRocm91Z2ggYWxsIHBvc3NpYmxlIG1hdGNoZXJzXFxuXFx0XFx0XFx0XFx0XFx0aWYgKCAoZWxlbSA9ICFtYXRjaGVyICYmIGVsZW0pICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdG1hdGNoZWRDb3VudC0tO1xcblxcdFxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRcXHQvLyBMZW5ndGhlbiB0aGUgYXJyYXkgZm9yIGV2ZXJ5IGVsZW1lbnQsIG1hdGNoZWQgb3Igbm90XFxuXFx0XFx0XFx0XFx0XFx0aWYgKCBzZWVkICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdHVubWF0Y2hlZC5wdXNoKCBlbGVtICk7XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0Ly8gYGlgIGlzIG5vdyB0aGUgY291bnQgb2YgZWxlbWVudHMgdmlzaXRlZCBhYm92ZSwgYW5kIGFkZGluZyBpdCB0byBgbWF0Y2hlZENvdW50YFxcblxcdFxcdFxcdC8vIG1ha2VzIHRoZSBsYXR0ZXIgbm9ubmVnYXRpdmUuXFxuXFx0XFx0XFx0bWF0Y2hlZENvdW50ICs9IGk7XFxuXFxuXFx0XFx0XFx0Ly8gQXBwbHkgc2V0IGZpbHRlcnMgdG8gdW5tYXRjaGVkIGVsZW1lbnRzXFxuXFx0XFx0XFx0Ly8gTk9URTogVGhpcyBjYW4gYmUgc2tpcHBlZCBpZiB0aGVyZSBhcmUgbm8gdW5tYXRjaGVkIGVsZW1lbnRzIChpLmUuLCBgbWF0Y2hlZENvdW50YFxcblxcdFxcdFxcdC8vIGVxdWFscyBgaWApLCB1bmxlc3Mgd2UgZGlkbid0IHZpc2l0IF9hbnlfIGVsZW1lbnRzIGluIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgaGF2ZVxcblxcdFxcdFxcdC8vIG5vIGVsZW1lbnQgbWF0Y2hlcnMgYW5kIG5vIHNlZWQuXFxuXFx0XFx0XFx0Ly8gSW5jcmVtZW50aW5nIGFuIGluaXRpYWxseS1zdHJpbmcgXFxcIjBcXFwiIGBpYCBhbGxvd3MgYGlgIHRvIHJlbWFpbiBhIHN0cmluZyBvbmx5IGluIHRoYXRcXG5cXHRcXHRcXHQvLyBjYXNlLCB3aGljaCB3aWxsIHJlc3VsdCBpbiBhIFxcXCIwMFxcXCIgYG1hdGNoZWRDb3VudGAgdGhhdCBkaWZmZXJzIGZyb20gYGlgIGJ1dCBpcyBhbHNvXFxuXFx0XFx0XFx0Ly8gbnVtZXJpY2FsbHkgemVyby5cXG5cXHRcXHRcXHRpZiAoIGJ5U2V0ICYmIGkgIT09IG1hdGNoZWRDb3VudCApIHtcXG5cXHRcXHRcXHRcXHRqID0gMDtcXG5cXHRcXHRcXHRcXHR3aGlsZSAoIChtYXRjaGVyID0gc2V0TWF0Y2hlcnNbaisrXSkgKSB7XFxuXFx0XFx0XFx0XFx0XFx0bWF0Y2hlciggdW5tYXRjaGVkLCBzZXRNYXRjaGVkLCBjb250ZXh0LCB4bWwgKTtcXG5cXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0aWYgKCBzZWVkICkge1xcblxcdFxcdFxcdFxcdFxcdC8vIFJlaW50ZWdyYXRlIGVsZW1lbnQgbWF0Y2hlcyB0byBlbGltaW5hdGUgdGhlIG5lZWQgZm9yIHNvcnRpbmdcXG5cXHRcXHRcXHRcXHRcXHRpZiAoIG1hdGNoZWRDb3VudCA+IDAgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0d2hpbGUgKCBpLS0gKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0aWYgKCAhKHVubWF0Y2hlZFtpXSB8fCBzZXRNYXRjaGVkW2ldKSApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRzZXRNYXRjaGVkW2ldID0gcG9wLmNhbGwoIHJlc3VsdHMgKTtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRcXHQvLyBEaXNjYXJkIGluZGV4IHBsYWNlaG9sZGVyIHZhbHVlcyB0byBnZXQgb25seSBhY3R1YWwgbWF0Y2hlc1xcblxcdFxcdFxcdFxcdFxcdHNldE1hdGNoZWQgPSBjb25kZW5zZSggc2V0TWF0Y2hlZCApO1xcblxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHQvLyBBZGQgbWF0Y2hlcyB0byByZXN1bHRzXFxuXFx0XFx0XFx0XFx0cHVzaC5hcHBseSggcmVzdWx0cywgc2V0TWF0Y2hlZCApO1xcblxcblxcdFxcdFxcdFxcdC8vIFNlZWRsZXNzIHNldCBtYXRjaGVzIHN1Y2NlZWRpbmcgbXVsdGlwbGUgc3VjY2Vzc2Z1bCBtYXRjaGVycyBzdGlwdWxhdGUgc29ydGluZ1xcblxcdFxcdFxcdFxcdGlmICggb3V0ZXJtb3N0ICYmICFzZWVkICYmIHNldE1hdGNoZWQubGVuZ3RoID4gMCAmJlxcblxcdFxcdFxcdFxcdFxcdCggbWF0Y2hlZENvdW50ICsgc2V0TWF0Y2hlcnMubGVuZ3RoICkgPiAxICkge1xcblxcblxcdFxcdFxcdFxcdFxcdFNpenpsZS51bmlxdWVTb3J0KCByZXN1bHRzICk7XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHQvLyBPdmVycmlkZSBtYW5pcHVsYXRpb24gb2YgZ2xvYmFscyBieSBuZXN0ZWQgbWF0Y2hlcnNcXG5cXHRcXHRcXHRpZiAoIG91dGVybW9zdCApIHtcXG5cXHRcXHRcXHRcXHRkaXJydW5zID0gZGlycnVuc1VuaXF1ZTtcXG5cXHRcXHRcXHRcXHRvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dEJhY2t1cDtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0cmV0dXJuIHVubWF0Y2hlZDtcXG5cXHRcXHR9O1xcblxcblxcdHJldHVybiBieVNldCA/XFxuXFx0XFx0bWFya0Z1bmN0aW9uKCBzdXBlck1hdGNoZXIgKSA6XFxuXFx0XFx0c3VwZXJNYXRjaGVyO1xcbn1cXG5cXG5jb21waWxlID0gU2l6emxlLmNvbXBpbGUgPSBmdW5jdGlvbiggc2VsZWN0b3IsIG1hdGNoIC8qIEludGVybmFsIFVzZSBPbmx5ICovICkge1xcblxcdHZhciBpLFxcblxcdFxcdHNldE1hdGNoZXJzID0gW10sXFxuXFx0XFx0ZWxlbWVudE1hdGNoZXJzID0gW10sXFxuXFx0XFx0Y2FjaGVkID0gY29tcGlsZXJDYWNoZVsgc2VsZWN0b3IgKyBcXFwiIFxcXCIgXTtcXG5cXG5cXHRpZiAoICFjYWNoZWQgKSB7XFxuXFx0XFx0Ly8gR2VuZXJhdGUgYSBmdW5jdGlvbiBvZiByZWN1cnNpdmUgZnVuY3Rpb25zIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2hlY2sgZWFjaCBlbGVtZW50XFxuXFx0XFx0aWYgKCAhbWF0Y2ggKSB7XFxuXFx0XFx0XFx0bWF0Y2ggPSB0b2tlbml6ZSggc2VsZWN0b3IgKTtcXG5cXHRcXHR9XFxuXFx0XFx0aSA9IG1hdGNoLmxlbmd0aDtcXG5cXHRcXHR3aGlsZSAoIGktLSApIHtcXG5cXHRcXHRcXHRjYWNoZWQgPSBtYXRjaGVyRnJvbVRva2VucyggbWF0Y2hbaV0gKTtcXG5cXHRcXHRcXHRpZiAoIGNhY2hlZFsgZXhwYW5kbyBdICkge1xcblxcdFxcdFxcdFxcdHNldE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xcblxcdFxcdFxcdH0gZWxzZSB7XFxuXFx0XFx0XFx0XFx0ZWxlbWVudE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xcblxcdFxcdFxcdH1cXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gQ2FjaGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uXFxuXFx0XFx0Y2FjaGVkID0gY29tcGlsZXJDYWNoZSggc2VsZWN0b3IsIG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyggZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycyApICk7XFxuXFxuXFx0XFx0Ly8gU2F2ZSBzZWxlY3RvciBhbmQgdG9rZW5pemF0aW9uXFxuXFx0XFx0Y2FjaGVkLnNlbGVjdG9yID0gc2VsZWN0b3I7XFxuXFx0fVxcblxcdHJldHVybiBjYWNoZWQ7XFxufTtcXG5cXG4vKipcXG4gKiBBIGxvdy1sZXZlbCBzZWxlY3Rpb24gZnVuY3Rpb24gdGhhdCB3b3JrcyB3aXRoIFNpenpsZSdzIGNvbXBpbGVkXFxuICogIHNlbGVjdG9yIGZ1bmN0aW9uc1xcbiAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBzZWxlY3RvciBBIHNlbGVjdG9yIG9yIGEgcHJlLWNvbXBpbGVkXFxuICogIHNlbGVjdG9yIGZ1bmN0aW9uIGJ1aWx0IHdpdGggU2l6emxlLmNvbXBpbGVcXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGNvbnRleHRcXG4gKiBAcGFyYW0ge0FycmF5fSBbcmVzdWx0c11cXG4gKiBAcGFyYW0ge0FycmF5fSBbc2VlZF0gQSBzZXQgb2YgZWxlbWVudHMgdG8gbWF0Y2ggYWdhaW5zdFxcbiAqL1xcbnNlbGVjdCA9IFNpenpsZS5zZWxlY3QgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKSB7XFxuXFx0dmFyIGksIHRva2VucywgdG9rZW4sIHR5cGUsIGZpbmQsXFxuXFx0XFx0Y29tcGlsZWQgPSB0eXBlb2Ygc2VsZWN0b3IgPT09IFxcXCJmdW5jdGlvblxcXCIgJiYgc2VsZWN0b3IsXFxuXFx0XFx0bWF0Y2ggPSAhc2VlZCAmJiB0b2tlbml6ZSggKHNlbGVjdG9yID0gY29tcGlsZWQuc2VsZWN0b3IgfHwgc2VsZWN0b3IpICk7XFxuXFxuXFx0cmVzdWx0cyA9IHJlc3VsdHMgfHwgW107XFxuXFxuXFx0Ly8gVHJ5IHRvIG1pbmltaXplIG9wZXJhdGlvbnMgaWYgdGhlcmUgaXMgb25seSBvbmUgc2VsZWN0b3IgaW4gdGhlIGxpc3QgYW5kIG5vIHNlZWRcXG5cXHQvLyAodGhlIGxhdHRlciBvZiB3aGljaCBndWFyYW50ZWVzIHVzIGNvbnRleHQpXFxuXFx0aWYgKCBtYXRjaC5sZW5ndGggPT09IDEgKSB7XFxuXFxuXFx0XFx0Ly8gUmVkdWNlIGNvbnRleHQgaWYgdGhlIGxlYWRpbmcgY29tcG91bmQgc2VsZWN0b3IgaXMgYW4gSURcXG5cXHRcXHR0b2tlbnMgPSBtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwICk7XFxuXFx0XFx0aWYgKCB0b2tlbnMubGVuZ3RoID4gMiAmJiAodG9rZW4gPSB0b2tlbnNbMF0pLnR5cGUgPT09IFxcXCJJRFxcXCIgJiZcXG5cXHRcXHRcXHRcXHRjb250ZXh0Lm5vZGVUeXBlID09PSA5ICYmIGRvY3VtZW50SXNIVE1MICYmIEV4cHIucmVsYXRpdmVbIHRva2Vuc1sxXS50eXBlIF0gKSB7XFxuXFxuXFx0XFx0XFx0Y29udGV4dCA9ICggRXhwci5maW5kW1xcXCJJRFxcXCJdKCB0b2tlbi5tYXRjaGVzWzBdLnJlcGxhY2UocnVuZXNjYXBlLCBmdW5lc2NhcGUpLCBjb250ZXh0ICkgfHwgW10gKVswXTtcXG5cXHRcXHRcXHRpZiAoICFjb250ZXh0ICkge1xcblxcdFxcdFxcdFxcdHJldHVybiByZXN1bHRzO1xcblxcblxcdFxcdFxcdC8vIFByZWNvbXBpbGVkIG1hdGNoZXJzIHdpbGwgc3RpbGwgdmVyaWZ5IGFuY2VzdHJ5LCBzbyBzdGVwIHVwIGEgbGV2ZWxcXG5cXHRcXHRcXHR9IGVsc2UgaWYgKCBjb21waWxlZCApIHtcXG5cXHRcXHRcXHRcXHRjb250ZXh0ID0gY29udGV4dC5wYXJlbnROb2RlO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRzZWxlY3RvciA9IHNlbGVjdG9yLnNsaWNlKCB0b2tlbnMuc2hpZnQoKS52YWx1ZS5sZW5ndGggKTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gRmV0Y2ggYSBzZWVkIHNldCBmb3IgcmlnaHQtdG8tbGVmdCBtYXRjaGluZ1xcblxcdFxcdGkgPSBtYXRjaEV4cHJbXFxcIm5lZWRzQ29udGV4dFxcXCJdLnRlc3QoIHNlbGVjdG9yICkgPyAwIDogdG9rZW5zLmxlbmd0aDtcXG5cXHRcXHR3aGlsZSAoIGktLSApIHtcXG5cXHRcXHRcXHR0b2tlbiA9IHRva2Vuc1tpXTtcXG5cXG5cXHRcXHRcXHQvLyBBYm9ydCBpZiB3ZSBoaXQgYSBjb21iaW5hdG9yXFxuXFx0XFx0XFx0aWYgKCBFeHByLnJlbGF0aXZlWyAodHlwZSA9IHRva2VuLnR5cGUpIF0gKSB7XFxuXFx0XFx0XFx0XFx0YnJlYWs7XFxuXFx0XFx0XFx0fVxcblxcdFxcdFxcdGlmICggKGZpbmQgPSBFeHByLmZpbmRbIHR5cGUgXSkgKSB7XFxuXFx0XFx0XFx0XFx0Ly8gU2VhcmNoLCBleHBhbmRpbmcgY29udGV4dCBmb3IgbGVhZGluZyBzaWJsaW5nIGNvbWJpbmF0b3JzXFxuXFx0XFx0XFx0XFx0aWYgKCAoc2VlZCA9IGZpbmQoXFxuXFx0XFx0XFx0XFx0XFx0dG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLFxcblxcdFxcdFxcdFxcdFxcdHJzaWJsaW5nLnRlc3QoIHRva2Vuc1swXS50eXBlICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8IGNvbnRleHRcXG5cXHRcXHRcXHRcXHQpKSApIHtcXG5cXG5cXHRcXHRcXHRcXHRcXHQvLyBJZiBzZWVkIGlzIGVtcHR5IG9yIG5vIHRva2VucyByZW1haW4sIHdlIGNhbiByZXR1cm4gZWFybHlcXG5cXHRcXHRcXHRcXHRcXHR0b2tlbnMuc3BsaWNlKCBpLCAxICk7XFxuXFx0XFx0XFx0XFx0XFx0c2VsZWN0b3IgPSBzZWVkLmxlbmd0aCAmJiB0b1NlbGVjdG9yKCB0b2tlbnMgKTtcXG5cXHRcXHRcXHRcXHRcXHRpZiAoICFzZWxlY3RvciApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRwdXNoLmFwcGx5KCByZXN1bHRzLCBzZWVkICk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0cmV0dXJuIHJlc3VsdHM7XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdFxcdFxcdGJyZWFrO1xcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcdH1cXG5cXG5cXHQvLyBDb21waWxlIGFuZCBleGVjdXRlIGEgZmlsdGVyaW5nIGZ1bmN0aW9uIGlmIG9uZSBpcyBub3QgcHJvdmlkZWRcXG5cXHQvLyBQcm92aWRlIGBtYXRjaGAgdG8gYXZvaWQgcmV0b2tlbml6YXRpb24gaWYgd2UgbW9kaWZpZWQgdGhlIHNlbGVjdG9yIGFib3ZlXFxuXFx0KCBjb21waWxlZCB8fCBjb21waWxlKCBzZWxlY3RvciwgbWF0Y2ggKSApKFxcblxcdFxcdHNlZWQsXFxuXFx0XFx0Y29udGV4dCxcXG5cXHRcXHQhZG9jdW1lbnRJc0hUTUwsXFxuXFx0XFx0cmVzdWx0cyxcXG5cXHRcXHQhY29udGV4dCB8fCByc2libGluZy50ZXN0KCBzZWxlY3RvciApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0XFxuXFx0KTtcXG5cXHRyZXR1cm4gcmVzdWx0cztcXG59O1xcblxcbi8vIE9uZS10aW1lIGFzc2lnbm1lbnRzXFxuXFxuLy8gU29ydCBzdGFiaWxpdHlcXG5zdXBwb3J0LnNvcnRTdGFibGUgPSBleHBhbmRvLnNwbGl0KFxcXCJcXFwiKS5zb3J0KCBzb3J0T3JkZXIgKS5qb2luKFxcXCJcXFwiKSA9PT0gZXhwYW5kbztcXG5cXG4vLyBTdXBwb3J0OiBDaHJvbWUgMTQtMzUrXFxuLy8gQWx3YXlzIGFzc3VtZSBkdXBsaWNhdGVzIGlmIHRoZXkgYXJlbid0IHBhc3NlZCB0byB0aGUgY29tcGFyaXNvbiBmdW5jdGlvblxcbnN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcyA9ICEhaGFzRHVwbGljYXRlO1xcblxcbi8vIEluaXRpYWxpemUgYWdhaW5zdCB0aGUgZGVmYXVsdCBkb2N1bWVudFxcbnNldERvY3VtZW50KCk7XFxuXFxuLy8gU3VwcG9ydDogV2Via2l0PDUzNy4zMiAtIFNhZmFyaSA2LjAuMy9DaHJvbWUgMjUgKGZpeGVkIGluIENocm9tZSAyNylcXG4vLyBEZXRhY2hlZCBub2RlcyBjb25mb3VuZGluZ2x5IGZvbGxvdyAqZWFjaCBvdGhlcipcXG5zdXBwb3J0LnNvcnREZXRhY2hlZCA9IGFzc2VydChmdW5jdGlvbiggZWwgKSB7XFxuXFx0Ly8gU2hvdWxkIHJldHVybiAxLCBidXQgcmV0dXJucyA0IChmb2xsb3dpbmcpXFxuXFx0cmV0dXJuIGVsLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFxcXCJmaWVsZHNldFxcXCIpICkgJiAxO1xcbn0pO1xcblxcbi8vIFN1cHBvcnQ6IElFPDhcXG4vLyBQcmV2ZW50IGF0dHJpYnV0ZS9wcm9wZXJ0eSBcXFwiaW50ZXJwb2xhdGlvblxcXCJcXG4vLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L21zNTM2NDI5JTI4VlMuODUlMjkuYXNweFxcbmlmICggIWFzc2VydChmdW5jdGlvbiggZWwgKSB7XFxuXFx0ZWwuaW5uZXJIVE1MID0gXFxcIjxhIGhyZWY9JyMnPjwvYT5cXFwiO1xcblxcdHJldHVybiBlbC5maXJzdENoaWxkLmdldEF0dHJpYnV0ZShcXFwiaHJlZlxcXCIpID09PSBcXFwiI1xcXCIgO1xcbn0pICkge1xcblxcdGFkZEhhbmRsZSggXFxcInR5cGV8aHJlZnxoZWlnaHR8d2lkdGhcXFwiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XFxuXFx0XFx0aWYgKCAhaXNYTUwgKSB7XFxuXFx0XFx0XFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lLnRvTG93ZXJDYXNlKCkgPT09IFxcXCJ0eXBlXFxcIiA/IDEgOiAyICk7XFxuXFx0XFx0fVxcblxcdH0pO1xcbn1cXG5cXG4vLyBTdXBwb3J0OiBJRTw5XFxuLy8gVXNlIGRlZmF1bHRWYWx1ZSBpbiBwbGFjZSBvZiBnZXRBdHRyaWJ1dGUoXFxcInZhbHVlXFxcIilcXG5pZiAoICFzdXBwb3J0LmF0dHJpYnV0ZXMgfHwgIWFzc2VydChmdW5jdGlvbiggZWwgKSB7XFxuXFx0ZWwuaW5uZXJIVE1MID0gXFxcIjxpbnB1dC8+XFxcIjtcXG5cXHRlbC5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSggXFxcInZhbHVlXFxcIiwgXFxcIlxcXCIgKTtcXG5cXHRyZXR1cm4gZWwuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoIFxcXCJ2YWx1ZVxcXCIgKSA9PT0gXFxcIlxcXCI7XFxufSkgKSB7XFxuXFx0YWRkSGFuZGxlKCBcXFwidmFsdWVcXFwiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XFxuXFx0XFx0aWYgKCAhaXNYTUwgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcXFwiaW5wdXRcXFwiICkge1xcblxcdFxcdFxcdHJldHVybiBlbGVtLmRlZmF1bHRWYWx1ZTtcXG5cXHRcXHR9XFxuXFx0fSk7XFxufVxcblxcbi8vIFN1cHBvcnQ6IElFPDlcXG4vLyBVc2UgZ2V0QXR0cmlidXRlTm9kZSB0byBmZXRjaCBib29sZWFucyB3aGVuIGdldEF0dHJpYnV0ZSBsaWVzXFxuaWYgKCAhYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcXG5cXHRyZXR1cm4gZWwuZ2V0QXR0cmlidXRlKFxcXCJkaXNhYmxlZFxcXCIpID09IG51bGw7XFxufSkgKSB7XFxuXFx0YWRkSGFuZGxlKCBib29sZWFucywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xcblxcdFxcdHZhciB2YWw7XFxuXFx0XFx0aWYgKCAhaXNYTUwgKSB7XFxuXFx0XFx0XFx0cmV0dXJuIGVsZW1bIG5hbWUgXSA9PT0gdHJ1ZSA/IG5hbWUudG9Mb3dlckNhc2UoKSA6XFxuXFx0XFx0XFx0XFx0XFx0KHZhbCA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZSggbmFtZSApKSAmJiB2YWwuc3BlY2lmaWVkID9cXG5cXHRcXHRcXHRcXHRcXHR2YWwudmFsdWUgOlxcblxcdFxcdFxcdFxcdG51bGw7XFxuXFx0XFx0fVxcblxcdH0pO1xcbn1cXG5cXG5yZXR1cm4gU2l6emxlO1xcblxcbn0pKCB3aW5kb3cgKTtcXG5cXG5cXG5cXG5qUXVlcnkuZmluZCA9IFNpenpsZTtcXG5qUXVlcnkuZXhwciA9IFNpenpsZS5zZWxlY3RvcnM7XFxuXFxuLy8gRGVwcmVjYXRlZFxcbmpRdWVyeS5leHByWyBcXFwiOlxcXCIgXSA9IGpRdWVyeS5leHByLnBzZXVkb3M7XFxualF1ZXJ5LnVuaXF1ZVNvcnQgPSBqUXVlcnkudW5pcXVlID0gU2l6emxlLnVuaXF1ZVNvcnQ7XFxualF1ZXJ5LnRleHQgPSBTaXp6bGUuZ2V0VGV4dDtcXG5qUXVlcnkuaXNYTUxEb2MgPSBTaXp6bGUuaXNYTUw7XFxualF1ZXJ5LmNvbnRhaW5zID0gU2l6emxlLmNvbnRhaW5zO1xcbmpRdWVyeS5lc2NhcGVTZWxlY3RvciA9IFNpenpsZS5lc2NhcGU7XFxuXFxuXFxuXFxuXFxudmFyIGRpciA9IGZ1bmN0aW9uKCBlbGVtLCBkaXIsIHVudGlsICkge1xcblxcdHZhciBtYXRjaGVkID0gW10sXFxuXFx0XFx0dHJ1bmNhdGUgPSB1bnRpbCAhPT0gdW5kZWZpbmVkO1xcblxcblxcdHdoaWxlICggKCBlbGVtID0gZWxlbVsgZGlyIF0gKSAmJiBlbGVtLm5vZGVUeXBlICE9PSA5ICkge1xcblxcdFxcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcXG5cXHRcXHRcXHRpZiAoIHRydW5jYXRlICYmIGpRdWVyeSggZWxlbSApLmlzKCB1bnRpbCApICkge1xcblxcdFxcdFxcdFxcdGJyZWFrO1xcblxcdFxcdFxcdH1cXG5cXHRcXHRcXHRtYXRjaGVkLnB1c2goIGVsZW0gKTtcXG5cXHRcXHR9XFxuXFx0fVxcblxcdHJldHVybiBtYXRjaGVkO1xcbn07XFxuXFxuXFxudmFyIHNpYmxpbmdzID0gZnVuY3Rpb24oIG4sIGVsZW0gKSB7XFxuXFx0dmFyIG1hdGNoZWQgPSBbXTtcXG5cXG5cXHRmb3IgKCA7IG47IG4gPSBuLm5leHRTaWJsaW5nICkge1xcblxcdFxcdGlmICggbi5ub2RlVHlwZSA9PT0gMSAmJiBuICE9PSBlbGVtICkge1xcblxcdFxcdFxcdG1hdGNoZWQucHVzaCggbiApO1xcblxcdFxcdH1cXG5cXHR9XFxuXFxuXFx0cmV0dXJuIG1hdGNoZWQ7XFxufTtcXG5cXG5cXG52YXIgcm5lZWRzQ29udGV4dCA9IGpRdWVyeS5leHByLm1hdGNoLm5lZWRzQ29udGV4dDtcXG5cXG52YXIgcnNpbmdsZVRhZyA9ICggL148KFthLXpdW15cXFxcL1xcXFwwPjpcXFxceDIwXFxcXHRcXFxcclxcXFxuXFxcXGZdKilbXFxcXHgyMFxcXFx0XFxcXHJcXFxcblxcXFxmXSpcXFxcLz8+KD86PFxcXFwvXFxcXDE+fCkkL2kgKTtcXG5cXG5cXG5cXG52YXIgcmlzU2ltcGxlID0gL14uW146I1xcXFxbXFxcXC4sXSokLztcXG5cXG4vLyBJbXBsZW1lbnQgdGhlIGlkZW50aWNhbCBmdW5jdGlvbmFsaXR5IGZvciBmaWx0ZXIgYW5kIG5vdFxcbmZ1bmN0aW9uIHdpbm5vdyggZWxlbWVudHMsIHF1YWxpZmllciwgbm90ICkge1xcblxcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHF1YWxpZmllciApICkge1xcblxcdFxcdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtLCBpICkge1xcblxcdFxcdFxcdHJldHVybiAhIXF1YWxpZmllci5jYWxsKCBlbGVtLCBpLCBlbGVtICkgIT09IG5vdDtcXG5cXHRcXHR9ICk7XFxuXFx0fVxcblxcblxcdC8vIFNpbmdsZSBlbGVtZW50XFxuXFx0aWYgKCBxdWFsaWZpZXIubm9kZVR5cGUgKSB7XFxuXFx0XFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XFxuXFx0XFx0XFx0cmV0dXJuICggZWxlbSA9PT0gcXVhbGlmaWVyICkgIT09IG5vdDtcXG5cXHRcXHR9ICk7XFxuXFx0fVxcblxcblxcdC8vIEFycmF5bGlrZSBvZiBlbGVtZW50cyAoalF1ZXJ5LCBhcmd1bWVudHMsIEFycmF5KVxcblxcdGlmICggdHlwZW9mIHF1YWxpZmllciAhPT0gXFxcInN0cmluZ1xcXCIgKSB7XFxuXFx0XFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XFxuXFx0XFx0XFx0cmV0dXJuICggaW5kZXhPZi5jYWxsKCBxdWFsaWZpZXIsIGVsZW0gKSA+IC0xICkgIT09IG5vdDtcXG5cXHRcXHR9ICk7XFxuXFx0fVxcblxcblxcdC8vIFNpbXBsZSBzZWxlY3RvciB0aGF0IGNhbiBiZSBmaWx0ZXJlZCBkaXJlY3RseSwgcmVtb3Zpbmcgbm9uLUVsZW1lbnRzXFxuXFx0aWYgKCByaXNTaW1wbGUudGVzdCggcXVhbGlmaWVyICkgKSB7XFxuXFx0XFx0cmV0dXJuIGpRdWVyeS5maWx0ZXIoIHF1YWxpZmllciwgZWxlbWVudHMsIG5vdCApO1xcblxcdH1cXG5cXG5cXHQvLyBDb21wbGV4IHNlbGVjdG9yLCBjb21wYXJlIHRoZSB0d28gc2V0cywgcmVtb3Zpbmcgbm9uLUVsZW1lbnRzXFxuXFx0cXVhbGlmaWVyID0galF1ZXJ5LmZpbHRlciggcXVhbGlmaWVyLCBlbGVtZW50cyApO1xcblxcdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xcblxcdFxcdHJldHVybiAoIGluZGV4T2YuY2FsbCggcXVhbGlmaWVyLCBlbGVtICkgPiAtMSApICE9PSBub3QgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMTtcXG5cXHR9ICk7XFxufVxcblxcbmpRdWVyeS5maWx0ZXIgPSBmdW5jdGlvbiggZXhwciwgZWxlbXMsIG5vdCApIHtcXG5cXHR2YXIgZWxlbSA9IGVsZW1zWyAwIF07XFxuXFxuXFx0aWYgKCBub3QgKSB7XFxuXFx0XFx0ZXhwciA9IFxcXCI6bm90KFxcXCIgKyBleHByICsgXFxcIilcXFwiO1xcblxcdH1cXG5cXG5cXHRpZiAoIGVsZW1zLmxlbmd0aCA9PT0gMSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xcblxcdFxcdHJldHVybiBqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGVsZW0sIGV4cHIgKSA/IFsgZWxlbSBdIDogW107XFxuXFx0fVxcblxcblxcdHJldHVybiBqUXVlcnkuZmluZC5tYXRjaGVzKCBleHByLCBqUXVlcnkuZ3JlcCggZWxlbXMsIGZ1bmN0aW9uKCBlbGVtICkge1xcblxcdFxcdHJldHVybiBlbGVtLm5vZGVUeXBlID09PSAxO1xcblxcdH0gKSApO1xcbn07XFxuXFxualF1ZXJ5LmZuLmV4dGVuZCgge1xcblxcdGZpbmQ6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcXG5cXHRcXHR2YXIgaSwgcmV0LFxcblxcdFxcdFxcdGxlbiA9IHRoaXMubGVuZ3RoLFxcblxcdFxcdFxcdHNlbGYgPSB0aGlzO1xcblxcblxcdFxcdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcXFwic3RyaW5nXFxcIiApIHtcXG5cXHRcXHRcXHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeSggc2VsZWN0b3IgKS5maWx0ZXIoIGZ1bmN0aW9uKCkge1xcblxcdFxcdFxcdFxcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XFxuXFx0XFx0XFx0XFx0XFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHNlbGZbIGkgXSwgdGhpcyApICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdHJldHVybiB0cnVlO1xcblxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fSApICk7XFxuXFx0XFx0fVxcblxcblxcdFxcdHJldCA9IHRoaXMucHVzaFN0YWNrKCBbXSApO1xcblxcblxcdFxcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XFxuXFx0XFx0XFx0alF1ZXJ5LmZpbmQoIHNlbGVjdG9yLCBzZWxmWyBpIF0sIHJldCApO1xcblxcdFxcdH1cXG5cXG5cXHRcXHRyZXR1cm4gbGVuID4gMSA/IGpRdWVyeS51bmlxdWVTb3J0KCByZXQgKSA6IHJldDtcXG5cXHR9LFxcblxcdGZpbHRlcjogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xcblxcdFxcdHJldHVybiB0aGlzLnB1c2hTdGFjayggd2lubm93KCB0aGlzLCBzZWxlY3RvciB8fCBbXSwgZmFsc2UgKSApO1xcblxcdH0sXFxuXFx0bm90OiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XFxuXFx0XFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCB3aW5ub3coIHRoaXMsIHNlbGVjdG9yIHx8IFtdLCB0cnVlICkgKTtcXG5cXHR9LFxcblxcdGlzOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XFxuXFx0XFx0cmV0dXJuICEhd2lubm93KFxcblxcdFxcdFxcdHRoaXMsXFxuXFxuXFx0XFx0XFx0Ly8gSWYgdGhpcyBpcyBhIHBvc2l0aW9uYWwvcmVsYXRpdmUgc2VsZWN0b3IsIGNoZWNrIG1lbWJlcnNoaXAgaW4gdGhlIHJldHVybmVkIHNldFxcblxcdFxcdFxcdC8vIHNvICQoXFxcInA6Zmlyc3RcXFwiKS5pcyhcXFwicDpsYXN0XFxcIikgd29uJ3QgcmV0dXJuIHRydWUgZm9yIGEgZG9jIHdpdGggdHdvIFxcXCJwXFxcIi5cXG5cXHRcXHRcXHR0eXBlb2Ygc2VsZWN0b3IgPT09IFxcXCJzdHJpbmdcXFwiICYmIHJuZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSA/XFxuXFx0XFx0XFx0XFx0alF1ZXJ5KCBzZWxlY3RvciApIDpcXG5cXHRcXHRcXHRcXHRzZWxlY3RvciB8fCBbXSxcXG5cXHRcXHRcXHRmYWxzZVxcblxcdFxcdCkubGVuZ3RoO1xcblxcdH1cXG59ICk7XFxuXFxuXFxuLy8gSW5pdGlhbGl6ZSBhIGpRdWVyeSBvYmplY3RcXG5cXG5cXG4vLyBBIGNlbnRyYWwgcmVmZXJlbmNlIHRvIHRoZSByb290IGpRdWVyeShkb2N1bWVudClcXG52YXIgcm9vdGpRdWVyeSxcXG5cXG5cXHQvLyBBIHNpbXBsZSB3YXkgdG8gY2hlY2sgZm9yIEhUTUwgc3RyaW5nc1xcblxcdC8vIFByaW9yaXRpemUgI2lkIG92ZXIgPHRhZz4gdG8gYXZvaWQgWFNTIHZpYSBsb2NhdGlvbi5oYXNoICgjOTUyMSlcXG5cXHQvLyBTdHJpY3QgSFRNTCByZWNvZ25pdGlvbiAoIzExMjkwOiBtdXN0IHN0YXJ0IHdpdGggPClcXG5cXHQvLyBTaG9ydGN1dCBzaW1wbGUgI2lkIGNhc2UgZm9yIHNwZWVkXFxuXFx0cnF1aWNrRXhwciA9IC9eKD86XFxcXHMqKDxbXFxcXHdcXFxcV10rPilbXj5dKnwjKFtcXFxcdy1dKykpJC8sXFxuXFxuXFx0aW5pdCA9IGpRdWVyeS5mbi5pbml0ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0LCByb290ICkge1xcblxcdFxcdHZhciBtYXRjaCwgZWxlbTtcXG5cXG5cXHRcXHQvLyBIQU5ETEU6ICQoXFxcIlxcXCIpLCAkKG51bGwpLCAkKHVuZGVmaW5lZCksICQoZmFsc2UpXFxuXFx0XFx0aWYgKCAhc2VsZWN0b3IgKSB7XFxuXFx0XFx0XFx0cmV0dXJuIHRoaXM7XFxuXFx0XFx0fVxcblxcblxcdFxcdC8vIE1ldGhvZCBpbml0KCkgYWNjZXB0cyBhbiBhbHRlcm5hdGUgcm9vdGpRdWVyeVxcblxcdFxcdC8vIHNvIG1pZ3JhdGUgY2FuIHN1cHBvcnQgalF1ZXJ5LnN1YiAoZ2gtMjEwMSlcXG5cXHRcXHRyb290ID0gcm9vdCB8fCByb290alF1ZXJ5O1xcblxcblxcdFxcdC8vIEhhbmRsZSBIVE1MIHN0cmluZ3NcXG5cXHRcXHRpZiAoIHR5cGVvZiBzZWxlY3RvciA9PT0gXFxcInN0cmluZ1xcXCIgKSB7XFxuXFx0XFx0XFx0aWYgKCBzZWxlY3RvclsgMCBdID09PSBcXFwiPFxcXCIgJiZcXG5cXHRcXHRcXHRcXHRzZWxlY3Rvclsgc2VsZWN0b3IubGVuZ3RoIC0gMSBdID09PSBcXFwiPlxcXCIgJiZcXG5cXHRcXHRcXHRcXHRzZWxlY3Rvci5sZW5ndGggPj0gMyApIHtcXG5cXG5cXHRcXHRcXHRcXHQvLyBBc3N1bWUgdGhhdCBzdHJpbmdzIHRoYXQgc3RhcnQgYW5kIGVuZCB3aXRoIDw+IGFyZSBIVE1MIGFuZCBza2lwIHRoZSByZWdleCBjaGVja1xcblxcdFxcdFxcdFxcdG1hdGNoID0gWyBudWxsLCBzZWxlY3RvciwgbnVsbCBdO1xcblxcblxcdFxcdFxcdH0gZWxzZSB7XFxuXFx0XFx0XFx0XFx0bWF0Y2ggPSBycXVpY2tFeHByLmV4ZWMoIHNlbGVjdG9yICk7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdC8vIE1hdGNoIGh0bWwgb3IgbWFrZSBzdXJlIG5vIGNvbnRleHQgaXMgc3BlY2lmaWVkIGZvciAjaWRcXG5cXHRcXHRcXHRpZiAoIG1hdGNoICYmICggbWF0Y2hbIDEgXSB8fCAhY29udGV4dCApICkge1xcblxcblxcdFxcdFxcdFxcdC8vIEhBTkRMRTogJChodG1sKSAtPiAkKGFycmF5KVxcblxcdFxcdFxcdFxcdGlmICggbWF0Y2hbIDEgXSApIHtcXG5cXHRcXHRcXHRcXHRcXHRjb250ZXh0ID0gY29udGV4dCBpbnN0YW5jZW9mIGpRdWVyeSA/IGNvbnRleHRbIDAgXSA6IGNvbnRleHQ7XFxuXFxuXFx0XFx0XFx0XFx0XFx0Ly8gT3B0aW9uIHRvIHJ1biBzY3JpcHRzIGlzIHRydWUgZm9yIGJhY2stY29tcGF0XFxuXFx0XFx0XFx0XFx0XFx0Ly8gSW50ZW50aW9uYWxseSBsZXQgdGhlIGVycm9yIGJlIHRocm93biBpZiBwYXJzZUhUTUwgaXMgbm90IHByZXNlbnRcXG5cXHRcXHRcXHRcXHRcXHRqUXVlcnkubWVyZ2UoIHRoaXMsIGpRdWVyeS5wYXJzZUhUTUwoXFxuXFx0XFx0XFx0XFx0XFx0XFx0bWF0Y2hbIDEgXSxcXG5cXHRcXHRcXHRcXHRcXHRcXHRjb250ZXh0ICYmIGNvbnRleHQubm9kZVR5cGUgPyBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCA6IGRvY3VtZW50LFxcblxcdFxcdFxcdFxcdFxcdFxcdHRydWVcXG5cXHRcXHRcXHRcXHRcXHQpICk7XFxuXFxuXFx0XFx0XFx0XFx0XFx0Ly8gSEFORExFOiAkKGh0bWwsIHByb3BzKVxcblxcdFxcdFxcdFxcdFxcdGlmICggcnNpbmdsZVRhZy50ZXN0KCBtYXRjaFsgMSBdICkgJiYgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGNvbnRleHQgKSApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRmb3IgKCBtYXRjaCBpbiBjb250ZXh0ICkge1xcblxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIFByb3BlcnRpZXMgb2YgY29udGV4dCBhcmUgY2FsbGVkIGFzIG1ldGhvZHMgaWYgcG9zc2libGVcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB0aGlzWyBtYXRjaCBdICkgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0dGhpc1sgbWF0Y2ggXSggY29udGV4dFsgbWF0Y2ggXSApO1xcblxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIC4uLmFuZCBvdGhlcndpc2Ugc2V0IGFzIGF0dHJpYnV0ZXNcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdHRoaXMuYXR0ciggbWF0Y2gsIGNvbnRleHRbIG1hdGNoIF0gKTtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRcXHRyZXR1cm4gdGhpcztcXG5cXG5cXHRcXHRcXHRcXHQvLyBIQU5ETEU6ICQoI2lkKVxcblxcdFxcdFxcdFxcdH0gZWxzZSB7XFxuXFx0XFx0XFx0XFx0XFx0ZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBtYXRjaFsgMiBdICk7XFxuXFxuXFx0XFx0XFx0XFx0XFx0aWYgKCBlbGVtICkge1xcblxcblxcdFxcdFxcdFxcdFxcdFxcdC8vIEluamVjdCB0aGUgZWxlbWVudCBkaXJlY3RseSBpbnRvIHRoZSBqUXVlcnkgb2JqZWN0XFxuXFx0XFx0XFx0XFx0XFx0XFx0dGhpc1sgMCBdID0gZWxlbTtcXG5cXHRcXHRcXHRcXHRcXHRcXHR0aGlzLmxlbmd0aCA9IDE7XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdHJldHVybiB0aGlzO1xcblxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHQvLyBIQU5ETEU6ICQoZXhwciwgJCguLi4pKVxcblxcdFxcdFxcdH0gZWxzZSBpZiAoICFjb250ZXh0IHx8IGNvbnRleHQuanF1ZXJ5ICkge1xcblxcdFxcdFxcdFxcdHJldHVybiAoIGNvbnRleHQgfHwgcm9vdCApLmZpbmQoIHNlbGVjdG9yICk7XFxuXFxuXFx0XFx0XFx0Ly8gSEFORExFOiAkKGV4cHIsIGNvbnRleHQpXFxuXFx0XFx0XFx0Ly8gKHdoaWNoIGlzIGp1c3QgZXF1aXZhbGVudCB0bzogJChjb250ZXh0KS5maW5kKGV4cHIpXFxuXFx0XFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRcXHRyZXR1cm4gdGhpcy5jb25zdHJ1Y3RvciggY29udGV4dCApLmZpbmQoIHNlbGVjdG9yICk7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdC8vIEhBTkRMRTogJChET01FbGVtZW50KVxcblxcdFxcdH0gZWxzZSBpZiAoIHNlbGVjdG9yLm5vZGVUeXBlICkge1xcblxcdFxcdFxcdHRoaXNbIDAgXSA9IHNlbGVjdG9yO1xcblxcdFxcdFxcdHRoaXMubGVuZ3RoID0gMTtcXG5cXHRcXHRcXHRyZXR1cm4gdGhpcztcXG5cXG5cXHRcXHQvLyBIQU5ETEU6ICQoZnVuY3Rpb24pXFxuXFx0XFx0Ly8gU2hvcnRjdXQgZm9yIGRvY3VtZW50IHJlYWR5XFxuXFx0XFx0fSBlbHNlIGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHNlbGVjdG9yICkgKSB7XFxuXFx0XFx0XFx0cmV0dXJuIHJvb3QucmVhZHkgIT09IHVuZGVmaW5lZCA/XFxuXFx0XFx0XFx0XFx0cm9vdC5yZWFkeSggc2VsZWN0b3IgKSA6XFxuXFxuXFx0XFx0XFx0XFx0Ly8gRXhlY3V0ZSBpbW1lZGlhdGVseSBpZiByZWFkeSBpcyBub3QgcHJlc2VudFxcblxcdFxcdFxcdFxcdHNlbGVjdG9yKCBqUXVlcnkgKTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0cmV0dXJuIGpRdWVyeS5tYWtlQXJyYXkoIHNlbGVjdG9yLCB0aGlzICk7XFxuXFx0fTtcXG5cXG4vLyBHaXZlIHRoZSBpbml0IGZ1bmN0aW9uIHRoZSBqUXVlcnkgcHJvdG90eXBlIGZvciBsYXRlciBpbnN0YW50aWF0aW9uXFxuaW5pdC5wcm90b3R5cGUgPSBqUXVlcnkuZm47XFxuXFxuLy8gSW5pdGlhbGl6ZSBjZW50cmFsIHJlZmVyZW5jZVxcbnJvb3RqUXVlcnkgPSBqUXVlcnkoIGRvY3VtZW50ICk7XFxuXFxuXFxudmFyIHJwYXJlbnRzcHJldiA9IC9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLFxcblxcblxcdC8vIE1ldGhvZHMgZ3VhcmFudGVlZCB0byBwcm9kdWNlIGEgdW5pcXVlIHNldCB3aGVuIHN0YXJ0aW5nIGZyb20gYSB1bmlxdWUgc2V0XFxuXFx0Z3VhcmFudGVlZFVuaXF1ZSA9IHtcXG5cXHRcXHRjaGlsZHJlbjogdHJ1ZSxcXG5cXHRcXHRjb250ZW50czogdHJ1ZSxcXG5cXHRcXHRuZXh0OiB0cnVlLFxcblxcdFxcdHByZXY6IHRydWVcXG5cXHR9O1xcblxcbmpRdWVyeS5mbi5leHRlbmQoIHtcXG5cXHRoYXM6IGZ1bmN0aW9uKCB0YXJnZXQgKSB7XFxuXFx0XFx0dmFyIHRhcmdldHMgPSBqUXVlcnkoIHRhcmdldCwgdGhpcyApLFxcblxcdFxcdFxcdGwgPSB0YXJnZXRzLmxlbmd0aDtcXG5cXG5cXHRcXHRyZXR1cm4gdGhpcy5maWx0ZXIoIGZ1bmN0aW9uKCkge1xcblxcdFxcdFxcdHZhciBpID0gMDtcXG5cXHRcXHRcXHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XFxuXFx0XFx0XFx0XFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHRoaXMsIHRhcmdldHNbIGkgXSApICkge1xcblxcdFxcdFxcdFxcdFxcdHJldHVybiB0cnVlO1xcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0fSApO1xcblxcdH0sXFxuXFxuXFx0Y2xvc2VzdDogZnVuY3Rpb24oIHNlbGVjdG9ycywgY29udGV4dCApIHtcXG5cXHRcXHR2YXIgY3VyLFxcblxcdFxcdFxcdGkgPSAwLFxcblxcdFxcdFxcdGwgPSB0aGlzLmxlbmd0aCxcXG5cXHRcXHRcXHRtYXRjaGVkID0gW10sXFxuXFx0XFx0XFx0dGFyZ2V0cyA9IHR5cGVvZiBzZWxlY3RvcnMgIT09IFxcXCJzdHJpbmdcXFwiICYmIGpRdWVyeSggc2VsZWN0b3JzICk7XFxuXFxuXFx0XFx0Ly8gUG9zaXRpb25hbCBzZWxlY3RvcnMgbmV2ZXIgbWF0Y2gsIHNpbmNlIHRoZXJlJ3Mgbm8gX3NlbGVjdGlvbl8gY29udGV4dFxcblxcdFxcdGlmICggIXJuZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3JzICkgKSB7XFxuXFx0XFx0XFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xcblxcdFxcdFxcdFxcdGZvciAoIGN1ciA9IHRoaXNbIGkgXTsgY3VyICYmIGN1ciAhPT0gY29udGV4dDsgY3VyID0gY3VyLnBhcmVudE5vZGUgKSB7XFxuXFxuXFx0XFx0XFx0XFx0XFx0Ly8gQWx3YXlzIHNraXAgZG9jdW1lbnQgZnJhZ21lbnRzXFxuXFx0XFx0XFx0XFx0XFx0aWYgKCBjdXIubm9kZVR5cGUgPCAxMSAmJiAoIHRhcmdldHMgP1xcblxcdFxcdFxcdFxcdFxcdFxcdHRhcmdldHMuaW5kZXgoIGN1ciApID4gLTEgOlxcblxcblxcdFxcdFxcdFxcdFxcdFxcdC8vIERvbid0IHBhc3Mgbm9uLWVsZW1lbnRzIHRvIFNpenpsZVxcblxcdFxcdFxcdFxcdFxcdFxcdGN1ci5ub2RlVHlwZSA9PT0gMSAmJlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggY3VyLCBzZWxlY3RvcnMgKSApICkge1xcblxcblxcdFxcdFxcdFxcdFxcdFxcdG1hdGNoZWQucHVzaCggY3VyICk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0YnJlYWs7XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcblxcdFxcdHJldHVybiB0aGlzLnB1c2hTdGFjayggbWF0Y2hlZC5sZW5ndGggPiAxID8galF1ZXJ5LnVuaXF1ZVNvcnQoIG1hdGNoZWQgKSA6IG1hdGNoZWQgKTtcXG5cXHR9LFxcblxcblxcdC8vIERldGVybWluZSB0aGUgcG9zaXRpb24gb2YgYW4gZWxlbWVudCB3aXRoaW4gdGhlIHNldFxcblxcdGluZGV4OiBmdW5jdGlvbiggZWxlbSApIHtcXG5cXG5cXHRcXHQvLyBObyBhcmd1bWVudCwgcmV0dXJuIGluZGV4IGluIHBhcmVudFxcblxcdFxcdGlmICggIWVsZW0gKSB7XFxuXFx0XFx0XFx0cmV0dXJuICggdGhpc1sgMCBdICYmIHRoaXNbIDAgXS5wYXJlbnROb2RlICkgPyB0aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aCA6IC0xO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBJbmRleCBpbiBzZWxlY3RvclxcblxcdFxcdGlmICggdHlwZW9mIGVsZW0gPT09IFxcXCJzdHJpbmdcXFwiICkge1xcblxcdFxcdFxcdHJldHVybiBpbmRleE9mLmNhbGwoIGpRdWVyeSggZWxlbSApLCB0aGlzWyAwIF0gKTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gTG9jYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgZGVzaXJlZCBlbGVtZW50XFxuXFx0XFx0cmV0dXJuIGluZGV4T2YuY2FsbCggdGhpcyxcXG5cXG5cXHRcXHRcXHQvLyBJZiBpdCByZWNlaXZlcyBhIGpRdWVyeSBvYmplY3QsIHRoZSBmaXJzdCBlbGVtZW50IGlzIHVzZWRcXG5cXHRcXHRcXHRlbGVtLmpxdWVyeSA/IGVsZW1bIDAgXSA6IGVsZW1cXG5cXHRcXHQpO1xcblxcdH0sXFxuXFxuXFx0YWRkOiBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQgKSB7XFxuXFx0XFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKFxcblxcdFxcdFxcdGpRdWVyeS51bmlxdWVTb3J0KFxcblxcdFxcdFxcdFxcdGpRdWVyeS5tZXJnZSggdGhpcy5nZXQoKSwgalF1ZXJ5KCBzZWxlY3RvciwgY29udGV4dCApIClcXG5cXHRcXHRcXHQpXFxuXFx0XFx0KTtcXG5cXHR9LFxcblxcblxcdGFkZEJhY2s6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcXG5cXHRcXHRyZXR1cm4gdGhpcy5hZGQoIHNlbGVjdG9yID09IG51bGwgP1xcblxcdFxcdFxcdHRoaXMucHJldk9iamVjdCA6IHRoaXMucHJldk9iamVjdC5maWx0ZXIoIHNlbGVjdG9yIClcXG5cXHRcXHQpO1xcblxcdH1cXG59ICk7XFxuXFxuZnVuY3Rpb24gc2libGluZyggY3VyLCBkaXIgKSB7XFxuXFx0d2hpbGUgKCAoIGN1ciA9IGN1clsgZGlyIF0gKSAmJiBjdXIubm9kZVR5cGUgIT09IDEgKSB7fVxcblxcdHJldHVybiBjdXI7XFxufVxcblxcbmpRdWVyeS5lYWNoKCB7XFxuXFx0cGFyZW50OiBmdW5jdGlvbiggZWxlbSApIHtcXG5cXHRcXHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xcblxcdFxcdHJldHVybiBwYXJlbnQgJiYgcGFyZW50Lm5vZGVUeXBlICE9PSAxMSA/IHBhcmVudCA6IG51bGw7XFxuXFx0fSxcXG5cXHRwYXJlbnRzOiBmdW5jdGlvbiggZWxlbSApIHtcXG5cXHRcXHRyZXR1cm4gZGlyKCBlbGVtLCBcXFwicGFyZW50Tm9kZVxcXCIgKTtcXG5cXHR9LFxcblxcdHBhcmVudHNVbnRpbDogZnVuY3Rpb24oIGVsZW0sIGksIHVudGlsICkge1xcblxcdFxcdHJldHVybiBkaXIoIGVsZW0sIFxcXCJwYXJlbnROb2RlXFxcIiwgdW50aWwgKTtcXG5cXHR9LFxcblxcdG5leHQ6IGZ1bmN0aW9uKCBlbGVtICkge1xcblxcdFxcdHJldHVybiBzaWJsaW5nKCBlbGVtLCBcXFwibmV4dFNpYmxpbmdcXFwiICk7XFxuXFx0fSxcXG5cXHRwcmV2OiBmdW5jdGlvbiggZWxlbSApIHtcXG5cXHRcXHRyZXR1cm4gc2libGluZyggZWxlbSwgXFxcInByZXZpb3VzU2libGluZ1xcXCIgKTtcXG5cXHR9LFxcblxcdG5leHRBbGw6IGZ1bmN0aW9uKCBlbGVtICkge1xcblxcdFxcdHJldHVybiBkaXIoIGVsZW0sIFxcXCJuZXh0U2libGluZ1xcXCIgKTtcXG5cXHR9LFxcblxcdHByZXZBbGw6IGZ1bmN0aW9uKCBlbGVtICkge1xcblxcdFxcdHJldHVybiBkaXIoIGVsZW0sIFxcXCJwcmV2aW91c1NpYmxpbmdcXFwiICk7XFxuXFx0fSxcXG5cXHRuZXh0VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcXG5cXHRcXHRyZXR1cm4gZGlyKCBlbGVtLCBcXFwibmV4dFNpYmxpbmdcXFwiLCB1bnRpbCApO1xcblxcdH0sXFxuXFx0cHJldlVudGlsOiBmdW5jdGlvbiggZWxlbSwgaSwgdW50aWwgKSB7XFxuXFx0XFx0cmV0dXJuIGRpciggZWxlbSwgXFxcInByZXZpb3VzU2libGluZ1xcXCIsIHVudGlsICk7XFxuXFx0fSxcXG5cXHRzaWJsaW5nczogZnVuY3Rpb24oIGVsZW0gKSB7XFxuXFx0XFx0cmV0dXJuIHNpYmxpbmdzKCAoIGVsZW0ucGFyZW50Tm9kZSB8fCB7fSApLmZpcnN0Q2hpbGQsIGVsZW0gKTtcXG5cXHR9LFxcblxcdGNoaWxkcmVuOiBmdW5jdGlvbiggZWxlbSApIHtcXG5cXHRcXHRyZXR1cm4gc2libGluZ3MoIGVsZW0uZmlyc3RDaGlsZCApO1xcblxcdH0sXFxuXFx0Y29udGVudHM6IGZ1bmN0aW9uKCBlbGVtICkge1xcblxcdFxcdHJldHVybiBlbGVtLmNvbnRlbnREb2N1bWVudCB8fCBqUXVlcnkubWVyZ2UoIFtdLCBlbGVtLmNoaWxkTm9kZXMgKTtcXG5cXHR9XFxufSwgZnVuY3Rpb24oIG5hbWUsIGZuICkge1xcblxcdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHVudGlsLCBzZWxlY3RvciApIHtcXG5cXHRcXHR2YXIgbWF0Y2hlZCA9IGpRdWVyeS5tYXAoIHRoaXMsIGZuLCB1bnRpbCApO1xcblxcblxcdFxcdGlmICggbmFtZS5zbGljZSggLTUgKSAhPT0gXFxcIlVudGlsXFxcIiApIHtcXG5cXHRcXHRcXHRzZWxlY3RvciA9IHVudGlsO1xcblxcdFxcdH1cXG5cXG5cXHRcXHRpZiAoIHNlbGVjdG9yICYmIHR5cGVvZiBzZWxlY3RvciA9PT0gXFxcInN0cmluZ1xcXCIgKSB7XFxuXFx0XFx0XFx0bWF0Y2hlZCA9IGpRdWVyeS5maWx0ZXIoIHNlbGVjdG9yLCBtYXRjaGVkICk7XFxuXFx0XFx0fVxcblxcblxcdFxcdGlmICggdGhpcy5sZW5ndGggPiAxICkge1xcblxcblxcdFxcdFxcdC8vIFJlbW92ZSBkdXBsaWNhdGVzXFxuXFx0XFx0XFx0aWYgKCAhZ3VhcmFudGVlZFVuaXF1ZVsgbmFtZSBdICkge1xcblxcdFxcdFxcdFxcdGpRdWVyeS51bmlxdWVTb3J0KCBtYXRjaGVkICk7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdC8vIFJldmVyc2Ugb3JkZXIgZm9yIHBhcmVudHMqIGFuZCBwcmV2LWRlcml2YXRpdmVzXFxuXFx0XFx0XFx0aWYgKCBycGFyZW50c3ByZXYudGVzdCggbmFtZSApICkge1xcblxcdFxcdFxcdFxcdG1hdGNoZWQucmV2ZXJzZSgpO1xcblxcdFxcdFxcdH1cXG5cXHRcXHR9XFxuXFxuXFx0XFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkICk7XFxuXFx0fTtcXG59ICk7XFxudmFyIHJub3RodG1sd2hpdGUgPSAoIC9bXlxcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl0rL2cgKTtcXG5cXG5cXG5cXG4vLyBDb252ZXJ0IFN0cmluZy1mb3JtYXR0ZWQgb3B0aW9ucyBpbnRvIE9iamVjdC1mb3JtYXR0ZWQgb25lc1xcbmZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnMoIG9wdGlvbnMgKSB7XFxuXFx0dmFyIG9iamVjdCA9IHt9O1xcblxcdGpRdWVyeS5lYWNoKCBvcHRpb25zLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW10sIGZ1bmN0aW9uKCBfLCBmbGFnICkge1xcblxcdFxcdG9iamVjdFsgZmxhZyBdID0gdHJ1ZTtcXG5cXHR9ICk7XFxuXFx0cmV0dXJuIG9iamVjdDtcXG59XFxuXFxuLypcXG4gKiBDcmVhdGUgYSBjYWxsYmFjayBsaXN0IHVzaW5nIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVyczpcXG4gKlxcbiAqXFx0b3B0aW9uczogYW4gb3B0aW9uYWwgbGlzdCBvZiBzcGFjZS1zZXBhcmF0ZWQgb3B0aW9ucyB0aGF0IHdpbGwgY2hhbmdlIGhvd1xcbiAqXFx0XFx0XFx0dGhlIGNhbGxiYWNrIGxpc3QgYmVoYXZlcyBvciBhIG1vcmUgdHJhZGl0aW9uYWwgb3B0aW9uIG9iamVjdFxcbiAqXFxuICogQnkgZGVmYXVsdCBhIGNhbGxiYWNrIGxpc3Qgd2lsbCBhY3QgbGlrZSBhbiBldmVudCBjYWxsYmFjayBsaXN0IGFuZCBjYW4gYmVcXG4gKiBcXFwiZmlyZWRcXFwiIG11bHRpcGxlIHRpbWVzLlxcbiAqXFxuICogUG9zc2libGUgb3B0aW9uczpcXG4gKlxcbiAqXFx0b25jZTpcXHRcXHRcXHR3aWxsIGVuc3VyZSB0aGUgY2FsbGJhY2sgbGlzdCBjYW4gb25seSBiZSBmaXJlZCBvbmNlIChsaWtlIGEgRGVmZXJyZWQpXFxuICpcXG4gKlxcdG1lbW9yeTpcXHRcXHRcXHR3aWxsIGtlZXAgdHJhY2sgb2YgcHJldmlvdXMgdmFsdWVzIGFuZCB3aWxsIGNhbGwgYW55IGNhbGxiYWNrIGFkZGVkXFxuICpcXHRcXHRcXHRcXHRcXHRhZnRlciB0aGUgbGlzdCBoYXMgYmVlbiBmaXJlZCByaWdodCBhd2F5IHdpdGggdGhlIGxhdGVzdCBcXFwibWVtb3JpemVkXFxcIlxcbiAqXFx0XFx0XFx0XFx0XFx0dmFsdWVzIChsaWtlIGEgRGVmZXJyZWQpXFxuICpcXG4gKlxcdHVuaXF1ZTpcXHRcXHRcXHR3aWxsIGVuc3VyZSBhIGNhbGxiYWNrIGNhbiBvbmx5IGJlIGFkZGVkIG9uY2UgKG5vIGR1cGxpY2F0ZSBpbiB0aGUgbGlzdClcXG4gKlxcbiAqXFx0c3RvcE9uRmFsc2U6XFx0aW50ZXJydXB0IGNhbGxpbmdzIHdoZW4gYSBjYWxsYmFjayByZXR1cm5zIGZhbHNlXFxuICpcXG4gKi9cXG5qUXVlcnkuQ2FsbGJhY2tzID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7XFxuXFxuXFx0Ly8gQ29udmVydCBvcHRpb25zIGZyb20gU3RyaW5nLWZvcm1hdHRlZCB0byBPYmplY3QtZm9ybWF0dGVkIGlmIG5lZWRlZFxcblxcdC8vICh3ZSBjaGVjayBpbiBjYWNoZSBmaXJzdClcXG5cXHRvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgPT09IFxcXCJzdHJpbmdcXFwiID9cXG5cXHRcXHRjcmVhdGVPcHRpb25zKCBvcHRpb25zICkgOlxcblxcdFxcdGpRdWVyeS5leHRlbmQoIHt9LCBvcHRpb25zICk7XFxuXFxuXFx0dmFyIC8vIEZsYWcgdG8ga25vdyBpZiBsaXN0IGlzIGN1cnJlbnRseSBmaXJpbmdcXG5cXHRcXHRmaXJpbmcsXFxuXFxuXFx0XFx0Ly8gTGFzdCBmaXJlIHZhbHVlIGZvciBub24tZm9yZ2V0dGFibGUgbGlzdHNcXG5cXHRcXHRtZW1vcnksXFxuXFxuXFx0XFx0Ly8gRmxhZyB0byBrbm93IGlmIGxpc3Qgd2FzIGFscmVhZHkgZmlyZWRcXG5cXHRcXHRmaXJlZCxcXG5cXG5cXHRcXHQvLyBGbGFnIHRvIHByZXZlbnQgZmlyaW5nXFxuXFx0XFx0bG9ja2VkLFxcblxcblxcdFxcdC8vIEFjdHVhbCBjYWxsYmFjayBsaXN0XFxuXFx0XFx0bGlzdCA9IFtdLFxcblxcblxcdFxcdC8vIFF1ZXVlIG9mIGV4ZWN1dGlvbiBkYXRhIGZvciByZXBlYXRhYmxlIGxpc3RzXFxuXFx0XFx0cXVldWUgPSBbXSxcXG5cXG5cXHRcXHQvLyBJbmRleCBvZiBjdXJyZW50bHkgZmlyaW5nIGNhbGxiYWNrIChtb2RpZmllZCBieSBhZGQvcmVtb3ZlIGFzIG5lZWRlZClcXG5cXHRcXHRmaXJpbmdJbmRleCA9IC0xLFxcblxcblxcdFxcdC8vIEZpcmUgY2FsbGJhY2tzXFxuXFx0XFx0ZmlyZSA9IGZ1bmN0aW9uKCkge1xcblxcblxcdFxcdFxcdC8vIEVuZm9yY2Ugc2luZ2xlLWZpcmluZ1xcblxcdFxcdFxcdGxvY2tlZCA9IG9wdGlvbnMub25jZTtcXG5cXG5cXHRcXHRcXHQvLyBFeGVjdXRlIGNhbGxiYWNrcyBmb3IgYWxsIHBlbmRpbmcgZXhlY3V0aW9ucyxcXG5cXHRcXHRcXHQvLyByZXNwZWN0aW5nIGZpcmluZ0luZGV4IG92ZXJyaWRlcyBhbmQgcnVudGltZSBjaGFuZ2VzXFxuXFx0XFx0XFx0ZmlyZWQgPSBmaXJpbmcgPSB0cnVlO1xcblxcdFxcdFxcdGZvciAoIDsgcXVldWUubGVuZ3RoOyBmaXJpbmdJbmRleCA9IC0xICkge1xcblxcdFxcdFxcdFxcdG1lbW9yeSA9IHF1ZXVlLnNoaWZ0KCk7XFxuXFx0XFx0XFx0XFx0d2hpbGUgKCArK2ZpcmluZ0luZGV4IDwgbGlzdC5sZW5ndGggKSB7XFxuXFxuXFx0XFx0XFx0XFx0XFx0Ly8gUnVuIGNhbGxiYWNrIGFuZCBjaGVjayBmb3IgZWFybHkgdGVybWluYXRpb25cXG5cXHRcXHRcXHRcXHRcXHRpZiAoIGxpc3RbIGZpcmluZ0luZGV4IF0uYXBwbHkoIG1lbW9yeVsgMCBdLCBtZW1vcnlbIDEgXSApID09PSBmYWxzZSAmJlxcblxcdFxcdFxcdFxcdFxcdFxcdG9wdGlvbnMuc3RvcE9uRmFsc2UgKSB7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0Ly8gSnVtcCB0byBlbmQgYW5kIGZvcmdldCB0aGUgZGF0YSBzbyAuYWRkIGRvZXNuJ3QgcmUtZmlyZVxcblxcdFxcdFxcdFxcdFxcdFxcdGZpcmluZ0luZGV4ID0gbGlzdC5sZW5ndGg7XFxuXFx0XFx0XFx0XFx0XFx0XFx0bWVtb3J5ID0gZmFsc2U7XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0Ly8gRm9yZ2V0IHRoZSBkYXRhIGlmIHdlJ3JlIGRvbmUgd2l0aCBpdFxcblxcdFxcdFxcdGlmICggIW9wdGlvbnMubWVtb3J5ICkge1xcblxcdFxcdFxcdFxcdG1lbW9yeSA9IGZhbHNlO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRmaXJpbmcgPSBmYWxzZTtcXG5cXG5cXHRcXHRcXHQvLyBDbGVhbiB1cCBpZiB3ZSdyZSBkb25lIGZpcmluZyBmb3IgZ29vZFxcblxcdFxcdFxcdGlmICggbG9ja2VkICkge1xcblxcblxcdFxcdFxcdFxcdC8vIEtlZXAgYW4gZW1wdHkgbGlzdCBpZiB3ZSBoYXZlIGRhdGEgZm9yIGZ1dHVyZSBhZGQgY2FsbHNcXG5cXHRcXHRcXHRcXHRpZiAoIG1lbW9yeSApIHtcXG5cXHRcXHRcXHRcXHRcXHRsaXN0ID0gW107XFxuXFxuXFx0XFx0XFx0XFx0Ly8gT3RoZXJ3aXNlLCB0aGlzIG9iamVjdCBpcyBzcGVudFxcblxcdFxcdFxcdFxcdH0gZWxzZSB7XFxuXFx0XFx0XFx0XFx0XFx0bGlzdCA9IFxcXCJcXFwiO1xcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0fSxcXG5cXG5cXHRcXHQvLyBBY3R1YWwgQ2FsbGJhY2tzIG9iamVjdFxcblxcdFxcdHNlbGYgPSB7XFxuXFxuXFx0XFx0XFx0Ly8gQWRkIGEgY2FsbGJhY2sgb3IgYSBjb2xsZWN0aW9uIG9mIGNhbGxiYWNrcyB0byB0aGUgbGlzdFxcblxcdFxcdFxcdGFkZDogZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0XFx0aWYgKCBsaXN0ICkge1xcblxcblxcdFxcdFxcdFxcdFxcdC8vIElmIHdlIGhhdmUgbWVtb3J5IGZyb20gYSBwYXN0IHJ1biwgd2Ugc2hvdWxkIGZpcmUgYWZ0ZXIgYWRkaW5nXFxuXFx0XFx0XFx0XFx0XFx0aWYgKCBtZW1vcnkgJiYgIWZpcmluZyApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRmaXJpbmdJbmRleCA9IGxpc3QubGVuZ3RoIC0gMTtcXG5cXHRcXHRcXHRcXHRcXHRcXHRxdWV1ZS5wdXNoKCBtZW1vcnkgKTtcXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0XFx0KCBmdW5jdGlvbiBhZGQoIGFyZ3MgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0alF1ZXJ5LmVhY2goIGFyZ3MsIGZ1bmN0aW9uKCBfLCBhcmcgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggYXJnICkgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0aWYgKCAhb3B0aW9ucy51bmlxdWUgfHwgIXNlbGYuaGFzKCBhcmcgKSApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRsaXN0LnB1c2goIGFyZyApO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHR9IGVsc2UgaWYgKCBhcmcgJiYgYXJnLmxlbmd0aCAmJiBqUXVlcnkudHlwZSggYXJnICkgIT09IFxcXCJzdHJpbmdcXFwiICkge1xcblxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIEluc3BlY3QgcmVjdXJzaXZlbHlcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRhZGQoIGFyZyApO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHRcXHR9ICk7XFxuXFx0XFx0XFx0XFx0XFx0fSApKCBhcmd1bWVudHMgKTtcXG5cXG5cXHRcXHRcXHRcXHRcXHRpZiAoIG1lbW9yeSAmJiAhZmlyaW5nICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdGZpcmUoKTtcXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdHJldHVybiB0aGlzO1xcblxcdFxcdFxcdH0sXFxuXFxuXFx0XFx0XFx0Ly8gUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgbGlzdFxcblxcdFxcdFxcdHJlbW92ZTogZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0XFx0alF1ZXJ5LmVhY2goIGFyZ3VtZW50cywgZnVuY3Rpb24oIF8sIGFyZyApIHtcXG5cXHRcXHRcXHRcXHRcXHR2YXIgaW5kZXg7XFxuXFx0XFx0XFx0XFx0XFx0d2hpbGUgKCAoIGluZGV4ID0galF1ZXJ5LmluQXJyYXkoIGFyZywgbGlzdCwgaW5kZXggKSApID4gLTEgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0bGlzdC5zcGxpY2UoIGluZGV4LCAxICk7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0Ly8gSGFuZGxlIGZpcmluZyBpbmRleGVzXFxuXFx0XFx0XFx0XFx0XFx0XFx0aWYgKCBpbmRleCA8PSBmaXJpbmdJbmRleCApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRmaXJpbmdJbmRleC0tO1xcblxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0fSApO1xcblxcdFxcdFxcdFxcdHJldHVybiB0aGlzO1xcblxcdFxcdFxcdH0sXFxuXFxuXFx0XFx0XFx0Ly8gQ2hlY2sgaWYgYSBnaXZlbiBjYWxsYmFjayBpcyBpbiB0aGUgbGlzdC5cXG5cXHRcXHRcXHQvLyBJZiBubyBhcmd1bWVudCBpcyBnaXZlbiwgcmV0dXJuIHdoZXRoZXIgb3Igbm90IGxpc3QgaGFzIGNhbGxiYWNrcyBhdHRhY2hlZC5cXG5cXHRcXHRcXHRoYXM6IGZ1bmN0aW9uKCBmbiApIHtcXG5cXHRcXHRcXHRcXHRyZXR1cm4gZm4gP1xcblxcdFxcdFxcdFxcdFxcdGpRdWVyeS5pbkFycmF5KCBmbiwgbGlzdCApID4gLTEgOlxcblxcdFxcdFxcdFxcdFxcdGxpc3QubGVuZ3RoID4gMDtcXG5cXHRcXHRcXHR9LFxcblxcblxcdFxcdFxcdC8vIFJlbW92ZSBhbGwgY2FsbGJhY2tzIGZyb20gdGhlIGxpc3RcXG5cXHRcXHRcXHRlbXB0eTogZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0XFx0aWYgKCBsaXN0ICkge1xcblxcdFxcdFxcdFxcdFxcdGxpc3QgPSBbXTtcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0cmV0dXJuIHRoaXM7XFxuXFx0XFx0XFx0fSxcXG5cXG5cXHRcXHRcXHQvLyBEaXNhYmxlIC5maXJlIGFuZCAuYWRkXFxuXFx0XFx0XFx0Ly8gQWJvcnQgYW55IGN1cnJlbnQvcGVuZGluZyBleGVjdXRpb25zXFxuXFx0XFx0XFx0Ly8gQ2xlYXIgYWxsIGNhbGxiYWNrcyBhbmQgdmFsdWVzXFxuXFx0XFx0XFx0ZGlzYWJsZTogZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0XFx0bG9ja2VkID0gcXVldWUgPSBbXTtcXG5cXHRcXHRcXHRcXHRsaXN0ID0gbWVtb3J5ID0gXFxcIlxcXCI7XFxuXFx0XFx0XFx0XFx0cmV0dXJuIHRoaXM7XFxuXFx0XFx0XFx0fSxcXG5cXHRcXHRcXHRkaXNhYmxlZDogZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0XFx0cmV0dXJuICFsaXN0O1xcblxcdFxcdFxcdH0sXFxuXFxuXFx0XFx0XFx0Ly8gRGlzYWJsZSAuZmlyZVxcblxcdFxcdFxcdC8vIEFsc28gZGlzYWJsZSAuYWRkIHVubGVzcyB3ZSBoYXZlIG1lbW9yeSAoc2luY2UgaXQgd291bGQgaGF2ZSBubyBlZmZlY3QpXFxuXFx0XFx0XFx0Ly8gQWJvcnQgYW55IHBlbmRpbmcgZXhlY3V0aW9uc1xcblxcdFxcdFxcdGxvY2s6IGZ1bmN0aW9uKCkge1xcblxcdFxcdFxcdFxcdGxvY2tlZCA9IHF1ZXVlID0gW107XFxuXFx0XFx0XFx0XFx0aWYgKCAhbWVtb3J5ICYmICFmaXJpbmcgKSB7XFxuXFx0XFx0XFx0XFx0XFx0bGlzdCA9IG1lbW9yeSA9IFxcXCJcXFwiO1xcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRyZXR1cm4gdGhpcztcXG5cXHRcXHRcXHR9LFxcblxcdFxcdFxcdGxvY2tlZDogZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0XFx0cmV0dXJuICEhbG9ja2VkO1xcblxcdFxcdFxcdH0sXFxuXFxuXFx0XFx0XFx0Ly8gQ2FsbCBhbGwgY2FsbGJhY2tzIHdpdGggdGhlIGdpdmVuIGNvbnRleHQgYW5kIGFyZ3VtZW50c1xcblxcdFxcdFxcdGZpcmVXaXRoOiBmdW5jdGlvbiggY29udGV4dCwgYXJncyApIHtcXG5cXHRcXHRcXHRcXHRpZiAoICFsb2NrZWQgKSB7XFxuXFx0XFx0XFx0XFx0XFx0YXJncyA9IGFyZ3MgfHwgW107XFxuXFx0XFx0XFx0XFx0XFx0YXJncyA9IFsgY29udGV4dCwgYXJncy5zbGljZSA/IGFyZ3Muc2xpY2UoKSA6IGFyZ3MgXTtcXG5cXHRcXHRcXHRcXHRcXHRxdWV1ZS5wdXNoKCBhcmdzICk7XFxuXFx0XFx0XFx0XFx0XFx0aWYgKCAhZmlyaW5nICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdGZpcmUoKTtcXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdHJldHVybiB0aGlzO1xcblxcdFxcdFxcdH0sXFxuXFxuXFx0XFx0XFx0Ly8gQ2FsbCBhbGwgdGhlIGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudHNcXG5cXHRcXHRcXHRmaXJlOiBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHRcXHRzZWxmLmZpcmVXaXRoKCB0aGlzLCBhcmd1bWVudHMgKTtcXG5cXHRcXHRcXHRcXHRyZXR1cm4gdGhpcztcXG5cXHRcXHRcXHR9LFxcblxcblxcdFxcdFxcdC8vIFRvIGtub3cgaWYgdGhlIGNhbGxiYWNrcyBoYXZlIGFscmVhZHkgYmVlbiBjYWxsZWQgYXQgbGVhc3Qgb25jZVxcblxcdFxcdFxcdGZpcmVkOiBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHRcXHRyZXR1cm4gISFmaXJlZDtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fTtcXG5cXG5cXHRyZXR1cm4gc2VsZjtcXG59O1xcblxcblxcbmZ1bmN0aW9uIElkZW50aXR5KCB2ICkge1xcblxcdHJldHVybiB2O1xcbn1cXG5mdW5jdGlvbiBUaHJvd2VyKCBleCApIHtcXG5cXHR0aHJvdyBleDtcXG59XFxuXFxuZnVuY3Rpb24gYWRvcHRWYWx1ZSggdmFsdWUsIHJlc29sdmUsIHJlamVjdCApIHtcXG5cXHR2YXIgbWV0aG9kO1xcblxcblxcdHRyeSB7XFxuXFxuXFx0XFx0Ly8gQ2hlY2sgZm9yIHByb21pc2UgYXNwZWN0IGZpcnN0IHRvIHByaXZpbGVnZSBzeW5jaHJvbm91cyBiZWhhdmlvclxcblxcdFxcdGlmICggdmFsdWUgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oICggbWV0aG9kID0gdmFsdWUucHJvbWlzZSApICkgKSB7XFxuXFx0XFx0XFx0bWV0aG9kLmNhbGwoIHZhbHVlICkuZG9uZSggcmVzb2x2ZSApLmZhaWwoIHJlamVjdCApO1xcblxcblxcdFxcdC8vIE90aGVyIHRoZW5hYmxlc1xcblxcdFxcdH0gZWxzZSBpZiAoIHZhbHVlICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCAoIG1ldGhvZCA9IHZhbHVlLnRoZW4gKSApICkge1xcblxcdFxcdFxcdG1ldGhvZC5jYWxsKCB2YWx1ZSwgcmVzb2x2ZSwgcmVqZWN0ICk7XFxuXFxuXFx0XFx0Ly8gT3RoZXIgbm9uLXRoZW5hYmxlc1xcblxcdFxcdH0gZWxzZSB7XFxuXFxuXFx0XFx0XFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgb25seVxcblxcdFxcdFxcdC8vIFN0cmljdCBtb2RlIGZ1bmN0aW9ucyBpbnZva2VkIHdpdGhvdXQgLmNhbGwvLmFwcGx5IGdldCBnbG9iYWwtb2JqZWN0IGNvbnRleHRcXG5cXHRcXHRcXHRyZXNvbHZlLmNhbGwoIHVuZGVmaW5lZCwgdmFsdWUgKTtcXG5cXHRcXHR9XFxuXFxuXFx0Ly8gRm9yIFByb21pc2VzL0ErLCBjb252ZXJ0IGV4Y2VwdGlvbnMgaW50byByZWplY3Rpb25zXFxuXFx0Ly8gU2luY2UgalF1ZXJ5LndoZW4gZG9lc24ndCB1bndyYXAgdGhlbmFibGVzLCB3ZSBjYW4gc2tpcCB0aGUgZXh0cmEgY2hlY2tzIGFwcGVhcmluZyBpblxcblxcdC8vIERlZmVycmVkI3RoZW4gdG8gY29uZGl0aW9uYWxseSBzdXBwcmVzcyByZWplY3Rpb24uXFxuXFx0fSBjYXRjaCAoIHZhbHVlICkge1xcblxcblxcdFxcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgNC4wIG9ubHlcXG5cXHRcXHQvLyBTdHJpY3QgbW9kZSBmdW5jdGlvbnMgaW52b2tlZCB3aXRob3V0IC5jYWxsLy5hcHBseSBnZXQgZ2xvYmFsLW9iamVjdCBjb250ZXh0XFxuXFx0XFx0cmVqZWN0LmNhbGwoIHVuZGVmaW5lZCwgdmFsdWUgKTtcXG5cXHR9XFxufVxcblxcbmpRdWVyeS5leHRlbmQoIHtcXG5cXG5cXHREZWZlcnJlZDogZnVuY3Rpb24oIGZ1bmMgKSB7XFxuXFx0XFx0dmFyIHR1cGxlcyA9IFtcXG5cXG5cXHRcXHRcXHRcXHQvLyBhY3Rpb24sIGFkZCBsaXN0ZW5lciwgY2FsbGJhY2tzLFxcblxcdFxcdFxcdFxcdC8vIC4uLiAudGhlbiBoYW5kbGVycywgYXJndW1lbnQgaW5kZXgsIFtmaW5hbCBzdGF0ZV1cXG5cXHRcXHRcXHRcXHRbIFxcXCJub3RpZnlcXFwiLCBcXFwicHJvZ3Jlc3NcXFwiLCBqUXVlcnkuQ2FsbGJhY2tzKCBcXFwibWVtb3J5XFxcIiApLFxcblxcdFxcdFxcdFxcdFxcdGpRdWVyeS5DYWxsYmFja3MoIFxcXCJtZW1vcnlcXFwiICksIDIgXSxcXG5cXHRcXHRcXHRcXHRbIFxcXCJyZXNvbHZlXFxcIiwgXFxcImRvbmVcXFwiLCBqUXVlcnkuQ2FsbGJhY2tzKCBcXFwib25jZSBtZW1vcnlcXFwiICksXFxuXFx0XFx0XFx0XFx0XFx0alF1ZXJ5LkNhbGxiYWNrcyggXFxcIm9uY2UgbWVtb3J5XFxcIiApLCAwLCBcXFwicmVzb2x2ZWRcXFwiIF0sXFxuXFx0XFx0XFx0XFx0WyBcXFwicmVqZWN0XFxcIiwgXFxcImZhaWxcXFwiLCBqUXVlcnkuQ2FsbGJhY2tzKCBcXFwib25jZSBtZW1vcnlcXFwiICksXFxuXFx0XFx0XFx0XFx0XFx0alF1ZXJ5LkNhbGxiYWNrcyggXFxcIm9uY2UgbWVtb3J5XFxcIiApLCAxLCBcXFwicmVqZWN0ZWRcXFwiIF1cXG5cXHRcXHRcXHRdLFxcblxcdFxcdFxcdHN0YXRlID0gXFxcInBlbmRpbmdcXFwiLFxcblxcdFxcdFxcdHByb21pc2UgPSB7XFxuXFx0XFx0XFx0XFx0c3RhdGU6IGZ1bmN0aW9uKCkge1xcblxcdFxcdFxcdFxcdFxcdHJldHVybiBzdGF0ZTtcXG5cXHRcXHRcXHRcXHR9LFxcblxcdFxcdFxcdFxcdGFsd2F5czogZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0XFx0XFx0ZGVmZXJyZWQuZG9uZSggYXJndW1lbnRzICkuZmFpbCggYXJndW1lbnRzICk7XFxuXFx0XFx0XFx0XFx0XFx0cmV0dXJuIHRoaXM7XFxuXFx0XFx0XFx0XFx0fSxcXG5cXHRcXHRcXHRcXHRcXFwiY2F0Y2hcXFwiOiBmdW5jdGlvbiggZm4gKSB7XFxuXFx0XFx0XFx0XFx0XFx0cmV0dXJuIHByb21pc2UudGhlbiggbnVsbCwgZm4gKTtcXG5cXHRcXHRcXHRcXHR9LFxcblxcblxcdFxcdFxcdFxcdC8vIEtlZXAgcGlwZSBmb3IgYmFjay1jb21wYXRcXG5cXHRcXHRcXHRcXHRwaXBlOiBmdW5jdGlvbiggLyogZm5Eb25lLCBmbkZhaWwsIGZuUHJvZ3Jlc3MgKi8gKSB7XFxuXFx0XFx0XFx0XFx0XFx0dmFyIGZucyA9IGFyZ3VtZW50cztcXG5cXG5cXHRcXHRcXHRcXHRcXHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCBmdW5jdGlvbiggbmV3RGVmZXIgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0alF1ZXJ5LmVhY2goIHR1cGxlcywgZnVuY3Rpb24oIGksIHR1cGxlICkge1xcblxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIE1hcCB0dXBsZXMgKHByb2dyZXNzLCBkb25lLCBmYWlsKSB0byBhcmd1bWVudHMgKGRvbmUsIGZhaWwsIHByb2dyZXNzKVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdHZhciBmbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCBmbnNbIHR1cGxlWyA0IF0gXSApICYmIGZuc1sgdHVwbGVbIDQgXSBdO1xcblxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIGRlZmVycmVkLnByb2dyZXNzKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLm5vdGlmeSB9KVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIGRlZmVycmVkLmRvbmUoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIucmVzb2x2ZSB9KVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIGRlZmVycmVkLmZhaWwoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIucmVqZWN0IH0pXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0ZGVmZXJyZWRbIHR1cGxlWyAxIF0gXSggZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0dmFyIHJldHVybmVkID0gZm4gJiYgZm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdGlmICggcmV0dXJuZWQgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIHJldHVybmVkLnByb21pc2UgKSApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRyZXR1cm5lZC5wcm9taXNlKClcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQucHJvZ3Jlc3MoIG5ld0RlZmVyLm5vdGlmeSApXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0LmRvbmUoIG5ld0RlZmVyLnJlc29sdmUgKVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdC5mYWlsKCBuZXdEZWZlci5yZWplY3QgKTtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdG5ld0RlZmVyWyB0dXBsZVsgMCBdICsgXFxcIldpdGhcXFwiIF0oXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0dGhpcyxcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRmbiA/IFsgcmV0dXJuZWQgXSA6IGFyZ3VtZW50c1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdCk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdH0gKTtcXG5cXHRcXHRcXHRcXHRcXHRcXHR9ICk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0Zm5zID0gbnVsbDtcXG5cXHRcXHRcXHRcXHRcXHR9ICkucHJvbWlzZSgpO1xcblxcdFxcdFxcdFxcdH0sXFxuXFx0XFx0XFx0XFx0dGhlbjogZnVuY3Rpb24oIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBvblByb2dyZXNzICkge1xcblxcdFxcdFxcdFxcdFxcdHZhciBtYXhEZXB0aCA9IDA7XFxuXFx0XFx0XFx0XFx0XFx0ZnVuY3Rpb24gcmVzb2x2ZSggZGVwdGgsIGRlZmVycmVkLCBoYW5kbGVyLCBzcGVjaWFsICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdHJldHVybiBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHR2YXIgdGhhdCA9IHRoaXMsXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0YXJncyA9IGFyZ3VtZW50cyxcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRtaWdodFRocm93ID0gZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0dmFyIHJldHVybmVkLCB0aGVuO1xcblxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb24gMi4zLjMuMy4zXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTlcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBJZ25vcmUgZG91YmxlLXJlc29sdXRpb24gYXR0ZW1wdHNcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRpZiAoIGRlcHRoIDwgbWF4RGVwdGggKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0cmV0dXJuO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRyZXR1cm5lZCA9IGhhbmRsZXIuYXBwbHkoIHRoYXQsIGFyZ3MgKTtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4xXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNDhcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRpZiAoIHJldHVybmVkID09PSBkZWZlcnJlZC5wcm9taXNlKCkgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0dGhyb3cgbmV3IFR5cGVFcnJvciggXFxcIlRoZW5hYmxlIHNlbGYtcmVzb2x1dGlvblxcXCIgKTtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbnMgMi4zLjMuMSwgMy41XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTRcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC03NVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIFJldHJpZXZlIGB0aGVuYCBvbmx5IG9uY2VcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR0aGVuID0gcmV0dXJuZWQgJiZcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy40XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNjRcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBPbmx5IGNoZWNrIG9iamVjdHMgYW5kIGZ1bmN0aW9ucyBmb3IgdGhlbmFiaWxpdHlcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQoIHR5cGVvZiByZXR1cm5lZCA9PT0gXFxcIm9iamVjdFxcXCIgfHxcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR0eXBlb2YgcmV0dXJuZWQgPT09IFxcXCJmdW5jdGlvblxcXCIgKSAmJlxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdHJldHVybmVkLnRoZW47XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0Ly8gSGFuZGxlIGEgcmV0dXJuZWQgdGhlbmFibGVcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB0aGVuICkgKSB7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0Ly8gU3BlY2lhbCBwcm9jZXNzb3JzIChub3RpZnkpIGp1c3Qgd2FpdCBmb3IgcmVzb2x1dGlvblxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdGlmICggc3BlY2lhbCApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR0aGVuLmNhbGwoXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0cmV0dXJuZWQsXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSwgc3BlY2lhbCApLFxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgVGhyb3dlciwgc3BlY2lhbCApXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0KTtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBOb3JtYWwgcHJvY2Vzc29ycyAocmVzb2x2ZSkgYWxzbyBob29rIGludG8gcHJvZ3Jlc3NcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR9IGVsc2Uge1xcblxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIC4uLmFuZCBkaXNyZWdhcmQgb2xkZXIgcmVzb2x1dGlvbiB2YWx1ZXNcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRtYXhEZXB0aCsrO1xcblxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdHRoZW4uY2FsbChcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRyZXR1cm5lZCxcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LCBzcGVjaWFsICksXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBUaHJvd2VyLCBzcGVjaWFsICksXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSxcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRkZWZlcnJlZC5ub3RpZnlXaXRoIClcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQpO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBIYW5kbGUgYWxsIG90aGVyIHJldHVybmVkIHZhbHVlc1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdH0gZWxzZSB7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0Ly8gT25seSBzdWJzdGl0dXRlIGhhbmRsZXJzIHBhc3Mgb24gY29udGV4dFxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIGFuZCBtdWx0aXBsZSB2YWx1ZXMgKG5vbi1zcGVjIGJlaGF2aW9yKVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdGlmICggaGFuZGxlciAhPT0gSWRlbnRpdHkgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0dGhhdCA9IHVuZGVmaW5lZDtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRhcmdzID0gWyByZXR1cm5lZCBdO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBQcm9jZXNzIHRoZSB2YWx1ZShzKVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIERlZmF1bHQgcHJvY2VzcyBpcyByZXNvbHZlXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0KCBzcGVjaWFsIHx8IGRlZmVycmVkLnJlc29sdmVXaXRoICkoIHRoYXQsIGFyZ3MgKTtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0fSxcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBPbmx5IG5vcm1hbCBwcm9jZXNzb3JzIChyZXNvbHZlKSBjYXRjaCBhbmQgcmVqZWN0IGV4Y2VwdGlvbnNcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRwcm9jZXNzID0gc3BlY2lhbCA/XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0bWlnaHRUaHJvdyA6XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0ZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0dHJ5IHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRtaWdodFRocm93KCk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0fSBjYXRjaCAoIGUgKSB7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0aWYgKCBqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayggZSxcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRwcm9jZXNzLnN0YWNrVHJhY2UgKTtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMy4zLjQuMVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTYxXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0Ly8gSWdub3JlIHBvc3QtcmVzb2x1dGlvbiBleGNlcHRpb25zXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0aWYgKCBkZXB0aCArIDEgPj0gbWF4RGVwdGggKSB7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0Ly8gT25seSBzdWJzdGl0dXRlIGhhbmRsZXJzIHBhc3Mgb24gY29udGV4dFxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIGFuZCBtdWx0aXBsZSB2YWx1ZXMgKG5vbi1zcGVjIGJlaGF2aW9yKVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdGlmICggaGFuZGxlciAhPT0gVGhyb3dlciApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR0aGF0ID0gdW5kZWZpbmVkO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdGFyZ3MgPSBbIGUgXTtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggdGhhdCwgYXJncyApO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0fTtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuMVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTU3XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0Ly8gUmUtcmVzb2x2ZSBwcm9taXNlcyBpbW1lZGlhdGVseSB0byBkb2RnZSBmYWxzZSByZWplY3Rpb24gZnJvbVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIHN1YnNlcXVlbnQgZXJyb3JzXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0aWYgKCBkZXB0aCApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRwcm9jZXNzKCk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0fSBlbHNlIHtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBDYWxsIGFuIG9wdGlvbmFsIGhvb2sgdG8gcmVjb3JkIHRoZSBzdGFjaywgaW4gY2FzZSBvZiBleGNlcHRpb25cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBzaW5jZSBpdCdzIG90aGVyd2lzZSBsb3N0IHdoZW4gZXhlY3V0aW9uIGdvZXMgYXN5bmNcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRpZiAoIGpRdWVyeS5EZWZlcnJlZC5nZXRTdGFja0hvb2sgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0cHJvY2Vzcy5zdGFja1RyYWNlID0galF1ZXJ5LkRlZmVycmVkLmdldFN0YWNrSG9vaygpO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR3aW5kb3cuc2V0VGltZW91dCggcHJvY2VzcyApO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHRcXHR9O1xcblxcdFxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRcXHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCBmdW5jdGlvbiggbmV3RGVmZXIgKSB7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0Ly8gcHJvZ3Jlc3NfaGFuZGxlcnMuYWRkKCAuLi4gKVxcblxcdFxcdFxcdFxcdFxcdFxcdHR1cGxlc1sgMCBdWyAzIF0uYWRkKFxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdHJlc29sdmUoXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0MCxcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRuZXdEZWZlcixcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRqUXVlcnkuaXNGdW5jdGlvbiggb25Qcm9ncmVzcyApID9cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRvblByb2dyZXNzIDpcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRJZGVudGl0eSxcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRuZXdEZWZlci5ub3RpZnlXaXRoXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0KVxcblxcdFxcdFxcdFxcdFxcdFxcdCk7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0Ly8gZnVsZmlsbGVkX2hhbmRsZXJzLmFkZCggLi4uIClcXG5cXHRcXHRcXHRcXHRcXHRcXHR0dXBsZXNbIDEgXVsgMyBdLmFkZChcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRyZXNvbHZlKFxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdDAsXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0bmV3RGVmZXIsXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0alF1ZXJ5LmlzRnVuY3Rpb24oIG9uRnVsZmlsbGVkICkgP1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdG9uRnVsZmlsbGVkIDpcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRJZGVudGl0eVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdClcXG5cXHRcXHRcXHRcXHRcXHRcXHQpO1xcblxcblxcdFxcdFxcdFxcdFxcdFxcdC8vIHJlamVjdGVkX2hhbmRsZXJzLmFkZCggLi4uIClcXG5cXHRcXHRcXHRcXHRcXHRcXHR0dXBsZXNbIDIgXVsgMyBdLmFkZChcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRyZXNvbHZlKFxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdDAsXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0bmV3RGVmZXIsXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0alF1ZXJ5LmlzRnVuY3Rpb24oIG9uUmVqZWN0ZWQgKSA/XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0b25SZWplY3RlZCA6XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0VGhyb3dlclxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdClcXG5cXHRcXHRcXHRcXHRcXHRcXHQpO1xcblxcdFxcdFxcdFxcdFxcdH0gKS5wcm9taXNlKCk7XFxuXFx0XFx0XFx0XFx0fSxcXG5cXG5cXHRcXHRcXHRcXHQvLyBHZXQgYSBwcm9taXNlIGZvciB0aGlzIGRlZmVycmVkXFxuXFx0XFx0XFx0XFx0Ly8gSWYgb2JqIGlzIHByb3ZpZGVkLCB0aGUgcHJvbWlzZSBhc3BlY3QgaXMgYWRkZWQgdG8gdGhlIG9iamVjdFxcblxcdFxcdFxcdFxcdHByb21pc2U6IGZ1bmN0aW9uKCBvYmogKSB7XFxuXFx0XFx0XFx0XFx0XFx0cmV0dXJuIG9iaiAhPSBudWxsID8galF1ZXJ5LmV4dGVuZCggb2JqLCBwcm9taXNlICkgOiBwcm9taXNlO1xcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9LFxcblxcdFxcdFxcdGRlZmVycmVkID0ge307XFxuXFxuXFx0XFx0Ly8gQWRkIGxpc3Qtc3BlY2lmaWMgbWV0aG9kc1xcblxcdFxcdGpRdWVyeS5lYWNoKCB0dXBsZXMsIGZ1bmN0aW9uKCBpLCB0dXBsZSApIHtcXG5cXHRcXHRcXHR2YXIgbGlzdCA9IHR1cGxlWyAyIF0sXFxuXFx0XFx0XFx0XFx0c3RhdGVTdHJpbmcgPSB0dXBsZVsgNSBdO1xcblxcblxcdFxcdFxcdC8vIHByb21pc2UucHJvZ3Jlc3MgPSBsaXN0LmFkZFxcblxcdFxcdFxcdC8vIHByb21pc2UuZG9uZSA9IGxpc3QuYWRkXFxuXFx0XFx0XFx0Ly8gcHJvbWlzZS5mYWlsID0gbGlzdC5hZGRcXG5cXHRcXHRcXHRwcm9taXNlWyB0dXBsZVsgMSBdIF0gPSBsaXN0LmFkZDtcXG5cXG5cXHRcXHRcXHQvLyBIYW5kbGUgc3RhdGVcXG5cXHRcXHRcXHRpZiAoIHN0YXRlU3RyaW5nICkge1xcblxcdFxcdFxcdFxcdGxpc3QuYWRkKFxcblxcdFxcdFxcdFxcdFxcdGZ1bmN0aW9uKCkge1xcblxcblxcdFxcdFxcdFxcdFxcdFxcdC8vIHN0YXRlID0gXFxcInJlc29sdmVkXFxcIiAoaS5lLiwgZnVsZmlsbGVkKVxcblxcdFxcdFxcdFxcdFxcdFxcdC8vIHN0YXRlID0gXFxcInJlamVjdGVkXFxcIlxcblxcdFxcdFxcdFxcdFxcdFxcdHN0YXRlID0gc3RhdGVTdHJpbmc7XFxuXFx0XFx0XFx0XFx0XFx0fSxcXG5cXG5cXHRcXHRcXHRcXHRcXHQvLyByZWplY3RlZF9jYWxsYmFja3MuZGlzYWJsZVxcblxcdFxcdFxcdFxcdFxcdC8vIGZ1bGZpbGxlZF9jYWxsYmFja3MuZGlzYWJsZVxcblxcdFxcdFxcdFxcdFxcdHR1cGxlc1sgMyAtIGkgXVsgMiBdLmRpc2FibGUsXFxuXFxuXFx0XFx0XFx0XFx0XFx0Ly8gcHJvZ3Jlc3NfY2FsbGJhY2tzLmxvY2tcXG5cXHRcXHRcXHRcXHRcXHR0dXBsZXNbIDAgXVsgMiBdLmxvY2tcXG5cXHRcXHRcXHRcXHQpO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHQvLyBwcm9ncmVzc19oYW5kbGVycy5maXJlXFxuXFx0XFx0XFx0Ly8gZnVsZmlsbGVkX2hhbmRsZXJzLmZpcmVcXG5cXHRcXHRcXHQvLyByZWplY3RlZF9oYW5kbGVycy5maXJlXFxuXFx0XFx0XFx0bGlzdC5hZGQoIHR1cGxlWyAzIF0uZmlyZSApO1xcblxcblxcdFxcdFxcdC8vIGRlZmVycmVkLm5vdGlmeSA9IGZ1bmN0aW9uKCkgeyBkZWZlcnJlZC5ub3RpZnlXaXRoKC4uLikgfVxcblxcdFxcdFxcdC8vIGRlZmVycmVkLnJlc29sdmUgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQucmVzb2x2ZVdpdGgoLi4uKSB9XFxuXFx0XFx0XFx0Ly8gZGVmZXJyZWQucmVqZWN0ID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLnJlamVjdFdpdGgoLi4uKSB9XFxuXFx0XFx0XFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gXSA9IGZ1bmN0aW9uKCkge1xcblxcdFxcdFxcdFxcdGRlZmVycmVkWyB0dXBsZVsgMCBdICsgXFxcIldpdGhcXFwiIF0oIHRoaXMgPT09IGRlZmVycmVkID8gdW5kZWZpbmVkIDogdGhpcywgYXJndW1lbnRzICk7XFxuXFx0XFx0XFx0XFx0cmV0dXJuIHRoaXM7XFxuXFx0XFx0XFx0fTtcXG5cXG5cXHRcXHRcXHQvLyBkZWZlcnJlZC5ub3RpZnlXaXRoID0gbGlzdC5maXJlV2l0aFxcblxcdFxcdFxcdC8vIGRlZmVycmVkLnJlc29sdmVXaXRoID0gbGlzdC5maXJlV2l0aFxcblxcdFxcdFxcdC8vIGRlZmVycmVkLnJlamVjdFdpdGggPSBsaXN0LmZpcmVXaXRoXFxuXFx0XFx0XFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyBcXFwiV2l0aFxcXCIgXSA9IGxpc3QuZmlyZVdpdGg7XFxuXFx0XFx0fSApO1xcblxcblxcdFxcdC8vIE1ha2UgdGhlIGRlZmVycmVkIGEgcHJvbWlzZVxcblxcdFxcdHByb21pc2UucHJvbWlzZSggZGVmZXJyZWQgKTtcXG5cXG5cXHRcXHQvLyBDYWxsIGdpdmVuIGZ1bmMgaWYgYW55XFxuXFx0XFx0aWYgKCBmdW5jICkge1xcblxcdFxcdFxcdGZ1bmMuY2FsbCggZGVmZXJyZWQsIGRlZmVycmVkICk7XFxuXFx0XFx0fVxcblxcblxcdFxcdC8vIEFsbCBkb25lIVxcblxcdFxcdHJldHVybiBkZWZlcnJlZDtcXG5cXHR9LFxcblxcblxcdC8vIERlZmVycmVkIGhlbHBlclxcblxcdHdoZW46IGZ1bmN0aW9uKCBzaW5nbGVWYWx1ZSApIHtcXG5cXHRcXHR2YXJcXG5cXG5cXHRcXHRcXHQvLyBjb3VudCBvZiB1bmNvbXBsZXRlZCBzdWJvcmRpbmF0ZXNcXG5cXHRcXHRcXHRyZW1haW5pbmcgPSBhcmd1bWVudHMubGVuZ3RoLFxcblxcblxcdFxcdFxcdC8vIGNvdW50IG9mIHVucHJvY2Vzc2VkIGFyZ3VtZW50c1xcblxcdFxcdFxcdGkgPSByZW1haW5pbmcsXFxuXFxuXFx0XFx0XFx0Ly8gc3Vib3JkaW5hdGUgZnVsZmlsbG1lbnQgZGF0YVxcblxcdFxcdFxcdHJlc29sdmVDb250ZXh0cyA9IEFycmF5KCBpICksXFxuXFx0XFx0XFx0cmVzb2x2ZVZhbHVlcyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cyApLFxcblxcblxcdFxcdFxcdC8vIHRoZSBtYXN0ZXIgRGVmZXJyZWRcXG5cXHRcXHRcXHRtYXN0ZXIgPSBqUXVlcnkuRGVmZXJyZWQoKSxcXG5cXG5cXHRcXHRcXHQvLyBzdWJvcmRpbmF0ZSBjYWxsYmFjayBmYWN0b3J5XFxuXFx0XFx0XFx0dXBkYXRlRnVuYyA9IGZ1bmN0aW9uKCBpICkge1xcblxcdFxcdFxcdFxcdHJldHVybiBmdW5jdGlvbiggdmFsdWUgKSB7XFxuXFx0XFx0XFx0XFx0XFx0cmVzb2x2ZUNvbnRleHRzWyBpIF0gPSB0aGlzO1xcblxcdFxcdFxcdFxcdFxcdHJlc29sdmVWYWx1ZXNbIGkgXSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gc2xpY2UuY2FsbCggYXJndW1lbnRzICkgOiB2YWx1ZTtcXG5cXHRcXHRcXHRcXHRcXHRpZiAoICEoIC0tcmVtYWluaW5nICkgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0bWFzdGVyLnJlc29sdmVXaXRoKCByZXNvbHZlQ29udGV4dHMsIHJlc29sdmVWYWx1ZXMgKTtcXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0fTtcXG5cXHRcXHRcXHR9O1xcblxcblxcdFxcdC8vIFNpbmdsZS0gYW5kIGVtcHR5IGFyZ3VtZW50cyBhcmUgYWRvcHRlZCBsaWtlIFByb21pc2UucmVzb2x2ZVxcblxcdFxcdGlmICggcmVtYWluaW5nIDw9IDEgKSB7XFxuXFx0XFx0XFx0YWRvcHRWYWx1ZSggc2luZ2xlVmFsdWUsIG1hc3Rlci5kb25lKCB1cGRhdGVGdW5jKCBpICkgKS5yZXNvbHZlLCBtYXN0ZXIucmVqZWN0ICk7XFxuXFxuXFx0XFx0XFx0Ly8gVXNlIC50aGVuKCkgdG8gdW53cmFwIHNlY29uZGFyeSB0aGVuYWJsZXMgKGNmLiBnaC0zMDAwKVxcblxcdFxcdFxcdGlmICggbWFzdGVyLnN0YXRlKCkgPT09IFxcXCJwZW5kaW5nXFxcIiB8fFxcblxcdFxcdFxcdFxcdGpRdWVyeS5pc0Z1bmN0aW9uKCByZXNvbHZlVmFsdWVzWyBpIF0gJiYgcmVzb2x2ZVZhbHVlc1sgaSBdLnRoZW4gKSApIHtcXG5cXG5cXHRcXHRcXHRcXHRyZXR1cm4gbWFzdGVyLnRoZW4oKTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcblxcdFxcdC8vIE11bHRpcGxlIGFyZ3VtZW50cyBhcmUgYWdncmVnYXRlZCBsaWtlIFByb21pc2UuYWxsIGFycmF5IGVsZW1lbnRzXFxuXFx0XFx0d2hpbGUgKCBpLS0gKSB7XFxuXFx0XFx0XFx0YWRvcHRWYWx1ZSggcmVzb2x2ZVZhbHVlc1sgaSBdLCB1cGRhdGVGdW5jKCBpICksIG1hc3Rlci5yZWplY3QgKTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0cmV0dXJuIG1hc3Rlci5wcm9taXNlKCk7XFxuXFx0fVxcbn0gKTtcXG5cXG5cXG4vLyBUaGVzZSB1c3VhbGx5IGluZGljYXRlIGEgcHJvZ3JhbW1lciBtaXN0YWtlIGR1cmluZyBkZXZlbG9wbWVudCxcXG4vLyB3YXJuIGFib3V0IHRoZW0gQVNBUCByYXRoZXIgdGhhbiBzd2FsbG93aW5nIHRoZW0gYnkgZGVmYXVsdC5cXG52YXIgcmVycm9yTmFtZXMgPSAvXihFdmFsfEludGVybmFsfFJhbmdlfFJlZmVyZW5jZXxTeW50YXh8VHlwZXxVUkkpRXJyb3IkLztcXG5cXG5qUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayA9IGZ1bmN0aW9uKCBlcnJvciwgc3RhY2sgKSB7XFxuXFxuXFx0Ly8gU3VwcG9ydDogSUUgOCAtIDkgb25seVxcblxcdC8vIENvbnNvbGUgZXhpc3RzIHdoZW4gZGV2IHRvb2xzIGFyZSBvcGVuLCB3aGljaCBjYW4gaGFwcGVuIGF0IGFueSB0aW1lXFxuXFx0aWYgKCB3aW5kb3cuY29uc29sZSAmJiB3aW5kb3cuY29uc29sZS53YXJuICYmIGVycm9yICYmIHJlcnJvck5hbWVzLnRlc3QoIGVycm9yLm5hbWUgKSApIHtcXG5cXHRcXHR3aW5kb3cuY29uc29sZS53YXJuKCBcXFwialF1ZXJ5LkRlZmVycmVkIGV4Y2VwdGlvbjogXFxcIiArIGVycm9yLm1lc3NhZ2UsIGVycm9yLnN0YWNrLCBzdGFjayApO1xcblxcdH1cXG59O1xcblxcblxcblxcblxcbmpRdWVyeS5yZWFkeUV4Y2VwdGlvbiA9IGZ1bmN0aW9uKCBlcnJvciApIHtcXG5cXHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XFxuXFx0XFx0dGhyb3cgZXJyb3I7XFxuXFx0fSApO1xcbn07XFxuXFxuXFxuXFxuXFxuLy8gVGhlIGRlZmVycmVkIHVzZWQgb24gRE9NIHJlYWR5XFxudmFyIHJlYWR5TGlzdCA9IGpRdWVyeS5EZWZlcnJlZCgpO1xcblxcbmpRdWVyeS5mbi5yZWFkeSA9IGZ1bmN0aW9uKCBmbiApIHtcXG5cXG5cXHRyZWFkeUxpc3RcXG5cXHRcXHQudGhlbiggZm4gKVxcblxcblxcdFxcdC8vIFdyYXAgalF1ZXJ5LnJlYWR5RXhjZXB0aW9uIGluIGEgZnVuY3Rpb24gc28gdGhhdCB0aGUgbG9va3VwXFxuXFx0XFx0Ly8gaGFwcGVucyBhdCB0aGUgdGltZSBvZiBlcnJvciBoYW5kbGluZyBpbnN0ZWFkIG9mIGNhbGxiYWNrXFxuXFx0XFx0Ly8gcmVnaXN0cmF0aW9uLlxcblxcdFxcdC5jYXRjaCggZnVuY3Rpb24oIGVycm9yICkge1xcblxcdFxcdFxcdGpRdWVyeS5yZWFkeUV4Y2VwdGlvbiggZXJyb3IgKTtcXG5cXHRcXHR9ICk7XFxuXFxuXFx0cmV0dXJuIHRoaXM7XFxufTtcXG5cXG5qUXVlcnkuZXh0ZW5kKCB7XFxuXFxuXFx0Ly8gSXMgdGhlIERPTSByZWFkeSB0byBiZSB1c2VkPyBTZXQgdG8gdHJ1ZSBvbmNlIGl0IG9jY3Vycy5cXG5cXHRpc1JlYWR5OiBmYWxzZSxcXG5cXG5cXHQvLyBBIGNvdW50ZXIgdG8gdHJhY2sgaG93IG1hbnkgaXRlbXMgdG8gd2FpdCBmb3IgYmVmb3JlXFxuXFx0Ly8gdGhlIHJlYWR5IGV2ZW50IGZpcmVzLiBTZWUgIzY3ODFcXG5cXHRyZWFkeVdhaXQ6IDEsXFxuXFxuXFx0Ly8gSG9sZCAob3IgcmVsZWFzZSkgdGhlIHJlYWR5IGV2ZW50XFxuXFx0aG9sZFJlYWR5OiBmdW5jdGlvbiggaG9sZCApIHtcXG5cXHRcXHRpZiAoIGhvbGQgKSB7XFxuXFx0XFx0XFx0alF1ZXJ5LnJlYWR5V2FpdCsrO1xcblxcdFxcdH0gZWxzZSB7XFxuXFx0XFx0XFx0alF1ZXJ5LnJlYWR5KCB0cnVlICk7XFxuXFx0XFx0fVxcblxcdH0sXFxuXFxuXFx0Ly8gSGFuZGxlIHdoZW4gdGhlIERPTSBpcyByZWFkeVxcblxcdHJlYWR5OiBmdW5jdGlvbiggd2FpdCApIHtcXG5cXG5cXHRcXHQvLyBBYm9ydCBpZiB0aGVyZSBhcmUgcGVuZGluZyBob2xkcyBvciB3ZSdyZSBhbHJlYWR5IHJlYWR5XFxuXFx0XFx0aWYgKCB3YWl0ID09PSB0cnVlID8gLS1qUXVlcnkucmVhZHlXYWl0IDogalF1ZXJ5LmlzUmVhZHkgKSB7XFxuXFx0XFx0XFx0cmV0dXJuO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBSZW1lbWJlciB0aGF0IHRoZSBET00gaXMgcmVhZHlcXG5cXHRcXHRqUXVlcnkuaXNSZWFkeSA9IHRydWU7XFxuXFxuXFx0XFx0Ly8gSWYgYSBub3JtYWwgRE9NIFJlYWR5IGV2ZW50IGZpcmVkLCBkZWNyZW1lbnQsIGFuZCB3YWl0IGlmIG5lZWQgYmVcXG5cXHRcXHRpZiAoIHdhaXQgIT09IHRydWUgJiYgLS1qUXVlcnkucmVhZHlXYWl0ID4gMCApIHtcXG5cXHRcXHRcXHRyZXR1cm47XFxuXFx0XFx0fVxcblxcblxcdFxcdC8vIElmIHRoZXJlIGFyZSBmdW5jdGlvbnMgYm91bmQsIHRvIGV4ZWN1dGVcXG5cXHRcXHRyZWFkeUxpc3QucmVzb2x2ZVdpdGgoIGRvY3VtZW50LCBbIGpRdWVyeSBdICk7XFxuXFx0fVxcbn0gKTtcXG5cXG5qUXVlcnkucmVhZHkudGhlbiA9IHJlYWR5TGlzdC50aGVuO1xcblxcbi8vIFRoZSByZWFkeSBldmVudCBoYW5kbGVyIGFuZCBzZWxmIGNsZWFudXAgbWV0aG9kXFxuZnVuY3Rpb24gY29tcGxldGVkKCkge1xcblxcdGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFxcXCJET01Db250ZW50TG9hZGVkXFxcIiwgY29tcGxldGVkICk7XFxuXFx0d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIFxcXCJsb2FkXFxcIiwgY29tcGxldGVkICk7XFxuXFx0alF1ZXJ5LnJlYWR5KCk7XFxufVxcblxcbi8vIENhdGNoIGNhc2VzIHdoZXJlICQoZG9jdW1lbnQpLnJlYWR5KCkgaXMgY2FsbGVkXFxuLy8gYWZ0ZXIgdGhlIGJyb3dzZXIgZXZlbnQgaGFzIGFscmVhZHkgb2NjdXJyZWQuXFxuLy8gU3VwcG9ydDogSUUgPD05IC0gMTAgb25seVxcbi8vIE9sZGVyIElFIHNvbWV0aW1lcyBzaWduYWxzIFxcXCJpbnRlcmFjdGl2ZVxcXCIgdG9vIHNvb25cXG5pZiAoIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFxcXCJjb21wbGV0ZVxcXCIgfHxcXG5cXHQoIGRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFxcXCJsb2FkaW5nXFxcIiAmJiAhZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsICkgKSB7XFxuXFxuXFx0Ly8gSGFuZGxlIGl0IGFzeW5jaHJvbm91c2x5IHRvIGFsbG93IHNjcmlwdHMgdGhlIG9wcG9ydHVuaXR5IHRvIGRlbGF5IHJlYWR5XFxuXFx0d2luZG93LnNldFRpbWVvdXQoIGpRdWVyeS5yZWFkeSApO1xcblxcbn0gZWxzZSB7XFxuXFxuXFx0Ly8gVXNlIHRoZSBoYW5keSBldmVudCBjYWxsYmFja1xcblxcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIFxcXCJET01Db250ZW50TG9hZGVkXFxcIiwgY29tcGxldGVkICk7XFxuXFxuXFx0Ly8gQSBmYWxsYmFjayB0byB3aW5kb3cub25sb2FkLCB0aGF0IHdpbGwgYWx3YXlzIHdvcmtcXG5cXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggXFxcImxvYWRcXFwiLCBjb21wbGV0ZWQgKTtcXG59XFxuXFxuXFxuXFxuXFxuLy8gTXVsdGlmdW5jdGlvbmFsIG1ldGhvZCB0byBnZXQgYW5kIHNldCB2YWx1ZXMgb2YgYSBjb2xsZWN0aW9uXFxuLy8gVGhlIHZhbHVlL3MgY2FuIG9wdGlvbmFsbHkgYmUgZXhlY3V0ZWQgaWYgaXQncyBhIGZ1bmN0aW9uXFxudmFyIGFjY2VzcyA9IGZ1bmN0aW9uKCBlbGVtcywgZm4sIGtleSwgdmFsdWUsIGNoYWluYWJsZSwgZW1wdHlHZXQsIHJhdyApIHtcXG5cXHR2YXIgaSA9IDAsXFxuXFx0XFx0bGVuID0gZWxlbXMubGVuZ3RoLFxcblxcdFxcdGJ1bGsgPSBrZXkgPT0gbnVsbDtcXG5cXG5cXHQvLyBTZXRzIG1hbnkgdmFsdWVzXFxuXFx0aWYgKCBqUXVlcnkudHlwZSgga2V5ICkgPT09IFxcXCJvYmplY3RcXFwiICkge1xcblxcdFxcdGNoYWluYWJsZSA9IHRydWU7XFxuXFx0XFx0Zm9yICggaSBpbiBrZXkgKSB7XFxuXFx0XFx0XFx0YWNjZXNzKCBlbGVtcywgZm4sIGksIGtleVsgaSBdLCB0cnVlLCBlbXB0eUdldCwgcmF3ICk7XFxuXFx0XFx0fVxcblxcblxcdC8vIFNldHMgb25lIHZhbHVlXFxuXFx0fSBlbHNlIGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcXG5cXHRcXHRjaGFpbmFibGUgPSB0cnVlO1xcblxcblxcdFxcdGlmICggIWpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xcblxcdFxcdFxcdHJhdyA9IHRydWU7XFxuXFx0XFx0fVxcblxcblxcdFxcdGlmICggYnVsayApIHtcXG5cXG5cXHRcXHRcXHQvLyBCdWxrIG9wZXJhdGlvbnMgcnVuIGFnYWluc3QgdGhlIGVudGlyZSBzZXRcXG5cXHRcXHRcXHRpZiAoIHJhdyApIHtcXG5cXHRcXHRcXHRcXHRmbi5jYWxsKCBlbGVtcywgdmFsdWUgKTtcXG5cXHRcXHRcXHRcXHRmbiA9IG51bGw7XFxuXFxuXFx0XFx0XFx0Ly8gLi4uZXhjZXB0IHdoZW4gZXhlY3V0aW5nIGZ1bmN0aW9uIHZhbHVlc1xcblxcdFxcdFxcdH0gZWxzZSB7XFxuXFx0XFx0XFx0XFx0YnVsayA9IGZuO1xcblxcdFxcdFxcdFxcdGZuID0gZnVuY3Rpb24oIGVsZW0sIGtleSwgdmFsdWUgKSB7XFxuXFx0XFx0XFx0XFx0XFx0cmV0dXJuIGJ1bGsuY2FsbCggalF1ZXJ5KCBlbGVtICksIHZhbHVlICk7XFxuXFx0XFx0XFx0XFx0fTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcblxcdFxcdGlmICggZm4gKSB7XFxuXFx0XFx0XFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XFxuXFx0XFx0XFx0XFx0Zm4oXFxuXFx0XFx0XFx0XFx0XFx0ZWxlbXNbIGkgXSwga2V5LCByYXcgP1xcblxcdFxcdFxcdFxcdFxcdHZhbHVlIDpcXG5cXHRcXHRcXHRcXHRcXHR2YWx1ZS5jYWxsKCBlbGVtc1sgaSBdLCBpLCBmbiggZWxlbXNbIGkgXSwga2V5ICkgKVxcblxcdFxcdFxcdFxcdCk7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXHR9XFxuXFxuXFx0aWYgKCBjaGFpbmFibGUgKSB7XFxuXFx0XFx0cmV0dXJuIGVsZW1zO1xcblxcdH1cXG5cXG5cXHQvLyBHZXRzXFxuXFx0aWYgKCBidWxrICkge1xcblxcdFxcdHJldHVybiBmbi5jYWxsKCBlbGVtcyApO1xcblxcdH1cXG5cXG5cXHRyZXR1cm4gbGVuID8gZm4oIGVsZW1zWyAwIF0sIGtleSApIDogZW1wdHlHZXQ7XFxufTtcXG52YXIgYWNjZXB0RGF0YSA9IGZ1bmN0aW9uKCBvd25lciApIHtcXG5cXG5cXHQvLyBBY2NlcHRzIG9ubHk6XFxuXFx0Ly8gIC0gTm9kZVxcblxcdC8vICAgIC0gTm9kZS5FTEVNRU5UX05PREVcXG5cXHQvLyAgICAtIE5vZGUuRE9DVU1FTlRfTk9ERVxcblxcdC8vICAtIE9iamVjdFxcblxcdC8vICAgIC0gQW55XFxuXFx0cmV0dXJuIG93bmVyLm5vZGVUeXBlID09PSAxIHx8IG93bmVyLm5vZGVUeXBlID09PSA5IHx8ICEoICtvd25lci5ub2RlVHlwZSApO1xcbn07XFxuXFxuXFxuXFxuXFxuZnVuY3Rpb24gRGF0YSgpIHtcXG5cXHR0aGlzLmV4cGFuZG8gPSBqUXVlcnkuZXhwYW5kbyArIERhdGEudWlkKys7XFxufVxcblxcbkRhdGEudWlkID0gMTtcXG5cXG5EYXRhLnByb3RvdHlwZSA9IHtcXG5cXG5cXHRjYWNoZTogZnVuY3Rpb24oIG93bmVyICkge1xcblxcblxcdFxcdC8vIENoZWNrIGlmIHRoZSBvd25lciBvYmplY3QgYWxyZWFkeSBoYXMgYSBjYWNoZVxcblxcdFxcdHZhciB2YWx1ZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcXG5cXG5cXHRcXHQvLyBJZiBub3QsIGNyZWF0ZSBvbmVcXG5cXHRcXHRpZiAoICF2YWx1ZSApIHtcXG5cXHRcXHRcXHR2YWx1ZSA9IHt9O1xcblxcblxcdFxcdFxcdC8vIFdlIGNhbiBhY2NlcHQgZGF0YSBmb3Igbm9uLWVsZW1lbnQgbm9kZXMgaW4gbW9kZXJuIGJyb3dzZXJzLFxcblxcdFxcdFxcdC8vIGJ1dCB3ZSBzaG91bGQgbm90LCBzZWUgIzgzMzUuXFxuXFx0XFx0XFx0Ly8gQWx3YXlzIHJldHVybiBhbiBlbXB0eSBvYmplY3QuXFxuXFx0XFx0XFx0aWYgKCBhY2NlcHREYXRhKCBvd25lciApICkge1xcblxcblxcdFxcdFxcdFxcdC8vIElmIGl0IGlzIGEgbm9kZSB1bmxpa2VseSB0byBiZSBzdHJpbmdpZnktZWQgb3IgbG9vcGVkIG92ZXJcXG5cXHRcXHRcXHRcXHQvLyB1c2UgcGxhaW4gYXNzaWdubWVudFxcblxcdFxcdFxcdFxcdGlmICggb3duZXIubm9kZVR5cGUgKSB7XFxuXFx0XFx0XFx0XFx0XFx0b3duZXJbIHRoaXMuZXhwYW5kbyBdID0gdmFsdWU7XFxuXFxuXFx0XFx0XFx0XFx0Ly8gT3RoZXJ3aXNlIHNlY3VyZSBpdCBpbiBhIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5XFxuXFx0XFx0XFx0XFx0Ly8gY29uZmlndXJhYmxlIG11c3QgYmUgdHJ1ZSB0byBhbGxvdyB0aGUgcHJvcGVydHkgdG8gYmVcXG5cXHRcXHRcXHRcXHQvLyBkZWxldGVkIHdoZW4gZGF0YSBpcyByZW1vdmVkXFxuXFx0XFx0XFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRcXHRcXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIG93bmVyLCB0aGlzLmV4cGFuZG8sIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHR2YWx1ZTogdmFsdWUsXFxuXFx0XFx0XFx0XFx0XFx0XFx0Y29uZmlndXJhYmxlOiB0cnVlXFxuXFx0XFx0XFx0XFx0XFx0fSApO1xcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcblxcdFxcdHJldHVybiB2YWx1ZTtcXG5cXHR9LFxcblxcdHNldDogZnVuY3Rpb24oIG93bmVyLCBkYXRhLCB2YWx1ZSApIHtcXG5cXHRcXHR2YXIgcHJvcCxcXG5cXHRcXHRcXHRjYWNoZSA9IHRoaXMuY2FjaGUoIG93bmVyICk7XFxuXFxuXFx0XFx0Ly8gSGFuZGxlOiBbIG93bmVyLCBrZXksIHZhbHVlIF0gYXJnc1xcblxcdFxcdC8vIEFsd2F5cyB1c2UgY2FtZWxDYXNlIGtleSAoZ2gtMjI1NylcXG5cXHRcXHRpZiAoIHR5cGVvZiBkYXRhID09PSBcXFwic3RyaW5nXFxcIiApIHtcXG5cXHRcXHRcXHRjYWNoZVsgalF1ZXJ5LmNhbWVsQ2FzZSggZGF0YSApIF0gPSB2YWx1ZTtcXG5cXG5cXHRcXHQvLyBIYW5kbGU6IFsgb3duZXIsIHsgcHJvcGVydGllcyB9IF0gYXJnc1xcblxcdFxcdH0gZWxzZSB7XFxuXFxuXFx0XFx0XFx0Ly8gQ29weSB0aGUgcHJvcGVydGllcyBvbmUtYnktb25lIHRvIHRoZSBjYWNoZSBvYmplY3RcXG5cXHRcXHRcXHRmb3IgKCBwcm9wIGluIGRhdGEgKSB7XFxuXFx0XFx0XFx0XFx0Y2FjaGVbIGpRdWVyeS5jYW1lbENhc2UoIHByb3AgKSBdID0gZGF0YVsgcHJvcCBdO1xcblxcdFxcdFxcdH1cXG5cXHRcXHR9XFxuXFx0XFx0cmV0dXJuIGNhY2hlO1xcblxcdH0sXFxuXFx0Z2V0OiBmdW5jdGlvbiggb3duZXIsIGtleSApIHtcXG5cXHRcXHRyZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgP1xcblxcdFxcdFxcdHRoaXMuY2FjaGUoIG93bmVyICkgOlxcblxcblxcdFxcdFxcdC8vIEFsd2F5cyB1c2UgY2FtZWxDYXNlIGtleSAoZ2gtMjI1NylcXG5cXHRcXHRcXHRvd25lclsgdGhpcy5leHBhbmRvIF0gJiYgb3duZXJbIHRoaXMuZXhwYW5kbyBdWyBqUXVlcnkuY2FtZWxDYXNlKCBrZXkgKSBdO1xcblxcdH0sXFxuXFx0YWNjZXNzOiBmdW5jdGlvbiggb3duZXIsIGtleSwgdmFsdWUgKSB7XFxuXFxuXFx0XFx0Ly8gSW4gY2FzZXMgd2hlcmUgZWl0aGVyOlxcblxcdFxcdC8vXFxuXFx0XFx0Ly8gICAxLiBObyBrZXkgd2FzIHNwZWNpZmllZFxcblxcdFxcdC8vICAgMi4gQSBzdHJpbmcga2V5IHdhcyBzcGVjaWZpZWQsIGJ1dCBubyB2YWx1ZSBwcm92aWRlZFxcblxcdFxcdC8vXFxuXFx0XFx0Ly8gVGFrZSB0aGUgXFxcInJlYWRcXFwiIHBhdGggYW5kIGFsbG93IHRoZSBnZXQgbWV0aG9kIHRvIGRldGVybWluZVxcblxcdFxcdC8vIHdoaWNoIHZhbHVlIHRvIHJldHVybiwgcmVzcGVjdGl2ZWx5IGVpdGhlcjpcXG5cXHRcXHQvL1xcblxcdFxcdC8vICAgMS4gVGhlIGVudGlyZSBjYWNoZSBvYmplY3RcXG5cXHRcXHQvLyAgIDIuIFRoZSBkYXRhIHN0b3JlZCBhdCB0aGUga2V5XFxuXFx0XFx0Ly9cXG5cXHRcXHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkIHx8XFxuXFx0XFx0XFx0XFx0KCAoIGtleSAmJiB0eXBlb2Yga2V5ID09PSBcXFwic3RyaW5nXFxcIiApICYmIHZhbHVlID09PSB1bmRlZmluZWQgKSApIHtcXG5cXG5cXHRcXHRcXHRyZXR1cm4gdGhpcy5nZXQoIG93bmVyLCBrZXkgKTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gV2hlbiB0aGUga2V5IGlzIG5vdCBhIHN0cmluZywgb3IgYm90aCBhIGtleSBhbmQgdmFsdWVcXG5cXHRcXHQvLyBhcmUgc3BlY2lmaWVkLCBzZXQgb3IgZXh0ZW5kIChleGlzdGluZyBvYmplY3RzKSB3aXRoIGVpdGhlcjpcXG5cXHRcXHQvL1xcblxcdFxcdC8vICAgMS4gQW4gb2JqZWN0IG9mIHByb3BlcnRpZXNcXG5cXHRcXHQvLyAgIDIuIEEga2V5IGFuZCB2YWx1ZVxcblxcdFxcdC8vXFxuXFx0XFx0dGhpcy5zZXQoIG93bmVyLCBrZXksIHZhbHVlICk7XFxuXFxuXFx0XFx0Ly8gU2luY2UgdGhlIFxcXCJzZXRcXFwiIHBhdGggY2FuIGhhdmUgdHdvIHBvc3NpYmxlIGVudHJ5IHBvaW50c1xcblxcdFxcdC8vIHJldHVybiB0aGUgZXhwZWN0ZWQgZGF0YSBiYXNlZCBvbiB3aGljaCBwYXRoIHdhcyB0YWtlblsqXVxcblxcdFxcdHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBrZXk7XFxuXFx0fSxcXG5cXHRyZW1vdmU6IGZ1bmN0aW9uKCBvd25lciwga2V5ICkge1xcblxcdFxcdHZhciBpLFxcblxcdFxcdFxcdGNhY2hlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xcblxcblxcdFxcdGlmICggY2FjaGUgPT09IHVuZGVmaW5lZCApIHtcXG5cXHRcXHRcXHRyZXR1cm47XFxuXFx0XFx0fVxcblxcblxcdFxcdGlmICgga2V5ICE9PSB1bmRlZmluZWQgKSB7XFxuXFxuXFx0XFx0XFx0Ly8gU3VwcG9ydCBhcnJheSBvciBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nIG9mIGtleXNcXG5cXHRcXHRcXHRpZiAoIGpRdWVyeS5pc0FycmF5KCBrZXkgKSApIHtcXG5cXG5cXHRcXHRcXHRcXHQvLyBJZiBrZXkgaXMgYW4gYXJyYXkgb2Yga2V5cy4uLlxcblxcdFxcdFxcdFxcdC8vIFdlIGFsd2F5cyBzZXQgY2FtZWxDYXNlIGtleXMsIHNvIHJlbW92ZSB0aGF0LlxcblxcdFxcdFxcdFxcdGtleSA9IGtleS5tYXAoIGpRdWVyeS5jYW1lbENhc2UgKTtcXG5cXHRcXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdFxcdGtleSA9IGpRdWVyeS5jYW1lbENhc2UoIGtleSApO1xcblxcblxcdFxcdFxcdFxcdC8vIElmIGEga2V5IHdpdGggdGhlIHNwYWNlcyBleGlzdHMsIHVzZSBpdC5cXG5cXHRcXHRcXHRcXHQvLyBPdGhlcndpc2UsIGNyZWF0ZSBhbiBhcnJheSBieSBtYXRjaGluZyBub24td2hpdGVzcGFjZVxcblxcdFxcdFxcdFxcdGtleSA9IGtleSBpbiBjYWNoZSA/XFxuXFx0XFx0XFx0XFx0XFx0WyBrZXkgXSA6XFxuXFx0XFx0XFx0XFx0XFx0KCBrZXkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXSApO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRpID0ga2V5Lmxlbmd0aDtcXG5cXG5cXHRcXHRcXHR3aGlsZSAoIGktLSApIHtcXG5cXHRcXHRcXHRcXHRkZWxldGUgY2FjaGVbIGtleVsgaSBdIF07XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBSZW1vdmUgdGhlIGV4cGFuZG8gaWYgdGhlcmUncyBubyBtb3JlIGRhdGFcXG5cXHRcXHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkIHx8IGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBjYWNoZSApICkge1xcblxcblxcdFxcdFxcdC8vIFN1cHBvcnQ6IENocm9tZSA8PTM1IC0gNDVcXG5cXHRcXHRcXHQvLyBXZWJraXQgJiBCbGluayBwZXJmb3JtYW5jZSBzdWZmZXJzIHdoZW4gZGVsZXRpbmcgcHJvcGVydGllc1xcblxcdFxcdFxcdC8vIGZyb20gRE9NIG5vZGVzLCBzbyBzZXQgdG8gdW5kZWZpbmVkIGluc3RlYWRcXG5cXHRcXHRcXHQvLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0zNzg2MDcgKGJ1ZyByZXN0cmljdGVkKVxcblxcdFxcdFxcdGlmICggb3duZXIubm9kZVR5cGUgKSB7XFxuXFx0XFx0XFx0XFx0b3duZXJbIHRoaXMuZXhwYW5kbyBdID0gdW5kZWZpbmVkO1xcblxcdFxcdFxcdH0gZWxzZSB7XFxuXFx0XFx0XFx0XFx0ZGVsZXRlIG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcdH0sXFxuXFx0aGFzRGF0YTogZnVuY3Rpb24oIG93bmVyICkge1xcblxcdFxcdHZhciBjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcXG5cXHRcXHRyZXR1cm4gY2FjaGUgIT09IHVuZGVmaW5lZCAmJiAhalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGNhY2hlICk7XFxuXFx0fVxcbn07XFxudmFyIGRhdGFQcml2ID0gbmV3IERhdGEoKTtcXG5cXG52YXIgZGF0YVVzZXIgPSBuZXcgRGF0YSgpO1xcblxcblxcblxcbi8vXFx0SW1wbGVtZW50YXRpb24gU3VtbWFyeVxcbi8vXFxuLy9cXHQxLiBFbmZvcmNlIEFQSSBzdXJmYWNlIGFuZCBzZW1hbnRpYyBjb21wYXRpYmlsaXR5IHdpdGggMS45LnggYnJhbmNoXFxuLy9cXHQyLiBJbXByb3ZlIHRoZSBtb2R1bGUncyBtYWludGFpbmFiaWxpdHkgYnkgcmVkdWNpbmcgdGhlIHN0b3JhZ2VcXG4vL1xcdFxcdHBhdGhzIHRvIGEgc2luZ2xlIG1lY2hhbmlzbS5cXG4vL1xcdDMuIFVzZSB0aGUgc2FtZSBzaW5nbGUgbWVjaGFuaXNtIHRvIHN1cHBvcnQgXFxcInByaXZhdGVcXFwiIGFuZCBcXFwidXNlclxcXCIgZGF0YS5cXG4vL1xcdDQuIF9OZXZlcl8gZXhwb3NlIFxcXCJwcml2YXRlXFxcIiBkYXRhIHRvIHVzZXIgY29kZSAoVE9ETzogRHJvcCBfZGF0YSwgX3JlbW92ZURhdGEpXFxuLy9cXHQ1LiBBdm9pZCBleHBvc2luZyBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzIG9uIHVzZXIgb2JqZWN0cyAoZWcuIGV4cGFuZG8gcHJvcGVydGllcylcXG4vL1xcdDYuIFByb3ZpZGUgYSBjbGVhciBwYXRoIGZvciBpbXBsZW1lbnRhdGlvbiB1cGdyYWRlIHRvIFdlYWtNYXAgaW4gMjAxNFxcblxcbnZhciByYnJhY2UgPSAvXig/OlxcXFx7W1xcXFx3XFxcXFddKlxcXFx9fFxcXFxbW1xcXFx3XFxcXFddKlxcXFxdKSQvLFxcblxcdHJtdWx0aURhc2ggPSAvW0EtWl0vZztcXG5cXG5mdW5jdGlvbiBnZXREYXRhKCBkYXRhICkge1xcblxcdGlmICggZGF0YSA9PT0gXFxcInRydWVcXFwiICkge1xcblxcdFxcdHJldHVybiB0cnVlO1xcblxcdH1cXG5cXG5cXHRpZiAoIGRhdGEgPT09IFxcXCJmYWxzZVxcXCIgKSB7XFxuXFx0XFx0cmV0dXJuIGZhbHNlO1xcblxcdH1cXG5cXG5cXHRpZiAoIGRhdGEgPT09IFxcXCJudWxsXFxcIiApIHtcXG5cXHRcXHRyZXR1cm4gbnVsbDtcXG5cXHR9XFxuXFxuXFx0Ly8gT25seSBjb252ZXJ0IHRvIGEgbnVtYmVyIGlmIGl0IGRvZXNuJ3QgY2hhbmdlIHRoZSBzdHJpbmdcXG5cXHRpZiAoIGRhdGEgPT09ICtkYXRhICsgXFxcIlxcXCIgKSB7XFxuXFx0XFx0cmV0dXJuICtkYXRhO1xcblxcdH1cXG5cXG5cXHRpZiAoIHJicmFjZS50ZXN0KCBkYXRhICkgKSB7XFxuXFx0XFx0cmV0dXJuIEpTT04ucGFyc2UoIGRhdGEgKTtcXG5cXHR9XFxuXFxuXFx0cmV0dXJuIGRhdGE7XFxufVxcblxcbmZ1bmN0aW9uIGRhdGFBdHRyKCBlbGVtLCBrZXksIGRhdGEgKSB7XFxuXFx0dmFyIG5hbWU7XFxuXFxuXFx0Ly8gSWYgbm90aGluZyB3YXMgZm91bmQgaW50ZXJuYWxseSwgdHJ5IHRvIGZldGNoIGFueVxcblxcdC8vIGRhdGEgZnJvbSB0aGUgSFRNTDUgZGF0YS0qIGF0dHJpYnV0ZVxcblxcdGlmICggZGF0YSA9PT0gdW5kZWZpbmVkICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XFxuXFx0XFx0bmFtZSA9IFxcXCJkYXRhLVxcXCIgKyBrZXkucmVwbGFjZSggcm11bHRpRGFzaCwgXFxcIi0kJlxcXCIgKS50b0xvd2VyQ2FzZSgpO1xcblxcdFxcdGRhdGEgPSBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApO1xcblxcblxcdFxcdGlmICggdHlwZW9mIGRhdGEgPT09IFxcXCJzdHJpbmdcXFwiICkge1xcblxcdFxcdFxcdHRyeSB7XFxuXFx0XFx0XFx0XFx0ZGF0YSA9IGdldERhdGEoIGRhdGEgKTtcXG5cXHRcXHRcXHR9IGNhdGNoICggZSApIHt9XFxuXFxuXFx0XFx0XFx0Ly8gTWFrZSBzdXJlIHdlIHNldCB0aGUgZGF0YSBzbyBpdCBpc24ndCBjaGFuZ2VkIGxhdGVyXFxuXFx0XFx0XFx0ZGF0YVVzZXIuc2V0KCBlbGVtLCBrZXksIGRhdGEgKTtcXG5cXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdGRhdGEgPSB1bmRlZmluZWQ7XFxuXFx0XFx0fVxcblxcdH1cXG5cXHRyZXR1cm4gZGF0YTtcXG59XFxuXFxualF1ZXJ5LmV4dGVuZCgge1xcblxcdGhhc0RhdGE6IGZ1bmN0aW9uKCBlbGVtICkge1xcblxcdFxcdHJldHVybiBkYXRhVXNlci5oYXNEYXRhKCBlbGVtICkgfHwgZGF0YVByaXYuaGFzRGF0YSggZWxlbSApO1xcblxcdH0sXFxuXFxuXFx0ZGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGRhdGEgKSB7XFxuXFx0XFx0cmV0dXJuIGRhdGFVc2VyLmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApO1xcblxcdH0sXFxuXFxuXFx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XFxuXFx0XFx0ZGF0YVVzZXIucmVtb3ZlKCBlbGVtLCBuYW1lICk7XFxuXFx0fSxcXG5cXG5cXHQvLyBUT0RPOiBOb3cgdGhhdCBhbGwgY2FsbHMgdG8gX2RhdGEgYW5kIF9yZW1vdmVEYXRhIGhhdmUgYmVlbiByZXBsYWNlZFxcblxcdC8vIHdpdGggZGlyZWN0IGNhbGxzIHRvIGRhdGFQcml2IG1ldGhvZHMsIHRoZXNlIGNhbiBiZSBkZXByZWNhdGVkLlxcblxcdF9kYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcXG5cXHRcXHRyZXR1cm4gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBuYW1lLCBkYXRhICk7XFxuXFx0fSxcXG5cXG5cXHRfcmVtb3ZlRGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUgKSB7XFxuXFx0XFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBuYW1lICk7XFxuXFx0fVxcbn0gKTtcXG5cXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XFxuXFx0ZGF0YTogZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XFxuXFx0XFx0dmFyIGksIG5hbWUsIGRhdGEsXFxuXFx0XFx0XFx0ZWxlbSA9IHRoaXNbIDAgXSxcXG5cXHRcXHRcXHRhdHRycyA9IGVsZW0gJiYgZWxlbS5hdHRyaWJ1dGVzO1xcblxcblxcdFxcdC8vIEdldHMgYWxsIHZhbHVlc1xcblxcdFxcdGlmICgga2V5ID09PSB1bmRlZmluZWQgKSB7XFxuXFx0XFx0XFx0aWYgKCB0aGlzLmxlbmd0aCApIHtcXG5cXHRcXHRcXHRcXHRkYXRhID0gZGF0YVVzZXIuZ2V0KCBlbGVtICk7XFxuXFxuXFx0XFx0XFx0XFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmICFkYXRhUHJpdi5nZXQoIGVsZW0sIFxcXCJoYXNEYXRhQXR0cnNcXFwiICkgKSB7XFxuXFx0XFx0XFx0XFx0XFx0aSA9IGF0dHJzLmxlbmd0aDtcXG5cXHRcXHRcXHRcXHRcXHR3aGlsZSAoIGktLSApIHtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHQvLyBTdXBwb3J0OiBJRSAxMSBvbmx5XFxuXFx0XFx0XFx0XFx0XFx0XFx0Ly8gVGhlIGF0dHJzIGVsZW1lbnRzIGNhbiBiZSBudWxsICgjMTQ4OTQpXFxuXFx0XFx0XFx0XFx0XFx0XFx0aWYgKCBhdHRyc1sgaSBdICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdG5hbWUgPSBhdHRyc1sgaSBdLm5hbWU7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0aWYgKCBuYW1lLmluZGV4T2YoIFxcXCJkYXRhLVxcXCIgKSA9PT0gMCApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRuYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZS5zbGljZSggNSApICk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0ZGF0YUF0dHIoIGVsZW0sIG5hbWUsIGRhdGFbIG5hbWUgXSApO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdGRhdGFQcml2LnNldCggZWxlbSwgXFxcImhhc0RhdGFBdHRyc1xcXCIsIHRydWUgKTtcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdHJldHVybiBkYXRhO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBTZXRzIG11bHRpcGxlIHZhbHVlc1xcblxcdFxcdGlmICggdHlwZW9mIGtleSA9PT0gXFxcIm9iamVjdFxcXCIgKSB7XFxuXFx0XFx0XFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0XFx0ZGF0YVVzZXIuc2V0KCB0aGlzLCBrZXkgKTtcXG5cXHRcXHRcXHR9ICk7XFxuXFx0XFx0fVxcblxcblxcdFxcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcXG5cXHRcXHRcXHR2YXIgZGF0YTtcXG5cXG5cXHRcXHRcXHQvLyBUaGUgY2FsbGluZyBqUXVlcnkgb2JqZWN0IChlbGVtZW50IG1hdGNoZXMpIGlzIG5vdCBlbXB0eVxcblxcdFxcdFxcdC8vIChhbmQgdGhlcmVmb3JlIGhhcyBhbiBlbGVtZW50IGFwcGVhcnMgYXQgdGhpc1sgMCBdKSBhbmQgdGhlXFxuXFx0XFx0XFx0Ly8gYHZhbHVlYCBwYXJhbWV0ZXIgd2FzIG5vdCB1bmRlZmluZWQuIEFuIGVtcHR5IGpRdWVyeSBvYmplY3RcXG5cXHRcXHRcXHQvLyB3aWxsIHJlc3VsdCBpbiBgdW5kZWZpbmVkYCBmb3IgZWxlbSA9IHRoaXNbIDAgXSB3aGljaCB3aWxsXFxuXFx0XFx0XFx0Ly8gdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFuIGF0dGVtcHQgdG8gcmVhZCBhIGRhdGEgY2FjaGUgaXMgbWFkZS5cXG5cXHRcXHRcXHRpZiAoIGVsZW0gJiYgdmFsdWUgPT09IHVuZGVmaW5lZCApIHtcXG5cXG5cXHRcXHRcXHRcXHQvLyBBdHRlbXB0IHRvIGdldCBkYXRhIGZyb20gdGhlIGNhY2hlXFxuXFx0XFx0XFx0XFx0Ly8gVGhlIGtleSB3aWxsIGFsd2F5cyBiZSBjYW1lbENhc2VkIGluIERhdGFcXG5cXHRcXHRcXHRcXHRkYXRhID0gZGF0YVVzZXIuZ2V0KCBlbGVtLCBrZXkgKTtcXG5cXHRcXHRcXHRcXHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcXG5cXHRcXHRcXHRcXHRcXHRyZXR1cm4gZGF0YTtcXG5cXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0Ly8gQXR0ZW1wdCB0byBcXFwiZGlzY292ZXJcXFwiIHRoZSBkYXRhIGluXFxuXFx0XFx0XFx0XFx0Ly8gSFRNTDUgY3VzdG9tIGRhdGEtKiBhdHRyc1xcblxcdFxcdFxcdFxcdGRhdGEgPSBkYXRhQXR0ciggZWxlbSwga2V5ICk7XFxuXFx0XFx0XFx0XFx0aWYgKCBkYXRhICE9PSB1bmRlZmluZWQgKSB7XFxuXFx0XFx0XFx0XFx0XFx0cmV0dXJuIGRhdGE7XFxuXFx0XFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdFxcdC8vIFdlIHRyaWVkIHJlYWxseSBoYXJkLCBidXQgdGhlIGRhdGEgZG9lc24ndCBleGlzdC5cXG5cXHRcXHRcXHRcXHRyZXR1cm47XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdC8vIFNldCB0aGUgZGF0YS4uLlxcblxcdFxcdFxcdHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XFxuXFxuXFx0XFx0XFx0XFx0Ly8gV2UgYWx3YXlzIHN0b3JlIHRoZSBjYW1lbENhc2VkIGtleVxcblxcdFxcdFxcdFxcdGRhdGFVc2VyLnNldCggdGhpcywga2V5LCB2YWx1ZSApO1xcblxcdFxcdFxcdH0gKTtcXG5cXHRcXHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEsIG51bGwsIHRydWUgKTtcXG5cXHR9LFxcblxcblxcdHJlbW92ZURhdGE6IGZ1bmN0aW9uKCBrZXkgKSB7XFxuXFx0XFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0ZGF0YVVzZXIucmVtb3ZlKCB0aGlzLCBrZXkgKTtcXG5cXHRcXHR9ICk7XFxuXFx0fVxcbn0gKTtcXG5cXG5cXG5qUXVlcnkuZXh0ZW5kKCB7XFxuXFx0cXVldWU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCBkYXRhICkge1xcblxcdFxcdHZhciBxdWV1ZTtcXG5cXG5cXHRcXHRpZiAoIGVsZW0gKSB7XFxuXFx0XFx0XFx0dHlwZSA9ICggdHlwZSB8fCBcXFwiZnhcXFwiICkgKyBcXFwicXVldWVcXFwiO1xcblxcdFxcdFxcdHF1ZXVlID0gZGF0YVByaXYuZ2V0KCBlbGVtLCB0eXBlICk7XFxuXFxuXFx0XFx0XFx0Ly8gU3BlZWQgdXAgZGVxdWV1ZSBieSBnZXR0aW5nIG91dCBxdWlja2x5IGlmIHRoaXMgaXMganVzdCBhIGxvb2t1cFxcblxcdFxcdFxcdGlmICggZGF0YSApIHtcXG5cXHRcXHRcXHRcXHRpZiAoICFxdWV1ZSB8fCBqUXVlcnkuaXNBcnJheSggZGF0YSApICkge1xcblxcdFxcdFxcdFxcdFxcdHF1ZXVlID0gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCB0eXBlLCBqUXVlcnkubWFrZUFycmF5KCBkYXRhICkgKTtcXG5cXHRcXHRcXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdFxcdFxcdHF1ZXVlLnB1c2goIGRhdGEgKTtcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fVxcblxcdFxcdFxcdHJldHVybiBxdWV1ZSB8fCBbXTtcXG5cXHRcXHR9XFxuXFx0fSxcXG5cXG5cXHRkZXF1ZXVlOiBmdW5jdGlvbiggZWxlbSwgdHlwZSApIHtcXG5cXHRcXHR0eXBlID0gdHlwZSB8fCBcXFwiZnhcXFwiO1xcblxcblxcdFxcdHZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZSggZWxlbSwgdHlwZSApLFxcblxcdFxcdFxcdHN0YXJ0TGVuZ3RoID0gcXVldWUubGVuZ3RoLFxcblxcdFxcdFxcdGZuID0gcXVldWUuc2hpZnQoKSxcXG5cXHRcXHRcXHRob29rcyA9IGpRdWVyeS5fcXVldWVIb29rcyggZWxlbSwgdHlwZSApLFxcblxcdFxcdFxcdG5leHQgPSBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHRcXHRqUXVlcnkuZGVxdWV1ZSggZWxlbSwgdHlwZSApO1xcblxcdFxcdFxcdH07XFxuXFxuXFx0XFx0Ly8gSWYgdGhlIGZ4IHF1ZXVlIGlzIGRlcXVldWVkLCBhbHdheXMgcmVtb3ZlIHRoZSBwcm9ncmVzcyBzZW50aW5lbFxcblxcdFxcdGlmICggZm4gPT09IFxcXCJpbnByb2dyZXNzXFxcIiApIHtcXG5cXHRcXHRcXHRmbiA9IHF1ZXVlLnNoaWZ0KCk7XFxuXFx0XFx0XFx0c3RhcnRMZW5ndGgtLTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0aWYgKCBmbiApIHtcXG5cXG5cXHRcXHRcXHQvLyBBZGQgYSBwcm9ncmVzcyBzZW50aW5lbCB0byBwcmV2ZW50IHRoZSBmeCBxdWV1ZSBmcm9tIGJlaW5nXFxuXFx0XFx0XFx0Ly8gYXV0b21hdGljYWxseSBkZXF1ZXVlZFxcblxcdFxcdFxcdGlmICggdHlwZSA9PT0gXFxcImZ4XFxcIiApIHtcXG5cXHRcXHRcXHRcXHRxdWV1ZS51bnNoaWZ0KCBcXFwiaW5wcm9ncmVzc1xcXCIgKTtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0Ly8gQ2xlYXIgdXAgdGhlIGxhc3QgcXVldWUgc3RvcCBmdW5jdGlvblxcblxcdFxcdFxcdGRlbGV0ZSBob29rcy5zdG9wO1xcblxcdFxcdFxcdGZuLmNhbGwoIGVsZW0sIG5leHQsIGhvb2tzICk7XFxuXFx0XFx0fVxcblxcblxcdFxcdGlmICggIXN0YXJ0TGVuZ3RoICYmIGhvb2tzICkge1xcblxcdFxcdFxcdGhvb2tzLmVtcHR5LmZpcmUoKTtcXG5cXHRcXHR9XFxuXFx0fSxcXG5cXG5cXHQvLyBOb3QgcHVibGljIC0gZ2VuZXJhdGUgYSBxdWV1ZUhvb2tzIG9iamVjdCwgb3IgcmV0dXJuIHRoZSBjdXJyZW50IG9uZVxcblxcdF9xdWV1ZUhvb2tzOiBmdW5jdGlvbiggZWxlbSwgdHlwZSApIHtcXG5cXHRcXHR2YXIga2V5ID0gdHlwZSArIFxcXCJxdWV1ZUhvb2tzXFxcIjtcXG5cXHRcXHRyZXR1cm4gZGF0YVByaXYuZ2V0KCBlbGVtLCBrZXkgKSB8fCBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIGtleSwge1xcblxcdFxcdFxcdGVtcHR5OiBqUXVlcnkuQ2FsbGJhY2tzKCBcXFwib25jZSBtZW1vcnlcXFwiICkuYWRkKCBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHRcXHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFsgdHlwZSArIFxcXCJxdWV1ZVxcXCIsIGtleSBdICk7XFxuXFx0XFx0XFx0fSApXFxuXFx0XFx0fSApO1xcblxcdH1cXG59ICk7XFxuXFxualF1ZXJ5LmZuLmV4dGVuZCgge1xcblxcdHF1ZXVlOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcXG5cXHRcXHR2YXIgc2V0dGVyID0gMjtcXG5cXG5cXHRcXHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcXFwic3RyaW5nXFxcIiApIHtcXG5cXHRcXHRcXHRkYXRhID0gdHlwZTtcXG5cXHRcXHRcXHR0eXBlID0gXFxcImZ4XFxcIjtcXG5cXHRcXHRcXHRzZXR0ZXItLTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoIDwgc2V0dGVyICkge1xcblxcdFxcdFxcdHJldHVybiBqUXVlcnkucXVldWUoIHRoaXNbIDAgXSwgdHlwZSApO1xcblxcdFxcdH1cXG5cXG5cXHRcXHRyZXR1cm4gZGF0YSA9PT0gdW5kZWZpbmVkID9cXG5cXHRcXHRcXHR0aGlzIDpcXG5cXHRcXHRcXHR0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xcblxcdFxcdFxcdFxcdHZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgZGF0YSApO1xcblxcblxcdFxcdFxcdFxcdC8vIEVuc3VyZSBhIGhvb2tzIGZvciB0aGlzIHF1ZXVlXFxuXFx0XFx0XFx0XFx0alF1ZXJ5Ll9xdWV1ZUhvb2tzKCB0aGlzLCB0eXBlICk7XFxuXFxuXFx0XFx0XFx0XFx0aWYgKCB0eXBlID09PSBcXFwiZnhcXFwiICYmIHF1ZXVlWyAwIF0gIT09IFxcXCJpbnByb2dyZXNzXFxcIiApIHtcXG5cXHRcXHRcXHRcXHRcXHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9ICk7XFxuXFx0fSxcXG5cXHRkZXF1ZXVlOiBmdW5jdGlvbiggdHlwZSApIHtcXG5cXHRcXHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xcblxcdFxcdH0gKTtcXG5cXHR9LFxcblxcdGNsZWFyUXVldWU6IGZ1bmN0aW9uKCB0eXBlICkge1xcblxcdFxcdHJldHVybiB0aGlzLnF1ZXVlKCB0eXBlIHx8IFxcXCJmeFxcXCIsIFtdICk7XFxuXFx0fSxcXG5cXG5cXHQvLyBHZXQgYSBwcm9taXNlIHJlc29sdmVkIHdoZW4gcXVldWVzIG9mIGEgY2VydGFpbiB0eXBlXFxuXFx0Ly8gYXJlIGVtcHRpZWQgKGZ4IGlzIHRoZSB0eXBlIGJ5IGRlZmF1bHQpXFxuXFx0cHJvbWlzZTogZnVuY3Rpb24oIHR5cGUsIG9iaiApIHtcXG5cXHRcXHR2YXIgdG1wLFxcblxcdFxcdFxcdGNvdW50ID0gMSxcXG5cXHRcXHRcXHRkZWZlciA9IGpRdWVyeS5EZWZlcnJlZCgpLFxcblxcdFxcdFxcdGVsZW1lbnRzID0gdGhpcyxcXG5cXHRcXHRcXHRpID0gdGhpcy5sZW5ndGgsXFxuXFx0XFx0XFx0cmVzb2x2ZSA9IGZ1bmN0aW9uKCkge1xcblxcdFxcdFxcdFxcdGlmICggISggLS1jb3VudCApICkge1xcblxcdFxcdFxcdFxcdFxcdGRlZmVyLnJlc29sdmVXaXRoKCBlbGVtZW50cywgWyBlbGVtZW50cyBdICk7XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH07XFxuXFxuXFx0XFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXFxcInN0cmluZ1xcXCIgKSB7XFxuXFx0XFx0XFx0b2JqID0gdHlwZTtcXG5cXHRcXHRcXHR0eXBlID0gdW5kZWZpbmVkO1xcblxcdFxcdH1cXG5cXHRcXHR0eXBlID0gdHlwZSB8fCBcXFwiZnhcXFwiO1xcblxcblxcdFxcdHdoaWxlICggaS0tICkge1xcblxcdFxcdFxcdHRtcCA9IGRhdGFQcml2LmdldCggZWxlbWVudHNbIGkgXSwgdHlwZSArIFxcXCJxdWV1ZUhvb2tzXFxcIiApO1xcblxcdFxcdFxcdGlmICggdG1wICYmIHRtcC5lbXB0eSApIHtcXG5cXHRcXHRcXHRcXHRjb3VudCsrO1xcblxcdFxcdFxcdFxcdHRtcC5lbXB0eS5hZGQoIHJlc29sdmUgKTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcdFxcdHJlc29sdmUoKTtcXG5cXHRcXHRyZXR1cm4gZGVmZXIucHJvbWlzZSggb2JqICk7XFxuXFx0fVxcbn0gKTtcXG52YXIgcG51bSA9ICggL1srLV0/KD86XFxcXGQqXFxcXC58KVxcXFxkKyg/OltlRV1bKy1dP1xcXFxkK3wpLyApLnNvdXJjZTtcXG5cXG52YXIgcmNzc051bSA9IG5ldyBSZWdFeHAoIFxcXCJeKD86KFsrLV0pPXwpKFxcXCIgKyBwbnVtICsgXFxcIikoW2EteiVdKikkXFxcIiwgXFxcImlcXFwiICk7XFxuXFxuXFxudmFyIGNzc0V4cGFuZCA9IFsgXFxcIlRvcFxcXCIsIFxcXCJSaWdodFxcXCIsIFxcXCJCb3R0b21cXFwiLCBcXFwiTGVmdFxcXCIgXTtcXG5cXG52YXIgaXNIaWRkZW5XaXRoaW5UcmVlID0gZnVuY3Rpb24oIGVsZW0sIGVsICkge1xcblxcblxcdFxcdC8vIGlzSGlkZGVuV2l0aGluVHJlZSBtaWdodCBiZSBjYWxsZWQgZnJvbSBqUXVlcnkjZmlsdGVyIGZ1bmN0aW9uO1xcblxcdFxcdC8vIGluIHRoYXQgY2FzZSwgZWxlbWVudCB3aWxsIGJlIHNlY29uZCBhcmd1bWVudFxcblxcdFxcdGVsZW0gPSBlbCB8fCBlbGVtO1xcblxcblxcdFxcdC8vIElubGluZSBzdHlsZSB0cnVtcHMgYWxsXFxuXFx0XFx0cmV0dXJuIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXFxcIm5vbmVcXFwiIHx8XFxuXFx0XFx0XFx0ZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcXFwiXFxcIiAmJlxcblxcblxcdFxcdFxcdC8vIE90aGVyd2lzZSwgY2hlY2sgY29tcHV0ZWQgc3R5bGVcXG5cXHRcXHRcXHQvLyBTdXBwb3J0OiBGaXJlZm94IDw9NDMgLSA0NVxcblxcdFxcdFxcdC8vIERpc2Nvbm5lY3RlZCBlbGVtZW50cyBjYW4gaGF2ZSBjb21wdXRlZCBkaXNwbGF5OiBub25lLCBzbyBmaXJzdCBjb25maXJtIHRoYXQgZWxlbSBpc1xcblxcdFxcdFxcdC8vIGluIHRoZSBkb2N1bWVudC5cXG5cXHRcXHRcXHRqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApICYmXFxuXFxuXFx0XFx0XFx0alF1ZXJ5LmNzcyggZWxlbSwgXFxcImRpc3BsYXlcXFwiICkgPT09IFxcXCJub25lXFxcIjtcXG5cXHR9O1xcblxcbnZhciBzd2FwID0gZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIGNhbGxiYWNrLCBhcmdzICkge1xcblxcdHZhciByZXQsIG5hbWUsXFxuXFx0XFx0b2xkID0ge307XFxuXFxuXFx0Ly8gUmVtZW1iZXIgdGhlIG9sZCB2YWx1ZXMsIGFuZCBpbnNlcnQgdGhlIG5ldyBvbmVzXFxuXFx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xcblxcdFxcdG9sZFsgbmFtZSBdID0gZWxlbS5zdHlsZVsgbmFtZSBdO1xcblxcdFxcdGVsZW0uc3R5bGVbIG5hbWUgXSA9IG9wdGlvbnNbIG5hbWUgXTtcXG5cXHR9XFxuXFxuXFx0cmV0ID0gY2FsbGJhY2suYXBwbHkoIGVsZW0sIGFyZ3MgfHwgW10gKTtcXG5cXG5cXHQvLyBSZXZlcnQgdGhlIG9sZCB2YWx1ZXNcXG5cXHRmb3IgKCBuYW1lIGluIG9wdGlvbnMgKSB7XFxuXFx0XFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gb2xkWyBuYW1lIF07XFxuXFx0fVxcblxcblxcdHJldHVybiByZXQ7XFxufTtcXG5cXG5cXG5cXG5cXG5mdW5jdGlvbiBhZGp1c3RDU1MoIGVsZW0sIHByb3AsIHZhbHVlUGFydHMsIHR3ZWVuICkge1xcblxcdHZhciBhZGp1c3RlZCxcXG5cXHRcXHRzY2FsZSA9IDEsXFxuXFx0XFx0bWF4SXRlcmF0aW9ucyA9IDIwLFxcblxcdFxcdGN1cnJlbnRWYWx1ZSA9IHR3ZWVuID9cXG5cXHRcXHRcXHRmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHRcXHRyZXR1cm4gdHdlZW4uY3VyKCk7XFxuXFx0XFx0XFx0fSA6XFxuXFx0XFx0XFx0ZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0XFx0cmV0dXJuIGpRdWVyeS5jc3MoIGVsZW0sIHByb3AsIFxcXCJcXFwiICk7XFxuXFx0XFx0XFx0fSxcXG5cXHRcXHRpbml0aWFsID0gY3VycmVudFZhbHVlKCksXFxuXFx0XFx0dW5pdCA9IHZhbHVlUGFydHMgJiYgdmFsdWVQYXJ0c1sgMyBdIHx8ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdID8gXFxcIlxcXCIgOiBcXFwicHhcXFwiICksXFxuXFxuXFx0XFx0Ly8gU3RhcnRpbmcgdmFsdWUgY29tcHV0YXRpb24gaXMgcmVxdWlyZWQgZm9yIHBvdGVudGlhbCB1bml0IG1pc21hdGNoZXNcXG5cXHRcXHRpbml0aWFsSW5Vbml0ID0gKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gfHwgdW5pdCAhPT0gXFxcInB4XFxcIiAmJiAraW5pdGlhbCApICYmXFxuXFx0XFx0XFx0cmNzc051bS5leGVjKCBqUXVlcnkuY3NzKCBlbGVtLCBwcm9wICkgKTtcXG5cXG5cXHRpZiAoIGluaXRpYWxJblVuaXQgJiYgaW5pdGlhbEluVW5pdFsgMyBdICE9PSB1bml0ICkge1xcblxcblxcdFxcdC8vIFRydXN0IHVuaXRzIHJlcG9ydGVkIGJ5IGpRdWVyeS5jc3NcXG5cXHRcXHR1bml0ID0gdW5pdCB8fCBpbml0aWFsSW5Vbml0WyAzIF07XFxuXFxuXFx0XFx0Ly8gTWFrZSBzdXJlIHdlIHVwZGF0ZSB0aGUgdHdlZW4gcHJvcGVydGllcyBsYXRlciBvblxcblxcdFxcdHZhbHVlUGFydHMgPSB2YWx1ZVBhcnRzIHx8IFtdO1xcblxcblxcdFxcdC8vIEl0ZXJhdGl2ZWx5IGFwcHJveGltYXRlIGZyb20gYSBub256ZXJvIHN0YXJ0aW5nIHBvaW50XFxuXFx0XFx0aW5pdGlhbEluVW5pdCA9ICtpbml0aWFsIHx8IDE7XFxuXFxuXFx0XFx0ZG8ge1xcblxcblxcdFxcdFxcdC8vIElmIHByZXZpb3VzIGl0ZXJhdGlvbiB6ZXJvZWQgb3V0LCBkb3VibGUgdW50aWwgd2UgZ2V0ICpzb21ldGhpbmcqLlxcblxcdFxcdFxcdC8vIFVzZSBzdHJpbmcgZm9yIGRvdWJsaW5nIHNvIHdlIGRvbid0IGFjY2lkZW50YWxseSBzZWUgc2NhbGUgYXMgdW5jaGFuZ2VkIGJlbG93XFxuXFx0XFx0XFx0c2NhbGUgPSBzY2FsZSB8fCBcXFwiLjVcXFwiO1xcblxcblxcdFxcdFxcdC8vIEFkanVzdCBhbmQgYXBwbHlcXG5cXHRcXHRcXHRpbml0aWFsSW5Vbml0ID0gaW5pdGlhbEluVW5pdCAvIHNjYWxlO1xcblxcdFxcdFxcdGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCwgaW5pdGlhbEluVW5pdCArIHVuaXQgKTtcXG5cXG5cXHRcXHQvLyBVcGRhdGUgc2NhbGUsIHRvbGVyYXRpbmcgemVybyBvciBOYU4gZnJvbSB0d2Vlbi5jdXIoKVxcblxcdFxcdC8vIEJyZWFrIHRoZSBsb29wIGlmIHNjYWxlIGlzIHVuY2hhbmdlZCBvciBwZXJmZWN0LCBvciBpZiB3ZSd2ZSBqdXN0IGhhZCBlbm91Z2guXFxuXFx0XFx0fSB3aGlsZSAoXFxuXFx0XFx0XFx0c2NhbGUgIT09ICggc2NhbGUgPSBjdXJyZW50VmFsdWUoKSAvIGluaXRpYWwgKSAmJiBzY2FsZSAhPT0gMSAmJiAtLW1heEl0ZXJhdGlvbnNcXG5cXHRcXHQpO1xcblxcdH1cXG5cXG5cXHRpZiAoIHZhbHVlUGFydHMgKSB7XFxuXFx0XFx0aW5pdGlhbEluVW5pdCA9ICtpbml0aWFsSW5Vbml0IHx8ICtpbml0aWFsIHx8IDA7XFxuXFxuXFx0XFx0Ly8gQXBwbHkgcmVsYXRpdmUgb2Zmc2V0ICgrPS8tPSkgaWYgc3BlY2lmaWVkXFxuXFx0XFx0YWRqdXN0ZWQgPSB2YWx1ZVBhcnRzWyAxIF0gP1xcblxcdFxcdFxcdGluaXRpYWxJblVuaXQgKyAoIHZhbHVlUGFydHNbIDEgXSArIDEgKSAqIHZhbHVlUGFydHNbIDIgXSA6XFxuXFx0XFx0XFx0K3ZhbHVlUGFydHNbIDIgXTtcXG5cXHRcXHRpZiAoIHR3ZWVuICkge1xcblxcdFxcdFxcdHR3ZWVuLnVuaXQgPSB1bml0O1xcblxcdFxcdFxcdHR3ZWVuLnN0YXJ0ID0gaW5pdGlhbEluVW5pdDtcXG5cXHRcXHRcXHR0d2Vlbi5lbmQgPSBhZGp1c3RlZDtcXG5cXHRcXHR9XFxuXFx0fVxcblxcdHJldHVybiBhZGp1c3RlZDtcXG59XFxuXFxuXFxudmFyIGRlZmF1bHREaXNwbGF5TWFwID0ge307XFxuXFxuZnVuY3Rpb24gZ2V0RGVmYXVsdERpc3BsYXkoIGVsZW0gKSB7XFxuXFx0dmFyIHRlbXAsXFxuXFx0XFx0ZG9jID0gZWxlbS5vd25lckRvY3VtZW50LFxcblxcdFxcdG5vZGVOYW1lID0gZWxlbS5ub2RlTmFtZSxcXG5cXHRcXHRkaXNwbGF5ID0gZGVmYXVsdERpc3BsYXlNYXBbIG5vZGVOYW1lIF07XFxuXFxuXFx0aWYgKCBkaXNwbGF5ICkge1xcblxcdFxcdHJldHVybiBkaXNwbGF5O1xcblxcdH1cXG5cXG5cXHR0ZW1wID0gZG9jLmJvZHkuYXBwZW5kQ2hpbGQoIGRvYy5jcmVhdGVFbGVtZW50KCBub2RlTmFtZSApICk7XFxuXFx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIHRlbXAsIFxcXCJkaXNwbGF5XFxcIiApO1xcblxcblxcdHRlbXAucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggdGVtcCApO1xcblxcblxcdGlmICggZGlzcGxheSA9PT0gXFxcIm5vbmVcXFwiICkge1xcblxcdFxcdGRpc3BsYXkgPSBcXFwiYmxvY2tcXFwiO1xcblxcdH1cXG5cXHRkZWZhdWx0RGlzcGxheU1hcFsgbm9kZU5hbWUgXSA9IGRpc3BsYXk7XFxuXFxuXFx0cmV0dXJuIGRpc3BsYXk7XFxufVxcblxcbmZ1bmN0aW9uIHNob3dIaWRlKCBlbGVtZW50cywgc2hvdyApIHtcXG5cXHR2YXIgZGlzcGxheSwgZWxlbSxcXG5cXHRcXHR2YWx1ZXMgPSBbXSxcXG5cXHRcXHRpbmRleCA9IDAsXFxuXFx0XFx0bGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xcblxcblxcdC8vIERldGVybWluZSBuZXcgZGlzcGxheSB2YWx1ZSBmb3IgZWxlbWVudHMgdGhhdCBuZWVkIHRvIGNoYW5nZVxcblxcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XFxuXFx0XFx0ZWxlbSA9IGVsZW1lbnRzWyBpbmRleCBdO1xcblxcdFxcdGlmICggIWVsZW0uc3R5bGUgKSB7XFxuXFx0XFx0XFx0Y29udGludWU7XFxuXFx0XFx0fVxcblxcblxcdFxcdGRpc3BsYXkgPSBlbGVtLnN0eWxlLmRpc3BsYXk7XFxuXFx0XFx0aWYgKCBzaG93ICkge1xcblxcblxcdFxcdFxcdC8vIFNpbmNlIHdlIGZvcmNlIHZpc2liaWxpdHkgdXBvbiBjYXNjYWRlLWhpZGRlbiBlbGVtZW50cywgYW4gaW1tZWRpYXRlIChhbmQgc2xvdylcXG5cXHRcXHRcXHQvLyBjaGVjayBpcyByZXF1aXJlZCBpbiB0aGlzIGZpcnN0IGxvb3AgdW5sZXNzIHdlIGhhdmUgYSBub25lbXB0eSBkaXNwbGF5IHZhbHVlIChlaXRoZXJcXG5cXHRcXHRcXHQvLyBpbmxpbmUgb3IgYWJvdXQtdG8tYmUtcmVzdG9yZWQpXFxuXFx0XFx0XFx0aWYgKCBkaXNwbGF5ID09PSBcXFwibm9uZVxcXCIgKSB7XFxuXFx0XFx0XFx0XFx0dmFsdWVzWyBpbmRleCBdID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcXFwiZGlzcGxheVxcXCIgKSB8fCBudWxsO1xcblxcdFxcdFxcdFxcdGlmICggIXZhbHVlc1sgaW5kZXggXSApIHtcXG5cXHRcXHRcXHRcXHRcXHRlbGVtLnN0eWxlLmRpc3BsYXkgPSBcXFwiXFxcIjtcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fVxcblxcdFxcdFxcdGlmICggZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcXFwiXFxcIiAmJiBpc0hpZGRlbldpdGhpblRyZWUoIGVsZW0gKSApIHtcXG5cXHRcXHRcXHRcXHR2YWx1ZXNbIGluZGV4IF0gPSBnZXREZWZhdWx0RGlzcGxheSggZWxlbSApO1xcblxcdFxcdFxcdH1cXG5cXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdGlmICggZGlzcGxheSAhPT0gXFxcIm5vbmVcXFwiICkge1xcblxcdFxcdFxcdFxcdHZhbHVlc1sgaW5kZXggXSA9IFxcXCJub25lXFxcIjtcXG5cXG5cXHRcXHRcXHRcXHQvLyBSZW1lbWJlciB3aGF0IHdlJ3JlIG92ZXJ3cml0aW5nXFxuXFx0XFx0XFx0XFx0ZGF0YVByaXYuc2V0KCBlbGVtLCBcXFwiZGlzcGxheVxcXCIsIGRpc3BsYXkgKTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcdH1cXG5cXG5cXHQvLyBTZXQgdGhlIGRpc3BsYXkgb2YgdGhlIGVsZW1lbnRzIGluIGEgc2Vjb25kIGxvb3AgdG8gYXZvaWQgY29uc3RhbnQgcmVmbG93XFxuXFx0Zm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcXG5cXHRcXHRpZiAoIHZhbHVlc1sgaW5kZXggXSAhPSBudWxsICkge1xcblxcdFxcdFxcdGVsZW1lbnRzWyBpbmRleCBdLnN0eWxlLmRpc3BsYXkgPSB2YWx1ZXNbIGluZGV4IF07XFxuXFx0XFx0fVxcblxcdH1cXG5cXG5cXHRyZXR1cm4gZWxlbWVudHM7XFxufVxcblxcbmpRdWVyeS5mbi5leHRlbmQoIHtcXG5cXHRzaG93OiBmdW5jdGlvbigpIHtcXG5cXHRcXHRyZXR1cm4gc2hvd0hpZGUoIHRoaXMsIHRydWUgKTtcXG5cXHR9LFxcblxcdGhpZGU6IGZ1bmN0aW9uKCkge1xcblxcdFxcdHJldHVybiBzaG93SGlkZSggdGhpcyApO1xcblxcdH0sXFxuXFx0dG9nZ2xlOiBmdW5jdGlvbiggc3RhdGUgKSB7XFxuXFx0XFx0aWYgKCB0eXBlb2Ygc3RhdGUgPT09IFxcXCJib29sZWFuXFxcIiApIHtcXG5cXHRcXHRcXHRyZXR1cm4gc3RhdGUgPyB0aGlzLnNob3coKSA6IHRoaXMuaGlkZSgpO1xcblxcdFxcdH1cXG5cXG5cXHRcXHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHRpZiAoIGlzSGlkZGVuV2l0aGluVHJlZSggdGhpcyApICkge1xcblxcdFxcdFxcdFxcdGpRdWVyeSggdGhpcyApLnNob3coKTtcXG5cXHRcXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdFxcdGpRdWVyeSggdGhpcyApLmhpZGUoKTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fSApO1xcblxcdH1cXG59ICk7XFxudmFyIHJjaGVja2FibGVUeXBlID0gKCAvXig/OmNoZWNrYm94fHJhZGlvKSQvaSApO1xcblxcbnZhciBydGFnTmFtZSA9ICggLzwoW2Etel1bXlxcXFwvXFxcXDA+XFxcXHgyMFxcXFx0XFxcXHJcXFxcblxcXFxmXSspL2kgKTtcXG5cXG52YXIgcnNjcmlwdFR5cGUgPSAoIC9eJHxcXFxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSApO1xcblxcblxcblxcbi8vIFdlIGhhdmUgdG8gY2xvc2UgdGhlc2UgdGFncyB0byBzdXBwb3J0IFhIVE1MICgjMTMyMDApXFxudmFyIHdyYXBNYXAgPSB7XFxuXFxuXFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcXG5cXHRvcHRpb246IFsgMSwgXFxcIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz5cXFwiLCBcXFwiPC9zZWxlY3Q+XFxcIiBdLFxcblxcblxcdC8vIFhIVE1MIHBhcnNlcnMgZG8gbm90IG1hZ2ljYWxseSBpbnNlcnQgZWxlbWVudHMgaW4gdGhlXFxuXFx0Ly8gc2FtZSB3YXkgdGhhdCB0YWcgc291cCBwYXJzZXJzIGRvLiBTbyB3ZSBjYW5ub3Qgc2hvcnRlblxcblxcdC8vIHRoaXMgYnkgb21pdHRpbmcgPHRib2R5PiBvciBvdGhlciByZXF1aXJlZCBlbGVtZW50cy5cXG5cXHR0aGVhZDogWyAxLCBcXFwiPHRhYmxlPlxcXCIsIFxcXCI8L3RhYmxlPlxcXCIgXSxcXG5cXHRjb2w6IFsgMiwgXFxcIjx0YWJsZT48Y29sZ3JvdXA+XFxcIiwgXFxcIjwvY29sZ3JvdXA+PC90YWJsZT5cXFwiIF0sXFxuXFx0dHI6IFsgMiwgXFxcIjx0YWJsZT48dGJvZHk+XFxcIiwgXFxcIjwvdGJvZHk+PC90YWJsZT5cXFwiIF0sXFxuXFx0dGQ6IFsgMywgXFxcIjx0YWJsZT48dGJvZHk+PHRyPlxcXCIsIFxcXCI8L3RyPjwvdGJvZHk+PC90YWJsZT5cXFwiIF0sXFxuXFxuXFx0X2RlZmF1bHQ6IFsgMCwgXFxcIlxcXCIsIFxcXCJcXFwiIF1cXG59O1xcblxcbi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XFxud3JhcE1hcC5vcHRncm91cCA9IHdyYXBNYXAub3B0aW9uO1xcblxcbndyYXBNYXAudGJvZHkgPSB3cmFwTWFwLnRmb290ID0gd3JhcE1hcC5jb2xncm91cCA9IHdyYXBNYXAuY2FwdGlvbiA9IHdyYXBNYXAudGhlYWQ7XFxud3JhcE1hcC50aCA9IHdyYXBNYXAudGQ7XFxuXFxuXFxuZnVuY3Rpb24gZ2V0QWxsKCBjb250ZXh0LCB0YWcgKSB7XFxuXFxuXFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxcblxcdC8vIFVzZSB0eXBlb2YgdG8gYXZvaWQgemVyby1hcmd1bWVudCBtZXRob2QgaW52b2NhdGlvbiBvbiBob3N0IG9iamVjdHMgKCMxNTE1MSlcXG5cXHR2YXIgcmV0O1xcblxcblxcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFxcXCJ1bmRlZmluZWRcXFwiICkge1xcblxcdFxcdHJldCA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyB8fCBcXFwiKlxcXCIgKTtcXG5cXG5cXHR9IGVsc2UgaWYgKCB0eXBlb2YgY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsICE9PSBcXFwidW5kZWZpbmVkXFxcIiApIHtcXG5cXHRcXHRyZXQgPSBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyB8fCBcXFwiKlxcXCIgKTtcXG5cXG5cXHR9IGVsc2Uge1xcblxcdFxcdHJldCA9IFtdO1xcblxcdH1cXG5cXG5cXHRpZiAoIHRhZyA9PT0gdW5kZWZpbmVkIHx8IHRhZyAmJiBqUXVlcnkubm9kZU5hbWUoIGNvbnRleHQsIHRhZyApICkge1xcblxcdFxcdHJldHVybiBqUXVlcnkubWVyZ2UoIFsgY29udGV4dCBdLCByZXQgKTtcXG5cXHR9XFxuXFxuXFx0cmV0dXJuIHJldDtcXG59XFxuXFxuXFxuLy8gTWFyayBzY3JpcHRzIGFzIGhhdmluZyBhbHJlYWR5IGJlZW4gZXZhbHVhdGVkXFxuZnVuY3Rpb24gc2V0R2xvYmFsRXZhbCggZWxlbXMsIHJlZkVsZW1lbnRzICkge1xcblxcdHZhciBpID0gMCxcXG5cXHRcXHRsID0gZWxlbXMubGVuZ3RoO1xcblxcblxcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcXG5cXHRcXHRkYXRhUHJpdi5zZXQoXFxuXFx0XFx0XFx0ZWxlbXNbIGkgXSxcXG5cXHRcXHRcXHRcXFwiZ2xvYmFsRXZhbFxcXCIsXFxuXFx0XFx0XFx0IXJlZkVsZW1lbnRzIHx8IGRhdGFQcml2LmdldCggcmVmRWxlbWVudHNbIGkgXSwgXFxcImdsb2JhbEV2YWxcXFwiIClcXG5cXHRcXHQpO1xcblxcdH1cXG59XFxuXFxuXFxudmFyIHJodG1sID0gLzx8JiM/XFxcXHcrOy87XFxuXFxuZnVuY3Rpb24gYnVpbGRGcmFnbWVudCggZWxlbXMsIGNvbnRleHQsIHNjcmlwdHMsIHNlbGVjdGlvbiwgaWdub3JlZCApIHtcXG5cXHR2YXIgZWxlbSwgdG1wLCB0YWcsIHdyYXAsIGNvbnRhaW5zLCBqLFxcblxcdFxcdGZyYWdtZW50ID0gY29udGV4dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXFxuXFx0XFx0bm9kZXMgPSBbXSxcXG5cXHRcXHRpID0gMCxcXG5cXHRcXHRsID0gZWxlbXMubGVuZ3RoO1xcblxcblxcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcXG5cXHRcXHRlbGVtID0gZWxlbXNbIGkgXTtcXG5cXG5cXHRcXHRpZiAoIGVsZW0gfHwgZWxlbSA9PT0gMCApIHtcXG5cXG5cXHRcXHRcXHQvLyBBZGQgbm9kZXMgZGlyZWN0bHlcXG5cXHRcXHRcXHRpZiAoIGpRdWVyeS50eXBlKCBlbGVtICkgPT09IFxcXCJvYmplY3RcXFwiICkge1xcblxcblxcdFxcdFxcdFxcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxcblxcdFxcdFxcdFxcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcXG5cXHRcXHRcXHRcXHRqUXVlcnkubWVyZ2UoIG5vZGVzLCBlbGVtLm5vZGVUeXBlID8gWyBlbGVtIF0gOiBlbGVtICk7XFxuXFxuXFx0XFx0XFx0Ly8gQ29udmVydCBub24taHRtbCBpbnRvIGEgdGV4dCBub2RlXFxuXFx0XFx0XFx0fSBlbHNlIGlmICggIXJodG1sLnRlc3QoIGVsZW0gKSApIHtcXG5cXHRcXHRcXHRcXHRub2Rlcy5wdXNoKCBjb250ZXh0LmNyZWF0ZVRleHROb2RlKCBlbGVtICkgKTtcXG5cXG5cXHRcXHRcXHQvLyBDb252ZXJ0IGh0bWwgaW50byBET00gbm9kZXNcXG5cXHRcXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdFxcdHRtcCA9IHRtcCB8fCBmcmFnbWVudC5hcHBlbmRDaGlsZCggY29udGV4dC5jcmVhdGVFbGVtZW50KCBcXFwiZGl2XFxcIiApICk7XFxuXFxuXFx0XFx0XFx0XFx0Ly8gRGVzZXJpYWxpemUgYSBzdGFuZGFyZCByZXByZXNlbnRhdGlvblxcblxcdFxcdFxcdFxcdHRhZyA9ICggcnRhZ05hbWUuZXhlYyggZWxlbSApIHx8IFsgXFxcIlxcXCIsIFxcXCJcXFwiIF0gKVsgMSBdLnRvTG93ZXJDYXNlKCk7XFxuXFx0XFx0XFx0XFx0d3JhcCA9IHdyYXBNYXBbIHRhZyBdIHx8IHdyYXBNYXAuX2RlZmF1bHQ7XFxuXFx0XFx0XFx0XFx0dG1wLmlubmVySFRNTCA9IHdyYXBbIDEgXSArIGpRdWVyeS5odG1sUHJlZmlsdGVyKCBlbGVtICkgKyB3cmFwWyAyIF07XFxuXFxuXFx0XFx0XFx0XFx0Ly8gRGVzY2VuZCB0aHJvdWdoIHdyYXBwZXJzIHRvIHRoZSByaWdodCBjb250ZW50XFxuXFx0XFx0XFx0XFx0aiA9IHdyYXBbIDAgXTtcXG5cXHRcXHRcXHRcXHR3aGlsZSAoIGotLSApIHtcXG5cXHRcXHRcXHRcXHRcXHR0bXAgPSB0bXAubGFzdENoaWxkO1xcblxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcXG5cXHRcXHRcXHRcXHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XFxuXFx0XFx0XFx0XFx0alF1ZXJ5Lm1lcmdlKCBub2RlcywgdG1wLmNoaWxkTm9kZXMgKTtcXG5cXG5cXHRcXHRcXHRcXHQvLyBSZW1lbWJlciB0aGUgdG9wLWxldmVsIGNvbnRhaW5lclxcblxcdFxcdFxcdFxcdHRtcCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XFxuXFxuXFx0XFx0XFx0XFx0Ly8gRW5zdXJlIHRoZSBjcmVhdGVkIG5vZGVzIGFyZSBvcnBoYW5lZCAoIzEyMzkyKVxcblxcdFxcdFxcdFxcdHRtcC50ZXh0Q29udGVudCA9IFxcXCJcXFwiO1xcblxcdFxcdFxcdH1cXG5cXHRcXHR9XFxuXFx0fVxcblxcblxcdC8vIFJlbW92ZSB3cmFwcGVyIGZyb20gZnJhZ21lbnRcXG5cXHRmcmFnbWVudC50ZXh0Q29udGVudCA9IFxcXCJcXFwiO1xcblxcblxcdGkgPSAwO1xcblxcdHdoaWxlICggKCBlbGVtID0gbm9kZXNbIGkrKyBdICkgKSB7XFxuXFxuXFx0XFx0Ly8gU2tpcCBlbGVtZW50cyBhbHJlYWR5IGluIHRoZSBjb250ZXh0IGNvbGxlY3Rpb24gKHRyYWMtNDA4NylcXG5cXHRcXHRpZiAoIHNlbGVjdGlvbiAmJiBqUXVlcnkuaW5BcnJheSggZWxlbSwgc2VsZWN0aW9uICkgPiAtMSApIHtcXG5cXHRcXHRcXHRpZiAoIGlnbm9yZWQgKSB7XFxuXFx0XFx0XFx0XFx0aWdub3JlZC5wdXNoKCBlbGVtICk7XFxuXFx0XFx0XFx0fVxcblxcdFxcdFxcdGNvbnRpbnVlO1xcblxcdFxcdH1cXG5cXG5cXHRcXHRjb250YWlucyA9IGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICk7XFxuXFxuXFx0XFx0Ly8gQXBwZW5kIHRvIGZyYWdtZW50XFxuXFx0XFx0dG1wID0gZ2V0QWxsKCBmcmFnbWVudC5hcHBlbmRDaGlsZCggZWxlbSApLCBcXFwic2NyaXB0XFxcIiApO1xcblxcblxcdFxcdC8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3RvcnlcXG5cXHRcXHRpZiAoIGNvbnRhaW5zICkge1xcblxcdFxcdFxcdHNldEdsb2JhbEV2YWwoIHRtcCApO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBDYXB0dXJlIGV4ZWN1dGFibGVzXFxuXFx0XFx0aWYgKCBzY3JpcHRzICkge1xcblxcdFxcdFxcdGogPSAwO1xcblxcdFxcdFxcdHdoaWxlICggKCBlbGVtID0gdG1wWyBqKysgXSApICkge1xcblxcdFxcdFxcdFxcdGlmICggcnNjcmlwdFR5cGUudGVzdCggZWxlbS50eXBlIHx8IFxcXCJcXFwiICkgKSB7XFxuXFx0XFx0XFx0XFx0XFx0c2NyaXB0cy5wdXNoKCBlbGVtICk7XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH1cXG5cXHRcXHR9XFxuXFx0fVxcblxcblxcdHJldHVybiBmcmFnbWVudDtcXG59XFxuXFxuXFxuKCBmdW5jdGlvbigpIHtcXG5cXHR2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXFxuXFx0XFx0ZGl2ID0gZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFxcXCJkaXZcXFwiICkgKSxcXG5cXHRcXHRpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFxcXCJpbnB1dFxcXCIgKTtcXG5cXG5cXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5XFxuXFx0Ly8gQ2hlY2sgc3RhdGUgbG9zdCBpZiB0aGUgbmFtZSBpcyBzZXQgKCMxMTIxNylcXG5cXHQvLyBTdXBwb3J0OiBXaW5kb3dzIFdlYiBBcHBzIChXV0EpXFxuXFx0Ly8gYG5hbWVgIGFuZCBgdHlwZWAgbXVzdCB1c2UgLnNldEF0dHJpYnV0ZSBmb3IgV1dBICgjMTQ5MDEpXFxuXFx0aW5wdXQuc2V0QXR0cmlidXRlKCBcXFwidHlwZVxcXCIsIFxcXCJyYWRpb1xcXCIgKTtcXG5cXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFxcXCJjaGVja2VkXFxcIiwgXFxcImNoZWNrZWRcXFwiICk7XFxuXFx0aW5wdXQuc2V0QXR0cmlidXRlKCBcXFwibmFtZVxcXCIsIFxcXCJ0XFxcIiApO1xcblxcblxcdGRpdi5hcHBlbmRDaGlsZCggaW5wdXQgKTtcXG5cXG5cXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4xIG9ubHlcXG5cXHQvLyBPbGRlciBXZWJLaXQgZG9lc24ndCBjbG9uZSBjaGVja2VkIHN0YXRlIGNvcnJlY3RseSBpbiBmcmFnbWVudHNcXG5cXHRzdXBwb3J0LmNoZWNrQ2xvbmUgPSBkaXYuY2xvbmVOb2RlKCB0cnVlICkuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmNoZWNrZWQ7XFxuXFxuXFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XFxuXFx0Ly8gTWFrZSBzdXJlIHRleHRhcmVhIChhbmQgY2hlY2tib3gpIGRlZmF1bHRWYWx1ZSBpcyBwcm9wZXJseSBjbG9uZWRcXG5cXHRkaXYuaW5uZXJIVE1MID0gXFxcIjx0ZXh0YXJlYT54PC90ZXh0YXJlYT5cXFwiO1xcblxcdHN1cHBvcnQubm9DbG9uZUNoZWNrZWQgPSAhIWRpdi5jbG9uZU5vZGUoIHRydWUgKS5sYXN0Q2hpbGQuZGVmYXVsdFZhbHVlO1xcbn0gKSgpO1xcbnZhciBkb2N1bWVudEVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XFxuXFxuXFxuXFxudmFyXFxuXFx0cmtleUV2ZW50ID0gL15rZXkvLFxcblxcdHJtb3VzZUV2ZW50ID0gL14oPzptb3VzZXxwb2ludGVyfGNvbnRleHRtZW51fGRyYWd8ZHJvcCl8Y2xpY2svLFxcblxcdHJ0eXBlbmFtZXNwYWNlID0gL14oW14uXSopKD86XFxcXC4oLispfCkvO1xcblxcbmZ1bmN0aW9uIHJldHVyblRydWUoKSB7XFxuXFx0cmV0dXJuIHRydWU7XFxufVxcblxcbmZ1bmN0aW9uIHJldHVybkZhbHNlKCkge1xcblxcdHJldHVybiBmYWxzZTtcXG59XFxuXFxuLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcXG4vLyBTZWUgIzEzMzkzIGZvciBtb3JlIGluZm9cXG5mdW5jdGlvbiBzYWZlQWN0aXZlRWxlbWVudCgpIHtcXG5cXHR0cnkge1xcblxcdFxcdHJldHVybiBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xcblxcdH0gY2F0Y2ggKCBlcnIgKSB7IH1cXG59XFxuXFxuZnVuY3Rpb24gb24oIGVsZW0sIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIG9uZSApIHtcXG5cXHR2YXIgb3JpZ0ZuLCB0eXBlO1xcblxcblxcdC8vIFR5cGVzIGNhbiBiZSBhIG1hcCBvZiB0eXBlcy9oYW5kbGVyc1xcblxcdGlmICggdHlwZW9mIHR5cGVzID09PSBcXFwib2JqZWN0XFxcIiApIHtcXG5cXG5cXHRcXHQvLyAoIHR5cGVzLU9iamVjdCwgc2VsZWN0b3IsIGRhdGEgKVxcblxcdFxcdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcXFwic3RyaW5nXFxcIiApIHtcXG5cXG5cXHRcXHRcXHQvLyAoIHR5cGVzLU9iamVjdCwgZGF0YSApXFxuXFx0XFx0XFx0ZGF0YSA9IGRhdGEgfHwgc2VsZWN0b3I7XFxuXFx0XFx0XFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XFxuXFx0XFx0fVxcblxcdFxcdGZvciAoIHR5cGUgaW4gdHlwZXMgKSB7XFxuXFx0XFx0XFx0b24oIGVsZW0sIHR5cGUsIHNlbGVjdG9yLCBkYXRhLCB0eXBlc1sgdHlwZSBdLCBvbmUgKTtcXG5cXHRcXHR9XFxuXFx0XFx0cmV0dXJuIGVsZW07XFxuXFx0fVxcblxcblxcdGlmICggZGF0YSA9PSBudWxsICYmIGZuID09IG51bGwgKSB7XFxuXFxuXFx0XFx0Ly8gKCB0eXBlcywgZm4gKVxcblxcdFxcdGZuID0gc2VsZWN0b3I7XFxuXFx0XFx0ZGF0YSA9IHNlbGVjdG9yID0gdW5kZWZpbmVkO1xcblxcdH0gZWxzZSBpZiAoIGZuID09IG51bGwgKSB7XFxuXFx0XFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09IFxcXCJzdHJpbmdcXFwiICkge1xcblxcblxcdFxcdFxcdC8vICggdHlwZXMsIHNlbGVjdG9yLCBmbiApXFxuXFx0XFx0XFx0Zm4gPSBkYXRhO1xcblxcdFxcdFxcdGRhdGEgPSB1bmRlZmluZWQ7XFxuXFx0XFx0fSBlbHNlIHtcXG5cXG5cXHRcXHRcXHQvLyAoIHR5cGVzLCBkYXRhLCBmbiApXFxuXFx0XFx0XFx0Zm4gPSBkYXRhO1xcblxcdFxcdFxcdGRhdGEgPSBzZWxlY3RvcjtcXG5cXHRcXHRcXHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcXG5cXHRcXHR9XFxuXFx0fVxcblxcdGlmICggZm4gPT09IGZhbHNlICkge1xcblxcdFxcdGZuID0gcmV0dXJuRmFsc2U7XFxuXFx0fSBlbHNlIGlmICggIWZuICkge1xcblxcdFxcdHJldHVybiBlbGVtO1xcblxcdH1cXG5cXG5cXHRpZiAoIG9uZSA9PT0gMSApIHtcXG5cXHRcXHRvcmlnRm4gPSBmbjtcXG5cXHRcXHRmbiA9IGZ1bmN0aW9uKCBldmVudCApIHtcXG5cXG5cXHRcXHRcXHQvLyBDYW4gdXNlIGFuIGVtcHR5IHNldCwgc2luY2UgZXZlbnQgY29udGFpbnMgdGhlIGluZm9cXG5cXHRcXHRcXHRqUXVlcnkoKS5vZmYoIGV2ZW50ICk7XFxuXFx0XFx0XFx0cmV0dXJuIG9yaWdGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XFxuXFx0XFx0fTtcXG5cXG5cXHRcXHQvLyBVc2Ugc2FtZSBndWlkIHNvIGNhbGxlciBjYW4gcmVtb3ZlIHVzaW5nIG9yaWdGblxcblxcdFxcdGZuLmd1aWQgPSBvcmlnRm4uZ3VpZCB8fCAoIG9yaWdGbi5ndWlkID0galF1ZXJ5Lmd1aWQrKyApO1xcblxcdH1cXG5cXHRyZXR1cm4gZWxlbS5lYWNoKCBmdW5jdGlvbigpIHtcXG5cXHRcXHRqUXVlcnkuZXZlbnQuYWRkKCB0aGlzLCB0eXBlcywgZm4sIGRhdGEsIHNlbGVjdG9yICk7XFxuXFx0fSApO1xcbn1cXG5cXG4vKlxcbiAqIEhlbHBlciBmdW5jdGlvbnMgZm9yIG1hbmFnaW5nIGV2ZW50cyAtLSBub3QgcGFydCBvZiB0aGUgcHVibGljIGludGVyZmFjZS5cXG4gKiBQcm9wcyB0byBEZWFuIEVkd2FyZHMnIGFkZEV2ZW50IGxpYnJhcnkgZm9yIG1hbnkgb2YgdGhlIGlkZWFzLlxcbiAqL1xcbmpRdWVyeS5ldmVudCA9IHtcXG5cXG5cXHRnbG9iYWw6IHt9LFxcblxcblxcdGFkZDogZnVuY3Rpb24oIGVsZW0sIHR5cGVzLCBoYW5kbGVyLCBkYXRhLCBzZWxlY3RvciApIHtcXG5cXG5cXHRcXHR2YXIgaGFuZGxlT2JqSW4sIGV2ZW50SGFuZGxlLCB0bXAsXFxuXFx0XFx0XFx0ZXZlbnRzLCB0LCBoYW5kbGVPYmosXFxuXFx0XFx0XFx0c3BlY2lhbCwgaGFuZGxlcnMsIHR5cGUsIG5hbWVzcGFjZXMsIG9yaWdUeXBlLFxcblxcdFxcdFxcdGVsZW1EYXRhID0gZGF0YVByaXYuZ2V0KCBlbGVtICk7XFxuXFxuXFx0XFx0Ly8gRG9uJ3QgYXR0YWNoIGV2ZW50cyB0byBub0RhdGEgb3IgdGV4dC9jb21tZW50IG5vZGVzIChidXQgYWxsb3cgcGxhaW4gb2JqZWN0cylcXG5cXHRcXHRpZiAoICFlbGVtRGF0YSApIHtcXG5cXHRcXHRcXHRyZXR1cm47XFxuXFx0XFx0fVxcblxcblxcdFxcdC8vIENhbGxlciBjYW4gcGFzcyBpbiBhbiBvYmplY3Qgb2YgY3VzdG9tIGRhdGEgaW4gbGlldSBvZiB0aGUgaGFuZGxlclxcblxcdFxcdGlmICggaGFuZGxlci5oYW5kbGVyICkge1xcblxcdFxcdFxcdGhhbmRsZU9iakluID0gaGFuZGxlcjtcXG5cXHRcXHRcXHRoYW5kbGVyID0gaGFuZGxlT2JqSW4uaGFuZGxlcjtcXG5cXHRcXHRcXHRzZWxlY3RvciA9IGhhbmRsZU9iakluLnNlbGVjdG9yO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBFbnN1cmUgdGhhdCBpbnZhbGlkIHNlbGVjdG9ycyB0aHJvdyBleGNlcHRpb25zIGF0IGF0dGFjaCB0aW1lXFxuXFx0XFx0Ly8gRXZhbHVhdGUgYWdhaW5zdCBkb2N1bWVudEVsZW1lbnQgaW4gY2FzZSBlbGVtIGlzIGEgbm9uLWVsZW1lbnQgbm9kZSAoZS5nLiwgZG9jdW1lbnQpXFxuXFx0XFx0aWYgKCBzZWxlY3RvciApIHtcXG5cXHRcXHRcXHRqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGRvY3VtZW50RWxlbWVudCwgc2VsZWN0b3IgKTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gTWFrZSBzdXJlIHRoYXQgdGhlIGhhbmRsZXIgaGFzIGEgdW5pcXVlIElELCB1c2VkIHRvIGZpbmQvcmVtb3ZlIGl0IGxhdGVyXFxuXFx0XFx0aWYgKCAhaGFuZGxlci5ndWlkICkge1xcblxcdFxcdFxcdGhhbmRsZXIuZ3VpZCA9IGpRdWVyeS5ndWlkKys7XFxuXFx0XFx0fVxcblxcblxcdFxcdC8vIEluaXQgdGhlIGVsZW1lbnQncyBldmVudCBzdHJ1Y3R1cmUgYW5kIG1haW4gaGFuZGxlciwgaWYgdGhpcyBpcyB0aGUgZmlyc3RcXG5cXHRcXHRpZiAoICEoIGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyApICkge1xcblxcdFxcdFxcdGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyA9IHt9O1xcblxcdFxcdH1cXG5cXHRcXHRpZiAoICEoIGV2ZW50SGFuZGxlID0gZWxlbURhdGEuaGFuZGxlICkgKSB7XFxuXFx0XFx0XFx0ZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgPSBmdW5jdGlvbiggZSApIHtcXG5cXG5cXHRcXHRcXHRcXHQvLyBEaXNjYXJkIHRoZSBzZWNvbmQgZXZlbnQgb2YgYSBqUXVlcnkuZXZlbnQudHJpZ2dlcigpIGFuZFxcblxcdFxcdFxcdFxcdC8vIHdoZW4gYW4gZXZlbnQgaXMgY2FsbGVkIGFmdGVyIGEgcGFnZSBoYXMgdW5sb2FkZWRcXG5cXHRcXHRcXHRcXHRyZXR1cm4gdHlwZW9mIGpRdWVyeSAhPT0gXFxcInVuZGVmaW5lZFxcXCIgJiYgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCAhPT0gZS50eXBlID9cXG5cXHRcXHRcXHRcXHRcXHRqUXVlcnkuZXZlbnQuZGlzcGF0Y2guYXBwbHkoIGVsZW0sIGFyZ3VtZW50cyApIDogdW5kZWZpbmVkO1xcblxcdFxcdFxcdH07XFxuXFx0XFx0fVxcblxcblxcdFxcdC8vIEhhbmRsZSBtdWx0aXBsZSBldmVudHMgc2VwYXJhdGVkIGJ5IGEgc3BhY2VcXG5cXHRcXHR0eXBlcyA9ICggdHlwZXMgfHwgXFxcIlxcXCIgKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFsgXFxcIlxcXCIgXTtcXG5cXHRcXHR0ID0gdHlwZXMubGVuZ3RoO1xcblxcdFxcdHdoaWxlICggdC0tICkge1xcblxcdFxcdFxcdHRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzWyB0IF0gKSB8fCBbXTtcXG5cXHRcXHRcXHR0eXBlID0gb3JpZ1R5cGUgPSB0bXBbIDEgXTtcXG5cXHRcXHRcXHRuYW1lc3BhY2VzID0gKCB0bXBbIDIgXSB8fCBcXFwiXFxcIiApLnNwbGl0KCBcXFwiLlxcXCIgKS5zb3J0KCk7XFxuXFxuXFx0XFx0XFx0Ly8gVGhlcmUgKm11c3QqIGJlIGEgdHlwZSwgbm8gYXR0YWNoaW5nIG5hbWVzcGFjZS1vbmx5IGhhbmRsZXJzXFxuXFx0XFx0XFx0aWYgKCAhdHlwZSApIHtcXG5cXHRcXHRcXHRcXHRjb250aW51ZTtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0Ly8gSWYgZXZlbnQgY2hhbmdlcyBpdHMgdHlwZSwgdXNlIHRoZSBzcGVjaWFsIGV2ZW50IGhhbmRsZXJzIGZvciB0aGUgY2hhbmdlZCB0eXBlXFxuXFx0XFx0XFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XFxuXFxuXFx0XFx0XFx0Ly8gSWYgc2VsZWN0b3IgZGVmaW5lZCwgZGV0ZXJtaW5lIHNwZWNpYWwgZXZlbnQgYXBpIHR5cGUsIG90aGVyd2lzZSBnaXZlbiB0eXBlXFxuXFx0XFx0XFx0dHlwZSA9ICggc2VsZWN0b3IgPyBzcGVjaWFsLmRlbGVnYXRlVHlwZSA6IHNwZWNpYWwuYmluZFR5cGUgKSB8fCB0eXBlO1xcblxcblxcdFxcdFxcdC8vIFVwZGF0ZSBzcGVjaWFsIGJhc2VkIG9uIG5ld2x5IHJlc2V0IHR5cGVcXG5cXHRcXHRcXHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcXG5cXG5cXHRcXHRcXHQvLyBoYW5kbGVPYmogaXMgcGFzc2VkIHRvIGFsbCBldmVudCBoYW5kbGVyc1xcblxcdFxcdFxcdGhhbmRsZU9iaiA9IGpRdWVyeS5leHRlbmQoIHtcXG5cXHRcXHRcXHRcXHR0eXBlOiB0eXBlLFxcblxcdFxcdFxcdFxcdG9yaWdUeXBlOiBvcmlnVHlwZSxcXG5cXHRcXHRcXHRcXHRkYXRhOiBkYXRhLFxcblxcdFxcdFxcdFxcdGhhbmRsZXI6IGhhbmRsZXIsXFxuXFx0XFx0XFx0XFx0Z3VpZDogaGFuZGxlci5ndWlkLFxcblxcdFxcdFxcdFxcdHNlbGVjdG9yOiBzZWxlY3RvcixcXG5cXHRcXHRcXHRcXHRuZWVkc0NvbnRleHQ6IHNlbGVjdG9yICYmIGpRdWVyeS5leHByLm1hdGNoLm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvciApLFxcblxcdFxcdFxcdFxcdG5hbWVzcGFjZTogbmFtZXNwYWNlcy5qb2luKCBcXFwiLlxcXCIgKVxcblxcdFxcdFxcdH0sIGhhbmRsZU9iakluICk7XFxuXFxuXFx0XFx0XFx0Ly8gSW5pdCB0aGUgZXZlbnQgaGFuZGxlciBxdWV1ZSBpZiB3ZSdyZSB0aGUgZmlyc3RcXG5cXHRcXHRcXHRpZiAoICEoIGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gKSApIHtcXG5cXHRcXHRcXHRcXHRoYW5kbGVycyA9IGV2ZW50c1sgdHlwZSBdID0gW107XFxuXFx0XFx0XFx0XFx0aGFuZGxlcnMuZGVsZWdhdGVDb3VudCA9IDA7XFxuXFxuXFx0XFx0XFx0XFx0Ly8gT25seSB1c2UgYWRkRXZlbnRMaXN0ZW5lciBpZiB0aGUgc3BlY2lhbCBldmVudHMgaGFuZGxlciByZXR1cm5zIGZhbHNlXFxuXFx0XFx0XFx0XFx0aWYgKCAhc3BlY2lhbC5zZXR1cCB8fFxcblxcdFxcdFxcdFxcdFxcdHNwZWNpYWwuc2V0dXAuY2FsbCggZWxlbSwgZGF0YSwgbmFtZXNwYWNlcywgZXZlbnRIYW5kbGUgKSA9PT0gZmFsc2UgKSB7XFxuXFxuXFx0XFx0XFx0XFx0XFx0aWYgKCBlbGVtLmFkZEV2ZW50TGlzdGVuZXIgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0ZWxlbS5hZGRFdmVudExpc3RlbmVyKCB0eXBlLCBldmVudEhhbmRsZSApO1xcblxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdGlmICggc3BlY2lhbC5hZGQgKSB7XFxuXFx0XFx0XFx0XFx0c3BlY2lhbC5hZGQuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XFxuXFxuXFx0XFx0XFx0XFx0aWYgKCAhaGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCApIHtcXG5cXHRcXHRcXHRcXHRcXHRoYW5kbGVPYmouaGFuZGxlci5ndWlkID0gaGFuZGxlci5ndWlkO1xcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0Ly8gQWRkIHRvIHRoZSBlbGVtZW50J3MgaGFuZGxlciBsaXN0LCBkZWxlZ2F0ZXMgaW4gZnJvbnRcXG5cXHRcXHRcXHRpZiAoIHNlbGVjdG9yICkge1xcblxcdFxcdFxcdFxcdGhhbmRsZXJzLnNwbGljZSggaGFuZGxlcnMuZGVsZWdhdGVDb3VudCsrLCAwLCBoYW5kbGVPYmogKTtcXG5cXHRcXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdFxcdGhhbmRsZXJzLnB1c2goIGhhbmRsZU9iaiApO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHQvLyBLZWVwIHRyYWNrIG9mIHdoaWNoIGV2ZW50cyBoYXZlIGV2ZXIgYmVlbiB1c2VkLCBmb3IgZXZlbnQgb3B0aW1pemF0aW9uXFxuXFx0XFx0XFx0alF1ZXJ5LmV2ZW50Lmdsb2JhbFsgdHlwZSBdID0gdHJ1ZTtcXG5cXHRcXHR9XFxuXFxuXFx0fSxcXG5cXG5cXHQvLyBEZXRhY2ggYW4gZXZlbnQgb3Igc2V0IG9mIGV2ZW50cyBmcm9tIGFuIGVsZW1lbnRcXG5cXHRyZW1vdmU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgc2VsZWN0b3IsIG1hcHBlZFR5cGVzICkge1xcblxcblxcdFxcdHZhciBqLCBvcmlnQ291bnQsIHRtcCxcXG5cXHRcXHRcXHRldmVudHMsIHQsIGhhbmRsZU9iaixcXG5cXHRcXHRcXHRzcGVjaWFsLCBoYW5kbGVycywgdHlwZSwgbmFtZXNwYWNlcywgb3JpZ1R5cGUsXFxuXFx0XFx0XFx0ZWxlbURhdGEgPSBkYXRhUHJpdi5oYXNEYXRhKCBlbGVtICkgJiYgZGF0YVByaXYuZ2V0KCBlbGVtICk7XFxuXFxuXFx0XFx0aWYgKCAhZWxlbURhdGEgfHwgISggZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzICkgKSB7XFxuXFx0XFx0XFx0cmV0dXJuO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBPbmNlIGZvciBlYWNoIHR5cGUubmFtZXNwYWNlIGluIHR5cGVzOyB0eXBlIG1heSBiZSBvbWl0dGVkXFxuXFx0XFx0dHlwZXMgPSAoIHR5cGVzIHx8IFxcXCJcXFwiICkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbIFxcXCJcXFwiIF07XFxuXFx0XFx0dCA9IHR5cGVzLmxlbmd0aDtcXG5cXHRcXHR3aGlsZSAoIHQtLSApIHtcXG5cXHRcXHRcXHR0bXAgPSBydHlwZW5hbWVzcGFjZS5leGVjKCB0eXBlc1sgdCBdICkgfHwgW107XFxuXFx0XFx0XFx0dHlwZSA9IG9yaWdUeXBlID0gdG1wWyAxIF07XFxuXFx0XFx0XFx0bmFtZXNwYWNlcyA9ICggdG1wWyAyIF0gfHwgXFxcIlxcXCIgKS5zcGxpdCggXFxcIi5cXFwiICkuc29ydCgpO1xcblxcblxcdFxcdFxcdC8vIFVuYmluZCBhbGwgZXZlbnRzIChvbiB0aGlzIG5hbWVzcGFjZSwgaWYgcHJvdmlkZWQpIGZvciB0aGUgZWxlbWVudFxcblxcdFxcdFxcdGlmICggIXR5cGUgKSB7XFxuXFx0XFx0XFx0XFx0Zm9yICggdHlwZSBpbiBldmVudHMgKSB7XFxuXFx0XFx0XFx0XFx0XFx0alF1ZXJ5LmV2ZW50LnJlbW92ZSggZWxlbSwgdHlwZSArIHR5cGVzWyB0IF0sIGhhbmRsZXIsIHNlbGVjdG9yLCB0cnVlICk7XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdGNvbnRpbnVlO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcXG5cXHRcXHRcXHR0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7XFxuXFx0XFx0XFx0aGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSB8fCBbXTtcXG5cXHRcXHRcXHR0bXAgPSB0bXBbIDIgXSAmJlxcblxcdFxcdFxcdFxcdG5ldyBSZWdFeHAoIFxcXCIoXnxcXFxcXFxcXC4pXFxcIiArIG5hbWVzcGFjZXMuam9pbiggXFxcIlxcXFxcXFxcLig/Oi4qXFxcXFxcXFwufClcXFwiICkgKyBcXFwiKFxcXFxcXFxcLnwkKVxcXCIgKTtcXG5cXG5cXHRcXHRcXHQvLyBSZW1vdmUgbWF0Y2hpbmcgZXZlbnRzXFxuXFx0XFx0XFx0b3JpZ0NvdW50ID0gaiA9IGhhbmRsZXJzLmxlbmd0aDtcXG5cXHRcXHRcXHR3aGlsZSAoIGotLSApIHtcXG5cXHRcXHRcXHRcXHRoYW5kbGVPYmogPSBoYW5kbGVyc1sgaiBdO1xcblxcblxcdFxcdFxcdFxcdGlmICggKCBtYXBwZWRUeXBlcyB8fCBvcmlnVHlwZSA9PT0gaGFuZGxlT2JqLm9yaWdUeXBlICkgJiZcXG5cXHRcXHRcXHRcXHRcXHQoICFoYW5kbGVyIHx8IGhhbmRsZXIuZ3VpZCA9PT0gaGFuZGxlT2JqLmd1aWQgKSAmJlxcblxcdFxcdFxcdFxcdFxcdCggIXRtcCB8fCB0bXAudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkgJiZcXG5cXHRcXHRcXHRcXHRcXHQoICFzZWxlY3RvciB8fCBzZWxlY3RvciA9PT0gaGFuZGxlT2JqLnNlbGVjdG9yIHx8XFxuXFx0XFx0XFx0XFx0XFx0XFx0c2VsZWN0b3IgPT09IFxcXCIqKlxcXCIgJiYgaGFuZGxlT2JqLnNlbGVjdG9yICkgKSB7XFxuXFx0XFx0XFx0XFx0XFx0aGFuZGxlcnMuc3BsaWNlKCBqLCAxICk7XFxuXFxuXFx0XFx0XFx0XFx0XFx0aWYgKCBoYW5kbGVPYmouc2VsZWN0b3IgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0aGFuZGxlcnMuZGVsZWdhdGVDb3VudC0tO1xcblxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHRpZiAoIHNwZWNpYWwucmVtb3ZlICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdHNwZWNpYWwucmVtb3ZlLmNhbGwoIGVsZW0sIGhhbmRsZU9iaiApO1xcblxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdC8vIFJlbW92ZSBnZW5lcmljIGV2ZW50IGhhbmRsZXIgaWYgd2UgcmVtb3ZlZCBzb21ldGhpbmcgYW5kIG5vIG1vcmUgaGFuZGxlcnMgZXhpc3RcXG5cXHRcXHRcXHQvLyAoYXZvaWRzIHBvdGVudGlhbCBmb3IgZW5kbGVzcyByZWN1cnNpb24gZHVyaW5nIHJlbW92YWwgb2Ygc3BlY2lhbCBldmVudCBoYW5kbGVycylcXG5cXHRcXHRcXHRpZiAoIG9yaWdDb3VudCAmJiAhaGFuZGxlcnMubGVuZ3RoICkge1xcblxcdFxcdFxcdFxcdGlmICggIXNwZWNpYWwudGVhcmRvd24gfHxcXG5cXHRcXHRcXHRcXHRcXHRzcGVjaWFsLnRlYXJkb3duLmNhbGwoIGVsZW0sIG5hbWVzcGFjZXMsIGVsZW1EYXRhLmhhbmRsZSApID09PSBmYWxzZSApIHtcXG5cXG5cXHRcXHRcXHRcXHRcXHRqUXVlcnkucmVtb3ZlRXZlbnQoIGVsZW0sIHR5cGUsIGVsZW1EYXRhLmhhbmRsZSApO1xcblxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRkZWxldGUgZXZlbnRzWyB0eXBlIF07XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBSZW1vdmUgZGF0YSBhbmQgdGhlIGV4cGFuZG8gaWYgaXQncyBubyBsb25nZXIgdXNlZFxcblxcdFxcdGlmICggalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGV2ZW50cyApICkge1xcblxcdFxcdFxcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgXFxcImhhbmRsZSBldmVudHNcXFwiICk7XFxuXFx0XFx0fVxcblxcdH0sXFxuXFxuXFx0ZGlzcGF0Y2g6IGZ1bmN0aW9uKCBuYXRpdmVFdmVudCApIHtcXG5cXG5cXHRcXHQvLyBNYWtlIGEgd3JpdGFibGUgalF1ZXJ5LkV2ZW50IGZyb20gdGhlIG5hdGl2ZSBldmVudCBvYmplY3RcXG5cXHRcXHR2YXIgZXZlbnQgPSBqUXVlcnkuZXZlbnQuZml4KCBuYXRpdmVFdmVudCApO1xcblxcblxcdFxcdHZhciBpLCBqLCByZXQsIG1hdGNoZWQsIGhhbmRsZU9iaiwgaGFuZGxlclF1ZXVlLFxcblxcdFxcdFxcdGFyZ3MgPSBuZXcgQXJyYXkoIGFyZ3VtZW50cy5sZW5ndGggKSxcXG5cXHRcXHRcXHRoYW5kbGVycyA9ICggZGF0YVByaXYuZ2V0KCB0aGlzLCBcXFwiZXZlbnRzXFxcIiApIHx8IHt9IClbIGV2ZW50LnR5cGUgXSB8fCBbXSxcXG5cXHRcXHRcXHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGV2ZW50LnR5cGUgXSB8fCB7fTtcXG5cXG5cXHRcXHQvLyBVc2UgdGhlIGZpeC1lZCBqUXVlcnkuRXZlbnQgcmF0aGVyIHRoYW4gdGhlIChyZWFkLW9ubHkpIG5hdGl2ZSBldmVudFxcblxcdFxcdGFyZ3NbIDAgXSA9IGV2ZW50O1xcblxcblxcdFxcdGZvciAoIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrICkge1xcblxcdFxcdFxcdGFyZ3NbIGkgXSA9IGFyZ3VtZW50c1sgaSBdO1xcblxcdFxcdH1cXG5cXG5cXHRcXHRldmVudC5kZWxlZ2F0ZVRhcmdldCA9IHRoaXM7XFxuXFxuXFx0XFx0Ly8gQ2FsbCB0aGUgcHJlRGlzcGF0Y2ggaG9vayBmb3IgdGhlIG1hcHBlZCB0eXBlLCBhbmQgbGV0IGl0IGJhaWwgaWYgZGVzaXJlZFxcblxcdFxcdGlmICggc3BlY2lhbC5wcmVEaXNwYXRjaCAmJiBzcGVjaWFsLnByZURpc3BhdGNoLmNhbGwoIHRoaXMsIGV2ZW50ICkgPT09IGZhbHNlICkge1xcblxcdFxcdFxcdHJldHVybjtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gRGV0ZXJtaW5lIGhhbmRsZXJzXFxuXFx0XFx0aGFuZGxlclF1ZXVlID0galF1ZXJ5LmV2ZW50LmhhbmRsZXJzLmNhbGwoIHRoaXMsIGV2ZW50LCBoYW5kbGVycyApO1xcblxcblxcdFxcdC8vIFJ1biBkZWxlZ2F0ZXMgZmlyc3Q7IHRoZXkgbWF5IHdhbnQgdG8gc3RvcCBwcm9wYWdhdGlvbiBiZW5lYXRoIHVzXFxuXFx0XFx0aSA9IDA7XFxuXFx0XFx0d2hpbGUgKCAoIG1hdGNoZWQgPSBoYW5kbGVyUXVldWVbIGkrKyBdICkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XFxuXFx0XFx0XFx0ZXZlbnQuY3VycmVudFRhcmdldCA9IG1hdGNoZWQuZWxlbTtcXG5cXG5cXHRcXHRcXHRqID0gMDtcXG5cXHRcXHRcXHR3aGlsZSAoICggaGFuZGxlT2JqID0gbWF0Y2hlZC5oYW5kbGVyc1sgaisrIF0gKSAmJlxcblxcdFxcdFxcdFxcdCFldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xcblxcblxcdFxcdFxcdFxcdC8vIFRyaWdnZXJlZCBldmVudCBtdXN0IGVpdGhlciAxKSBoYXZlIG5vIG5hbWVzcGFjZSwgb3IgMikgaGF2ZSBuYW1lc3BhY2UocylcXG5cXHRcXHRcXHRcXHQvLyBhIHN1YnNldCBvciBlcXVhbCB0byB0aG9zZSBpbiB0aGUgYm91bmQgZXZlbnQgKGJvdGggY2FuIGhhdmUgbm8gbmFtZXNwYWNlKS5cXG5cXHRcXHRcXHRcXHRpZiAoICFldmVudC5ybmFtZXNwYWNlIHx8IGV2ZW50LnJuYW1lc3BhY2UudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkge1xcblxcblxcdFxcdFxcdFxcdFxcdGV2ZW50LmhhbmRsZU9iaiA9IGhhbmRsZU9iajtcXG5cXHRcXHRcXHRcXHRcXHRldmVudC5kYXRhID0gaGFuZGxlT2JqLmRhdGE7XFxuXFxuXFx0XFx0XFx0XFx0XFx0cmV0ID0gKCAoIGpRdWVyeS5ldmVudC5zcGVjaWFsWyBoYW5kbGVPYmoub3JpZ1R5cGUgXSB8fCB7fSApLmhhbmRsZSB8fFxcblxcdFxcdFxcdFxcdFxcdFxcdGhhbmRsZU9iai5oYW5kbGVyICkuYXBwbHkoIG1hdGNoZWQuZWxlbSwgYXJncyApO1xcblxcblxcdFxcdFxcdFxcdFxcdGlmICggcmV0ICE9PSB1bmRlZmluZWQgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0aWYgKCAoIGV2ZW50LnJlc3VsdCA9IHJldCApID09PSBmYWxzZSApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xcblxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH1cXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gQ2FsbCB0aGUgcG9zdERpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZVxcblxcdFxcdGlmICggc3BlY2lhbC5wb3N0RGlzcGF0Y2ggKSB7XFxuXFx0XFx0XFx0c3BlY2lhbC5wb3N0RGlzcGF0Y2guY2FsbCggdGhpcywgZXZlbnQgKTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0cmV0dXJuIGV2ZW50LnJlc3VsdDtcXG5cXHR9LFxcblxcblxcdGhhbmRsZXJzOiBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXJzICkge1xcblxcdFxcdHZhciBpLCBoYW5kbGVPYmosIHNlbCwgbWF0Y2hlZEhhbmRsZXJzLCBtYXRjaGVkU2VsZWN0b3JzLFxcblxcdFxcdFxcdGhhbmRsZXJRdWV1ZSA9IFtdLFxcblxcdFxcdFxcdGRlbGVnYXRlQ291bnQgPSBoYW5kbGVycy5kZWxlZ2F0ZUNvdW50LFxcblxcdFxcdFxcdGN1ciA9IGV2ZW50LnRhcmdldDtcXG5cXG5cXHRcXHQvLyBGaW5kIGRlbGVnYXRlIGhhbmRsZXJzXFxuXFx0XFx0aWYgKCBkZWxlZ2F0ZUNvdW50ICYmXFxuXFxuXFx0XFx0XFx0Ly8gU3VwcG9ydDogSUUgPD05XFxuXFx0XFx0XFx0Ly8gQmxhY2staG9sZSBTVkcgPHVzZT4gaW5zdGFuY2UgdHJlZXMgKHRyYWMtMTMxODApXFxuXFx0XFx0XFx0Y3VyLm5vZGVUeXBlICYmXFxuXFxuXFx0XFx0XFx0Ly8gU3VwcG9ydDogRmlyZWZveCA8PTQyXFxuXFx0XFx0XFx0Ly8gU3VwcHJlc3Mgc3BlYy12aW9sYXRpbmcgY2xpY2tzIGluZGljYXRpbmcgYSBub24tcHJpbWFyeSBwb2ludGVyIGJ1dHRvbiAodHJhYy0zODYxKVxcblxcdFxcdFxcdC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2V2ZW50LXR5cGUtY2xpY2tcXG5cXHRcXHRcXHQvLyBTdXBwb3J0OiBJRSAxMSBvbmx5XFxuXFx0XFx0XFx0Ly8gLi4uYnV0IG5vdCBhcnJvdyBrZXkgXFxcImNsaWNrc1xcXCIgb2YgcmFkaW8gaW5wdXRzLCB3aGljaCBjYW4gaGF2ZSBgYnV0dG9uYCAtMSAoZ2gtMjM0MylcXG5cXHRcXHRcXHQhKCBldmVudC50eXBlID09PSBcXFwiY2xpY2tcXFwiICYmIGV2ZW50LmJ1dHRvbiA+PSAxICkgKSB7XFxuXFxuXFx0XFx0XFx0Zm9yICggOyBjdXIgIT09IHRoaXM7IGN1ciA9IGN1ci5wYXJlbnROb2RlIHx8IHRoaXMgKSB7XFxuXFxuXFx0XFx0XFx0XFx0Ly8gRG9uJ3QgY2hlY2sgbm9uLWVsZW1lbnRzICgjMTMyMDgpXFxuXFx0XFx0XFx0XFx0Ly8gRG9uJ3QgcHJvY2VzcyBjbGlja3Mgb24gZGlzYWJsZWQgZWxlbWVudHMgKCM2OTExLCAjODE2NSwgIzExMzgyLCAjMTE3NjQpXFxuXFx0XFx0XFx0XFx0aWYgKCBjdXIubm9kZVR5cGUgPT09IDEgJiYgISggZXZlbnQudHlwZSA9PT0gXFxcImNsaWNrXFxcIiAmJiBjdXIuZGlzYWJsZWQgPT09IHRydWUgKSApIHtcXG5cXHRcXHRcXHRcXHRcXHRtYXRjaGVkSGFuZGxlcnMgPSBbXTtcXG5cXHRcXHRcXHRcXHRcXHRtYXRjaGVkU2VsZWN0b3JzID0ge307XFxuXFx0XFx0XFx0XFx0XFx0Zm9yICggaSA9IDA7IGkgPCBkZWxlZ2F0ZUNvdW50OyBpKysgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0aGFuZGxlT2JqID0gaGFuZGxlcnNbIGkgXTtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHQvLyBEb24ndCBjb25mbGljdCB3aXRoIE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoIzEzMjAzKVxcblxcdFxcdFxcdFxcdFxcdFxcdHNlbCA9IGhhbmRsZU9iai5zZWxlY3RvciArIFxcXCIgXFxcIjtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRpZiAoIG1hdGNoZWRTZWxlY3RvcnNbIHNlbCBdID09PSB1bmRlZmluZWQgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0bWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gPSBoYW5kbGVPYmoubmVlZHNDb250ZXh0ID9cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRqUXVlcnkoIHNlbCwgdGhpcyApLmluZGV4KCBjdXIgKSA+IC0xIDpcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRqUXVlcnkuZmluZCggc2VsLCB0aGlzLCBudWxsLCBbIGN1ciBdICkubGVuZ3RoO1xcblxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHRcXHRpZiAoIG1hdGNoZWRTZWxlY3RvcnNbIHNlbCBdICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdG1hdGNoZWRIYW5kbGVycy5wdXNoKCBoYW5kbGVPYmogKTtcXG5cXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdGlmICggbWF0Y2hlZEhhbmRsZXJzLmxlbmd0aCApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRoYW5kbGVyUXVldWUucHVzaCggeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBtYXRjaGVkSGFuZGxlcnMgfSApO1xcblxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBBZGQgdGhlIHJlbWFpbmluZyAoZGlyZWN0bHktYm91bmQpIGhhbmRsZXJzXFxuXFx0XFx0Y3VyID0gdGhpcztcXG5cXHRcXHRpZiAoIGRlbGVnYXRlQ291bnQgPCBoYW5kbGVycy5sZW5ndGggKSB7XFxuXFx0XFx0XFx0aGFuZGxlclF1ZXVlLnB1c2goIHsgZWxlbTogY3VyLCBoYW5kbGVyczogaGFuZGxlcnMuc2xpY2UoIGRlbGVnYXRlQ291bnQgKSB9ICk7XFxuXFx0XFx0fVxcblxcblxcdFxcdHJldHVybiBoYW5kbGVyUXVldWU7XFxuXFx0fSxcXG5cXG5cXHRhZGRQcm9wOiBmdW5jdGlvbiggbmFtZSwgaG9vayApIHtcXG5cXHRcXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIGpRdWVyeS5FdmVudC5wcm90b3R5cGUsIG5hbWUsIHtcXG5cXHRcXHRcXHRlbnVtZXJhYmxlOiB0cnVlLFxcblxcdFxcdFxcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcXG5cXG5cXHRcXHRcXHRnZXQ6IGpRdWVyeS5pc0Z1bmN0aW9uKCBob29rICkgP1xcblxcdFxcdFxcdFxcdGZ1bmN0aW9uKCkge1xcblxcdFxcdFxcdFxcdFxcdGlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdHJldHVybiBob29rKCB0aGlzLm9yaWdpbmFsRXZlbnQgKTtcXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0fSA6XFxuXFx0XFx0XFx0XFx0ZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0XFx0XFx0aWYgKCB0aGlzLm9yaWdpbmFsRXZlbnQgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0cmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudFsgbmFtZSBdO1xcblxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHR9LFxcblxcblxcdFxcdFxcdHNldDogZnVuY3Rpb24oIHZhbHVlICkge1xcblxcdFxcdFxcdFxcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggdGhpcywgbmFtZSwge1xcblxcdFxcdFxcdFxcdFxcdGVudW1lcmFibGU6IHRydWUsXFxuXFx0XFx0XFx0XFx0XFx0Y29uZmlndXJhYmxlOiB0cnVlLFxcblxcdFxcdFxcdFxcdFxcdHdyaXRhYmxlOiB0cnVlLFxcblxcdFxcdFxcdFxcdFxcdHZhbHVlOiB2YWx1ZVxcblxcdFxcdFxcdFxcdH0gKTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fSApO1xcblxcdH0sXFxuXFxuXFx0Zml4OiBmdW5jdGlvbiggb3JpZ2luYWxFdmVudCApIHtcXG5cXHRcXHRyZXR1cm4gb3JpZ2luYWxFdmVudFsgalF1ZXJ5LmV4cGFuZG8gXSA/XFxuXFx0XFx0XFx0b3JpZ2luYWxFdmVudCA6XFxuXFx0XFx0XFx0bmV3IGpRdWVyeS5FdmVudCggb3JpZ2luYWxFdmVudCApO1xcblxcdH0sXFxuXFxuXFx0c3BlY2lhbDoge1xcblxcdFxcdGxvYWQ6IHtcXG5cXG5cXHRcXHRcXHQvLyBQcmV2ZW50IHRyaWdnZXJlZCBpbWFnZS5sb2FkIGV2ZW50cyBmcm9tIGJ1YmJsaW5nIHRvIHdpbmRvdy5sb2FkXFxuXFx0XFx0XFx0bm9CdWJibGU6IHRydWVcXG5cXHRcXHR9LFxcblxcdFxcdGZvY3VzOiB7XFxuXFxuXFx0XFx0XFx0Ly8gRmlyZSBuYXRpdmUgZXZlbnQgaWYgcG9zc2libGUgc28gYmx1ci9mb2N1cyBzZXF1ZW5jZSBpcyBjb3JyZWN0XFxuXFx0XFx0XFx0dHJpZ2dlcjogZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0XFx0aWYgKCB0aGlzICE9PSBzYWZlQWN0aXZlRWxlbWVudCgpICYmIHRoaXMuZm9jdXMgKSB7XFxuXFx0XFx0XFx0XFx0XFx0dGhpcy5mb2N1cygpO1xcblxcdFxcdFxcdFxcdFxcdHJldHVybiBmYWxzZTtcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fSxcXG5cXHRcXHRcXHRkZWxlZ2F0ZVR5cGU6IFxcXCJmb2N1c2luXFxcIlxcblxcdFxcdH0sXFxuXFx0XFx0Ymx1cjoge1xcblxcdFxcdFxcdHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xcblxcdFxcdFxcdFxcdGlmICggdGhpcyA9PT0gc2FmZUFjdGl2ZUVsZW1lbnQoKSAmJiB0aGlzLmJsdXIgKSB7XFxuXFx0XFx0XFx0XFx0XFx0dGhpcy5ibHVyKCk7XFxuXFx0XFx0XFx0XFx0XFx0cmV0dXJuIGZhbHNlO1xcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9LFxcblxcdFxcdFxcdGRlbGVnYXRlVHlwZTogXFxcImZvY3Vzb3V0XFxcIlxcblxcdFxcdH0sXFxuXFx0XFx0Y2xpY2s6IHtcXG5cXG5cXHRcXHRcXHQvLyBGb3IgY2hlY2tib3gsIGZpcmUgbmF0aXZlIGV2ZW50IHNvIGNoZWNrZWQgc3RhdGUgd2lsbCBiZSByaWdodFxcblxcdFxcdFxcdHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xcblxcdFxcdFxcdFxcdGlmICggdGhpcy50eXBlID09PSBcXFwiY2hlY2tib3hcXFwiICYmIHRoaXMuY2xpY2sgJiYgalF1ZXJ5Lm5vZGVOYW1lKCB0aGlzLCBcXFwiaW5wdXRcXFwiICkgKSB7XFxuXFx0XFx0XFx0XFx0XFx0dGhpcy5jbGljaygpO1xcblxcdFxcdFxcdFxcdFxcdHJldHVybiBmYWxzZTtcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fSxcXG5cXG5cXHRcXHRcXHQvLyBGb3IgY3Jvc3MtYnJvd3NlciBjb25zaXN0ZW5jeSwgZG9uJ3QgZmlyZSBuYXRpdmUgLmNsaWNrKCkgb24gbGlua3NcXG5cXHRcXHRcXHRfZGVmYXVsdDogZnVuY3Rpb24oIGV2ZW50ICkge1xcblxcdFxcdFxcdFxcdHJldHVybiBqUXVlcnkubm9kZU5hbWUoIGV2ZW50LnRhcmdldCwgXFxcImFcXFwiICk7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH0sXFxuXFxuXFx0XFx0YmVmb3JldW5sb2FkOiB7XFxuXFx0XFx0XFx0cG9zdERpc3BhdGNoOiBmdW5jdGlvbiggZXZlbnQgKSB7XFxuXFxuXFx0XFx0XFx0XFx0Ly8gU3VwcG9ydDogRmlyZWZveCAyMCtcXG5cXHRcXHRcXHRcXHQvLyBGaXJlZm94IGRvZXNuJ3QgYWxlcnQgaWYgdGhlIHJldHVyblZhbHVlIGZpZWxkIGlzIG5vdCBzZXQuXFxuXFx0XFx0XFx0XFx0aWYgKCBldmVudC5yZXN1bHQgIT09IHVuZGVmaW5lZCAmJiBldmVudC5vcmlnaW5hbEV2ZW50ICkge1xcblxcdFxcdFxcdFxcdFxcdGV2ZW50Lm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWUgPSBldmVudC5yZXN1bHQ7XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH1cXG5cXHRcXHR9XFxuXFx0fVxcbn07XFxuXFxualF1ZXJ5LnJlbW92ZUV2ZW50ID0gZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGhhbmRsZSApIHtcXG5cXG5cXHQvLyBUaGlzIFxcXCJpZlxcXCIgaXMgbmVlZGVkIGZvciBwbGFpbiBvYmplY3RzXFxuXFx0aWYgKCBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIgKSB7XFxuXFx0XFx0ZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCB0eXBlLCBoYW5kbGUgKTtcXG5cXHR9XFxufTtcXG5cXG5qUXVlcnkuRXZlbnQgPSBmdW5jdGlvbiggc3JjLCBwcm9wcyApIHtcXG5cXG5cXHQvLyBBbGxvdyBpbnN0YW50aWF0aW9uIHdpdGhvdXQgdGhlICduZXcnIGtleXdvcmRcXG5cXHRpZiAoICEoIHRoaXMgaW5zdGFuY2VvZiBqUXVlcnkuRXZlbnQgKSApIHtcXG5cXHRcXHRyZXR1cm4gbmV3IGpRdWVyeS5FdmVudCggc3JjLCBwcm9wcyApO1xcblxcdH1cXG5cXG5cXHQvLyBFdmVudCBvYmplY3RcXG5cXHRpZiAoIHNyYyAmJiBzcmMudHlwZSApIHtcXG5cXHRcXHR0aGlzLm9yaWdpbmFsRXZlbnQgPSBzcmM7XFxuXFx0XFx0dGhpcy50eXBlID0gc3JjLnR5cGU7XFxuXFxuXFx0XFx0Ly8gRXZlbnRzIGJ1YmJsaW5nIHVwIHRoZSBkb2N1bWVudCBtYXkgaGF2ZSBiZWVuIG1hcmtlZCBhcyBwcmV2ZW50ZWRcXG5cXHRcXHQvLyBieSBhIGhhbmRsZXIgbG93ZXIgZG93biB0aGUgdHJlZTsgcmVmbGVjdCB0aGUgY29ycmVjdCB2YWx1ZS5cXG5cXHRcXHR0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IHNyYy5kZWZhdWx0UHJldmVudGVkIHx8XFxuXFx0XFx0XFx0XFx0c3JjLmRlZmF1bHRQcmV2ZW50ZWQgPT09IHVuZGVmaW5lZCAmJlxcblxcblxcdFxcdFxcdFxcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD0yLjMgb25seVxcblxcdFxcdFxcdFxcdHNyYy5yZXR1cm5WYWx1ZSA9PT0gZmFsc2UgP1xcblxcdFxcdFxcdHJldHVyblRydWUgOlxcblxcdFxcdFxcdHJldHVybkZhbHNlO1xcblxcblxcdFxcdC8vIENyZWF0ZSB0YXJnZXQgcHJvcGVydGllc1xcblxcdFxcdC8vIFN1cHBvcnQ6IFNhZmFyaSA8PTYgLSA3IG9ubHlcXG5cXHRcXHQvLyBUYXJnZXQgc2hvdWxkIG5vdCBiZSBhIHRleHQgbm9kZSAoIzUwNCwgIzEzMTQzKVxcblxcdFxcdHRoaXMudGFyZ2V0ID0gKCBzcmMudGFyZ2V0ICYmIHNyYy50YXJnZXQubm9kZVR5cGUgPT09IDMgKSA/XFxuXFx0XFx0XFx0c3JjLnRhcmdldC5wYXJlbnROb2RlIDpcXG5cXHRcXHRcXHRzcmMudGFyZ2V0O1xcblxcblxcdFxcdHRoaXMuY3VycmVudFRhcmdldCA9IHNyYy5jdXJyZW50VGFyZ2V0O1xcblxcdFxcdHRoaXMucmVsYXRlZFRhcmdldCA9IHNyYy5yZWxhdGVkVGFyZ2V0O1xcblxcblxcdC8vIEV2ZW50IHR5cGVcXG5cXHR9IGVsc2Uge1xcblxcdFxcdHRoaXMudHlwZSA9IHNyYztcXG5cXHR9XFxuXFxuXFx0Ly8gUHV0IGV4cGxpY2l0bHkgcHJvdmlkZWQgcHJvcGVydGllcyBvbnRvIHRoZSBldmVudCBvYmplY3RcXG5cXHRpZiAoIHByb3BzICkge1xcblxcdFxcdGpRdWVyeS5leHRlbmQoIHRoaXMsIHByb3BzICk7XFxuXFx0fVxcblxcblxcdC8vIENyZWF0ZSBhIHRpbWVzdGFtcCBpZiBpbmNvbWluZyBldmVudCBkb2Vzbid0IGhhdmUgb25lXFxuXFx0dGhpcy50aW1lU3RhbXAgPSBzcmMgJiYgc3JjLnRpbWVTdGFtcCB8fCBqUXVlcnkubm93KCk7XFxuXFxuXFx0Ly8gTWFyayBpdCBhcyBmaXhlZFxcblxcdHRoaXNbIGpRdWVyeS5leHBhbmRvIF0gPSB0cnVlO1xcbn07XFxuXFxuLy8galF1ZXJ5LkV2ZW50IGlzIGJhc2VkIG9uIERPTTMgRXZlbnRzIGFzIHNwZWNpZmllZCBieSB0aGUgRUNNQVNjcmlwdCBMYW5ndWFnZSBCaW5kaW5nXFxuLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDMvV0QtRE9NLUxldmVsLTMtRXZlbnRzLTIwMDMwMzMxL2VjbWEtc2NyaXB0LWJpbmRpbmcuaHRtbFxcbmpRdWVyeS5FdmVudC5wcm90b3R5cGUgPSB7XFxuXFx0Y29uc3RydWN0b3I6IGpRdWVyeS5FdmVudCxcXG5cXHRpc0RlZmF1bHRQcmV2ZW50ZWQ6IHJldHVybkZhbHNlLFxcblxcdGlzUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcXG5cXHRpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsXFxuXFx0aXNTaW11bGF0ZWQ6IGZhbHNlLFxcblxcblxcdHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcXG5cXHRcXHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcXG5cXG5cXHRcXHR0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IHJldHVyblRydWU7XFxuXFxuXFx0XFx0aWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkge1xcblxcdFxcdFxcdGUucHJldmVudERlZmF1bHQoKTtcXG5cXHRcXHR9XFxuXFx0fSxcXG5cXHRzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge1xcblxcdFxcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xcblxcblxcdFxcdHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlO1xcblxcblxcdFxcdGlmICggZSAmJiAhdGhpcy5pc1NpbXVsYXRlZCApIHtcXG5cXHRcXHRcXHRlLnN0b3BQcm9wYWdhdGlvbigpO1xcblxcdFxcdH1cXG5cXHR9LFxcblxcdHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XFxuXFx0XFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XFxuXFxuXFx0XFx0dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XFxuXFxuXFx0XFx0aWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkge1xcblxcdFxcdFxcdGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XFxuXFx0XFx0fVxcblxcblxcdFxcdHRoaXMuc3RvcFByb3BhZ2F0aW9uKCk7XFxuXFx0fVxcbn07XFxuXFxuLy8gSW5jbHVkZXMgYWxsIGNvbW1vbiBldmVudCBwcm9wcyBpbmNsdWRpbmcgS2V5RXZlbnQgYW5kIE1vdXNlRXZlbnQgc3BlY2lmaWMgcHJvcHNcXG5qUXVlcnkuZWFjaCgge1xcblxcdGFsdEtleTogdHJ1ZSxcXG5cXHRidWJibGVzOiB0cnVlLFxcblxcdGNhbmNlbGFibGU6IHRydWUsXFxuXFx0Y2hhbmdlZFRvdWNoZXM6IHRydWUsXFxuXFx0Y3RybEtleTogdHJ1ZSxcXG5cXHRkZXRhaWw6IHRydWUsXFxuXFx0ZXZlbnRQaGFzZTogdHJ1ZSxcXG5cXHRtZXRhS2V5OiB0cnVlLFxcblxcdHBhZ2VYOiB0cnVlLFxcblxcdHBhZ2VZOiB0cnVlLFxcblxcdHNoaWZ0S2V5OiB0cnVlLFxcblxcdHZpZXc6IHRydWUsXFxuXFx0XFxcImNoYXJcXFwiOiB0cnVlLFxcblxcdGNoYXJDb2RlOiB0cnVlLFxcblxcdGtleTogdHJ1ZSxcXG5cXHRrZXlDb2RlOiB0cnVlLFxcblxcdGJ1dHRvbjogdHJ1ZSxcXG5cXHRidXR0b25zOiB0cnVlLFxcblxcdGNsaWVudFg6IHRydWUsXFxuXFx0Y2xpZW50WTogdHJ1ZSxcXG5cXHRvZmZzZXRYOiB0cnVlLFxcblxcdG9mZnNldFk6IHRydWUsXFxuXFx0cG9pbnRlcklkOiB0cnVlLFxcblxcdHBvaW50ZXJUeXBlOiB0cnVlLFxcblxcdHNjcmVlblg6IHRydWUsXFxuXFx0c2NyZWVuWTogdHJ1ZSxcXG5cXHR0YXJnZXRUb3VjaGVzOiB0cnVlLFxcblxcdHRvRWxlbWVudDogdHJ1ZSxcXG5cXHR0b3VjaGVzOiB0cnVlLFxcblxcblxcdHdoaWNoOiBmdW5jdGlvbiggZXZlbnQgKSB7XFxuXFx0XFx0dmFyIGJ1dHRvbiA9IGV2ZW50LmJ1dHRvbjtcXG5cXG5cXHRcXHQvLyBBZGQgd2hpY2ggZm9yIGtleSBldmVudHNcXG5cXHRcXHRpZiAoIGV2ZW50LndoaWNoID09IG51bGwgJiYgcmtleUV2ZW50LnRlc3QoIGV2ZW50LnR5cGUgKSApIHtcXG5cXHRcXHRcXHRyZXR1cm4gZXZlbnQuY2hhckNvZGUgIT0gbnVsbCA/IGV2ZW50LmNoYXJDb2RlIDogZXZlbnQua2V5Q29kZTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gQWRkIHdoaWNoIGZvciBjbGljazogMSA9PT0gbGVmdDsgMiA9PT0gbWlkZGxlOyAzID09PSByaWdodFxcblxcdFxcdGlmICggIWV2ZW50LndoaWNoICYmIGJ1dHRvbiAhPT0gdW5kZWZpbmVkICYmIHJtb3VzZUV2ZW50LnRlc3QoIGV2ZW50LnR5cGUgKSApIHtcXG5cXHRcXHRcXHRpZiAoIGJ1dHRvbiAmIDEgKSB7XFxuXFx0XFx0XFx0XFx0cmV0dXJuIDE7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdGlmICggYnV0dG9uICYgMiApIHtcXG5cXHRcXHRcXHRcXHRyZXR1cm4gMztcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0aWYgKCBidXR0b24gJiA0ICkge1xcblxcdFxcdFxcdFxcdHJldHVybiAyO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRyZXR1cm4gMDtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0cmV0dXJuIGV2ZW50LndoaWNoO1xcblxcdH1cXG59LCBqUXVlcnkuZXZlbnQuYWRkUHJvcCApO1xcblxcbi8vIENyZWF0ZSBtb3VzZWVudGVyL2xlYXZlIGV2ZW50cyB1c2luZyBtb3VzZW92ZXIvb3V0IGFuZCBldmVudC10aW1lIGNoZWNrc1xcbi8vIHNvIHRoYXQgZXZlbnQgZGVsZWdhdGlvbiB3b3JrcyBpbiBqUXVlcnkuXFxuLy8gRG8gdGhlIHNhbWUgZm9yIHBvaW50ZXJlbnRlci9wb2ludGVybGVhdmUgYW5kIHBvaW50ZXJvdmVyL3BvaW50ZXJvdXRcXG4vL1xcbi8vIFN1cHBvcnQ6IFNhZmFyaSA3IG9ubHlcXG4vLyBTYWZhcmkgc2VuZHMgbW91c2VlbnRlciB0b28gb2Z0ZW47IHNlZTpcXG4vLyBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NzAyNThcXG4vLyBmb3IgdGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBidWcgKGl0IGV4aXN0ZWQgaW4gb2xkZXIgQ2hyb21lIHZlcnNpb25zIGFzIHdlbGwpLlxcbmpRdWVyeS5lYWNoKCB7XFxuXFx0bW91c2VlbnRlcjogXFxcIm1vdXNlb3ZlclxcXCIsXFxuXFx0bW91c2VsZWF2ZTogXFxcIm1vdXNlb3V0XFxcIixcXG5cXHRwb2ludGVyZW50ZXI6IFxcXCJwb2ludGVyb3ZlclxcXCIsXFxuXFx0cG9pbnRlcmxlYXZlOiBcXFwicG9pbnRlcm91dFxcXCJcXG59LCBmdW5jdGlvbiggb3JpZywgZml4ICkge1xcblxcdGpRdWVyeS5ldmVudC5zcGVjaWFsWyBvcmlnIF0gPSB7XFxuXFx0XFx0ZGVsZWdhdGVUeXBlOiBmaXgsXFxuXFx0XFx0YmluZFR5cGU6IGZpeCxcXG5cXG5cXHRcXHRoYW5kbGU6IGZ1bmN0aW9uKCBldmVudCApIHtcXG5cXHRcXHRcXHR2YXIgcmV0LFxcblxcdFxcdFxcdFxcdHRhcmdldCA9IHRoaXMsXFxuXFx0XFx0XFx0XFx0cmVsYXRlZCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQsXFxuXFx0XFx0XFx0XFx0aGFuZGxlT2JqID0gZXZlbnQuaGFuZGxlT2JqO1xcblxcblxcdFxcdFxcdC8vIEZvciBtb3VzZWVudGVyL2xlYXZlIGNhbGwgdGhlIGhhbmRsZXIgaWYgcmVsYXRlZCBpcyBvdXRzaWRlIHRoZSB0YXJnZXQuXFxuXFx0XFx0XFx0Ly8gTkI6IE5vIHJlbGF0ZWRUYXJnZXQgaWYgdGhlIG1vdXNlIGxlZnQvZW50ZXJlZCB0aGUgYnJvd3NlciB3aW5kb3dcXG5cXHRcXHRcXHRpZiAoICFyZWxhdGVkIHx8ICggcmVsYXRlZCAhPT0gdGFyZ2V0ICYmICFqUXVlcnkuY29udGFpbnMoIHRhcmdldCwgcmVsYXRlZCApICkgKSB7XFxuXFx0XFx0XFx0XFx0ZXZlbnQudHlwZSA9IGhhbmRsZU9iai5vcmlnVHlwZTtcXG5cXHRcXHRcXHRcXHRyZXQgPSBoYW5kbGVPYmouaGFuZGxlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XFxuXFx0XFx0XFx0XFx0ZXZlbnQudHlwZSA9IGZpeDtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0XFx0cmV0dXJuIHJldDtcXG5cXHRcXHR9XFxuXFx0fTtcXG59ICk7XFxuXFxualF1ZXJ5LmZuLmV4dGVuZCgge1xcblxcblxcdG9uOiBmdW5jdGlvbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApIHtcXG5cXHRcXHRyZXR1cm4gb24oIHRoaXMsIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKTtcXG5cXHR9LFxcblxcdG9uZTogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKSB7XFxuXFx0XFx0cmV0dXJuIG9uKCB0aGlzLCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuLCAxICk7XFxuXFx0fSxcXG5cXHRvZmY6IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGZuICkge1xcblxcdFxcdHZhciBoYW5kbGVPYmosIHR5cGU7XFxuXFx0XFx0aWYgKCB0eXBlcyAmJiB0eXBlcy5wcmV2ZW50RGVmYXVsdCAmJiB0eXBlcy5oYW5kbGVPYmogKSB7XFxuXFxuXFx0XFx0XFx0Ly8gKCBldmVudCApICBkaXNwYXRjaGVkIGpRdWVyeS5FdmVudFxcblxcdFxcdFxcdGhhbmRsZU9iaiA9IHR5cGVzLmhhbmRsZU9iajtcXG5cXHRcXHRcXHRqUXVlcnkoIHR5cGVzLmRlbGVnYXRlVGFyZ2V0ICkub2ZmKFxcblxcdFxcdFxcdFxcdGhhbmRsZU9iai5uYW1lc3BhY2UgP1xcblxcdFxcdFxcdFxcdFxcdGhhbmRsZU9iai5vcmlnVHlwZSArIFxcXCIuXFxcIiArIGhhbmRsZU9iai5uYW1lc3BhY2UgOlxcblxcdFxcdFxcdFxcdFxcdGhhbmRsZU9iai5vcmlnVHlwZSxcXG5cXHRcXHRcXHRcXHRoYW5kbGVPYmouc2VsZWN0b3IsXFxuXFx0XFx0XFx0XFx0aGFuZGxlT2JqLmhhbmRsZXJcXG5cXHRcXHRcXHQpO1xcblxcdFxcdFxcdHJldHVybiB0aGlzO1xcblxcdFxcdH1cXG5cXHRcXHRpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXFxcIm9iamVjdFxcXCIgKSB7XFxuXFxuXFx0XFx0XFx0Ly8gKCB0eXBlcy1vYmplY3QgWywgc2VsZWN0b3JdIClcXG5cXHRcXHRcXHRmb3IgKCB0eXBlIGluIHR5cGVzICkge1xcblxcdFxcdFxcdFxcdHRoaXMub2ZmKCB0eXBlLCBzZWxlY3RvciwgdHlwZXNbIHR5cGUgXSApO1xcblxcdFxcdFxcdH1cXG5cXHRcXHRcXHRyZXR1cm4gdGhpcztcXG5cXHRcXHR9XFxuXFx0XFx0aWYgKCBzZWxlY3RvciA9PT0gZmFsc2UgfHwgdHlwZW9mIHNlbGVjdG9yID09PSBcXFwiZnVuY3Rpb25cXFwiICkge1xcblxcblxcdFxcdFxcdC8vICggdHlwZXMgWywgZm5dIClcXG5cXHRcXHRcXHRmbiA9IHNlbGVjdG9yO1xcblxcdFxcdFxcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xcblxcdFxcdH1cXG5cXHRcXHRpZiAoIGZuID09PSBmYWxzZSApIHtcXG5cXHRcXHRcXHRmbiA9IHJldHVybkZhbHNlO1xcblxcdFxcdH1cXG5cXHRcXHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHRqUXVlcnkuZXZlbnQucmVtb3ZlKCB0aGlzLCB0eXBlcywgZm4sIHNlbGVjdG9yICk7XFxuXFx0XFx0fSApO1xcblxcdH1cXG59ICk7XFxuXFxuXFxudmFyXFxuXFxuXFx0LyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xcblxcblxcdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZXNsaW50L2VzbGludC9pc3N1ZXMvMzIyOVxcblxcdHJ4aHRtbFRhZyA9IC88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFthLXpdW15cXFxcL1xcXFwwPlxcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl0qKVtePl0qKVxcXFwvPi9naSxcXG5cXG5cXHQvKiBlc2xpbnQtZW5hYmxlICovXFxuXFxuXFx0Ly8gU3VwcG9ydDogSUUgPD0xMCAtIDExLCBFZGdlIDEyIC0gMTNcXG5cXHQvLyBJbiBJRS9FZGdlIHVzaW5nIHJlZ2V4IGdyb3VwcyBoZXJlIGNhdXNlcyBzZXZlcmUgc2xvd2Rvd25zLlxcblxcdC8vIFNlZSBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9JRS9mZWVkYmFjay9kZXRhaWxzLzE3MzY1MTIvXFxuXFx0cm5vSW5uZXJodG1sID0gLzxzY3JpcHR8PHN0eWxlfDxsaW5rL2ksXFxuXFxuXFx0Ly8gY2hlY2tlZD1cXFwiY2hlY2tlZFxcXCIgb3IgY2hlY2tlZFxcblxcdHJjaGVja2VkID0gL2NoZWNrZWRcXFxccyooPzpbXj1dfD1cXFxccyouY2hlY2tlZC4pL2ksXFxuXFx0cnNjcmlwdFR5cGVNYXNrZWQgPSAvXnRydWVcXFxcLyguKikvLFxcblxcdHJjbGVhblNjcmlwdCA9IC9eXFxcXHMqPCEoPzpcXFxcW0NEQVRBXFxcXFt8LS0pfCg/OlxcXFxdXFxcXF18LS0pPlxcXFxzKiQvZztcXG5cXG5mdW5jdGlvbiBtYW5pcHVsYXRpb25UYXJnZXQoIGVsZW0sIGNvbnRlbnQgKSB7XFxuXFx0aWYgKCBqUXVlcnkubm9kZU5hbWUoIGVsZW0sIFxcXCJ0YWJsZVxcXCIgKSAmJlxcblxcdFxcdGpRdWVyeS5ub2RlTmFtZSggY29udGVudC5ub2RlVHlwZSAhPT0gMTEgPyBjb250ZW50IDogY29udGVudC5maXJzdENoaWxkLCBcXFwidHJcXFwiICkgKSB7XFxuXFxuXFx0XFx0cmV0dXJuIGVsZW0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoIFxcXCJ0Ym9keVxcXCIgKVsgMCBdIHx8IGVsZW07XFxuXFx0fVxcblxcblxcdHJldHVybiBlbGVtO1xcbn1cXG5cXG4vLyBSZXBsYWNlL3Jlc3RvcmUgdGhlIHR5cGUgYXR0cmlidXRlIG9mIHNjcmlwdCBlbGVtZW50cyBmb3Igc2FmZSBET00gbWFuaXB1bGF0aW9uXFxuZnVuY3Rpb24gZGlzYWJsZVNjcmlwdCggZWxlbSApIHtcXG5cXHRlbGVtLnR5cGUgPSAoIGVsZW0uZ2V0QXR0cmlidXRlKCBcXFwidHlwZVxcXCIgKSAhPT0gbnVsbCApICsgXFxcIi9cXFwiICsgZWxlbS50eXBlO1xcblxcdHJldHVybiBlbGVtO1xcbn1cXG5mdW5jdGlvbiByZXN0b3JlU2NyaXB0KCBlbGVtICkge1xcblxcdHZhciBtYXRjaCA9IHJzY3JpcHRUeXBlTWFza2VkLmV4ZWMoIGVsZW0udHlwZSApO1xcblxcblxcdGlmICggbWF0Y2ggKSB7XFxuXFx0XFx0ZWxlbS50eXBlID0gbWF0Y2hbIDEgXTtcXG5cXHR9IGVsc2Uge1xcblxcdFxcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKCBcXFwidHlwZVxcXCIgKTtcXG5cXHR9XFxuXFxuXFx0cmV0dXJuIGVsZW07XFxufVxcblxcbmZ1bmN0aW9uIGNsb25lQ29weUV2ZW50KCBzcmMsIGRlc3QgKSB7XFxuXFx0dmFyIGksIGwsIHR5cGUsIHBkYXRhT2xkLCBwZGF0YUN1ciwgdWRhdGFPbGQsIHVkYXRhQ3VyLCBldmVudHM7XFxuXFxuXFx0aWYgKCBkZXN0Lm5vZGVUeXBlICE9PSAxICkge1xcblxcdFxcdHJldHVybjtcXG5cXHR9XFxuXFxuXFx0Ly8gMS4gQ29weSBwcml2YXRlIGRhdGE6IGV2ZW50cywgaGFuZGxlcnMsIGV0Yy5cXG5cXHRpZiAoIGRhdGFQcml2Lmhhc0RhdGEoIHNyYyApICkge1xcblxcdFxcdHBkYXRhT2xkID0gZGF0YVByaXYuYWNjZXNzKCBzcmMgKTtcXG5cXHRcXHRwZGF0YUN1ciA9IGRhdGFQcml2LnNldCggZGVzdCwgcGRhdGFPbGQgKTtcXG5cXHRcXHRldmVudHMgPSBwZGF0YU9sZC5ldmVudHM7XFxuXFxuXFx0XFx0aWYgKCBldmVudHMgKSB7XFxuXFx0XFx0XFx0ZGVsZXRlIHBkYXRhQ3VyLmhhbmRsZTtcXG5cXHRcXHRcXHRwZGF0YUN1ci5ldmVudHMgPSB7fTtcXG5cXG5cXHRcXHRcXHRmb3IgKCB0eXBlIGluIGV2ZW50cyApIHtcXG5cXHRcXHRcXHRcXHRmb3IgKCBpID0gMCwgbCA9IGV2ZW50c1sgdHlwZSBdLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcXG5cXHRcXHRcXHRcXHRcXHRqUXVlcnkuZXZlbnQuYWRkKCBkZXN0LCB0eXBlLCBldmVudHNbIHR5cGUgXVsgaSBdICk7XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH1cXG5cXHRcXHR9XFxuXFx0fVxcblxcblxcdC8vIDIuIENvcHkgdXNlciBkYXRhXFxuXFx0aWYgKCBkYXRhVXNlci5oYXNEYXRhKCBzcmMgKSApIHtcXG5cXHRcXHR1ZGF0YU9sZCA9IGRhdGFVc2VyLmFjY2Vzcyggc3JjICk7XFxuXFx0XFx0dWRhdGFDdXIgPSBqUXVlcnkuZXh0ZW5kKCB7fSwgdWRhdGFPbGQgKTtcXG5cXG5cXHRcXHRkYXRhVXNlci5zZXQoIGRlc3QsIHVkYXRhQ3VyICk7XFxuXFx0fVxcbn1cXG5cXG4vLyBGaXggSUUgYnVncywgc2VlIHN1cHBvcnQgdGVzdHNcXG5mdW5jdGlvbiBmaXhJbnB1dCggc3JjLCBkZXN0ICkge1xcblxcdHZhciBub2RlTmFtZSA9IGRlc3Qubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcXG5cXG5cXHQvLyBGYWlscyB0byBwZXJzaXN0IHRoZSBjaGVja2VkIHN0YXRlIG9mIGEgY2xvbmVkIGNoZWNrYm94IG9yIHJhZGlvIGJ1dHRvbi5cXG5cXHRpZiAoIG5vZGVOYW1lID09PSBcXFwiaW5wdXRcXFwiICYmIHJjaGVja2FibGVUeXBlLnRlc3QoIHNyYy50eXBlICkgKSB7XFxuXFx0XFx0ZGVzdC5jaGVja2VkID0gc3JjLmNoZWNrZWQ7XFxuXFxuXFx0Ly8gRmFpbHMgdG8gcmV0dXJuIHRoZSBzZWxlY3RlZCBvcHRpb24gdG8gdGhlIGRlZmF1bHQgc2VsZWN0ZWQgc3RhdGUgd2hlbiBjbG9uaW5nIG9wdGlvbnNcXG5cXHR9IGVsc2UgaWYgKCBub2RlTmFtZSA9PT0gXFxcImlucHV0XFxcIiB8fCBub2RlTmFtZSA9PT0gXFxcInRleHRhcmVhXFxcIiApIHtcXG5cXHRcXHRkZXN0LmRlZmF1bHRWYWx1ZSA9IHNyYy5kZWZhdWx0VmFsdWU7XFxuXFx0fVxcbn1cXG5cXG5mdW5jdGlvbiBkb21NYW5pcCggY29sbGVjdGlvbiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKSB7XFxuXFxuXFx0Ly8gRmxhdHRlbiBhbnkgbmVzdGVkIGFycmF5c1xcblxcdGFyZ3MgPSBjb25jYXQuYXBwbHkoIFtdLCBhcmdzICk7XFxuXFxuXFx0dmFyIGZyYWdtZW50LCBmaXJzdCwgc2NyaXB0cywgaGFzU2NyaXB0cywgbm9kZSwgZG9jLFxcblxcdFxcdGkgPSAwLFxcblxcdFxcdGwgPSBjb2xsZWN0aW9uLmxlbmd0aCxcXG5cXHRcXHRpTm9DbG9uZSA9IGwgLSAxLFxcblxcdFxcdHZhbHVlID0gYXJnc1sgMCBdLFxcblxcdFxcdGlzRnVuY3Rpb24gPSBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKTtcXG5cXG5cXHQvLyBXZSBjYW4ndCBjbG9uZU5vZGUgZnJhZ21lbnRzIHRoYXQgY29udGFpbiBjaGVja2VkLCBpbiBXZWJLaXRcXG5cXHRpZiAoIGlzRnVuY3Rpb24gfHxcXG5cXHRcXHRcXHQoIGwgPiAxICYmIHR5cGVvZiB2YWx1ZSA9PT0gXFxcInN0cmluZ1xcXCIgJiZcXG5cXHRcXHRcXHRcXHQhc3VwcG9ydC5jaGVja0Nsb25lICYmIHJjaGVja2VkLnRlc3QoIHZhbHVlICkgKSApIHtcXG5cXHRcXHRyZXR1cm4gY29sbGVjdGlvbi5lYWNoKCBmdW5jdGlvbiggaW5kZXggKSB7XFxuXFx0XFx0XFx0dmFyIHNlbGYgPSBjb2xsZWN0aW9uLmVxKCBpbmRleCApO1xcblxcdFxcdFxcdGlmICggaXNGdW5jdGlvbiApIHtcXG5cXHRcXHRcXHRcXHRhcmdzWyAwIF0gPSB2YWx1ZS5jYWxsKCB0aGlzLCBpbmRleCwgc2VsZi5odG1sKCkgKTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0XFx0ZG9tTWFuaXAoIHNlbGYsIGFyZ3MsIGNhbGxiYWNrLCBpZ25vcmVkICk7XFxuXFx0XFx0fSApO1xcblxcdH1cXG5cXG5cXHRpZiAoIGwgKSB7XFxuXFx0XFx0ZnJhZ21lbnQgPSBidWlsZEZyYWdtZW50KCBhcmdzLCBjb2xsZWN0aW9uWyAwIF0ub3duZXJEb2N1bWVudCwgZmFsc2UsIGNvbGxlY3Rpb24sIGlnbm9yZWQgKTtcXG5cXHRcXHRmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XFxuXFxuXFx0XFx0aWYgKCBmcmFnbWVudC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMSApIHtcXG5cXHRcXHRcXHRmcmFnbWVudCA9IGZpcnN0O1xcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBSZXF1aXJlIGVpdGhlciBuZXcgY29udGVudCBvciBhbiBpbnRlcmVzdCBpbiBpZ25vcmVkIGVsZW1lbnRzIHRvIGludm9rZSB0aGUgY2FsbGJhY2tcXG5cXHRcXHRpZiAoIGZpcnN0IHx8IGlnbm9yZWQgKSB7XFxuXFx0XFx0XFx0c2NyaXB0cyA9IGpRdWVyeS5tYXAoIGdldEFsbCggZnJhZ21lbnQsIFxcXCJzY3JpcHRcXFwiICksIGRpc2FibGVTY3JpcHQgKTtcXG5cXHRcXHRcXHRoYXNTY3JpcHRzID0gc2NyaXB0cy5sZW5ndGg7XFxuXFxuXFx0XFx0XFx0Ly8gVXNlIHRoZSBvcmlnaW5hbCBmcmFnbWVudCBmb3IgdGhlIGxhc3QgaXRlbVxcblxcdFxcdFxcdC8vIGluc3RlYWQgb2YgdGhlIGZpcnN0IGJlY2F1c2UgaXQgY2FuIGVuZCB1cFxcblxcdFxcdFxcdC8vIGJlaW5nIGVtcHRpZWQgaW5jb3JyZWN0bHkgaW4gY2VydGFpbiBzaXR1YXRpb25zICgjODA3MCkuXFxuXFx0XFx0XFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xcblxcdFxcdFxcdFxcdG5vZGUgPSBmcmFnbWVudDtcXG5cXG5cXHRcXHRcXHRcXHRpZiAoIGkgIT09IGlOb0Nsb25lICkge1xcblxcdFxcdFxcdFxcdFxcdG5vZGUgPSBqUXVlcnkuY2xvbmUoIG5vZGUsIHRydWUsIHRydWUgKTtcXG5cXG5cXHRcXHRcXHRcXHRcXHQvLyBLZWVwIHJlZmVyZW5jZXMgdG8gY2xvbmVkIHNjcmlwdHMgZm9yIGxhdGVyIHJlc3RvcmF0aW9uXFxuXFx0XFx0XFx0XFx0XFx0aWYgKCBoYXNTY3JpcHRzICkge1xcblxcblxcdFxcdFxcdFxcdFxcdFxcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxcblxcdFxcdFxcdFxcdFxcdFxcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcXG5cXHRcXHRcXHRcXHRcXHRcXHRqUXVlcnkubWVyZ2UoIHNjcmlwdHMsIGdldEFsbCggbm9kZSwgXFxcInNjcmlwdFxcXCIgKSApO1xcblxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0Y2FsbGJhY2suY2FsbCggY29sbGVjdGlvblsgaSBdLCBub2RlLCBpICk7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdGlmICggaGFzU2NyaXB0cyApIHtcXG5cXHRcXHRcXHRcXHRkb2MgPSBzY3JpcHRzWyBzY3JpcHRzLmxlbmd0aCAtIDEgXS5vd25lckRvY3VtZW50O1xcblxcblxcdFxcdFxcdFxcdC8vIFJlZW5hYmxlIHNjcmlwdHNcXG5cXHRcXHRcXHRcXHRqUXVlcnkubWFwKCBzY3JpcHRzLCByZXN0b3JlU2NyaXB0ICk7XFxuXFxuXFx0XFx0XFx0XFx0Ly8gRXZhbHVhdGUgZXhlY3V0YWJsZSBzY3JpcHRzIG9uIGZpcnN0IGRvY3VtZW50IGluc2VydGlvblxcblxcdFxcdFxcdFxcdGZvciAoIGkgPSAwOyBpIDwgaGFzU2NyaXB0czsgaSsrICkge1xcblxcdFxcdFxcdFxcdFxcdG5vZGUgPSBzY3JpcHRzWyBpIF07XFxuXFx0XFx0XFx0XFx0XFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBub2RlLnR5cGUgfHwgXFxcIlxcXCIgKSAmJlxcblxcdFxcdFxcdFxcdFxcdFxcdCFkYXRhUHJpdi5hY2Nlc3MoIG5vZGUsIFxcXCJnbG9iYWxFdmFsXFxcIiApICYmXFxuXFx0XFx0XFx0XFx0XFx0XFx0alF1ZXJ5LmNvbnRhaW5zKCBkb2MsIG5vZGUgKSApIHtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRpZiAoIG5vZGUuc3JjICkge1xcblxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIE9wdGlvbmFsIEFKQVggZGVwZW5kZW5jeSwgYnV0IHdvbid0IHJ1biBzY3JpcHRzIGlmIG5vdCBwcmVzZW50XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0aWYgKCBqUXVlcnkuX2V2YWxVcmwgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0alF1ZXJ5Ll9ldmFsVXJsKCBub2RlLnNyYyApO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdERPTUV2YWwoIG5vZGUudGV4dENvbnRlbnQucmVwbGFjZSggcmNsZWFuU2NyaXB0LCBcXFwiXFxcIiApLCBkb2MgKTtcXG5cXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcdH1cXG5cXG5cXHRyZXR1cm4gY29sbGVjdGlvbjtcXG59XFxuXFxuZnVuY3Rpb24gcmVtb3ZlKCBlbGVtLCBzZWxlY3Rvciwga2VlcERhdGEgKSB7XFxuXFx0dmFyIG5vZGUsXFxuXFx0XFx0bm9kZXMgPSBzZWxlY3RvciA/IGpRdWVyeS5maWx0ZXIoIHNlbGVjdG9yLCBlbGVtICkgOiBlbGVtLFxcblxcdFxcdGkgPSAwO1xcblxcblxcdGZvciAoIDsgKCBub2RlID0gbm9kZXNbIGkgXSApICE9IG51bGw7IGkrKyApIHtcXG5cXHRcXHRpZiAoICFrZWVwRGF0YSAmJiBub2RlLm5vZGVUeXBlID09PSAxICkge1xcblxcdFxcdFxcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggbm9kZSApICk7XFxuXFx0XFx0fVxcblxcblxcdFxcdGlmICggbm9kZS5wYXJlbnROb2RlICkge1xcblxcdFxcdFxcdGlmICgga2VlcERhdGEgJiYgalF1ZXJ5LmNvbnRhaW5zKCBub2RlLm93bmVyRG9jdW1lbnQsIG5vZGUgKSApIHtcXG5cXHRcXHRcXHRcXHRzZXRHbG9iYWxFdmFsKCBnZXRBbGwoIG5vZGUsIFxcXCJzY3JpcHRcXFwiICkgKTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0XFx0bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBub2RlICk7XFxuXFx0XFx0fVxcblxcdH1cXG5cXG5cXHRyZXR1cm4gZWxlbTtcXG59XFxuXFxualF1ZXJ5LmV4dGVuZCgge1xcblxcdGh0bWxQcmVmaWx0ZXI6IGZ1bmN0aW9uKCBodG1sICkge1xcblxcdFxcdHJldHVybiBodG1sLnJlcGxhY2UoIHJ4aHRtbFRhZywgXFxcIjwkMT48LyQyPlxcXCIgKTtcXG5cXHR9LFxcblxcblxcdGNsb25lOiBmdW5jdGlvbiggZWxlbSwgZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKSB7XFxuXFx0XFx0dmFyIGksIGwsIHNyY0VsZW1lbnRzLCBkZXN0RWxlbWVudHMsXFxuXFx0XFx0XFx0Y2xvbmUgPSBlbGVtLmNsb25lTm9kZSggdHJ1ZSApLFxcblxcdFxcdFxcdGluUGFnZSA9IGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICk7XFxuXFxuXFx0XFx0Ly8gRml4IElFIGNsb25pbmcgaXNzdWVzXFxuXFx0XFx0aWYgKCAhc3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCAmJiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgZWxlbS5ub2RlVHlwZSA9PT0gMTEgKSAmJlxcblxcdFxcdFxcdFxcdCFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcXG5cXG5cXHRcXHRcXHQvLyBXZSBlc2NoZXcgU2l6emxlIGhlcmUgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnM6IGh0dHBzOi8vanNwZXJmLmNvbS9nZXRhbGwtdnMtc2l6emxlLzJcXG5cXHRcXHRcXHRkZXN0RWxlbWVudHMgPSBnZXRBbGwoIGNsb25lICk7XFxuXFx0XFx0XFx0c3JjRWxlbWVudHMgPSBnZXRBbGwoIGVsZW0gKTtcXG5cXG5cXHRcXHRcXHRmb3IgKCBpID0gMCwgbCA9IHNyY0VsZW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcXG5cXHRcXHRcXHRcXHRmaXhJbnB1dCggc3JjRWxlbWVudHNbIGkgXSwgZGVzdEVsZW1lbnRzWyBpIF0gKTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcblxcdFxcdC8vIENvcHkgdGhlIGV2ZW50cyBmcm9tIHRoZSBvcmlnaW5hbCB0byB0aGUgY2xvbmVcXG5cXHRcXHRpZiAoIGRhdGFBbmRFdmVudHMgKSB7XFxuXFx0XFx0XFx0aWYgKCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcXG5cXHRcXHRcXHRcXHRzcmNFbGVtZW50cyA9IHNyY0VsZW1lbnRzIHx8IGdldEFsbCggZWxlbSApO1xcblxcdFxcdFxcdFxcdGRlc3RFbGVtZW50cyA9IGRlc3RFbGVtZW50cyB8fCBnZXRBbGwoIGNsb25lICk7XFxuXFxuXFx0XFx0XFx0XFx0Zm9yICggaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XFxuXFx0XFx0XFx0XFx0XFx0Y2xvbmVDb3B5RXZlbnQoIHNyY0VsZW1lbnRzWyBpIF0sIGRlc3RFbGVtZW50c1sgaSBdICk7XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH0gZWxzZSB7XFxuXFx0XFx0XFx0XFx0Y2xvbmVDb3B5RXZlbnQoIGVsZW0sIGNsb25lICk7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5XFxuXFx0XFx0ZGVzdEVsZW1lbnRzID0gZ2V0QWxsKCBjbG9uZSwgXFxcInNjcmlwdFxcXCIgKTtcXG5cXHRcXHRpZiAoIGRlc3RFbGVtZW50cy5sZW5ndGggPiAwICkge1xcblxcdFxcdFxcdHNldEdsb2JhbEV2YWwoIGRlc3RFbGVtZW50cywgIWluUGFnZSAmJiBnZXRBbGwoIGVsZW0sIFxcXCJzY3JpcHRcXFwiICkgKTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gUmV0dXJuIHRoZSBjbG9uZWQgc2V0XFxuXFx0XFx0cmV0dXJuIGNsb25lO1xcblxcdH0sXFxuXFxuXFx0Y2xlYW5EYXRhOiBmdW5jdGlvbiggZWxlbXMgKSB7XFxuXFx0XFx0dmFyIGRhdGEsIGVsZW0sIHR5cGUsXFxuXFx0XFx0XFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsLFxcblxcdFxcdFxcdGkgPSAwO1xcblxcblxcdFxcdGZvciAoIDsgKCBlbGVtID0gZWxlbXNbIGkgXSApICE9PSB1bmRlZmluZWQ7IGkrKyApIHtcXG5cXHRcXHRcXHRpZiAoIGFjY2VwdERhdGEoIGVsZW0gKSApIHtcXG5cXHRcXHRcXHRcXHRpZiAoICggZGF0YSA9IGVsZW1bIGRhdGFQcml2LmV4cGFuZG8gXSApICkge1xcblxcdFxcdFxcdFxcdFxcdGlmICggZGF0YS5ldmVudHMgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0Zm9yICggdHlwZSBpbiBkYXRhLmV2ZW50cyApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRpZiAoIHNwZWNpYWxbIHR5cGUgXSApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRqUXVlcnkuZXZlbnQucmVtb3ZlKCBlbGVtLCB0eXBlICk7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0Ly8gVGhpcyBpcyBhIHNob3J0Y3V0IHRvIGF2b2lkIGpRdWVyeS5ldmVudC5yZW1vdmUncyBvdmVyaGVhZFxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdH0gZWxzZSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBkYXRhLmhhbmRsZSApO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdFxcdFxcdC8vIFN1cHBvcnQ6IENocm9tZSA8PTM1IC0gNDUrXFxuXFx0XFx0XFx0XFx0XFx0Ly8gQXNzaWduIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIHVzaW5nIGRlbGV0ZSwgc2VlIERhdGEjcmVtb3ZlXFxuXFx0XFx0XFx0XFx0XFx0ZWxlbVsgZGF0YVByaXYuZXhwYW5kbyBdID0gdW5kZWZpbmVkO1xcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRpZiAoIGVsZW1bIGRhdGFVc2VyLmV4cGFuZG8gXSApIHtcXG5cXG5cXHRcXHRcXHRcXHRcXHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1K1xcblxcdFxcdFxcdFxcdFxcdC8vIEFzc2lnbiB1bmRlZmluZWQgaW5zdGVhZCBvZiB1c2luZyBkZWxldGUsIHNlZSBEYXRhI3JlbW92ZVxcblxcdFxcdFxcdFxcdFxcdGVsZW1bIGRhdGFVc2VyLmV4cGFuZG8gXSA9IHVuZGVmaW5lZDtcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXHR9XFxufSApO1xcblxcbmpRdWVyeS5mbi5leHRlbmQoIHtcXG5cXHRkZXRhY2g6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcXG5cXHRcXHRyZXR1cm4gcmVtb3ZlKCB0aGlzLCBzZWxlY3RvciwgdHJ1ZSApO1xcblxcdH0sXFxuXFxuXFx0cmVtb3ZlOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XFxuXFx0XFx0cmV0dXJuIHJlbW92ZSggdGhpcywgc2VsZWN0b3IgKTtcXG5cXHR9LFxcblxcblxcdHRleHQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcXG5cXHRcXHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XFxuXFx0XFx0XFx0cmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgP1xcblxcdFxcdFxcdFxcdGpRdWVyeS50ZXh0KCB0aGlzICkgOlxcblxcdFxcdFxcdFxcdHRoaXMuZW1wdHkoKS5lYWNoKCBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHRcXHRcXHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHR0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdH0gKTtcXG5cXHRcXHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCApO1xcblxcdH0sXFxuXFxuXFx0YXBwZW5kOiBmdW5jdGlvbigpIHtcXG5cXHRcXHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XFxuXFx0XFx0XFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XFxuXFx0XFx0XFx0XFx0dmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApO1xcblxcdFxcdFxcdFxcdHRhcmdldC5hcHBlbmRDaGlsZCggZWxlbSApO1xcblxcdFxcdFxcdH1cXG5cXHRcXHR9ICk7XFxuXFx0fSxcXG5cXG5cXHRwcmVwZW5kOiBmdW5jdGlvbigpIHtcXG5cXHRcXHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XFxuXFx0XFx0XFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XFxuXFx0XFx0XFx0XFx0dmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApO1xcblxcdFxcdFxcdFxcdHRhcmdldC5pbnNlcnRCZWZvcmUoIGVsZW0sIHRhcmdldC5maXJzdENoaWxkICk7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH0gKTtcXG5cXHR9LFxcblxcblxcdGJlZm9yZTogZnVuY3Rpb24oKSB7XFxuXFx0XFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xcblxcdFxcdFxcdGlmICggdGhpcy5wYXJlbnROb2RlICkge1xcblxcdFxcdFxcdFxcdHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIGVsZW0sIHRoaXMgKTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fSApO1xcblxcdH0sXFxuXFxuXFx0YWZ0ZXI6IGZ1bmN0aW9uKCkge1xcblxcdFxcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcXG5cXHRcXHRcXHRpZiAoIHRoaXMucGFyZW50Tm9kZSApIHtcXG5cXHRcXHRcXHRcXHR0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0aGlzLm5leHRTaWJsaW5nICk7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH0gKTtcXG5cXHR9LFxcblxcblxcdGVtcHR5OiBmdW5jdGlvbigpIHtcXG5cXHRcXHR2YXIgZWxlbSxcXG5cXHRcXHRcXHRpID0gMDtcXG5cXG5cXHRcXHRmb3IgKCA7ICggZWxlbSA9IHRoaXNbIGkgXSApICE9IG51bGw7IGkrKyApIHtcXG5cXHRcXHRcXHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XFxuXFxuXFx0XFx0XFx0XFx0Ly8gUHJldmVudCBtZW1vcnkgbGVha3NcXG5cXHRcXHRcXHRcXHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIGVsZW0sIGZhbHNlICkgKTtcXG5cXG5cXHRcXHRcXHRcXHQvLyBSZW1vdmUgYW55IHJlbWFpbmluZyBub2Rlc1xcblxcdFxcdFxcdFxcdGVsZW0udGV4dENvbnRlbnQgPSBcXFwiXFxcIjtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcblxcdFxcdHJldHVybiB0aGlzO1xcblxcdH0sXFxuXFxuXFx0Y2xvbmU6IGZ1bmN0aW9uKCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcXG5cXHRcXHRkYXRhQW5kRXZlbnRzID0gZGF0YUFuZEV2ZW50cyA9PSBudWxsID8gZmFsc2UgOiBkYXRhQW5kRXZlbnRzO1xcblxcdFxcdGRlZXBEYXRhQW5kRXZlbnRzID0gZGVlcERhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGRhdGFBbmRFdmVudHMgOiBkZWVwRGF0YUFuZEV2ZW50cztcXG5cXG5cXHRcXHRyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkge1xcblxcdFxcdFxcdHJldHVybiBqUXVlcnkuY2xvbmUoIHRoaXMsIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICk7XFxuXFx0XFx0fSApO1xcblxcdH0sXFxuXFxuXFx0aHRtbDogZnVuY3Rpb24oIHZhbHVlICkge1xcblxcdFxcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcXG5cXHRcXHRcXHR2YXIgZWxlbSA9IHRoaXNbIDAgXSB8fCB7fSxcXG5cXHRcXHRcXHRcXHRpID0gMCxcXG5cXHRcXHRcXHRcXHRsID0gdGhpcy5sZW5ndGg7XFxuXFxuXFx0XFx0XFx0aWYgKCB2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XFxuXFx0XFx0XFx0XFx0cmV0dXJuIGVsZW0uaW5uZXJIVE1MO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHQvLyBTZWUgaWYgd2UgY2FuIHRha2UgYSBzaG9ydGN1dCBhbmQganVzdCB1c2UgaW5uZXJIVE1MXFxuXFx0XFx0XFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFxcXCJzdHJpbmdcXFwiICYmICFybm9Jbm5lcmh0bWwudGVzdCggdmFsdWUgKSAmJlxcblxcdFxcdFxcdFxcdCF3cmFwTWFwWyAoIHJ0YWdOYW1lLmV4ZWMoIHZhbHVlICkgfHwgWyBcXFwiXFxcIiwgXFxcIlxcXCIgXSApWyAxIF0udG9Mb3dlckNhc2UoKSBdICkge1xcblxcblxcdFxcdFxcdFxcdHZhbHVlID0galF1ZXJ5Lmh0bWxQcmVmaWx0ZXIoIHZhbHVlICk7XFxuXFxuXFx0XFx0XFx0XFx0dHJ5IHtcXG5cXHRcXHRcXHRcXHRcXHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0ZWxlbSA9IHRoaXNbIGkgXSB8fCB7fTtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHQvLyBSZW1vdmUgZWxlbWVudCBub2RlcyBhbmQgcHJldmVudCBtZW1vcnkgbGVha3NcXG5cXHRcXHRcXHRcXHRcXHRcXHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0ZWxlbS5pbm5lckhUTUwgPSB2YWx1ZTtcXG5cXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdFxcdFxcdGVsZW0gPSAwO1xcblxcblxcdFxcdFxcdFxcdC8vIElmIHVzaW5nIGlubmVySFRNTCB0aHJvd3MgYW4gZXhjZXB0aW9uLCB1c2UgdGhlIGZhbGxiYWNrIG1ldGhvZFxcblxcdFxcdFxcdFxcdH0gY2F0Y2ggKCBlICkge31cXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0aWYgKCBlbGVtICkge1xcblxcdFxcdFxcdFxcdHRoaXMuZW1wdHkoKS5hcHBlbmQoIHZhbHVlICk7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoICk7XFxuXFx0fSxcXG5cXG5cXHRyZXBsYWNlV2l0aDogZnVuY3Rpb24oKSB7XFxuXFx0XFx0dmFyIGlnbm9yZWQgPSBbXTtcXG5cXG5cXHRcXHQvLyBNYWtlIHRoZSBjaGFuZ2VzLCByZXBsYWNpbmcgZWFjaCBub24taWdub3JlZCBjb250ZXh0IGVsZW1lbnQgd2l0aCB0aGUgbmV3IGNvbnRlbnRcXG5cXHRcXHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XFxuXFx0XFx0XFx0dmFyIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcXG5cXG5cXHRcXHRcXHRpZiAoIGpRdWVyeS5pbkFycmF5KCB0aGlzLCBpZ25vcmVkICkgPCAwICkge1xcblxcdFxcdFxcdFxcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggdGhpcyApICk7XFxuXFx0XFx0XFx0XFx0aWYgKCBwYXJlbnQgKSB7XFxuXFx0XFx0XFx0XFx0XFx0cGFyZW50LnJlcGxhY2VDaGlsZCggZWxlbSwgdGhpcyApO1xcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0Ly8gRm9yY2UgY2FsbGJhY2sgaW52b2NhdGlvblxcblxcdFxcdH0sIGlnbm9yZWQgKTtcXG5cXHR9XFxufSApO1xcblxcbmpRdWVyeS5lYWNoKCB7XFxuXFx0YXBwZW5kVG86IFxcXCJhcHBlbmRcXFwiLFxcblxcdHByZXBlbmRUbzogXFxcInByZXBlbmRcXFwiLFxcblxcdGluc2VydEJlZm9yZTogXFxcImJlZm9yZVxcXCIsXFxuXFx0aW5zZXJ0QWZ0ZXI6IFxcXCJhZnRlclxcXCIsXFxuXFx0cmVwbGFjZUFsbDogXFxcInJlcGxhY2VXaXRoXFxcIlxcbn0sIGZ1bmN0aW9uKCBuYW1lLCBvcmlnaW5hbCApIHtcXG5cXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcXG5cXHRcXHR2YXIgZWxlbXMsXFxuXFx0XFx0XFx0cmV0ID0gW10sXFxuXFx0XFx0XFx0aW5zZXJ0ID0galF1ZXJ5KCBzZWxlY3RvciApLFxcblxcdFxcdFxcdGxhc3QgPSBpbnNlcnQubGVuZ3RoIC0gMSxcXG5cXHRcXHRcXHRpID0gMDtcXG5cXG5cXHRcXHRmb3IgKCA7IGkgPD0gbGFzdDsgaSsrICkge1xcblxcdFxcdFxcdGVsZW1zID0gaSA9PT0gbGFzdCA/IHRoaXMgOiB0aGlzLmNsb25lKCB0cnVlICk7XFxuXFx0XFx0XFx0alF1ZXJ5KCBpbnNlcnRbIGkgXSApWyBvcmlnaW5hbCBdKCBlbGVtcyApO1xcblxcblxcdFxcdFxcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxcblxcdFxcdFxcdC8vIC5nZXQoKSBiZWNhdXNlIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcXG5cXHRcXHRcXHRwdXNoLmFwcGx5KCByZXQsIGVsZW1zLmdldCgpICk7XFxuXFx0XFx0fVxcblxcblxcdFxcdHJldHVybiB0aGlzLnB1c2hTdGFjayggcmV0ICk7XFxuXFx0fTtcXG59ICk7XFxudmFyIHJtYXJnaW4gPSAoIC9ebWFyZ2luLyApO1xcblxcbnZhciBybnVtbm9ucHggPSBuZXcgUmVnRXhwKCBcXFwiXihcXFwiICsgcG51bSArIFxcXCIpKD8hcHgpW2EteiVdKyRcXFwiLCBcXFwiaVxcXCIgKTtcXG5cXG52YXIgZ2V0U3R5bGVzID0gZnVuY3Rpb24oIGVsZW0gKSB7XFxuXFxuXFx0XFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5LCBGaXJlZm94IDw9MzAgKCMxNTA5OCwgIzE0MTUwKVxcblxcdFxcdC8vIElFIHRocm93cyBvbiBlbGVtZW50cyBjcmVhdGVkIGluIHBvcHVwc1xcblxcdFxcdC8vIEZGIG1lYW53aGlsZSB0aHJvd3Mgb24gZnJhbWUgZWxlbWVudHMgdGhyb3VnaCBcXFwiZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZVxcXCJcXG5cXHRcXHR2YXIgdmlldyA9IGVsZW0ub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcXG5cXG5cXHRcXHRpZiAoICF2aWV3IHx8ICF2aWV3Lm9wZW5lciApIHtcXG5cXHRcXHRcXHR2aWV3ID0gd2luZG93O1xcblxcdFxcdH1cXG5cXG5cXHRcXHRyZXR1cm4gdmlldy5nZXRDb21wdXRlZFN0eWxlKCBlbGVtICk7XFxuXFx0fTtcXG5cXG5cXG5cXG4oIGZ1bmN0aW9uKCkge1xcblxcblxcdC8vIEV4ZWN1dGluZyBib3RoIHBpeGVsUG9zaXRpb24gJiBib3hTaXppbmdSZWxpYWJsZSB0ZXN0cyByZXF1aXJlIG9ubHkgb25lIGxheW91dFxcblxcdC8vIHNvIHRoZXkncmUgZXhlY3V0ZWQgYXQgdGhlIHNhbWUgdGltZSB0byBzYXZlIHRoZSBzZWNvbmQgY29tcHV0YXRpb24uXFxuXFx0ZnVuY3Rpb24gY29tcHV0ZVN0eWxlVGVzdHMoKSB7XFxuXFxuXFx0XFx0Ly8gVGhpcyBpcyBhIHNpbmdsZXRvbiwgd2UgbmVlZCB0byBleGVjdXRlIGl0IG9ubHkgb25jZVxcblxcdFxcdGlmICggIWRpdiApIHtcXG5cXHRcXHRcXHRyZXR1cm47XFxuXFx0XFx0fVxcblxcblxcdFxcdGRpdi5zdHlsZS5jc3NUZXh0ID1cXG5cXHRcXHRcXHRcXFwiYm94LXNpemluZzpib3JkZXItYm94O1xcXCIgK1xcblxcdFxcdFxcdFxcXCJwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO1xcXCIgK1xcblxcdFxcdFxcdFxcXCJtYXJnaW46YXV0bztib3JkZXI6MXB4O3BhZGRpbmc6MXB4O1xcXCIgK1xcblxcdFxcdFxcdFxcXCJ0b3A6MSU7d2lkdGg6NTAlXFxcIjtcXG5cXHRcXHRkaXYuaW5uZXJIVE1MID0gXFxcIlxcXCI7XFxuXFx0XFx0ZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKCBjb250YWluZXIgKTtcXG5cXG5cXHRcXHR2YXIgZGl2U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSggZGl2ICk7XFxuXFx0XFx0cGl4ZWxQb3NpdGlvblZhbCA9IGRpdlN0eWxlLnRvcCAhPT0gXFxcIjElXFxcIjtcXG5cXG5cXHRcXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5LCBGaXJlZm94IDw9MyAtIDQ0XFxuXFx0XFx0cmVsaWFibGVNYXJnaW5MZWZ0VmFsID0gZGl2U3R5bGUubWFyZ2luTGVmdCA9PT0gXFxcIjJweFxcXCI7XFxuXFx0XFx0Ym94U2l6aW5nUmVsaWFibGVWYWwgPSBkaXZTdHlsZS53aWR0aCA9PT0gXFxcIjRweFxcXCI7XFxuXFxuXFx0XFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seVxcblxcdFxcdC8vIFNvbWUgc3R5bGVzIGNvbWUgYmFjayB3aXRoIHBlcmNlbnRhZ2UgdmFsdWVzLCBldmVuIHRob3VnaCB0aGV5IHNob3VsZG4ndFxcblxcdFxcdGRpdi5zdHlsZS5tYXJnaW5SaWdodCA9IFxcXCI1MCVcXFwiO1xcblxcdFxcdHBpeGVsTWFyZ2luUmlnaHRWYWwgPSBkaXZTdHlsZS5tYXJnaW5SaWdodCA9PT0gXFxcIjRweFxcXCI7XFxuXFxuXFx0XFx0ZG9jdW1lbnRFbGVtZW50LnJlbW92ZUNoaWxkKCBjb250YWluZXIgKTtcXG5cXG5cXHRcXHQvLyBOdWxsaWZ5IHRoZSBkaXYgc28gaXQgd291bGRuJ3QgYmUgc3RvcmVkIGluIHRoZSBtZW1vcnkgYW5kXFxuXFx0XFx0Ly8gaXQgd2lsbCBhbHNvIGJlIGEgc2lnbiB0aGF0IGNoZWNrcyBhbHJlYWR5IHBlcmZvcm1lZFxcblxcdFxcdGRpdiA9IG51bGw7XFxuXFx0fVxcblxcblxcdHZhciBwaXhlbFBvc2l0aW9uVmFsLCBib3hTaXppbmdSZWxpYWJsZVZhbCwgcGl4ZWxNYXJnaW5SaWdodFZhbCwgcmVsaWFibGVNYXJnaW5MZWZ0VmFsLFxcblxcdFxcdGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFxcXCJkaXZcXFwiICksXFxuXFx0XFx0ZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXFxcImRpdlxcXCIgKTtcXG5cXG5cXHQvLyBGaW5pc2ggZWFybHkgaW4gbGltaXRlZCAobm9uLWJyb3dzZXIpIGVudmlyb25tZW50c1xcblxcdGlmICggIWRpdi5zdHlsZSApIHtcXG5cXHRcXHRyZXR1cm47XFxuXFx0fVxcblxcblxcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcXG5cXHQvLyBTdHlsZSBvZiBjbG9uZWQgZWxlbWVudCBhZmZlY3RzIHNvdXJjZSBlbGVtZW50IGNsb25lZCAoIzg5MDgpXFxuXFx0ZGl2LnN0eWxlLmJhY2tncm91bmRDbGlwID0gXFxcImNvbnRlbnQtYm94XFxcIjtcXG5cXHRkaXYuY2xvbmVOb2RlKCB0cnVlICkuc3R5bGUuYmFja2dyb3VuZENsaXAgPSBcXFwiXFxcIjtcXG5cXHRzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZSA9IGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9PT0gXFxcImNvbnRlbnQtYm94XFxcIjtcXG5cXG5cXHRjb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IFxcXCJib3JkZXI6MDt3aWR0aDo4cHg7aGVpZ2h0OjA7dG9wOjA7bGVmdDotOTk5OXB4O1xcXCIgK1xcblxcdFxcdFxcXCJwYWRkaW5nOjA7bWFyZ2luLXRvcDoxcHg7cG9zaXRpb246YWJzb2x1dGVcXFwiO1xcblxcdGNvbnRhaW5lci5hcHBlbmRDaGlsZCggZGl2ICk7XFxuXFxuXFx0alF1ZXJ5LmV4dGVuZCggc3VwcG9ydCwge1xcblxcdFxcdHBpeGVsUG9zaXRpb246IGZ1bmN0aW9uKCkge1xcblxcdFxcdFxcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XFxuXFx0XFx0XFx0cmV0dXJuIHBpeGVsUG9zaXRpb25WYWw7XFxuXFx0XFx0fSxcXG5cXHRcXHRib3hTaXppbmdSZWxpYWJsZTogZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcXG5cXHRcXHRcXHRyZXR1cm4gYm94U2l6aW5nUmVsaWFibGVWYWw7XFxuXFx0XFx0fSxcXG5cXHRcXHRwaXhlbE1hcmdpblJpZ2h0OiBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHRjb21wdXRlU3R5bGVUZXN0cygpO1xcblxcdFxcdFxcdHJldHVybiBwaXhlbE1hcmdpblJpZ2h0VmFsO1xcblxcdFxcdH0sXFxuXFx0XFx0cmVsaWFibGVNYXJnaW5MZWZ0OiBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHRjb21wdXRlU3R5bGVUZXN0cygpO1xcblxcdFxcdFxcdHJldHVybiByZWxpYWJsZU1hcmdpbkxlZnRWYWw7XFxuXFx0XFx0fVxcblxcdH0gKTtcXG59ICkoKTtcXG5cXG5cXG5mdW5jdGlvbiBjdXJDU1MoIGVsZW0sIG5hbWUsIGNvbXB1dGVkICkge1xcblxcdHZhciB3aWR0aCwgbWluV2lkdGgsIG1heFdpZHRoLCByZXQsXFxuXFx0XFx0c3R5bGUgPSBlbGVtLnN0eWxlO1xcblxcblxcdGNvbXB1dGVkID0gY29tcHV0ZWQgfHwgZ2V0U3R5bGVzKCBlbGVtICk7XFxuXFxuXFx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcXG5cXHQvLyBnZXRQcm9wZXJ0eVZhbHVlIGlzIG9ubHkgbmVlZGVkIGZvciAuY3NzKCdmaWx0ZXInKSAoIzEyNTM3KVxcblxcdGlmICggY29tcHV0ZWQgKSB7XFxuXFx0XFx0cmV0ID0gY29tcHV0ZWQuZ2V0UHJvcGVydHlWYWx1ZSggbmFtZSApIHx8IGNvbXB1dGVkWyBuYW1lIF07XFxuXFxuXFx0XFx0aWYgKCByZXQgPT09IFxcXCJcXFwiICYmICFqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApICkge1xcblxcdFxcdFxcdHJldCA9IGpRdWVyeS5zdHlsZSggZWxlbSwgbmFtZSApO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBBIHRyaWJ1dGUgdG8gdGhlIFxcXCJhd2Vzb21lIGhhY2sgYnkgRGVhbiBFZHdhcmRzXFxcIlxcblxcdFxcdC8vIEFuZHJvaWQgQnJvd3NlciByZXR1cm5zIHBlcmNlbnRhZ2UgZm9yIHNvbWUgdmFsdWVzLFxcblxcdFxcdC8vIGJ1dCB3aWR0aCBzZWVtcyB0byBiZSByZWxpYWJseSBwaXhlbHMuXFxuXFx0XFx0Ly8gVGhpcyBpcyBhZ2FpbnN0IHRoZSBDU1NPTSBkcmFmdCBzcGVjOlxcblxcdFxcdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jcmVzb2x2ZWQtdmFsdWVzXFxuXFx0XFx0aWYgKCAhc3VwcG9ydC5waXhlbE1hcmdpblJpZ2h0KCkgJiYgcm51bW5vbnB4LnRlc3QoIHJldCApICYmIHJtYXJnaW4udGVzdCggbmFtZSApICkge1xcblxcblxcdFxcdFxcdC8vIFJlbWVtYmVyIHRoZSBvcmlnaW5hbCB2YWx1ZXNcXG5cXHRcXHRcXHR3aWR0aCA9IHN0eWxlLndpZHRoO1xcblxcdFxcdFxcdG1pbldpZHRoID0gc3R5bGUubWluV2lkdGg7XFxuXFx0XFx0XFx0bWF4V2lkdGggPSBzdHlsZS5tYXhXaWR0aDtcXG5cXG5cXHRcXHRcXHQvLyBQdXQgaW4gdGhlIG5ldyB2YWx1ZXMgdG8gZ2V0IGEgY29tcHV0ZWQgdmFsdWUgb3V0XFxuXFx0XFx0XFx0c3R5bGUubWluV2lkdGggPSBzdHlsZS5tYXhXaWR0aCA9IHN0eWxlLndpZHRoID0gcmV0O1xcblxcdFxcdFxcdHJldCA9IGNvbXB1dGVkLndpZHRoO1xcblxcblxcdFxcdFxcdC8vIFJldmVydCB0aGUgY2hhbmdlZCB2YWx1ZXNcXG5cXHRcXHRcXHRzdHlsZS53aWR0aCA9IHdpZHRoO1xcblxcdFxcdFxcdHN0eWxlLm1pbldpZHRoID0gbWluV2lkdGg7XFxuXFx0XFx0XFx0c3R5bGUubWF4V2lkdGggPSBtYXhXaWR0aDtcXG5cXHRcXHR9XFxuXFx0fVxcblxcblxcdHJldHVybiByZXQgIT09IHVuZGVmaW5lZCA/XFxuXFxuXFx0XFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxcblxcdFxcdC8vIElFIHJldHVybnMgekluZGV4IHZhbHVlIGFzIGFuIGludGVnZXIuXFxuXFx0XFx0cmV0ICsgXFxcIlxcXCIgOlxcblxcdFxcdHJldDtcXG59XFxuXFxuXFxuZnVuY3Rpb24gYWRkR2V0SG9va0lmKCBjb25kaXRpb25GbiwgaG9va0ZuICkge1xcblxcblxcdC8vIERlZmluZSB0aGUgaG9vaywgd2UnbGwgY2hlY2sgb24gdGhlIGZpcnN0IHJ1biBpZiBpdCdzIHJlYWxseSBuZWVkZWQuXFxuXFx0cmV0dXJuIHtcXG5cXHRcXHRnZXQ6IGZ1bmN0aW9uKCkge1xcblxcdFxcdFxcdGlmICggY29uZGl0aW9uRm4oKSApIHtcXG5cXG5cXHRcXHRcXHRcXHQvLyBIb29rIG5vdCBuZWVkZWQgKG9yIGl0J3Mgbm90IHBvc3NpYmxlIHRvIHVzZSBpdCBkdWVcXG5cXHRcXHRcXHRcXHQvLyB0byBtaXNzaW5nIGRlcGVuZGVuY3kpLCByZW1vdmUgaXQuXFxuXFx0XFx0XFx0XFx0ZGVsZXRlIHRoaXMuZ2V0O1xcblxcdFxcdFxcdFxcdHJldHVybjtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0Ly8gSG9vayBuZWVkZWQ7IHJlZGVmaW5lIGl0IHNvIHRoYXQgdGhlIHN1cHBvcnQgdGVzdCBpcyBub3QgZXhlY3V0ZWQgYWdhaW4uXFxuXFx0XFx0XFx0cmV0dXJuICggdGhpcy5nZXQgPSBob29rRm4gKS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XFxuXFx0XFx0fVxcblxcdH07XFxufVxcblxcblxcbnZhclxcblxcblxcdC8vIFN3YXBwYWJsZSBpZiBkaXNwbGF5IGlzIG5vbmUgb3Igc3RhcnRzIHdpdGggdGFibGVcXG5cXHQvLyBleGNlcHQgXFxcInRhYmxlXFxcIiwgXFxcInRhYmxlLWNlbGxcXFwiLCBvciBcXFwidGFibGUtY2FwdGlvblxcXCJcXG5cXHQvLyBTZWUgaGVyZSBmb3IgZGlzcGxheSB2YWx1ZXM6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvQ1NTL2Rpc3BsYXlcXG5cXHRyZGlzcGxheXN3YXAgPSAvXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sXFxuXFx0Y3NzU2hvdyA9IHsgcG9zaXRpb246IFxcXCJhYnNvbHV0ZVxcXCIsIHZpc2liaWxpdHk6IFxcXCJoaWRkZW5cXFwiLCBkaXNwbGF5OiBcXFwiYmxvY2tcXFwiIH0sXFxuXFx0Y3NzTm9ybWFsVHJhbnNmb3JtID0ge1xcblxcdFxcdGxldHRlclNwYWNpbmc6IFxcXCIwXFxcIixcXG5cXHRcXHRmb250V2VpZ2h0OiBcXFwiNDAwXFxcIlxcblxcdH0sXFxuXFxuXFx0Y3NzUHJlZml4ZXMgPSBbIFxcXCJXZWJraXRcXFwiLCBcXFwiTW96XFxcIiwgXFxcIm1zXFxcIiBdLFxcblxcdGVtcHR5U3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcXFwiZGl2XFxcIiApLnN0eWxlO1xcblxcbi8vIFJldHVybiBhIGNzcyBwcm9wZXJ0eSBtYXBwZWQgdG8gYSBwb3RlbnRpYWxseSB2ZW5kb3IgcHJlZml4ZWQgcHJvcGVydHlcXG5mdW5jdGlvbiB2ZW5kb3JQcm9wTmFtZSggbmFtZSApIHtcXG5cXG5cXHQvLyBTaG9ydGN1dCBmb3IgbmFtZXMgdGhhdCBhcmUgbm90IHZlbmRvciBwcmVmaXhlZFxcblxcdGlmICggbmFtZSBpbiBlbXB0eVN0eWxlICkge1xcblxcdFxcdHJldHVybiBuYW1lO1xcblxcdH1cXG5cXG5cXHQvLyBDaGVjayBmb3IgdmVuZG9yIHByZWZpeGVkIG5hbWVzXFxuXFx0dmFyIGNhcE5hbWUgPSBuYW1lWyAwIF0udG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoIDEgKSxcXG5cXHRcXHRpID0gY3NzUHJlZml4ZXMubGVuZ3RoO1xcblxcblxcdHdoaWxlICggaS0tICkge1xcblxcdFxcdG5hbWUgPSBjc3NQcmVmaXhlc1sgaSBdICsgY2FwTmFtZTtcXG5cXHRcXHRpZiAoIG5hbWUgaW4gZW1wdHlTdHlsZSApIHtcXG5cXHRcXHRcXHRyZXR1cm4gbmFtZTtcXG5cXHRcXHR9XFxuXFx0fVxcbn1cXG5cXG5mdW5jdGlvbiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICkge1xcblxcblxcdC8vIEFueSByZWxhdGl2ZSAoKy8tKSB2YWx1ZXMgaGF2ZSBhbHJlYWR5IGJlZW5cXG5cXHQvLyBub3JtYWxpemVkIGF0IHRoaXMgcG9pbnRcXG5cXHR2YXIgbWF0Y2hlcyA9IHJjc3NOdW0uZXhlYyggdmFsdWUgKTtcXG5cXHRyZXR1cm4gbWF0Y2hlcyA/XFxuXFxuXFx0XFx0Ly8gR3VhcmQgYWdhaW5zdCB1bmRlZmluZWQgXFxcInN1YnRyYWN0XFxcIiwgZS5nLiwgd2hlbiB1c2VkIGFzIGluIGNzc0hvb2tzXFxuXFx0XFx0TWF0aC5tYXgoIDAsIG1hdGNoZXNbIDIgXSAtICggc3VidHJhY3QgfHwgMCApICkgKyAoIG1hdGNoZXNbIDMgXSB8fCBcXFwicHhcXFwiICkgOlxcblxcdFxcdHZhbHVlO1xcbn1cXG5cXG5mdW5jdGlvbiBhdWdtZW50V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEsIGlzQm9yZGVyQm94LCBzdHlsZXMgKSB7XFxuXFx0dmFyIGksXFxuXFx0XFx0dmFsID0gMDtcXG5cXG5cXHQvLyBJZiB3ZSBhbHJlYWR5IGhhdmUgdGhlIHJpZ2h0IG1lYXN1cmVtZW50LCBhdm9pZCBhdWdtZW50YXRpb25cXG5cXHRpZiAoIGV4dHJhID09PSAoIGlzQm9yZGVyQm94ID8gXFxcImJvcmRlclxcXCIgOiBcXFwiY29udGVudFxcXCIgKSApIHtcXG5cXHRcXHRpID0gNDtcXG5cXG5cXHQvLyBPdGhlcndpc2UgaW5pdGlhbGl6ZSBmb3IgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCBwcm9wZXJ0aWVzXFxuXFx0fSBlbHNlIHtcXG5cXHRcXHRpID0gbmFtZSA9PT0gXFxcIndpZHRoXFxcIiA/IDEgOiAwO1xcblxcdH1cXG5cXG5cXHRmb3IgKCA7IGkgPCA0OyBpICs9IDIgKSB7XFxuXFxuXFx0XFx0Ly8gQm90aCBib3ggbW9kZWxzIGV4Y2x1ZGUgbWFyZ2luLCBzbyBhZGQgaXQgaWYgd2Ugd2FudCBpdFxcblxcdFxcdGlmICggZXh0cmEgPT09IFxcXCJtYXJnaW5cXFwiICkge1xcblxcdFxcdFxcdHZhbCArPSBqUXVlcnkuY3NzKCBlbGVtLCBleHRyYSArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0aWYgKCBpc0JvcmRlckJveCApIHtcXG5cXG5cXHRcXHRcXHQvLyBib3JkZXItYm94IGluY2x1ZGVzIHBhZGRpbmcsIHNvIHJlbW92ZSBpdCBpZiB3ZSB3YW50IGNvbnRlbnRcXG5cXHRcXHRcXHRpZiAoIGV4dHJhID09PSBcXFwiY29udGVudFxcXCIgKSB7XFxuXFx0XFx0XFx0XFx0dmFsIC09IGpRdWVyeS5jc3MoIGVsZW0sIFxcXCJwYWRkaW5nXFxcIiArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0Ly8gQXQgdGhpcyBwb2ludCwgZXh0cmEgaXNuJ3QgYm9yZGVyIG5vciBtYXJnaW4sIHNvIHJlbW92ZSBib3JkZXJcXG5cXHRcXHRcXHRpZiAoIGV4dHJhICE9PSBcXFwibWFyZ2luXFxcIiApIHtcXG5cXHRcXHRcXHRcXHR2YWwgLT0galF1ZXJ5LmNzcyggZWxlbSwgXFxcImJvcmRlclxcXCIgKyBjc3NFeHBhbmRbIGkgXSArIFxcXCJXaWR0aFxcXCIsIHRydWUsIHN0eWxlcyApO1xcblxcdFxcdFxcdH1cXG5cXHRcXHR9IGVsc2Uge1xcblxcblxcdFxcdFxcdC8vIEF0IHRoaXMgcG9pbnQsIGV4dHJhIGlzbid0IGNvbnRlbnQsIHNvIGFkZCBwYWRkaW5nXFxuXFx0XFx0XFx0dmFsICs9IGpRdWVyeS5jc3MoIGVsZW0sIFxcXCJwYWRkaW5nXFxcIiArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcXG5cXG5cXHRcXHRcXHQvLyBBdCB0aGlzIHBvaW50LCBleHRyYSBpc24ndCBjb250ZW50IG5vciBwYWRkaW5nLCBzbyBhZGQgYm9yZGVyXFxuXFx0XFx0XFx0aWYgKCBleHRyYSAhPT0gXFxcInBhZGRpbmdcXFwiICkge1xcblxcdFxcdFxcdFxcdHZhbCArPSBqUXVlcnkuY3NzKCBlbGVtLCBcXFwiYm9yZGVyXFxcIiArIGNzc0V4cGFuZFsgaSBdICsgXFxcIldpZHRoXFxcIiwgdHJ1ZSwgc3R5bGVzICk7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXHR9XFxuXFxuXFx0cmV0dXJuIHZhbDtcXG59XFxuXFxuZnVuY3Rpb24gZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEgKSB7XFxuXFxuXFx0Ly8gU3RhcnQgd2l0aCBvZmZzZXQgcHJvcGVydHksIHdoaWNoIGlzIGVxdWl2YWxlbnQgdG8gdGhlIGJvcmRlci1ib3ggdmFsdWVcXG5cXHR2YXIgdmFsLFxcblxcdFxcdHZhbHVlSXNCb3JkZXJCb3ggPSB0cnVlLFxcblxcdFxcdHN0eWxlcyA9IGdldFN0eWxlcyggZWxlbSApLFxcblxcdFxcdGlzQm9yZGVyQm94ID0galF1ZXJ5LmNzcyggZWxlbSwgXFxcImJveFNpemluZ1xcXCIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gXFxcImJvcmRlci1ib3hcXFwiO1xcblxcblxcdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxcblxcdC8vIFJ1bm5pbmcgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IG9uIGEgZGlzY29ubmVjdGVkIG5vZGVcXG5cXHQvLyBpbiBJRSB0aHJvd3MgYW4gZXJyb3IuXFxuXFx0aWYgKCBlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoICkge1xcblxcdFxcdHZhbCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbIG5hbWUgXTtcXG5cXHR9XFxuXFxuXFx0Ly8gU29tZSBub24taHRtbCBlbGVtZW50cyByZXR1cm4gdW5kZWZpbmVkIGZvciBvZmZzZXRXaWR0aCwgc28gY2hlY2sgZm9yIG51bGwvdW5kZWZpbmVkXFxuXFx0Ly8gc3ZnIC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NjQ5Mjg1XFxuXFx0Ly8gTWF0aE1MIC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NDkxNjY4XFxuXFx0aWYgKCB2YWwgPD0gMCB8fCB2YWwgPT0gbnVsbCApIHtcXG5cXG5cXHRcXHQvLyBGYWxsIGJhY2sgdG8gY29tcHV0ZWQgdGhlbiB1bmNvbXB1dGVkIGNzcyBpZiBuZWNlc3NhcnlcXG5cXHRcXHR2YWwgPSBjdXJDU1MoIGVsZW0sIG5hbWUsIHN0eWxlcyApO1xcblxcdFxcdGlmICggdmFsIDwgMCB8fCB2YWwgPT0gbnVsbCApIHtcXG5cXHRcXHRcXHR2YWwgPSBlbGVtLnN0eWxlWyBuYW1lIF07XFxuXFx0XFx0fVxcblxcblxcdFxcdC8vIENvbXB1dGVkIHVuaXQgaXMgbm90IHBpeGVscy4gU3RvcCBoZXJlIGFuZCByZXR1cm4uXFxuXFx0XFx0aWYgKCBybnVtbm9ucHgudGVzdCggdmFsICkgKSB7XFxuXFx0XFx0XFx0cmV0dXJuIHZhbDtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gQ2hlY2sgZm9yIHN0eWxlIGluIGNhc2UgYSBicm93c2VyIHdoaWNoIHJldHVybnMgdW5yZWxpYWJsZSB2YWx1ZXNcXG5cXHRcXHQvLyBmb3IgZ2V0Q29tcHV0ZWRTdHlsZSBzaWxlbnRseSBmYWxscyBiYWNrIHRvIHRoZSByZWxpYWJsZSBlbGVtLnN0eWxlXFxuXFx0XFx0dmFsdWVJc0JvcmRlckJveCA9IGlzQm9yZGVyQm94ICYmXFxuXFx0XFx0XFx0KCBzdXBwb3J0LmJveFNpemluZ1JlbGlhYmxlKCkgfHwgdmFsID09PSBlbGVtLnN0eWxlWyBuYW1lIF0gKTtcXG5cXG5cXHRcXHQvLyBOb3JtYWxpemUgXFxcIlxcXCIsIGF1dG8sIGFuZCBwcmVwYXJlIGZvciBleHRyYVxcblxcdFxcdHZhbCA9IHBhcnNlRmxvYXQoIHZhbCApIHx8IDA7XFxuXFx0fVxcblxcblxcdC8vIFVzZSB0aGUgYWN0aXZlIGJveC1zaXppbmcgbW9kZWwgdG8gYWRkL3N1YnRyYWN0IGlycmVsZXZhbnQgc3R5bGVzXFxuXFx0cmV0dXJuICggdmFsICtcXG5cXHRcXHRhdWdtZW50V2lkdGhPckhlaWdodChcXG5cXHRcXHRcXHRlbGVtLFxcblxcdFxcdFxcdG5hbWUsXFxuXFx0XFx0XFx0ZXh0cmEgfHwgKCBpc0JvcmRlckJveCA/IFxcXCJib3JkZXJcXFwiIDogXFxcImNvbnRlbnRcXFwiICksXFxuXFx0XFx0XFx0dmFsdWVJc0JvcmRlckJveCxcXG5cXHRcXHRcXHRzdHlsZXNcXG5cXHRcXHQpXFxuXFx0KSArIFxcXCJweFxcXCI7XFxufVxcblxcbmpRdWVyeS5leHRlbmQoIHtcXG5cXG5cXHQvLyBBZGQgaW4gc3R5bGUgcHJvcGVydHkgaG9va3MgZm9yIG92ZXJyaWRpbmcgdGhlIGRlZmF1bHRcXG5cXHQvLyBiZWhhdmlvciBvZiBnZXR0aW5nIGFuZCBzZXR0aW5nIGEgc3R5bGUgcHJvcGVydHlcXG5cXHRjc3NIb29rczoge1xcblxcdFxcdG9wYWNpdHk6IHtcXG5cXHRcXHRcXHRnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcXG5cXHRcXHRcXHRcXHRpZiAoIGNvbXB1dGVkICkge1xcblxcblxcdFxcdFxcdFxcdFxcdC8vIFdlIHNob3VsZCBhbHdheXMgZ2V0IGEgbnVtYmVyIGJhY2sgZnJvbSBvcGFjaXR5XFxuXFx0XFx0XFx0XFx0XFx0dmFyIHJldCA9IGN1ckNTUyggZWxlbSwgXFxcIm9wYWNpdHlcXFwiICk7XFxuXFx0XFx0XFx0XFx0XFx0cmV0dXJuIHJldCA9PT0gXFxcIlxcXCIgPyBcXFwiMVxcXCIgOiByZXQ7XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH1cXG5cXHRcXHR9XFxuXFx0fSxcXG5cXG5cXHQvLyBEb24ndCBhdXRvbWF0aWNhbGx5IGFkZCBcXFwicHhcXFwiIHRvIHRoZXNlIHBvc3NpYmx5LXVuaXRsZXNzIHByb3BlcnRpZXNcXG5cXHRjc3NOdW1iZXI6IHtcXG5cXHRcXHRcXFwiYW5pbWF0aW9uSXRlcmF0aW9uQ291bnRcXFwiOiB0cnVlLFxcblxcdFxcdFxcXCJjb2x1bW5Db3VudFxcXCI6IHRydWUsXFxuXFx0XFx0XFxcImZpbGxPcGFjaXR5XFxcIjogdHJ1ZSxcXG5cXHRcXHRcXFwiZmxleEdyb3dcXFwiOiB0cnVlLFxcblxcdFxcdFxcXCJmbGV4U2hyaW5rXFxcIjogdHJ1ZSxcXG5cXHRcXHRcXFwiZm9udFdlaWdodFxcXCI6IHRydWUsXFxuXFx0XFx0XFxcImxpbmVIZWlnaHRcXFwiOiB0cnVlLFxcblxcdFxcdFxcXCJvcGFjaXR5XFxcIjogdHJ1ZSxcXG5cXHRcXHRcXFwib3JkZXJcXFwiOiB0cnVlLFxcblxcdFxcdFxcXCJvcnBoYW5zXFxcIjogdHJ1ZSxcXG5cXHRcXHRcXFwid2lkb3dzXFxcIjogdHJ1ZSxcXG5cXHRcXHRcXFwiekluZGV4XFxcIjogdHJ1ZSxcXG5cXHRcXHRcXFwiem9vbVxcXCI6IHRydWVcXG5cXHR9LFxcblxcblxcdC8vIEFkZCBpbiBwcm9wZXJ0aWVzIHdob3NlIG5hbWVzIHlvdSB3aXNoIHRvIGZpeCBiZWZvcmVcXG5cXHQvLyBzZXR0aW5nIG9yIGdldHRpbmcgdGhlIHZhbHVlXFxuXFx0Y3NzUHJvcHM6IHtcXG5cXHRcXHRcXFwiZmxvYXRcXFwiOiBcXFwiY3NzRmxvYXRcXFwiXFxuXFx0fSxcXG5cXG5cXHQvLyBHZXQgYW5kIHNldCB0aGUgc3R5bGUgcHJvcGVydHkgb24gYSBET00gTm9kZVxcblxcdHN0eWxlOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUsIGV4dHJhICkge1xcblxcblxcdFxcdC8vIERvbid0IHNldCBzdHlsZXMgb24gdGV4dCBhbmQgY29tbWVudCBub2Rlc1xcblxcdFxcdGlmICggIWVsZW0gfHwgZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUeXBlID09PSA4IHx8ICFlbGVtLnN0eWxlICkge1xcblxcdFxcdFxcdHJldHVybjtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gTWFrZSBzdXJlIHRoYXQgd2UncmUgd29ya2luZyB3aXRoIHRoZSByaWdodCBuYW1lXFxuXFx0XFx0dmFyIHJldCwgdHlwZSwgaG9va3MsXFxuXFx0XFx0XFx0b3JpZ05hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBuYW1lICksXFxuXFx0XFx0XFx0c3R5bGUgPSBlbGVtLnN0eWxlO1xcblxcblxcdFxcdG5hbWUgPSBqUXVlcnkuY3NzUHJvcHNbIG9yaWdOYW1lIF0gfHxcXG5cXHRcXHRcXHQoIGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSA9IHZlbmRvclByb3BOYW1lKCBvcmlnTmFtZSApIHx8IG9yaWdOYW1lICk7XFxuXFxuXFx0XFx0Ly8gR2V0cyBob29rIGZvciB0aGUgcHJlZml4ZWQgdmVyc2lvbiwgdGhlbiB1bnByZWZpeGVkIHZlcnNpb25cXG5cXHRcXHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdIHx8IGpRdWVyeS5jc3NIb29rc1sgb3JpZ05hbWUgXTtcXG5cXG5cXHRcXHQvLyBDaGVjayBpZiB3ZSdyZSBzZXR0aW5nIGEgdmFsdWVcXG5cXHRcXHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XFxuXFx0XFx0XFx0dHlwZSA9IHR5cGVvZiB2YWx1ZTtcXG5cXG5cXHRcXHRcXHQvLyBDb252ZXJ0IFxcXCIrPVxcXCIgb3IgXFxcIi09XFxcIiB0byByZWxhdGl2ZSBudW1iZXJzICgjNzM0NSlcXG5cXHRcXHRcXHRpZiAoIHR5cGUgPT09IFxcXCJzdHJpbmdcXFwiICYmICggcmV0ID0gcmNzc051bS5leGVjKCB2YWx1ZSApICkgJiYgcmV0WyAxIF0gKSB7XFxuXFx0XFx0XFx0XFx0dmFsdWUgPSBhZGp1c3RDU1MoIGVsZW0sIG5hbWUsIHJldCApO1xcblxcblxcdFxcdFxcdFxcdC8vIEZpeGVzIGJ1ZyAjOTIzN1xcblxcdFxcdFxcdFxcdHR5cGUgPSBcXFwibnVtYmVyXFxcIjtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0Ly8gTWFrZSBzdXJlIHRoYXQgbnVsbCBhbmQgTmFOIHZhbHVlcyBhcmVuJ3Qgc2V0ICgjNzExNilcXG5cXHRcXHRcXHRpZiAoIHZhbHVlID09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlICkge1xcblxcdFxcdFxcdFxcdHJldHVybjtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0Ly8gSWYgYSBudW1iZXIgd2FzIHBhc3NlZCBpbiwgYWRkIHRoZSB1bml0IChleGNlcHQgZm9yIGNlcnRhaW4gQ1NTIHByb3BlcnRpZXMpXFxuXFx0XFx0XFx0aWYgKCB0eXBlID09PSBcXFwibnVtYmVyXFxcIiApIHtcXG5cXHRcXHRcXHRcXHR2YWx1ZSArPSByZXQgJiYgcmV0WyAzIF0gfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBvcmlnTmFtZSBdID8gXFxcIlxcXCIgOiBcXFwicHhcXFwiICk7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdC8vIGJhY2tncm91bmQtKiBwcm9wcyBhZmZlY3Qgb3JpZ2luYWwgY2xvbmUncyB2YWx1ZXNcXG5cXHRcXHRcXHRpZiAoICFzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZSAmJiB2YWx1ZSA9PT0gXFxcIlxcXCIgJiYgbmFtZS5pbmRleE9mKCBcXFwiYmFja2dyb3VuZFxcXCIgKSA9PT0gMCApIHtcXG5cXHRcXHRcXHRcXHRzdHlsZVsgbmFtZSBdID0gXFxcImluaGVyaXRcXFwiO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkLCB1c2UgdGhhdCB2YWx1ZSwgb3RoZXJ3aXNlIGp1c3Qgc2V0IHRoZSBzcGVjaWZpZWQgdmFsdWVcXG5cXHRcXHRcXHRpZiAoICFob29rcyB8fCAhKCBcXFwic2V0XFxcIiBpbiBob29rcyApIHx8XFxuXFx0XFx0XFx0XFx0KCB2YWx1ZSA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIGV4dHJhICkgKSAhPT0gdW5kZWZpbmVkICkge1xcblxcblxcdFxcdFxcdFxcdHN0eWxlWyBuYW1lIF0gPSB2YWx1ZTtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0fSBlbHNlIHtcXG5cXG5cXHRcXHRcXHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgbm9uLWNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcXG5cXHRcXHRcXHRpZiAoIGhvb2tzICYmIFxcXCJnZXRcXFwiIGluIGhvb2tzICYmXFxuXFx0XFx0XFx0XFx0KCByZXQgPSBob29rcy5nZXQoIGVsZW0sIGZhbHNlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHtcXG5cXG5cXHRcXHRcXHRcXHRyZXR1cm4gcmV0O1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHQvLyBPdGhlcndpc2UganVzdCBnZXQgdGhlIHZhbHVlIGZyb20gdGhlIHN0eWxlIG9iamVjdFxcblxcdFxcdFxcdHJldHVybiBzdHlsZVsgbmFtZSBdO1xcblxcdFxcdH1cXG5cXHR9LFxcblxcblxcdGNzczogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGV4dHJhLCBzdHlsZXMgKSB7XFxuXFx0XFx0dmFyIHZhbCwgbnVtLCBob29rcyxcXG5cXHRcXHRcXHRvcmlnTmFtZSA9IGpRdWVyeS5jYW1lbENhc2UoIG5hbWUgKTtcXG5cXG5cXHRcXHQvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWVcXG5cXHRcXHRuYW1lID0galF1ZXJ5LmNzc1Byb3BzWyBvcmlnTmFtZSBdIHx8XFxuXFx0XFx0XFx0KCBqUXVlcnkuY3NzUHJvcHNbIG9yaWdOYW1lIF0gPSB2ZW5kb3JQcm9wTmFtZSggb3JpZ05hbWUgKSB8fCBvcmlnTmFtZSApO1xcblxcblxcdFxcdC8vIFRyeSBwcmVmaXhlZCBuYW1lIGZvbGxvd2VkIGJ5IHRoZSB1bnByZWZpeGVkIG5hbWVcXG5cXHRcXHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdIHx8IGpRdWVyeS5jc3NIb29rc1sgb3JpZ05hbWUgXTtcXG5cXG5cXHRcXHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZnJvbSB0aGVyZVxcblxcdFxcdGlmICggaG9va3MgJiYgXFxcImdldFxcXCIgaW4gaG9va3MgKSB7XFxuXFx0XFx0XFx0dmFsID0gaG9va3MuZ2V0KCBlbGVtLCB0cnVlLCBleHRyYSApO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBPdGhlcndpc2UsIGlmIGEgd2F5IHRvIGdldCB0aGUgY29tcHV0ZWQgdmFsdWUgZXhpc3RzLCB1c2UgdGhhdFxcblxcdFxcdGlmICggdmFsID09PSB1bmRlZmluZWQgKSB7XFxuXFx0XFx0XFx0dmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gQ29udmVydCBcXFwibm9ybWFsXFxcIiB0byBjb21wdXRlZCB2YWx1ZVxcblxcdFxcdGlmICggdmFsID09PSBcXFwibm9ybWFsXFxcIiAmJiBuYW1lIGluIGNzc05vcm1hbFRyYW5zZm9ybSApIHtcXG5cXHRcXHRcXHR2YWwgPSBjc3NOb3JtYWxUcmFuc2Zvcm1bIG5hbWUgXTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gTWFrZSBudW1lcmljIGlmIGZvcmNlZCBvciBhIHF1YWxpZmllciB3YXMgcHJvdmlkZWQgYW5kIHZhbCBsb29rcyBudW1lcmljXFxuXFx0XFx0aWYgKCBleHRyYSA9PT0gXFxcIlxcXCIgfHwgZXh0cmEgKSB7XFxuXFx0XFx0XFx0bnVtID0gcGFyc2VGbG9hdCggdmFsICk7XFxuXFx0XFx0XFx0cmV0dXJuIGV4dHJhID09PSB0cnVlIHx8IGlzRmluaXRlKCBudW0gKSA/IG51bSB8fCAwIDogdmFsO1xcblxcdFxcdH1cXG5cXHRcXHRyZXR1cm4gdmFsO1xcblxcdH1cXG59ICk7XFxuXFxualF1ZXJ5LmVhY2goIFsgXFxcImhlaWdodFxcXCIsIFxcXCJ3aWR0aFxcXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XFxuXFx0alF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gPSB7XFxuXFx0XFx0Z2V0OiBmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQsIGV4dHJhICkge1xcblxcdFxcdFxcdGlmICggY29tcHV0ZWQgKSB7XFxuXFxuXFx0XFx0XFx0XFx0Ly8gQ2VydGFpbiBlbGVtZW50cyBjYW4gaGF2ZSBkaW1lbnNpb24gaW5mbyBpZiB3ZSBpbnZpc2libHkgc2hvdyB0aGVtXFxuXFx0XFx0XFx0XFx0Ly8gYnV0IGl0IG11c3QgaGF2ZSBhIGN1cnJlbnQgZGlzcGxheSBzdHlsZSB0aGF0IHdvdWxkIGJlbmVmaXRcXG5cXHRcXHRcXHRcXHRyZXR1cm4gcmRpc3BsYXlzd2FwLnRlc3QoIGpRdWVyeS5jc3MoIGVsZW0sIFxcXCJkaXNwbGF5XFxcIiApICkgJiZcXG5cXG5cXHRcXHRcXHRcXHRcXHQvLyBTdXBwb3J0OiBTYWZhcmkgOCtcXG5cXHRcXHRcXHRcXHRcXHQvLyBUYWJsZSBjb2x1bW5zIGluIFNhZmFyaSBoYXZlIG5vbi16ZXJvIG9mZnNldFdpZHRoICYgemVyb1xcblxcdFxcdFxcdFxcdFxcdC8vIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoIHVubGVzcyBkaXNwbGF5IGlzIGNoYW5nZWQuXFxuXFx0XFx0XFx0XFx0XFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XFxuXFx0XFx0XFx0XFx0XFx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYSBkaXNjb25uZWN0ZWQgbm9kZVxcblxcdFxcdFxcdFxcdFxcdC8vIGluIElFIHRocm93cyBhbiBlcnJvci5cXG5cXHRcXHRcXHRcXHRcXHQoICFlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoIHx8ICFlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICkgP1xcblxcdFxcdFxcdFxcdFxcdFxcdHN3YXAoIGVsZW0sIGNzc1Nob3csIGZ1bmN0aW9uKCkge1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdHJldHVybiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSApO1xcblxcdFxcdFxcdFxcdFxcdFxcdH0gKSA6XFxuXFx0XFx0XFx0XFx0XFx0XFx0Z2V0V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEgKTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fSxcXG5cXG5cXHRcXHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSwgZXh0cmEgKSB7XFxuXFx0XFx0XFx0dmFyIG1hdGNoZXMsXFxuXFx0XFx0XFx0XFx0c3R5bGVzID0gZXh0cmEgJiYgZ2V0U3R5bGVzKCBlbGVtICksXFxuXFx0XFx0XFx0XFx0c3VidHJhY3QgPSBleHRyYSAmJiBhdWdtZW50V2lkdGhPckhlaWdodChcXG5cXHRcXHRcXHRcXHRcXHRlbGVtLFxcblxcdFxcdFxcdFxcdFxcdG5hbWUsXFxuXFx0XFx0XFx0XFx0XFx0ZXh0cmEsXFxuXFx0XFx0XFx0XFx0XFx0alF1ZXJ5LmNzcyggZWxlbSwgXFxcImJveFNpemluZ1xcXCIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gXFxcImJvcmRlci1ib3hcXFwiLFxcblxcdFxcdFxcdFxcdFxcdHN0eWxlc1xcblxcdFxcdFxcdFxcdCk7XFxuXFxuXFx0XFx0XFx0Ly8gQ29udmVydCB0byBwaXhlbHMgaWYgdmFsdWUgYWRqdXN0bWVudCBpcyBuZWVkZWRcXG5cXHRcXHRcXHRpZiAoIHN1YnRyYWN0ICYmICggbWF0Y2hlcyA9IHJjc3NOdW0uZXhlYyggdmFsdWUgKSApICYmXFxuXFx0XFx0XFx0XFx0KCBtYXRjaGVzWyAzIF0gfHwgXFxcInB4XFxcIiApICE9PSBcXFwicHhcXFwiICkge1xcblxcblxcdFxcdFxcdFxcdGVsZW0uc3R5bGVbIG5hbWUgXSA9IHZhbHVlO1xcblxcdFxcdFxcdFxcdHZhbHVlID0galF1ZXJ5LmNzcyggZWxlbSwgbmFtZSApO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRyZXR1cm4gc2V0UG9zaXRpdmVOdW1iZXIoIGVsZW0sIHZhbHVlLCBzdWJ0cmFjdCApO1xcblxcdFxcdH1cXG5cXHR9O1xcbn0gKTtcXG5cXG5qUXVlcnkuY3NzSG9va3MubWFyZ2luTGVmdCA9IGFkZEdldEhvb2tJZiggc3VwcG9ydC5yZWxpYWJsZU1hcmdpbkxlZnQsXFxuXFx0ZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xcblxcdFxcdGlmICggY29tcHV0ZWQgKSB7XFxuXFx0XFx0XFx0cmV0dXJuICggcGFyc2VGbG9hdCggY3VyQ1NTKCBlbGVtLCBcXFwibWFyZ2luTGVmdFxcXCIgKSApIHx8XFxuXFx0XFx0XFx0XFx0ZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC1cXG5cXHRcXHRcXHRcXHRcXHRzd2FwKCBlbGVtLCB7IG1hcmdpbkxlZnQ6IDAgfSwgZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0cmV0dXJuIGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcXG5cXHRcXHRcXHRcXHRcXHR9IClcXG5cXHRcXHRcXHRcXHQpICsgXFxcInB4XFxcIjtcXG5cXHRcXHR9XFxuXFx0fVxcbik7XFxuXFxuLy8gVGhlc2UgaG9va3MgYXJlIHVzZWQgYnkgYW5pbWF0ZSB0byBleHBhbmQgcHJvcGVydGllc1xcbmpRdWVyeS5lYWNoKCB7XFxuXFx0bWFyZ2luOiBcXFwiXFxcIixcXG5cXHRwYWRkaW5nOiBcXFwiXFxcIixcXG5cXHRib3JkZXI6IFxcXCJXaWR0aFxcXCJcXG59LCBmdW5jdGlvbiggcHJlZml4LCBzdWZmaXggKSB7XFxuXFx0alF1ZXJ5LmNzc0hvb2tzWyBwcmVmaXggKyBzdWZmaXggXSA9IHtcXG5cXHRcXHRleHBhbmQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcXG5cXHRcXHRcXHR2YXIgaSA9IDAsXFxuXFx0XFx0XFx0XFx0ZXhwYW5kZWQgPSB7fSxcXG5cXG5cXHRcXHRcXHRcXHQvLyBBc3N1bWVzIGEgc2luZ2xlIG51bWJlciBpZiBub3QgYSBzdHJpbmdcXG5cXHRcXHRcXHRcXHRwYXJ0cyA9IHR5cGVvZiB2YWx1ZSA9PT0gXFxcInN0cmluZ1xcXCIgPyB2YWx1ZS5zcGxpdCggXFxcIiBcXFwiICkgOiBbIHZhbHVlIF07XFxuXFxuXFx0XFx0XFx0Zm9yICggOyBpIDwgNDsgaSsrICkge1xcblxcdFxcdFxcdFxcdGV4cGFuZGVkWyBwcmVmaXggKyBjc3NFeHBhbmRbIGkgXSArIHN1ZmZpeCBdID1cXG5cXHRcXHRcXHRcXHRcXHRwYXJ0c1sgaSBdIHx8IHBhcnRzWyBpIC0gMiBdIHx8IHBhcnRzWyAwIF07XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdHJldHVybiBleHBhbmRlZDtcXG5cXHRcXHR9XFxuXFx0fTtcXG5cXG5cXHRpZiAoICFybWFyZ2luLnRlc3QoIHByZWZpeCApICkge1xcblxcdFxcdGpRdWVyeS5jc3NIb29rc1sgcHJlZml4ICsgc3VmZml4IF0uc2V0ID0gc2V0UG9zaXRpdmVOdW1iZXI7XFxuXFx0fVxcbn0gKTtcXG5cXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XFxuXFx0Y3NzOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XFxuXFx0XFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xcblxcdFxcdFxcdHZhciBzdHlsZXMsIGxlbixcXG5cXHRcXHRcXHRcXHRtYXAgPSB7fSxcXG5cXHRcXHRcXHRcXHRpID0gMDtcXG5cXG5cXHRcXHRcXHRpZiAoIGpRdWVyeS5pc0FycmF5KCBuYW1lICkgKSB7XFxuXFx0XFx0XFx0XFx0c3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICk7XFxuXFx0XFx0XFx0XFx0bGVuID0gbmFtZS5sZW5ndGg7XFxuXFxuXFx0XFx0XFx0XFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XFxuXFx0XFx0XFx0XFx0XFx0bWFwWyBuYW1lWyBpIF0gXSA9IGpRdWVyeS5jc3MoIGVsZW0sIG5hbWVbIGkgXSwgZmFsc2UsIHN0eWxlcyApO1xcblxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRyZXR1cm4gbWFwO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/XFxuXFx0XFx0XFx0XFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBuYW1lLCB2YWx1ZSApIDpcXG5cXHRcXHRcXHRcXHRqUXVlcnkuY3NzKCBlbGVtLCBuYW1lICk7XFxuXFx0XFx0fSwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XFxuXFx0fVxcbn0gKTtcXG5cXG5cXG5mdW5jdGlvbiBUd2VlbiggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcgKSB7XFxuXFx0cmV0dXJuIG5ldyBUd2Vlbi5wcm90b3R5cGUuaW5pdCggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcgKTtcXG59XFxualF1ZXJ5LlR3ZWVuID0gVHdlZW47XFxuXFxuVHdlZW4ucHJvdG90eXBlID0ge1xcblxcdGNvbnN0cnVjdG9yOiBUd2VlbixcXG5cXHRpbml0OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcsIHVuaXQgKSB7XFxuXFx0XFx0dGhpcy5lbGVtID0gZWxlbTtcXG5cXHRcXHR0aGlzLnByb3AgPSBwcm9wO1xcblxcdFxcdHRoaXMuZWFzaW5nID0gZWFzaW5nIHx8IGpRdWVyeS5lYXNpbmcuX2RlZmF1bHQ7XFxuXFx0XFx0dGhpcy5vcHRpb25zID0gb3B0aW9ucztcXG5cXHRcXHR0aGlzLnN0YXJ0ID0gdGhpcy5ub3cgPSB0aGlzLmN1cigpO1xcblxcdFxcdHRoaXMuZW5kID0gZW5kO1xcblxcdFxcdHRoaXMudW5pdCA9IHVuaXQgfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gPyBcXFwiXFxcIiA6IFxcXCJweFxcXCIgKTtcXG5cXHR9LFxcblxcdGN1cjogZnVuY3Rpb24oKSB7XFxuXFx0XFx0dmFyIGhvb2tzID0gVHdlZW4ucHJvcEhvb2tzWyB0aGlzLnByb3AgXTtcXG5cXG5cXHRcXHRyZXR1cm4gaG9va3MgJiYgaG9va3MuZ2V0ID9cXG5cXHRcXHRcXHRob29rcy5nZXQoIHRoaXMgKSA6XFxuXFx0XFx0XFx0VHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LmdldCggdGhpcyApO1xcblxcdH0sXFxuXFx0cnVuOiBmdW5jdGlvbiggcGVyY2VudCApIHtcXG5cXHRcXHR2YXIgZWFzZWQsXFxuXFx0XFx0XFx0aG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdO1xcblxcblxcdFxcdGlmICggdGhpcy5vcHRpb25zLmR1cmF0aW9uICkge1xcblxcdFxcdFxcdHRoaXMucG9zID0gZWFzZWQgPSBqUXVlcnkuZWFzaW5nWyB0aGlzLmVhc2luZyBdKFxcblxcdFxcdFxcdFxcdHBlcmNlbnQsIHRoaXMub3B0aW9ucy5kdXJhdGlvbiAqIHBlcmNlbnQsIDAsIDEsIHRoaXMub3B0aW9ucy5kdXJhdGlvblxcblxcdFxcdFxcdCk7XFxuXFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHR0aGlzLnBvcyA9IGVhc2VkID0gcGVyY2VudDtcXG5cXHRcXHR9XFxuXFx0XFx0dGhpcy5ub3cgPSAoIHRoaXMuZW5kIC0gdGhpcy5zdGFydCApICogZWFzZWQgKyB0aGlzLnN0YXJ0O1xcblxcblxcdFxcdGlmICggdGhpcy5vcHRpb25zLnN0ZXAgKSB7XFxuXFx0XFx0XFx0dGhpcy5vcHRpb25zLnN0ZXAuY2FsbCggdGhpcy5lbGVtLCB0aGlzLm5vdywgdGhpcyApO1xcblxcdFxcdH1cXG5cXG5cXHRcXHRpZiAoIGhvb2tzICYmIGhvb2tzLnNldCApIHtcXG5cXHRcXHRcXHRob29rcy5zZXQoIHRoaXMgKTtcXG5cXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdFR3ZWVuLnByb3BIb29rcy5fZGVmYXVsdC5zZXQoIHRoaXMgKTtcXG5cXHRcXHR9XFxuXFx0XFx0cmV0dXJuIHRoaXM7XFxuXFx0fVxcbn07XFxuXFxuVHdlZW4ucHJvdG90eXBlLmluaXQucHJvdG90eXBlID0gVHdlZW4ucHJvdG90eXBlO1xcblxcblR3ZWVuLnByb3BIb29rcyA9IHtcXG5cXHRfZGVmYXVsdDoge1xcblxcdFxcdGdldDogZnVuY3Rpb24oIHR3ZWVuICkge1xcblxcdFxcdFxcdHZhciByZXN1bHQ7XFxuXFxuXFx0XFx0XFx0Ly8gVXNlIGEgcHJvcGVydHkgb24gdGhlIGVsZW1lbnQgZGlyZWN0bHkgd2hlbiBpdCBpcyBub3QgYSBET00gZWxlbWVudCxcXG5cXHRcXHRcXHQvLyBvciB3aGVuIHRoZXJlIGlzIG5vIG1hdGNoaW5nIHN0eWxlIHByb3BlcnR5IHRoYXQgZXhpc3RzLlxcblxcdFxcdFxcdGlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSAhPT0gMSB8fFxcblxcdFxcdFxcdFxcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSAhPSBudWxsICYmIHR3ZWVuLmVsZW0uc3R5bGVbIHR3ZWVuLnByb3AgXSA9PSBudWxsICkge1xcblxcdFxcdFxcdFxcdHJldHVybiB0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF07XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdC8vIFBhc3NpbmcgYW4gZW1wdHkgc3RyaW5nIGFzIGEgM3JkIHBhcmFtZXRlciB0byAuY3NzIHdpbGwgYXV0b21hdGljYWxseVxcblxcdFxcdFxcdC8vIGF0dGVtcHQgYSBwYXJzZUZsb2F0IGFuZCBmYWxsYmFjayB0byBhIHN0cmluZyBpZiB0aGUgcGFyc2UgZmFpbHMuXFxuXFx0XFx0XFx0Ly8gU2ltcGxlIHZhbHVlcyBzdWNoIGFzIFxcXCIxMHB4XFxcIiBhcmUgcGFyc2VkIHRvIEZsb2F0O1xcblxcdFxcdFxcdC8vIGNvbXBsZXggdmFsdWVzIHN1Y2ggYXMgXFxcInJvdGF0ZSgxcmFkKVxcXCIgYXJlIHJldHVybmVkIGFzLWlzLlxcblxcdFxcdFxcdHJlc3VsdCA9IGpRdWVyeS5jc3MoIHR3ZWVuLmVsZW0sIHR3ZWVuLnByb3AsIFxcXCJcXFwiICk7XFxuXFxuXFx0XFx0XFx0Ly8gRW1wdHkgc3RyaW5ncywgbnVsbCwgdW5kZWZpbmVkIGFuZCBcXFwiYXV0b1xcXCIgYXJlIGNvbnZlcnRlZCB0byAwLlxcblxcdFxcdFxcdHJldHVybiAhcmVzdWx0IHx8IHJlc3VsdCA9PT0gXFxcImF1dG9cXFwiID8gMCA6IHJlc3VsdDtcXG5cXHRcXHR9LFxcblxcdFxcdHNldDogZnVuY3Rpb24oIHR3ZWVuICkge1xcblxcblxcdFxcdFxcdC8vIFVzZSBzdGVwIGhvb2sgZm9yIGJhY2sgY29tcGF0LlxcblxcdFxcdFxcdC8vIFVzZSBjc3NIb29rIGlmIGl0cyB0aGVyZS5cXG5cXHRcXHRcXHQvLyBVc2UgLnN0eWxlIGlmIGF2YWlsYWJsZSBhbmQgdXNlIHBsYWluIHByb3BlcnRpZXMgd2hlcmUgYXZhaWxhYmxlLlxcblxcdFxcdFxcdGlmICggalF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSApIHtcXG5cXHRcXHRcXHRcXHRqUXVlcnkuZnguc3RlcFsgdHdlZW4ucHJvcCBdKCB0d2VlbiApO1xcblxcdFxcdFxcdH0gZWxzZSBpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgPT09IDEgJiZcXG5cXHRcXHRcXHRcXHQoIHR3ZWVuLmVsZW0uc3R5bGVbIGpRdWVyeS5jc3NQcm9wc1sgdHdlZW4ucHJvcCBdIF0gIT0gbnVsbCB8fFxcblxcdFxcdFxcdFxcdFxcdGpRdWVyeS5jc3NIb29rc1sgdHdlZW4ucHJvcCBdICkgKSB7XFxuXFx0XFx0XFx0XFx0alF1ZXJ5LnN0eWxlKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCB0d2Vlbi5ub3cgKyB0d2Vlbi51bml0ICk7XFxuXFx0XFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRcXHR0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gPSB0d2Vlbi5ub3c7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXHR9XFxufTtcXG5cXG4vLyBTdXBwb3J0OiBJRSA8PTkgb25seVxcbi8vIFBhbmljIGJhc2VkIGFwcHJvYWNoIHRvIHNldHRpbmcgdGhpbmdzIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xcblR3ZWVuLnByb3BIb29rcy5zY3JvbGxUb3AgPSBUd2Vlbi5wcm9wSG9va3Muc2Nyb2xsTGVmdCA9IHtcXG5cXHRzZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcXG5cXHRcXHRpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgJiYgdHdlZW4uZWxlbS5wYXJlbnROb2RlICkge1xcblxcdFxcdFxcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcXG5cXHRcXHR9XFxuXFx0fVxcbn07XFxuXFxualF1ZXJ5LmVhc2luZyA9IHtcXG5cXHRsaW5lYXI6IGZ1bmN0aW9uKCBwICkge1xcblxcdFxcdHJldHVybiBwO1xcblxcdH0sXFxuXFx0c3dpbmc6IGZ1bmN0aW9uKCBwICkge1xcblxcdFxcdHJldHVybiAwLjUgLSBNYXRoLmNvcyggcCAqIE1hdGguUEkgKSAvIDI7XFxuXFx0fSxcXG5cXHRfZGVmYXVsdDogXFxcInN3aW5nXFxcIlxcbn07XFxuXFxualF1ZXJ5LmZ4ID0gVHdlZW4ucHJvdG90eXBlLmluaXQ7XFxuXFxuLy8gQmFjayBjb21wYXQgPDEuOCBleHRlbnNpb24gcG9pbnRcXG5qUXVlcnkuZnguc3RlcCA9IHt9O1xcblxcblxcblxcblxcbnZhclxcblxcdGZ4Tm93LCB0aW1lcklkLFxcblxcdHJmeHR5cGVzID0gL14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLFxcblxcdHJydW4gPSAvcXVldWVIb29rcyQvO1xcblxcbmZ1bmN0aW9uIHJhZigpIHtcXG5cXHRpZiAoIHRpbWVySWQgKSB7XFxuXFx0XFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSggcmFmICk7XFxuXFx0XFx0alF1ZXJ5LmZ4LnRpY2soKTtcXG5cXHR9XFxufVxcblxcbi8vIEFuaW1hdGlvbnMgY3JlYXRlZCBzeW5jaHJvbm91c2x5IHdpbGwgcnVuIHN5bmNocm9ub3VzbHlcXG5mdW5jdGlvbiBjcmVhdGVGeE5vdygpIHtcXG5cXHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XFxuXFx0XFx0ZnhOb3cgPSB1bmRlZmluZWQ7XFxuXFx0fSApO1xcblxcdHJldHVybiAoIGZ4Tm93ID0galF1ZXJ5Lm5vdygpICk7XFxufVxcblxcbi8vIEdlbmVyYXRlIHBhcmFtZXRlcnMgdG8gY3JlYXRlIGEgc3RhbmRhcmQgYW5pbWF0aW9uXFxuZnVuY3Rpb24gZ2VuRngoIHR5cGUsIGluY2x1ZGVXaWR0aCApIHtcXG5cXHR2YXIgd2hpY2gsXFxuXFx0XFx0aSA9IDAsXFxuXFx0XFx0YXR0cnMgPSB7IGhlaWdodDogdHlwZSB9O1xcblxcblxcdC8vIElmIHdlIGluY2x1ZGUgd2lkdGgsIHN0ZXAgdmFsdWUgaXMgMSB0byBkbyBhbGwgY3NzRXhwYW5kIHZhbHVlcyxcXG5cXHQvLyBvdGhlcndpc2Ugc3RlcCB2YWx1ZSBpcyAyIHRvIHNraXAgb3ZlciBMZWZ0IGFuZCBSaWdodFxcblxcdGluY2x1ZGVXaWR0aCA9IGluY2x1ZGVXaWR0aCA/IDEgOiAwO1xcblxcdGZvciAoIDsgaSA8IDQ7IGkgKz0gMiAtIGluY2x1ZGVXaWR0aCApIHtcXG5cXHRcXHR3aGljaCA9IGNzc0V4cGFuZFsgaSBdO1xcblxcdFxcdGF0dHJzWyBcXFwibWFyZ2luXFxcIiArIHdoaWNoIF0gPSBhdHRyc1sgXFxcInBhZGRpbmdcXFwiICsgd2hpY2ggXSA9IHR5cGU7XFxuXFx0fVxcblxcblxcdGlmICggaW5jbHVkZVdpZHRoICkge1xcblxcdFxcdGF0dHJzLm9wYWNpdHkgPSBhdHRycy53aWR0aCA9IHR5cGU7XFxuXFx0fVxcblxcblxcdHJldHVybiBhdHRycztcXG59XFxuXFxuZnVuY3Rpb24gY3JlYXRlVHdlZW4oIHZhbHVlLCBwcm9wLCBhbmltYXRpb24gKSB7XFxuXFx0dmFyIHR3ZWVuLFxcblxcdFxcdGNvbGxlY3Rpb24gPSAoIEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdIHx8IFtdICkuY29uY2F0KCBBbmltYXRpb24udHdlZW5lcnNbIFxcXCIqXFxcIiBdICksXFxuXFx0XFx0aW5kZXggPSAwLFxcblxcdFxcdGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xcblxcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XFxuXFx0XFx0aWYgKCAoIHR3ZWVuID0gY29sbGVjdGlvblsgaW5kZXggXS5jYWxsKCBhbmltYXRpb24sIHByb3AsIHZhbHVlICkgKSApIHtcXG5cXG5cXHRcXHRcXHQvLyBXZSdyZSBkb25lIHdpdGggdGhpcyBwcm9wZXJ0eVxcblxcdFxcdFxcdHJldHVybiB0d2VlbjtcXG5cXHRcXHR9XFxuXFx0fVxcbn1cXG5cXG5mdW5jdGlvbiBkZWZhdWx0UHJlZmlsdGVyKCBlbGVtLCBwcm9wcywgb3B0cyApIHtcXG5cXHR2YXIgcHJvcCwgdmFsdWUsIHRvZ2dsZSwgaG9va3MsIG9sZGZpcmUsIHByb3BUd2VlbiwgcmVzdG9yZURpc3BsYXksIGRpc3BsYXksXFxuXFx0XFx0aXNCb3ggPSBcXFwid2lkdGhcXFwiIGluIHByb3BzIHx8IFxcXCJoZWlnaHRcXFwiIGluIHByb3BzLFxcblxcdFxcdGFuaW0gPSB0aGlzLFxcblxcdFxcdG9yaWcgPSB7fSxcXG5cXHRcXHRzdHlsZSA9IGVsZW0uc3R5bGUsXFxuXFx0XFx0aGlkZGVuID0gZWxlbS5ub2RlVHlwZSAmJiBpc0hpZGRlbldpdGhpblRyZWUoIGVsZW0gKSxcXG5cXHRcXHRkYXRhU2hvdyA9IGRhdGFQcml2LmdldCggZWxlbSwgXFxcImZ4c2hvd1xcXCIgKTtcXG5cXG5cXHQvLyBRdWV1ZS1za2lwcGluZyBhbmltYXRpb25zIGhpamFjayB0aGUgZnggaG9va3NcXG5cXHRpZiAoICFvcHRzLnF1ZXVlICkge1xcblxcdFxcdGhvb2tzID0galF1ZXJ5Ll9xdWV1ZUhvb2tzKCBlbGVtLCBcXFwiZnhcXFwiICk7XFxuXFx0XFx0aWYgKCBob29rcy51bnF1ZXVlZCA9PSBudWxsICkge1xcblxcdFxcdFxcdGhvb2tzLnVucXVldWVkID0gMDtcXG5cXHRcXHRcXHRvbGRmaXJlID0gaG9va3MuZW1wdHkuZmlyZTtcXG5cXHRcXHRcXHRob29rcy5lbXB0eS5maXJlID0gZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0XFx0aWYgKCAhaG9va3MudW5xdWV1ZWQgKSB7XFxuXFx0XFx0XFx0XFx0XFx0b2xkZmlyZSgpO1xcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9O1xcblxcdFxcdH1cXG5cXHRcXHRob29rcy51bnF1ZXVlZCsrO1xcblxcblxcdFxcdGFuaW0uYWx3YXlzKCBmdW5jdGlvbigpIHtcXG5cXG5cXHRcXHRcXHQvLyBFbnN1cmUgdGhlIGNvbXBsZXRlIGhhbmRsZXIgaXMgY2FsbGVkIGJlZm9yZSB0aGlzIGNvbXBsZXRlc1xcblxcdFxcdFxcdGFuaW0uYWx3YXlzKCBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHRcXHRob29rcy51bnF1ZXVlZC0tO1xcblxcdFxcdFxcdFxcdGlmICggIWpRdWVyeS5xdWV1ZSggZWxlbSwgXFxcImZ4XFxcIiApLmxlbmd0aCApIHtcXG5cXHRcXHRcXHRcXHRcXHRob29rcy5lbXB0eS5maXJlKCk7XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH0gKTtcXG5cXHRcXHR9ICk7XFxuXFx0fVxcblxcblxcdC8vIERldGVjdCBzaG93L2hpZGUgYW5pbWF0aW9uc1xcblxcdGZvciAoIHByb3AgaW4gcHJvcHMgKSB7XFxuXFx0XFx0dmFsdWUgPSBwcm9wc1sgcHJvcCBdO1xcblxcdFxcdGlmICggcmZ4dHlwZXMudGVzdCggdmFsdWUgKSApIHtcXG5cXHRcXHRcXHRkZWxldGUgcHJvcHNbIHByb3AgXTtcXG5cXHRcXHRcXHR0b2dnbGUgPSB0b2dnbGUgfHwgdmFsdWUgPT09IFxcXCJ0b2dnbGVcXFwiO1xcblxcdFxcdFxcdGlmICggdmFsdWUgPT09ICggaGlkZGVuID8gXFxcImhpZGVcXFwiIDogXFxcInNob3dcXFwiICkgKSB7XFxuXFxuXFx0XFx0XFx0XFx0Ly8gUHJldGVuZCB0byBiZSBoaWRkZW4gaWYgdGhpcyBpcyBhIFxcXCJzaG93XFxcIiBhbmRcXG5cXHRcXHRcXHRcXHQvLyB0aGVyZSBpcyBzdGlsbCBkYXRhIGZyb20gYSBzdG9wcGVkIHNob3cvaGlkZVxcblxcdFxcdFxcdFxcdGlmICggdmFsdWUgPT09IFxcXCJzaG93XFxcIiAmJiBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdICE9PSB1bmRlZmluZWQgKSB7XFxuXFx0XFx0XFx0XFx0XFx0aGlkZGVuID0gdHJ1ZTtcXG5cXG5cXHRcXHRcXHRcXHQvLyBJZ25vcmUgYWxsIG90aGVyIG5vLW9wIHNob3cvaGlkZSBkYXRhXFxuXFx0XFx0XFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRcXHRcXHRjb250aW51ZTtcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fVxcblxcdFxcdFxcdG9yaWdbIHByb3AgXSA9IGRhdGFTaG93ICYmIGRhdGFTaG93WyBwcm9wIF0gfHwgalF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wICk7XFxuXFx0XFx0fVxcblxcdH1cXG5cXG5cXHQvLyBCYWlsIG91dCBpZiB0aGlzIGlzIGEgbm8tb3AgbGlrZSAuaGlkZSgpLmhpZGUoKVxcblxcdHByb3BUd2VlbiA9ICFqUXVlcnkuaXNFbXB0eU9iamVjdCggcHJvcHMgKTtcXG5cXHRpZiAoICFwcm9wVHdlZW4gJiYgalF1ZXJ5LmlzRW1wdHlPYmplY3QoIG9yaWcgKSApIHtcXG5cXHRcXHRyZXR1cm47XFxuXFx0fVxcblxcblxcdC8vIFJlc3RyaWN0IFxcXCJvdmVyZmxvd1xcXCIgYW5kIFxcXCJkaXNwbGF5XFxcIiBzdHlsZXMgZHVyaW5nIGJveCBhbmltYXRpb25zXFxuXFx0aWYgKCBpc0JveCAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xcblxcblxcdFxcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExLCBFZGdlIDEyIC0gMTNcXG5cXHRcXHQvLyBSZWNvcmQgYWxsIDMgb3ZlcmZsb3cgYXR0cmlidXRlcyBiZWNhdXNlIElFIGRvZXMgbm90IGluZmVyIHRoZSBzaG9ydGhhbmRcXG5cXHRcXHQvLyBmcm9tIGlkZW50aWNhbGx5LXZhbHVlZCBvdmVyZmxvd1ggYW5kIG92ZXJmbG93WVxcblxcdFxcdG9wdHMub3ZlcmZsb3cgPSBbIHN0eWxlLm92ZXJmbG93LCBzdHlsZS5vdmVyZmxvd1gsIHN0eWxlLm92ZXJmbG93WSBdO1xcblxcblxcdFxcdC8vIElkZW50aWZ5IGEgZGlzcGxheSB0eXBlLCBwcmVmZXJyaW5nIG9sZCBzaG93L2hpZGUgZGF0YSBvdmVyIHRoZSBDU1MgY2FzY2FkZVxcblxcdFxcdHJlc3RvcmVEaXNwbGF5ID0gZGF0YVNob3cgJiYgZGF0YVNob3cuZGlzcGxheTtcXG5cXHRcXHRpZiAoIHJlc3RvcmVEaXNwbGF5ID09IG51bGwgKSB7XFxuXFx0XFx0XFx0cmVzdG9yZURpc3BsYXkgPSBkYXRhUHJpdi5nZXQoIGVsZW0sIFxcXCJkaXNwbGF5XFxcIiApO1xcblxcdFxcdH1cXG5cXHRcXHRkaXNwbGF5ID0galF1ZXJ5LmNzcyggZWxlbSwgXFxcImRpc3BsYXlcXFwiICk7XFxuXFx0XFx0aWYgKCBkaXNwbGF5ID09PSBcXFwibm9uZVxcXCIgKSB7XFxuXFx0XFx0XFx0aWYgKCByZXN0b3JlRGlzcGxheSApIHtcXG5cXHRcXHRcXHRcXHRkaXNwbGF5ID0gcmVzdG9yZURpc3BsYXk7XFxuXFx0XFx0XFx0fSBlbHNlIHtcXG5cXG5cXHRcXHRcXHRcXHQvLyBHZXQgbm9uZW1wdHkgdmFsdWUocykgYnkgdGVtcG9yYXJpbHkgZm9yY2luZyB2aXNpYmlsaXR5XFxuXFx0XFx0XFx0XFx0c2hvd0hpZGUoIFsgZWxlbSBdLCB0cnVlICk7XFxuXFx0XFx0XFx0XFx0cmVzdG9yZURpc3BsYXkgPSBlbGVtLnN0eWxlLmRpc3BsYXkgfHwgcmVzdG9yZURpc3BsYXk7XFxuXFx0XFx0XFx0XFx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIGVsZW0sIFxcXCJkaXNwbGF5XFxcIiApO1xcblxcdFxcdFxcdFxcdHNob3dIaWRlKCBbIGVsZW0gXSApO1xcblxcdFxcdFxcdH1cXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gQW5pbWF0ZSBpbmxpbmUgZWxlbWVudHMgYXMgaW5saW5lLWJsb2NrXFxuXFx0XFx0aWYgKCBkaXNwbGF5ID09PSBcXFwiaW5saW5lXFxcIiB8fCBkaXNwbGF5ID09PSBcXFwiaW5saW5lLWJsb2NrXFxcIiAmJiByZXN0b3JlRGlzcGxheSAhPSBudWxsICkge1xcblxcdFxcdFxcdGlmICggalF1ZXJ5LmNzcyggZWxlbSwgXFxcImZsb2F0XFxcIiApID09PSBcXFwibm9uZVxcXCIgKSB7XFxuXFxuXFx0XFx0XFx0XFx0Ly8gUmVzdG9yZSB0aGUgb3JpZ2luYWwgZGlzcGxheSB2YWx1ZSBhdCB0aGUgZW5kIG9mIHB1cmUgc2hvdy9oaWRlIGFuaW1hdGlvbnNcXG5cXHRcXHRcXHRcXHRpZiAoICFwcm9wVHdlZW4gKSB7XFxuXFx0XFx0XFx0XFx0XFx0YW5pbS5kb25lKCBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRzdHlsZS5kaXNwbGF5ID0gcmVzdG9yZURpc3BsYXk7XFxuXFx0XFx0XFx0XFx0XFx0fSApO1xcblxcdFxcdFxcdFxcdFxcdGlmICggcmVzdG9yZURpc3BsYXkgPT0gbnVsbCApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRkaXNwbGF5ID0gc3R5bGUuZGlzcGxheTtcXG5cXHRcXHRcXHRcXHRcXHRcXHRyZXN0b3JlRGlzcGxheSA9IGRpc3BsYXkgPT09IFxcXCJub25lXFxcIiA/IFxcXCJcXFwiIDogZGlzcGxheTtcXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdHN0eWxlLmRpc3BsYXkgPSBcXFwiaW5saW5lLWJsb2NrXFxcIjtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcdH1cXG5cXG5cXHRpZiAoIG9wdHMub3ZlcmZsb3cgKSB7XFxuXFx0XFx0c3R5bGUub3ZlcmZsb3cgPSBcXFwiaGlkZGVuXFxcIjtcXG5cXHRcXHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0c3R5bGUub3ZlcmZsb3cgPSBvcHRzLm92ZXJmbG93WyAwIF07XFxuXFx0XFx0XFx0c3R5bGUub3ZlcmZsb3dYID0gb3B0cy5vdmVyZmxvd1sgMSBdO1xcblxcdFxcdFxcdHN0eWxlLm92ZXJmbG93WSA9IG9wdHMub3ZlcmZsb3dbIDIgXTtcXG5cXHRcXHR9ICk7XFxuXFx0fVxcblxcblxcdC8vIEltcGxlbWVudCBzaG93L2hpZGUgYW5pbWF0aW9uc1xcblxcdHByb3BUd2VlbiA9IGZhbHNlO1xcblxcdGZvciAoIHByb3AgaW4gb3JpZyApIHtcXG5cXG5cXHRcXHQvLyBHZW5lcmFsIHNob3cvaGlkZSBzZXR1cCBmb3IgdGhpcyBlbGVtZW50IGFuaW1hdGlvblxcblxcdFxcdGlmICggIXByb3BUd2VlbiApIHtcXG5cXHRcXHRcXHRpZiAoIGRhdGFTaG93ICkge1xcblxcdFxcdFxcdFxcdGlmICggXFxcImhpZGRlblxcXCIgaW4gZGF0YVNob3cgKSB7XFxuXFx0XFx0XFx0XFx0XFx0aGlkZGVuID0gZGF0YVNob3cuaGlkZGVuO1xcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdFxcdGRhdGFTaG93ID0gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBcXFwiZnhzaG93XFxcIiwgeyBkaXNwbGF5OiByZXN0b3JlRGlzcGxheSB9ICk7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdC8vIFN0b3JlIGhpZGRlbi92aXNpYmxlIGZvciB0b2dnbGUgc28gYC5zdG9wKCkudG9nZ2xlKClgIFxcXCJyZXZlcnNlc1xcXCJcXG5cXHRcXHRcXHRpZiAoIHRvZ2dsZSApIHtcXG5cXHRcXHRcXHRcXHRkYXRhU2hvdy5oaWRkZW4gPSAhaGlkZGVuO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHQvLyBTaG93IGVsZW1lbnRzIGJlZm9yZSBhbmltYXRpbmcgdGhlbVxcblxcdFxcdFxcdGlmICggaGlkZGVuICkge1xcblxcdFxcdFxcdFxcdHNob3dIaWRlKCBbIGVsZW0gXSwgdHJ1ZSApO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHQvKiBlc2xpbnQtZGlzYWJsZSBuby1sb29wLWZ1bmMgKi9cXG5cXG5cXHRcXHRcXHRhbmltLmRvbmUoIGZ1bmN0aW9uKCkge1xcblxcblxcdFxcdFxcdC8qIGVzbGludC1lbmFibGUgbm8tbG9vcC1mdW5jICovXFxuXFxuXFx0XFx0XFx0XFx0Ly8gVGhlIGZpbmFsIHN0ZXAgb2YgYSBcXFwiaGlkZVxcXCIgYW5pbWF0aW9uIGlzIGFjdHVhbGx5IGhpZGluZyB0aGUgZWxlbWVudFxcblxcdFxcdFxcdFxcdGlmICggIWhpZGRlbiApIHtcXG5cXHRcXHRcXHRcXHRcXHRzaG93SGlkZSggWyBlbGVtIF0gKTtcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBcXFwiZnhzaG93XFxcIiApO1xcblxcdFxcdFxcdFxcdGZvciAoIHByb3AgaW4gb3JpZyApIHtcXG5cXHRcXHRcXHRcXHRcXHRqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIG9yaWdbIHByb3AgXSApO1xcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9ICk7XFxuXFx0XFx0fVxcblxcblxcdFxcdC8vIFBlci1wcm9wZXJ0eSBzZXR1cFxcblxcdFxcdHByb3BUd2VlbiA9IGNyZWF0ZVR3ZWVuKCBoaWRkZW4gPyBkYXRhU2hvd1sgcHJvcCBdIDogMCwgcHJvcCwgYW5pbSApO1xcblxcdFxcdGlmICggISggcHJvcCBpbiBkYXRhU2hvdyApICkge1xcblxcdFxcdFxcdGRhdGFTaG93WyBwcm9wIF0gPSBwcm9wVHdlZW4uc3RhcnQ7XFxuXFx0XFx0XFx0aWYgKCBoaWRkZW4gKSB7XFxuXFx0XFx0XFx0XFx0cHJvcFR3ZWVuLmVuZCA9IHByb3BUd2Vlbi5zdGFydDtcXG5cXHRcXHRcXHRcXHRwcm9wVHdlZW4uc3RhcnQgPSAwO1xcblxcdFxcdFxcdH1cXG5cXHRcXHR9XFxuXFx0fVxcbn1cXG5cXG5mdW5jdGlvbiBwcm9wRmlsdGVyKCBwcm9wcywgc3BlY2lhbEVhc2luZyApIHtcXG5cXHR2YXIgaW5kZXgsIG5hbWUsIGVhc2luZywgdmFsdWUsIGhvb2tzO1xcblxcblxcdC8vIGNhbWVsQ2FzZSwgc3BlY2lhbEVhc2luZyBhbmQgZXhwYW5kIGNzc0hvb2sgcGFzc1xcblxcdGZvciAoIGluZGV4IGluIHByb3BzICkge1xcblxcdFxcdG5hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBpbmRleCApO1xcblxcdFxcdGVhc2luZyA9IHNwZWNpYWxFYXNpbmdbIG5hbWUgXTtcXG5cXHRcXHR2YWx1ZSA9IHByb3BzWyBpbmRleCBdO1xcblxcdFxcdGlmICggalF1ZXJ5LmlzQXJyYXkoIHZhbHVlICkgKSB7XFxuXFx0XFx0XFx0ZWFzaW5nID0gdmFsdWVbIDEgXTtcXG5cXHRcXHRcXHR2YWx1ZSA9IHByb3BzWyBpbmRleCBdID0gdmFsdWVbIDAgXTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0aWYgKCBpbmRleCAhPT0gbmFtZSApIHtcXG5cXHRcXHRcXHRwcm9wc1sgbmFtZSBdID0gdmFsdWU7XFxuXFx0XFx0XFx0ZGVsZXRlIHByb3BzWyBpbmRleCBdO1xcblxcdFxcdH1cXG5cXG5cXHRcXHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdO1xcblxcdFxcdGlmICggaG9va3MgJiYgXFxcImV4cGFuZFxcXCIgaW4gaG9va3MgKSB7XFxuXFx0XFx0XFx0dmFsdWUgPSBob29rcy5leHBhbmQoIHZhbHVlICk7XFxuXFx0XFx0XFx0ZGVsZXRlIHByb3BzWyBuYW1lIF07XFxuXFxuXFx0XFx0XFx0Ly8gTm90IHF1aXRlICQuZXh0ZW5kLCB0aGlzIHdvbid0IG92ZXJ3cml0ZSBleGlzdGluZyBrZXlzLlxcblxcdFxcdFxcdC8vIFJldXNpbmcgJ2luZGV4JyBiZWNhdXNlIHdlIGhhdmUgdGhlIGNvcnJlY3QgXFxcIm5hbWVcXFwiXFxuXFx0XFx0XFx0Zm9yICggaW5kZXggaW4gdmFsdWUgKSB7XFxuXFx0XFx0XFx0XFx0aWYgKCAhKCBpbmRleCBpbiBwcm9wcyApICkge1xcblxcdFxcdFxcdFxcdFxcdHByb3BzWyBpbmRleCBdID0gdmFsdWVbIGluZGV4IF07XFxuXFx0XFx0XFx0XFx0XFx0c3BlY2lhbEVhc2luZ1sgaW5kZXggXSA9IGVhc2luZztcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fVxcblxcdFxcdH0gZWxzZSB7XFxuXFx0XFx0XFx0c3BlY2lhbEVhc2luZ1sgbmFtZSBdID0gZWFzaW5nO1xcblxcdFxcdH1cXG5cXHR9XFxufVxcblxcbmZ1bmN0aW9uIEFuaW1hdGlvbiggZWxlbSwgcHJvcGVydGllcywgb3B0aW9ucyApIHtcXG5cXHR2YXIgcmVzdWx0LFxcblxcdFxcdHN0b3BwZWQsXFxuXFx0XFx0aW5kZXggPSAwLFxcblxcdFxcdGxlbmd0aCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzLmxlbmd0aCxcXG5cXHRcXHRkZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCgpLmFsd2F5cyggZnVuY3Rpb24oKSB7XFxuXFxuXFx0XFx0XFx0Ly8gRG9uJ3QgbWF0Y2ggZWxlbSBpbiB0aGUgOmFuaW1hdGVkIHNlbGVjdG9yXFxuXFx0XFx0XFx0ZGVsZXRlIHRpY2suZWxlbTtcXG5cXHRcXHR9ICksXFxuXFx0XFx0dGljayA9IGZ1bmN0aW9uKCkge1xcblxcdFxcdFxcdGlmICggc3RvcHBlZCApIHtcXG5cXHRcXHRcXHRcXHRyZXR1cm4gZmFsc2U7XFxuXFx0XFx0XFx0fVxcblxcdFxcdFxcdHZhciBjdXJyZW50VGltZSA9IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXFxuXFx0XFx0XFx0XFx0cmVtYWluaW5nID0gTWF0aC5tYXgoIDAsIGFuaW1hdGlvbi5zdGFydFRpbWUgKyBhbmltYXRpb24uZHVyYXRpb24gLSBjdXJyZW50VGltZSApLFxcblxcblxcdFxcdFxcdFxcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgMi4zIG9ubHlcXG5cXHRcXHRcXHRcXHQvLyBBcmNoYWljIGNyYXNoIGJ1ZyB3b24ndCBhbGxvdyB1cyB0byB1c2UgYDEgLSAoIDAuNSB8fCAwIClgICgjMTI0OTcpXFxuXFx0XFx0XFx0XFx0dGVtcCA9IHJlbWFpbmluZyAvIGFuaW1hdGlvbi5kdXJhdGlvbiB8fCAwLFxcblxcdFxcdFxcdFxcdHBlcmNlbnQgPSAxIC0gdGVtcCxcXG5cXHRcXHRcXHRcXHRpbmRleCA9IDAsXFxuXFx0XFx0XFx0XFx0bGVuZ3RoID0gYW5pbWF0aW9uLnR3ZWVucy5sZW5ndGg7XFxuXFxuXFx0XFx0XFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcXG5cXHRcXHRcXHRcXHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggcGVyY2VudCApO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgcGVyY2VudCwgcmVtYWluaW5nIF0gKTtcXG5cXG5cXHRcXHRcXHRpZiAoIHBlcmNlbnQgPCAxICYmIGxlbmd0aCApIHtcXG5cXHRcXHRcXHRcXHRyZXR1cm4gcmVtYWluaW5nO1xcblxcdFxcdFxcdH0gZWxzZSB7XFxuXFx0XFx0XFx0XFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uIF0gKTtcXG5cXHRcXHRcXHRcXHRyZXR1cm4gZmFsc2U7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH0sXFxuXFx0XFx0YW5pbWF0aW9uID0gZGVmZXJyZWQucHJvbWlzZSgge1xcblxcdFxcdFxcdGVsZW06IGVsZW0sXFxuXFx0XFx0XFx0cHJvcHM6IGpRdWVyeS5leHRlbmQoIHt9LCBwcm9wZXJ0aWVzICksXFxuXFx0XFx0XFx0b3B0czogalF1ZXJ5LmV4dGVuZCggdHJ1ZSwge1xcblxcdFxcdFxcdFxcdHNwZWNpYWxFYXNpbmc6IHt9LFxcblxcdFxcdFxcdFxcdGVhc2luZzogalF1ZXJ5LmVhc2luZy5fZGVmYXVsdFxcblxcdFxcdFxcdH0sIG9wdGlvbnMgKSxcXG5cXHRcXHRcXHRvcmlnaW5hbFByb3BlcnRpZXM6IHByb3BlcnRpZXMsXFxuXFx0XFx0XFx0b3JpZ2luYWxPcHRpb25zOiBvcHRpb25zLFxcblxcdFxcdFxcdHN0YXJ0VGltZTogZnhOb3cgfHwgY3JlYXRlRnhOb3coKSxcXG5cXHRcXHRcXHRkdXJhdGlvbjogb3B0aW9ucy5kdXJhdGlvbixcXG5cXHRcXHRcXHR0d2VlbnM6IFtdLFxcblxcdFxcdFxcdGNyZWF0ZVR3ZWVuOiBmdW5jdGlvbiggcHJvcCwgZW5kICkge1xcblxcdFxcdFxcdFxcdHZhciB0d2VlbiA9IGpRdWVyeS5Ud2VlbiggZWxlbSwgYW5pbWF0aW9uLm9wdHMsIHByb3AsIGVuZCxcXG5cXHRcXHRcXHRcXHRcXHRcXHRhbmltYXRpb24ub3B0cy5zcGVjaWFsRWFzaW5nWyBwcm9wIF0gfHwgYW5pbWF0aW9uLm9wdHMuZWFzaW5nICk7XFxuXFx0XFx0XFx0XFx0YW5pbWF0aW9uLnR3ZWVucy5wdXNoKCB0d2VlbiApO1xcblxcdFxcdFxcdFxcdHJldHVybiB0d2VlbjtcXG5cXHRcXHRcXHR9LFxcblxcdFxcdFxcdHN0b3A6IGZ1bmN0aW9uKCBnb3RvRW5kICkge1xcblxcdFxcdFxcdFxcdHZhciBpbmRleCA9IDAsXFxuXFxuXFx0XFx0XFx0XFx0XFx0Ly8gSWYgd2UgYXJlIGdvaW5nIHRvIHRoZSBlbmQsIHdlIHdhbnQgdG8gcnVuIGFsbCB0aGUgdHdlZW5zXFxuXFx0XFx0XFx0XFx0XFx0Ly8gb3RoZXJ3aXNlIHdlIHNraXAgdGhpcyBwYXJ0XFxuXFx0XFx0XFx0XFx0XFx0bGVuZ3RoID0gZ290b0VuZCA/IGFuaW1hdGlvbi50d2VlbnMubGVuZ3RoIDogMDtcXG5cXHRcXHRcXHRcXHRpZiAoIHN0b3BwZWQgKSB7XFxuXFx0XFx0XFx0XFx0XFx0cmV0dXJuIHRoaXM7XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdHN0b3BwZWQgPSB0cnVlO1xcblxcdFxcdFxcdFxcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XFxuXFx0XFx0XFx0XFx0XFx0YW5pbWF0aW9uLnR3ZWVuc1sgaW5kZXggXS5ydW4oIDEgKTtcXG5cXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0Ly8gUmVzb2x2ZSB3aGVuIHdlIHBsYXllZCB0aGUgbGFzdCBmcmFtZTsgb3RoZXJ3aXNlLCByZWplY3RcXG5cXHRcXHRcXHRcXHRpZiAoIGdvdG9FbmQgKSB7XFxuXFx0XFx0XFx0XFx0XFx0ZGVmZXJyZWQubm90aWZ5V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIDEsIDAgXSApO1xcblxcdFxcdFxcdFxcdFxcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgZ290b0VuZCBdICk7XFxuXFx0XFx0XFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRcXHRcXHRkZWZlcnJlZC5yZWplY3RXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgZ290b0VuZCBdICk7XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdHJldHVybiB0aGlzO1xcblxcdFxcdFxcdH1cXG5cXHRcXHR9ICksXFxuXFx0XFx0cHJvcHMgPSBhbmltYXRpb24ucHJvcHM7XFxuXFxuXFx0cHJvcEZpbHRlciggcHJvcHMsIGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmcgKTtcXG5cXG5cXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xcblxcdFxcdHJlc3VsdCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzWyBpbmRleCBdLmNhbGwoIGFuaW1hdGlvbiwgZWxlbSwgcHJvcHMsIGFuaW1hdGlvbi5vcHRzICk7XFxuXFx0XFx0aWYgKCByZXN1bHQgKSB7XFxuXFx0XFx0XFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcmVzdWx0LnN0b3AgKSApIHtcXG5cXHRcXHRcXHRcXHRqUXVlcnkuX3F1ZXVlSG9va3MoIGFuaW1hdGlvbi5lbGVtLCBhbmltYXRpb24ub3B0cy5xdWV1ZSApLnN0b3AgPVxcblxcdFxcdFxcdFxcdFxcdGpRdWVyeS5wcm94eSggcmVzdWx0LnN0b3AsIHJlc3VsdCApO1xcblxcdFxcdFxcdH1cXG5cXHRcXHRcXHRyZXR1cm4gcmVzdWx0O1xcblxcdFxcdH1cXG5cXHR9XFxuXFxuXFx0alF1ZXJ5Lm1hcCggcHJvcHMsIGNyZWF0ZVR3ZWVuLCBhbmltYXRpb24gKTtcXG5cXG5cXHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBhbmltYXRpb24ub3B0cy5zdGFydCApICkge1xcblxcdFxcdGFuaW1hdGlvbi5vcHRzLnN0YXJ0LmNhbGwoIGVsZW0sIGFuaW1hdGlvbiApO1xcblxcdH1cXG5cXG5cXHRqUXVlcnkuZngudGltZXIoXFxuXFx0XFx0alF1ZXJ5LmV4dGVuZCggdGljaywge1xcblxcdFxcdFxcdGVsZW06IGVsZW0sXFxuXFx0XFx0XFx0YW5pbTogYW5pbWF0aW9uLFxcblxcdFxcdFxcdHF1ZXVlOiBhbmltYXRpb24ub3B0cy5xdWV1ZVxcblxcdFxcdH0gKVxcblxcdCk7XFxuXFxuXFx0Ly8gYXR0YWNoIGNhbGxiYWNrcyBmcm9tIG9wdGlvbnNcXG5cXHRyZXR1cm4gYW5pbWF0aW9uLnByb2dyZXNzKCBhbmltYXRpb24ub3B0cy5wcm9ncmVzcyApXFxuXFx0XFx0LmRvbmUoIGFuaW1hdGlvbi5vcHRzLmRvbmUsIGFuaW1hdGlvbi5vcHRzLmNvbXBsZXRlIClcXG5cXHRcXHQuZmFpbCggYW5pbWF0aW9uLm9wdHMuZmFpbCApXFxuXFx0XFx0LmFsd2F5cyggYW5pbWF0aW9uLm9wdHMuYWx3YXlzICk7XFxufVxcblxcbmpRdWVyeS5BbmltYXRpb24gPSBqUXVlcnkuZXh0ZW5kKCBBbmltYXRpb24sIHtcXG5cXG5cXHR0d2VlbmVyczoge1xcblxcdFxcdFxcXCIqXFxcIjogWyBmdW5jdGlvbiggcHJvcCwgdmFsdWUgKSB7XFxuXFx0XFx0XFx0dmFyIHR3ZWVuID0gdGhpcy5jcmVhdGVUd2VlbiggcHJvcCwgdmFsdWUgKTtcXG5cXHRcXHRcXHRhZGp1c3RDU1MoIHR3ZWVuLmVsZW0sIHByb3AsIHJjc3NOdW0uZXhlYyggdmFsdWUgKSwgdHdlZW4gKTtcXG5cXHRcXHRcXHRyZXR1cm4gdHdlZW47XFxuXFx0XFx0fSBdXFxuXFx0fSxcXG5cXG5cXHR0d2VlbmVyOiBmdW5jdGlvbiggcHJvcHMsIGNhbGxiYWNrICkge1xcblxcdFxcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHByb3BzICkgKSB7XFxuXFx0XFx0XFx0Y2FsbGJhY2sgPSBwcm9wcztcXG5cXHRcXHRcXHRwcm9wcyA9IFsgXFxcIipcXFwiIF07XFxuXFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRwcm9wcyA9IHByb3BzLm1hdGNoKCBybm90aHRtbHdoaXRlICk7XFxuXFx0XFx0fVxcblxcblxcdFxcdHZhciBwcm9wLFxcblxcdFxcdFxcdGluZGV4ID0gMCxcXG5cXHRcXHRcXHRsZW5ndGggPSBwcm9wcy5sZW5ndGg7XFxuXFxuXFx0XFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcXG5cXHRcXHRcXHRwcm9wID0gcHJvcHNbIGluZGV4IF07XFxuXFx0XFx0XFx0QW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0gPSBBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSB8fCBbXTtcXG5cXHRcXHRcXHRBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXS51bnNoaWZ0KCBjYWxsYmFjayApO1xcblxcdFxcdH1cXG5cXHR9LFxcblxcblxcdHByZWZpbHRlcnM6IFsgZGVmYXVsdFByZWZpbHRlciBdLFxcblxcblxcdHByZWZpbHRlcjogZnVuY3Rpb24oIGNhbGxiYWNrLCBwcmVwZW5kICkge1xcblxcdFxcdGlmICggcHJlcGVuZCApIHtcXG5cXHRcXHRcXHRBbmltYXRpb24ucHJlZmlsdGVycy51bnNoaWZ0KCBjYWxsYmFjayApO1xcblxcdFxcdH0gZWxzZSB7XFxuXFx0XFx0XFx0QW5pbWF0aW9uLnByZWZpbHRlcnMucHVzaCggY2FsbGJhY2sgKTtcXG5cXHRcXHR9XFxuXFx0fVxcbn0gKTtcXG5cXG5qUXVlcnkuc3BlZWQgPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgZm4gKSB7XFxuXFx0dmFyIG9wdCA9IHNwZWVkICYmIHR5cGVvZiBzcGVlZCA9PT0gXFxcIm9iamVjdFxcXCIgPyBqUXVlcnkuZXh0ZW5kKCB7fSwgc3BlZWQgKSA6IHtcXG5cXHRcXHRjb21wbGV0ZTogZm4gfHwgIWZuICYmIGVhc2luZyB8fFxcblxcdFxcdFxcdGpRdWVyeS5pc0Z1bmN0aW9uKCBzcGVlZCApICYmIHNwZWVkLFxcblxcdFxcdGR1cmF0aW9uOiBzcGVlZCxcXG5cXHRcXHRlYXNpbmc6IGZuICYmIGVhc2luZyB8fCBlYXNpbmcgJiYgIWpRdWVyeS5pc0Z1bmN0aW9uKCBlYXNpbmcgKSAmJiBlYXNpbmdcXG5cXHR9O1xcblxcblxcdC8vIEdvIHRvIHRoZSBlbmQgc3RhdGUgaWYgZnggYXJlIG9mZiBvciBpZiBkb2N1bWVudCBpcyBoaWRkZW5cXG5cXHRpZiAoIGpRdWVyeS5meC5vZmYgfHwgZG9jdW1lbnQuaGlkZGVuICkge1xcblxcdFxcdG9wdC5kdXJhdGlvbiA9IDA7XFxuXFxuXFx0fSBlbHNlIHtcXG5cXHRcXHRpZiAoIHR5cGVvZiBvcHQuZHVyYXRpb24gIT09IFxcXCJudW1iZXJcXFwiICkge1xcblxcdFxcdFxcdGlmICggb3B0LmR1cmF0aW9uIGluIGpRdWVyeS5meC5zcGVlZHMgKSB7XFxuXFx0XFx0XFx0XFx0b3B0LmR1cmF0aW9uID0galF1ZXJ5LmZ4LnNwZWVkc1sgb3B0LmR1cmF0aW9uIF07XFxuXFxuXFx0XFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRcXHRvcHQuZHVyYXRpb24gPSBqUXVlcnkuZnguc3BlZWRzLl9kZWZhdWx0O1xcblxcdFxcdFxcdH1cXG5cXHRcXHR9XFxuXFx0fVxcblxcblxcdC8vIE5vcm1hbGl6ZSBvcHQucXVldWUgLSB0cnVlL3VuZGVmaW5lZC9udWxsIC0+IFxcXCJmeFxcXCJcXG5cXHRpZiAoIG9wdC5xdWV1ZSA9PSBudWxsIHx8IG9wdC5xdWV1ZSA9PT0gdHJ1ZSApIHtcXG5cXHRcXHRvcHQucXVldWUgPSBcXFwiZnhcXFwiO1xcblxcdH1cXG5cXG5cXHQvLyBRdWV1ZWluZ1xcblxcdG9wdC5vbGQgPSBvcHQuY29tcGxldGU7XFxuXFxuXFx0b3B0LmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XFxuXFx0XFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggb3B0Lm9sZCApICkge1xcblxcdFxcdFxcdG9wdC5vbGQuY2FsbCggdGhpcyApO1xcblxcdFxcdH1cXG5cXG5cXHRcXHRpZiAoIG9wdC5xdWV1ZSApIHtcXG5cXHRcXHRcXHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgb3B0LnF1ZXVlICk7XFxuXFx0XFx0fVxcblxcdH07XFxuXFxuXFx0cmV0dXJuIG9wdDtcXG59O1xcblxcbmpRdWVyeS5mbi5leHRlbmQoIHtcXG5cXHRmYWRlVG86IGZ1bmN0aW9uKCBzcGVlZCwgdG8sIGVhc2luZywgY2FsbGJhY2sgKSB7XFxuXFxuXFx0XFx0Ly8gU2hvdyBhbnkgaGlkZGVuIGVsZW1lbnRzIGFmdGVyIHNldHRpbmcgb3BhY2l0eSB0byAwXFxuXFx0XFx0cmV0dXJuIHRoaXMuZmlsdGVyKCBpc0hpZGRlbldpdGhpblRyZWUgKS5jc3MoIFxcXCJvcGFjaXR5XFxcIiwgMCApLnNob3coKVxcblxcblxcdFxcdFxcdC8vIEFuaW1hdGUgdG8gdGhlIHZhbHVlIHNwZWNpZmllZFxcblxcdFxcdFxcdC5lbmQoKS5hbmltYXRlKCB7IG9wYWNpdHk6IHRvIH0sIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XFxuXFx0fSxcXG5cXHRhbmltYXRlOiBmdW5jdGlvbiggcHJvcCwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XFxuXFx0XFx0dmFyIGVtcHR5ID0galF1ZXJ5LmlzRW1wdHlPYmplY3QoIHByb3AgKSxcXG5cXHRcXHRcXHRvcHRhbGwgPSBqUXVlcnkuc3BlZWQoIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICksXFxuXFx0XFx0XFx0ZG9BbmltYXRpb24gPSBmdW5jdGlvbigpIHtcXG5cXG5cXHRcXHRcXHRcXHQvLyBPcGVyYXRlIG9uIGEgY29weSBvZiBwcm9wIHNvIHBlci1wcm9wZXJ0eSBlYXNpbmcgd29uJ3QgYmUgbG9zdFxcblxcdFxcdFxcdFxcdHZhciBhbmltID0gQW5pbWF0aW9uKCB0aGlzLCBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcCApLCBvcHRhbGwgKTtcXG5cXG5cXHRcXHRcXHRcXHQvLyBFbXB0eSBhbmltYXRpb25zLCBvciBmaW5pc2hpbmcgcmVzb2x2ZXMgaW1tZWRpYXRlbHlcXG5cXHRcXHRcXHRcXHRpZiAoIGVtcHR5IHx8IGRhdGFQcml2LmdldCggdGhpcywgXFxcImZpbmlzaFxcXCIgKSApIHtcXG5cXHRcXHRcXHRcXHRcXHRhbmltLnN0b3AoIHRydWUgKTtcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fTtcXG5cXHRcXHRcXHRkb0FuaW1hdGlvbi5maW5pc2ggPSBkb0FuaW1hdGlvbjtcXG5cXG5cXHRcXHRyZXR1cm4gZW1wdHkgfHwgb3B0YWxsLnF1ZXVlID09PSBmYWxzZSA/XFxuXFx0XFx0XFx0dGhpcy5lYWNoKCBkb0FuaW1hdGlvbiApIDpcXG5cXHRcXHRcXHR0aGlzLnF1ZXVlKCBvcHRhbGwucXVldWUsIGRvQW5pbWF0aW9uICk7XFxuXFx0fSxcXG5cXHRzdG9wOiBmdW5jdGlvbiggdHlwZSwgY2xlYXJRdWV1ZSwgZ290b0VuZCApIHtcXG5cXHRcXHR2YXIgc3RvcFF1ZXVlID0gZnVuY3Rpb24oIGhvb2tzICkge1xcblxcdFxcdFxcdHZhciBzdG9wID0gaG9va3Muc3RvcDtcXG5cXHRcXHRcXHRkZWxldGUgaG9va3Muc3RvcDtcXG5cXHRcXHRcXHRzdG9wKCBnb3RvRW5kICk7XFxuXFx0XFx0fTtcXG5cXG5cXHRcXHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcXFwic3RyaW5nXFxcIiApIHtcXG5cXHRcXHRcXHRnb3RvRW5kID0gY2xlYXJRdWV1ZTtcXG5cXHRcXHRcXHRjbGVhclF1ZXVlID0gdHlwZTtcXG5cXHRcXHRcXHR0eXBlID0gdW5kZWZpbmVkO1xcblxcdFxcdH1cXG5cXHRcXHRpZiAoIGNsZWFyUXVldWUgJiYgdHlwZSAhPT0gZmFsc2UgKSB7XFxuXFx0XFx0XFx0dGhpcy5xdWV1ZSggdHlwZSB8fCBcXFwiZnhcXFwiLCBbXSApO1xcblxcdFxcdH1cXG5cXG5cXHRcXHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHR2YXIgZGVxdWV1ZSA9IHRydWUsXFxuXFx0XFx0XFx0XFx0aW5kZXggPSB0eXBlICE9IG51bGwgJiYgdHlwZSArIFxcXCJxdWV1ZUhvb2tzXFxcIixcXG5cXHRcXHRcXHRcXHR0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxcblxcdFxcdFxcdFxcdGRhdGEgPSBkYXRhUHJpdi5nZXQoIHRoaXMgKTtcXG5cXG5cXHRcXHRcXHRpZiAoIGluZGV4ICkge1xcblxcdFxcdFxcdFxcdGlmICggZGF0YVsgaW5kZXggXSAmJiBkYXRhWyBpbmRleCBdLnN0b3AgKSB7XFxuXFx0XFx0XFx0XFx0XFx0c3RvcFF1ZXVlKCBkYXRhWyBpbmRleCBdICk7XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH0gZWxzZSB7XFxuXFx0XFx0XFx0XFx0Zm9yICggaW5kZXggaW4gZGF0YSApIHtcXG5cXHRcXHRcXHRcXHRcXHRpZiAoIGRhdGFbIGluZGV4IF0gJiYgZGF0YVsgaW5kZXggXS5zdG9wICYmIHJydW4udGVzdCggaW5kZXggKSApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRzdG9wUXVldWUoIGRhdGFbIGluZGV4IF0gKTtcXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRmb3IgKCBpbmRleCA9IHRpbWVycy5sZW5ndGg7IGluZGV4LS07ICkge1xcblxcdFxcdFxcdFxcdGlmICggdGltZXJzWyBpbmRleCBdLmVsZW0gPT09IHRoaXMgJiZcXG5cXHRcXHRcXHRcXHRcXHQoIHR5cGUgPT0gbnVsbCB8fCB0aW1lcnNbIGluZGV4IF0ucXVldWUgPT09IHR5cGUgKSApIHtcXG5cXG5cXHRcXHRcXHRcXHRcXHR0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCBnb3RvRW5kICk7XFxuXFx0XFx0XFx0XFx0XFx0ZGVxdWV1ZSA9IGZhbHNlO1xcblxcdFxcdFxcdFxcdFxcdHRpbWVycy5zcGxpY2UoIGluZGV4LCAxICk7XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHQvLyBTdGFydCB0aGUgbmV4dCBpbiB0aGUgcXVldWUgaWYgdGhlIGxhc3Qgc3RlcCB3YXNuJ3QgZm9yY2VkLlxcblxcdFxcdFxcdC8vIFRpbWVycyBjdXJyZW50bHkgd2lsbCBjYWxsIHRoZWlyIGNvbXBsZXRlIGNhbGxiYWNrcywgd2hpY2hcXG5cXHRcXHRcXHQvLyB3aWxsIGRlcXVldWUgYnV0IG9ubHkgaWYgdGhleSB3ZXJlIGdvdG9FbmQuXFxuXFx0XFx0XFx0aWYgKCBkZXF1ZXVlIHx8ICFnb3RvRW5kICkge1xcblxcdFxcdFxcdFxcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH0gKTtcXG5cXHR9LFxcblxcdGZpbmlzaDogZnVuY3Rpb24oIHR5cGUgKSB7XFxuXFx0XFx0aWYgKCB0eXBlICE9PSBmYWxzZSApIHtcXG5cXHRcXHRcXHR0eXBlID0gdHlwZSB8fCBcXFwiZnhcXFwiO1xcblxcdFxcdH1cXG5cXHRcXHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHR2YXIgaW5kZXgsXFxuXFx0XFx0XFx0XFx0ZGF0YSA9IGRhdGFQcml2LmdldCggdGhpcyApLFxcblxcdFxcdFxcdFxcdHF1ZXVlID0gZGF0YVsgdHlwZSArIFxcXCJxdWV1ZVxcXCIgXSxcXG5cXHRcXHRcXHRcXHRob29rcyA9IGRhdGFbIHR5cGUgKyBcXFwicXVldWVIb29rc1xcXCIgXSxcXG5cXHRcXHRcXHRcXHR0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxcblxcdFxcdFxcdFxcdGxlbmd0aCA9IHF1ZXVlID8gcXVldWUubGVuZ3RoIDogMDtcXG5cXG5cXHRcXHRcXHQvLyBFbmFibGUgZmluaXNoaW5nIGZsYWcgb24gcHJpdmF0ZSBkYXRhXFxuXFx0XFx0XFx0ZGF0YS5maW5pc2ggPSB0cnVlO1xcblxcblxcdFxcdFxcdC8vIEVtcHR5IHRoZSBxdWV1ZSBmaXJzdFxcblxcdFxcdFxcdGpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgW10gKTtcXG5cXG5cXHRcXHRcXHRpZiAoIGhvb2tzICYmIGhvb2tzLnN0b3AgKSB7XFxuXFx0XFx0XFx0XFx0aG9va3Muc3RvcC5jYWxsKCB0aGlzLCB0cnVlICk7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdC8vIExvb2sgZm9yIGFueSBhY3RpdmUgYW5pbWF0aW9ucywgYW5kIGZpbmlzaCB0aGVtXFxuXFx0XFx0XFx0Zm9yICggaW5kZXggPSB0aW1lcnMubGVuZ3RoOyBpbmRleC0tOyApIHtcXG5cXHRcXHRcXHRcXHRpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmIHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApIHtcXG5cXHRcXHRcXHRcXHRcXHR0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCB0cnVlICk7XFxuXFx0XFx0XFx0XFx0XFx0dGltZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdC8vIExvb2sgZm9yIGFueSBhbmltYXRpb25zIGluIHRoZSBvbGQgcXVldWUgYW5kIGZpbmlzaCB0aGVtXFxuXFx0XFx0XFx0Zm9yICggaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcXG5cXHRcXHRcXHRcXHRpZiAoIHF1ZXVlWyBpbmRleCBdICYmIHF1ZXVlWyBpbmRleCBdLmZpbmlzaCApIHtcXG5cXHRcXHRcXHRcXHRcXHRxdWV1ZVsgaW5kZXggXS5maW5pc2guY2FsbCggdGhpcyApO1xcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0Ly8gVHVybiBvZmYgZmluaXNoaW5nIGZsYWdcXG5cXHRcXHRcXHRkZWxldGUgZGF0YS5maW5pc2g7XFxuXFx0XFx0fSApO1xcblxcdH1cXG59ICk7XFxuXFxualF1ZXJ5LmVhY2goIFsgXFxcInRvZ2dsZVxcXCIsIFxcXCJzaG93XFxcIiwgXFxcImhpZGVcXFwiIF0sIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xcblxcdHZhciBjc3NGbiA9IGpRdWVyeS5mblsgbmFtZSBdO1xcblxcdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xcblxcdFxcdHJldHVybiBzcGVlZCA9PSBudWxsIHx8IHR5cGVvZiBzcGVlZCA9PT0gXFxcImJvb2xlYW5cXFwiID9cXG5cXHRcXHRcXHRjc3NGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICkgOlxcblxcdFxcdFxcdHRoaXMuYW5pbWF0ZSggZ2VuRngoIG5hbWUsIHRydWUgKSwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcXG5cXHR9O1xcbn0gKTtcXG5cXG4vLyBHZW5lcmF0ZSBzaG9ydGN1dHMgZm9yIGN1c3RvbSBhbmltYXRpb25zXFxualF1ZXJ5LmVhY2goIHtcXG5cXHRzbGlkZURvd246IGdlbkZ4KCBcXFwic2hvd1xcXCIgKSxcXG5cXHRzbGlkZVVwOiBnZW5GeCggXFxcImhpZGVcXFwiICksXFxuXFx0c2xpZGVUb2dnbGU6IGdlbkZ4KCBcXFwidG9nZ2xlXFxcIiApLFxcblxcdGZhZGVJbjogeyBvcGFjaXR5OiBcXFwic2hvd1xcXCIgfSxcXG5cXHRmYWRlT3V0OiB7IG9wYWNpdHk6IFxcXCJoaWRlXFxcIiB9LFxcblxcdGZhZGVUb2dnbGU6IHsgb3BhY2l0eTogXFxcInRvZ2dsZVxcXCIgfVxcbn0sIGZ1bmN0aW9uKCBuYW1lLCBwcm9wcyApIHtcXG5cXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcXG5cXHRcXHRyZXR1cm4gdGhpcy5hbmltYXRlKCBwcm9wcywgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKTtcXG5cXHR9O1xcbn0gKTtcXG5cXG5qUXVlcnkudGltZXJzID0gW107XFxualF1ZXJ5LmZ4LnRpY2sgPSBmdW5jdGlvbigpIHtcXG5cXHR2YXIgdGltZXIsXFxuXFx0XFx0aSA9IDAsXFxuXFx0XFx0dGltZXJzID0galF1ZXJ5LnRpbWVycztcXG5cXG5cXHRmeE5vdyA9IGpRdWVyeS5ub3coKTtcXG5cXG5cXHRmb3IgKCA7IGkgPCB0aW1lcnMubGVuZ3RoOyBpKysgKSB7XFxuXFx0XFx0dGltZXIgPSB0aW1lcnNbIGkgXTtcXG5cXG5cXHRcXHQvLyBDaGVja3MgdGhlIHRpbWVyIGhhcyBub3QgYWxyZWFkeSBiZWVuIHJlbW92ZWRcXG5cXHRcXHRpZiAoICF0aW1lcigpICYmIHRpbWVyc1sgaSBdID09PSB0aW1lciApIHtcXG5cXHRcXHRcXHR0aW1lcnMuc3BsaWNlKCBpLS0sIDEgKTtcXG5cXHRcXHR9XFxuXFx0fVxcblxcblxcdGlmICggIXRpbWVycy5sZW5ndGggKSB7XFxuXFx0XFx0alF1ZXJ5LmZ4LnN0b3AoKTtcXG5cXHR9XFxuXFx0ZnhOb3cgPSB1bmRlZmluZWQ7XFxufTtcXG5cXG5qUXVlcnkuZngudGltZXIgPSBmdW5jdGlvbiggdGltZXIgKSB7XFxuXFx0alF1ZXJ5LnRpbWVycy5wdXNoKCB0aW1lciApO1xcblxcdGlmICggdGltZXIoKSApIHtcXG5cXHRcXHRqUXVlcnkuZnguc3RhcnQoKTtcXG5cXHR9IGVsc2Uge1xcblxcdFxcdGpRdWVyeS50aW1lcnMucG9wKCk7XFxuXFx0fVxcbn07XFxuXFxualF1ZXJ5LmZ4LmludGVydmFsID0gMTM7XFxualF1ZXJ5LmZ4LnN0YXJ0ID0gZnVuY3Rpb24oKSB7XFxuXFx0aWYgKCAhdGltZXJJZCApIHtcXG5cXHRcXHR0aW1lcklkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA/XFxuXFx0XFx0XFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSggcmFmICkgOlxcblxcdFxcdFxcdHdpbmRvdy5zZXRJbnRlcnZhbCggalF1ZXJ5LmZ4LnRpY2ssIGpRdWVyeS5meC5pbnRlcnZhbCApO1xcblxcdH1cXG59O1xcblxcbmpRdWVyeS5meC5zdG9wID0gZnVuY3Rpb24oKSB7XFxuXFx0aWYgKCB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgKSB7XFxuXFx0XFx0d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKCB0aW1lcklkICk7XFxuXFx0fSBlbHNlIHtcXG5cXHRcXHR3aW5kb3cuY2xlYXJJbnRlcnZhbCggdGltZXJJZCApO1xcblxcdH1cXG5cXG5cXHR0aW1lcklkID0gbnVsbDtcXG59O1xcblxcbmpRdWVyeS5meC5zcGVlZHMgPSB7XFxuXFx0c2xvdzogNjAwLFxcblxcdGZhc3Q6IDIwMCxcXG5cXG5cXHQvLyBEZWZhdWx0IHNwZWVkXFxuXFx0X2RlZmF1bHQ6IDQwMFxcbn07XFxuXFxuXFxuLy8gQmFzZWQgb2ZmIG9mIHRoZSBwbHVnaW4gYnkgQ2xpbnQgSGVsZmVycywgd2l0aCBwZXJtaXNzaW9uLlxcbi8vIGh0dHBzOi8vd2ViLmFyY2hpdmUub3JnL3dlYi8yMDEwMDMyNDAxNDc0Ny9odHRwOi8vYmxpbmRzaWduYWxzLmNvbS9pbmRleC5waHAvMjAwOS8wNy9qcXVlcnktZGVsYXkvXFxualF1ZXJ5LmZuLmRlbGF5ID0gZnVuY3Rpb24oIHRpbWUsIHR5cGUgKSB7XFxuXFx0dGltZSA9IGpRdWVyeS5meCA/IGpRdWVyeS5meC5zcGVlZHNbIHRpbWUgXSB8fCB0aW1lIDogdGltZTtcXG5cXHR0eXBlID0gdHlwZSB8fCBcXFwiZnhcXFwiO1xcblxcblxcdHJldHVybiB0aGlzLnF1ZXVlKCB0eXBlLCBmdW5jdGlvbiggbmV4dCwgaG9va3MgKSB7XFxuXFx0XFx0dmFyIHRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCggbmV4dCwgdGltZSApO1xcblxcdFxcdGhvb2tzLnN0b3AgPSBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHR3aW5kb3cuY2xlYXJUaW1lb3V0KCB0aW1lb3V0ICk7XFxuXFx0XFx0fTtcXG5cXHR9ICk7XFxufTtcXG5cXG5cXG4oIGZ1bmN0aW9uKCkge1xcblxcdHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFxcXCJpbnB1dFxcXCIgKSxcXG5cXHRcXHRzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcXFwic2VsZWN0XFxcIiApLFxcblxcdFxcdG9wdCA9IHNlbGVjdC5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXFxcIm9wdGlvblxcXCIgKSApO1xcblxcblxcdGlucHV0LnR5cGUgPSBcXFwiY2hlY2tib3hcXFwiO1xcblxcblxcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjMgb25seVxcblxcdC8vIERlZmF1bHQgdmFsdWUgZm9yIGEgY2hlY2tib3ggc2hvdWxkIGJlIFxcXCJvblxcXCJcXG5cXHRzdXBwb3J0LmNoZWNrT24gPSBpbnB1dC52YWx1ZSAhPT0gXFxcIlxcXCI7XFxuXFxuXFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XFxuXFx0Ly8gTXVzdCBhY2Nlc3Mgc2VsZWN0ZWRJbmRleCB0byBtYWtlIGRlZmF1bHQgb3B0aW9ucyBzZWxlY3RcXG5cXHRzdXBwb3J0Lm9wdFNlbGVjdGVkID0gb3B0LnNlbGVjdGVkO1xcblxcblxcdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxcblxcdC8vIEFuIGlucHV0IGxvc2VzIGl0cyB2YWx1ZSBhZnRlciBiZWNvbWluZyBhIHJhZGlvXFxuXFx0aW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcXFwiaW5wdXRcXFwiICk7XFxuXFx0aW5wdXQudmFsdWUgPSBcXFwidFxcXCI7XFxuXFx0aW5wdXQudHlwZSA9IFxcXCJyYWRpb1xcXCI7XFxuXFx0c3VwcG9ydC5yYWRpb1ZhbHVlID0gaW5wdXQudmFsdWUgPT09IFxcXCJ0XFxcIjtcXG59ICkoKTtcXG5cXG5cXG52YXIgYm9vbEhvb2ssXFxuXFx0YXR0ckhhbmRsZSA9IGpRdWVyeS5leHByLmF0dHJIYW5kbGU7XFxuXFxualF1ZXJ5LmZuLmV4dGVuZCgge1xcblxcdGF0dHI6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcXG5cXHRcXHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBqUXVlcnkuYXR0ciwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XFxuXFx0fSxcXG5cXG5cXHRyZW1vdmVBdHRyOiBmdW5jdGlvbiggbmFtZSApIHtcXG5cXHRcXHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHRqUXVlcnkucmVtb3ZlQXR0ciggdGhpcywgbmFtZSApO1xcblxcdFxcdH0gKTtcXG5cXHR9XFxufSApO1xcblxcbmpRdWVyeS5leHRlbmQoIHtcXG5cXHRhdHRyOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XFxuXFx0XFx0dmFyIHJldCwgaG9va3MsXFxuXFx0XFx0XFx0blR5cGUgPSBlbGVtLm5vZGVUeXBlO1xcblxcblxcdFxcdC8vIERvbid0IGdldC9zZXQgYXR0cmlidXRlcyBvbiB0ZXh0LCBjb21tZW50IGFuZCBhdHRyaWJ1dGUgbm9kZXNcXG5cXHRcXHRpZiAoIG5UeXBlID09PSAzIHx8IG5UeXBlID09PSA4IHx8IG5UeXBlID09PSAyICkge1xcblxcdFxcdFxcdHJldHVybjtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gRmFsbGJhY2sgdG8gcHJvcCB3aGVuIGF0dHJpYnV0ZXMgYXJlIG5vdCBzdXBwb3J0ZWRcXG5cXHRcXHRpZiAoIHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSA9PT0gXFxcInVuZGVmaW5lZFxcXCIgKSB7XFxuXFx0XFx0XFx0cmV0dXJuIGpRdWVyeS5wcm9wKCBlbGVtLCBuYW1lLCB2YWx1ZSApO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBBdHRyaWJ1dGUgaG9va3MgYXJlIGRldGVybWluZWQgYnkgdGhlIGxvd2VyY2FzZSB2ZXJzaW9uXFxuXFx0XFx0Ly8gR3JhYiBuZWNlc3NhcnkgaG9vayBpZiBvbmUgaXMgZGVmaW5lZFxcblxcdFxcdGlmICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xcblxcdFxcdFxcdGhvb2tzID0galF1ZXJ5LmF0dHJIb29rc1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gfHxcXG5cXHRcXHRcXHRcXHQoIGpRdWVyeS5leHByLm1hdGNoLmJvb2wudGVzdCggbmFtZSApID8gYm9vbEhvb2sgOiB1bmRlZmluZWQgKTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0aWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xcblxcdFxcdFxcdGlmICggdmFsdWUgPT09IG51bGwgKSB7XFxuXFx0XFx0XFx0XFx0alF1ZXJ5LnJlbW92ZUF0dHIoIGVsZW0sIG5hbWUgKTtcXG5cXHRcXHRcXHRcXHRyZXR1cm47XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdGlmICggaG9va3MgJiYgXFxcInNldFxcXCIgaW4gaG9va3MgJiZcXG5cXHRcXHRcXHRcXHQoIHJldCA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKSApICE9PSB1bmRlZmluZWQgKSB7XFxuXFx0XFx0XFx0XFx0cmV0dXJuIHJldDtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIG5hbWUsIHZhbHVlICsgXFxcIlxcXCIgKTtcXG5cXHRcXHRcXHRyZXR1cm4gdmFsdWU7XFxuXFx0XFx0fVxcblxcblxcdFxcdGlmICggaG9va3MgJiYgXFxcImdldFxcXCIgaW4gaG9va3MgJiYgKCByZXQgPSBob29rcy5nZXQoIGVsZW0sIG5hbWUgKSApICE9PSBudWxsICkge1xcblxcdFxcdFxcdHJldHVybiByZXQ7XFxuXFx0XFx0fVxcblxcblxcdFxcdHJldCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIG5hbWUgKTtcXG5cXG5cXHRcXHQvLyBOb24tZXhpc3RlbnQgYXR0cmlidXRlcyByZXR1cm4gbnVsbCwgd2Ugbm9ybWFsaXplIHRvIHVuZGVmaW5lZFxcblxcdFxcdHJldHVybiByZXQgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IHJldDtcXG5cXHR9LFxcblxcblxcdGF0dHJIb29rczoge1xcblxcdFxcdHR5cGU6IHtcXG5cXHRcXHRcXHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcXG5cXHRcXHRcXHRcXHRpZiAoICFzdXBwb3J0LnJhZGlvVmFsdWUgJiYgdmFsdWUgPT09IFxcXCJyYWRpb1xcXCIgJiZcXG5cXHRcXHRcXHRcXHRcXHRqUXVlcnkubm9kZU5hbWUoIGVsZW0sIFxcXCJpbnB1dFxcXCIgKSApIHtcXG5cXHRcXHRcXHRcXHRcXHR2YXIgdmFsID0gZWxlbS52YWx1ZTtcXG5cXHRcXHRcXHRcXHRcXHRlbGVtLnNldEF0dHJpYnV0ZSggXFxcInR5cGVcXFwiLCB2YWx1ZSApO1xcblxcdFxcdFxcdFxcdFxcdGlmICggdmFsICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdGVsZW0udmFsdWUgPSB2YWw7XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdHJldHVybiB2YWx1ZTtcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXHR9LFxcblxcblxcdHJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcXG5cXHRcXHR2YXIgbmFtZSxcXG5cXHRcXHRcXHRpID0gMCxcXG5cXG5cXHRcXHRcXHQvLyBBdHRyaWJ1dGUgbmFtZXMgY2FuIGNvbnRhaW4gbm9uLUhUTUwgd2hpdGVzcGFjZSBjaGFyYWN0ZXJzXFxuXFx0XFx0XFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc3ludGF4Lmh0bWwjYXR0cmlidXRlcy0yXFxuXFx0XFx0XFx0YXR0ck5hbWVzID0gdmFsdWUgJiYgdmFsdWUubWF0Y2goIHJub3RodG1sd2hpdGUgKTtcXG5cXG5cXHRcXHRpZiAoIGF0dHJOYW1lcyAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xcblxcdFxcdFxcdHdoaWxlICggKCBuYW1lID0gYXR0ck5hbWVzWyBpKysgXSApICkge1xcblxcdFxcdFxcdFxcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKCBuYW1lICk7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXHR9XFxufSApO1xcblxcbi8vIEhvb2tzIGZvciBib29sZWFuIGF0dHJpYnV0ZXNcXG5ib29sSG9vayA9IHtcXG5cXHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSwgbmFtZSApIHtcXG5cXHRcXHRpZiAoIHZhbHVlID09PSBmYWxzZSApIHtcXG5cXG5cXHRcXHRcXHQvLyBSZW1vdmUgYm9vbGVhbiBhdHRyaWJ1dGVzIHdoZW4gc2V0IHRvIGZhbHNlXFxuXFx0XFx0XFx0alF1ZXJ5LnJlbW92ZUF0dHIoIGVsZW0sIG5hbWUgKTtcXG5cXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lICk7XFxuXFx0XFx0fVxcblxcdFxcdHJldHVybiBuYW1lO1xcblxcdH1cXG59O1xcblxcbmpRdWVyeS5lYWNoKCBqUXVlcnkuZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCggL1xcXFx3Ky9nICksIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xcblxcdHZhciBnZXR0ZXIgPSBhdHRySGFuZGxlWyBuYW1lIF0gfHwgalF1ZXJ5LmZpbmQuYXR0cjtcXG5cXG5cXHRhdHRySGFuZGxlWyBuYW1lIF0gPSBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XFxuXFx0XFx0dmFyIHJldCwgaGFuZGxlLFxcblxcdFxcdFxcdGxvd2VyY2FzZU5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XFxuXFxuXFx0XFx0aWYgKCAhaXNYTUwgKSB7XFxuXFxuXFx0XFx0XFx0Ly8gQXZvaWQgYW4gaW5maW5pdGUgbG9vcCBieSB0ZW1wb3JhcmlseSByZW1vdmluZyB0aGlzIGZ1bmN0aW9uIGZyb20gdGhlIGdldHRlclxcblxcdFxcdFxcdGhhbmRsZSA9IGF0dHJIYW5kbGVbIGxvd2VyY2FzZU5hbWUgXTtcXG5cXHRcXHRcXHRhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF0gPSByZXQ7XFxuXFx0XFx0XFx0cmV0ID0gZ2V0dGVyKCBlbGVtLCBuYW1lLCBpc1hNTCApICE9IG51bGwgP1xcblxcdFxcdFxcdFxcdGxvd2VyY2FzZU5hbWUgOlxcblxcdFxcdFxcdFxcdG51bGw7XFxuXFx0XFx0XFx0YXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdID0gaGFuZGxlO1xcblxcdFxcdH1cXG5cXHRcXHRyZXR1cm4gcmV0O1xcblxcdH07XFxufSApO1xcblxcblxcblxcblxcbnZhciByZm9jdXNhYmxlID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxcXG5cXHRyY2xpY2thYmxlID0gL14oPzphfGFyZWEpJC9pO1xcblxcbmpRdWVyeS5mbi5leHRlbmQoIHtcXG5cXHRwcm9wOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XFxuXFx0XFx0cmV0dXJuIGFjY2VzcyggdGhpcywgalF1ZXJ5LnByb3AsIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xcblxcdH0sXFxuXFxuXFx0cmVtb3ZlUHJvcDogZnVuY3Rpb24oIG5hbWUgKSB7XFxuXFx0XFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0ZGVsZXRlIHRoaXNbIGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZSBdO1xcblxcdFxcdH0gKTtcXG5cXHR9XFxufSApO1xcblxcbmpRdWVyeS5leHRlbmQoIHtcXG5cXHRwcm9wOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XFxuXFx0XFx0dmFyIHJldCwgaG9va3MsXFxuXFx0XFx0XFx0blR5cGUgPSBlbGVtLm5vZGVUeXBlO1xcblxcblxcdFxcdC8vIERvbid0IGdldC9zZXQgcHJvcGVydGllcyBvbiB0ZXh0LCBjb21tZW50IGFuZCBhdHRyaWJ1dGUgbm9kZXNcXG5cXHRcXHRpZiAoIG5UeXBlID09PSAzIHx8IG5UeXBlID09PSA4IHx8IG5UeXBlID09PSAyICkge1xcblxcdFxcdFxcdHJldHVybjtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0aWYgKCBuVHlwZSAhPT0gMSB8fCAhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7XFxuXFxuXFx0XFx0XFx0Ly8gRml4IG5hbWUgYW5kIGF0dGFjaCBob29rc1xcblxcdFxcdFxcdG5hbWUgPSBqUXVlcnkucHJvcEZpeFsgbmFtZSBdIHx8IG5hbWU7XFxuXFx0XFx0XFx0aG9va3MgPSBqUXVlcnkucHJvcEhvb2tzWyBuYW1lIF07XFxuXFx0XFx0fVxcblxcblxcdFxcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcXG5cXHRcXHRcXHRpZiAoIGhvb2tzICYmIFxcXCJzZXRcXFwiIGluIGhvb2tzICYmXFxuXFx0XFx0XFx0XFx0KCByZXQgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICkgKSAhPT0gdW5kZWZpbmVkICkge1xcblxcdFxcdFxcdFxcdHJldHVybiByZXQ7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdHJldHVybiAoIGVsZW1bIG5hbWUgXSA9IHZhbHVlICk7XFxuXFx0XFx0fVxcblxcblxcdFxcdGlmICggaG9va3MgJiYgXFxcImdldFxcXCIgaW4gaG9va3MgJiYgKCByZXQgPSBob29rcy5nZXQoIGVsZW0sIG5hbWUgKSApICE9PSBudWxsICkge1xcblxcdFxcdFxcdHJldHVybiByZXQ7XFxuXFx0XFx0fVxcblxcblxcdFxcdHJldHVybiBlbGVtWyBuYW1lIF07XFxuXFx0fSxcXG5cXG5cXHRwcm9wSG9va3M6IHtcXG5cXHRcXHR0YWJJbmRleDoge1xcblxcdFxcdFxcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XFxuXFxuXFx0XFx0XFx0XFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxcblxcdFxcdFxcdFxcdC8vIGVsZW0udGFiSW5kZXggZG9lc24ndCBhbHdheXMgcmV0dXJuIHRoZVxcblxcdFxcdFxcdFxcdC8vIGNvcnJlY3QgdmFsdWUgd2hlbiBpdCBoYXNuJ3QgYmVlbiBleHBsaWNpdGx5IHNldFxcblxcdFxcdFxcdFxcdC8vIGh0dHBzOi8vd2ViLmFyY2hpdmUub3JnL3dlYi8yMDE0MTExNjIzMzM0Ny9odHRwOi8vZmx1aWRwcm9qZWN0Lm9yZy9ibG9nLzIwMDgvMDEvMDkvZ2V0dGluZy1zZXR0aW5nLWFuZC1yZW1vdmluZy10YWJpbmRleC12YWx1ZXMtd2l0aC1qYXZhc2NyaXB0L1xcblxcdFxcdFxcdFxcdC8vIFVzZSBwcm9wZXIgYXR0cmlidXRlIHJldHJpZXZhbCgjMTIwNzIpXFxuXFx0XFx0XFx0XFx0dmFyIHRhYmluZGV4ID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgXFxcInRhYmluZGV4XFxcIiApO1xcblxcblxcdFxcdFxcdFxcdGlmICggdGFiaW5kZXggKSB7XFxuXFx0XFx0XFx0XFx0XFx0cmV0dXJuIHBhcnNlSW50KCB0YWJpbmRleCwgMTAgKTtcXG5cXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0aWYgKFxcblxcdFxcdFxcdFxcdFxcdHJmb2N1c2FibGUudGVzdCggZWxlbS5ub2RlTmFtZSApIHx8XFxuXFx0XFx0XFx0XFx0XFx0cmNsaWNrYWJsZS50ZXN0KCBlbGVtLm5vZGVOYW1lICkgJiZcXG5cXHRcXHRcXHRcXHRcXHRlbGVtLmhyZWZcXG5cXHRcXHRcXHRcXHQpIHtcXG5cXHRcXHRcXHRcXHRcXHRyZXR1cm4gMDtcXG5cXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0cmV0dXJuIC0xO1xcblxcdFxcdFxcdH1cXG5cXHRcXHR9XFxuXFx0fSxcXG5cXG5cXHRwcm9wRml4OiB7XFxuXFx0XFx0XFxcImZvclxcXCI6IFxcXCJodG1sRm9yXFxcIixcXG5cXHRcXHRcXFwiY2xhc3NcXFwiOiBcXFwiY2xhc3NOYW1lXFxcIlxcblxcdH1cXG59ICk7XFxuXFxuLy8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XFxuLy8gQWNjZXNzaW5nIHRoZSBzZWxlY3RlZEluZGV4IHByb3BlcnR5XFxuLy8gZm9yY2VzIHRoZSBicm93c2VyIHRvIHJlc3BlY3Qgc2V0dGluZyBzZWxlY3RlZFxcbi8vIG9uIHRoZSBvcHRpb25cXG4vLyBUaGUgZ2V0dGVyIGVuc3VyZXMgYSBkZWZhdWx0IG9wdGlvbiBpcyBzZWxlY3RlZFxcbi8vIHdoZW4gaW4gYW4gb3B0Z3JvdXBcXG4vLyBlc2xpbnQgcnVsZSBcXFwibm8tdW51c2VkLWV4cHJlc3Npb25zXFxcIiBpcyBkaXNhYmxlZCBmb3IgdGhpcyBjb2RlXFxuLy8gc2luY2UgaXQgY29uc2lkZXJzIHN1Y2ggYWNjZXNzaW9ucyBub29wXFxuaWYgKCAhc3VwcG9ydC5vcHRTZWxlY3RlZCApIHtcXG5cXHRqUXVlcnkucHJvcEhvb2tzLnNlbGVjdGVkID0ge1xcblxcdFxcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XFxuXFxuXFx0XFx0XFx0LyogZXNsaW50IG5vLXVudXNlZC1leHByZXNzaW9uczogXFxcIm9mZlxcXCIgKi9cXG5cXG5cXHRcXHRcXHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xcblxcdFxcdFxcdGlmICggcGFyZW50ICYmIHBhcmVudC5wYXJlbnROb2RlICkge1xcblxcdFxcdFxcdFxcdHBhcmVudC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XFxuXFx0XFx0XFx0fVxcblxcdFxcdFxcdHJldHVybiBudWxsO1xcblxcdFxcdH0sXFxuXFx0XFx0c2V0OiBmdW5jdGlvbiggZWxlbSApIHtcXG5cXG5cXHRcXHRcXHQvKiBlc2xpbnQgbm8tdW51c2VkLWV4cHJlc3Npb25zOiBcXFwib2ZmXFxcIiAqL1xcblxcblxcdFxcdFxcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XFxuXFx0XFx0XFx0aWYgKCBwYXJlbnQgKSB7XFxuXFx0XFx0XFx0XFx0cGFyZW50LnNlbGVjdGVkSW5kZXg7XFxuXFxuXFx0XFx0XFx0XFx0aWYgKCBwYXJlbnQucGFyZW50Tm9kZSApIHtcXG5cXHRcXHRcXHRcXHRcXHRwYXJlbnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcdH07XFxufVxcblxcbmpRdWVyeS5lYWNoKCBbXFxuXFx0XFxcInRhYkluZGV4XFxcIixcXG5cXHRcXFwicmVhZE9ubHlcXFwiLFxcblxcdFxcXCJtYXhMZW5ndGhcXFwiLFxcblxcdFxcXCJjZWxsU3BhY2luZ1xcXCIsXFxuXFx0XFxcImNlbGxQYWRkaW5nXFxcIixcXG5cXHRcXFwicm93U3BhblxcXCIsXFxuXFx0XFxcImNvbFNwYW5cXFwiLFxcblxcdFxcXCJ1c2VNYXBcXFwiLFxcblxcdFxcXCJmcmFtZUJvcmRlclxcXCIsXFxuXFx0XFxcImNvbnRlbnRFZGl0YWJsZVxcXCJcXG5dLCBmdW5jdGlvbigpIHtcXG5cXHRqUXVlcnkucHJvcEZpeFsgdGhpcy50b0xvd2VyQ2FzZSgpIF0gPSB0aGlzO1xcbn0gKTtcXG5cXG5cXG5cXG5cXG5cXHQvLyBTdHJpcCBhbmQgY29sbGFwc2Ugd2hpdGVzcGFjZSBhY2NvcmRpbmcgdG8gSFRNTCBzcGVjXFxuXFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW5mcmFzdHJ1Y3R1cmUuaHRtbCNzdHJpcC1hbmQtY29sbGFwc2Utd2hpdGVzcGFjZVxcblxcdGZ1bmN0aW9uIHN0cmlwQW5kQ29sbGFwc2UoIHZhbHVlICkge1xcblxcdFxcdHZhciB0b2tlbnMgPSB2YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdO1xcblxcdFxcdHJldHVybiB0b2tlbnMuam9pbiggXFxcIiBcXFwiICk7XFxuXFx0fVxcblxcblxcbmZ1bmN0aW9uIGdldENsYXNzKCBlbGVtICkge1xcblxcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSAmJiBlbGVtLmdldEF0dHJpYnV0ZSggXFxcImNsYXNzXFxcIiApIHx8IFxcXCJcXFwiO1xcbn1cXG5cXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XFxuXFx0YWRkQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcXG5cXHRcXHR2YXIgY2xhc3NlcywgZWxlbSwgY3VyLCBjdXJWYWx1ZSwgY2xhenosIGosIGZpbmFsVmFsdWUsXFxuXFx0XFx0XFx0aSA9IDA7XFxuXFxuXFx0XFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcXG5cXHRcXHRcXHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaiApIHtcXG5cXHRcXHRcXHRcXHRqUXVlcnkoIHRoaXMgKS5hZGRDbGFzcyggdmFsdWUuY2FsbCggdGhpcywgaiwgZ2V0Q2xhc3MoIHRoaXMgKSApICk7XFxuXFx0XFx0XFx0fSApO1xcblxcdFxcdH1cXG5cXG5cXHRcXHRpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gXFxcInN0cmluZ1xcXCIgJiYgdmFsdWUgKSB7XFxuXFx0XFx0XFx0Y2xhc3NlcyA9IHZhbHVlLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW107XFxuXFxuXFx0XFx0XFx0d2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkge1xcblxcdFxcdFxcdFxcdGN1clZhbHVlID0gZ2V0Q2xhc3MoIGVsZW0gKTtcXG5cXHRcXHRcXHRcXHRjdXIgPSBlbGVtLm5vZGVUeXBlID09PSAxICYmICggXFxcIiBcXFwiICsgc3RyaXBBbmRDb2xsYXBzZSggY3VyVmFsdWUgKSArIFxcXCIgXFxcIiApO1xcblxcblxcdFxcdFxcdFxcdGlmICggY3VyICkge1xcblxcdFxcdFxcdFxcdFxcdGogPSAwO1xcblxcdFxcdFxcdFxcdFxcdHdoaWxlICggKCBjbGF6eiA9IGNsYXNzZXNbIGorKyBdICkgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0aWYgKCBjdXIuaW5kZXhPZiggXFxcIiBcXFwiICsgY2xhenogKyBcXFwiIFxcXCIgKSA8IDAgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0Y3VyICs9IGNsYXp6ICsgXFxcIiBcXFwiO1xcblxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0XFx0Ly8gT25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy5cXG5cXHRcXHRcXHRcXHRcXHRmaW5hbFZhbHVlID0gc3RyaXBBbmRDb2xsYXBzZSggY3VyICk7XFxuXFx0XFx0XFx0XFx0XFx0aWYgKCBjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRlbGVtLnNldEF0dHJpYnV0ZSggXFxcImNsYXNzXFxcIiwgZmluYWxWYWx1ZSApO1xcblxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXG5cXHRcXHRyZXR1cm4gdGhpcztcXG5cXHR9LFxcblxcblxcdHJlbW92ZUNsYXNzOiBmdW5jdGlvbiggdmFsdWUgKSB7XFxuXFx0XFx0dmFyIGNsYXNzZXMsIGVsZW0sIGN1ciwgY3VyVmFsdWUsIGNsYXp6LCBqLCBmaW5hbFZhbHVlLFxcblxcdFxcdFxcdGkgPSAwO1xcblxcblxcdFxcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XFxuXFx0XFx0XFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGogKSB7XFxuXFx0XFx0XFx0XFx0alF1ZXJ5KCB0aGlzICkucmVtb3ZlQ2xhc3MoIHZhbHVlLmNhbGwoIHRoaXMsIGosIGdldENsYXNzKCB0aGlzICkgKSApO1xcblxcdFxcdFxcdH0gKTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0aWYgKCAhYXJndW1lbnRzLmxlbmd0aCApIHtcXG5cXHRcXHRcXHRyZXR1cm4gdGhpcy5hdHRyKCBcXFwiY2xhc3NcXFwiLCBcXFwiXFxcIiApO1xcblxcdFxcdH1cXG5cXG5cXHRcXHRpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gXFxcInN0cmluZ1xcXCIgJiYgdmFsdWUgKSB7XFxuXFx0XFx0XFx0Y2xhc3NlcyA9IHZhbHVlLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW107XFxuXFxuXFx0XFx0XFx0d2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkge1xcblxcdFxcdFxcdFxcdGN1clZhbHVlID0gZ2V0Q2xhc3MoIGVsZW0gKTtcXG5cXG5cXHRcXHRcXHRcXHQvLyBUaGlzIGV4cHJlc3Npb24gaXMgaGVyZSBmb3IgYmV0dGVyIGNvbXByZXNzaWJpbGl0eSAoc2VlIGFkZENsYXNzKVxcblxcdFxcdFxcdFxcdGN1ciA9IGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgKCBcXFwiIFxcXCIgKyBzdHJpcEFuZENvbGxhcHNlKCBjdXJWYWx1ZSApICsgXFxcIiBcXFwiICk7XFxuXFxuXFx0XFx0XFx0XFx0aWYgKCBjdXIgKSB7XFxuXFx0XFx0XFx0XFx0XFx0aiA9IDA7XFxuXFx0XFx0XFx0XFx0XFx0d2hpbGUgKCAoIGNsYXp6ID0gY2xhc3Nlc1sgaisrIF0gKSApIHtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHQvLyBSZW1vdmUgKmFsbCogaW5zdGFuY2VzXFxuXFx0XFx0XFx0XFx0XFx0XFx0d2hpbGUgKCBjdXIuaW5kZXhPZiggXFxcIiBcXFwiICsgY2xhenogKyBcXFwiIFxcXCIgKSA+IC0xICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdGN1ciA9IGN1ci5yZXBsYWNlKCBcXFwiIFxcXCIgKyBjbGF6eiArIFxcXCIgXFxcIiwgXFxcIiBcXFwiICk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRcXHQvLyBPbmx5IGFzc2lnbiBpZiBkaWZmZXJlbnQgdG8gYXZvaWQgdW5uZWVkZWQgcmVuZGVyaW5nLlxcblxcdFxcdFxcdFxcdFxcdGZpbmFsVmFsdWUgPSBzdHJpcEFuZENvbGxhcHNlKCBjdXIgKTtcXG5cXHRcXHRcXHRcXHRcXHRpZiAoIGN1clZhbHVlICE9PSBmaW5hbFZhbHVlICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdGVsZW0uc2V0QXR0cmlidXRlKCBcXFwiY2xhc3NcXFwiLCBmaW5hbFZhbHVlICk7XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcblxcdFxcdHJldHVybiB0aGlzO1xcblxcdH0sXFxuXFxuXFx0dG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uKCB2YWx1ZSwgc3RhdGVWYWwgKSB7XFxuXFx0XFx0dmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XFxuXFxuXFx0XFx0aWYgKCB0eXBlb2Ygc3RhdGVWYWwgPT09IFxcXCJib29sZWFuXFxcIiAmJiB0eXBlID09PSBcXFwic3RyaW5nXFxcIiApIHtcXG5cXHRcXHRcXHRyZXR1cm4gc3RhdGVWYWwgPyB0aGlzLmFkZENsYXNzKCB2YWx1ZSApIDogdGhpcy5yZW1vdmVDbGFzcyggdmFsdWUgKTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggdmFsdWUgKSApIHtcXG5cXHRcXHRcXHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcXG5cXHRcXHRcXHRcXHRqUXVlcnkoIHRoaXMgKS50b2dnbGVDbGFzcyhcXG5cXHRcXHRcXHRcXHRcXHR2YWx1ZS5jYWxsKCB0aGlzLCBpLCBnZXRDbGFzcyggdGhpcyApLCBzdGF0ZVZhbCApLFxcblxcdFxcdFxcdFxcdFxcdHN0YXRlVmFsXFxuXFx0XFx0XFx0XFx0KTtcXG5cXHRcXHRcXHR9ICk7XFxuXFx0XFx0fVxcblxcblxcdFxcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xcblxcdFxcdFxcdHZhciBjbGFzc05hbWUsIGksIHNlbGYsIGNsYXNzTmFtZXM7XFxuXFxuXFx0XFx0XFx0aWYgKCB0eXBlID09PSBcXFwic3RyaW5nXFxcIiApIHtcXG5cXG5cXHRcXHRcXHRcXHQvLyBUb2dnbGUgaW5kaXZpZHVhbCBjbGFzcyBuYW1lc1xcblxcdFxcdFxcdFxcdGkgPSAwO1xcblxcdFxcdFxcdFxcdHNlbGYgPSBqUXVlcnkoIHRoaXMgKTtcXG5cXHRcXHRcXHRcXHRjbGFzc05hbWVzID0gdmFsdWUubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTtcXG5cXG5cXHRcXHRcXHRcXHR3aGlsZSAoICggY2xhc3NOYW1lID0gY2xhc3NOYW1lc1sgaSsrIF0gKSApIHtcXG5cXG5cXHRcXHRcXHRcXHRcXHQvLyBDaGVjayBlYWNoIGNsYXNzTmFtZSBnaXZlbiwgc3BhY2Ugc2VwYXJhdGVkIGxpc3RcXG5cXHRcXHRcXHRcXHRcXHRpZiAoIHNlbGYuaGFzQ2xhc3MoIGNsYXNzTmFtZSApICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdHNlbGYucmVtb3ZlQ2xhc3MoIGNsYXNzTmFtZSApO1xcblxcdFxcdFxcdFxcdFxcdH0gZWxzZSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0c2VsZi5hZGRDbGFzcyggY2xhc3NOYW1lICk7XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHQvLyBUb2dnbGUgd2hvbGUgY2xhc3MgbmFtZVxcblxcdFxcdFxcdH0gZWxzZSBpZiAoIHZhbHVlID09PSB1bmRlZmluZWQgfHwgdHlwZSA9PT0gXFxcImJvb2xlYW5cXFwiICkge1xcblxcdFxcdFxcdFxcdGNsYXNzTmFtZSA9IGdldENsYXNzKCB0aGlzICk7XFxuXFx0XFx0XFx0XFx0aWYgKCBjbGFzc05hbWUgKSB7XFxuXFxuXFx0XFx0XFx0XFx0XFx0Ly8gU3RvcmUgY2xhc3NOYW1lIGlmIHNldFxcblxcdFxcdFxcdFxcdFxcdGRhdGFQcml2LnNldCggdGhpcywgXFxcIl9fY2xhc3NOYW1lX19cXFwiLCBjbGFzc05hbWUgKTtcXG5cXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0Ly8gSWYgdGhlIGVsZW1lbnQgaGFzIGEgY2xhc3MgbmFtZSBvciBpZiB3ZSdyZSBwYXNzZWQgYGZhbHNlYCxcXG5cXHRcXHRcXHRcXHQvLyB0aGVuIHJlbW92ZSB0aGUgd2hvbGUgY2xhc3NuYW1lIChpZiB0aGVyZSB3YXMgb25lLCB0aGUgYWJvdmUgc2F2ZWQgaXQpLlxcblxcdFxcdFxcdFxcdC8vIE90aGVyd2lzZSBicmluZyBiYWNrIHdoYXRldmVyIHdhcyBwcmV2aW91c2x5IHNhdmVkIChpZiBhbnl0aGluZyksXFxuXFx0XFx0XFx0XFx0Ly8gZmFsbGluZyBiYWNrIHRvIHRoZSBlbXB0eSBzdHJpbmcgaWYgbm90aGluZyB3YXMgc3RvcmVkLlxcblxcdFxcdFxcdFxcdGlmICggdGhpcy5zZXRBdHRyaWJ1dGUgKSB7XFxuXFx0XFx0XFx0XFx0XFx0dGhpcy5zZXRBdHRyaWJ1dGUoIFxcXCJjbGFzc1xcXCIsXFxuXFx0XFx0XFx0XFx0XFx0XFx0Y2xhc3NOYW1lIHx8IHZhbHVlID09PSBmYWxzZSA/XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFxcIlxcXCIgOlxcblxcdFxcdFxcdFxcdFxcdFxcdGRhdGFQcml2LmdldCggdGhpcywgXFxcIl9fY2xhc3NOYW1lX19cXFwiICkgfHwgXFxcIlxcXCJcXG5cXHRcXHRcXHRcXHRcXHQpO1xcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0fSApO1xcblxcdH0sXFxuXFxuXFx0aGFzQ2xhc3M6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcXG5cXHRcXHR2YXIgY2xhc3NOYW1lLCBlbGVtLFxcblxcdFxcdFxcdGkgPSAwO1xcblxcblxcdFxcdGNsYXNzTmFtZSA9IFxcXCIgXFxcIiArIHNlbGVjdG9yICsgXFxcIiBcXFwiO1xcblxcdFxcdHdoaWxlICggKCBlbGVtID0gdGhpc1sgaSsrIF0gKSApIHtcXG5cXHRcXHRcXHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiZcXG5cXHRcXHRcXHRcXHQoIFxcXCIgXFxcIiArIHN0cmlwQW5kQ29sbGFwc2UoIGdldENsYXNzKCBlbGVtICkgKSArIFxcXCIgXFxcIiApLmluZGV4T2YoIGNsYXNzTmFtZSApID4gLTEgKSB7XFxuXFx0XFx0XFx0XFx0XFx0cmV0dXJuIHRydWU7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXG5cXHRcXHRyZXR1cm4gZmFsc2U7XFxuXFx0fVxcbn0gKTtcXG5cXG5cXG5cXG5cXG52YXIgcnJldHVybiA9IC9cXFxcci9nO1xcblxcbmpRdWVyeS5mbi5leHRlbmQoIHtcXG5cXHR2YWw6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcXG5cXHRcXHR2YXIgaG9va3MsIHJldCwgaXNGdW5jdGlvbixcXG5cXHRcXHRcXHRlbGVtID0gdGhpc1sgMCBdO1xcblxcblxcdFxcdGlmICggIWFyZ3VtZW50cy5sZW5ndGggKSB7XFxuXFx0XFx0XFx0aWYgKCBlbGVtICkge1xcblxcdFxcdFxcdFxcdGhvb2tzID0galF1ZXJ5LnZhbEhvb2tzWyBlbGVtLnR5cGUgXSB8fFxcblxcdFxcdFxcdFxcdFxcdGpRdWVyeS52YWxIb29rc1sgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIF07XFxuXFxuXFx0XFx0XFx0XFx0aWYgKCBob29rcyAmJlxcblxcdFxcdFxcdFxcdFxcdFxcXCJnZXRcXFwiIGluIGhvb2tzICYmXFxuXFx0XFx0XFx0XFx0XFx0KCByZXQgPSBob29rcy5nZXQoIGVsZW0sIFxcXCJ2YWx1ZVxcXCIgKSApICE9PSB1bmRlZmluZWRcXG5cXHRcXHRcXHRcXHQpIHtcXG5cXHRcXHRcXHRcXHRcXHRyZXR1cm4gcmV0O1xcblxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRyZXQgPSBlbGVtLnZhbHVlO1xcblxcblxcdFxcdFxcdFxcdC8vIEhhbmRsZSBtb3N0IGNvbW1vbiBzdHJpbmcgY2FzZXNcXG5cXHRcXHRcXHRcXHRpZiAoIHR5cGVvZiByZXQgPT09IFxcXCJzdHJpbmdcXFwiICkge1xcblxcdFxcdFxcdFxcdFxcdHJldHVybiByZXQucmVwbGFjZSggcnJldHVybiwgXFxcIlxcXCIgKTtcXG5cXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0Ly8gSGFuZGxlIGNhc2VzIHdoZXJlIHZhbHVlIGlzIG51bGwvdW5kZWYgb3IgbnVtYmVyXFxuXFx0XFx0XFx0XFx0cmV0dXJuIHJldCA9PSBudWxsID8gXFxcIlxcXCIgOiByZXQ7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdHJldHVybjtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0aXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApO1xcblxcblxcdFxcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xcblxcdFxcdFxcdHZhciB2YWw7XFxuXFxuXFx0XFx0XFx0aWYgKCB0aGlzLm5vZGVUeXBlICE9PSAxICkge1xcblxcdFxcdFxcdFxcdHJldHVybjtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0aWYgKCBpc0Z1bmN0aW9uICkge1xcblxcdFxcdFxcdFxcdHZhbCA9IHZhbHVlLmNhbGwoIHRoaXMsIGksIGpRdWVyeSggdGhpcyApLnZhbCgpICk7XFxuXFx0XFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRcXHR2YWwgPSB2YWx1ZTtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0Ly8gVHJlYXQgbnVsbC91bmRlZmluZWQgYXMgXFxcIlxcXCI7IGNvbnZlcnQgbnVtYmVycyB0byBzdHJpbmdcXG5cXHRcXHRcXHRpZiAoIHZhbCA9PSBudWxsICkge1xcblxcdFxcdFxcdFxcdHZhbCA9IFxcXCJcXFwiO1xcblxcblxcdFxcdFxcdH0gZWxzZSBpZiAoIHR5cGVvZiB2YWwgPT09IFxcXCJudW1iZXJcXFwiICkge1xcblxcdFxcdFxcdFxcdHZhbCArPSBcXFwiXFxcIjtcXG5cXG5cXHRcXHRcXHR9IGVsc2UgaWYgKCBqUXVlcnkuaXNBcnJheSggdmFsICkgKSB7XFxuXFx0XFx0XFx0XFx0dmFsID0galF1ZXJ5Lm1hcCggdmFsLCBmdW5jdGlvbiggdmFsdWUgKSB7XFxuXFx0XFx0XFx0XFx0XFx0cmV0dXJuIHZhbHVlID09IG51bGwgPyBcXFwiXFxcIiA6IHZhbHVlICsgXFxcIlxcXCI7XFxuXFx0XFx0XFx0XFx0fSApO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRob29rcyA9IGpRdWVyeS52YWxIb29rc1sgdGhpcy50eXBlIF0gfHwgalF1ZXJ5LnZhbEhvb2tzWyB0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgXTtcXG5cXG5cXHRcXHRcXHQvLyBJZiBzZXQgcmV0dXJucyB1bmRlZmluZWQsIGZhbGwgYmFjayB0byBub3JtYWwgc2V0dGluZ1xcblxcdFxcdFxcdGlmICggIWhvb2tzIHx8ICEoIFxcXCJzZXRcXFwiIGluIGhvb2tzICkgfHwgaG9va3Muc2V0KCB0aGlzLCB2YWwsIFxcXCJ2YWx1ZVxcXCIgKSA9PT0gdW5kZWZpbmVkICkge1xcblxcdFxcdFxcdFxcdHRoaXMudmFsdWUgPSB2YWw7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH0gKTtcXG5cXHR9XFxufSApO1xcblxcbmpRdWVyeS5leHRlbmQoIHtcXG5cXHR2YWxIb29rczoge1xcblxcdFxcdG9wdGlvbjoge1xcblxcdFxcdFxcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XFxuXFxuXFx0XFx0XFx0XFx0dmFyIHZhbCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFxcXCJ2YWx1ZVxcXCIgKTtcXG5cXHRcXHRcXHRcXHRyZXR1cm4gdmFsICE9IG51bGwgP1xcblxcdFxcdFxcdFxcdFxcdHZhbCA6XFxuXFxuXFx0XFx0XFx0XFx0XFx0Ly8gU3VwcG9ydDogSUUgPD0xMCAtIDExIG9ubHlcXG5cXHRcXHRcXHRcXHRcXHQvLyBvcHRpb24udGV4dCB0aHJvd3MgZXhjZXB0aW9ucyAoIzE0Njg2LCAjMTQ4NTgpXFxuXFx0XFx0XFx0XFx0XFx0Ly8gU3RyaXAgYW5kIGNvbGxhcHNlIHdoaXRlc3BhY2VcXG5cXHRcXHRcXHRcXHRcXHQvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnLyNzdHJpcC1hbmQtY29sbGFwc2Utd2hpdGVzcGFjZVxcblxcdFxcdFxcdFxcdFxcdHN0cmlwQW5kQ29sbGFwc2UoIGpRdWVyeS50ZXh0KCBlbGVtICkgKTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fSxcXG5cXHRcXHRzZWxlY3Q6IHtcXG5cXHRcXHRcXHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xcblxcdFxcdFxcdFxcdHZhciB2YWx1ZSwgb3B0aW9uLCBpLFxcblxcdFxcdFxcdFxcdFxcdG9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsXFxuXFx0XFx0XFx0XFx0XFx0aW5kZXggPSBlbGVtLnNlbGVjdGVkSW5kZXgsXFxuXFx0XFx0XFx0XFx0XFx0b25lID0gZWxlbS50eXBlID09PSBcXFwic2VsZWN0LW9uZVxcXCIsXFxuXFx0XFx0XFx0XFx0XFx0dmFsdWVzID0gb25lID8gbnVsbCA6IFtdLFxcblxcdFxcdFxcdFxcdFxcdG1heCA9IG9uZSA/IGluZGV4ICsgMSA6IG9wdGlvbnMubGVuZ3RoO1xcblxcblxcdFxcdFxcdFxcdGlmICggaW5kZXggPCAwICkge1xcblxcdFxcdFxcdFxcdFxcdGkgPSBtYXg7XFxuXFxuXFx0XFx0XFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRcXHRcXHRpID0gb25lID8gaW5kZXggOiAwO1xcblxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHQvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBzZWxlY3RlZCBvcHRpb25zXFxuXFx0XFx0XFx0XFx0Zm9yICggOyBpIDwgbWF4OyBpKysgKSB7XFxuXFx0XFx0XFx0XFx0XFx0b3B0aW9uID0gb3B0aW9uc1sgaSBdO1xcblxcblxcdFxcdFxcdFxcdFxcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XFxuXFx0XFx0XFx0XFx0XFx0Ly8gSUU4LTkgZG9lc24ndCB1cGRhdGUgc2VsZWN0ZWQgYWZ0ZXIgZm9ybSByZXNldCAoIzI1NTEpXFxuXFx0XFx0XFx0XFx0XFx0aWYgKCAoIG9wdGlvbi5zZWxlY3RlZCB8fCBpID09PSBpbmRleCApICYmXFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0Ly8gRG9uJ3QgcmV0dXJuIG9wdGlvbnMgdGhhdCBhcmUgZGlzYWJsZWQgb3IgaW4gYSBkaXNhYmxlZCBvcHRncm91cFxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdCFvcHRpb24uZGlzYWJsZWQgJiZcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQoICFvcHRpb24ucGFyZW50Tm9kZS5kaXNhYmxlZCB8fFxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdCFqUXVlcnkubm9kZU5hbWUoIG9wdGlvbi5wYXJlbnROb2RlLCBcXFwib3B0Z3JvdXBcXFwiICkgKSApIHtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHQvLyBHZXQgdGhlIHNwZWNpZmljIHZhbHVlIGZvciB0aGUgb3B0aW9uXFxuXFx0XFx0XFx0XFx0XFx0XFx0dmFsdWUgPSBqUXVlcnkoIG9wdGlvbiApLnZhbCgpO1xcblxcblxcdFxcdFxcdFxcdFxcdFxcdC8vIFdlIGRvbid0IG5lZWQgYW4gYXJyYXkgZm9yIG9uZSBzZWxlY3RzXFxuXFx0XFx0XFx0XFx0XFx0XFx0aWYgKCBvbmUgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0cmV0dXJuIHZhbHVlO1xcblxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHQvLyBNdWx0aS1TZWxlY3RzIHJldHVybiBhbiBhcnJheVxcblxcdFxcdFxcdFxcdFxcdFxcdHZhbHVlcy5wdXNoKCB2YWx1ZSApO1xcblxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0cmV0dXJuIHZhbHVlcztcXG5cXHRcXHRcXHR9LFxcblxcblxcdFxcdFxcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xcblxcdFxcdFxcdFxcdHZhciBvcHRpb25TZXQsIG9wdGlvbixcXG5cXHRcXHRcXHRcXHRcXHRvcHRpb25zID0gZWxlbS5vcHRpb25zLFxcblxcdFxcdFxcdFxcdFxcdHZhbHVlcyA9IGpRdWVyeS5tYWtlQXJyYXkoIHZhbHVlICksXFxuXFx0XFx0XFx0XFx0XFx0aSA9IG9wdGlvbnMubGVuZ3RoO1xcblxcblxcdFxcdFxcdFxcdHdoaWxlICggaS0tICkge1xcblxcdFxcdFxcdFxcdFxcdG9wdGlvbiA9IG9wdGlvbnNbIGkgXTtcXG5cXG5cXHRcXHRcXHRcXHRcXHQvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25kLWFzc2lnbiAqL1xcblxcblxcdFxcdFxcdFxcdFxcdGlmICggb3B0aW9uLnNlbGVjdGVkID1cXG5cXHRcXHRcXHRcXHRcXHRcXHRqUXVlcnkuaW5BcnJheSggalF1ZXJ5LnZhbEhvb2tzLm9wdGlvbi5nZXQoIG9wdGlvbiApLCB2YWx1ZXMgKSA+IC0xXFxuXFx0XFx0XFx0XFx0XFx0KSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0b3B0aW9uU2V0ID0gdHJ1ZTtcXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0XFx0LyogZXNsaW50LWVuYWJsZSBuby1jb25kLWFzc2lnbiAqL1xcblxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHQvLyBGb3JjZSBicm93c2VycyB0byBiZWhhdmUgY29uc2lzdGVudGx5IHdoZW4gbm9uLW1hdGNoaW5nIHZhbHVlIGlzIHNldFxcblxcdFxcdFxcdFxcdGlmICggIW9wdGlvblNldCApIHtcXG5cXHRcXHRcXHRcXHRcXHRlbGVtLnNlbGVjdGVkSW5kZXggPSAtMTtcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0cmV0dXJuIHZhbHVlcztcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcdH1cXG59ICk7XFxuXFxuLy8gUmFkaW9zIGFuZCBjaGVja2JveGVzIGdldHRlci9zZXR0ZXJcXG5qUXVlcnkuZWFjaCggWyBcXFwicmFkaW9cXFwiLCBcXFwiY2hlY2tib3hcXFwiIF0sIGZ1bmN0aW9uKCkge1xcblxcdGpRdWVyeS52YWxIb29rc1sgdGhpcyBdID0ge1xcblxcdFxcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xcblxcdFxcdFxcdGlmICggalF1ZXJ5LmlzQXJyYXkoIHZhbHVlICkgKSB7XFxuXFx0XFx0XFx0XFx0cmV0dXJuICggZWxlbS5jaGVja2VkID0galF1ZXJ5LmluQXJyYXkoIGpRdWVyeSggZWxlbSApLnZhbCgpLCB2YWx1ZSApID4gLTEgKTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcdH07XFxuXFx0aWYgKCAhc3VwcG9ydC5jaGVja09uICkge1xcblxcdFxcdGpRdWVyeS52YWxIb29rc1sgdGhpcyBdLmdldCA9IGZ1bmN0aW9uKCBlbGVtICkge1xcblxcdFxcdFxcdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSggXFxcInZhbHVlXFxcIiApID09PSBudWxsID8gXFxcIm9uXFxcIiA6IGVsZW0udmFsdWU7XFxuXFx0XFx0fTtcXG5cXHR9XFxufSApO1xcblxcblxcblxcblxcbi8vIFJldHVybiBqUXVlcnkgZm9yIGF0dHJpYnV0ZXMtb25seSBpbmNsdXNpb25cXG5cXG5cXG52YXIgcmZvY3VzTW9ycGggPSAvXig/OmZvY3VzaW5mb2N1c3xmb2N1c291dGJsdXIpJC87XFxuXFxualF1ZXJ5LmV4dGVuZCggalF1ZXJ5LmV2ZW50LCB7XFxuXFxuXFx0dHJpZ2dlcjogZnVuY3Rpb24oIGV2ZW50LCBkYXRhLCBlbGVtLCBvbmx5SGFuZGxlcnMgKSB7XFxuXFxuXFx0XFx0dmFyIGksIGN1ciwgdG1wLCBidWJibGVUeXBlLCBvbnR5cGUsIGhhbmRsZSwgc3BlY2lhbCxcXG5cXHRcXHRcXHRldmVudFBhdGggPSBbIGVsZW0gfHwgZG9jdW1lbnQgXSxcXG5cXHRcXHRcXHR0eXBlID0gaGFzT3duLmNhbGwoIGV2ZW50LCBcXFwidHlwZVxcXCIgKSA/IGV2ZW50LnR5cGUgOiBldmVudCxcXG5cXHRcXHRcXHRuYW1lc3BhY2VzID0gaGFzT3duLmNhbGwoIGV2ZW50LCBcXFwibmFtZXNwYWNlXFxcIiApID8gZXZlbnQubmFtZXNwYWNlLnNwbGl0KCBcXFwiLlxcXCIgKSA6IFtdO1xcblxcblxcdFxcdGN1ciA9IHRtcCA9IGVsZW0gPSBlbGVtIHx8IGRvY3VtZW50O1xcblxcblxcdFxcdC8vIERvbid0IGRvIGV2ZW50cyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXFxuXFx0XFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggKSB7XFxuXFx0XFx0XFx0cmV0dXJuO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBmb2N1cy9ibHVyIG1vcnBocyB0byBmb2N1c2luL291dDsgZW5zdXJlIHdlJ3JlIG5vdCBmaXJpbmcgdGhlbSByaWdodCBub3dcXG5cXHRcXHRpZiAoIHJmb2N1c01vcnBoLnRlc3QoIHR5cGUgKyBqUXVlcnkuZXZlbnQudHJpZ2dlcmVkICkgKSB7XFxuXFx0XFx0XFx0cmV0dXJuO1xcblxcdFxcdH1cXG5cXG5cXHRcXHRpZiAoIHR5cGUuaW5kZXhPZiggXFxcIi5cXFwiICkgPiAtMSApIHtcXG5cXG5cXHRcXHRcXHQvLyBOYW1lc3BhY2VkIHRyaWdnZXI7IGNyZWF0ZSBhIHJlZ2V4cCB0byBtYXRjaCBldmVudCB0eXBlIGluIGhhbmRsZSgpXFxuXFx0XFx0XFx0bmFtZXNwYWNlcyA9IHR5cGUuc3BsaXQoIFxcXCIuXFxcIiApO1xcblxcdFxcdFxcdHR5cGUgPSBuYW1lc3BhY2VzLnNoaWZ0KCk7XFxuXFx0XFx0XFx0bmFtZXNwYWNlcy5zb3J0KCk7XFxuXFx0XFx0fVxcblxcdFxcdG9udHlwZSA9IHR5cGUuaW5kZXhPZiggXFxcIjpcXFwiICkgPCAwICYmIFxcXCJvblxcXCIgKyB0eXBlO1xcblxcblxcdFxcdC8vIENhbGxlciBjYW4gcGFzcyBpbiBhIGpRdWVyeS5FdmVudCBvYmplY3QsIE9iamVjdCwgb3IganVzdCBhbiBldmVudCB0eXBlIHN0cmluZ1xcblxcdFxcdGV2ZW50ID0gZXZlbnRbIGpRdWVyeS5leHBhbmRvIF0gP1xcblxcdFxcdFxcdGV2ZW50IDpcXG5cXHRcXHRcXHRuZXcgalF1ZXJ5LkV2ZW50KCB0eXBlLCB0eXBlb2YgZXZlbnQgPT09IFxcXCJvYmplY3RcXFwiICYmIGV2ZW50ICk7XFxuXFxuXFx0XFx0Ly8gVHJpZ2dlciBiaXRtYXNrOiAmIDEgZm9yIG5hdGl2ZSBoYW5kbGVyczsgJiAyIGZvciBqUXVlcnkgKGFsd2F5cyB0cnVlKVxcblxcdFxcdGV2ZW50LmlzVHJpZ2dlciA9IG9ubHlIYW5kbGVycyA/IDIgOiAzO1xcblxcdFxcdGV2ZW50Lm5hbWVzcGFjZSA9IG5hbWVzcGFjZXMuam9pbiggXFxcIi5cXFwiICk7XFxuXFx0XFx0ZXZlbnQucm5hbWVzcGFjZSA9IGV2ZW50Lm5hbWVzcGFjZSA/XFxuXFx0XFx0XFx0bmV3IFJlZ0V4cCggXFxcIihefFxcXFxcXFxcLilcXFwiICsgbmFtZXNwYWNlcy5qb2luKCBcXFwiXFxcXFxcXFwuKD86LipcXFxcXFxcXC58KVxcXCIgKSArIFxcXCIoXFxcXFxcXFwufCQpXFxcIiApIDpcXG5cXHRcXHRcXHRudWxsO1xcblxcblxcdFxcdC8vIENsZWFuIHVwIHRoZSBldmVudCBpbiBjYXNlIGl0IGlzIGJlaW5nIHJldXNlZFxcblxcdFxcdGV2ZW50LnJlc3VsdCA9IHVuZGVmaW5lZDtcXG5cXHRcXHRpZiAoICFldmVudC50YXJnZXQgKSB7XFxuXFx0XFx0XFx0ZXZlbnQudGFyZ2V0ID0gZWxlbTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gQ2xvbmUgYW55IGluY29taW5nIGRhdGEgYW5kIHByZXBlbmQgdGhlIGV2ZW50LCBjcmVhdGluZyB0aGUgaGFuZGxlciBhcmcgbGlzdFxcblxcdFxcdGRhdGEgPSBkYXRhID09IG51bGwgP1xcblxcdFxcdFxcdFsgZXZlbnQgXSA6XFxuXFx0XFx0XFx0alF1ZXJ5Lm1ha2VBcnJheSggZGF0YSwgWyBldmVudCBdICk7XFxuXFxuXFx0XFx0Ly8gQWxsb3cgc3BlY2lhbCBldmVudHMgdG8gZHJhdyBvdXRzaWRlIHRoZSBsaW5lc1xcblxcdFxcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xcblxcdFxcdGlmICggIW9ubHlIYW5kbGVycyAmJiBzcGVjaWFsLnRyaWdnZXIgJiYgc3BlY2lhbC50cmlnZ2VyLmFwcGx5KCBlbGVtLCBkYXRhICkgPT09IGZhbHNlICkge1xcblxcdFxcdFxcdHJldHVybjtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gRGV0ZXJtaW5lIGV2ZW50IHByb3BhZ2F0aW9uIHBhdGggaW4gYWR2YW5jZSwgcGVyIFczQyBldmVudHMgc3BlYyAoIzk5NTEpXFxuXFx0XFx0Ly8gQnViYmxlIHVwIHRvIGRvY3VtZW50LCB0aGVuIHRvIHdpbmRvdzsgd2F0Y2ggZm9yIGEgZ2xvYmFsIG93bmVyRG9jdW1lbnQgdmFyICgjOTcyNClcXG5cXHRcXHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgIXNwZWNpYWwubm9CdWJibGUgJiYgIWpRdWVyeS5pc1dpbmRvdyggZWxlbSApICkge1xcblxcblxcdFxcdFxcdGJ1YmJsZVR5cGUgPSBzcGVjaWFsLmRlbGVnYXRlVHlwZSB8fCB0eXBlO1xcblxcdFxcdFxcdGlmICggIXJmb2N1c01vcnBoLnRlc3QoIGJ1YmJsZVR5cGUgKyB0eXBlICkgKSB7XFxuXFx0XFx0XFx0XFx0Y3VyID0gY3VyLnBhcmVudE5vZGU7XFxuXFx0XFx0XFx0fVxcblxcdFxcdFxcdGZvciAoIDsgY3VyOyBjdXIgPSBjdXIucGFyZW50Tm9kZSApIHtcXG5cXHRcXHRcXHRcXHRldmVudFBhdGgucHVzaCggY3VyICk7XFxuXFx0XFx0XFx0XFx0dG1wID0gY3VyO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHQvLyBPbmx5IGFkZCB3aW5kb3cgaWYgd2UgZ290IHRvIGRvY3VtZW50IChlLmcuLCBub3QgcGxhaW4gb2JqIG9yIGRldGFjaGVkIERPTSlcXG5cXHRcXHRcXHRpZiAoIHRtcCA9PT0gKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQgKSApIHtcXG5cXHRcXHRcXHRcXHRldmVudFBhdGgucHVzaCggdG1wLmRlZmF1bHRWaWV3IHx8IHRtcC5wYXJlbnRXaW5kb3cgfHwgd2luZG93ICk7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBGaXJlIGhhbmRsZXJzIG9uIHRoZSBldmVudCBwYXRoXFxuXFx0XFx0aSA9IDA7XFxuXFx0XFx0d2hpbGUgKCAoIGN1ciA9IGV2ZW50UGF0aFsgaSsrIF0gKSAmJiAhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcXG5cXG5cXHRcXHRcXHRldmVudC50eXBlID0gaSA+IDEgP1xcblxcdFxcdFxcdFxcdGJ1YmJsZVR5cGUgOlxcblxcdFxcdFxcdFxcdHNwZWNpYWwuYmluZFR5cGUgfHwgdHlwZTtcXG5cXG5cXHRcXHRcXHQvLyBqUXVlcnkgaGFuZGxlclxcblxcdFxcdFxcdGhhbmRsZSA9ICggZGF0YVByaXYuZ2V0KCBjdXIsIFxcXCJldmVudHNcXFwiICkgfHwge30gKVsgZXZlbnQudHlwZSBdICYmXFxuXFx0XFx0XFx0XFx0ZGF0YVByaXYuZ2V0KCBjdXIsIFxcXCJoYW5kbGVcXFwiICk7XFxuXFx0XFx0XFx0aWYgKCBoYW5kbGUgKSB7XFxuXFx0XFx0XFx0XFx0aGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0Ly8gTmF0aXZlIGhhbmRsZXJcXG5cXHRcXHRcXHRoYW5kbGUgPSBvbnR5cGUgJiYgY3VyWyBvbnR5cGUgXTtcXG5cXHRcXHRcXHRpZiAoIGhhbmRsZSAmJiBoYW5kbGUuYXBwbHkgJiYgYWNjZXB0RGF0YSggY3VyICkgKSB7XFxuXFx0XFx0XFx0XFx0ZXZlbnQucmVzdWx0ID0gaGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTtcXG5cXHRcXHRcXHRcXHRpZiAoIGV2ZW50LnJlc3VsdCA9PT0gZmFsc2UgKSB7XFxuXFx0XFx0XFx0XFx0XFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXHRcXHRldmVudC50eXBlID0gdHlwZTtcXG5cXG5cXHRcXHQvLyBJZiBub2JvZHkgcHJldmVudGVkIHRoZSBkZWZhdWx0IGFjdGlvbiwgZG8gaXQgbm93XFxuXFx0XFx0aWYgKCAhb25seUhhbmRsZXJzICYmICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHtcXG5cXG5cXHRcXHRcXHRpZiAoICggIXNwZWNpYWwuX2RlZmF1bHQgfHxcXG5cXHRcXHRcXHRcXHRzcGVjaWFsLl9kZWZhdWx0LmFwcGx5KCBldmVudFBhdGgucG9wKCksIGRhdGEgKSA9PT0gZmFsc2UgKSAmJlxcblxcdFxcdFxcdFxcdGFjY2VwdERhdGEoIGVsZW0gKSApIHtcXG5cXG5cXHRcXHRcXHRcXHQvLyBDYWxsIGEgbmF0aXZlIERPTSBtZXRob2Qgb24gdGhlIHRhcmdldCB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgdGhlIGV2ZW50LlxcblxcdFxcdFxcdFxcdC8vIERvbid0IGRvIGRlZmF1bHQgYWN0aW9ucyBvbiB3aW5kb3csIHRoYXQncyB3aGVyZSBnbG9iYWwgdmFyaWFibGVzIGJlICgjNjE3MClcXG5cXHRcXHRcXHRcXHRpZiAoIG9udHlwZSAmJiBqUXVlcnkuaXNGdW5jdGlvbiggZWxlbVsgdHlwZSBdICkgJiYgIWpRdWVyeS5pc1dpbmRvdyggZWxlbSApICkge1xcblxcblxcdFxcdFxcdFxcdFxcdC8vIERvbid0IHJlLXRyaWdnZXIgYW4gb25GT08gZXZlbnQgd2hlbiB3ZSBjYWxsIGl0cyBGT08oKSBtZXRob2RcXG5cXHRcXHRcXHRcXHRcXHR0bXAgPSBlbGVtWyBvbnR5cGUgXTtcXG5cXG5cXHRcXHRcXHRcXHRcXHRpZiAoIHRtcCApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRlbGVtWyBvbnR5cGUgXSA9IG51bGw7XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdFxcdFxcdC8vIFByZXZlbnQgcmUtdHJpZ2dlcmluZyBvZiB0aGUgc2FtZSBldmVudCwgc2luY2Ugd2UgYWxyZWFkeSBidWJibGVkIGl0IGFib3ZlXFxuXFx0XFx0XFx0XFx0XFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCA9IHR5cGU7XFxuXFx0XFx0XFx0XFx0XFx0ZWxlbVsgdHlwZSBdKCk7XFxuXFx0XFx0XFx0XFx0XFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCA9IHVuZGVmaW5lZDtcXG5cXG5cXHRcXHRcXHRcXHRcXHRpZiAoIHRtcCApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRlbGVtWyBvbnR5cGUgXSA9IHRtcDtcXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH1cXG5cXHRcXHR9XFxuXFxuXFx0XFx0cmV0dXJuIGV2ZW50LnJlc3VsdDtcXG5cXHR9LFxcblxcblxcdC8vIFBpZ2d5YmFjayBvbiBhIGRvbm9yIGV2ZW50IHRvIHNpbXVsYXRlIGEgZGlmZmVyZW50IG9uZVxcblxcdC8vIFVzZWQgb25seSBmb3IgYGZvY3VzKGluIHwgb3V0KWAgZXZlbnRzXFxuXFx0c2ltdWxhdGU6IGZ1bmN0aW9uKCB0eXBlLCBlbGVtLCBldmVudCApIHtcXG5cXHRcXHR2YXIgZSA9IGpRdWVyeS5leHRlbmQoXFxuXFx0XFx0XFx0bmV3IGpRdWVyeS5FdmVudCgpLFxcblxcdFxcdFxcdGV2ZW50LFxcblxcdFxcdFxcdHtcXG5cXHRcXHRcXHRcXHR0eXBlOiB0eXBlLFxcblxcdFxcdFxcdFxcdGlzU2ltdWxhdGVkOiB0cnVlXFxuXFx0XFx0XFx0fVxcblxcdFxcdCk7XFxuXFxuXFx0XFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIGUsIG51bGwsIGVsZW0gKTtcXG5cXHR9XFxuXFxufSApO1xcblxcbmpRdWVyeS5mbi5leHRlbmQoIHtcXG5cXG5cXHR0cmlnZ2VyOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcXG5cXHRcXHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHRqUXVlcnkuZXZlbnQudHJpZ2dlciggdHlwZSwgZGF0YSwgdGhpcyApO1xcblxcdFxcdH0gKTtcXG5cXHR9LFxcblxcdHRyaWdnZXJIYW5kbGVyOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcXG5cXHRcXHR2YXIgZWxlbSA9IHRoaXNbIDAgXTtcXG5cXHRcXHRpZiAoIGVsZW0gKSB7XFxuXFx0XFx0XFx0cmV0dXJuIGpRdWVyeS5ldmVudC50cmlnZ2VyKCB0eXBlLCBkYXRhLCBlbGVtLCB0cnVlICk7XFxuXFx0XFx0fVxcblxcdH1cXG59ICk7XFxuXFxuXFxualF1ZXJ5LmVhY2goICggXFxcImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCByZXNpemUgc2Nyb2xsIGNsaWNrIGRibGNsaWNrIFxcXCIgK1xcblxcdFxcXCJtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBcXFwiICtcXG5cXHRcXFwiY2hhbmdlIHNlbGVjdCBzdWJtaXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBjb250ZXh0bWVudVxcXCIgKS5zcGxpdCggXFxcIiBcXFwiICksXFxuXFx0ZnVuY3Rpb24oIGksIG5hbWUgKSB7XFxuXFxuXFx0Ly8gSGFuZGxlIGV2ZW50IGJpbmRpbmdcXG5cXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBkYXRhLCBmbiApIHtcXG5cXHRcXHRyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDAgP1xcblxcdFxcdFxcdHRoaXMub24oIG5hbWUsIG51bGwsIGRhdGEsIGZuICkgOlxcblxcdFxcdFxcdHRoaXMudHJpZ2dlciggbmFtZSApO1xcblxcdH07XFxufSApO1xcblxcbmpRdWVyeS5mbi5leHRlbmQoIHtcXG5cXHRob3ZlcjogZnVuY3Rpb24oIGZuT3ZlciwgZm5PdXQgKSB7XFxuXFx0XFx0cmV0dXJuIHRoaXMubW91c2VlbnRlciggZm5PdmVyICkubW91c2VsZWF2ZSggZm5PdXQgfHwgZm5PdmVyICk7XFxuXFx0fVxcbn0gKTtcXG5cXG5cXG5cXG5cXG5zdXBwb3J0LmZvY3VzaW4gPSBcXFwib25mb2N1c2luXFxcIiBpbiB3aW5kb3c7XFxuXFxuXFxuLy8gU3VwcG9ydDogRmlyZWZveCA8PTQ0XFxuLy8gRmlyZWZveCBkb2Vzbid0IGhhdmUgZm9jdXMoaW4gfCBvdXQpIGV2ZW50c1xcbi8vIFJlbGF0ZWQgdGlja2V0IC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njg3Nzg3XFxuLy9cXG4vLyBTdXBwb3J0OiBDaHJvbWUgPD00OCAtIDQ5LCBTYWZhcmkgPD05LjAgLSA5LjFcXG4vLyBmb2N1cyhpbiB8IG91dCkgZXZlbnRzIGZpcmUgYWZ0ZXIgZm9jdXMgJiBibHVyIGV2ZW50cyxcXG4vLyB3aGljaCBpcyBzcGVjIHZpb2xhdGlvbiAtIGh0dHA6Ly93d3cudzMub3JnL1RSL0RPTS1MZXZlbC0zLUV2ZW50cy8jZXZlbnRzLWZvY3VzZXZlbnQtZXZlbnQtb3JkZXJcXG4vLyBSZWxhdGVkIHRpY2tldCAtIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ0OTg1N1xcbmlmICggIXN1cHBvcnQuZm9jdXNpbiApIHtcXG5cXHRqUXVlcnkuZWFjaCggeyBmb2N1czogXFxcImZvY3VzaW5cXFwiLCBibHVyOiBcXFwiZm9jdXNvdXRcXFwiIH0sIGZ1bmN0aW9uKCBvcmlnLCBmaXggKSB7XFxuXFxuXFx0XFx0Ly8gQXR0YWNoIGEgc2luZ2xlIGNhcHR1cmluZyBoYW5kbGVyIG9uIHRoZSBkb2N1bWVudCB3aGlsZSBzb21lb25lIHdhbnRzIGZvY3VzaW4vZm9jdXNvdXRcXG5cXHRcXHR2YXIgaGFuZGxlciA9IGZ1bmN0aW9uKCBldmVudCApIHtcXG5cXHRcXHRcXHRqUXVlcnkuZXZlbnQuc2ltdWxhdGUoIGZpeCwgZXZlbnQudGFyZ2V0LCBqUXVlcnkuZXZlbnQuZml4KCBldmVudCApICk7XFxuXFx0XFx0fTtcXG5cXG5cXHRcXHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZml4IF0gPSB7XFxuXFx0XFx0XFx0c2V0dXA6IGZ1bmN0aW9uKCkge1xcblxcdFxcdFxcdFxcdHZhciBkb2MgPSB0aGlzLm93bmVyRG9jdW1lbnQgfHwgdGhpcyxcXG5cXHRcXHRcXHRcXHRcXHRhdHRhY2hlcyA9IGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXggKTtcXG5cXG5cXHRcXHRcXHRcXHRpZiAoICFhdHRhY2hlcyApIHtcXG5cXHRcXHRcXHRcXHRcXHRkb2MuYWRkRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApO1xcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4LCAoIGF0dGFjaGVzIHx8IDAgKSArIDEgKTtcXG5cXHRcXHRcXHR9LFxcblxcdFxcdFxcdHRlYXJkb3duOiBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHRcXHR2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMsXFxuXFx0XFx0XFx0XFx0XFx0YXR0YWNoZXMgPSBkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4ICkgLSAxO1xcblxcblxcdFxcdFxcdFxcdGlmICggIWF0dGFjaGVzICkge1xcblxcdFxcdFxcdFxcdFxcdGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKCBvcmlnLCBoYW5kbGVyLCB0cnVlICk7XFxuXFx0XFx0XFx0XFx0XFx0ZGF0YVByaXYucmVtb3ZlKCBkb2MsIGZpeCApO1xcblxcblxcdFxcdFxcdFxcdH0gZWxzZSB7XFxuXFx0XFx0XFx0XFx0XFx0ZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCwgYXR0YWNoZXMgKTtcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fVxcblxcdFxcdH07XFxuXFx0fSApO1xcbn1cXG52YXIgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XFxuXFxudmFyIG5vbmNlID0galF1ZXJ5Lm5vdygpO1xcblxcbnZhciBycXVlcnkgPSAoIC9cXFxcPy8gKTtcXG5cXG5cXG5cXG4vLyBDcm9zcy1icm93c2VyIHhtbCBwYXJzaW5nXFxualF1ZXJ5LnBhcnNlWE1MID0gZnVuY3Rpb24oIGRhdGEgKSB7XFxuXFx0dmFyIHhtbDtcXG5cXHRpZiAoICFkYXRhIHx8IHR5cGVvZiBkYXRhICE9PSBcXFwic3RyaW5nXFxcIiApIHtcXG5cXHRcXHRyZXR1cm4gbnVsbDtcXG5cXHR9XFxuXFxuXFx0Ly8gU3VwcG9ydDogSUUgOSAtIDExIG9ubHlcXG5cXHQvLyBJRSB0aHJvd3Mgb24gcGFyc2VGcm9tU3RyaW5nIHdpdGggaW52YWxpZCBpbnB1dC5cXG5cXHR0cnkge1xcblxcdFxcdHhtbCA9ICggbmV3IHdpbmRvdy5ET01QYXJzZXIoKSApLnBhcnNlRnJvbVN0cmluZyggZGF0YSwgXFxcInRleHQveG1sXFxcIiApO1xcblxcdH0gY2F0Y2ggKCBlICkge1xcblxcdFxcdHhtbCA9IHVuZGVmaW5lZDtcXG5cXHR9XFxuXFxuXFx0aWYgKCAheG1sIHx8IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSggXFxcInBhcnNlcmVycm9yXFxcIiApLmxlbmd0aCApIHtcXG5cXHRcXHRqUXVlcnkuZXJyb3IoIFxcXCJJbnZhbGlkIFhNTDogXFxcIiArIGRhdGEgKTtcXG5cXHR9XFxuXFx0cmV0dXJuIHhtbDtcXG59O1xcblxcblxcbnZhclxcblxcdHJicmFja2V0ID0gL1xcXFxbXFxcXF0kLyxcXG5cXHRyQ1JMRiA9IC9cXFxccj9cXFxcbi9nLFxcblxcdHJzdWJtaXR0ZXJUeXBlcyA9IC9eKD86c3VibWl0fGJ1dHRvbnxpbWFnZXxyZXNldHxmaWxlKSQvaSxcXG5cXHRyc3VibWl0dGFibGUgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7XFxuXFxuZnVuY3Rpb24gYnVpbGRQYXJhbXMoIHByZWZpeCwgb2JqLCB0cmFkaXRpb25hbCwgYWRkICkge1xcblxcdHZhciBuYW1lO1xcblxcblxcdGlmICggalF1ZXJ5LmlzQXJyYXkoIG9iaiApICkge1xcblxcblxcdFxcdC8vIFNlcmlhbGl6ZSBhcnJheSBpdGVtLlxcblxcdFxcdGpRdWVyeS5lYWNoKCBvYmosIGZ1bmN0aW9uKCBpLCB2ICkge1xcblxcdFxcdFxcdGlmICggdHJhZGl0aW9uYWwgfHwgcmJyYWNrZXQudGVzdCggcHJlZml4ICkgKSB7XFxuXFxuXFx0XFx0XFx0XFx0Ly8gVHJlYXQgZWFjaCBhcnJheSBpdGVtIGFzIGEgc2NhbGFyLlxcblxcdFxcdFxcdFxcdGFkZCggcHJlZml4LCB2ICk7XFxuXFxuXFx0XFx0XFx0fSBlbHNlIHtcXG5cXG5cXHRcXHRcXHRcXHQvLyBJdGVtIGlzIG5vbi1zY2FsYXIgKGFycmF5IG9yIG9iamVjdCksIGVuY29kZSBpdHMgbnVtZXJpYyBpbmRleC5cXG5cXHRcXHRcXHRcXHRidWlsZFBhcmFtcyhcXG5cXHRcXHRcXHRcXHRcXHRwcmVmaXggKyBcXFwiW1xcXCIgKyAoIHR5cGVvZiB2ID09PSBcXFwib2JqZWN0XFxcIiAmJiB2ICE9IG51bGwgPyBpIDogXFxcIlxcXCIgKSArIFxcXCJdXFxcIixcXG5cXHRcXHRcXHRcXHRcXHR2LFxcblxcdFxcdFxcdFxcdFxcdHRyYWRpdGlvbmFsLFxcblxcdFxcdFxcdFxcdFxcdGFkZFxcblxcdFxcdFxcdFxcdCk7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH0gKTtcXG5cXG5cXHR9IGVsc2UgaWYgKCAhdHJhZGl0aW9uYWwgJiYgalF1ZXJ5LnR5cGUoIG9iaiApID09PSBcXFwib2JqZWN0XFxcIiApIHtcXG5cXG5cXHRcXHQvLyBTZXJpYWxpemUgb2JqZWN0IGl0ZW0uXFxuXFx0XFx0Zm9yICggbmFtZSBpbiBvYmogKSB7XFxuXFx0XFx0XFx0YnVpbGRQYXJhbXMoIHByZWZpeCArIFxcXCJbXFxcIiArIG5hbWUgKyBcXFwiXVxcXCIsIG9ialsgbmFtZSBdLCB0cmFkaXRpb25hbCwgYWRkICk7XFxuXFx0XFx0fVxcblxcblxcdH0gZWxzZSB7XFxuXFxuXFx0XFx0Ly8gU2VyaWFsaXplIHNjYWxhciBpdGVtLlxcblxcdFxcdGFkZCggcHJlZml4LCBvYmogKTtcXG5cXHR9XFxufVxcblxcbi8vIFNlcmlhbGl6ZSBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzIG9yIGEgc2V0IG9mXFxuLy8ga2V5L3ZhbHVlcyBpbnRvIGEgcXVlcnkgc3RyaW5nXFxualF1ZXJ5LnBhcmFtID0gZnVuY3Rpb24oIGEsIHRyYWRpdGlvbmFsICkge1xcblxcdHZhciBwcmVmaXgsXFxuXFx0XFx0cyA9IFtdLFxcblxcdFxcdGFkZCA9IGZ1bmN0aW9uKCBrZXksIHZhbHVlT3JGdW5jdGlvbiApIHtcXG5cXG5cXHRcXHRcXHQvLyBJZiB2YWx1ZSBpcyBhIGZ1bmN0aW9uLCBpbnZva2UgaXQgYW5kIHVzZSBpdHMgcmV0dXJuIHZhbHVlXFxuXFx0XFx0XFx0dmFyIHZhbHVlID0galF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlT3JGdW5jdGlvbiApID9cXG5cXHRcXHRcXHRcXHR2YWx1ZU9yRnVuY3Rpb24oKSA6XFxuXFx0XFx0XFx0XFx0dmFsdWVPckZ1bmN0aW9uO1xcblxcblxcdFxcdFxcdHNbIHMubGVuZ3RoIF0gPSBlbmNvZGVVUklDb21wb25lbnQoIGtleSApICsgXFxcIj1cXFwiICtcXG5cXHRcXHRcXHRcXHRlbmNvZGVVUklDb21wb25lbnQoIHZhbHVlID09IG51bGwgPyBcXFwiXFxcIiA6IHZhbHVlICk7XFxuXFx0XFx0fTtcXG5cXG5cXHQvLyBJZiBhbiBhcnJheSB3YXMgcGFzc2VkIGluLCBhc3N1bWUgdGhhdCBpdCBpcyBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzLlxcblxcdGlmICggalF1ZXJ5LmlzQXJyYXkoIGEgKSB8fCAoIGEuanF1ZXJ5ICYmICFqUXVlcnkuaXNQbGFpbk9iamVjdCggYSApICkgKSB7XFxuXFxuXFx0XFx0Ly8gU2VyaWFsaXplIHRoZSBmb3JtIGVsZW1lbnRzXFxuXFx0XFx0alF1ZXJ5LmVhY2goIGEsIGZ1bmN0aW9uKCkge1xcblxcdFxcdFxcdGFkZCggdGhpcy5uYW1lLCB0aGlzLnZhbHVlICk7XFxuXFx0XFx0fSApO1xcblxcblxcdH0gZWxzZSB7XFxuXFxuXFx0XFx0Ly8gSWYgdHJhZGl0aW9uYWwsIGVuY29kZSB0aGUgXFxcIm9sZFxcXCIgd2F5ICh0aGUgd2F5IDEuMy4yIG9yIG9sZGVyXFxuXFx0XFx0Ly8gZGlkIGl0KSwgb3RoZXJ3aXNlIGVuY29kZSBwYXJhbXMgcmVjdXJzaXZlbHkuXFxuXFx0XFx0Zm9yICggcHJlZml4IGluIGEgKSB7XFxuXFx0XFx0XFx0YnVpbGRQYXJhbXMoIHByZWZpeCwgYVsgcHJlZml4IF0sIHRyYWRpdGlvbmFsLCBhZGQgKTtcXG5cXHRcXHR9XFxuXFx0fVxcblxcblxcdC8vIFJldHVybiB0aGUgcmVzdWx0aW5nIHNlcmlhbGl6YXRpb25cXG5cXHRyZXR1cm4gcy5qb2luKCBcXFwiJlxcXCIgKTtcXG59O1xcblxcbmpRdWVyeS5mbi5leHRlbmQoIHtcXG5cXHRzZXJpYWxpemU6IGZ1bmN0aW9uKCkge1xcblxcdFxcdHJldHVybiBqUXVlcnkucGFyYW0oIHRoaXMuc2VyaWFsaXplQXJyYXkoKSApO1xcblxcdH0sXFxuXFx0c2VyaWFsaXplQXJyYXk6IGZ1bmN0aW9uKCkge1xcblxcdFxcdHJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7XFxuXFxuXFx0XFx0XFx0Ly8gQ2FuIGFkZCBwcm9wSG9vayBmb3IgXFxcImVsZW1lbnRzXFxcIiB0byBmaWx0ZXIgb3IgYWRkIGZvcm0gZWxlbWVudHNcXG5cXHRcXHRcXHR2YXIgZWxlbWVudHMgPSBqUXVlcnkucHJvcCggdGhpcywgXFxcImVsZW1lbnRzXFxcIiApO1xcblxcdFxcdFxcdHJldHVybiBlbGVtZW50cyA/IGpRdWVyeS5tYWtlQXJyYXkoIGVsZW1lbnRzICkgOiB0aGlzO1xcblxcdFxcdH0gKVxcblxcdFxcdC5maWx0ZXIoIGZ1bmN0aW9uKCkge1xcblxcdFxcdFxcdHZhciB0eXBlID0gdGhpcy50eXBlO1xcblxcblxcdFxcdFxcdC8vIFVzZSAuaXMoIFxcXCI6ZGlzYWJsZWRcXFwiICkgc28gdGhhdCBmaWVsZHNldFtkaXNhYmxlZF0gd29ya3NcXG5cXHRcXHRcXHRyZXR1cm4gdGhpcy5uYW1lICYmICFqUXVlcnkoIHRoaXMgKS5pcyggXFxcIjpkaXNhYmxlZFxcXCIgKSAmJlxcblxcdFxcdFxcdFxcdHJzdWJtaXR0YWJsZS50ZXN0KCB0aGlzLm5vZGVOYW1lICkgJiYgIXJzdWJtaXR0ZXJUeXBlcy50ZXN0KCB0eXBlICkgJiZcXG5cXHRcXHRcXHRcXHQoIHRoaXMuY2hlY2tlZCB8fCAhcmNoZWNrYWJsZVR5cGUudGVzdCggdHlwZSApICk7XFxuXFx0XFx0fSApXFxuXFx0XFx0Lm1hcCggZnVuY3Rpb24oIGksIGVsZW0gKSB7XFxuXFx0XFx0XFx0dmFyIHZhbCA9IGpRdWVyeSggdGhpcyApLnZhbCgpO1xcblxcblxcdFxcdFxcdGlmICggdmFsID09IG51bGwgKSB7XFxuXFx0XFx0XFx0XFx0cmV0dXJuIG51bGw7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdGlmICggalF1ZXJ5LmlzQXJyYXkoIHZhbCApICkge1xcblxcdFxcdFxcdFxcdHJldHVybiBqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWwgKSB7XFxuXFx0XFx0XFx0XFx0XFx0cmV0dXJuIHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcXFwiXFxcXHJcXFxcblxcXCIgKSB9O1xcblxcdFxcdFxcdFxcdH0gKTtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0cmV0dXJuIHsgbmFtZTogZWxlbS5uYW1lLCB2YWx1ZTogdmFsLnJlcGxhY2UoIHJDUkxGLCBcXFwiXFxcXHJcXFxcblxcXCIgKSB9O1xcblxcdFxcdH0gKS5nZXQoKTtcXG5cXHR9XFxufSApO1xcblxcblxcbnZhclxcblxcdHIyMCA9IC8lMjAvZyxcXG5cXHRyaGFzaCA9IC8jLiokLyxcXG5cXHRyYW50aUNhY2hlID0gLyhbPyZdKV89W14mXSovLFxcblxcdHJoZWFkZXJzID0gL14oLio/KTpbIFxcXFx0XSooW15cXFxcclxcXFxuXSopJC9tZyxcXG5cXG5cXHQvLyAjNzY1MywgIzgxMjUsICM4MTUyOiBsb2NhbCBwcm90b2NvbCBkZXRlY3Rpb25cXG5cXHRybG9jYWxQcm90b2NvbCA9IC9eKD86YWJvdXR8YXBwfGFwcC1zdG9yYWdlfC4rLWV4dGVuc2lvbnxmaWxlfHJlc3x3aWRnZXQpOiQvLFxcblxcdHJub0NvbnRlbnQgPSAvXig/OkdFVHxIRUFEKSQvLFxcblxcdHJwcm90b2NvbCA9IC9eXFxcXC9cXFxcLy8sXFxuXFxuXFx0LyogUHJlZmlsdGVyc1xcblxcdCAqIDEpIFRoZXkgYXJlIHVzZWZ1bCB0byBpbnRyb2R1Y2UgY3VzdG9tIGRhdGFUeXBlcyAoc2VlIGFqYXgvanNvbnAuanMgZm9yIGFuIGV4YW1wbGUpXFxuXFx0ICogMikgVGhlc2UgYXJlIGNhbGxlZDpcXG5cXHQgKiAgICAtIEJFRk9SRSBhc2tpbmcgZm9yIGEgdHJhbnNwb3J0XFxuXFx0ICogICAgLSBBRlRFUiBwYXJhbSBzZXJpYWxpemF0aW9uIChzLmRhdGEgaXMgYSBzdHJpbmcgaWYgcy5wcm9jZXNzRGF0YSBpcyB0cnVlKVxcblxcdCAqIDMpIGtleSBpcyB0aGUgZGF0YVR5cGVcXG5cXHQgKiA0KSB0aGUgY2F0Y2hhbGwgc3ltYm9sIFxcXCIqXFxcIiBjYW4gYmUgdXNlZFxcblxcdCAqIDUpIGV4ZWN1dGlvbiB3aWxsIHN0YXJ0IHdpdGggdHJhbnNwb3J0IGRhdGFUeXBlIGFuZCBUSEVOIGNvbnRpbnVlIGRvd24gdG8gXFxcIipcXFwiIGlmIG5lZWRlZFxcblxcdCAqL1xcblxcdHByZWZpbHRlcnMgPSB7fSxcXG5cXG5cXHQvKiBUcmFuc3BvcnRzIGJpbmRpbmdzXFxuXFx0ICogMSkga2V5IGlzIHRoZSBkYXRhVHlwZVxcblxcdCAqIDIpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXFxcIipcXFwiIGNhbiBiZSB1c2VkXFxuXFx0ICogMykgc2VsZWN0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gZ28gdG8gXFxcIipcXFwiIGlmIG5lZWRlZFxcblxcdCAqL1xcblxcdHRyYW5zcG9ydHMgPSB7fSxcXG5cXG5cXHQvLyBBdm9pZCBjb21tZW50LXByb2xvZyBjaGFyIHNlcXVlbmNlICgjMTAwOTgpOyBtdXN0IGFwcGVhc2UgbGludCBhbmQgZXZhZGUgY29tcHJlc3Npb25cXG5cXHRhbGxUeXBlcyA9IFxcXCIqL1xcXCIuY29uY2F0KCBcXFwiKlxcXCIgKSxcXG5cXG5cXHQvLyBBbmNob3IgdGFnIGZvciBwYXJzaW5nIHRoZSBkb2N1bWVudCBvcmlnaW5cXG5cXHRvcmlnaW5BbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcXFwiYVxcXCIgKTtcXG5cXHRvcmlnaW5BbmNob3IuaHJlZiA9IGxvY2F0aW9uLmhyZWY7XFxuXFxuLy8gQmFzZSBcXFwiY29uc3RydWN0b3JcXFwiIGZvciBqUXVlcnkuYWpheFByZWZpbHRlciBhbmQgalF1ZXJ5LmFqYXhUcmFuc3BvcnRcXG5mdW5jdGlvbiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHN0cnVjdHVyZSApIHtcXG5cXG5cXHQvLyBkYXRhVHlwZUV4cHJlc3Npb24gaXMgb3B0aW9uYWwgYW5kIGRlZmF1bHRzIHRvIFxcXCIqXFxcIlxcblxcdHJldHVybiBmdW5jdGlvbiggZGF0YVR5cGVFeHByZXNzaW9uLCBmdW5jICkge1xcblxcblxcdFxcdGlmICggdHlwZW9mIGRhdGFUeXBlRXhwcmVzc2lvbiAhPT0gXFxcInN0cmluZ1xcXCIgKSB7XFxuXFx0XFx0XFx0ZnVuYyA9IGRhdGFUeXBlRXhwcmVzc2lvbjtcXG5cXHRcXHRcXHRkYXRhVHlwZUV4cHJlc3Npb24gPSBcXFwiKlxcXCI7XFxuXFx0XFx0fVxcblxcblxcdFxcdHZhciBkYXRhVHlwZSxcXG5cXHRcXHRcXHRpID0gMCxcXG5cXHRcXHRcXHRkYXRhVHlwZXMgPSBkYXRhVHlwZUV4cHJlc3Npb24udG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdO1xcblxcblxcdFxcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGZ1bmMgKSApIHtcXG5cXG5cXHRcXHRcXHQvLyBGb3IgZWFjaCBkYXRhVHlwZSBpbiB0aGUgZGF0YVR5cGVFeHByZXNzaW9uXFxuXFx0XFx0XFx0d2hpbGUgKCAoIGRhdGFUeXBlID0gZGF0YVR5cGVzWyBpKysgXSApICkge1xcblxcblxcdFxcdFxcdFxcdC8vIFByZXBlbmQgaWYgcmVxdWVzdGVkXFxuXFx0XFx0XFx0XFx0aWYgKCBkYXRhVHlwZVsgMCBdID09PSBcXFwiK1xcXCIgKSB7XFxuXFx0XFx0XFx0XFx0XFx0ZGF0YVR5cGUgPSBkYXRhVHlwZS5zbGljZSggMSApIHx8IFxcXCIqXFxcIjtcXG5cXHRcXHRcXHRcXHRcXHQoIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSA9IHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSApLnVuc2hpZnQoIGZ1bmMgKTtcXG5cXG5cXHRcXHRcXHRcXHQvLyBPdGhlcndpc2UgYXBwZW5kXFxuXFx0XFx0XFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRcXHRcXHQoIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSA9IHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSApLnB1c2goIGZ1bmMgKTtcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXHR9O1xcbn1cXG5cXG4vLyBCYXNlIGluc3BlY3Rpb24gZnVuY3Rpb24gZm9yIHByZWZpbHRlcnMgYW5kIHRyYW5zcG9ydHNcXG5mdW5jdGlvbiBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggc3RydWN0dXJlLCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMsIGpxWEhSICkge1xcblxcblxcdHZhciBpbnNwZWN0ZWQgPSB7fSxcXG5cXHRcXHRzZWVraW5nVHJhbnNwb3J0ID0gKCBzdHJ1Y3R1cmUgPT09IHRyYW5zcG9ydHMgKTtcXG5cXG5cXHRmdW5jdGlvbiBpbnNwZWN0KCBkYXRhVHlwZSApIHtcXG5cXHRcXHR2YXIgc2VsZWN0ZWQ7XFxuXFx0XFx0aW5zcGVjdGVkWyBkYXRhVHlwZSBdID0gdHJ1ZTtcXG5cXHRcXHRqUXVlcnkuZWFjaCggc3RydWN0dXJlWyBkYXRhVHlwZSBdIHx8IFtdLCBmdW5jdGlvbiggXywgcHJlZmlsdGVyT3JGYWN0b3J5ICkge1xcblxcdFxcdFxcdHZhciBkYXRhVHlwZU9yVHJhbnNwb3J0ID0gcHJlZmlsdGVyT3JGYWN0b3J5KCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMsIGpxWEhSICk7XFxuXFx0XFx0XFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVPclRyYW5zcG9ydCA9PT0gXFxcInN0cmluZ1xcXCIgJiZcXG5cXHRcXHRcXHRcXHQhc2Vla2luZ1RyYW5zcG9ydCAmJiAhaW5zcGVjdGVkWyBkYXRhVHlwZU9yVHJhbnNwb3J0IF0gKSB7XFxuXFxuXFx0XFx0XFx0XFx0b3B0aW9ucy5kYXRhVHlwZXMudW5zaGlmdCggZGF0YVR5cGVPclRyYW5zcG9ydCApO1xcblxcdFxcdFxcdFxcdGluc3BlY3QoIGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcXG5cXHRcXHRcXHRcXHRyZXR1cm4gZmFsc2U7XFxuXFx0XFx0XFx0fSBlbHNlIGlmICggc2Vla2luZ1RyYW5zcG9ydCApIHtcXG5cXHRcXHRcXHRcXHRyZXR1cm4gISggc2VsZWN0ZWQgPSBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH0gKTtcXG5cXHRcXHRyZXR1cm4gc2VsZWN0ZWQ7XFxuXFx0fVxcblxcblxcdHJldHVybiBpbnNwZWN0KCBvcHRpb25zLmRhdGFUeXBlc1sgMCBdICkgfHwgIWluc3BlY3RlZFsgXFxcIipcXFwiIF0gJiYgaW5zcGVjdCggXFxcIipcXFwiICk7XFxufVxcblxcbi8vIEEgc3BlY2lhbCBleHRlbmQgZm9yIGFqYXggb3B0aW9uc1xcbi8vIHRoYXQgdGFrZXMgXFxcImZsYXRcXFwiIG9wdGlvbnMgKG5vdCB0byBiZSBkZWVwIGV4dGVuZGVkKVxcbi8vIEZpeGVzICM5ODg3XFxuZnVuY3Rpb24gYWpheEV4dGVuZCggdGFyZ2V0LCBzcmMgKSB7XFxuXFx0dmFyIGtleSwgZGVlcCxcXG5cXHRcXHRmbGF0T3B0aW9ucyA9IGpRdWVyeS5hamF4U2V0dGluZ3MuZmxhdE9wdGlvbnMgfHwge307XFxuXFxuXFx0Zm9yICgga2V5IGluIHNyYyApIHtcXG5cXHRcXHRpZiAoIHNyY1sga2V5IF0gIT09IHVuZGVmaW5lZCApIHtcXG5cXHRcXHRcXHQoIGZsYXRPcHRpb25zWyBrZXkgXSA/IHRhcmdldCA6ICggZGVlcCB8fCAoIGRlZXAgPSB7fSApICkgKVsga2V5IF0gPSBzcmNbIGtleSBdO1xcblxcdFxcdH1cXG5cXHR9XFxuXFx0aWYgKCBkZWVwICkge1xcblxcdFxcdGpRdWVyeS5leHRlbmQoIHRydWUsIHRhcmdldCwgZGVlcCApO1xcblxcdH1cXG5cXG5cXHRyZXR1cm4gdGFyZ2V0O1xcbn1cXG5cXG4vKiBIYW5kbGVzIHJlc3BvbnNlcyB0byBhbiBhamF4IHJlcXVlc3Q6XFxuICogLSBmaW5kcyB0aGUgcmlnaHQgZGF0YVR5cGUgKG1lZGlhdGVzIGJldHdlZW4gY29udGVudC10eXBlIGFuZCBleHBlY3RlZCBkYXRhVHlwZSlcXG4gKiAtIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2VcXG4gKi9cXG5mdW5jdGlvbiBhamF4SGFuZGxlUmVzcG9uc2VzKCBzLCBqcVhIUiwgcmVzcG9uc2VzICkge1xcblxcblxcdHZhciBjdCwgdHlwZSwgZmluYWxEYXRhVHlwZSwgZmlyc3REYXRhVHlwZSxcXG5cXHRcXHRjb250ZW50cyA9IHMuY29udGVudHMsXFxuXFx0XFx0ZGF0YVR5cGVzID0gcy5kYXRhVHlwZXM7XFxuXFxuXFx0Ly8gUmVtb3ZlIGF1dG8gZGF0YVR5cGUgYW5kIGdldCBjb250ZW50LXR5cGUgaW4gdGhlIHByb2Nlc3NcXG5cXHR3aGlsZSAoIGRhdGFUeXBlc1sgMCBdID09PSBcXFwiKlxcXCIgKSB7XFxuXFx0XFx0ZGF0YVR5cGVzLnNoaWZ0KCk7XFxuXFx0XFx0aWYgKCBjdCA9PT0gdW5kZWZpbmVkICkge1xcblxcdFxcdFxcdGN0ID0gcy5taW1lVHlwZSB8fCBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXFxcIkNvbnRlbnQtVHlwZVxcXCIgKTtcXG5cXHRcXHR9XFxuXFx0fVxcblxcblxcdC8vIENoZWNrIGlmIHdlJ3JlIGRlYWxpbmcgd2l0aCBhIGtub3duIGNvbnRlbnQtdHlwZVxcblxcdGlmICggY3QgKSB7XFxuXFx0XFx0Zm9yICggdHlwZSBpbiBjb250ZW50cyApIHtcXG5cXHRcXHRcXHRpZiAoIGNvbnRlbnRzWyB0eXBlIF0gJiYgY29udGVudHNbIHR5cGUgXS50ZXN0KCBjdCApICkge1xcblxcdFxcdFxcdFxcdGRhdGFUeXBlcy51bnNoaWZ0KCB0eXBlICk7XFxuXFx0XFx0XFx0XFx0YnJlYWs7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXHR9XFxuXFxuXFx0Ly8gQ2hlY2sgdG8gc2VlIGlmIHdlIGhhdmUgYSByZXNwb25zZSBmb3IgdGhlIGV4cGVjdGVkIGRhdGFUeXBlXFxuXFx0aWYgKCBkYXRhVHlwZXNbIDAgXSBpbiByZXNwb25zZXMgKSB7XFxuXFx0XFx0ZmluYWxEYXRhVHlwZSA9IGRhdGFUeXBlc1sgMCBdO1xcblxcdH0gZWxzZSB7XFxuXFxuXFx0XFx0Ly8gVHJ5IGNvbnZlcnRpYmxlIGRhdGFUeXBlc1xcblxcdFxcdGZvciAoIHR5cGUgaW4gcmVzcG9uc2VzICkge1xcblxcdFxcdFxcdGlmICggIWRhdGFUeXBlc1sgMCBdIHx8IHMuY29udmVydGVyc1sgdHlwZSArIFxcXCIgXFxcIiArIGRhdGFUeXBlc1sgMCBdIF0gKSB7XFxuXFx0XFx0XFx0XFx0ZmluYWxEYXRhVHlwZSA9IHR5cGU7XFxuXFx0XFx0XFx0XFx0YnJlYWs7XFxuXFx0XFx0XFx0fVxcblxcdFxcdFxcdGlmICggIWZpcnN0RGF0YVR5cGUgKSB7XFxuXFx0XFx0XFx0XFx0Zmlyc3REYXRhVHlwZSA9IHR5cGU7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBPciBqdXN0IHVzZSBmaXJzdCBvbmVcXG5cXHRcXHRmaW5hbERhdGFUeXBlID0gZmluYWxEYXRhVHlwZSB8fCBmaXJzdERhdGFUeXBlO1xcblxcdH1cXG5cXG5cXHQvLyBJZiB3ZSBmb3VuZCBhIGRhdGFUeXBlXFxuXFx0Ly8gV2UgYWRkIHRoZSBkYXRhVHlwZSB0byB0aGUgbGlzdCBpZiBuZWVkZWRcXG5cXHQvLyBhbmQgcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlXFxuXFx0aWYgKCBmaW5hbERhdGFUeXBlICkge1xcblxcdFxcdGlmICggZmluYWxEYXRhVHlwZSAhPT0gZGF0YVR5cGVzWyAwIF0gKSB7XFxuXFx0XFx0XFx0ZGF0YVR5cGVzLnVuc2hpZnQoIGZpbmFsRGF0YVR5cGUgKTtcXG5cXHRcXHR9XFxuXFx0XFx0cmV0dXJuIHJlc3BvbnNlc1sgZmluYWxEYXRhVHlwZSBdO1xcblxcdH1cXG59XFxuXFxuLyogQ2hhaW4gY29udmVyc2lvbnMgZ2l2ZW4gdGhlIHJlcXVlc3QgYW5kIHRoZSBvcmlnaW5hbCByZXNwb25zZVxcbiAqIEFsc28gc2V0cyB0aGUgcmVzcG9uc2VYWFggZmllbGRzIG9uIHRoZSBqcVhIUiBpbnN0YW5jZVxcbiAqL1xcbmZ1bmN0aW9uIGFqYXhDb252ZXJ0KCBzLCByZXNwb25zZSwganFYSFIsIGlzU3VjY2VzcyApIHtcXG5cXHR2YXIgY29udjIsIGN1cnJlbnQsIGNvbnYsIHRtcCwgcHJldixcXG5cXHRcXHRjb252ZXJ0ZXJzID0ge30sXFxuXFxuXFx0XFx0Ly8gV29yayB3aXRoIGEgY29weSBvZiBkYXRhVHlwZXMgaW4gY2FzZSB3ZSBuZWVkIHRvIG1vZGlmeSBpdCBmb3IgY29udmVyc2lvblxcblxcdFxcdGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzLnNsaWNlKCk7XFxuXFxuXFx0Ly8gQ3JlYXRlIGNvbnZlcnRlcnMgbWFwIHdpdGggbG93ZXJjYXNlZCBrZXlzXFxuXFx0aWYgKCBkYXRhVHlwZXNbIDEgXSApIHtcXG5cXHRcXHRmb3IgKCBjb252IGluIHMuY29udmVydGVycyApIHtcXG5cXHRcXHRcXHRjb252ZXJ0ZXJzWyBjb252LnRvTG93ZXJDYXNlKCkgXSA9IHMuY29udmVydGVyc1sgY29udiBdO1xcblxcdFxcdH1cXG5cXHR9XFxuXFxuXFx0Y3VycmVudCA9IGRhdGFUeXBlcy5zaGlmdCgpO1xcblxcblxcdC8vIENvbnZlcnQgdG8gZWFjaCBzZXF1ZW50aWFsIGRhdGFUeXBlXFxuXFx0d2hpbGUgKCBjdXJyZW50ICkge1xcblxcblxcdFxcdGlmICggcy5yZXNwb25zZUZpZWxkc1sgY3VycmVudCBdICkge1xcblxcdFxcdFxcdGpxWEhSWyBzLnJlc3BvbnNlRmllbGRzWyBjdXJyZW50IF0gXSA9IHJlc3BvbnNlO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBBcHBseSB0aGUgZGF0YUZpbHRlciBpZiBwcm92aWRlZFxcblxcdFxcdGlmICggIXByZXYgJiYgaXNTdWNjZXNzICYmIHMuZGF0YUZpbHRlciApIHtcXG5cXHRcXHRcXHRyZXNwb25zZSA9IHMuZGF0YUZpbHRlciggcmVzcG9uc2UsIHMuZGF0YVR5cGUgKTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0cHJldiA9IGN1cnJlbnQ7XFxuXFx0XFx0Y3VycmVudCA9IGRhdGFUeXBlcy5zaGlmdCgpO1xcblxcblxcdFxcdGlmICggY3VycmVudCApIHtcXG5cXG5cXHRcXHRcXHQvLyBUaGVyZSdzIG9ubHkgd29yayB0byBkbyBpZiBjdXJyZW50IGRhdGFUeXBlIGlzIG5vbi1hdXRvXFxuXFx0XFx0XFx0aWYgKCBjdXJyZW50ID09PSBcXFwiKlxcXCIgKSB7XFxuXFxuXFx0XFx0XFx0XFx0Y3VycmVudCA9IHByZXY7XFxuXFxuXFx0XFx0XFx0Ly8gQ29udmVydCByZXNwb25zZSBpZiBwcmV2IGRhdGFUeXBlIGlzIG5vbi1hdXRvIGFuZCBkaWZmZXJzIGZyb20gY3VycmVudFxcblxcdFxcdFxcdH0gZWxzZSBpZiAoIHByZXYgIT09IFxcXCIqXFxcIiAmJiBwcmV2ICE9PSBjdXJyZW50ICkge1xcblxcblxcdFxcdFxcdFxcdC8vIFNlZWsgYSBkaXJlY3QgY29udmVydGVyXFxuXFx0XFx0XFx0XFx0Y29udiA9IGNvbnZlcnRlcnNbIHByZXYgKyBcXFwiIFxcXCIgKyBjdXJyZW50IF0gfHwgY29udmVydGVyc1sgXFxcIiogXFxcIiArIGN1cnJlbnQgXTtcXG5cXG5cXHRcXHRcXHRcXHQvLyBJZiBub25lIGZvdW5kLCBzZWVrIGEgcGFpclxcblxcdFxcdFxcdFxcdGlmICggIWNvbnYgKSB7XFxuXFx0XFx0XFx0XFx0XFx0Zm9yICggY29udjIgaW4gY29udmVydGVycyApIHtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHQvLyBJZiBjb252MiBvdXRwdXRzIGN1cnJlbnRcXG5cXHRcXHRcXHRcXHRcXHRcXHR0bXAgPSBjb252Mi5zcGxpdCggXFxcIiBcXFwiICk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0aWYgKCB0bXBbIDEgXSA9PT0gY3VycmVudCApIHtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBJZiBwcmV2IGNhbiBiZSBjb252ZXJ0ZWQgdG8gYWNjZXB0ZWQgaW5wdXRcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRjb252ID0gY29udmVydGVyc1sgcHJldiArIFxcXCIgXFxcIiArIHRtcFsgMCBdIF0gfHxcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRjb252ZXJ0ZXJzWyBcXFwiKiBcXFwiICsgdG1wWyAwIF0gXTtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRpZiAoIGNvbnYgKSB7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0Ly8gQ29uZGVuc2UgZXF1aXZhbGVuY2UgY29udmVydGVyc1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdGlmICggY29udiA9PT0gdHJ1ZSApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRjb252ID0gY29udmVydGVyc1sgY29udjIgXTtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBPdGhlcndpc2UsIGluc2VydCB0aGUgaW50ZXJtZWRpYXRlIGRhdGFUeXBlXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0fSBlbHNlIGlmICggY29udmVydGVyc1sgY29udjIgXSAhPT0gdHJ1ZSApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRjdXJyZW50ID0gdG1wWyAwIF07XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0ZGF0YVR5cGVzLnVuc2hpZnQoIHRtcFsgMSBdICk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdGJyZWFrO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHQvLyBBcHBseSBjb252ZXJ0ZXIgKGlmIG5vdCBhbiBlcXVpdmFsZW5jZSlcXG5cXHRcXHRcXHRcXHRpZiAoIGNvbnYgIT09IHRydWUgKSB7XFxuXFxuXFx0XFx0XFx0XFx0XFx0Ly8gVW5sZXNzIGVycm9ycyBhcmUgYWxsb3dlZCB0byBidWJibGUsIGNhdGNoIGFuZCByZXR1cm4gdGhlbVxcblxcdFxcdFxcdFxcdFxcdGlmICggY29udiAmJiBzLnRocm93cyApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRyZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7XFxuXFx0XFx0XFx0XFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHR0cnkge1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdHJlc3BvbnNlID0gY29udiggcmVzcG9uc2UgKTtcXG5cXHRcXHRcXHRcXHRcXHRcXHR9IGNhdGNoICggZSApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRyZXR1cm4ge1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdHN0YXRlOiBcXFwicGFyc2VyZXJyb3JcXFwiLFxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdGVycm9yOiBjb252ID8gZSA6IFxcXCJObyBjb252ZXJzaW9uIGZyb20gXFxcIiArIHByZXYgKyBcXFwiIHRvIFxcXCIgKyBjdXJyZW50XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0fTtcXG5cXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcdH1cXG5cXG5cXHRyZXR1cm4geyBzdGF0ZTogXFxcInN1Y2Nlc3NcXFwiLCBkYXRhOiByZXNwb25zZSB9O1xcbn1cXG5cXG5qUXVlcnkuZXh0ZW5kKCB7XFxuXFxuXFx0Ly8gQ291bnRlciBmb3IgaG9sZGluZyB0aGUgbnVtYmVyIG9mIGFjdGl2ZSBxdWVyaWVzXFxuXFx0YWN0aXZlOiAwLFxcblxcblxcdC8vIExhc3QtTW9kaWZpZWQgaGVhZGVyIGNhY2hlIGZvciBuZXh0IHJlcXVlc3RcXG5cXHRsYXN0TW9kaWZpZWQ6IHt9LFxcblxcdGV0YWc6IHt9LFxcblxcblxcdGFqYXhTZXR0aW5nczoge1xcblxcdFxcdHVybDogbG9jYXRpb24uaHJlZixcXG5cXHRcXHR0eXBlOiBcXFwiR0VUXFxcIixcXG5cXHRcXHRpc0xvY2FsOiBybG9jYWxQcm90b2NvbC50ZXN0KCBsb2NhdGlvbi5wcm90b2NvbCApLFxcblxcdFxcdGdsb2JhbDogdHJ1ZSxcXG5cXHRcXHRwcm9jZXNzRGF0YTogdHJ1ZSxcXG5cXHRcXHRhc3luYzogdHJ1ZSxcXG5cXHRcXHRjb250ZW50VHlwZTogXFxcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOFxcXCIsXFxuXFxuXFx0XFx0LypcXG5cXHRcXHR0aW1lb3V0OiAwLFxcblxcdFxcdGRhdGE6IG51bGwsXFxuXFx0XFx0ZGF0YVR5cGU6IG51bGwsXFxuXFx0XFx0dXNlcm5hbWU6IG51bGwsXFxuXFx0XFx0cGFzc3dvcmQ6IG51bGwsXFxuXFx0XFx0Y2FjaGU6IG51bGwsXFxuXFx0XFx0dGhyb3dzOiBmYWxzZSxcXG5cXHRcXHR0cmFkaXRpb25hbDogZmFsc2UsXFxuXFx0XFx0aGVhZGVyczoge30sXFxuXFx0XFx0Ki9cXG5cXG5cXHRcXHRhY2NlcHRzOiB7XFxuXFx0XFx0XFx0XFxcIipcXFwiOiBhbGxUeXBlcyxcXG5cXHRcXHRcXHR0ZXh0OiBcXFwidGV4dC9wbGFpblxcXCIsXFxuXFx0XFx0XFx0aHRtbDogXFxcInRleHQvaHRtbFxcXCIsXFxuXFx0XFx0XFx0eG1sOiBcXFwiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbFxcXCIsXFxuXFx0XFx0XFx0anNvbjogXFxcImFwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdFxcXCJcXG5cXHRcXHR9LFxcblxcblxcdFxcdGNvbnRlbnRzOiB7XFxuXFx0XFx0XFx0eG1sOiAvXFxcXGJ4bWxcXFxcYi8sXFxuXFx0XFx0XFx0aHRtbDogL1xcXFxiaHRtbC8sXFxuXFx0XFx0XFx0anNvbjogL1xcXFxianNvblxcXFxiL1xcblxcdFxcdH0sXFxuXFxuXFx0XFx0cmVzcG9uc2VGaWVsZHM6IHtcXG5cXHRcXHRcXHR4bWw6IFxcXCJyZXNwb25zZVhNTFxcXCIsXFxuXFx0XFx0XFx0dGV4dDogXFxcInJlc3BvbnNlVGV4dFxcXCIsXFxuXFx0XFx0XFx0anNvbjogXFxcInJlc3BvbnNlSlNPTlxcXCJcXG5cXHRcXHR9LFxcblxcblxcdFxcdC8vIERhdGEgY29udmVydGVyc1xcblxcdFxcdC8vIEtleXMgc2VwYXJhdGUgc291cmNlIChvciBjYXRjaGFsbCBcXFwiKlxcXCIpIGFuZCBkZXN0aW5hdGlvbiB0eXBlcyB3aXRoIGEgc2luZ2xlIHNwYWNlXFxuXFx0XFx0Y29udmVydGVyczoge1xcblxcblxcdFxcdFxcdC8vIENvbnZlcnQgYW55dGhpbmcgdG8gdGV4dFxcblxcdFxcdFxcdFxcXCIqIHRleHRcXFwiOiBTdHJpbmcsXFxuXFxuXFx0XFx0XFx0Ly8gVGV4dCB0byBodG1sICh0cnVlID0gbm8gdHJhbnNmb3JtYXRpb24pXFxuXFx0XFx0XFx0XFxcInRleHQgaHRtbFxcXCI6IHRydWUsXFxuXFxuXFx0XFx0XFx0Ly8gRXZhbHVhdGUgdGV4dCBhcyBhIGpzb24gZXhwcmVzc2lvblxcblxcdFxcdFxcdFxcXCJ0ZXh0IGpzb25cXFwiOiBKU09OLnBhcnNlLFxcblxcblxcdFxcdFxcdC8vIFBhcnNlIHRleHQgYXMgeG1sXFxuXFx0XFx0XFx0XFxcInRleHQgeG1sXFxcIjogalF1ZXJ5LnBhcnNlWE1MXFxuXFx0XFx0fSxcXG5cXG5cXHRcXHQvLyBGb3Igb3B0aW9ucyB0aGF0IHNob3VsZG4ndCBiZSBkZWVwIGV4dGVuZGVkOlxcblxcdFxcdC8vIHlvdSBjYW4gYWRkIHlvdXIgb3duIGN1c3RvbSBvcHRpb25zIGhlcmUgaWZcXG5cXHRcXHQvLyBhbmQgd2hlbiB5b3UgY3JlYXRlIG9uZSB0aGF0IHNob3VsZG4ndCBiZVxcblxcdFxcdC8vIGRlZXAgZXh0ZW5kZWQgKHNlZSBhamF4RXh0ZW5kKVxcblxcdFxcdGZsYXRPcHRpb25zOiB7XFxuXFx0XFx0XFx0dXJsOiB0cnVlLFxcblxcdFxcdFxcdGNvbnRleHQ6IHRydWVcXG5cXHRcXHR9XFxuXFx0fSxcXG5cXG5cXHQvLyBDcmVhdGVzIGEgZnVsbCBmbGVkZ2VkIHNldHRpbmdzIG9iamVjdCBpbnRvIHRhcmdldFxcblxcdC8vIHdpdGggYm90aCBhamF4U2V0dGluZ3MgYW5kIHNldHRpbmdzIGZpZWxkcy5cXG5cXHQvLyBJZiB0YXJnZXQgaXMgb21pdHRlZCwgd3JpdGVzIGludG8gYWpheFNldHRpbmdzLlxcblxcdGFqYXhTZXR1cDogZnVuY3Rpb24oIHRhcmdldCwgc2V0dGluZ3MgKSB7XFxuXFx0XFx0cmV0dXJuIHNldHRpbmdzID9cXG5cXG5cXHRcXHRcXHQvLyBCdWlsZGluZyBhIHNldHRpbmdzIG9iamVjdFxcblxcdFxcdFxcdGFqYXhFeHRlbmQoIGFqYXhFeHRlbmQoIHRhcmdldCwgalF1ZXJ5LmFqYXhTZXR0aW5ncyApLCBzZXR0aW5ncyApIDpcXG5cXG5cXHRcXHRcXHQvLyBFeHRlbmRpbmcgYWpheFNldHRpbmdzXFxuXFx0XFx0XFx0YWpheEV4dGVuZCggalF1ZXJ5LmFqYXhTZXR0aW5ncywgdGFyZ2V0ICk7XFxuXFx0fSxcXG5cXG5cXHRhamF4UHJlZmlsdGVyOiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMgKSxcXG5cXHRhamF4VHJhbnNwb3J0OiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMgKSxcXG5cXG5cXHQvLyBNYWluIG1ldGhvZFxcblxcdGFqYXg6IGZ1bmN0aW9uKCB1cmwsIG9wdGlvbnMgKSB7XFxuXFxuXFx0XFx0Ly8gSWYgdXJsIGlzIGFuIG9iamVjdCwgc2ltdWxhdGUgcHJlLTEuNSBzaWduYXR1cmVcXG5cXHRcXHRpZiAoIHR5cGVvZiB1cmwgPT09IFxcXCJvYmplY3RcXFwiICkge1xcblxcdFxcdFxcdG9wdGlvbnMgPSB1cmw7XFxuXFx0XFx0XFx0dXJsID0gdW5kZWZpbmVkO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBGb3JjZSBvcHRpb25zIHRvIGJlIGFuIG9iamVjdFxcblxcdFxcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xcblxcblxcdFxcdHZhciB0cmFuc3BvcnQsXFxuXFxuXFx0XFx0XFx0Ly8gVVJMIHdpdGhvdXQgYW50aS1jYWNoZSBwYXJhbVxcblxcdFxcdFxcdGNhY2hlVVJMLFxcblxcblxcdFxcdFxcdC8vIFJlc3BvbnNlIGhlYWRlcnNcXG5cXHRcXHRcXHRyZXNwb25zZUhlYWRlcnNTdHJpbmcsXFxuXFx0XFx0XFx0cmVzcG9uc2VIZWFkZXJzLFxcblxcblxcdFxcdFxcdC8vIHRpbWVvdXQgaGFuZGxlXFxuXFx0XFx0XFx0dGltZW91dFRpbWVyLFxcblxcblxcdFxcdFxcdC8vIFVybCBjbGVhbnVwIHZhclxcblxcdFxcdFxcdHVybEFuY2hvcixcXG5cXG5cXHRcXHRcXHQvLyBSZXF1ZXN0IHN0YXRlIChiZWNvbWVzIGZhbHNlIHVwb24gc2VuZCBhbmQgdHJ1ZSB1cG9uIGNvbXBsZXRpb24pXFxuXFx0XFx0XFx0Y29tcGxldGVkLFxcblxcblxcdFxcdFxcdC8vIFRvIGtub3cgaWYgZ2xvYmFsIGV2ZW50cyBhcmUgdG8gYmUgZGlzcGF0Y2hlZFxcblxcdFxcdFxcdGZpcmVHbG9iYWxzLFxcblxcblxcdFxcdFxcdC8vIExvb3AgdmFyaWFibGVcXG5cXHRcXHRcXHRpLFxcblxcblxcdFxcdFxcdC8vIHVuY2FjaGVkIHBhcnQgb2YgdGhlIHVybFxcblxcdFxcdFxcdHVuY2FjaGVkLFxcblxcblxcdFxcdFxcdC8vIENyZWF0ZSB0aGUgZmluYWwgb3B0aW9ucyBvYmplY3RcXG5cXHRcXHRcXHRzID0galF1ZXJ5LmFqYXhTZXR1cCgge30sIG9wdGlvbnMgKSxcXG5cXG5cXHRcXHRcXHQvLyBDYWxsYmFja3MgY29udGV4dFxcblxcdFxcdFxcdGNhbGxiYWNrQ29udGV4dCA9IHMuY29udGV4dCB8fCBzLFxcblxcblxcdFxcdFxcdC8vIENvbnRleHQgZm9yIGdsb2JhbCBldmVudHMgaXMgY2FsbGJhY2tDb250ZXh0IGlmIGl0IGlzIGEgRE9NIG5vZGUgb3IgalF1ZXJ5IGNvbGxlY3Rpb25cXG5cXHRcXHRcXHRnbG9iYWxFdmVudENvbnRleHQgPSBzLmNvbnRleHQgJiZcXG5cXHRcXHRcXHRcXHQoIGNhbGxiYWNrQ29udGV4dC5ub2RlVHlwZSB8fCBjYWxsYmFja0NvbnRleHQuanF1ZXJ5ICkgP1xcblxcdFxcdFxcdFxcdFxcdGpRdWVyeSggY2FsbGJhY2tDb250ZXh0ICkgOlxcblxcdFxcdFxcdFxcdFxcdGpRdWVyeS5ldmVudCxcXG5cXG5cXHRcXHRcXHQvLyBEZWZlcnJlZHNcXG5cXHRcXHRcXHRkZWZlcnJlZCA9IGpRdWVyeS5EZWZlcnJlZCgpLFxcblxcdFxcdFxcdGNvbXBsZXRlRGVmZXJyZWQgPSBqUXVlcnkuQ2FsbGJhY2tzKCBcXFwib25jZSBtZW1vcnlcXFwiICksXFxuXFxuXFx0XFx0XFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3NcXG5cXHRcXHRcXHRzdGF0dXNDb2RlID0gcy5zdGF0dXNDb2RlIHx8IHt9LFxcblxcblxcdFxcdFxcdC8vIEhlYWRlcnMgKHRoZXkgYXJlIHNlbnQgYWxsIGF0IG9uY2UpXFxuXFx0XFx0XFx0cmVxdWVzdEhlYWRlcnMgPSB7fSxcXG5cXHRcXHRcXHRyZXF1ZXN0SGVhZGVyc05hbWVzID0ge30sXFxuXFxuXFx0XFx0XFx0Ly8gRGVmYXVsdCBhYm9ydCBtZXNzYWdlXFxuXFx0XFx0XFx0c3RyQWJvcnQgPSBcXFwiY2FuY2VsZWRcXFwiLFxcblxcblxcdFxcdFxcdC8vIEZha2UgeGhyXFxuXFx0XFx0XFx0anFYSFIgPSB7XFxuXFx0XFx0XFx0XFx0cmVhZHlTdGF0ZTogMCxcXG5cXG5cXHRcXHRcXHRcXHQvLyBCdWlsZHMgaGVhZGVycyBoYXNodGFibGUgaWYgbmVlZGVkXFxuXFx0XFx0XFx0XFx0Z2V0UmVzcG9uc2VIZWFkZXI6IGZ1bmN0aW9uKCBrZXkgKSB7XFxuXFx0XFx0XFx0XFx0XFx0dmFyIG1hdGNoO1xcblxcdFxcdFxcdFxcdFxcdGlmICggY29tcGxldGVkICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdGlmICggIXJlc3BvbnNlSGVhZGVycyApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRyZXNwb25zZUhlYWRlcnMgPSB7fTtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHR3aGlsZSAoICggbWF0Y2ggPSByaGVhZGVycy5leGVjKCByZXNwb25zZUhlYWRlcnNTdHJpbmcgKSApICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdHJlc3BvbnNlSGVhZGVyc1sgbWF0Y2hbIDEgXS50b0xvd2VyQ2FzZSgpIF0gPSBtYXRjaFsgMiBdO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0XFx0bWF0Y2ggPSByZXNwb25zZUhlYWRlcnNbIGtleS50b0xvd2VyQ2FzZSgpIF07XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdHJldHVybiBtYXRjaCA9PSBudWxsID8gbnVsbCA6IG1hdGNoO1xcblxcdFxcdFxcdFxcdH0sXFxuXFxuXFx0XFx0XFx0XFx0Ly8gUmF3IHN0cmluZ1xcblxcdFxcdFxcdFxcdGdldEFsbFJlc3BvbnNlSGVhZGVyczogZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0XFx0XFx0cmV0dXJuIGNvbXBsZXRlZCA/IHJlc3BvbnNlSGVhZGVyc1N0cmluZyA6IG51bGw7XFxuXFx0XFx0XFx0XFx0fSxcXG5cXG5cXHRcXHRcXHRcXHQvLyBDYWNoZXMgdGhlIGhlYWRlclxcblxcdFxcdFxcdFxcdHNldFJlcXVlc3RIZWFkZXI6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcXG5cXHRcXHRcXHRcXHRcXHRpZiAoIGNvbXBsZXRlZCA9PSBudWxsICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdG5hbWUgPSByZXF1ZXN0SGVhZGVyc05hbWVzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSA9XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0cmVxdWVzdEhlYWRlcnNOYW1lc1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gfHwgbmFtZTtcXG5cXHRcXHRcXHRcXHRcXHRcXHRyZXF1ZXN0SGVhZGVyc1sgbmFtZSBdID0gdmFsdWU7XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdHJldHVybiB0aGlzO1xcblxcdFxcdFxcdFxcdH0sXFxuXFxuXFx0XFx0XFx0XFx0Ly8gT3ZlcnJpZGVzIHJlc3BvbnNlIGNvbnRlbnQtdHlwZSBoZWFkZXJcXG5cXHRcXHRcXHRcXHRvdmVycmlkZU1pbWVUeXBlOiBmdW5jdGlvbiggdHlwZSApIHtcXG5cXHRcXHRcXHRcXHRcXHRpZiAoIGNvbXBsZXRlZCA9PSBudWxsICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdHMubWltZVR5cGUgPSB0eXBlO1xcblxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHRyZXR1cm4gdGhpcztcXG5cXHRcXHRcXHRcXHR9LFxcblxcblxcdFxcdFxcdFxcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXFxuXFx0XFx0XFx0XFx0c3RhdHVzQ29kZTogZnVuY3Rpb24oIG1hcCApIHtcXG5cXHRcXHRcXHRcXHRcXHR2YXIgY29kZTtcXG5cXHRcXHRcXHRcXHRcXHRpZiAoIG1hcCApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRpZiAoIGNvbXBsZXRlZCApIHtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBFeGVjdXRlIHRoZSBhcHByb3ByaWF0ZSBjYWxsYmFja3NcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRqcVhIUi5hbHdheXMoIG1hcFsganFYSFIuc3RhdHVzIF0gKTtcXG5cXHRcXHRcXHRcXHRcXHRcXHR9IGVsc2Uge1xcblxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIExhenktYWRkIHRoZSBuZXcgY2FsbGJhY2tzIGluIGEgd2F5IHRoYXQgcHJlc2VydmVzIG9sZCBvbmVzXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0Zm9yICggY29kZSBpbiBtYXAgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0c3RhdHVzQ29kZVsgY29kZSBdID0gWyBzdGF0dXNDb2RlWyBjb2RlIF0sIG1hcFsgY29kZSBdIF07XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0cmV0dXJuIHRoaXM7XFxuXFx0XFx0XFx0XFx0fSxcXG5cXG5cXHRcXHRcXHRcXHQvLyBDYW5jZWwgdGhlIHJlcXVlc3RcXG5cXHRcXHRcXHRcXHRhYm9ydDogZnVuY3Rpb24oIHN0YXR1c1RleHQgKSB7XFxuXFx0XFx0XFx0XFx0XFx0dmFyIGZpbmFsVGV4dCA9IHN0YXR1c1RleHQgfHwgc3RyQWJvcnQ7XFxuXFx0XFx0XFx0XFx0XFx0aWYgKCB0cmFuc3BvcnQgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0dHJhbnNwb3J0LmFib3J0KCBmaW5hbFRleHQgKTtcXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0ZG9uZSggMCwgZmluYWxUZXh0ICk7XFxuXFx0XFx0XFx0XFx0XFx0cmV0dXJuIHRoaXM7XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH07XFxuXFxuXFx0XFx0Ly8gQXR0YWNoIGRlZmVycmVkc1xcblxcdFxcdGRlZmVycmVkLnByb21pc2UoIGpxWEhSICk7XFxuXFxuXFx0XFx0Ly8gQWRkIHByb3RvY29sIGlmIG5vdCBwcm92aWRlZCAocHJlZmlsdGVycyBtaWdodCBleHBlY3QgaXQpXFxuXFx0XFx0Ly8gSGFuZGxlIGZhbHN5IHVybCBpbiB0aGUgc2V0dGluZ3Mgb2JqZWN0ICgjMTAwOTM6IGNvbnNpc3RlbmN5IHdpdGggb2xkIHNpZ25hdHVyZSlcXG5cXHRcXHQvLyBXZSBhbHNvIHVzZSB0aGUgdXJsIHBhcmFtZXRlciBpZiBhdmFpbGFibGVcXG5cXHRcXHRzLnVybCA9ICggKCB1cmwgfHwgcy51cmwgfHwgbG9jYXRpb24uaHJlZiApICsgXFxcIlxcXCIgKVxcblxcdFxcdFxcdC5yZXBsYWNlKCBycHJvdG9jb2wsIGxvY2F0aW9uLnByb3RvY29sICsgXFxcIi8vXFxcIiApO1xcblxcblxcdFxcdC8vIEFsaWFzIG1ldGhvZCBvcHRpb24gdG8gdHlwZSBhcyBwZXIgdGlja2V0ICMxMjAwNFxcblxcdFxcdHMudHlwZSA9IG9wdGlvbnMubWV0aG9kIHx8IG9wdGlvbnMudHlwZSB8fCBzLm1ldGhvZCB8fCBzLnR5cGU7XFxuXFxuXFx0XFx0Ly8gRXh0cmFjdCBkYXRhVHlwZXMgbGlzdFxcblxcdFxcdHMuZGF0YVR5cGVzID0gKCBzLmRhdGFUeXBlIHx8IFxcXCIqXFxcIiApLnRvTG93ZXJDYXNlKCkubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbIFxcXCJcXFwiIF07XFxuXFxuXFx0XFx0Ly8gQSBjcm9zcy1kb21haW4gcmVxdWVzdCBpcyBpbiBvcmRlciB3aGVuIHRoZSBvcmlnaW4gZG9lc24ndCBtYXRjaCB0aGUgY3VycmVudCBvcmlnaW4uXFxuXFx0XFx0aWYgKCBzLmNyb3NzRG9tYWluID09IG51bGwgKSB7XFxuXFx0XFx0XFx0dXJsQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXFxcImFcXFwiICk7XFxuXFxuXFx0XFx0XFx0Ly8gU3VwcG9ydDogSUUgPD04IC0gMTEsIEVkZ2UgMTIgLSAxM1xcblxcdFxcdFxcdC8vIElFIHRocm93cyBleGNlcHRpb24gb24gYWNjZXNzaW5nIHRoZSBocmVmIHByb3BlcnR5IGlmIHVybCBpcyBtYWxmb3JtZWQsXFxuXFx0XFx0XFx0Ly8gZS5nLiBodHRwOi8vZXhhbXBsZS5jb206ODB4L1xcblxcdFxcdFxcdHRyeSB7XFxuXFx0XFx0XFx0XFx0dXJsQW5jaG9yLmhyZWYgPSBzLnVybDtcXG5cXG5cXHRcXHRcXHRcXHQvLyBTdXBwb3J0OiBJRSA8PTggLSAxMSBvbmx5XFxuXFx0XFx0XFx0XFx0Ly8gQW5jaG9yJ3MgaG9zdCBwcm9wZXJ0eSBpc24ndCBjb3JyZWN0bHkgc2V0IHdoZW4gcy51cmwgaXMgcmVsYXRpdmVcXG5cXHRcXHRcXHRcXHR1cmxBbmNob3IuaHJlZiA9IHVybEFuY2hvci5ocmVmO1xcblxcdFxcdFxcdFxcdHMuY3Jvc3NEb21haW4gPSBvcmlnaW5BbmNob3IucHJvdG9jb2wgKyBcXFwiLy9cXFwiICsgb3JpZ2luQW5jaG9yLmhvc3QgIT09XFxuXFx0XFx0XFx0XFx0XFx0dXJsQW5jaG9yLnByb3RvY29sICsgXFxcIi8vXFxcIiArIHVybEFuY2hvci5ob3N0O1xcblxcdFxcdFxcdH0gY2F0Y2ggKCBlICkge1xcblxcblxcdFxcdFxcdFxcdC8vIElmIHRoZXJlIGlzIGFuIGVycm9yIHBhcnNpbmcgdGhlIFVSTCwgYXNzdW1lIGl0IGlzIGNyb3NzRG9tYWluLFxcblxcdFxcdFxcdFxcdC8vIGl0IGNhbiBiZSByZWplY3RlZCBieSB0aGUgdHJhbnNwb3J0IGlmIGl0IGlzIGludmFsaWRcXG5cXHRcXHRcXHRcXHRzLmNyb3NzRG9tYWluID0gdHJ1ZTtcXG5cXHRcXHRcXHR9XFxuXFx0XFx0fVxcblxcblxcdFxcdC8vIENvbnZlcnQgZGF0YSBpZiBub3QgYWxyZWFkeSBhIHN0cmluZ1xcblxcdFxcdGlmICggcy5kYXRhICYmIHMucHJvY2Vzc0RhdGEgJiYgdHlwZW9mIHMuZGF0YSAhPT0gXFxcInN0cmluZ1xcXCIgKSB7XFxuXFx0XFx0XFx0cy5kYXRhID0galF1ZXJ5LnBhcmFtKCBzLmRhdGEsIHMudHJhZGl0aW9uYWwgKTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gQXBwbHkgcHJlZmlsdGVyc1xcblxcdFxcdGluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzKCBwcmVmaWx0ZXJzLCBzLCBvcHRpb25zLCBqcVhIUiApO1xcblxcblxcdFxcdC8vIElmIHJlcXVlc3Qgd2FzIGFib3J0ZWQgaW5zaWRlIGEgcHJlZmlsdGVyLCBzdG9wIHRoZXJlXFxuXFx0XFx0aWYgKCBjb21wbGV0ZWQgKSB7XFxuXFx0XFx0XFx0cmV0dXJuIGpxWEhSO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBXZSBjYW4gZmlyZSBnbG9iYWwgZXZlbnRzIGFzIG9mIG5vdyBpZiBhc2tlZCB0b1xcblxcdFxcdC8vIERvbid0IGZpcmUgZXZlbnRzIGlmIGpRdWVyeS5ldmVudCBpcyB1bmRlZmluZWQgaW4gYW4gQU1ELXVzYWdlIHNjZW5hcmlvICgjMTUxMTgpXFxuXFx0XFx0ZmlyZUdsb2JhbHMgPSBqUXVlcnkuZXZlbnQgJiYgcy5nbG9iYWw7XFxuXFxuXFx0XFx0Ly8gV2F0Y2ggZm9yIGEgbmV3IHNldCBvZiByZXF1ZXN0c1xcblxcdFxcdGlmICggZmlyZUdsb2JhbHMgJiYgalF1ZXJ5LmFjdGl2ZSsrID09PSAwICkge1xcblxcdFxcdFxcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBcXFwiYWpheFN0YXJ0XFxcIiApO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBVcHBlcmNhc2UgdGhlIHR5cGVcXG5cXHRcXHRzLnR5cGUgPSBzLnR5cGUudG9VcHBlckNhc2UoKTtcXG5cXG5cXHRcXHQvLyBEZXRlcm1pbmUgaWYgcmVxdWVzdCBoYXMgY29udGVudFxcblxcdFxcdHMuaGFzQ29udGVudCA9ICFybm9Db250ZW50LnRlc3QoIHMudHlwZSApO1xcblxcblxcdFxcdC8vIFNhdmUgdGhlIFVSTCBpbiBjYXNlIHdlJ3JlIHRveWluZyB3aXRoIHRoZSBJZi1Nb2RpZmllZC1TaW5jZVxcblxcdFxcdC8vIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciBsYXRlciBvblxcblxcdFxcdC8vIFJlbW92ZSBoYXNoIHRvIHNpbXBsaWZ5IHVybCBtYW5pcHVsYXRpb25cXG5cXHRcXHRjYWNoZVVSTCA9IHMudXJsLnJlcGxhY2UoIHJoYXNoLCBcXFwiXFxcIiApO1xcblxcblxcdFxcdC8vIE1vcmUgb3B0aW9ucyBoYW5kbGluZyBmb3IgcmVxdWVzdHMgd2l0aCBubyBjb250ZW50XFxuXFx0XFx0aWYgKCAhcy5oYXNDb250ZW50ICkge1xcblxcblxcdFxcdFxcdC8vIFJlbWVtYmVyIHRoZSBoYXNoIHNvIHdlIGNhbiBwdXQgaXQgYmFja1xcblxcdFxcdFxcdHVuY2FjaGVkID0gcy51cmwuc2xpY2UoIGNhY2hlVVJMLmxlbmd0aCApO1xcblxcblxcdFxcdFxcdC8vIElmIGRhdGEgaXMgYXZhaWxhYmxlLCBhcHBlbmQgZGF0YSB0byB1cmxcXG5cXHRcXHRcXHRpZiAoIHMuZGF0YSApIHtcXG5cXHRcXHRcXHRcXHRjYWNoZVVSTCArPSAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXFxcIiZcXFwiIDogXFxcIj9cXFwiICkgKyBzLmRhdGE7XFxuXFxuXFx0XFx0XFx0XFx0Ly8gIzk2ODI6IHJlbW92ZSBkYXRhIHNvIHRoYXQgaXQncyBub3QgdXNlZCBpbiBhbiBldmVudHVhbCByZXRyeVxcblxcdFxcdFxcdFxcdGRlbGV0ZSBzLmRhdGE7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdC8vIEFkZCBvciB1cGRhdGUgYW50aS1jYWNoZSBwYXJhbSBpZiBuZWVkZWRcXG5cXHRcXHRcXHRpZiAoIHMuY2FjaGUgPT09IGZhbHNlICkge1xcblxcdFxcdFxcdFxcdGNhY2hlVVJMID0gY2FjaGVVUkwucmVwbGFjZSggcmFudGlDYWNoZSwgXFxcIiQxXFxcIiApO1xcblxcdFxcdFxcdFxcdHVuY2FjaGVkID0gKCBycXVlcnkudGVzdCggY2FjaGVVUkwgKSA/IFxcXCImXFxcIiA6IFxcXCI/XFxcIiApICsgXFxcIl89XFxcIiArICggbm9uY2UrKyApICsgdW5jYWNoZWQ7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdC8vIFB1dCBoYXNoIGFuZCBhbnRpLWNhY2hlIG9uIHRoZSBVUkwgdGhhdCB3aWxsIGJlIHJlcXVlc3RlZCAoZ2gtMTczMilcXG5cXHRcXHRcXHRzLnVybCA9IGNhY2hlVVJMICsgdW5jYWNoZWQ7XFxuXFxuXFx0XFx0Ly8gQ2hhbmdlICclMjAnIHRvICcrJyBpZiB0aGlzIGlzIGVuY29kZWQgZm9ybSBib2R5IGNvbnRlbnQgKGdoLTI2NTgpXFxuXFx0XFx0fSBlbHNlIGlmICggcy5kYXRhICYmIHMucHJvY2Vzc0RhdGEgJiZcXG5cXHRcXHRcXHQoIHMuY29udGVudFR5cGUgfHwgXFxcIlxcXCIgKS5pbmRleE9mKCBcXFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXFxcIiApID09PSAwICkge1xcblxcdFxcdFxcdHMuZGF0YSA9IHMuZGF0YS5yZXBsYWNlKCByMjAsIFxcXCIrXFxcIiApO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxcblxcdFxcdGlmICggcy5pZk1vZGlmaWVkICkge1xcblxcdFxcdFxcdGlmICggalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSApIHtcXG5cXHRcXHRcXHRcXHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcXFwiSWYtTW9kaWZpZWQtU2luY2VcXFwiLCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICk7XFxuXFx0XFx0XFx0fVxcblxcdFxcdFxcdGlmICggalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKSB7XFxuXFx0XFx0XFx0XFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXFxcIklmLU5vbmUtTWF0Y2hcXFwiLCBqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSApO1xcblxcdFxcdFxcdH1cXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gU2V0IHRoZSBjb3JyZWN0IGhlYWRlciwgaWYgZGF0YSBpcyBiZWluZyBzZW50XFxuXFx0XFx0aWYgKCBzLmRhdGEgJiYgcy5oYXNDb250ZW50ICYmIHMuY29udGVudFR5cGUgIT09IGZhbHNlIHx8IG9wdGlvbnMuY29udGVudFR5cGUgKSB7XFxuXFx0XFx0XFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXFxcIkNvbnRlbnQtVHlwZVxcXCIsIHMuY29udGVudFR5cGUgKTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gU2V0IHRoZSBBY2NlcHRzIGhlYWRlciBmb3IgdGhlIHNlcnZlciwgZGVwZW5kaW5nIG9uIHRoZSBkYXRhVHlwZVxcblxcdFxcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoXFxuXFx0XFx0XFx0XFxcIkFjY2VwdFxcXCIsXFxuXFx0XFx0XFx0cy5kYXRhVHlwZXNbIDAgXSAmJiBzLmFjY2VwdHNbIHMuZGF0YVR5cGVzWyAwIF0gXSA/XFxuXFx0XFx0XFx0XFx0cy5hY2NlcHRzWyBzLmRhdGFUeXBlc1sgMCBdIF0gK1xcblxcdFxcdFxcdFxcdFxcdCggcy5kYXRhVHlwZXNbIDAgXSAhPT0gXFxcIipcXFwiID8gXFxcIiwgXFxcIiArIGFsbFR5cGVzICsgXFxcIjsgcT0wLjAxXFxcIiA6IFxcXCJcXFwiICkgOlxcblxcdFxcdFxcdFxcdHMuYWNjZXB0c1sgXFxcIipcXFwiIF1cXG5cXHRcXHQpO1xcblxcblxcdFxcdC8vIENoZWNrIGZvciBoZWFkZXJzIG9wdGlvblxcblxcdFxcdGZvciAoIGkgaW4gcy5oZWFkZXJzICkge1xcblxcdFxcdFxcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIGksIHMuaGVhZGVyc1sgaSBdICk7XFxuXFx0XFx0fVxcblxcblxcdFxcdC8vIEFsbG93IGN1c3RvbSBoZWFkZXJzL21pbWV0eXBlcyBhbmQgZWFybHkgYWJvcnRcXG5cXHRcXHRpZiAoIHMuYmVmb3JlU2VuZCAmJlxcblxcdFxcdFxcdCggcy5iZWZvcmVTZW5kLmNhbGwoIGNhbGxiYWNrQ29udGV4dCwganFYSFIsIHMgKSA9PT0gZmFsc2UgfHwgY29tcGxldGVkICkgKSB7XFxuXFxuXFx0XFx0XFx0Ly8gQWJvcnQgaWYgbm90IGRvbmUgYWxyZWFkeSBhbmQgcmV0dXJuXFxuXFx0XFx0XFx0cmV0dXJuIGpxWEhSLmFib3J0KCk7XFxuXFx0XFx0fVxcblxcblxcdFxcdC8vIEFib3J0aW5nIGlzIG5vIGxvbmdlciBhIGNhbmNlbGxhdGlvblxcblxcdFxcdHN0ckFib3J0ID0gXFxcImFib3J0XFxcIjtcXG5cXG5cXHRcXHQvLyBJbnN0YWxsIGNhbGxiYWNrcyBvbiBkZWZlcnJlZHNcXG5cXHRcXHRjb21wbGV0ZURlZmVycmVkLmFkZCggcy5jb21wbGV0ZSApO1xcblxcdFxcdGpxWEhSLmRvbmUoIHMuc3VjY2VzcyApO1xcblxcdFxcdGpxWEhSLmZhaWwoIHMuZXJyb3IgKTtcXG5cXG5cXHRcXHQvLyBHZXQgdHJhbnNwb3J0XFxuXFx0XFx0dHJhbnNwb3J0ID0gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XFxuXFxuXFx0XFx0Ly8gSWYgbm8gdHJhbnNwb3J0LCB3ZSBhdXRvLWFib3J0XFxuXFx0XFx0aWYgKCAhdHJhbnNwb3J0ICkge1xcblxcdFxcdFxcdGRvbmUoIC0xLCBcXFwiTm8gVHJhbnNwb3J0XFxcIiApO1xcblxcdFxcdH0gZWxzZSB7XFxuXFx0XFx0XFx0anFYSFIucmVhZHlTdGF0ZSA9IDE7XFxuXFxuXFx0XFx0XFx0Ly8gU2VuZCBnbG9iYWwgZXZlbnRcXG5cXHRcXHRcXHRpZiAoIGZpcmVHbG9iYWxzICkge1xcblxcdFxcdFxcdFxcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBcXFwiYWpheFNlbmRcXFwiLCBbIGpxWEhSLCBzIF0gKTtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0Ly8gSWYgcmVxdWVzdCB3YXMgYWJvcnRlZCBpbnNpZGUgYWpheFNlbmQsIHN0b3AgdGhlcmVcXG5cXHRcXHRcXHRpZiAoIGNvbXBsZXRlZCApIHtcXG5cXHRcXHRcXHRcXHRyZXR1cm4ganFYSFI7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdC8vIFRpbWVvdXRcXG5cXHRcXHRcXHRpZiAoIHMuYXN5bmMgJiYgcy50aW1lb3V0ID4gMCApIHtcXG5cXHRcXHRcXHRcXHR0aW1lb3V0VGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0XFx0XFx0anFYSFIuYWJvcnQoIFxcXCJ0aW1lb3V0XFxcIiApO1xcblxcdFxcdFxcdFxcdH0sIHMudGltZW91dCApO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHR0cnkge1xcblxcdFxcdFxcdFxcdGNvbXBsZXRlZCA9IGZhbHNlO1xcblxcdFxcdFxcdFxcdHRyYW5zcG9ydC5zZW5kKCByZXF1ZXN0SGVhZGVycywgZG9uZSApO1xcblxcdFxcdFxcdH0gY2F0Y2ggKCBlICkge1xcblxcblxcdFxcdFxcdFxcdC8vIFJldGhyb3cgcG9zdC1jb21wbGV0aW9uIGV4Y2VwdGlvbnNcXG5cXHRcXHRcXHRcXHRpZiAoIGNvbXBsZXRlZCApIHtcXG5cXHRcXHRcXHRcXHRcXHR0aHJvdyBlO1xcblxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHQvLyBQcm9wYWdhdGUgb3RoZXJzIGFzIHJlc3VsdHNcXG5cXHRcXHRcXHRcXHRkb25lKCAtMSwgZSApO1xcblxcdFxcdFxcdH1cXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gQ2FsbGJhY2sgZm9yIHdoZW4gZXZlcnl0aGluZyBpcyBkb25lXFxuXFx0XFx0ZnVuY3Rpb24gZG9uZSggc3RhdHVzLCBuYXRpdmVTdGF0dXNUZXh0LCByZXNwb25zZXMsIGhlYWRlcnMgKSB7XFxuXFx0XFx0XFx0dmFyIGlzU3VjY2Vzcywgc3VjY2VzcywgZXJyb3IsIHJlc3BvbnNlLCBtb2RpZmllZCxcXG5cXHRcXHRcXHRcXHRzdGF0dXNUZXh0ID0gbmF0aXZlU3RhdHVzVGV4dDtcXG5cXG5cXHRcXHRcXHQvLyBJZ25vcmUgcmVwZWF0IGludm9jYXRpb25zXFxuXFx0XFx0XFx0aWYgKCBjb21wbGV0ZWQgKSB7XFxuXFx0XFx0XFx0XFx0cmV0dXJuO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRjb21wbGV0ZWQgPSB0cnVlO1xcblxcblxcdFxcdFxcdC8vIENsZWFyIHRpbWVvdXQgaWYgaXQgZXhpc3RzXFxuXFx0XFx0XFx0aWYgKCB0aW1lb3V0VGltZXIgKSB7XFxuXFx0XFx0XFx0XFx0d2luZG93LmNsZWFyVGltZW91dCggdGltZW91dFRpbWVyICk7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdC8vIERlcmVmZXJlbmNlIHRyYW5zcG9ydCBmb3IgZWFybHkgZ2FyYmFnZSBjb2xsZWN0aW9uXFxuXFx0XFx0XFx0Ly8gKG5vIG1hdHRlciBob3cgbG9uZyB0aGUganFYSFIgb2JqZWN0IHdpbGwgYmUgdXNlZClcXG5cXHRcXHRcXHR0cmFuc3BvcnQgPSB1bmRlZmluZWQ7XFxuXFxuXFx0XFx0XFx0Ly8gQ2FjaGUgcmVzcG9uc2UgaGVhZGVyc1xcblxcdFxcdFxcdHJlc3BvbnNlSGVhZGVyc1N0cmluZyA9IGhlYWRlcnMgfHwgXFxcIlxcXCI7XFxuXFxuXFx0XFx0XFx0Ly8gU2V0IHJlYWR5U3RhdGVcXG5cXHRcXHRcXHRqcVhIUi5yZWFkeVN0YXRlID0gc3RhdHVzID4gMCA/IDQgOiAwO1xcblxcblxcdFxcdFxcdC8vIERldGVybWluZSBpZiBzdWNjZXNzZnVsXFxuXFx0XFx0XFx0aXNTdWNjZXNzID0gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDAgfHwgc3RhdHVzID09PSAzMDQ7XFxuXFxuXFx0XFx0XFx0Ly8gR2V0IHJlc3BvbnNlIGRhdGFcXG5cXHRcXHRcXHRpZiAoIHJlc3BvbnNlcyApIHtcXG5cXHRcXHRcXHRcXHRyZXNwb25zZSA9IGFqYXhIYW5kbGVSZXNwb25zZXMoIHMsIGpxWEhSLCByZXNwb25zZXMgKTtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0Ly8gQ29udmVydCBubyBtYXR0ZXIgd2hhdCAodGhhdCB3YXkgcmVzcG9uc2VYWFggZmllbGRzIGFyZSBhbHdheXMgc2V0KVxcblxcdFxcdFxcdHJlc3BvbnNlID0gYWpheENvbnZlcnQoIHMsIHJlc3BvbnNlLCBqcVhIUiwgaXNTdWNjZXNzICk7XFxuXFxuXFx0XFx0XFx0Ly8gSWYgc3VjY2Vzc2Z1bCwgaGFuZGxlIHR5cGUgY2hhaW5pbmdcXG5cXHRcXHRcXHRpZiAoIGlzU3VjY2VzcyApIHtcXG5cXG5cXHRcXHRcXHRcXHQvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxcblxcdFxcdFxcdFxcdGlmICggcy5pZk1vZGlmaWVkICkge1xcblxcdFxcdFxcdFxcdFxcdG1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIFxcXCJMYXN0LU1vZGlmaWVkXFxcIiApO1xcblxcdFxcdFxcdFxcdFxcdGlmICggbW9kaWZpZWQgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0alF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSA9IG1vZGlmaWVkO1xcblxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHRtb2RpZmllZCA9IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCBcXFwiZXRhZ1xcXCIgKTtcXG5cXHRcXHRcXHRcXHRcXHRpZiAoIG1vZGlmaWVkICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdID0gbW9kaWZpZWQ7XFxuXFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHQvLyBpZiBubyBjb250ZW50XFxuXFx0XFx0XFx0XFx0aWYgKCBzdGF0dXMgPT09IDIwNCB8fCBzLnR5cGUgPT09IFxcXCJIRUFEXFxcIiApIHtcXG5cXHRcXHRcXHRcXHRcXHRzdGF0dXNUZXh0ID0gXFxcIm5vY29udGVudFxcXCI7XFxuXFxuXFx0XFx0XFx0XFx0Ly8gaWYgbm90IG1vZGlmaWVkXFxuXFx0XFx0XFx0XFx0fSBlbHNlIGlmICggc3RhdHVzID09PSAzMDQgKSB7XFxuXFx0XFx0XFx0XFx0XFx0c3RhdHVzVGV4dCA9IFxcXCJub3Rtb2RpZmllZFxcXCI7XFxuXFxuXFx0XFx0XFx0XFx0Ly8gSWYgd2UgaGF2ZSBkYXRhLCBsZXQncyBjb252ZXJ0IGl0XFxuXFx0XFx0XFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRcXHRcXHRzdGF0dXNUZXh0ID0gcmVzcG9uc2Uuc3RhdGU7XFxuXFx0XFx0XFx0XFx0XFx0c3VjY2VzcyA9IHJlc3BvbnNlLmRhdGE7XFxuXFx0XFx0XFx0XFx0XFx0ZXJyb3IgPSByZXNwb25zZS5lcnJvcjtcXG5cXHRcXHRcXHRcXHRcXHRpc1N1Y2Nlc3MgPSAhZXJyb3I7XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH0gZWxzZSB7XFxuXFxuXFx0XFx0XFx0XFx0Ly8gRXh0cmFjdCBlcnJvciBmcm9tIHN0YXR1c1RleHQgYW5kIG5vcm1hbGl6ZSBmb3Igbm9uLWFib3J0c1xcblxcdFxcdFxcdFxcdGVycm9yID0gc3RhdHVzVGV4dDtcXG5cXHRcXHRcXHRcXHRpZiAoIHN0YXR1cyB8fCAhc3RhdHVzVGV4dCApIHtcXG5cXHRcXHRcXHRcXHRcXHRzdGF0dXNUZXh0ID0gXFxcImVycm9yXFxcIjtcXG5cXHRcXHRcXHRcXHRcXHRpZiAoIHN0YXR1cyA8IDAgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0c3RhdHVzID0gMDtcXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHQvLyBTZXQgZGF0YSBmb3IgdGhlIGZha2UgeGhyIG9iamVjdFxcblxcdFxcdFxcdGpxWEhSLnN0YXR1cyA9IHN0YXR1cztcXG5cXHRcXHRcXHRqcVhIUi5zdGF0dXNUZXh0ID0gKCBuYXRpdmVTdGF0dXNUZXh0IHx8IHN0YXR1c1RleHQgKSArIFxcXCJcXFwiO1xcblxcblxcdFxcdFxcdC8vIFN1Y2Nlc3MvRXJyb3JcXG5cXHRcXHRcXHRpZiAoIGlzU3VjY2VzcyApIHtcXG5cXHRcXHRcXHRcXHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIHN1Y2Nlc3MsIHN0YXR1c1RleHQsIGpxWEhSIF0gKTtcXG5cXHRcXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdFxcdGRlZmVycmVkLnJlamVjdFdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCwgZXJyb3IgXSApO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHQvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xcblxcdFxcdFxcdGpxWEhSLnN0YXR1c0NvZGUoIHN0YXR1c0NvZGUgKTtcXG5cXHRcXHRcXHRzdGF0dXNDb2RlID0gdW5kZWZpbmVkO1xcblxcblxcdFxcdFxcdGlmICggZmlyZUdsb2JhbHMgKSB7XFxuXFx0XFx0XFx0XFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIGlzU3VjY2VzcyA/IFxcXCJhamF4U3VjY2Vzc1xcXCIgOiBcXFwiYWpheEVycm9yXFxcIixcXG5cXHRcXHRcXHRcXHRcXHRbIGpxWEhSLCBzLCBpc1N1Y2Nlc3MgPyBzdWNjZXNzIDogZXJyb3IgXSApO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHQvLyBDb21wbGV0ZVxcblxcdFxcdFxcdGNvbXBsZXRlRGVmZXJyZWQuZmlyZVdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCBdICk7XFxuXFxuXFx0XFx0XFx0aWYgKCBmaXJlR2xvYmFscyApIHtcXG5cXHRcXHRcXHRcXHRnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggXFxcImFqYXhDb21wbGV0ZVxcXCIsIFsganFYSFIsIHMgXSApO1xcblxcblxcdFxcdFxcdFxcdC8vIEhhbmRsZSB0aGUgZ2xvYmFsIEFKQVggY291bnRlclxcblxcdFxcdFxcdFxcdGlmICggISggLS1qUXVlcnkuYWN0aXZlICkgKSB7XFxuXFx0XFx0XFx0XFx0XFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIFxcXCJhamF4U3RvcFxcXCIgKTtcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXG5cXHRcXHRyZXR1cm4ganFYSFI7XFxuXFx0fSxcXG5cXG5cXHRnZXRKU09OOiBmdW5jdGlvbiggdXJsLCBkYXRhLCBjYWxsYmFjayApIHtcXG5cXHRcXHRyZXR1cm4galF1ZXJ5LmdldCggdXJsLCBkYXRhLCBjYWxsYmFjaywgXFxcImpzb25cXFwiICk7XFxuXFx0fSxcXG5cXG5cXHRnZXRTY3JpcHQ6IGZ1bmN0aW9uKCB1cmwsIGNhbGxiYWNrICkge1xcblxcdFxcdHJldHVybiBqUXVlcnkuZ2V0KCB1cmwsIHVuZGVmaW5lZCwgY2FsbGJhY2ssIFxcXCJzY3JpcHRcXFwiICk7XFxuXFx0fVxcbn0gKTtcXG5cXG5qUXVlcnkuZWFjaCggWyBcXFwiZ2V0XFxcIiwgXFxcInBvc3RcXFwiIF0sIGZ1bmN0aW9uKCBpLCBtZXRob2QgKSB7XFxuXFx0alF1ZXJ5WyBtZXRob2QgXSA9IGZ1bmN0aW9uKCB1cmwsIGRhdGEsIGNhbGxiYWNrLCB0eXBlICkge1xcblxcblxcdFxcdC8vIFNoaWZ0IGFyZ3VtZW50cyBpZiBkYXRhIGFyZ3VtZW50IHdhcyBvbWl0dGVkXFxuXFx0XFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggZGF0YSApICkge1xcblxcdFxcdFxcdHR5cGUgPSB0eXBlIHx8IGNhbGxiYWNrO1xcblxcdFxcdFxcdGNhbGxiYWNrID0gZGF0YTtcXG5cXHRcXHRcXHRkYXRhID0gdW5kZWZpbmVkO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBUaGUgdXJsIGNhbiBiZSBhbiBvcHRpb25zIG9iamVjdCAod2hpY2ggdGhlbiBtdXN0IGhhdmUgLnVybClcXG5cXHRcXHRyZXR1cm4galF1ZXJ5LmFqYXgoIGpRdWVyeS5leHRlbmQoIHtcXG5cXHRcXHRcXHR1cmw6IHVybCxcXG5cXHRcXHRcXHR0eXBlOiBtZXRob2QsXFxuXFx0XFx0XFx0ZGF0YVR5cGU6IHR5cGUsXFxuXFx0XFx0XFx0ZGF0YTogZGF0YSxcXG5cXHRcXHRcXHRzdWNjZXNzOiBjYWxsYmFja1xcblxcdFxcdH0sIGpRdWVyeS5pc1BsYWluT2JqZWN0KCB1cmwgKSAmJiB1cmwgKSApO1xcblxcdH07XFxufSApO1xcblxcblxcbmpRdWVyeS5fZXZhbFVybCA9IGZ1bmN0aW9uKCB1cmwgKSB7XFxuXFx0cmV0dXJuIGpRdWVyeS5hamF4KCB7XFxuXFx0XFx0dXJsOiB1cmwsXFxuXFxuXFx0XFx0Ly8gTWFrZSB0aGlzIGV4cGxpY2l0LCBzaW5jZSB1c2VyIGNhbiBvdmVycmlkZSB0aGlzIHRocm91Z2ggYWpheFNldHVwICgjMTEyNjQpXFxuXFx0XFx0dHlwZTogXFxcIkdFVFxcXCIsXFxuXFx0XFx0ZGF0YVR5cGU6IFxcXCJzY3JpcHRcXFwiLFxcblxcdFxcdGNhY2hlOiB0cnVlLFxcblxcdFxcdGFzeW5jOiBmYWxzZSxcXG5cXHRcXHRnbG9iYWw6IGZhbHNlLFxcblxcdFxcdFxcXCJ0aHJvd3NcXFwiOiB0cnVlXFxuXFx0fSApO1xcbn07XFxuXFxuXFxualF1ZXJ5LmZuLmV4dGVuZCgge1xcblxcdHdyYXBBbGw6IGZ1bmN0aW9uKCBodG1sICkge1xcblxcdFxcdHZhciB3cmFwO1xcblxcblxcdFxcdGlmICggdGhpc1sgMCBdICkge1xcblxcdFxcdFxcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKSApIHtcXG5cXHRcXHRcXHRcXHRodG1sID0gaHRtbC5jYWxsKCB0aGlzWyAwIF0gKTtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0Ly8gVGhlIGVsZW1lbnRzIHRvIHdyYXAgdGhlIHRhcmdldCBhcm91bmRcXG5cXHRcXHRcXHR3cmFwID0galF1ZXJ5KCBodG1sLCB0aGlzWyAwIF0ub3duZXJEb2N1bWVudCApLmVxKCAwICkuY2xvbmUoIHRydWUgKTtcXG5cXG5cXHRcXHRcXHRpZiAoIHRoaXNbIDAgXS5wYXJlbnROb2RlICkge1xcblxcdFxcdFxcdFxcdHdyYXAuaW5zZXJ0QmVmb3JlKCB0aGlzWyAwIF0gKTtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0d3JhcC5tYXAoIGZ1bmN0aW9uKCkge1xcblxcdFxcdFxcdFxcdHZhciBlbGVtID0gdGhpcztcXG5cXG5cXHRcXHRcXHRcXHR3aGlsZSAoIGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQgKSB7XFxuXFx0XFx0XFx0XFx0XFx0ZWxlbSA9IGVsZW0uZmlyc3RFbGVtZW50Q2hpbGQ7XFxuXFx0XFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdFxcdHJldHVybiBlbGVtO1xcblxcdFxcdFxcdH0gKS5hcHBlbmQoIHRoaXMgKTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0cmV0dXJuIHRoaXM7XFxuXFx0fSxcXG5cXG5cXHR3cmFwSW5uZXI6IGZ1bmN0aW9uKCBodG1sICkge1xcblxcdFxcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKSApIHtcXG5cXHRcXHRcXHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcXG5cXHRcXHRcXHRcXHRqUXVlcnkoIHRoaXMgKS53cmFwSW5uZXIoIGh0bWwuY2FsbCggdGhpcywgaSApICk7XFxuXFx0XFx0XFx0fSApO1xcblxcdFxcdH1cXG5cXG5cXHRcXHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHR2YXIgc2VsZiA9IGpRdWVyeSggdGhpcyApLFxcblxcdFxcdFxcdFxcdGNvbnRlbnRzID0gc2VsZi5jb250ZW50cygpO1xcblxcblxcdFxcdFxcdGlmICggY29udGVudHMubGVuZ3RoICkge1xcblxcdFxcdFxcdFxcdGNvbnRlbnRzLndyYXBBbGwoIGh0bWwgKTtcXG5cXG5cXHRcXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdFxcdHNlbGYuYXBwZW5kKCBodG1sICk7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH0gKTtcXG5cXHR9LFxcblxcblxcdHdyYXA6IGZ1bmN0aW9uKCBodG1sICkge1xcblxcdFxcdHZhciBpc0Z1bmN0aW9uID0galF1ZXJ5LmlzRnVuY3Rpb24oIGh0bWwgKTtcXG5cXG5cXHRcXHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcXG5cXHRcXHRcXHRqUXVlcnkoIHRoaXMgKS53cmFwQWxsKCBpc0Z1bmN0aW9uID8gaHRtbC5jYWxsKCB0aGlzLCBpICkgOiBodG1sICk7XFxuXFx0XFx0fSApO1xcblxcdH0sXFxuXFxuXFx0dW53cmFwOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XFxuXFx0XFx0dGhpcy5wYXJlbnQoIHNlbGVjdG9yICkubm90KCBcXFwiYm9keVxcXCIgKS5lYWNoKCBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHRqUXVlcnkoIHRoaXMgKS5yZXBsYWNlV2l0aCggdGhpcy5jaGlsZE5vZGVzICk7XFxuXFx0XFx0fSApO1xcblxcdFxcdHJldHVybiB0aGlzO1xcblxcdH1cXG59ICk7XFxuXFxuXFxualF1ZXJ5LmV4cHIucHNldWRvcy5oaWRkZW4gPSBmdW5jdGlvbiggZWxlbSApIHtcXG5cXHRyZXR1cm4gIWpRdWVyeS5leHByLnBzZXVkb3MudmlzaWJsZSggZWxlbSApO1xcbn07XFxualF1ZXJ5LmV4cHIucHNldWRvcy52aXNpYmxlID0gZnVuY3Rpb24oIGVsZW0gKSB7XFxuXFx0cmV0dXJuICEhKCBlbGVtLm9mZnNldFdpZHRoIHx8IGVsZW0ub2Zmc2V0SGVpZ2h0IHx8IGVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKTtcXG59O1xcblxcblxcblxcblxcbmpRdWVyeS5hamF4U2V0dGluZ3MueGhyID0gZnVuY3Rpb24oKSB7XFxuXFx0dHJ5IHtcXG5cXHRcXHRyZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCgpO1xcblxcdH0gY2F0Y2ggKCBlICkge31cXG59O1xcblxcbnZhciB4aHJTdWNjZXNzU3RhdHVzID0ge1xcblxcblxcdFxcdC8vIEZpbGUgcHJvdG9jb2wgYWx3YXlzIHlpZWxkcyBzdGF0dXMgY29kZSAwLCBhc3N1bWUgMjAwXFxuXFx0XFx0MDogMjAwLFxcblxcblxcdFxcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XFxuXFx0XFx0Ly8gIzE0NTA6IHNvbWV0aW1lcyBJRSByZXR1cm5zIDEyMjMgd2hlbiBpdCBzaG91bGQgYmUgMjA0XFxuXFx0XFx0MTIyMzogMjA0XFxuXFx0fSxcXG5cXHR4aHJTdXBwb3J0ZWQgPSBqUXVlcnkuYWpheFNldHRpbmdzLnhocigpO1xcblxcbnN1cHBvcnQuY29ycyA9ICEheGhyU3VwcG9ydGVkICYmICggXFxcIndpdGhDcmVkZW50aWFsc1xcXCIgaW4geGhyU3VwcG9ydGVkICk7XFxuc3VwcG9ydC5hamF4ID0geGhyU3VwcG9ydGVkID0gISF4aHJTdXBwb3J0ZWQ7XFxuXFxualF1ZXJ5LmFqYXhUcmFuc3BvcnQoIGZ1bmN0aW9uKCBvcHRpb25zICkge1xcblxcdHZhciBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaztcXG5cXG5cXHQvLyBDcm9zcyBkb21haW4gb25seSBhbGxvd2VkIGlmIHN1cHBvcnRlZCB0aHJvdWdoIFhNTEh0dHBSZXF1ZXN0XFxuXFx0aWYgKCBzdXBwb3J0LmNvcnMgfHwgeGhyU3VwcG9ydGVkICYmICFvcHRpb25zLmNyb3NzRG9tYWluICkge1xcblxcdFxcdHJldHVybiB7XFxuXFx0XFx0XFx0c2VuZDogZnVuY3Rpb24oIGhlYWRlcnMsIGNvbXBsZXRlICkge1xcblxcdFxcdFxcdFxcdHZhciBpLFxcblxcdFxcdFxcdFxcdFxcdHhociA9IG9wdGlvbnMueGhyKCk7XFxuXFxuXFx0XFx0XFx0XFx0eGhyLm9wZW4oXFxuXFx0XFx0XFx0XFx0XFx0b3B0aW9ucy50eXBlLFxcblxcdFxcdFxcdFxcdFxcdG9wdGlvbnMudXJsLFxcblxcdFxcdFxcdFxcdFxcdG9wdGlvbnMuYXN5bmMsXFxuXFx0XFx0XFx0XFx0XFx0b3B0aW9ucy51c2VybmFtZSxcXG5cXHRcXHRcXHRcXHRcXHRvcHRpb25zLnBhc3N3b3JkXFxuXFx0XFx0XFx0XFx0KTtcXG5cXG5cXHRcXHRcXHRcXHQvLyBBcHBseSBjdXN0b20gZmllbGRzIGlmIHByb3ZpZGVkXFxuXFx0XFx0XFx0XFx0aWYgKCBvcHRpb25zLnhockZpZWxkcyApIHtcXG5cXHRcXHRcXHRcXHRcXHRmb3IgKCBpIGluIG9wdGlvbnMueGhyRmllbGRzICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdHhoclsgaSBdID0gb3B0aW9ucy54aHJGaWVsZHNbIGkgXTtcXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdFxcdC8vIE92ZXJyaWRlIG1pbWUgdHlwZSBpZiBuZWVkZWRcXG5cXHRcXHRcXHRcXHRpZiAoIG9wdGlvbnMubWltZVR5cGUgJiYgeGhyLm92ZXJyaWRlTWltZVR5cGUgKSB7XFxuXFx0XFx0XFx0XFx0XFx0eGhyLm92ZXJyaWRlTWltZVR5cGUoIG9wdGlvbnMubWltZVR5cGUgKTtcXG5cXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0Ly8gWC1SZXF1ZXN0ZWQtV2l0aCBoZWFkZXJcXG5cXHRcXHRcXHRcXHQvLyBGb3IgY3Jvc3MtZG9tYWluIHJlcXVlc3RzLCBzZWVpbmcgYXMgY29uZGl0aW9ucyBmb3IgYSBwcmVmbGlnaHQgYXJlXFxuXFx0XFx0XFx0XFx0Ly8gYWtpbiB0byBhIGppZ3NhdyBwdXp6bGUsIHdlIHNpbXBseSBuZXZlciBzZXQgaXQgdG8gYmUgc3VyZS5cXG5cXHRcXHRcXHRcXHQvLyAoaXQgY2FuIGFsd2F5cyBiZSBzZXQgb24gYSBwZXItcmVxdWVzdCBiYXNpcyBvciBldmVuIHVzaW5nIGFqYXhTZXR1cClcXG5cXHRcXHRcXHRcXHQvLyBGb3Igc2FtZS1kb21haW4gcmVxdWVzdHMsIHdvbid0IGNoYW5nZSBoZWFkZXIgaWYgYWxyZWFkeSBwcm92aWRlZC5cXG5cXHRcXHRcXHRcXHRpZiAoICFvcHRpb25zLmNyb3NzRG9tYWluICYmICFoZWFkZXJzWyBcXFwiWC1SZXF1ZXN0ZWQtV2l0aFxcXCIgXSApIHtcXG5cXHRcXHRcXHRcXHRcXHRoZWFkZXJzWyBcXFwiWC1SZXF1ZXN0ZWQtV2l0aFxcXCIgXSA9IFxcXCJYTUxIdHRwUmVxdWVzdFxcXCI7XFxuXFx0XFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdFxcdC8vIFNldCBoZWFkZXJzXFxuXFx0XFx0XFx0XFx0Zm9yICggaSBpbiBoZWFkZXJzICkge1xcblxcdFxcdFxcdFxcdFxcdHhoci5zZXRSZXF1ZXN0SGVhZGVyKCBpLCBoZWFkZXJzWyBpIF0gKTtcXG5cXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0Ly8gQ2FsbGJhY2tcXG5cXHRcXHRcXHRcXHRjYWxsYmFjayA9IGZ1bmN0aW9uKCB0eXBlICkge1xcblxcdFxcdFxcdFxcdFxcdHJldHVybiBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRpZiAoIGNhbGxiYWNrICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdGNhbGxiYWNrID0gZXJyb3JDYWxsYmFjayA9IHhoci5vbmxvYWQgPVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdHhoci5vbmVycm9yID0geGhyLm9uYWJvcnQgPSB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRpZiAoIHR5cGUgPT09IFxcXCJhYm9ydFxcXCIgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0eGhyLmFib3J0KCk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0fSBlbHNlIGlmICggdHlwZSA9PT0gXFxcImVycm9yXFxcIiApIHtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIE9uIGEgbWFudWFsIG5hdGl2ZSBhYm9ydCwgSUU5IHRocm93c1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIGVycm9ycyBvbiBhbnkgcHJvcGVydHkgYWNjZXNzIHRoYXQgaXMgbm90IHJlYWR5U3RhdGVcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRpZiAoIHR5cGVvZiB4aHIuc3RhdHVzICE9PSBcXFwibnVtYmVyXFxcIiApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRjb21wbGV0ZSggMCwgXFxcImVycm9yXFxcIiApO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdH0gZWxzZSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0Y29tcGxldGUoXFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0Ly8gRmlsZTogcHJvdG9jb2wgYWx3YXlzIHlpZWxkcyBzdGF0dXMgMDsgc2VlICM4NjA1LCAjMTQyMDdcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR4aHIuc3RhdHVzLFxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdHhoci5zdGF0dXNUZXh0XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0KTtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRjb21wbGV0ZShcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR4aHJTdWNjZXNzU3RhdHVzWyB4aHIuc3RhdHVzIF0gfHwgeGhyLnN0YXR1cyxcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR4aHIuc3RhdHVzVGV4dCxcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIElFOSBoYXMgbm8gWEhSMiBidXQgdGhyb3dzIG9uIGJpbmFyeSAodHJhYy0xMTQyNilcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBGb3IgWEhSMiBub24tdGV4dCwgbGV0IHRoZSBjYWxsZXIgaGFuZGxlIGl0IChnaC0yNDk4KVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdCggeGhyLnJlc3BvbnNlVHlwZSB8fCBcXFwidGV4dFxcXCIgKSAhPT0gXFxcInRleHRcXFwiICB8fFxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdHR5cGVvZiB4aHIucmVzcG9uc2VUZXh0ICE9PSBcXFwic3RyaW5nXFxcIiA/XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0XFx0eyBiaW5hcnk6IHhoci5yZXNwb25zZSB9IDpcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR7IHRleHQ6IHhoci5yZXNwb25zZVRleHQgfSxcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHQpO1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0fTtcXG5cXHRcXHRcXHRcXHR9O1xcblxcblxcdFxcdFxcdFxcdC8vIExpc3RlbiB0byBldmVudHNcXG5cXHRcXHRcXHRcXHR4aHIub25sb2FkID0gY2FsbGJhY2soKTtcXG5cXHRcXHRcXHRcXHRlcnJvckNhbGxiYWNrID0geGhyLm9uZXJyb3IgPSBjYWxsYmFjayggXFxcImVycm9yXFxcIiApO1xcblxcblxcdFxcdFxcdFxcdC8vIFN1cHBvcnQ6IElFIDkgb25seVxcblxcdFxcdFxcdFxcdC8vIFVzZSBvbnJlYWR5c3RhdGVjaGFuZ2UgdG8gcmVwbGFjZSBvbmFib3J0XFxuXFx0XFx0XFx0XFx0Ly8gdG8gaGFuZGxlIHVuY2F1Z2h0IGFib3J0c1xcblxcdFxcdFxcdFxcdGlmICggeGhyLm9uYWJvcnQgIT09IHVuZGVmaW5lZCApIHtcXG5cXHRcXHRcXHRcXHRcXHR4aHIub25hYm9ydCA9IGVycm9yQ2FsbGJhY2s7XFxuXFx0XFx0XFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRcXHRcXHR4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XFxuXFxuXFx0XFx0XFx0XFx0XFx0XFx0Ly8gQ2hlY2sgcmVhZHlTdGF0ZSBiZWZvcmUgdGltZW91dCBhcyBpdCBjaGFuZ2VzXFxuXFx0XFx0XFx0XFx0XFx0XFx0aWYgKCB4aHIucmVhZHlTdGF0ZSA9PT0gNCApIHtcXG5cXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBBbGxvdyBvbmVycm9yIHRvIGJlIGNhbGxlZCBmaXJzdCxcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBidXQgdGhhdCB3aWxsIG5vdCBoYW5kbGUgYSBuYXRpdmUgYWJvcnRcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHQvLyBBbHNvLCBzYXZlIGVycm9yQ2FsbGJhY2sgdG8gYSB2YXJpYWJsZVxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdC8vIGFzIHhoci5vbmVycm9yIGNhbm5vdCBiZSBhY2Nlc3NlZFxcblxcdFxcdFxcdFxcdFxcdFxcdFxcdHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHRpZiAoIGNhbGxiYWNrICkge1xcblxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdFxcdGVycm9yQ2FsbGJhY2soKTtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0XFx0XFx0XFx0fSApO1xcblxcdFxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHRcXHR9O1xcblxcdFxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRcXHQvLyBDcmVhdGUgdGhlIGFib3J0IGNhbGxiYWNrXFxuXFx0XFx0XFx0XFx0Y2FsbGJhY2sgPSBjYWxsYmFjayggXFxcImFib3J0XFxcIiApO1xcblxcblxcdFxcdFxcdFxcdHRyeSB7XFxuXFxuXFx0XFx0XFx0XFx0XFx0Ly8gRG8gc2VuZCB0aGUgcmVxdWVzdCAodGhpcyBtYXkgcmFpc2UgYW4gZXhjZXB0aW9uKVxcblxcdFxcdFxcdFxcdFxcdHhoci5zZW5kKCBvcHRpb25zLmhhc0NvbnRlbnQgJiYgb3B0aW9ucy5kYXRhIHx8IG51bGwgKTtcXG5cXHRcXHRcXHRcXHR9IGNhdGNoICggZSApIHtcXG5cXG5cXHRcXHRcXHRcXHRcXHQvLyAjMTQ2ODM6IE9ubHkgcmV0aHJvdyBpZiB0aGlzIGhhc24ndCBiZWVuIG5vdGlmaWVkIGFzIGFuIGVycm9yIHlldFxcblxcdFxcdFxcdFxcdFxcdGlmICggY2FsbGJhY2sgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0dGhyb3cgZTtcXG5cXHRcXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdH0sXFxuXFxuXFx0XFx0XFx0YWJvcnQ6IGZ1bmN0aW9uKCkge1xcblxcdFxcdFxcdFxcdGlmICggY2FsbGJhY2sgKSB7XFxuXFx0XFx0XFx0XFx0XFx0Y2FsbGJhY2soKTtcXG5cXHRcXHRcXHRcXHR9XFxuXFx0XFx0XFx0fVxcblxcdFxcdH07XFxuXFx0fVxcbn0gKTtcXG5cXG5cXG5cXG5cXG4vLyBQcmV2ZW50IGF1dG8tZXhlY3V0aW9uIG9mIHNjcmlwdHMgd2hlbiBubyBleHBsaWNpdCBkYXRhVHlwZSB3YXMgcHJvdmlkZWQgKFNlZSBnaC0yNDMyKVxcbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBmdW5jdGlvbiggcyApIHtcXG5cXHRpZiAoIHMuY3Jvc3NEb21haW4gKSB7XFxuXFx0XFx0cy5jb250ZW50cy5zY3JpcHQgPSBmYWxzZTtcXG5cXHR9XFxufSApO1xcblxcbi8vIEluc3RhbGwgc2NyaXB0IGRhdGFUeXBlXFxualF1ZXJ5LmFqYXhTZXR1cCgge1xcblxcdGFjY2VwdHM6IHtcXG5cXHRcXHRzY3JpcHQ6IFxcXCJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIFxcXCIgK1xcblxcdFxcdFxcdFxcXCJhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHRcXFwiXFxuXFx0fSxcXG5cXHRjb250ZW50czoge1xcblxcdFxcdHNjcmlwdDogL1xcXFxiKD86amF2YXxlY21hKXNjcmlwdFxcXFxiL1xcblxcdH0sXFxuXFx0Y29udmVydGVyczoge1xcblxcdFxcdFxcXCJ0ZXh0IHNjcmlwdFxcXCI6IGZ1bmN0aW9uKCB0ZXh0ICkge1xcblxcdFxcdFxcdGpRdWVyeS5nbG9iYWxFdmFsKCB0ZXh0ICk7XFxuXFx0XFx0XFx0cmV0dXJuIHRleHQ7XFxuXFx0XFx0fVxcblxcdH1cXG59ICk7XFxuXFxuLy8gSGFuZGxlIGNhY2hlJ3Mgc3BlY2lhbCBjYXNlIGFuZCBjcm9zc0RvbWFpblxcbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBcXFwic2NyaXB0XFxcIiwgZnVuY3Rpb24oIHMgKSB7XFxuXFx0aWYgKCBzLmNhY2hlID09PSB1bmRlZmluZWQgKSB7XFxuXFx0XFx0cy5jYWNoZSA9IGZhbHNlO1xcblxcdH1cXG5cXHRpZiAoIHMuY3Jvc3NEb21haW4gKSB7XFxuXFx0XFx0cy50eXBlID0gXFxcIkdFVFxcXCI7XFxuXFx0fVxcbn0gKTtcXG5cXG4vLyBCaW5kIHNjcmlwdCB0YWcgaGFjayB0cmFuc3BvcnRcXG5qUXVlcnkuYWpheFRyYW5zcG9ydCggXFxcInNjcmlwdFxcXCIsIGZ1bmN0aW9uKCBzICkge1xcblxcblxcdC8vIFRoaXMgdHJhbnNwb3J0IG9ubHkgZGVhbHMgd2l0aCBjcm9zcyBkb21haW4gcmVxdWVzdHNcXG5cXHRpZiAoIHMuY3Jvc3NEb21haW4gKSB7XFxuXFx0XFx0dmFyIHNjcmlwdCwgY2FsbGJhY2s7XFxuXFx0XFx0cmV0dXJuIHtcXG5cXHRcXHRcXHRzZW5kOiBmdW5jdGlvbiggXywgY29tcGxldGUgKSB7XFxuXFx0XFx0XFx0XFx0c2NyaXB0ID0galF1ZXJ5KCBcXFwiPHNjcmlwdD5cXFwiICkucHJvcCgge1xcblxcdFxcdFxcdFxcdFxcdGNoYXJzZXQ6IHMuc2NyaXB0Q2hhcnNldCxcXG5cXHRcXHRcXHRcXHRcXHRzcmM6IHMudXJsXFxuXFx0XFx0XFx0XFx0fSApLm9uKFxcblxcdFxcdFxcdFxcdFxcdFxcXCJsb2FkIGVycm9yXFxcIixcXG5cXHRcXHRcXHRcXHRcXHRjYWxsYmFjayA9IGZ1bmN0aW9uKCBldnQgKSB7XFxuXFx0XFx0XFx0XFx0XFx0XFx0c2NyaXB0LnJlbW92ZSgpO1xcblxcdFxcdFxcdFxcdFxcdFxcdGNhbGxiYWNrID0gbnVsbDtcXG5cXHRcXHRcXHRcXHRcXHRcXHRpZiAoIGV2dCApIHtcXG5cXHRcXHRcXHRcXHRcXHRcXHRcXHRjb21wbGV0ZSggZXZ0LnR5cGUgPT09IFxcXCJlcnJvclxcXCIgPyA0MDQgOiAyMDAsIGV2dC50eXBlICk7XFxuXFx0XFx0XFx0XFx0XFx0XFx0fVxcblxcdFxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHRcXHQpO1xcblxcblxcdFxcdFxcdFxcdC8vIFVzZSBuYXRpdmUgRE9NIG1hbmlwdWxhdGlvbiB0byBhdm9pZCBvdXIgZG9tTWFuaXAgQUpBWCB0cmlja2VyeVxcblxcdFxcdFxcdFxcdGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoIHNjcmlwdFsgMCBdICk7XFxuXFx0XFx0XFx0fSxcXG5cXHRcXHRcXHRhYm9ydDogZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0XFx0aWYgKCBjYWxsYmFjayApIHtcXG5cXHRcXHRcXHRcXHRcXHRjYWxsYmFjaygpO1xcblxcdFxcdFxcdFxcdH1cXG5cXHRcXHRcXHR9XFxuXFx0XFx0fTtcXG5cXHR9XFxufSApO1xcblxcblxcblxcblxcbnZhciBvbGRDYWxsYmFja3MgPSBbXSxcXG5cXHRyanNvbnAgPSAvKD0pXFxcXD8oPz0mfCQpfFxcXFw/XFxcXD8vO1xcblxcbi8vIERlZmF1bHQganNvbnAgc2V0dGluZ3NcXG5qUXVlcnkuYWpheFNldHVwKCB7XFxuXFx0anNvbnA6IFxcXCJjYWxsYmFja1xcXCIsXFxuXFx0anNvbnBDYWxsYmFjazogZnVuY3Rpb24oKSB7XFxuXFx0XFx0dmFyIGNhbGxiYWNrID0gb2xkQ2FsbGJhY2tzLnBvcCgpIHx8ICggalF1ZXJ5LmV4cGFuZG8gKyBcXFwiX1xcXCIgKyAoIG5vbmNlKysgKSApO1xcblxcdFxcdHRoaXNbIGNhbGxiYWNrIF0gPSB0cnVlO1xcblxcdFxcdHJldHVybiBjYWxsYmFjaztcXG5cXHR9XFxufSApO1xcblxcbi8vIERldGVjdCwgbm9ybWFsaXplIG9wdGlvbnMgYW5kIGluc3RhbGwgY2FsbGJhY2tzIGZvciBqc29ucCByZXF1ZXN0c1xcbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBcXFwianNvbiBqc29ucFxcXCIsIGZ1bmN0aW9uKCBzLCBvcmlnaW5hbFNldHRpbmdzLCBqcVhIUiApIHtcXG5cXG5cXHR2YXIgY2FsbGJhY2tOYW1lLCBvdmVyd3JpdHRlbiwgcmVzcG9uc2VDb250YWluZXIsXFxuXFx0XFx0anNvblByb3AgPSBzLmpzb25wICE9PSBmYWxzZSAmJiAoIHJqc29ucC50ZXN0KCBzLnVybCApID9cXG5cXHRcXHRcXHRcXFwidXJsXFxcIiA6XFxuXFx0XFx0XFx0dHlwZW9mIHMuZGF0YSA9PT0gXFxcInN0cmluZ1xcXCIgJiZcXG5cXHRcXHRcXHRcXHQoIHMuY29udGVudFR5cGUgfHwgXFxcIlxcXCIgKVxcblxcdFxcdFxcdFxcdFxcdC5pbmRleE9mKCBcXFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXFxcIiApID09PSAwICYmXFxuXFx0XFx0XFx0XFx0cmpzb25wLnRlc3QoIHMuZGF0YSApICYmIFxcXCJkYXRhXFxcIlxcblxcdFxcdCk7XFxuXFxuXFx0Ly8gSGFuZGxlIGlmZiB0aGUgZXhwZWN0ZWQgZGF0YSB0eXBlIGlzIFxcXCJqc29ucFxcXCIgb3Igd2UgaGF2ZSBhIHBhcmFtZXRlciB0byBzZXRcXG5cXHRpZiAoIGpzb25Qcm9wIHx8IHMuZGF0YVR5cGVzWyAwIF0gPT09IFxcXCJqc29ucFxcXCIgKSB7XFxuXFxuXFx0XFx0Ly8gR2V0IGNhbGxiYWNrIG5hbWUsIHJlbWVtYmVyaW5nIHByZWV4aXN0aW5nIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBpdFxcblxcdFxcdGNhbGxiYWNrTmFtZSA9IHMuanNvbnBDYWxsYmFjayA9IGpRdWVyeS5pc0Z1bmN0aW9uKCBzLmpzb25wQ2FsbGJhY2sgKSA/XFxuXFx0XFx0XFx0cy5qc29ucENhbGxiYWNrKCkgOlxcblxcdFxcdFxcdHMuanNvbnBDYWxsYmFjaztcXG5cXG5cXHRcXHQvLyBJbnNlcnQgY2FsbGJhY2sgaW50byB1cmwgb3IgZm9ybSBkYXRhXFxuXFx0XFx0aWYgKCBqc29uUHJvcCApIHtcXG5cXHRcXHRcXHRzWyBqc29uUHJvcCBdID0gc1sganNvblByb3AgXS5yZXBsYWNlKCByanNvbnAsIFxcXCIkMVxcXCIgKyBjYWxsYmFja05hbWUgKTtcXG5cXHRcXHR9IGVsc2UgaWYgKCBzLmpzb25wICE9PSBmYWxzZSApIHtcXG5cXHRcXHRcXHRzLnVybCArPSAoIHJxdWVyeS50ZXN0KCBzLnVybCApID8gXFxcIiZcXFwiIDogXFxcIj9cXFwiICkgKyBzLmpzb25wICsgXFxcIj1cXFwiICsgY2FsbGJhY2tOYW1lO1xcblxcdFxcdH1cXG5cXG5cXHRcXHQvLyBVc2UgZGF0YSBjb252ZXJ0ZXIgdG8gcmV0cmlldmUganNvbiBhZnRlciBzY3JpcHQgZXhlY3V0aW9uXFxuXFx0XFx0cy5jb252ZXJ0ZXJzWyBcXFwic2NyaXB0IGpzb25cXFwiIF0gPSBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHRpZiAoICFyZXNwb25zZUNvbnRhaW5lciApIHtcXG5cXHRcXHRcXHRcXHRqUXVlcnkuZXJyb3IoIGNhbGxiYWNrTmFtZSArIFxcXCIgd2FzIG5vdCBjYWxsZWRcXFwiICk7XFxuXFx0XFx0XFx0fVxcblxcdFxcdFxcdHJldHVybiByZXNwb25zZUNvbnRhaW5lclsgMCBdO1xcblxcdFxcdH07XFxuXFxuXFx0XFx0Ly8gRm9yY2UganNvbiBkYXRhVHlwZVxcblxcdFxcdHMuZGF0YVR5cGVzWyAwIF0gPSBcXFwianNvblxcXCI7XFxuXFxuXFx0XFx0Ly8gSW5zdGFsbCBjYWxsYmFja1xcblxcdFxcdG92ZXJ3cml0dGVuID0gd2luZG93WyBjYWxsYmFja05hbWUgXTtcXG5cXHRcXHR3aW5kb3dbIGNhbGxiYWNrTmFtZSBdID0gZnVuY3Rpb24oKSB7XFxuXFx0XFx0XFx0cmVzcG9uc2VDb250YWluZXIgPSBhcmd1bWVudHM7XFxuXFx0XFx0fTtcXG5cXG5cXHRcXHQvLyBDbGVhbi11cCBmdW5jdGlvbiAoZmlyZXMgYWZ0ZXIgY29udmVydGVycylcXG5cXHRcXHRqcVhIUi5hbHdheXMoIGZ1bmN0aW9uKCkge1xcblxcblxcdFxcdFxcdC8vIElmIHByZXZpb3VzIHZhbHVlIGRpZG4ndCBleGlzdCAtIHJlbW92ZSBpdFxcblxcdFxcdFxcdGlmICggb3ZlcndyaXR0ZW4gPT09IHVuZGVmaW5lZCApIHtcXG5cXHRcXHRcXHRcXHRqUXVlcnkoIHdpbmRvdyApLnJlbW92ZVByb3AoIGNhbGxiYWNrTmFtZSApO1xcblxcblxcdFxcdFxcdC8vIE90aGVyd2lzZSByZXN0b3JlIHByZWV4aXN0aW5nIHZhbHVlXFxuXFx0XFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRcXHR3aW5kb3dbIGNhbGxiYWNrTmFtZSBdID0gb3ZlcndyaXR0ZW47XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdC8vIFNhdmUgYmFjayBhcyBmcmVlXFxuXFx0XFx0XFx0aWYgKCBzWyBjYWxsYmFja05hbWUgXSApIHtcXG5cXG5cXHRcXHRcXHRcXHQvLyBNYWtlIHN1cmUgdGhhdCByZS11c2luZyB0aGUgb3B0aW9ucyBkb2Vzbid0IHNjcmV3IHRoaW5ncyBhcm91bmRcXG5cXHRcXHRcXHRcXHRzLmpzb25wQ2FsbGJhY2sgPSBvcmlnaW5hbFNldHRpbmdzLmpzb25wQ2FsbGJhY2s7XFxuXFxuXFx0XFx0XFx0XFx0Ly8gU2F2ZSB0aGUgY2FsbGJhY2sgbmFtZSBmb3IgZnV0dXJlIHVzZVxcblxcdFxcdFxcdFxcdG9sZENhbGxiYWNrcy5wdXNoKCBjYWxsYmFja05hbWUgKTtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0Ly8gQ2FsbCBpZiBpdCB3YXMgYSBmdW5jdGlvbiBhbmQgd2UgaGF2ZSBhIHJlc3BvbnNlXFxuXFx0XFx0XFx0aWYgKCByZXNwb25zZUNvbnRhaW5lciAmJiBqUXVlcnkuaXNGdW5jdGlvbiggb3ZlcndyaXR0ZW4gKSApIHtcXG5cXHRcXHRcXHRcXHRvdmVyd3JpdHRlbiggcmVzcG9uc2VDb250YWluZXJbIDAgXSApO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHRyZXNwb25zZUNvbnRhaW5lciA9IG92ZXJ3cml0dGVuID0gdW5kZWZpbmVkO1xcblxcdFxcdH0gKTtcXG5cXG5cXHRcXHQvLyBEZWxlZ2F0ZSB0byBzY3JpcHRcXG5cXHRcXHRyZXR1cm4gXFxcInNjcmlwdFxcXCI7XFxuXFx0fVxcbn0gKTtcXG5cXG5cXG5cXG5cXG4vLyBTdXBwb3J0OiBTYWZhcmkgOCBvbmx5XFxuLy8gSW4gU2FmYXJpIDggZG9jdW1lbnRzIGNyZWF0ZWQgdmlhIGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudFxcbi8vIGNvbGxhcHNlIHNpYmxpbmcgZm9ybXM6IHRoZSBzZWNvbmQgb25lIGJlY29tZXMgYSBjaGlsZCBvZiB0aGUgZmlyc3Qgb25lLlxcbi8vIEJlY2F1c2Ugb2YgdGhhdCwgdGhpcyBzZWN1cml0eSBtZWFzdXJlIGhhcyB0byBiZSBkaXNhYmxlZCBpbiBTYWZhcmkgOC5cXG4vLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM3MzM3XFxuc3VwcG9ydC5jcmVhdGVIVE1MRG9jdW1lbnQgPSAoIGZ1bmN0aW9uKCkge1xcblxcdHZhciBib2R5ID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCBcXFwiXFxcIiApLmJvZHk7XFxuXFx0Ym9keS5pbm5lckhUTUwgPSBcXFwiPGZvcm0+PC9mb3JtPjxmb3JtPjwvZm9ybT5cXFwiO1xcblxcdHJldHVybiBib2R5LmNoaWxkTm9kZXMubGVuZ3RoID09PSAyO1xcbn0gKSgpO1xcblxcblxcbi8vIEFyZ3VtZW50IFxcXCJkYXRhXFxcIiBzaG91bGQgYmUgc3RyaW5nIG9mIGh0bWxcXG4vLyBjb250ZXh0IChvcHRpb25hbCk6IElmIHNwZWNpZmllZCwgdGhlIGZyYWdtZW50IHdpbGwgYmUgY3JlYXRlZCBpbiB0aGlzIGNvbnRleHQsXFxuLy8gZGVmYXVsdHMgdG8gZG9jdW1lbnRcXG4vLyBrZWVwU2NyaXB0cyAob3B0aW9uYWwpOiBJZiB0cnVlLCB3aWxsIGluY2x1ZGUgc2NyaXB0cyBwYXNzZWQgaW4gdGhlIGh0bWwgc3RyaW5nXFxualF1ZXJ5LnBhcnNlSFRNTCA9IGZ1bmN0aW9uKCBkYXRhLCBjb250ZXh0LCBrZWVwU2NyaXB0cyApIHtcXG5cXHRpZiAoIHR5cGVvZiBkYXRhICE9PSBcXFwic3RyaW5nXFxcIiApIHtcXG5cXHRcXHRyZXR1cm4gW107XFxuXFx0fVxcblxcdGlmICggdHlwZW9mIGNvbnRleHQgPT09IFxcXCJib29sZWFuXFxcIiApIHtcXG5cXHRcXHRrZWVwU2NyaXB0cyA9IGNvbnRleHQ7XFxuXFx0XFx0Y29udGV4dCA9IGZhbHNlO1xcblxcdH1cXG5cXG5cXHR2YXIgYmFzZSwgcGFyc2VkLCBzY3JpcHRzO1xcblxcblxcdGlmICggIWNvbnRleHQgKSB7XFxuXFxuXFx0XFx0Ly8gU3RvcCBzY3JpcHRzIG9yIGlubGluZSBldmVudCBoYW5kbGVycyBmcm9tIGJlaW5nIGV4ZWN1dGVkIGltbWVkaWF0ZWx5XFxuXFx0XFx0Ly8gYnkgdXNpbmcgZG9jdW1lbnQuaW1wbGVtZW50YXRpb25cXG5cXHRcXHRpZiAoIHN1cHBvcnQuY3JlYXRlSFRNTERvY3VtZW50ICkge1xcblxcdFxcdFxcdGNvbnRleHQgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIFxcXCJcXFwiICk7XFxuXFxuXFx0XFx0XFx0Ly8gU2V0IHRoZSBiYXNlIGhyZWYgZm9yIHRoZSBjcmVhdGVkIGRvY3VtZW50XFxuXFx0XFx0XFx0Ly8gc28gYW55IHBhcnNlZCBlbGVtZW50cyB3aXRoIFVSTHNcXG5cXHRcXHRcXHQvLyBhcmUgYmFzZWQgb24gdGhlIGRvY3VtZW50J3MgVVJMIChnaC0yOTY1KVxcblxcdFxcdFxcdGJhc2UgPSBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIFxcXCJiYXNlXFxcIiApO1xcblxcdFxcdFxcdGJhc2UuaHJlZiA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7XFxuXFx0XFx0XFx0Y29udGV4dC5oZWFkLmFwcGVuZENoaWxkKCBiYXNlICk7XFxuXFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRjb250ZXh0ID0gZG9jdW1lbnQ7XFxuXFx0XFx0fVxcblxcdH1cXG5cXG5cXHRwYXJzZWQgPSByc2luZ2xlVGFnLmV4ZWMoIGRhdGEgKTtcXG5cXHRzY3JpcHRzID0gIWtlZXBTY3JpcHRzICYmIFtdO1xcblxcblxcdC8vIFNpbmdsZSB0YWdcXG5cXHRpZiAoIHBhcnNlZCApIHtcXG5cXHRcXHRyZXR1cm4gWyBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIHBhcnNlZFsgMSBdICkgXTtcXG5cXHR9XFxuXFxuXFx0cGFyc2VkID0gYnVpbGRGcmFnbWVudCggWyBkYXRhIF0sIGNvbnRleHQsIHNjcmlwdHMgKTtcXG5cXG5cXHRpZiAoIHNjcmlwdHMgJiYgc2NyaXB0cy5sZW5ndGggKSB7XFxuXFx0XFx0alF1ZXJ5KCBzY3JpcHRzICkucmVtb3ZlKCk7XFxuXFx0fVxcblxcblxcdHJldHVybiBqUXVlcnkubWVyZ2UoIFtdLCBwYXJzZWQuY2hpbGROb2RlcyApO1xcbn07XFxuXFxuXFxuLyoqXFxuICogTG9hZCBhIHVybCBpbnRvIGEgcGFnZVxcbiAqL1xcbmpRdWVyeS5mbi5sb2FkID0gZnVuY3Rpb24oIHVybCwgcGFyYW1zLCBjYWxsYmFjayApIHtcXG5cXHR2YXIgc2VsZWN0b3IsIHR5cGUsIHJlc3BvbnNlLFxcblxcdFxcdHNlbGYgPSB0aGlzLFxcblxcdFxcdG9mZiA9IHVybC5pbmRleE9mKCBcXFwiIFxcXCIgKTtcXG5cXG5cXHRpZiAoIG9mZiA+IC0xICkge1xcblxcdFxcdHNlbGVjdG9yID0gc3RyaXBBbmRDb2xsYXBzZSggdXJsLnNsaWNlKCBvZmYgKSApO1xcblxcdFxcdHVybCA9IHVybC5zbGljZSggMCwgb2ZmICk7XFxuXFx0fVxcblxcblxcdC8vIElmIGl0J3MgYSBmdW5jdGlvblxcblxcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHBhcmFtcyApICkge1xcblxcblxcdFxcdC8vIFdlIGFzc3VtZSB0aGF0IGl0J3MgdGhlIGNhbGxiYWNrXFxuXFx0XFx0Y2FsbGJhY2sgPSBwYXJhbXM7XFxuXFx0XFx0cGFyYW1zID0gdW5kZWZpbmVkO1xcblxcblxcdC8vIE90aGVyd2lzZSwgYnVpbGQgYSBwYXJhbSBzdHJpbmdcXG5cXHR9IGVsc2UgaWYgKCBwYXJhbXMgJiYgdHlwZW9mIHBhcmFtcyA9PT0gXFxcIm9iamVjdFxcXCIgKSB7XFxuXFx0XFx0dHlwZSA9IFxcXCJQT1NUXFxcIjtcXG5cXHR9XFxuXFxuXFx0Ly8gSWYgd2UgaGF2ZSBlbGVtZW50cyB0byBtb2RpZnksIG1ha2UgdGhlIHJlcXVlc3RcXG5cXHRpZiAoIHNlbGYubGVuZ3RoID4gMCApIHtcXG5cXHRcXHRqUXVlcnkuYWpheCgge1xcblxcdFxcdFxcdHVybDogdXJsLFxcblxcblxcdFxcdFxcdC8vIElmIFxcXCJ0eXBlXFxcIiB2YXJpYWJsZSBpcyB1bmRlZmluZWQsIHRoZW4gXFxcIkdFVFxcXCIgbWV0aG9kIHdpbGwgYmUgdXNlZC5cXG5cXHRcXHRcXHQvLyBNYWtlIHZhbHVlIG9mIHRoaXMgZmllbGQgZXhwbGljaXQgc2luY2VcXG5cXHRcXHRcXHQvLyB1c2VyIGNhbiBvdmVycmlkZSBpdCB0aHJvdWdoIGFqYXhTZXR1cCBtZXRob2RcXG5cXHRcXHRcXHR0eXBlOiB0eXBlIHx8IFxcXCJHRVRcXFwiLFxcblxcdFxcdFxcdGRhdGFUeXBlOiBcXFwiaHRtbFxcXCIsXFxuXFx0XFx0XFx0ZGF0YTogcGFyYW1zXFxuXFx0XFx0fSApLmRvbmUoIGZ1bmN0aW9uKCByZXNwb25zZVRleHQgKSB7XFxuXFxuXFx0XFx0XFx0Ly8gU2F2ZSByZXNwb25zZSBmb3IgdXNlIGluIGNvbXBsZXRlIGNhbGxiYWNrXFxuXFx0XFx0XFx0cmVzcG9uc2UgPSBhcmd1bWVudHM7XFxuXFxuXFx0XFx0XFx0c2VsZi5odG1sKCBzZWxlY3RvciA/XFxuXFxuXFx0XFx0XFx0XFx0Ly8gSWYgYSBzZWxlY3RvciB3YXMgc3BlY2lmaWVkLCBsb2NhdGUgdGhlIHJpZ2h0IGVsZW1lbnRzIGluIGEgZHVtbXkgZGl2XFxuXFx0XFx0XFx0XFx0Ly8gRXhjbHVkZSBzY3JpcHRzIHRvIGF2b2lkIElFICdQZXJtaXNzaW9uIERlbmllZCcgZXJyb3JzXFxuXFx0XFx0XFx0XFx0alF1ZXJ5KCBcXFwiPGRpdj5cXFwiICkuYXBwZW5kKCBqUXVlcnkucGFyc2VIVE1MKCByZXNwb25zZVRleHQgKSApLmZpbmQoIHNlbGVjdG9yICkgOlxcblxcblxcdFxcdFxcdFxcdC8vIE90aGVyd2lzZSB1c2UgdGhlIGZ1bGwgcmVzdWx0XFxuXFx0XFx0XFx0XFx0cmVzcG9uc2VUZXh0ICk7XFxuXFxuXFx0XFx0Ly8gSWYgdGhlIHJlcXVlc3Qgc3VjY2VlZHMsIHRoaXMgZnVuY3Rpb24gZ2V0cyBcXFwiZGF0YVxcXCIsIFxcXCJzdGF0dXNcXFwiLCBcXFwianFYSFJcXFwiXFxuXFx0XFx0Ly8gYnV0IHRoZXkgYXJlIGlnbm9yZWQgYmVjYXVzZSByZXNwb25zZSB3YXMgc2V0IGFib3ZlLlxcblxcdFxcdC8vIElmIGl0IGZhaWxzLCB0aGlzIGZ1bmN0aW9uIGdldHMgXFxcImpxWEhSXFxcIiwgXFxcInN0YXR1c1xcXCIsIFxcXCJlcnJvclxcXCJcXG5cXHRcXHR9ICkuYWx3YXlzKCBjYWxsYmFjayAmJiBmdW5jdGlvbigganFYSFIsIHN0YXR1cyApIHtcXG5cXHRcXHRcXHRzZWxmLmVhY2goIGZ1bmN0aW9uKCkge1xcblxcdFxcdFxcdFxcdGNhbGxiYWNrLmFwcGx5KCB0aGlzLCByZXNwb25zZSB8fCBbIGpxWEhSLnJlc3BvbnNlVGV4dCwgc3RhdHVzLCBqcVhIUiBdICk7XFxuXFx0XFx0XFx0fSApO1xcblxcdFxcdH0gKTtcXG5cXHR9XFxuXFxuXFx0cmV0dXJuIHRoaXM7XFxufTtcXG5cXG5cXG5cXG5cXG4vLyBBdHRhY2ggYSBidW5jaCBvZiBmdW5jdGlvbnMgZm9yIGhhbmRsaW5nIGNvbW1vbiBBSkFYIGV2ZW50c1xcbmpRdWVyeS5lYWNoKCBbXFxuXFx0XFxcImFqYXhTdGFydFxcXCIsXFxuXFx0XFxcImFqYXhTdG9wXFxcIixcXG5cXHRcXFwiYWpheENvbXBsZXRlXFxcIixcXG5cXHRcXFwiYWpheEVycm9yXFxcIixcXG5cXHRcXFwiYWpheFN1Y2Nlc3NcXFwiLFxcblxcdFxcXCJhamF4U2VuZFxcXCJcXG5dLCBmdW5jdGlvbiggaSwgdHlwZSApIHtcXG5cXHRqUXVlcnkuZm5bIHR5cGUgXSA9IGZ1bmN0aW9uKCBmbiApIHtcXG5cXHRcXHRyZXR1cm4gdGhpcy5vbiggdHlwZSwgZm4gKTtcXG5cXHR9O1xcbn0gKTtcXG5cXG5cXG5cXG5cXG5qUXVlcnkuZXhwci5wc2V1ZG9zLmFuaW1hdGVkID0gZnVuY3Rpb24oIGVsZW0gKSB7XFxuXFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBqUXVlcnkudGltZXJzLCBmdW5jdGlvbiggZm4gKSB7XFxuXFx0XFx0cmV0dXJuIGVsZW0gPT09IGZuLmVsZW07XFxuXFx0fSApLmxlbmd0aDtcXG59O1xcblxcblxcblxcblxcbi8qKlxcbiAqIEdldHMgYSB3aW5kb3cgZnJvbSBhbiBlbGVtZW50XFxuICovXFxuZnVuY3Rpb24gZ2V0V2luZG93KCBlbGVtICkge1xcblxcdHJldHVybiBqUXVlcnkuaXNXaW5kb3coIGVsZW0gKSA/IGVsZW0gOiBlbGVtLm5vZGVUeXBlID09PSA5ICYmIGVsZW0uZGVmYXVsdFZpZXc7XFxufVxcblxcbmpRdWVyeS5vZmZzZXQgPSB7XFxuXFx0c2V0T2Zmc2V0OiBmdW5jdGlvbiggZWxlbSwgb3B0aW9ucywgaSApIHtcXG5cXHRcXHR2YXIgY3VyUG9zaXRpb24sIGN1ckxlZnQsIGN1ckNTU1RvcCwgY3VyVG9wLCBjdXJPZmZzZXQsIGN1ckNTU0xlZnQsIGNhbGN1bGF0ZVBvc2l0aW9uLFxcblxcdFxcdFxcdHBvc2l0aW9uID0galF1ZXJ5LmNzcyggZWxlbSwgXFxcInBvc2l0aW9uXFxcIiApLFxcblxcdFxcdFxcdGN1ckVsZW0gPSBqUXVlcnkoIGVsZW0gKSxcXG5cXHRcXHRcXHRwcm9wcyA9IHt9O1xcblxcblxcdFxcdC8vIFNldCBwb3NpdGlvbiBmaXJzdCwgaW4tY2FzZSB0b3AvbGVmdCBhcmUgc2V0IGV2ZW4gb24gc3RhdGljIGVsZW1cXG5cXHRcXHRpZiAoIHBvc2l0aW9uID09PSBcXFwic3RhdGljXFxcIiApIHtcXG5cXHRcXHRcXHRlbGVtLnN0eWxlLnBvc2l0aW9uID0gXFxcInJlbGF0aXZlXFxcIjtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Y3VyT2Zmc2V0ID0gY3VyRWxlbS5vZmZzZXQoKTtcXG5cXHRcXHRjdXJDU1NUb3AgPSBqUXVlcnkuY3NzKCBlbGVtLCBcXFwidG9wXFxcIiApO1xcblxcdFxcdGN1ckNTU0xlZnQgPSBqUXVlcnkuY3NzKCBlbGVtLCBcXFwibGVmdFxcXCIgKTtcXG5cXHRcXHRjYWxjdWxhdGVQb3NpdGlvbiA9ICggcG9zaXRpb24gPT09IFxcXCJhYnNvbHV0ZVxcXCIgfHwgcG9zaXRpb24gPT09IFxcXCJmaXhlZFxcXCIgKSAmJlxcblxcdFxcdFxcdCggY3VyQ1NTVG9wICsgY3VyQ1NTTGVmdCApLmluZGV4T2YoIFxcXCJhdXRvXFxcIiApID4gLTE7XFxuXFxuXFx0XFx0Ly8gTmVlZCB0byBiZSBhYmxlIHRvIGNhbGN1bGF0ZSBwb3NpdGlvbiBpZiBlaXRoZXJcXG5cXHRcXHQvLyB0b3Agb3IgbGVmdCBpcyBhdXRvIGFuZCBwb3NpdGlvbiBpcyBlaXRoZXIgYWJzb2x1dGUgb3IgZml4ZWRcXG5cXHRcXHRpZiAoIGNhbGN1bGF0ZVBvc2l0aW9uICkge1xcblxcdFxcdFxcdGN1clBvc2l0aW9uID0gY3VyRWxlbS5wb3NpdGlvbigpO1xcblxcdFxcdFxcdGN1clRvcCA9IGN1clBvc2l0aW9uLnRvcDtcXG5cXHRcXHRcXHRjdXJMZWZ0ID0gY3VyUG9zaXRpb24ubGVmdDtcXG5cXG5cXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdGN1clRvcCA9IHBhcnNlRmxvYXQoIGN1ckNTU1RvcCApIHx8IDA7XFxuXFx0XFx0XFx0Y3VyTGVmdCA9IHBhcnNlRmxvYXQoIGN1ckNTU0xlZnQgKSB8fCAwO1xcblxcdFxcdH1cXG5cXG5cXHRcXHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBvcHRpb25zICkgKSB7XFxuXFxuXFx0XFx0XFx0Ly8gVXNlIGpRdWVyeS5leHRlbmQgaGVyZSB0byBhbGxvdyBtb2RpZmljYXRpb24gb2YgY29vcmRpbmF0ZXMgYXJndW1lbnQgKGdoLTE4NDgpXFxuXFx0XFx0XFx0b3B0aW9ucyA9IG9wdGlvbnMuY2FsbCggZWxlbSwgaSwgalF1ZXJ5LmV4dGVuZCgge30sIGN1ck9mZnNldCApICk7XFxuXFx0XFx0fVxcblxcblxcdFxcdGlmICggb3B0aW9ucy50b3AgIT0gbnVsbCApIHtcXG5cXHRcXHRcXHRwcm9wcy50b3AgPSAoIG9wdGlvbnMudG9wIC0gY3VyT2Zmc2V0LnRvcCApICsgY3VyVG9wO1xcblxcdFxcdH1cXG5cXHRcXHRpZiAoIG9wdGlvbnMubGVmdCAhPSBudWxsICkge1xcblxcdFxcdFxcdHByb3BzLmxlZnQgPSAoIG9wdGlvbnMubGVmdCAtIGN1ck9mZnNldC5sZWZ0ICkgKyBjdXJMZWZ0O1xcblxcdFxcdH1cXG5cXG5cXHRcXHRpZiAoIFxcXCJ1c2luZ1xcXCIgaW4gb3B0aW9ucyApIHtcXG5cXHRcXHRcXHRvcHRpb25zLnVzaW5nLmNhbGwoIGVsZW0sIHByb3BzICk7XFxuXFxuXFx0XFx0fSBlbHNlIHtcXG5cXHRcXHRcXHRjdXJFbGVtLmNzcyggcHJvcHMgKTtcXG5cXHRcXHR9XFxuXFx0fVxcbn07XFxuXFxualF1ZXJ5LmZuLmV4dGVuZCgge1xcblxcdG9mZnNldDogZnVuY3Rpb24oIG9wdGlvbnMgKSB7XFxuXFxuXFx0XFx0Ly8gUHJlc2VydmUgY2hhaW5pbmcgZm9yIHNldHRlclxcblxcdFxcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcXG5cXHRcXHRcXHRyZXR1cm4gb3B0aW9ucyA9PT0gdW5kZWZpbmVkID9cXG5cXHRcXHRcXHRcXHR0aGlzIDpcXG5cXHRcXHRcXHRcXHR0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xcblxcdFxcdFxcdFxcdFxcdGpRdWVyeS5vZmZzZXQuc2V0T2Zmc2V0KCB0aGlzLCBvcHRpb25zLCBpICk7XFxuXFx0XFx0XFx0XFx0fSApO1xcblxcdFxcdH1cXG5cXG5cXHRcXHR2YXIgZG9jRWxlbSwgd2luLCByZWN0LCBkb2MsXFxuXFx0XFx0XFx0ZWxlbSA9IHRoaXNbIDAgXTtcXG5cXG5cXHRcXHRpZiAoICFlbGVtICkge1xcblxcdFxcdFxcdHJldHVybjtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XFxuXFx0XFx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYVxcblxcdFxcdC8vIGRpc2Nvbm5lY3RlZCBub2RlIGluIElFIHRocm93cyBhbiBlcnJvclxcblxcdFxcdGlmICggIWVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKSB7XFxuXFx0XFx0XFx0cmV0dXJuIHsgdG9wOiAwLCBsZWZ0OiAwIH07XFxuXFx0XFx0fVxcblxcblxcdFxcdHJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xcblxcblxcdFxcdC8vIE1ha2Ugc3VyZSBlbGVtZW50IGlzIG5vdCBoaWRkZW4gKGRpc3BsYXk6IG5vbmUpXFxuXFx0XFx0aWYgKCByZWN0LndpZHRoIHx8IHJlY3QuaGVpZ2h0ICkge1xcblxcdFxcdFxcdGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudDtcXG5cXHRcXHRcXHR3aW4gPSBnZXRXaW5kb3coIGRvYyApO1xcblxcdFxcdFxcdGRvY0VsZW0gPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xcblxcblxcdFxcdFxcdHJldHVybiB7XFxuXFx0XFx0XFx0XFx0dG9wOiByZWN0LnRvcCArIHdpbi5wYWdlWU9mZnNldCAtIGRvY0VsZW0uY2xpZW50VG9wLFxcblxcdFxcdFxcdFxcdGxlZnQ6IHJlY3QubGVmdCArIHdpbi5wYWdlWE9mZnNldCAtIGRvY0VsZW0uY2xpZW50TGVmdFxcblxcdFxcdFxcdH07XFxuXFx0XFx0fVxcblxcblxcdFxcdC8vIFJldHVybiB6ZXJvcyBmb3IgZGlzY29ubmVjdGVkIGFuZCBoaWRkZW4gZWxlbWVudHMgKGdoLTIzMTApXFxuXFx0XFx0cmV0dXJuIHJlY3Q7XFxuXFx0fSxcXG5cXG5cXHRwb3NpdGlvbjogZnVuY3Rpb24oKSB7XFxuXFx0XFx0aWYgKCAhdGhpc1sgMCBdICkge1xcblxcdFxcdFxcdHJldHVybjtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0dmFyIG9mZnNldFBhcmVudCwgb2Zmc2V0LFxcblxcdFxcdFxcdGVsZW0gPSB0aGlzWyAwIF0sXFxuXFx0XFx0XFx0cGFyZW50T2Zmc2V0ID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcXG5cXG5cXHRcXHQvLyBGaXhlZCBlbGVtZW50cyBhcmUgb2Zmc2V0IGZyb20gd2luZG93IChwYXJlbnRPZmZzZXQgPSB7dG9wOjAsIGxlZnQ6IDB9LFxcblxcdFxcdC8vIGJlY2F1c2UgaXQgaXMgaXRzIG9ubHkgb2Zmc2V0IHBhcmVudFxcblxcdFxcdGlmICggalF1ZXJ5LmNzcyggZWxlbSwgXFxcInBvc2l0aW9uXFxcIiApID09PSBcXFwiZml4ZWRcXFwiICkge1xcblxcblxcdFxcdFxcdC8vIEFzc3VtZSBnZXRCb3VuZGluZ0NsaWVudFJlY3QgaXMgdGhlcmUgd2hlbiBjb21wdXRlZCBwb3NpdGlvbiBpcyBmaXhlZFxcblxcdFxcdFxcdG9mZnNldCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XFxuXFxuXFx0XFx0fSBlbHNlIHtcXG5cXG5cXHRcXHRcXHQvLyBHZXQgKnJlYWwqIG9mZnNldFBhcmVudFxcblxcdFxcdFxcdG9mZnNldFBhcmVudCA9IHRoaXMub2Zmc2V0UGFyZW50KCk7XFxuXFxuXFx0XFx0XFx0Ly8gR2V0IGNvcnJlY3Qgb2Zmc2V0c1xcblxcdFxcdFxcdG9mZnNldCA9IHRoaXMub2Zmc2V0KCk7XFxuXFx0XFx0XFx0aWYgKCAhalF1ZXJ5Lm5vZGVOYW1lKCBvZmZzZXRQYXJlbnRbIDAgXSwgXFxcImh0bWxcXFwiICkgKSB7XFxuXFx0XFx0XFx0XFx0cGFyZW50T2Zmc2V0ID0gb2Zmc2V0UGFyZW50Lm9mZnNldCgpO1xcblxcdFxcdFxcdH1cXG5cXG5cXHRcXHRcXHQvLyBBZGQgb2Zmc2V0UGFyZW50IGJvcmRlcnNcXG5cXHRcXHRcXHRwYXJlbnRPZmZzZXQgPSB7XFxuXFx0XFx0XFx0XFx0dG9wOiBwYXJlbnRPZmZzZXQudG9wICsgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50WyAwIF0sIFxcXCJib3JkZXJUb3BXaWR0aFxcXCIsIHRydWUgKSxcXG5cXHRcXHRcXHRcXHRsZWZ0OiBwYXJlbnRPZmZzZXQubGVmdCArIGpRdWVyeS5jc3MoIG9mZnNldFBhcmVudFsgMCBdLCBcXFwiYm9yZGVyTGVmdFdpZHRoXFxcIiwgdHJ1ZSApXFxuXFx0XFx0XFx0fTtcXG5cXHRcXHR9XFxuXFxuXFx0XFx0Ly8gU3VidHJhY3QgcGFyZW50IG9mZnNldHMgYW5kIGVsZW1lbnQgbWFyZ2luc1xcblxcdFxcdHJldHVybiB7XFxuXFx0XFx0XFx0dG9wOiBvZmZzZXQudG9wIC0gcGFyZW50T2Zmc2V0LnRvcCAtIGpRdWVyeS5jc3MoIGVsZW0sIFxcXCJtYXJnaW5Ub3BcXFwiLCB0cnVlICksXFxuXFx0XFx0XFx0bGVmdDogb2Zmc2V0LmxlZnQgLSBwYXJlbnRPZmZzZXQubGVmdCAtIGpRdWVyeS5jc3MoIGVsZW0sIFxcXCJtYXJnaW5MZWZ0XFxcIiwgdHJ1ZSApXFxuXFx0XFx0fTtcXG5cXHR9LFxcblxcblxcdC8vIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIGRvY3VtZW50RWxlbWVudCBpbiB0aGUgZm9sbG93aW5nIGNhc2VzOlxcblxcdC8vIDEpIEZvciB0aGUgZWxlbWVudCBpbnNpZGUgdGhlIGlmcmFtZSB3aXRob3V0IG9mZnNldFBhcmVudCwgdGhpcyBtZXRob2Qgd2lsbCByZXR1cm5cXG5cXHQvLyAgICBkb2N1bWVudEVsZW1lbnQgb2YgdGhlIHBhcmVudCB3aW5kb3dcXG5cXHQvLyAyKSBGb3IgdGhlIGhpZGRlbiBvciBkZXRhY2hlZCBlbGVtZW50XFxuXFx0Ly8gMykgRm9yIGJvZHkgb3IgaHRtbCBlbGVtZW50LCBpLmUuIGluIGNhc2Ugb2YgdGhlIGh0bWwgbm9kZSAtIGl0IHdpbGwgcmV0dXJuIGl0c2VsZlxcblxcdC8vXFxuXFx0Ly8gYnV0IHRob3NlIGV4Y2VwdGlvbnMgd2VyZSBuZXZlciBwcmVzZW50ZWQgYXMgYSByZWFsIGxpZmUgdXNlLWNhc2VzXFxuXFx0Ly8gYW5kIG1pZ2h0IGJlIGNvbnNpZGVyZWQgYXMgbW9yZSBwcmVmZXJhYmxlIHJlc3VsdHMuXFxuXFx0Ly9cXG5cXHQvLyBUaGlzIGxvZ2ljLCBob3dldmVyLCBpcyBub3QgZ3VhcmFudGVlZCBhbmQgY2FuIGNoYW5nZSBhdCBhbnkgcG9pbnQgaW4gdGhlIGZ1dHVyZVxcblxcdG9mZnNldFBhcmVudDogZnVuY3Rpb24oKSB7XFxuXFx0XFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcXG5cXHRcXHRcXHR2YXIgb2Zmc2V0UGFyZW50ID0gdGhpcy5vZmZzZXRQYXJlbnQ7XFxuXFxuXFx0XFx0XFx0d2hpbGUgKCBvZmZzZXRQYXJlbnQgJiYgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcXFwicG9zaXRpb25cXFwiICkgPT09IFxcXCJzdGF0aWNcXFwiICkge1xcblxcdFxcdFxcdFxcdG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7XFxuXFx0XFx0XFx0fVxcblxcblxcdFxcdFxcdHJldHVybiBvZmZzZXRQYXJlbnQgfHwgZG9jdW1lbnRFbGVtZW50O1xcblxcdFxcdH0gKTtcXG5cXHR9XFxufSApO1xcblxcbi8vIENyZWF0ZSBzY3JvbGxMZWZ0IGFuZCBzY3JvbGxUb3AgbWV0aG9kc1xcbmpRdWVyeS5lYWNoKCB7IHNjcm9sbExlZnQ6IFxcXCJwYWdlWE9mZnNldFxcXCIsIHNjcm9sbFRvcDogXFxcInBhZ2VZT2Zmc2V0XFxcIiB9LCBmdW5jdGlvbiggbWV0aG9kLCBwcm9wICkge1xcblxcdHZhciB0b3AgPSBcXFwicGFnZVlPZmZzZXRcXFwiID09PSBwcm9wO1xcblxcblxcdGpRdWVyeS5mblsgbWV0aG9kIF0gPSBmdW5jdGlvbiggdmFsICkge1xcblxcdFxcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBtZXRob2QsIHZhbCApIHtcXG5cXHRcXHRcXHR2YXIgd2luID0gZ2V0V2luZG93KCBlbGVtICk7XFxuXFxuXFx0XFx0XFx0aWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHtcXG5cXHRcXHRcXHRcXHRyZXR1cm4gd2luID8gd2luWyBwcm9wIF0gOiBlbGVtWyBtZXRob2QgXTtcXG5cXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0aWYgKCB3aW4gKSB7XFxuXFx0XFx0XFx0XFx0d2luLnNjcm9sbFRvKFxcblxcdFxcdFxcdFxcdFxcdCF0b3AgPyB2YWwgOiB3aW4ucGFnZVhPZmZzZXQsXFxuXFx0XFx0XFx0XFx0XFx0dG9wID8gdmFsIDogd2luLnBhZ2VZT2Zmc2V0XFxuXFx0XFx0XFx0XFx0KTtcXG5cXG5cXHRcXHRcXHR9IGVsc2Uge1xcblxcdFxcdFxcdFxcdGVsZW1bIG1ldGhvZCBdID0gdmFsO1xcblxcdFxcdFxcdH1cXG5cXHRcXHR9LCBtZXRob2QsIHZhbCwgYXJndW1lbnRzLmxlbmd0aCApO1xcblxcdH07XFxufSApO1xcblxcbi8vIFN1cHBvcnQ6IFNhZmFyaSA8PTcgLSA5LjEsIENocm9tZSA8PTM3IC0gNDlcXG4vLyBBZGQgdGhlIHRvcC9sZWZ0IGNzc0hvb2tzIHVzaW5nIGpRdWVyeS5mbi5wb3NpdGlvblxcbi8vIFdlYmtpdCBidWc6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0yOTA4NFxcbi8vIEJsaW5rIGJ1ZzogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NTg5MzQ3XFxuLy8gZ2V0Q29tcHV0ZWRTdHlsZSByZXR1cm5zIHBlcmNlbnQgd2hlbiBzcGVjaWZpZWQgZm9yIHRvcC9sZWZ0L2JvdHRvbS9yaWdodDtcXG4vLyByYXRoZXIgdGhhbiBtYWtlIHRoZSBjc3MgbW9kdWxlIGRlcGVuZCBvbiB0aGUgb2Zmc2V0IG1vZHVsZSwganVzdCBjaGVjayBmb3IgaXQgaGVyZVxcbmpRdWVyeS5lYWNoKCBbIFxcXCJ0b3BcXFwiLCBcXFwibGVmdFxcXCIgXSwgZnVuY3Rpb24oIGksIHByb3AgKSB7XFxuXFx0alF1ZXJ5LmNzc0hvb2tzWyBwcm9wIF0gPSBhZGRHZXRIb29rSWYoIHN1cHBvcnQucGl4ZWxQb3NpdGlvbixcXG5cXHRcXHRmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XFxuXFx0XFx0XFx0aWYgKCBjb21wdXRlZCApIHtcXG5cXHRcXHRcXHRcXHRjb21wdXRlZCA9IGN1ckNTUyggZWxlbSwgcHJvcCApO1xcblxcblxcdFxcdFxcdFxcdC8vIElmIGN1ckNTUyByZXR1cm5zIHBlcmNlbnRhZ2UsIGZhbGxiYWNrIHRvIG9mZnNldFxcblxcdFxcdFxcdFxcdHJldHVybiBybnVtbm9ucHgudGVzdCggY29tcHV0ZWQgKSA/XFxuXFx0XFx0XFx0XFx0XFx0alF1ZXJ5KCBlbGVtICkucG9zaXRpb24oKVsgcHJvcCBdICsgXFxcInB4XFxcIiA6XFxuXFx0XFx0XFx0XFx0XFx0Y29tcHV0ZWQ7XFxuXFx0XFx0XFx0fVxcblxcdFxcdH1cXG5cXHQpO1xcbn0gKTtcXG5cXG5cXG4vLyBDcmVhdGUgaW5uZXJIZWlnaHQsIGlubmVyV2lkdGgsIGhlaWdodCwgd2lkdGgsIG91dGVySGVpZ2h0IGFuZCBvdXRlcldpZHRoIG1ldGhvZHNcXG5qUXVlcnkuZWFjaCggeyBIZWlnaHQ6IFxcXCJoZWlnaHRcXFwiLCBXaWR0aDogXFxcIndpZHRoXFxcIiB9LCBmdW5jdGlvbiggbmFtZSwgdHlwZSApIHtcXG5cXHRqUXVlcnkuZWFjaCggeyBwYWRkaW5nOiBcXFwiaW5uZXJcXFwiICsgbmFtZSwgY29udGVudDogdHlwZSwgXFxcIlxcXCI6IFxcXCJvdXRlclxcXCIgKyBuYW1lIH0sXFxuXFx0XFx0ZnVuY3Rpb24oIGRlZmF1bHRFeHRyYSwgZnVuY05hbWUgKSB7XFxuXFxuXFx0XFx0Ly8gTWFyZ2luIGlzIG9ubHkgZm9yIG91dGVySGVpZ2h0LCBvdXRlcldpZHRoXFxuXFx0XFx0alF1ZXJ5LmZuWyBmdW5jTmFtZSBdID0gZnVuY3Rpb24oIG1hcmdpbiwgdmFsdWUgKSB7XFxuXFx0XFx0XFx0dmFyIGNoYWluYWJsZSA9IGFyZ3VtZW50cy5sZW5ndGggJiYgKCBkZWZhdWx0RXh0cmEgfHwgdHlwZW9mIG1hcmdpbiAhPT0gXFxcImJvb2xlYW5cXFwiICksXFxuXFx0XFx0XFx0XFx0ZXh0cmEgPSBkZWZhdWx0RXh0cmEgfHwgKCBtYXJnaW4gPT09IHRydWUgfHwgdmFsdWUgPT09IHRydWUgPyBcXFwibWFyZ2luXFxcIiA6IFxcXCJib3JkZXJcXFwiICk7XFxuXFxuXFx0XFx0XFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIHR5cGUsIHZhbHVlICkge1xcblxcdFxcdFxcdFxcdHZhciBkb2M7XFxuXFxuXFx0XFx0XFx0XFx0aWYgKCBqUXVlcnkuaXNXaW5kb3coIGVsZW0gKSApIHtcXG5cXG5cXHRcXHRcXHRcXHRcXHQvLyAkKCB3aW5kb3cgKS5vdXRlcldpZHRoL0hlaWdodCByZXR1cm4gdy9oIGluY2x1ZGluZyBzY3JvbGxiYXJzIChnaC0xNzI5KVxcblxcdFxcdFxcdFxcdFxcdHJldHVybiBmdW5jTmFtZS5pbmRleE9mKCBcXFwib3V0ZXJcXFwiICkgPT09IDAgP1xcblxcdFxcdFxcdFxcdFxcdFxcdGVsZW1bIFxcXCJpbm5lclxcXCIgKyBuYW1lIF0gOlxcblxcdFxcdFxcdFxcdFxcdFxcdGVsZW0uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyBcXFwiY2xpZW50XFxcIiArIG5hbWUgXTtcXG5cXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0Ly8gR2V0IGRvY3VtZW50IHdpZHRoIG9yIGhlaWdodFxcblxcdFxcdFxcdFxcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gOSApIHtcXG5cXHRcXHRcXHRcXHRcXHRkb2MgPSBlbGVtLmRvY3VtZW50RWxlbWVudDtcXG5cXG5cXHRcXHRcXHRcXHRcXHQvLyBFaXRoZXIgc2Nyb2xsW1dpZHRoL0hlaWdodF0gb3Igb2Zmc2V0W1dpZHRoL0hlaWdodF0gb3IgY2xpZW50W1dpZHRoL0hlaWdodF0sXFxuXFx0XFx0XFx0XFx0XFx0Ly8gd2hpY2hldmVyIGlzIGdyZWF0ZXN0XFxuXFx0XFx0XFx0XFx0XFx0cmV0dXJuIE1hdGgubWF4KFxcblxcdFxcdFxcdFxcdFxcdFxcdGVsZW0uYm9keVsgXFxcInNjcm9sbFxcXCIgKyBuYW1lIF0sIGRvY1sgXFxcInNjcm9sbFxcXCIgKyBuYW1lIF0sXFxuXFx0XFx0XFx0XFx0XFx0XFx0ZWxlbS5ib2R5WyBcXFwib2Zmc2V0XFxcIiArIG5hbWUgXSwgZG9jWyBcXFwib2Zmc2V0XFxcIiArIG5hbWUgXSxcXG5cXHRcXHRcXHRcXHRcXHRcXHRkb2NbIFxcXCJjbGllbnRcXFwiICsgbmFtZSBdXFxuXFx0XFx0XFx0XFx0XFx0KTtcXG5cXHRcXHRcXHRcXHR9XFxuXFxuXFx0XFx0XFx0XFx0cmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgP1xcblxcblxcdFxcdFxcdFxcdFxcdC8vIEdldCB3aWR0aCBvciBoZWlnaHQgb24gdGhlIGVsZW1lbnQsIHJlcXVlc3RpbmcgYnV0IG5vdCBmb3JjaW5nIHBhcnNlRmxvYXRcXG5cXHRcXHRcXHRcXHRcXHRqUXVlcnkuY3NzKCBlbGVtLCB0eXBlLCBleHRyYSApIDpcXG5cXG5cXHRcXHRcXHRcXHRcXHQvLyBTZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50XFxuXFx0XFx0XFx0XFx0XFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCB0eXBlLCB2YWx1ZSwgZXh0cmEgKTtcXG5cXHRcXHRcXHR9LCB0eXBlLCBjaGFpbmFibGUgPyBtYXJnaW4gOiB1bmRlZmluZWQsIGNoYWluYWJsZSApO1xcblxcdFxcdH07XFxuXFx0fSApO1xcbn0gKTtcXG5cXG5cXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XFxuXFxuXFx0YmluZDogZnVuY3Rpb24oIHR5cGVzLCBkYXRhLCBmbiApIHtcXG5cXHRcXHRyZXR1cm4gdGhpcy5vbiggdHlwZXMsIG51bGwsIGRhdGEsIGZuICk7XFxuXFx0fSxcXG5cXHR1bmJpbmQ6IGZ1bmN0aW9uKCB0eXBlcywgZm4gKSB7XFxuXFx0XFx0cmV0dXJuIHRoaXMub2ZmKCB0eXBlcywgbnVsbCwgZm4gKTtcXG5cXHR9LFxcblxcblxcdGRlbGVnYXRlOiBmdW5jdGlvbiggc2VsZWN0b3IsIHR5cGVzLCBkYXRhLCBmbiApIHtcXG5cXHRcXHRyZXR1cm4gdGhpcy5vbiggdHlwZXMsIHNlbGVjdG9yLCBkYXRhLCBmbiApO1xcblxcdH0sXFxuXFx0dW5kZWxlZ2F0ZTogZnVuY3Rpb24oIHNlbGVjdG9yLCB0eXBlcywgZm4gKSB7XFxuXFxuXFx0XFx0Ly8gKCBuYW1lc3BhY2UgKSBvciAoIHNlbGVjdG9yLCB0eXBlcyBbLCBmbl0gKVxcblxcdFxcdHJldHVybiBhcmd1bWVudHMubGVuZ3RoID09PSAxID9cXG5cXHRcXHRcXHR0aGlzLm9mZiggc2VsZWN0b3IsIFxcXCIqKlxcXCIgKSA6XFxuXFx0XFx0XFx0dGhpcy5vZmYoIHR5cGVzLCBzZWxlY3RvciB8fCBcXFwiKipcXFwiLCBmbiApO1xcblxcdH1cXG59ICk7XFxuXFxualF1ZXJ5LnBhcnNlSlNPTiA9IEpTT04ucGFyc2U7XFxuXFxuXFxuXFxuXFxuLy8gUmVnaXN0ZXIgYXMgYSBuYW1lZCBBTUQgbW9kdWxlLCBzaW5jZSBqUXVlcnkgY2FuIGJlIGNvbmNhdGVuYXRlZCB3aXRoIG90aGVyXFxuLy8gZmlsZXMgdGhhdCBtYXkgdXNlIGRlZmluZSwgYnV0IG5vdCB2aWEgYSBwcm9wZXIgY29uY2F0ZW5hdGlvbiBzY3JpcHQgdGhhdFxcbi8vIHVuZGVyc3RhbmRzIGFub255bW91cyBBTUQgbW9kdWxlcy4gQSBuYW1lZCBBTUQgaXMgc2FmZXN0IGFuZCBtb3N0IHJvYnVzdFxcbi8vIHdheSB0byByZWdpc3Rlci4gTG93ZXJjYXNlIGpxdWVyeSBpcyB1c2VkIGJlY2F1c2UgQU1EIG1vZHVsZSBuYW1lcyBhcmVcXG4vLyBkZXJpdmVkIGZyb20gZmlsZSBuYW1lcywgYW5kIGpRdWVyeSBpcyBub3JtYWxseSBkZWxpdmVyZWQgaW4gYSBsb3dlcmNhc2VcXG4vLyBmaWxlIG5hbWUuIERvIHRoaXMgYWZ0ZXIgY3JlYXRpbmcgdGhlIGdsb2JhbCBzbyB0aGF0IGlmIGFuIEFNRCBtb2R1bGUgd2FudHNcXG4vLyB0byBjYWxsIG5vQ29uZmxpY3QgdG8gaGlkZSB0aGlzIHZlcnNpb24gb2YgalF1ZXJ5LCBpdCB3aWxsIHdvcmsuXFxuXFxuLy8gTm90ZSB0aGF0IGZvciBtYXhpbXVtIHBvcnRhYmlsaXR5LCBsaWJyYXJpZXMgdGhhdCBhcmUgbm90IGpRdWVyeSBzaG91bGRcXG4vLyBkZWNsYXJlIHRoZW1zZWx2ZXMgYXMgYW5vbnltb3VzIG1vZHVsZXMsIGFuZCBhdm9pZCBzZXR0aW5nIGEgZ2xvYmFsIGlmIGFuXFxuLy8gQU1EIGxvYWRlciBpcyBwcmVzZW50LiBqUXVlcnkgaXMgYSBzcGVjaWFsIGNhc2UuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWVcXG4vLyBodHRwczovL2dpdGh1Yi5jb20vanJidXJrZS9yZXF1aXJlanMvd2lraS9VcGRhdGluZy1leGlzdGluZy1saWJyYXJpZXMjd2lraS1hbm9uXFxuXFxuaWYgKCB0eXBlb2YgZGVmaW5lID09PSBcXFwiZnVuY3Rpb25cXFwiICYmIGRlZmluZS5hbWQgKSB7XFxuXFx0ZGVmaW5lKCBcXFwianF1ZXJ5XFxcIiwgW10sIGZ1bmN0aW9uKCkge1xcblxcdFxcdHJldHVybiBqUXVlcnk7XFxuXFx0fSApO1xcbn1cXG5cXG5cXG5cXG5cXG52YXJcXG5cXG5cXHQvLyBNYXAgb3ZlciBqUXVlcnkgaW4gY2FzZSBvZiBvdmVyd3JpdGVcXG5cXHRfalF1ZXJ5ID0gd2luZG93LmpRdWVyeSxcXG5cXG5cXHQvLyBNYXAgb3ZlciB0aGUgJCBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxcblxcdF8kID0gd2luZG93LiQ7XFxuXFxualF1ZXJ5Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiggZGVlcCApIHtcXG5cXHRpZiAoIHdpbmRvdy4kID09PSBqUXVlcnkgKSB7XFxuXFx0XFx0d2luZG93LiQgPSBfJDtcXG5cXHR9XFxuXFxuXFx0aWYgKCBkZWVwICYmIHdpbmRvdy5qUXVlcnkgPT09IGpRdWVyeSApIHtcXG5cXHRcXHR3aW5kb3cualF1ZXJ5ID0gX2pRdWVyeTtcXG5cXHR9XFxuXFxuXFx0cmV0dXJuIGpRdWVyeTtcXG59O1xcblxcbi8vIEV4cG9zZSBqUXVlcnkgYW5kICQgaWRlbnRpZmllcnMsIGV2ZW4gaW4gQU1EXFxuLy8gKCM3MTAyI2NvbW1lbnQ6MTAsIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5L3B1bGwvNTU3KVxcbi8vIGFuZCBDb21tb25KUyBmb3IgYnJvd3NlciBlbXVsYXRvcnMgKCMxMzU2NilcXG5pZiAoICFub0dsb2JhbCApIHtcXG5cXHR3aW5kb3cualF1ZXJ5ID0gd2luZG93LiQgPSBqUXVlcnk7XFxufVxcblxcblxcblxcblxcblxcbnJldHVybiBqUXVlcnk7XFxufSApO1xcblwiXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3NjcmlwdC1sb2FkZXIvfi9yYXctbG9hZGVyIS4vfi9qcXVlcnkvZGlzdC9qcXVlcnkuanNcbi8vIG1vZHVsZSBpZCA9IDMxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInJlcXVpcmUoXCIhIS93b3JrL2FwcC9ub2RlX21vZHVsZXMvc2NyaXB0LWxvYWRlci9hZGRTY3JpcHQuanNcIikocmVxdWlyZShcIiEhL3dvcmsvYXBwL25vZGVfbW9kdWxlcy9zY3JpcHQtbG9hZGVyL25vZGVfbW9kdWxlcy9yYXctbG9hZGVyL2luZGV4LmpzIS93b3JrL2FwcC9ub2RlX21vZHVsZXMvdzJ1aS93MnVpLm1pbi5qc1wiKSlcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdzJ1aS93MnVpLm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gMzJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwibW9kdWxlLmV4cG9ydHMgPSBcIi8qIHcydWkgMS40LnggKG5pZ2h0bHkpIChjKSBodHRwOi8vdzJ1aS5jb20sIHZpdG1hbGluYUBnbWFpbC5jb20gKi9cXG52YXIgdzJ1aT13MnVpfHx7fSx3Mm9iaj13Mm9ianx8e30sdzJ1dGlscz1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dmFyIGI9L15bLStdP1swLTldKyQvO3JldHVybiBiLnRlc3QoYSl9ZnVuY3Rpb24gYihhKXtyZXR1cm5cXFwic3RyaW5nXFxcIj09dHlwZW9mIGEmJihhPWEucmVwbGFjZSh3MnV0aWxzLnNldHRpbmdzLmRlY2ltYWxTeW1ib2wsXFxcIi5cXFwiKSksKFxcXCJudW1iZXJcXFwiPT10eXBlb2YgYXx8XFxcInN0cmluZ1xcXCI9PXR5cGVvZiBhJiZcXFwiXFxcIiE9PWEpJiYhaXNOYU4oTnVtYmVyKGEpKX1mdW5jdGlvbiBjKGEpe3ZhciBiPXcydXRpbHMuc2V0dGluZ3MsYz1uZXcgUmVnRXhwKFxcXCJeXFxcIisoYi5jdXJyZW5jeVByZWZpeD9cXFwiXFxcXFxcXFxcXFwiK2IuY3VycmVuY3lQcmVmaXgrXFxcIj9cXFwiOlxcXCJcXFwiKStcXFwiWy0rXT9bMC05XSpbXFxcXFxcXFxcXFwiK3cydXRpbHMuc2V0dGluZ3MuZGVjaW1hbFN5bWJvbCtcXFwiXT9bMC05XStcXFwiKyhiLmN1cnJlbmN5U3VmZml4P1xcXCJcXFxcXFxcXFxcXCIrYi5jdXJyZW5jeVN1ZmZpeCtcXFwiP1xcXCI6XFxcIlxcXCIpK1xcXCIkXFxcIixcXFwiaVxcXCIpO3JldHVyblxcXCJzdHJpbmdcXFwiPT10eXBlb2YgYSYmKGE9YS5yZXBsYWNlKG5ldyBSZWdFeHAoYi5ncm91cFN5bWJvbCxcXFwiZ1xcXCIpLFxcXCJcXFwiKSksXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBhfHxcXFwiXFxcIj09PWE/ITE6Yy50ZXN0KGEpfWZ1bmN0aW9uIGQoYSl7dmFyIGI9L15bYS1mQS1GMC05XSskLztyZXR1cm4gYi50ZXN0KGEpfWZ1bmN0aW9uIGUoYSl7dmFyIGI9L15bYS16QS1aMC05Xy1dKyQvO3JldHVybiBiLnRlc3QoYSl9ZnVuY3Rpb24gZihhKXt2YXIgYj0vXlthLXpBLVowLTkuXyUtXStAW2EtekEtWjAtOS4tXStcXFxcLlthLXpBLVpdezIsNH0kLztyZXR1cm4gYi50ZXN0KGEpfWZ1bmN0aW9uIGcoYixjLGQpe2lmKCFiKXJldHVybiExO3ZhciBlLGYsZyxoPVxcXCJJbnZhbGlkIERhdGVcXFwiO2lmKG51bGw9PWMmJihjPXcydXRpbHMuc2V0dGluZ3MuZGF0ZV9mb3JtYXQpLFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBiLmdldFVUQ0Z1bGxZZWFyJiZcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgYi5nZXRVVENNb250aCYmXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGIuZ2V0VVRDRGF0ZSlnPWIuZ2V0VVRDRnVsbFllYXIoKSxlPWIuZ2V0VVRDTW9udGgoKSxmPWIuZ2V0VVRDRGF0ZSgpO2Vsc2UgaWYoXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGIuZ2V0RnVsbFllYXImJlxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBiLmdldE1vbnRoJiZcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgYi5nZXREYXRlKWc9Yi5nZXRGdWxsWWVhcigpLGU9Yi5nZXRNb250aCgpLGY9Yi5nZXREYXRlKCk7ZWxzZXtpZihiPVN0cmluZyhiKSxSZWdFeHAoXFxcIm1vblxcXCIsXFxcImlnXFxcIikudGVzdChjKSl7Yz1jLnJlcGxhY2UoL21vbnRoL2dpLFxcXCJtXFxcIikucmVwbGFjZSgvbW9uL2dpLFxcXCJtXFxcIikucmVwbGFjZSgvZGQvZ2ksXFxcImRcXFwiKS5yZXBsYWNlKC9bLCBdL2dpLFxcXCIvXFxcIikucmVwbGFjZSgvXFxcXC9cXFxcLy9nLFxcXCIvXFxcIikudG9Mb3dlckNhc2UoKSxiPWIucmVwbGFjZSgvWywgXS9naSxcXFwiL1xcXCIpLnJlcGxhY2UoL1xcXFwvXFxcXC8vZyxcXFwiL1xcXCIpLnRvTG93ZXJDYXNlKCk7Zm9yKHZhciBpPTAsaj13MnV0aWxzLnNldHRpbmdzLmZ1bGxtb250aHMubGVuZ3RoO2o+aTtpKyspe3ZhciBrPXcydXRpbHMuc2V0dGluZ3MuZnVsbG1vbnRoc1tpXTtiPWIucmVwbGFjZShSZWdFeHAoayxcXFwiaWdcXFwiKSxwYXJzZUludChpKSsxKS5yZXBsYWNlKFJlZ0V4cChrLnN1YnN0cigwLDMpLFxcXCJpZ1xcXCIpLHBhcnNlSW50KGkpKzEpfX12YXIgbD1iLnJlcGxhY2UoLy0vZyxcXFwiL1xcXCIpLnJlcGxhY2UoL1xcXFwuL2csXFxcIi9cXFwiKS50b0xvd2VyQ2FzZSgpLnNwbGl0KFxcXCIvXFxcIiksbT1jLnJlcGxhY2UoLy0vZyxcXFwiL1xcXCIpLnJlcGxhY2UoL1xcXFwuL2csXFxcIi9cXFwiKS50b0xvd2VyQ2FzZSgpO1xcXCJtbS9kZC95eXl5XFxcIj09PW0mJihlPWxbMF0sZj1sWzFdLGc9bFsyXSksXFxcIm0vZC95eXl5XFxcIj09PW0mJihlPWxbMF0sZj1sWzFdLGc9bFsyXSksXFxcImRkL21tL3l5eXlcXFwiPT09bSYmKGU9bFsxXSxmPWxbMF0sZz1sWzJdKSxcXFwiZC9tL3l5eXlcXFwiPT09bSYmKGU9bFsxXSxmPWxbMF0sZz1sWzJdKSxcXFwieXl5eS9kZC9tbVxcXCI9PT1tJiYoZT1sWzJdLGY9bFsxXSxnPWxbMF0pLFxcXCJ5eXl5L2QvbVxcXCI9PT1tJiYoZT1sWzJdLGY9bFsxXSxnPWxbMF0pLFxcXCJ5eXl5L21tL2RkXFxcIj09PW0mJihlPWxbMV0sZj1sWzJdLGc9bFswXSksXFxcInl5eXkvbS9kXFxcIj09PW0mJihlPWxbMV0sZj1sWzJdLGc9bFswXSksXFxcIm1tL2RkL3l5XFxcIj09PW0mJihlPWxbMF0sZj1sWzFdLGc9bFsyXSksXFxcIm0vZC95eVxcXCI9PT1tJiYoZT1sWzBdLGY9bFsxXSxnPXBhcnNlSW50KGxbMl0pKzE5MDApLFxcXCJkZC9tbS95eVxcXCI9PT1tJiYoZT1sWzFdLGY9bFswXSxnPXBhcnNlSW50KGxbMl0pKzE5MDApLFxcXCJkL20veXlcXFwiPT09bSYmKGU9bFsxXSxmPWxbMF0sZz1wYXJzZUludChsWzJdKSsxOTAwKSxcXFwieXkvZGQvbW1cXFwiPT09bSYmKGU9bFsyXSxmPWxbMV0sZz1wYXJzZUludChsWzBdKSsxOTAwKSxcXFwieXkvZC9tXFxcIj09PW0mJihlPWxbMl0sZj1sWzFdLGc9cGFyc2VJbnQobFswXSkrMTkwMCksXFxcInl5L21tL2RkXFxcIj09PW0mJihlPWxbMV0sZj1sWzJdLGc9cGFyc2VJbnQobFswXSkrMTkwMCksXFxcInl5L20vZFxcXCI9PT1tJiYoZT1sWzFdLGY9bFsyXSxnPXBhcnNlSW50KGxbMF0pKzE5MDApfXJldHVybiBhKGcpJiZhKGUpJiZhKGYpPyhnPStnLGU9K2UsZj0rZixoPW5ldyBEYXRlKGcsZS0xLGYpLG51bGw9PWU/ITE6XFxcIkludmFsaWQgRGF0ZVxcXCI9PVN0cmluZyhoKT8hMTpoLmdldE1vbnRoKCkrMSE9PWV8fGguZ2V0RGF0ZSgpIT09Znx8aC5nZXRGdWxsWWVhcigpIT09Zz8hMTpkPT09ITA/aDohMCk6ITF9ZnVuY3Rpb24gaChhLGIpe2lmKG51bGw9PWEpcmV0dXJuITE7dmFyIGMsZDthPVN0cmluZyhhKSxhPWEudG9VcHBlckNhc2UoKSxkPWEuaW5kZXhPZihcXFwiUE1cXFwiKT49MDt2YXIgZT1kfHxhLmluZGV4T2YoXFxcIkFNXFxcIik+PTA7Yz1lPzEyOjI0LGE9YS5yZXBsYWNlKFxcXCJBTVxcXCIsXFxcIlxcXCIpLnJlcGxhY2UoXFxcIlBNXFxcIixcXFwiXFxcIiksYT0kLnRyaW0oYSk7dmFyIGY9YS5zcGxpdChcXFwiOlxcXCIpLGc9cGFyc2VJbnQoZlswXXx8MCksaD1wYXJzZUludChmWzFdfHwwKTtyZXR1cm4gZSYmMT09PWYubGVuZ3RofHwyPT09Zi5sZW5ndGg/XFxcIlxcXCI9PT1mWzBdfHwwPmd8fGc+Y3x8IXRoaXMuaXNJbnQoZlswXSl8fGZbMF0ubGVuZ3RoPjI/ITE6Mj09PWYubGVuZ3RoJiYoXFxcIlxcXCI9PT1mWzFdfHwwPmh8fGg+NTl8fCF0aGlzLmlzSW50KGZbMV0pfHwyIT09ZlsxXS5sZW5ndGgpPyExOmV8fGMhPT1nfHwwPT09aD9lJiYxPT09Zi5sZW5ndGgmJjA9PT1nPyExOmI9PT0hMD8oZCYmKGcrPTEyKSx7aG91cnM6ZyxtaW51dGVzOmh9KTohMDohMTohMX1mdW5jdGlvbiBpKGEpe2lmKFxcXCJcXFwiPT09YXx8bnVsbD09YSlyZXR1cm5cXFwiXFxcIjt2YXIgYj1uZXcgRGF0ZShhKTtpZih3MnV0aWxzLmlzSW50KGEpJiYoYj1uZXcgRGF0ZShOdW1iZXIoYSkpKSxcXFwiSW52YWxpZCBEYXRlXFxcIj09U3RyaW5nKGIpKXJldHVyblxcXCJcXFwiO3ZhciBjPW5ldyBEYXRlLGQ9KGMuZ2V0VGltZSgpLWIuZ2V0VGltZSgpKS8xZTMsZT1cXFwiXFxcIixmPVxcXCJcXFwiO3JldHVybiAwPmQ/KGU9JzxzcGFuIHN0eWxlPVxcXCJjb2xvcjogI2FhYVxcXCI+ZnV0dXJlPC9zcGFuPicsZj1cXFwiXFxcIik6NjA+ZD8oZT1NYXRoLmZsb29yKGQpLGY9XFxcInNlY1xcXCIsMD5kJiYoZT0wLGY9XFxcInNlY1xcXCIpKTozNjAwPmQ/KGU9TWF0aC5mbG9vcihkLzYwKSxmPVxcXCJtaW5cXFwiKTo4NjQwMD5kPyhlPU1hdGguZmxvb3IoZC82MC82MCksZj1cXFwiaG91clxcXCIpOjI1OTJlMz5kPyhlPU1hdGguZmxvb3IoZC8yNC82MC82MCksZj1cXFwiZGF5XFxcIik6MzE1NTc2MDA+ZD8oZT1NYXRoLmZsb29yKGQvMzY1LjI1LzI0LzYwLzYwKjEwKS8xMCxmPVxcXCJtb250aFxcXCIpOmQ+PTMxNTU3NjAwJiYoZT1NYXRoLmZsb29yKGQvMzY1LjI1LzI0LzYwLzYwKjEwKS8xMCxmPVxcXCJ5ZWFyXFxcIiksZStcXFwiIFxcXCIrZisoZT4xP1xcXCJzXFxcIjpcXFwiXFxcIil9ZnVuY3Rpb24gaihhKXtpZihcXFwiXFxcIj09PWF8fG51bGw9PWEpcmV0dXJuXFxcIlxcXCI7dmFyIGI9bmV3IERhdGUoYSk7aWYodzJ1dGlscy5pc0ludChhKSYmKGI9bmV3IERhdGUoTnVtYmVyKGEpKSksXFxcIkludmFsaWQgRGF0ZVxcXCI9PVN0cmluZyhiKSlyZXR1cm5cXFwiXFxcIjt2YXIgYz13MnV0aWxzLnNldHRpbmdzLnNob3J0bW9udGhzLGQ9bmV3IERhdGUsZT1uZXcgRGF0ZTtlLnNldFRpbWUoZS5nZXRUaW1lKCktODY0ZTUpO3ZhciBmPWNbYi5nZXRNb250aCgpXStcXFwiIFxcXCIrYi5nZXREYXRlKCkrXFxcIiwgXFxcIitiLmdldEZ1bGxZZWFyKCksZz1jW2QuZ2V0TW9udGgoKV0rXFxcIiBcXFwiK2QuZ2V0RGF0ZSgpK1xcXCIsIFxcXCIrZC5nZXRGdWxsWWVhcigpLGg9Y1tlLmdldE1vbnRoKCldK1xcXCIgXFxcIitlLmdldERhdGUoKStcXFwiLCBcXFwiK2UuZ2V0RnVsbFllYXIoKSxpPWIuZ2V0SG91cnMoKS0oYi5nZXRIb3VycygpPjEyPzEyOjApK1xcXCI6XFxcIisoYi5nZXRNaW51dGVzKCk8MTA/XFxcIjBcXFwiOlxcXCJcXFwiKStiLmdldE1pbnV0ZXMoKStcXFwiIFxcXCIrKGIuZ2V0SG91cnMoKT49MTI/XFxcInBtXFxcIjpcXFwiYW1cXFwiKSxqPWIuZ2V0SG91cnMoKS0oYi5nZXRIb3VycygpPjEyPzEyOjApK1xcXCI6XFxcIisoYi5nZXRNaW51dGVzKCk8MTA/XFxcIjBcXFwiOlxcXCJcXFwiKStiLmdldE1pbnV0ZXMoKStcXFwiOlxcXCIrKGIuZ2V0U2Vjb25kcygpPDEwP1xcXCIwXFxcIjpcXFwiXFxcIikrYi5nZXRTZWNvbmRzKCkrXFxcIiBcXFwiKyhiLmdldEhvdXJzKCk+PTEyP1xcXCJwbVxcXCI6XFxcImFtXFxcIiksaz1mO3JldHVybiBmPT09ZyYmKGs9aSksZj09PWgmJihrPXcydXRpbHMubGFuZyhcXFwiWWVzdGVyZGF5XFxcIikpLCc8c3BhbiB0aXRsZT1cXFwiJytmK1xcXCIgXFxcIitqKydcXFwiPicraytcXFwiPC9zcGFuPlxcXCJ9ZnVuY3Rpb24gayhhKXtpZighdzJ1dGlscy5pc0Zsb2F0KGEpfHxcXFwiXFxcIj09PWEpcmV0dXJuXFxcIlxcXCI7aWYoYT1wYXJzZUZsb2F0KGEpLDA9PT1hKXJldHVybiAwO3ZhciBiPVtcXFwiQnRcXFwiLFxcXCJLQlxcXCIsXFxcIk1CXFxcIixcXFwiR0JcXFwiLFxcXCJUQlxcXCJdLGM9cGFyc2VJbnQoTWF0aC5mbG9vcihNYXRoLmxvZyhhKS9NYXRoLmxvZygxMDI0KSkpO3JldHVybihNYXRoLmZsb29yKGEvTWF0aC5wb3coMTAyNCxjKSoxMCkvMTApLnRvRml4ZWQoMD09PWM/MDoxKStcXFwiIFxcXCIrYltjXX1mdW5jdGlvbiBsKGEsYixjKXt2YXIgZD1cXFwiXFxcIjtyZXR1cm4gbnVsbD09YiYmKGI9dzJ1dGlscy5zZXR0aW5ncy5ncm91cFN5bWJvbHx8XFxcIixcXFwiKSxudWxsPT1jJiYoYz13MnV0aWxzLnNldHRpbmdzLmRlY2ltYWxTeW1ib2x8fFxcXCIuXFxcIiksKHcydXRpbHMuaXNGbG9hdChhKXx8dzJ1dGlscy5pc0ludChhKXx8dzJ1dGlscy5pc01vbmV5KGEpKSYmKEU9U3RyaW5nKGEpLnNwbGl0KFxcXCIuXFxcIiksZD1TdHJpbmcoRVswXSkucmVwbGFjZSgvKFxcXFxkKSg/PShcXFxcZFxcXFxkXFxcXGQpKyg/IVxcXFxkKSkvZyxcXFwiJDFcXFwiK2IpLG51bGwhPUVbMV0mJihkKz13MnV0aWxzLnNldHRpbmdzLmRlY2ltYWxTeW1ib2wrRVsxXSkpLGR9ZnVuY3Rpb24gbShhLGIpe3cydXRpbHMuc2V0dGluZ3Muc2hvcnRtb250aHMsdzJ1dGlscy5zZXR0aW5ncy5mdWxsbW9udGhzO2lmKGJ8fChiPXRoaXMuc2V0dGluZ3MuZGF0ZV9mb3JtYXQpLFxcXCJcXFwiPT09YXx8bnVsbD09YXx8XFxcIm9iamVjdFxcXCI9PXR5cGVvZiBhJiYhYS5nZXRNb250aClyZXR1cm5cXFwiXFxcIjt2YXIgYz1uZXcgRGF0ZShhKTtpZih3MnV0aWxzLmlzSW50KGEpJiYoYz1uZXcgRGF0ZShOdW1iZXIoYSkpKSxcXFwiSW52YWxpZCBEYXRlXFxcIj09U3RyaW5nKGMpKXJldHVyblxcXCJcXFwiO3ZhciBkPWMuZ2V0RnVsbFllYXIoKSxlPWMuZ2V0TW9udGgoKSxmPWMuZ2V0RGF0ZSgpO3JldHVybiBiLnRvTG93ZXJDYXNlKCkucmVwbGFjZShcXFwibW9udGhcXFwiLHcydXRpbHMuc2V0dGluZ3MuZnVsbG1vbnRoc1tlXSkucmVwbGFjZShcXFwibW9uXFxcIix3MnV0aWxzLnNldHRpbmdzLnNob3J0bW9udGhzW2VdKS5yZXBsYWNlKC95eXl5L2csZCkucmVwbGFjZSgveXl5L2csZCkucmVwbGFjZSgveXkvZyxkPjJlMz8xMDArcGFyc2VJbnQoU3RyaW5nKGQpLnN1YnN0cigyKSk6U3RyaW5nKGQpLnN1YnN0cigyKSkucmVwbGFjZSgvKF58W15hLXokXSl5L2csXFxcIiQxXFxcIitkKS5yZXBsYWNlKC9tbS9nLCgxMD5lKzE/XFxcIjBcXFwiOlxcXCJcXFwiKSsoZSsxKSkucmVwbGFjZSgvZGQvZywoMTA+Zj9cXFwiMFxcXCI6XFxcIlxcXCIpK2YpLnJlcGxhY2UoL3RoL2csMT09Zj9cXFwic3RcXFwiOlxcXCJ0aFxcXCIpLnJlcGxhY2UoL3RoL2csMj09Zj9cXFwibmRcXFwiOlxcXCJ0aFxcXCIpLnJlcGxhY2UoL3RoL2csMz09Zj9cXFwicmRcXFwiOlxcXCJ0aFxcXCIpLnJlcGxhY2UoLyhefFteYS16JF0pbS9nLFxcXCIkMVxcXCIrKGUrMSkpLnJlcGxhY2UoLyhefFteYS16JF0pZC9nLFxcXCIkMVxcXCIrZil9ZnVuY3Rpb24gbihhLGIpe3cydXRpbHMuc2V0dGluZ3Muc2hvcnRtb250aHMsdzJ1dGlscy5zZXR0aW5ncy5mdWxsbW9udGhzO2lmKGJ8fChiPXRoaXMuc2V0dGluZ3MudGltZV9mb3JtYXQpLFxcXCJcXFwiPT09YXx8bnVsbD09YXx8XFxcIm9iamVjdFxcXCI9PXR5cGVvZiBhJiYhYS5nZXRNb250aClyZXR1cm5cXFwiXFxcIjt2YXIgYz1uZXcgRGF0ZShhKTtpZih3MnV0aWxzLmlzSW50KGEpJiYoYz1uZXcgRGF0ZShOdW1iZXIoYSkpKSx3MnV0aWxzLmlzVGltZShhKSl7dmFyIGQ9dzJ1dGlscy5pc1RpbWUoYSwhMCk7Yz1uZXcgRGF0ZSxjLnNldEhvdXJzKGQuaG91cnMpLGMuc2V0TWludXRlcyhkLm1pbnV0ZXMpfWlmKFxcXCJJbnZhbGlkIERhdGVcXFwiPT1TdHJpbmcoYykpcmV0dXJuXFxcIlxcXCI7dmFyIGU9XFxcImFtXFxcIixmPWMuZ2V0SG91cnMoKSxnPWMuZ2V0SG91cnMoKSxoPWMuZ2V0TWludXRlcygpLGk9Yy5nZXRTZWNvbmRzKCk7cmV0dXJuIDEwPmgmJihoPVxcXCIwXFxcIitoKSwxMD5pJiYoaT1cXFwiMFxcXCIraSksKC0xIT09Yi5pbmRleE9mKFxcXCJhbVxcXCIpfHwtMSE9PWIuaW5kZXhPZihcXFwicG1cXFwiKSkmJihmPj0xMiYmKGU9XFxcInBtXFxcIiksZj4xMiYmKGYtPTEyKSksYi50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoXFxcImFtXFxcIixlKS5yZXBsYWNlKFxcXCJwbVxcXCIsZSkucmVwbGFjZShcXFwiaGhoXFxcIiwxMD5mP1xcXCIwXFxcIitmOmYpLnJlcGxhY2UoXFxcImhoMjRcXFwiLDEwPmc/XFxcIjBcXFwiK2c6ZykucmVwbGFjZShcXFwiaDI0XFxcIixnKS5yZXBsYWNlKFxcXCJoaFxcXCIsZikucmVwbGFjZShcXFwibW1cXFwiLGgpLnJlcGxhY2UoXFxcIm1pXFxcIixoKS5yZXBsYWNlKFxcXCJzc1xcXCIsaSkucmVwbGFjZSgvKF58W15hLXokXSloL2csXFxcIiQxXFxcIitmKS5yZXBsYWNlKC8oXnxbXmEteiRdKW0vZyxcXFwiJDFcXFwiK2gpLnJlcGxhY2UoLyhefFteYS16JF0pcy9nLFxcXCIkMVxcXCIraSl9ZnVuY3Rpb24gbyhhLGIpe3ZhciBjO3JldHVyblxcXCJcXFwiPT09YXx8bnVsbD09YXx8XFxcIm9iamVjdFxcXCI9PXR5cGVvZiBhJiYhYS5nZXRNb250aD9cXFwiXFxcIjooYz1cXFwic3RyaW5nXFxcIiE9dHlwZW9mIGI/W3RoaXMuc2V0dGluZ3MuZGF0ZV9mb3JtYXQsdGhpcy5zZXR0aW5ncy50aW1lX2Zvcm1hdF06Yi5zcGxpdChcXFwifFxcXCIpLHRoaXMuZm9ybWF0RGF0ZShhLGNbMF0pK1xcXCIgXFxcIit0aGlzLmZvcm1hdFRpbWUoYSxjWzFdKSl9ZnVuY3Rpb24gcChhKXtpZihudWxsPT09YSlyZXR1cm4gYTtzd2l0Y2godHlwZW9mIGEpe2Nhc2VcXFwibnVtYmVyXFxcIjpicmVhaztjYXNlXFxcInN0cmluZ1xcXCI6YT0kLnRyaW0oU3RyaW5nKGEpLnJlcGxhY2UoLyg8KFtePl0rKT4pL2dpLFxcXCJcXFwiKSk7YnJlYWs7Y2FzZVxcXCJvYmplY3RcXFwiOmZvcih2YXIgYiBpbiBhKWFbYl09dGhpcy5zdHJpcFRhZ3MoYVtiXSl9cmV0dXJuIGF9ZnVuY3Rpb24gcShhKXtpZihudWxsPT09YSlyZXR1cm4gYTtzd2l0Y2godHlwZW9mIGEpe2Nhc2VcXFwibnVtYmVyXFxcIjpicmVhaztjYXNlXFxcInN0cmluZ1xcXCI6YT1TdHJpbmcoYSkucmVwbGFjZSgvJi9nLFxcXCImYW1wO1xcXCIpLnJlcGxhY2UoLz4vZyxcXFwiJmd0O1xcXCIpLnJlcGxhY2UoLzwvZyxcXFwiJmx0O1xcXCIpLnJlcGxhY2UoL1xcXCIvZyxcXFwiJnF1b3Q7XFxcIik7YnJlYWs7Y2FzZVxcXCJvYmplY3RcXFwiOmZvcih2YXIgYiBpbiBhKWFbYl09dGhpcy5lbmNvZGVUYWdzKGFbYl0pfXJldHVybiBhfWZ1bmN0aW9uIHIoYSl7cmV0dXJuXFxcIlxcXCI9PT1hfHxudWxsPT1hP1xcXCJcXFwiOlN0cmluZyhhKS5yZXBsYWNlKC8oWzsmLFxcXFwuXFxcXCtcXFxcKlxcXFx+J2A6XFxcIlxcXFwhXFxcXF4jJCVAXFxcXFtcXFxcXVxcXFwoXFxcXCk9PD5cXFxcfFxcXFwvPyB7fVxcXFxcXFxcXSkvZyxcXFwiXFxcXFxcXFwkMVxcXCIpfWZ1bmN0aW9uIHMoYSl7ZnVuY3Rpb24gYihhKXtmb3IodmFyIGE9U3RyaW5nKGEpLnJlcGxhY2UoL1xcXFxyXFxcXG4vZyxcXFwiXFxcXG5cXFwiKSxiPVxcXCJcXFwiLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YS5jaGFyQ29kZUF0KGMpOzEyOD5kP2IrPVN0cmluZy5mcm9tQ2hhckNvZGUoZCk6ZD4xMjcmJjIwNDg+ZD8oYis9U3RyaW5nLmZyb21DaGFyQ29kZShkPj42fDE5MiksYis9U3RyaW5nLmZyb21DaGFyQ29kZSg2MyZkfDEyOCkpOihiKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGQ+PjEyfDIyNCksYis9U3RyaW5nLmZyb21DaGFyQ29kZShkPj42JjYzfDEyOCksYis9U3RyaW5nLmZyb21DaGFyQ29kZSg2MyZkfDEyOCkpfXJldHVybiBifXZhciBjLGQsZSxmLGcsaCxpLGo9XFxcIlxcXCIsaz0wLGw9XFxcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XFxcIjtmb3IoYT1iKGEpO2s8YS5sZW5ndGg7KWM9YS5jaGFyQ29kZUF0KGsrKyksZD1hLmNoYXJDb2RlQXQoaysrKSxlPWEuY2hhckNvZGVBdChrKyspLGY9Yz4+MixnPSgzJmMpPDw0fGQ+PjQsaD0oMTUmZCk8PDJ8ZT4+NixpPTYzJmUsaXNOYU4oZCk/aD1pPTY0OmlzTmFOKGUpJiYoaT02NCksaj1qK2wuY2hhckF0KGYpK2wuY2hhckF0KGcpK2wuY2hhckF0KGgpK2wuY2hhckF0KGkpO3JldHVybiBqfWZ1bmN0aW9uIHQoYSl7ZnVuY3Rpb24gYihhKXtmb3IodmFyIGIsYyxkPVxcXCJcXFwiLGU9MCxmPTA7ZTxhLmxlbmd0aDspZj1hLmNoYXJDb2RlQXQoZSksMTI4PmY/KGQrPVN0cmluZy5mcm9tQ2hhckNvZGUoZiksZSsrKTpmPjE5MSYmMjI0PmY/KGI9YS5jaGFyQ29kZUF0KGUrMSksZCs9U3RyaW5nLmZyb21DaGFyQ29kZSgoMzEmZik8PDZ8NjMmYiksZSs9Mik6KGI9YS5jaGFyQ29kZUF0KGUrMSksYz1hLmNoYXJDb2RlQXQoZSsyKSxkKz1TdHJpbmcuZnJvbUNoYXJDb2RlKCgxNSZmKTw8MTJ8KDYzJmIpPDw2fDYzJmMpLGUrPTMpO3JldHVybiBkfXZhciBjLGQsZSxmLGcsaCxpLGo9XFxcIlxcXCIsaz0wLGw9XFxcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XFxcIjtmb3IoYT1hLnJlcGxhY2UoL1teQS1aYS16MC05XFxcXCtcXFxcL1xcXFw9XS9nLFxcXCJcXFwiKTtrPGEubGVuZ3RoOylmPWwuaW5kZXhPZihhLmNoYXJBdChrKyspKSxnPWwuaW5kZXhPZihhLmNoYXJBdChrKyspKSxoPWwuaW5kZXhPZihhLmNoYXJBdChrKyspKSxpPWwuaW5kZXhPZihhLmNoYXJBdChrKyspKSxjPWY8PDJ8Zz4+NCxkPSgxNSZnKTw8NHxoPj4yLGU9KDMmaCk8PDZ8aSxqKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGMpLDY0IT09aCYmKGorPVN0cmluZy5mcm9tQ2hhckNvZGUoZCkpLDY0IT09aSYmKGorPVN0cmluZy5mcm9tQ2hhckNvZGUoZSkpO3JldHVybiBqPWIoail9ZnVuY3Rpb24gdShhLGIsYyxkKXtmdW5jdGlvbiBlKGEsYixjKXt2YXIgZD0hIXdpbmRvdy53ZWJraXRVUkw7cmV0dXJuIGR8fFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgY3x8KGI9YyksXFxcIjtcXFwiK2ErXFxcIjogXFxcIitiK1xcXCI7IC13ZWJraXQtXFxcIithK1xcXCI6IFxcXCIrYitcXFwiOyAtbW96LVxcXCIrYStcXFwiOiBcXFwiK2IrXFxcIjsgLW1zLVxcXCIrYStcXFwiOiBcXFwiK2IrXFxcIjsgLW8tXFxcIithK1xcXCI6IFxcXCIrYitcXFwiO1xcXCJ9dmFyIGY9JChhKS53aWR0aCgpLGc9JChhKS5oZWlnaHQoKSxoPS41O2lmKCFhfHwhYilyZXR1cm4gdm9pZCBjb25zb2xlLmxvZyhcXFwiRVJST1I6IENhbm5vdCBkbyB0cmFuc2l0aW9uIHdoZW4gb25lIG9mIHRoZSBkaXZzIGlzIG51bGxcXFwiKTtzd2l0Y2goYS5wYXJlbnROb2RlLnN0eWxlLmNzc1RleHQrPWUoXFxcInBlcnNwZWN0aXZlXFxcIixcXFwiNzAwcHhcXFwiKStcXFwiOyBvdmVyZmxvdzogaGlkZGVuO1xcXCIsYS5zdHlsZS5jc3NUZXh0Kz1cXFwiOyBwb3NpdGlvbjogYWJzb2x1dGU7IHotaW5kZXg6IDEwMTk7IFxcXCIrZShcXFwiYmFja2ZhY2UtdmlzaWJpbGl0eVxcXCIsXFxcImhpZGRlblxcXCIpLGIuc3R5bGUuY3NzVGV4dCs9XFxcIjsgcG9zaXRpb246IGFic29sdXRlOyB6LWluZGV4OiAxMDIwOyBcXFwiK2UoXFxcImJhY2tmYWNlLXZpc2liaWxpdHlcXFwiLFxcXCJoaWRkZW5cXFwiKSxjKXtjYXNlXFxcInNsaWRlLWxlZnRcXFwiOmEuc3R5bGUuY3NzVGV4dCs9XFxcIm92ZXJmbG93OiBoaWRkZW47IFxcXCIrZShcXFwidHJhbnNmb3JtXFxcIixcXFwidHJhbnNsYXRlM2QoMCwgMCwgMClcXFwiLFxcXCJ0cmFuc2xhdGUoMCwgMClcXFwiKSxiLnN0eWxlLmNzc1RleHQrPVxcXCJvdmVyZmxvdzogaGlkZGVuOyBcXFwiK2UoXFxcInRyYW5zZm9ybVxcXCIsXFxcInRyYW5zbGF0ZTNkKFxcXCIrZitcXFwicHgsIDAsIDApXFxcIixcXFwidHJhbnNsYXRlKFxcXCIrZitcXFwicHgsIDApXFxcIiksJChiKS5zaG93KCksd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnN0eWxlLmNzc1RleHQrPWUoXFxcInRyYW5zaXRpb25cXFwiLGgrXFxcInNcXFwiKStcXFwiO1xcXCIrZShcXFwidHJhbnNmb3JtXFxcIixcXFwidHJhbnNsYXRlM2QoMCwgMCwgMClcXFwiLFxcXCJ0cmFuc2xhdGUoMCwgMClcXFwiKSxhLnN0eWxlLmNzc1RleHQrPWUoXFxcInRyYW5zaXRpb25cXFwiLGgrXFxcInNcXFwiKStcXFwiO1xcXCIrZShcXFwidHJhbnNmb3JtXFxcIixcXFwidHJhbnNsYXRlM2QoLVxcXCIrZitcXFwicHgsIDAsIDApXFxcIixcXFwidHJhbnNsYXRlKC1cXFwiK2YrXFxcInB4LCAwKVxcXCIpfSwxKTticmVhaztjYXNlXFxcInNsaWRlLXJpZ2h0XFxcIjphLnN0eWxlLmNzc1RleHQrPVxcXCJvdmVyZmxvdzogaGlkZGVuOyBcXFwiK2UoXFxcInRyYW5zZm9ybVxcXCIsXFxcInRyYW5zbGF0ZTNkKDAsIDAsIDApXFxcIixcXFwidHJhbnNsYXRlKDAsIDApXFxcIiksYi5zdHlsZS5jc3NUZXh0Kz1cXFwib3ZlcmZsb3c6IGhpZGRlbjsgXFxcIitlKFxcXCJ0cmFuc2Zvcm1cXFwiLFxcXCJ0cmFuc2xhdGUzZCgtXFxcIitmK1xcXCJweCwgMCwgMClcXFwiLFxcXCJ0cmFuc2xhdGUoLVxcXCIrZitcXFwicHgsIDApXFxcIiksJChiKS5zaG93KCksd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnN0eWxlLmNzc1RleHQrPWUoXFxcInRyYW5zaXRpb25cXFwiLGgrXFxcInNcXFwiKStcXFwiOyBcXFwiK2UoXFxcInRyYW5zZm9ybVxcXCIsXFxcInRyYW5zbGF0ZTNkKDBweCwgMCwgMClcXFwiLFxcXCJ0cmFuc2xhdGUoMHB4LCAwKVxcXCIpLGEuc3R5bGUuY3NzVGV4dCs9ZShcXFwidHJhbnNpdGlvblxcXCIsaCtcXFwic1xcXCIpK1xcXCI7IFxcXCIrZShcXFwidHJhbnNmb3JtXFxcIixcXFwidHJhbnNsYXRlM2QoXFxcIitmK1xcXCJweCwgMCwgMClcXFwiLFxcXCJ0cmFuc2xhdGUoXFxcIitmK1xcXCJweCwgMClcXFwiKX0sMSk7YnJlYWs7Y2FzZVxcXCJzbGlkZS1kb3duXFxcIjphLnN0eWxlLmNzc1RleHQrPVxcXCJvdmVyZmxvdzogaGlkZGVuOyB6LWluZGV4OiAxOyBcXFwiK2UoXFxcInRyYW5zZm9ybVxcXCIsXFxcInRyYW5zbGF0ZTNkKDAsIDAsIDApXFxcIixcXFwidHJhbnNsYXRlKDAsIDApXFxcIiksYi5zdHlsZS5jc3NUZXh0Kz1cXFwib3ZlcmZsb3c6IGhpZGRlbjsgei1pbmRleDogMDsgXFxcIitlKFxcXCJ0cmFuc2Zvcm1cXFwiLFxcXCJ0cmFuc2xhdGUzZCgwLCAwLCAwKVxcXCIsXFxcInRyYW5zbGF0ZSgwLCAwKVxcXCIpLCQoYikuc2hvdygpLHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5zdHlsZS5jc3NUZXh0Kz1lKFxcXCJ0cmFuc2l0aW9uXFxcIixoK1xcXCJzXFxcIikrXFxcIjsgXFxcIitlKFxcXCJ0cmFuc2Zvcm1cXFwiLFxcXCJ0cmFuc2xhdGUzZCgwLCAwLCAwKVxcXCIsXFxcInRyYW5zbGF0ZSgwLCAwKVxcXCIpLGEuc3R5bGUuY3NzVGV4dCs9ZShcXFwidHJhbnNpdGlvblxcXCIsaCtcXFwic1xcXCIpK1xcXCI7IFxcXCIrZShcXFwidHJhbnNmb3JtXFxcIixcXFwidHJhbnNsYXRlM2QoMCwgXFxcIitnK1xcXCJweCwgMClcXFwiLFxcXCJ0cmFuc2xhdGUoMCwgXFxcIitnK1xcXCJweClcXFwiKX0sMSk7YnJlYWs7Y2FzZVxcXCJzbGlkZS11cFxcXCI6YS5zdHlsZS5jc3NUZXh0Kz1cXFwib3ZlcmZsb3c6IGhpZGRlbjsgXFxcIitlKFxcXCJ0cmFuc2Zvcm1cXFwiLFxcXCJ0cmFuc2xhdGUzZCgwLCAwLCAwKVxcXCIsXFxcInRyYW5zbGF0ZSgwLCAwKVxcXCIpLGIuc3R5bGUuY3NzVGV4dCs9XFxcIm92ZXJmbG93OiBoaWRkZW47IFxcXCIrZShcXFwidHJhbnNmb3JtXFxcIixcXFwidHJhbnNsYXRlM2QoMCwgXFxcIitnK1xcXCJweCwgMClcXFwiLFxcXCJ0cmFuc2xhdGUoMCwgXFxcIitnK1xcXCJweClcXFwiKSwkKGIpLnNob3coKSx3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2Iuc3R5bGUuY3NzVGV4dCs9ZShcXFwidHJhbnNpdGlvblxcXCIsaCtcXFwic1xcXCIpK1xcXCI7IFxcXCIrZShcXFwidHJhbnNmb3JtXFxcIixcXFwidHJhbnNsYXRlM2QoMCwgMCwgMClcXFwiLFxcXCJ0cmFuc2xhdGUoMCwgMClcXFwiKSxhLnN0eWxlLmNzc1RleHQrPWUoXFxcInRyYW5zaXRpb25cXFwiLGgrXFxcInNcXFwiKStcXFwiOyBcXFwiK2UoXFxcInRyYW5zZm9ybVxcXCIsXFxcInRyYW5zbGF0ZTNkKDAsIDAsIDApXFxcIixcXFwidHJhbnNsYXRlKDAsIDApXFxcIil9LDEpO2JyZWFrO2Nhc2VcXFwiZmxpcC1sZWZ0XFxcIjphLnN0eWxlLmNzc1RleHQrPVxcXCJvdmVyZmxvdzogaGlkZGVuOyBcXFwiK2UoXFxcInRyYW5zZm9ybVxcXCIsXFxcInJvdGF0ZVkoMGRlZylcXFwiKSxiLnN0eWxlLmNzc1RleHQrPVxcXCJvdmVyZmxvdzogaGlkZGVuOyBcXFwiK2UoXFxcInRyYW5zZm9ybVxcXCIsXFxcInJvdGF0ZVkoLTE4MGRlZylcXFwiKSwkKGIpLnNob3coKSx3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2Iuc3R5bGUuY3NzVGV4dCs9ZShcXFwidHJhbnNpdGlvblxcXCIsaCtcXFwic1xcXCIpK1xcXCI7IFxcXCIrZShcXFwidHJhbnNmb3JtXFxcIixcXFwicm90YXRlWSgwZGVnKVxcXCIpLGEuc3R5bGUuY3NzVGV4dCs9ZShcXFwidHJhbnNpdGlvblxcXCIsaCtcXFwic1xcXCIpK1xcXCI7IFxcXCIrZShcXFwidHJhbnNmb3JtXFxcIixcXFwicm90YXRlWSgxODBkZWcpXFxcIil9LDEpO2JyZWFrO2Nhc2VcXFwiZmxpcC1yaWdodFxcXCI6YS5zdHlsZS5jc3NUZXh0Kz1cXFwib3ZlcmZsb3c6IGhpZGRlbjsgXFxcIitlKFxcXCJ0cmFuc2Zvcm1cXFwiLFxcXCJyb3RhdGVZKDBkZWcpXFxcIiksYi5zdHlsZS5jc3NUZXh0Kz1cXFwib3ZlcmZsb3c6IGhpZGRlbjsgXFxcIitlKFxcXCJ0cmFuc2Zvcm1cXFwiLFxcXCJyb3RhdGVZKDE4MGRlZylcXFwiKSwkKGIpLnNob3coKSx3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2Iuc3R5bGUuY3NzVGV4dCs9ZShcXFwidHJhbnNpdGlvblxcXCIsaCtcXFwic1xcXCIpK1xcXCI7IFxcXCIrZShcXFwidHJhbnNmb3JtXFxcIixcXFwicm90YXRlWSgwZGVnKVxcXCIpLGEuc3R5bGUuY3NzVGV4dCs9ZShcXFwidHJhbnNpdGlvblxcXCIsaCtcXFwic1xcXCIpK1xcXCI7IFxcXCIrZShcXFwidHJhbnNmb3JtXFxcIixcXFwicm90YXRlWSgtMTgwZGVnKVxcXCIpfSwxKTticmVhaztjYXNlXFxcImZsaXAtZG93blxcXCI6YS5zdHlsZS5jc3NUZXh0Kz1cXFwib3ZlcmZsb3c6IGhpZGRlbjsgXFxcIitlKFxcXCJ0cmFuc2Zvcm1cXFwiLFxcXCJyb3RhdGVYKDBkZWcpXFxcIiksYi5zdHlsZS5jc3NUZXh0Kz1cXFwib3ZlcmZsb3c6IGhpZGRlbjsgXFxcIitlKFxcXCJ0cmFuc2Zvcm1cXFwiLFxcXCJyb3RhdGVYKDE4MGRlZylcXFwiKSwkKGIpLnNob3coKSx3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2Iuc3R5bGUuY3NzVGV4dCs9ZShcXFwidHJhbnNpdGlvblxcXCIsaCtcXFwic1xcXCIpK1xcXCI7IFxcXCIrZShcXFwidHJhbnNmb3JtXFxcIixcXFwicm90YXRlWCgwZGVnKVxcXCIpLGEuc3R5bGUuY3NzVGV4dCs9ZShcXFwidHJhbnNpdGlvblxcXCIsaCtcXFwic1xcXCIpK1xcXCI7IFxcXCIrZShcXFwidHJhbnNmb3JtXFxcIixcXFwicm90YXRlWCgtMTgwZGVnKVxcXCIpfSwxKTticmVhaztjYXNlXFxcImZsaXAtdXBcXFwiOmEuc3R5bGUuY3NzVGV4dCs9XFxcIm92ZXJmbG93OiBoaWRkZW47IFxcXCIrZShcXFwidHJhbnNmb3JtXFxcIixcXFwicm90YXRlWCgwZGVnKVxcXCIpLGIuc3R5bGUuY3NzVGV4dCs9XFxcIm92ZXJmbG93OiBoaWRkZW47IFxcXCIrZShcXFwidHJhbnNmb3JtXFxcIixcXFwicm90YXRlWCgtMTgwZGVnKVxcXCIpLCQoYikuc2hvdygpLHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5zdHlsZS5jc3NUZXh0Kz1lKFxcXCJ0cmFuc2l0aW9uXFxcIixoK1xcXCJzXFxcIikrXFxcIjsgXFxcIitlKFxcXCJ0cmFuc2Zvcm1cXFwiLFxcXCJyb3RhdGVYKDBkZWcpXFxcIiksYS5zdHlsZS5jc3NUZXh0Kz1lKFxcXCJ0cmFuc2l0aW9uXFxcIixoK1xcXCJzXFxcIikrXFxcIjsgXFxcIitlKFxcXCJ0cmFuc2Zvcm1cXFwiLFxcXCJyb3RhdGVYKDE4MGRlZylcXFwiKX0sMSk7YnJlYWs7Y2FzZVxcXCJwb3AtaW5cXFwiOmEuc3R5bGUuY3NzVGV4dCs9XFxcIm92ZXJmbG93OiBoaWRkZW47IFxcXCIrZShcXFwidHJhbnNmb3JtXFxcIixcXFwidHJhbnNsYXRlM2QoMCwgMCwgMClcXFwiLFxcXCJ0cmFuc2xhdGUoMCwgMClcXFwiKSxiLnN0eWxlLmNzc1RleHQrPVxcXCJvdmVyZmxvdzogaGlkZGVuOyBcXFwiK2UoXFxcInRyYW5zZm9ybVxcXCIsXFxcInRyYW5zbGF0ZTNkKDAsIDAsIDApXFxcIixcXFwidHJhbnNsYXRlKDAsIDApXFxcIikrXFxcIjsgXFxcIitlKFxcXCJ0cmFuc2Zvcm1cXFwiLFxcXCJzY2FsZSguOClcXFwiKStcXFwiOyBvcGFjaXR5OiAwO1xcXCIsJChiKS5zaG93KCksd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnN0eWxlLmNzc1RleHQrPWUoXFxcInRyYW5zaXRpb25cXFwiLGgrXFxcInNcXFwiKStcXFwiOyBcXFwiK2UoXFxcInRyYW5zZm9ybVxcXCIsXFxcInNjYWxlKDEpXFxcIikrXFxcIjsgb3BhY2l0eTogMTtcXFwiLGEuc3R5bGUuY3NzVGV4dCs9ZShcXFwidHJhbnNpdGlvblxcXCIsaCtcXFwic1xcXCIpK1xcXCI7XFxcIn0sMSk7YnJlYWs7Y2FzZVxcXCJwb3Atb3V0XFxcIjphLnN0eWxlLmNzc1RleHQrPVxcXCJvdmVyZmxvdzogaGlkZGVuOyBcXFwiK2UoXFxcInRyYW5zZm9ybVxcXCIsXFxcInRyYW5zbGF0ZTNkKDAsIDAsIDApXFxcIixcXFwidHJhbnNsYXRlKDAsIDApXFxcIikrXFxcIjsgXFxcIitlKFxcXCJ0cmFuc2Zvcm1cXFwiLFxcXCJzY2FsZSgxKVxcXCIpK1xcXCI7IG9wYWNpdHk6IDE7XFxcIixiLnN0eWxlLmNzc1RleHQrPVxcXCJvdmVyZmxvdzogaGlkZGVuOyBcXFwiK2UoXFxcInRyYW5zZm9ybVxcXCIsXFxcInRyYW5zbGF0ZTNkKDAsIDAsIDApXFxcIixcXFwidHJhbnNsYXRlKDAsIDApXFxcIikrXFxcIjsgb3BhY2l0eTogMDtcXFwiLCQoYikuc2hvdygpLHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5zdHlsZS5jc3NUZXh0Kz1lKFxcXCJ0cmFuc2l0aW9uXFxcIixoK1xcXCJzXFxcIikrXFxcIjsgb3BhY2l0eTogMTtcXFwiLGEuc3R5bGUuY3NzVGV4dCs9ZShcXFwidHJhbnNpdGlvblxcXCIsaCtcXFwic1xcXCIpK1xcXCI7IFxcXCIrZShcXFwidHJhbnNmb3JtXFxcIixcXFwic2NhbGUoMS43KVxcXCIpK1xcXCI7IG9wYWNpdHk6IDA7XFxcIn0sMSk7YnJlYWs7ZGVmYXVsdDphLnN0eWxlLmNzc1RleHQrPVxcXCJvdmVyZmxvdzogaGlkZGVuOyBcXFwiK2UoXFxcInRyYW5zZm9ybVxcXCIsXFxcInRyYW5zbGF0ZTNkKDAsIDAsIDApXFxcIixcXFwidHJhbnNsYXRlKDAsIDApXFxcIiksYi5zdHlsZS5jc3NUZXh0Kz1cXFwib3ZlcmZsb3c6IGhpZGRlbjsgXFxcIitlKFxcXCJ0cmFuc2Zvcm1cXFwiLFxcXCJ0cmFuc2xhdGUzZCgwLCAwLCAwKVxcXCIsXFxcInRyYW5zbGF0ZSgwLCAwKVxcXCIpK1xcXCI7IG9wYWNpdHk6IDA7XFxcIiwkKGIpLnNob3coKSx3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2Iuc3R5bGUuY3NzVGV4dCs9ZShcXFwidHJhbnNpdGlvblxcXCIsaCtcXFwic1xcXCIpK1xcXCI7IG9wYWNpdHk6IDE7XFxcIixhLnN0eWxlLmNzc1RleHQrPWUoXFxcInRyYW5zaXRpb25cXFwiLGgrXFxcInNcXFwiKX0sMSl9c2V0VGltZW91dChmdW5jdGlvbigpe1xcXCJzbGlkZS1kb3duXFxcIj09PWMmJigkKGEpLmNzcyhcXFwiei1pbmRleFxcXCIsXFxcIjEwMTlcXFwiKSwkKGIpLmNzcyhcXFwiei1pbmRleFxcXCIsXFxcIjEwMjBcXFwiKSksYiYmJChiKS5jc3Moe29wYWNpdHk6XFxcIjFcXFwiLFxcXCItd2Via2l0LXRyYW5zaXRpb25cXFwiOlxcXCJcXFwiLFxcXCItbW96LXRyYW5zaXRpb25cXFwiOlxcXCJcXFwiLFxcXCItbXMtdHJhbnNpdGlvblxcXCI6XFxcIlxcXCIsXFxcIi1vLXRyYW5zaXRpb25cXFwiOlxcXCJcXFwiLFxcXCItd2Via2l0LXRyYW5zZm9ybVxcXCI6XFxcIlxcXCIsXFxcIi1tb3otdHJhbnNmb3JtXFxcIjpcXFwiXFxcIixcXFwiLW1zLXRyYW5zZm9ybVxcXCI6XFxcIlxcXCIsXFxcIi1vLXRyYW5zZm9ybVxcXCI6XFxcIlxcXCIsXFxcIi13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eVxcXCI6XFxcIlxcXCIsXFxcIi1tb3otYmFja2ZhY2UtdmlzaWJpbGl0eVxcXCI6XFxcIlxcXCIsXFxcIi1tcy1iYWNrZmFjZS12aXNpYmlsaXR5XFxcIjpcXFwiXFxcIixcXFwiLW8tYmFja2ZhY2UtdmlzaWJpbGl0eVxcXCI6XFxcIlxcXCJ9KSxhJiYoJChhKS5jc3Moe29wYWNpdHk6XFxcIjFcXFwiLFxcXCItd2Via2l0LXRyYW5zaXRpb25cXFwiOlxcXCJcXFwiLFxcXCItbW96LXRyYW5zaXRpb25cXFwiOlxcXCJcXFwiLFxcXCItbXMtdHJhbnNpdGlvblxcXCI6XFxcIlxcXCIsXFxcIi1vLXRyYW5zaXRpb25cXFwiOlxcXCJcXFwiLFxcXCItd2Via2l0LXRyYW5zZm9ybVxcXCI6XFxcIlxcXCIsXFxcIi1tb3otdHJhbnNmb3JtXFxcIjpcXFwiXFxcIixcXFwiLW1zLXRyYW5zZm9ybVxcXCI6XFxcIlxcXCIsXFxcIi1vLXRyYW5zZm9ybVxcXCI6XFxcIlxcXCIsXFxcIi13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eVxcXCI6XFxcIlxcXCIsXFxcIi1tb3otYmFja2ZhY2UtdmlzaWJpbGl0eVxcXCI6XFxcIlxcXCIsXFxcIi1tcy1iYWNrZmFjZS12aXNpYmlsaXR5XFxcIjpcXFwiXFxcIixcXFwiLW8tYmFja2ZhY2UtdmlzaWJpbGl0eVxcXCI6XFxcIlxcXCJ9KSxhLnBhcmVudE5vZGUmJiQoYS5wYXJlbnROb2RlKS5jc3Moe1xcXCItd2Via2l0LXBlcnNwZWN0aXZlXFxcIjpcXFwiXFxcIixcXFwiLW1vei1wZXJzcGVjdGl2ZVxcXCI6XFxcIlxcXCIsXFxcIi1tcy1wZXJzcGVjdGl2ZVxcXCI6XFxcIlxcXCIsXFxcIi1vLXBlcnNwZWN0aXZlXFxcIjpcXFwiXFxcIn0pKSxcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgZCYmZCgpfSwxZTMqaCl9ZnVuY3Rpb24gdihhLGIsYyl7dmFyIGQ9e307XFxcIm9iamVjdFxcXCI9PXR5cGVvZiBiP2Q9YjooZC5tc2c9YixkLnNwaW5uZXI9YyksZC5tc2d8fDA9PT1kLm1zZ3x8KGQubXNnPVxcXCJcXFwiKSx3MnV0aWxzLnVubG9jayhhKSwkKGEpLnByZXBlbmQoJzxkaXYgY2xhc3M9XFxcIncydWktbG9ja1xcXCI+PC9kaXY+PGRpdiBjbGFzcz1cXFwidzJ1aS1sb2NrLW1zZ1xcXCI+PC9kaXY+Jyk7dmFyIGU9JChhKS5maW5kKFxcXCIudzJ1aS1sb2NrXFxcIiksZj0kKGEpLmZpbmQoXFxcIi53MnVpLWxvY2stbXNnXFxcIik7ZC5tc2d8fGYuY3NzKHtcXFwiYmFja2dyb3VuZC1jb2xvclxcXCI6XFxcInRyYW5zcGFyZW50XFxcIixib3JkZXI6XFxcIjBweFxcXCJ9KSxkLnNwaW5uZXI9PT0hMCYmKGQubXNnPSc8ZGl2IGNsYXNzPVxcXCJ3MnVpLXNwaW5uZXJcXFwiICcrKGQubXNnP1xcXCJcXFwiOidzdHlsZT1cXFwid2lkdGg6IDM1cHg7IGhlaWdodDogMzVweFxcXCInKStcXFwiPjwvZGl2PlxcXCIrZC5tc2cpLG51bGwhPWQub3BhY2l0eSYmZS5jc3MoXFxcIm9wYWNpdHlcXFwiLGQub3BhY2l0eSksXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGUuZmFkZUluPyhlLmZhZGVJbigyMDApLGYuaHRtbChkLm1zZykuZmFkZUluKDIwMCkpOihlLnNob3coKSxmLmh0bWwoZC5tc2cpLnNob3coMCkpLCQoKS53MnRhZygpfWZ1bmN0aW9uIHcoYSl7JChhKS5maW5kKFxcXCIudzJ1aS1sb2NrXFxcIikucmVtb3ZlKCksJChhKS5maW5kKFxcXCIudzJ1aS1sb2NrLW1zZ1xcXCIpLnJlbW92ZSgpfWZ1bmN0aW9uIHgoYSxiKXt2YXIgYz0kKGEpLGQ9e2xlZnQ6cGFyc2VJbnQoYy5jc3MoXFxcImJvcmRlci1sZWZ0LXdpZHRoXFxcIikpfHwwLHJpZ2h0OnBhcnNlSW50KGMuY3NzKFxcXCJib3JkZXItcmlnaHQtd2lkdGhcXFwiKSl8fDAsdG9wOnBhcnNlSW50KGMuY3NzKFxcXCJib3JkZXItdG9wLXdpZHRoXFxcIikpfHwwLGJvdHRvbTpwYXJzZUludChjLmNzcyhcXFwiYm9yZGVyLWJvdHRvbS13aWR0aFxcXCIpKXx8MH0sZT17bGVmdDpwYXJzZUludChjLmNzcyhcXFwibWFyZ2luLWxlZnRcXFwiKSl8fDAscmlnaHQ6cGFyc2VJbnQoYy5jc3MoXFxcIm1hcmdpbi1yaWdodFxcXCIpKXx8MCx0b3A6cGFyc2VJbnQoYy5jc3MoXFxcIm1hcmdpbi10b3BcXFwiKSl8fDAsYm90dG9tOnBhcnNlSW50KGMuY3NzKFxcXCJtYXJnaW4tYm90dG9tXFxcIikpfHwwfSxmPXtsZWZ0OnBhcnNlSW50KGMuY3NzKFxcXCJwYWRkaW5nLWxlZnRcXFwiKSl8fDAscmlnaHQ6cGFyc2VJbnQoYy5jc3MoXFxcInBhZGRpbmctcmlnaHRcXFwiKSl8fDAsdG9wOnBhcnNlSW50KGMuY3NzKFxcXCJwYWRkaW5nLXRvcFxcXCIpKXx8MCxib3R0b206cGFyc2VJbnQoYy5jc3MoXFxcInBhZGRpbmctYm90dG9tXFxcIikpfHwwfTtzd2l0Y2goYil7Y2FzZVxcXCJ0b3BcXFwiOnJldHVybiBkLnRvcCtlLnRvcCtmLnRvcDtjYXNlXFxcImJvdHRvbVxcXCI6cmV0dXJuIGQuYm90dG9tK2UuYm90dG9tK2YuYm90dG9tO2Nhc2VcXFwibGVmdFxcXCI6cmV0dXJuIGQubGVmdCtlLmxlZnQrZi5sZWZ0O2Nhc2VcXFwicmlnaHRcXFwiOnJldHVybiBkLnJpZ2h0K2UucmlnaHQrZi5yaWdodDtjYXNlXFxcIndpZHRoXFxcIjpyZXR1cm4gZC5sZWZ0K2QucmlnaHQrZS5sZWZ0K2UucmlnaHQrZi5sZWZ0K2YucmlnaHQrcGFyc2VJbnQoYy53aWR0aCgpKTtjYXNlXFxcImhlaWdodFxcXCI6cmV0dXJuIGQudG9wK2QuYm90dG9tK2UudG9wK2UuYm90dG9tK2YudG9wK2YuYm90dG9tK3BhcnNlSW50KGMuaGVpZ2h0KCkpO2Nhc2VcXFwiK3dpZHRoXFxcIjpyZXR1cm4gZC5sZWZ0K2QucmlnaHQrZS5sZWZ0K2UucmlnaHQrZi5sZWZ0K2YucmlnaHQ7Y2FzZVxcXCIraGVpZ2h0XFxcIjpyZXR1cm4gZC50b3ArZC5ib3R0b20rZS50b3ArZS5ib3R0b20rZi50b3ArZi5ib3R0b219cmV0dXJuIDB9ZnVuY3Rpb24geShhKXt2YXIgYj10aGlzLnNldHRpbmdzLnBocmFzZXNbYV07cmV0dXJuIG51bGw9PWI/YTpifWZ1bmN0aW9uIHooYSl7YXx8KGE9XFxcImVuLXVzXFxcIiksNT09PWEubGVuZ3RoJiYoYT1cXFwibG9jYWxlL1xcXCIrYStcXFwiLmpzb25cXFwiKSwkLmFqYXgoe3VybDphLHR5cGU6XFxcIkdFVFxcXCIsZGF0YVR5cGU6XFxcIkpTT05cXFwiLGFzeW5jOiExLGNhY2hlOiExLHN1Y2Nlc3M6ZnVuY3Rpb24oYSl7dzJ1dGlscy5zZXR0aW5ncz0kLmV4dGVuZCghMCx3MnV0aWxzLnNldHRpbmdzLGEpO3ZhciBiPXcyb2JqLmdyaWQucHJvdG90eXBlO2Zvcih2YXIgYyBpbiBiLmJ1dHRvbnMpYi5idXR0b25zW2NdLmNhcHRpb249dzJ1dGlscy5sYW5nKGIuYnV0dG9uc1tjXS5jYXB0aW9uKSxiLmJ1dHRvbnNbY10uaGludD13MnV0aWxzLmxhbmcoYi5idXR0b25zW2NdLmhpbnQpO2IubXNnRGVsZXRlPXcydXRpbHMubGFuZyhiLm1zZ0RlbGV0ZSksYi5tc2dOb3RKU09OPXcydXRpbHMubGFuZyhiLm1zZ05vdEpTT04pLGIubXNnUmVmcmVzaD13MnV0aWxzLmxhbmcoYi5tc2dSZWZyZXNoKX0sZXJyb3I6ZnVuY3Rpb24oKXtjb25zb2xlLmxvZyhcXFwiRVJST1I6IENhbm5vdCBsb2FkIGxvY2FsZSBcXFwiK2EpfX0pfWZ1bmN0aW9uIEEoKXtpZihFLnNjcm9sbEJhclNpemUpcmV0dXJuIEUuc2Nyb2xsQmFyU2l6ZTt2YXIgYT0nPGRpdiBpZD1cXFwiX3Njcm9sbGJhcl93aWR0aFxcXCIgc3R5bGU9XFxcInBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAtMzAwcHg7IHdpZHRoOiAxMDBweDsgaGVpZ2h0OiAxMDBweDsgb3ZlcmZsb3cteTogc2Nyb2xsO1xcXCI+ICAgIDxkaXYgc3R5bGU9XFxcImhlaWdodDogMTIwcHhcXFwiPjE8L2Rpdj48L2Rpdj4nO3JldHVybiAkKFxcXCJib2R5XFxcIikuYXBwZW5kKGEpLEUuc2Nyb2xsQmFyU2l6ZT0xMDAtJChcXFwiI19zY3JvbGxiYXJfd2lkdGggPiBkaXZcXFwiKS53aWR0aCgpLCQoXFxcIiNfc2Nyb2xsYmFyX3dpZHRoXFxcIikucmVtb3ZlKCksU3RyaW5nKG5hdmlnYXRvci51c2VyQWdlbnQpLmluZGV4T2YoXFxcIk1TSUVcXFwiKT49MCYmKEUuc2Nyb2xsQmFyU2l6ZT1FLnNjcm9sbEJhclNpemUvMiksRS5zY3JvbGxCYXJTaXplfWZ1bmN0aW9uIEIoYSxiKXtyZXR1cm4gYSYmXFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBhLm5hbWU/XFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiB3MnVpW2EubmFtZV0/KGNvbnNvbGUubG9nKCdFUlJPUjogVGhlIHBhcmFtZXRlciBcXFwibmFtZVxcXCIgaXMgbm90IHVuaXF1ZS4gVGhlcmUgYXJlIG90aGVyIG9iamVjdHMgYWxyZWFkeSBjcmVhdGVkIHdpdGggdGhlIHNhbWUgbmFtZSAob2JqOiAnK2EubmFtZStcXFwiKS5cXFwiKSwhMSk6dzJ1dGlscy5pc0FscGhhTnVtZXJpYyhhLm5hbWUpPyEwOihjb25zb2xlLmxvZygnRVJST1I6IFRoZSBwYXJhbWV0ZXIgXFxcIm5hbWVcXFwiIGhhcyB0byBiZSBhbHBoYS1udW1lcmljIChhLXosIDAtOSwgZGFzaCBhbmQgdW5kZXJzY29yZSkuICcpLCExKTooY29uc29sZS5sb2coJ0VSUk9SOiBUaGUgcGFyYW1ldGVyIFxcXCJuYW1lXFxcIiBpcyByZXF1aXJlZCBidXQgbm90IHN1cHBsaWVkIGluICQoKS4nK2IrXFxcIigpLlxcXCIpLCExKX1mdW5jdGlvbiBDKGEsYixjLGQpeyQuaXNBcnJheShiKXx8KGI9W2JdKTtmb3IodmFyIGU9MDtlPGIubGVuZ3RoO2UrKylpZihiW2VdLmlkPT09YSlyZXR1cm4gY29uc29sZS5sb2coJ0VSUk9SOiBUaGUgcGFyYW1ldGVyIFxcXCJpZD0nK2ErJ1xcXCIgaXMgbm90IHVuaXF1ZSB3aXRoaW4gdGhlIGN1cnJlbnQgJytjK1xcXCIuIChvYmo6IFxcXCIrZCtcXFwiKVxcXCIpLCExO3JldHVybiEwfWZ1bmN0aW9uIEQoYSl7dmFyIGI9W10sYz1hLnJlcGxhY2UoL1xcXFwvXFxcXCgvZyxcXFwiKD86L1xcXCIpLnJlcGxhY2UoL1xcXFwrL2csXFxcIl9fcGx1c19fXFxcIikucmVwbGFjZSgvKFxcXFwvKT8oXFxcXC4pPzooXFxcXHcrKSg/OihcXFxcKC4qP1xcXFwpKSk/KFxcXFw/KT8vZyxmdW5jdGlvbihhLGMsZCxlLGYsZyl7cmV0dXJuIGIucHVzaCh7bmFtZTplLG9wdGlvbmFsOiEhZ30pLGM9Y3x8XFxcIlxcXCIsXFxcIlxcXCIrKGc/XFxcIlxcXCI6YykrXFxcIig/OlxcXCIrKGc/YzpcXFwiXFxcIikrKGR8fFxcXCJcXFwiKSsoZnx8ZCYmXFxcIihbXi8uXSs/KVxcXCJ8fFxcXCIoW14vXSs/KVxcXCIpK1xcXCIpXFxcIisoZ3x8XFxcIlxcXCIpfSkucmVwbGFjZSgvKFtcXFxcLy5dKS9nLFxcXCJcXFxcXFxcXCQxXFxcIikucmVwbGFjZSgvX19wbHVzX18vZyxcXFwiKC4rKVxcXCIpLnJlcGxhY2UoL1xcXFwqL2csXFxcIiguKilcXFwiKTtyZXR1cm57cGF0aDpuZXcgUmVnRXhwKFxcXCJeXFxcIitjK1xcXCIkXFxcIixcXFwiaVxcXCIpLGtleXM6Yn19dmFyIEU9e30sRj17dmVyc2lvbjpcXFwiMS40LjNcXFwiLHNldHRpbmdzOntsb2NhbGU6XFxcImVuLXVzXFxcIixkYXRlX2Zvcm1hdDpcXFwibS9kL3l5eXlcXFwiLGRhdGVfZGlzcGxheTpcXFwiTW9uIGQsIHl5eXlcXFwiLHRpbWVfZm9ybWF0OlxcXCJoaDptaSBwbVxcXCIsY3VycmVuY3lQcmVmaXg6XFxcIiRcXFwiLGN1cnJlbmN5U3VmZml4OlxcXCJcXFwiLGN1cnJlbmN5UHJlY2lzaW9uOjIsZ3JvdXBTeW1ib2w6XFxcIixcXFwiLGRlY2ltYWxTeW1ib2w6XFxcIi5cXFwiLHNob3J0bW9udGhzOltcXFwiSmFuXFxcIixcXFwiRmViXFxcIixcXFwiTWFyXFxcIixcXFwiQXByXFxcIixcXFwiTWF5XFxcIixcXFwiSnVuXFxcIixcXFwiSnVsXFxcIixcXFwiQXVnXFxcIixcXFwiU2VwXFxcIixcXFwiT2N0XFxcIixcXFwiTm92XFxcIixcXFwiRGVjXFxcIl0sZnVsbG1vbnRoczpbXFxcIkphbnVhcnlcXFwiLFxcXCJGZWJydWFyeVxcXCIsXFxcIk1hcmNoXFxcIixcXFwiQXByaWxcXFwiLFxcXCJNYXlcXFwiLFxcXCJKdW5lXFxcIixcXFwiSnVseVxcXCIsXFxcIkF1Z3VzdFxcXCIsXFxcIlNlcHRlbWJlclxcXCIsXFxcIk9jdG9iZXJcXFwiLFxcXCJOb3ZlbWJlclxcXCIsXFxcIkRlY2VtYmVyXFxcIl0sc2hvcnRkYXlzOltcXFwiTVxcXCIsXFxcIlRcXFwiLFxcXCJXXFxcIixcXFwiVFxcXCIsXFxcIkZcXFwiLFxcXCJTXFxcIixcXFwiU1xcXCJdLGZ1bGxkYXlzOltcXFwiTW9uZGF5XFxcIixcXFwiVHVlc2RheVxcXCIsXFxcIldlZG5lc2RheVxcXCIsXFxcIlRodXJzZGF5XFxcIixcXFwiRnJpZGF5XFxcIixcXFwiU2F0dXJkYXlcXFwiLFxcXCJTdW5kYXlcXFwiXSxkYXRhVHlwZTpcXFwiSFRUUFxcXCIscGhyYXNlczp7fX0saXNJbnQ6YSxpc0Zsb2F0OmIsaXNNb25leTpjLGlzSGV4OmQsaXNBbHBoYU51bWVyaWM6ZSxpc0VtYWlsOmYsaXNEYXRlOmcsaXNUaW1lOmgsYWdlOmksZGF0ZTpqLHNpemU6ayxmb3JtYXROdW1iZXI6bCxmb3JtYXREYXRlOm0sZm9ybWF0VGltZTpuLGZvcm1hdERhdGVUaW1lOm8sc3RyaXBUYWdzOnAsZW5jb2RlVGFnczpxLGVzY2FwZUlkOnIsYmFzZTY0ZW5jb2RlOnMsYmFzZTY0ZGVjb2RlOnQsdHJhbnNpdGlvbjp1LGxvY2s6dix1bmxvY2s6dyxsYW5nOnksbG9jYWxlOnosZ2V0U2l6ZTp4LHNjcm9sbEJhclNpemU6QSxjaGVja05hbWU6QixjaGVja1VuaXF1ZUlkOkMscGFyc2VSb3V0ZTpELGlzSU9TOi0xIT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcXFwiaXBob25lXFxcIil8fC0xIT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcXFwiaXBvZFxcXCIpfHwtMSE9bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXFxcImlwYWRcXFwiKT8hMDohMSxpc0lFOi0xIT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcXFwibXNpZVxcXCIpfHwtMSE9bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXFxcInRyaWRlbnRcXFwiKT8hMDohMX07cmV0dXJuIEZ9KCk7dzJ1dGlscy5ldmVudD17b246ZnVuY3Rpb24oYSxiKXtyZXR1cm4gJC5pc1BsYWluT2JqZWN0KGEpfHwoYT17dHlwZTphfSksYT0kLmV4dGVuZCh7dHlwZTpudWxsLGV4ZWN1dGU6XFxcImJlZm9yZVxcXCIsdGFyZ2V0Om51bGwsb25Db21wbGV0ZTpudWxsfSxhKSxhLnR5cGU/Yj8oJC5pc0FycmF5KHRoaXMuaGFuZGxlcnMpfHwodGhpcy5oYW5kbGVycz1bXSksdm9pZCB0aGlzLmhhbmRsZXJzLnB1c2goe2V2ZW50OmEsaGFuZGxlcjpifSkpOnZvaWQgY29uc29sZS5sb2coXFxcIkVSUk9SOiBZb3UgbXVzdCBzcGVjaWZ5IGV2ZW50IGhhbmRsZXIgZnVuY3Rpb24gd2hlbiBjYWxsaW5nIC5vbigpIG1ldGhvZCBvZiBcXFwiK3RoaXMubmFtZSk6dm9pZCBjb25zb2xlLmxvZyhcXFwiRVJST1I6IFlvdSBtdXN0IHNwZWNpZnkgZXZlbnQgdHlwZSB3aGVuIGNhbGxpbmcgLm9uKCkgbWV0aG9kIG9mIFxcXCIrdGhpcy5uYW1lKX0sb2ZmOmZ1bmN0aW9uKGEsYil7aWYoJC5pc1BsYWluT2JqZWN0KGEpfHwoYT17dHlwZTphfSksYT0kLmV4dGVuZCh7fSx7dHlwZTpudWxsLGV4ZWN1dGU6XFxcImJlZm9yZVxcXCIsdGFyZ2V0Om51bGwsb25Db21wbGV0ZTpudWxsfSxhKSwhYS50eXBlKXJldHVybiB2b2lkIGNvbnNvbGUubG9nKFxcXCJFUlJPUjogWW91IG11c3Qgc3BlY2lmeSBldmVudCB0eXBlIHdoZW4gY2FsbGluZyAub2ZmKCkgbWV0aG9kIG9mIFxcXCIrdGhpcy5uYW1lKTtifHwoYj1udWxsKTtmb3IodmFyIGM9W10sZD0wLGU9dGhpcy5oYW5kbGVycy5sZW5ndGg7ZT5kO2QrKyl7dmFyIGY9dGhpcy5oYW5kbGVyc1tkXTsoZi5ldmVudC50eXBlIT09YS50eXBlJiZcXFwiKlxcXCIhPT1hLnR5cGV8fGYuZXZlbnQudGFyZ2V0IT09YS50YXJnZXQmJm51bGwhPT1hLnRhcmdldHx8Zi5oYW5kbGVyIT09YiYmbnVsbCE9PWIpJiZjLnB1c2goZil9dGhpcy5oYW5kbGVycz1jfSx0cmlnZ2VyOmZ1bmN0aW9uKGEpe3ZhciBhPSQuZXh0ZW5kKHt0eXBlOm51bGwscGhhc2U6XFxcImJlZm9yZVxcXCIsdGFyZ2V0Om51bGx9LGEse2lzU3RvcHBlZDohMSxpc0NhbmNlbGxlZDohMSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3RoaXMuaXNDYW5jZWxsZWQ9ITB9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3RoaXMuaXNTdG9wcGVkPSEwfX0pO1xcXCJiZWZvcmVcXFwiPT09YS5waGFzZSYmKGEub25Db21wbGV0ZT1udWxsKTt2YXIgYixjLGQ7bnVsbD09YS50YXJnZXQmJihhLnRhcmdldD1udWxsKSwkLmlzQXJyYXkodGhpcy5oYW5kbGVycyl8fCh0aGlzLmhhbmRsZXJzPVtdKTtmb3IodmFyIGU9dGhpcy5oYW5kbGVycy5sZW5ndGgtMTtlPj0wO2UtLSl7dmFyIGY9dGhpcy5oYW5kbGVyc1tlXTtpZighKGYuZXZlbnQudHlwZSE9PWEudHlwZSYmXFxcIipcXFwiIT09Zi5ldmVudC50eXBlfHxmLmV2ZW50LnRhcmdldCE9PWEudGFyZ2V0JiZudWxsIT09Zi5ldmVudC50YXJnZXR8fGYuZXZlbnQuZXhlY3V0ZSE9PWEucGhhc2UmJlxcXCIqXFxcIiE9PWYuZXZlbnQuZXhlY3V0ZSYmXFxcIipcXFwiIT09Zi5ldmVudC5waGFzZSkmJihhPSQuZXh0ZW5kKHt9LGYuZXZlbnQsYSksYj1bXSxkPVJlZ0V4cCgvXFxcXCgoLio/KVxcXFwpLykuZXhlYyhmLmhhbmRsZXIpLGQmJihiPWRbMV0uc3BsaXQoL1xcXFxzKixcXFxccyovKSksMj09PWIubGVuZ3RoP2YuaGFuZGxlci5jYWxsKHRoaXMsYS50YXJnZXQsYSk6Zi5oYW5kbGVyLmNhbGwodGhpcyxhKSxhLmlzU3RvcHBlZD09PSEwfHxhLnN0b3A9PT0hMCkpcmV0dXJuIGF9dmFyIGc9XFxcIm9uXFxcIithLnR5cGUuc3Vic3RyKDAsMSkudG9VcHBlckNhc2UoKSthLnR5cGUuc3Vic3RyKDEpO3JldHVyblxcXCJiZWZvcmVcXFwiPT09YS5waGFzZSYmXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIHRoaXNbZ10mJihjPXRoaXNbZ10sYj1bXSxkPVJlZ0V4cCgvXFxcXCgoLio/KVxcXFwpLykuZXhlYyhjKSxkJiYoYj1kWzFdLnNwbGl0KC9cXFxccyosXFxcXHMqLykpLDI9PT1iLmxlbmd0aD9jLmNhbGwodGhpcyxhLnRhcmdldCxhKTpjLmNhbGwodGhpcyxhKSxhLmlzU3RvcHBlZD09PSEwfHxhLnN0b3A9PT0hMCk/YTpudWxsIT1hLm9iamVjdCYmXFxcImJlZm9yZVxcXCI9PT1hLnBoYXNlJiZcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgYS5vYmplY3RbZ10mJihjPWEub2JqZWN0W2ddLGI9W10sZD1SZWdFeHAoL1xcXFwoKC4qPylcXFxcKS8pLmV4ZWMoYyksZCYmKGI9ZFsxXS5zcGxpdCgvXFxcXHMqLFxcXFxzKi8pKSwyPT09Yi5sZW5ndGg/Yy5jYWxsKHRoaXMsYS50YXJnZXQsYSk6Yy5jYWxsKHRoaXMsYSksYS5pc1N0b3BwZWQ9PT0hMHx8YS5zdG9wPT09ITApP2E6KFxcXCJhZnRlclxcXCI9PT1hLnBoYXNlJiZcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgYS5vbkNvbXBsZXRlJiZhLm9uQ29tcGxldGUuY2FsbCh0aGlzLGEpLGEpfX0sdzJ1dGlscy5rZXlib2FyZD1mdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7JChkb2N1bWVudCkub24oXFxcImtleWRvd25cXFwiLGMpLCQoZG9jdW1lbnQpLm9uKFxcXCJtb3VzZWRvd25cXFwiLGQpfWZ1bmN0aW9uIGMoYSl7dmFyIGI9YS50YXJnZXQudGFnTmFtZTstMT09PSQuaW5BcnJheShiLFtcXFwiSU5QVVRcXFwiLFxcXCJTRUxFQ1RcXFwiLFxcXCJURVhUQVJFQVxcXCJdKSYmXFxcInRydWVcXFwiIT09JChhLnRhcmdldCkucHJvcChcXFwiY29udGVudGVkaXRhYmxlXFxcIikmJmcmJncydWlbZ10mJlxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiB3MnVpW2ddLmtleWRvd24mJncydWlbZ10ua2V5ZG93bi5jYWxsKHcydWlbZ10sYSl9ZnVuY3Rpb24gZChhKXt2YXIgYj0oYS50YXJnZXQudGFnTmFtZSwkKGEudGFyZ2V0KS5wYXJlbnRzKFxcXCIudzJ1aS1yZXNldFxcXCIpKTtpZihiLmxlbmd0aD4wKXt2YXIgYz1iLmF0dHIoXFxcIm5hbWVcXFwiKTt3MnVpW2NdJiZ3MnVpW2NdLmtleWJvYXJkJiYoZz1jKX19ZnVuY3Rpb24gZShhKXtyZXR1cm5cXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGEmJihnPWEpLGd9ZnVuY3Rpb24gZigpe2c9bnVsbH12YXIgZz1udWxsO3JldHVybiBhLmFjdGl2ZT1lLGEuY2xlYXI9ZixiKCksYX0oe30pLGZ1bmN0aW9uKCl7JC5mbi53MnJlbmRlcj1mdW5jdGlvbihhKXskKHRoaXMpLmxlbmd0aD4wJiYoXFxcInN0cmluZ1xcXCI9PXR5cGVvZiBhJiZ3MnVpW2FdJiZ3MnVpW2FdLnJlbmRlcigkKHRoaXMpWzBdKSxcXFwib2JqZWN0XFxcIj09dHlwZW9mIGEmJmEucmVuZGVyKCQodGhpcylbMF0pKX0sJC5mbi53MmRlc3Ryb3k9ZnVuY3Rpb24oYSl7IWEmJnRoaXMubGVuZ3RoPjAmJihhPXRoaXMuYXR0cihcXFwibmFtZVxcXCIpKSxcXFwic3RyaW5nXFxcIj09dHlwZW9mIGEmJncydWlbYV0mJncydWlbYV0uZGVzdHJveSgpLFxcXCJvYmplY3RcXFwiPT10eXBlb2YgYSYmYS5kZXN0cm95KCl9LCQuZm4udzJtYXJrZXI9ZnVuY3Rpb24oYSl7cmV0dXJuICQodGhpcykuZWFjaChcXFwiXFxcIj09PWF8fG51bGw9PWE/ZnVuY3Rpb24oYSxiKXtiLmlubmVySFRNTD1iLmlubmVySFRNTC5yZXBsYWNlKC9cXFxcPHNwYW4gY2xhc3M9XFxcXFxcXCJ3MnVpXFxcXC1tYXJrZXJcXFxcXFxcIlxcXFw+KC4qKVxcXFw8XFxcXC9zcGFuXFxcXD4vZ2ksXFxcIiQxXFxcIil9OmZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZChhKXtyZXR1cm4nPHNwYW4gY2xhc3M9XFxcIncydWktbWFya2VyXFxcIj4nK2ErXFxcIjwvc3Bhbj5cXFwifVxcXCJzdHJpbmdcXFwiPT10eXBlb2YgYSYmKGE9W2FdKSxjLmlubmVySFRNTD1jLmlubmVySFRNTC5yZXBsYWNlKC9cXFxcPHNwYW4gY2xhc3M9XFxcXFxcXCJ3MnVpXFxcXC1tYXJrZXJcXFxcXFxcIlxcXFw+KC4qKVxcXFw8XFxcXC9zcGFuXFxcXD4vZ2ksXFxcIiQxXFxcIik7Zm9yKHZhciBlIGluIGEpe3ZhciBmPWFbZV07XFxcInN0cmluZ1xcXCIhPXR5cGVvZiBmJiYoZj1TdHJpbmcoZikpLGY9Zi5yZXBsYWNlKC9bLVtcXFxcXXt9KCkqKz8uLFxcXFxcXFxcXiR8I1xcXFxzXS9nLFxcXCJcXFxcXFxcXCQmXFxcIikucmVwbGFjZSgvJi9nLFxcXCImYW1wO1xcXCIpLnJlcGxhY2UoLzwvZyxcXFwiJmd0O1xcXCIpLnJlcGxhY2UoLz4vZyxcXFwiJmx0O1xcXCIpO3ZhciBnPW5ldyBSZWdFeHAoZitcXFwiKD8hKFtePF0rKT8+KVxcXCIsXFxcImdpXFxcIik7Yy5pbm5lckhUTUw9Yy5pbm5lckhUTUwucmVwbGFjZShnLGQpfX0pfSwkLmZuLncydGFnPWZ1bmN0aW9uKGEsYil7cmV0dXJuICQuaXNQbGFpbk9iamVjdChiKXx8KGI9e30pLCQuaXNQbGFpbk9iamVjdChiLmNzcyl8fChiLmNzcz17fSksXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBiW1xcXCJjbGFzc1xcXCJdJiYoYltcXFwiY2xhc3NcXFwiXT1cXFwiXFxcIiksMD09PSQodGhpcykubGVuZ3RoP3ZvaWQgJChcXFwiLncydWktdGFnXFxcIikuZWFjaChmdW5jdGlvbihhLGIpe3ZhciBjPSQoYikuZGF0YShcXFwib3B0aW9uc1xcXCIpO251bGw9PWMmJihjPXt9KSwkKCQoYikuZGF0YShcXFwidGFnZWQtZWxcXFwiKSkucmVtb3ZlQ2xhc3MoY1tcXFwiY2xhc3NcXFwiXSksY2xlYXJJbnRlcnZhbCgkKGIpLmRhdGEoXFxcInRpbWVyXFxcIikpLCQoYikucmVtb3ZlKCl9KTokKHRoaXMpLmVhY2goZnVuY3Rpb24oYyxkKXtmdW5jdGlvbiBlKCl7JHRhZz0kKFxcXCIjdzJ1aS10YWctXFxcIitnKSwkdGFnLmxlbmd0aDw9MHx8KGNsZWFySW50ZXJ2YWwoJHRhZy5kYXRhKFxcXCJ0aW1lclxcXCIpKSwkdGFnLnJlbW92ZSgpLCQoZCkub2ZmKFxcXCJrZXlwcmVzc1xcXCIsZSkucmVtb3ZlQ2xhc3MoYltcXFwiY2xhc3NcXFwiXSksJChkKS5sZW5ndGg+MCYmKCQoZClbMF0uc3R5bGUuY3NzVGV4dD1pKSxcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgYi5vbkhpZGUmJmIub25IaWRlKCkpfXZhciBmPWQuaWQsZz13MnV0aWxzLmVzY2FwZUlkKGQuaWQpO2lmKFxcXCJcXFwiPT09YXx8bnVsbD09YSkkKFxcXCIjdzJ1aS10YWctXFxcIitnKS5jc3MoXFxcIm9wYWNpdHlcXFwiLDApLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtjbGVhckludGVydmFsKCQoXFxcIiN3MnVpLXRhZy1cXFwiK2cpLmRhdGEoXFxcInRpbWVyXFxcIikpLCQoXFxcIiN3MnVpLXRhZy1cXFwiK2cpLnJlbW92ZSgpfSwzMDApO2Vsc2V7Y2xlYXJJbnRlcnZhbCgkKFxcXCIjdzJ1aS10YWctXFxcIitnKS5kYXRhKFxcXCJ0aW1lclxcXCIpKSwkKFxcXCIjdzJ1aS10YWctXFxcIitnKS5yZW1vdmUoKSwkKFxcXCJib2R5XFxcIikuYXBwZW5kKCc8ZGl2IGlkPVxcXCJ3MnVpLXRhZy0nK2YrJ1xcXCIgY2xhc3M9XFxcIncydWktdGFnICcrKCQoZCkucGFyZW50cyhcXFwiLncydWktcG9wdXBcXFwiKS5sZW5ndGg+MD9cXFwidzJ1aS10YWctcG9wdXBcXFwiOlxcXCJcXFwiKSsnXFxcIiBzdHlsZT1cXFwiXFxcIj48L2Rpdj4nKTt2YXIgaD1zZXRJbnRlcnZhbChmdW5jdGlvbigpe3JldHVybiAwPT09JChkKS5sZW5ndGh8fDA9PT0kKGQpLm9mZnNldCgpLmxlZnQmJjA9PT0kKGQpLm9mZnNldCgpLnRvcD8oY2xlYXJJbnRlcnZhbCgkKFxcXCIjdzJ1aS10YWctXFxcIitnKS5kYXRhKFxcXCJ0aW1lclxcXCIpKSx2b2lkIGUoKSk6dm9pZCgkKFxcXCIjdzJ1aS10YWctXFxcIitnKS5kYXRhKFxcXCJwb3NpdGlvblxcXCIpIT09JChkKS5vZmZzZXQoKS5sZWZ0K2Qub2Zmc2V0V2lkdGgrXFxcInhcXFwiKyQoZCkub2Zmc2V0KCkudG9wJiYkKFxcXCIjdzJ1aS10YWctXFxcIitnKS5jc3Moe1xcXCItd2Via2l0LXRyYW5zaXRpb25cXFwiOlxcXCIuMnNcXFwiLFxcXCItbW96LXRyYW5zaXRpb25cXFwiOlxcXCIuMnNcXFwiLFxcXCItbXMtdHJhbnNpdGlvblxcXCI6XFxcIi4yc1xcXCIsXFxcIi1vLXRyYW5zaXRpb25cXFwiOlxcXCIuMnNcXFwiLGxlZnQ6JChkKS5vZmZzZXQoKS5sZWZ0K2Qub2Zmc2V0V2lkdGgrXFxcInB4XFxcIix0b3A6JChkKS5vZmZzZXQoKS50b3ArXFxcInB4XFxcIn0pLmRhdGEoXFxcInBvc2l0aW9uXFxcIiwkKGQpLm9mZnNldCgpLmxlZnQrZC5vZmZzZXRXaWR0aCtcXFwieFxcXCIrJChkKS5vZmZzZXQoKS50b3ApKX0sMTAwKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JChkKS5vZmZzZXQoKSYmKCQoXFxcIiN3MnVpLXRhZy1cXFwiK2cpLmNzcyh7b3BhY2l0eTpcXFwiMVxcXCIsbGVmdDokKGQpLm9mZnNldCgpLmxlZnQrZC5vZmZzZXRXaWR0aCtcXFwicHhcXFwiLHRvcDokKGQpLm9mZnNldCgpLnRvcCtcXFwicHhcXFwifSkuaHRtbCgnPGRpdiBzdHlsZT1cXFwibWFyZ2luLXRvcDogLTJweCAwcHggMHB4IC0ycHg7IHdoaXRlLXNwYWNlOiBub3dyYXA7XFxcIj4gPGRpdiBjbGFzcz1cXFwidzJ1aS10YWctYm9keVxcXCI+JythK1xcXCI8L2Rpdj4gPC9kaXY+XFxcIikuZGF0YShcXFwidGV4dFxcXCIsYSkuZGF0YShcXFwidGFnZWQtZWxcXFwiLGQpLmRhdGEoXFxcIm9wdGlvbnNcXFwiLGIpLmRhdGEoXFxcInBvc2l0aW9uXFxcIiwkKGQpLm9mZnNldCgpLmxlZnQrZC5vZmZzZXRXaWR0aCtcXFwieFxcXCIrJChkKS5vZmZzZXQoKS50b3ApLmRhdGEoXFxcInRpbWVyXFxcIixoKSwkKGQpLm9mZihcXFwia2V5cHJlc3NcXFwiLGUpLm9uKFxcXCJrZXlwcmVzc1xcXCIsZSkub2ZmKFxcXCJjaGFuZ2VcXFwiLGUpLm9uKFxcXCJjaGFuZ2VcXFwiLGUpLmNzcyhiLmNzcykuYWRkQ2xhc3MoYltcXFwiY2xhc3NcXFwiXSksXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGIub25TaG93JiZiLm9uU2hvdygpKX0sMSk7dmFyIGk9XFxcIlxcXCI7JChkKS5sZW5ndGg+MCYmKGk9JChkKVswXS5zdHlsZS5jc3NUZXh0KX19KX0sJC5mbi53Mm92ZXJsYXk9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7dmFyIGE9JChcXFwiI3cydWktb3ZlcmxheVxcXCIrZyk7aWYoYS5kYXRhKFxcXCJlbGVtZW50XFxcIik9PT1mWzBdJiYwIT09YS5sZW5ndGgpe3ZhciBiPSQoZikub2Zmc2V0KCkubGVmdCtcXFwieFxcXCIrJChmKS5vZmZzZXQoKS50b3A7YS5kYXRhKFxcXCJwb3NpdGlvblxcXCIpIT09Yj9kKCk6c2V0VGltZW91dChjLDI1MCl9fWZ1bmN0aW9uIGQoKXt2YXIgYT0kKFxcXCIjdzJ1aS1vdmVybGF5XFxcIitnKTtpZihhLmRhdGEoXFxcImtlZXBPcGVuXFxcIik9PT0hMClyZXR1cm4gdm9pZCBhLnJlbW92ZURhdGEoXFxcImtlZXBPcGVuXFxcIik7dmFyIGM7XFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGIub25IaWRlJiYoYz1iLm9uSGlkZSgpKSxjIT09ITEmJihhLnJlbW92ZSgpLCQoZG9jdW1lbnQpLm9mZihcXFwiY2xpY2tcXFwiLGQpLGNsZWFySW50ZXJ2YWwoYS5kYXRhKFxcXCJ0aW1lclxcXCIpKSl9ZnVuY3Rpb24gZSgpe3ZhciBhPSQoXFxcIiN3MnVpLW92ZXJsYXlcXFwiK2cpLGM9YS5maW5kKFxcXCIgPiBkaXZcXFwiKTtpZihhLmxlbmd0aD4wKXtjLmhlaWdodChcXFwiYXV0b1xcXCIpLndpZHRoKFxcXCJhdXRvXFxcIik7dmFyIGQ9ITEsaD0hMSxpPWMuaGVpZ2h0KCksaj1jLndpZHRoKCk7c3dpdGNoKGIud2lkdGgmJmIud2lkdGg8aiYmKGo9Yi53aWR0aCksMzA+aiYmKGo9MzApLGIudG1wLmNvbnRlbnRIZWlnaHQmJihpPWIudG1wLmNvbnRlbnRIZWlnaHQsYy5oZWlnaHQoaSksc2V0VGltZW91dChmdW5jdGlvbigpe2MuaGVpZ2h0KCk+Yy5maW5kKFxcXCJkaXYubWVudSA+IHRhYmxlXFxcIikuaGVpZ2h0KCkmJmMuZmluZChcXFwiZGl2Lm1lbnVcXFwiKS5jc3MoXFxcIm92ZXJmbG93LXlcXFwiLFxcXCJoaWRkZW5cXFwiKX0sMSksc2V0VGltZW91dChmdW5jdGlvbigpe2MuZmluZChcXFwiZGl2Lm1lbnVcXFwiKS5jc3MoXFxcIm92ZXJmbG93LXlcXFwiLFxcXCJhdXRvXFxcIil9LDEwKSksYi50bXAuY29udGVudFdpZHRoJiYoaj1iLnRtcC5jb250ZW50V2lkdGgsYy53aWR0aChqKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy53aWR0aCgpPmMuZmluZChcXFwiZGl2Lm1lbnUgPiB0YWJsZVxcXCIpLndpZHRoKCkmJmMuZmluZChcXFwiZGl2Lm1lbnVcXFwiKS5jc3MoXFxcIm92ZXJmbG93LXhcXFwiLFxcXCJoaWRkZW5cXFwiKX0sMSksc2V0VGltZW91dChmdW5jdGlvbigpe2MuZmluZChcXFwiZGl2Lm1lbnVcXFwiKS5jc3MoXFxcIm92ZXJmbG93LXlcXFwiLFxcXCJhdXRvXFxcIil9LDEwKSksYi5hbGlnbil7Y2FzZVxcXCJib3RoXFxcIjpiLmxlZnQ9MTcsMD09PWIud2lkdGgmJihiLndpZHRoPXcydXRpbHMuZ2V0U2l6ZSgkKGYpLFxcXCJ3aWR0aFxcXCIpKTticmVhaztjYXNlXFxcImxlZnRcXFwiOmIubGVmdD0xNzticmVhaztjYXNlXFxcInJpZ2h0XFxcIjpiLnRpcExlZnQ9ai00NSxiLmxlZnQ9dzJ1dGlscy5nZXRTaXplKCQoZiksXFxcIndpZHRoXFxcIiktaisxMH12YXIgaz0oai0xNykvMixsPWIubGVmdCxtPWIud2lkdGgsbj1iLnRpcExlZnQ7bT0zMCE9PWp8fG0/Yi53aWR0aD9iLndpZHRoOlxcXCJhdXRvXFxcIjozMCwyNT5rJiYobD0yNS1rLG49TWF0aC5mbG9vcihrKSksYS5jc3Moe3RvcDpmLm9mZnNldCgpLnRvcCt3MnV0aWxzLmdldFNpemUoZixcXFwiaGVpZ2h0XFxcIikrYi50b3ArNytcXFwicHhcXFwiLGxlZnQ6KGYub2Zmc2V0KCkubGVmdD4yNT9mLm9mZnNldCgpLmxlZnQ6MjUpK2wrXFxcInB4XFxcIixcXFwibWluLXdpZHRoXFxcIjptLFxcXCJtaW4taGVpZ2h0XFxcIjpiLmhlaWdodD9iLmhlaWdodDpcXFwiYXV0b1xcXCJ9KTt2YXIgbz13aW5kb3cuaW5uZXJIZWlnaHQrJChkb2N1bWVudCkuc2Nyb2xsVG9wKCktYy5vZmZzZXQoKS50b3AtNyxwPXdpbmRvdy5pbm5lcldpZHRoKyQoZG9jdW1lbnQpLnNjcm9sbExlZnQoKS1jLm9mZnNldCgpLmxlZnQtNztvPi01MCYmMjEwPm98fGIub3BlbkFib3ZlPT09ITA/KG89Yy5vZmZzZXQoKS50b3AtJChkb2N1bWVudCkuc2Nyb2xsVG9wKCktNyxiLm1heEhlaWdodCYmbz5iLm1heEhlaWdodCYmKG89Yi5tYXhIZWlnaHQpLGk+byYmKGg9ITAsYy5oZWlnaHQobykud2lkdGgoaikuY3NzKHtcXFwib3ZlcmZsb3cteVxcXCI6XFxcImF1dG9cXFwifSksaT1vKSxhLmNzcyhcXFwidG9wXFxcIiwkKGYpLm9mZnNldCgpLnRvcC1pLTI0K2IudG9wK1xcXCJweFxcXCIpLGEuZmluZChcXFwiPnN0eWxlXFxcIikuaHRtbChcXFwiI3cydWktb3ZlcmxheVxcXCIrZytcXFwiOmJlZm9yZSB7IGRpc3BsYXk6IG5vbmU7IG1hcmdpbi1sZWZ0OiBcXFwiK3BhcnNlSW50KG4pK1xcXCJweDsgfSN3MnVpLW92ZXJsYXlcXFwiK2crXFxcIjphZnRlciB7IGRpc3BsYXk6IGJsb2NrOyBtYXJnaW4tbGVmdDogXFxcIitwYXJzZUludChuKStcXFwicHg7IH1cXFwiKSk6KGIubWF4SGVpZ2h0JiZvPmIubWF4SGVpZ2h0JiYobz1iLm1heEhlaWdodCksaT5vJiYoaD0hMCxjLmhlaWdodChvKS53aWR0aChqKS5jc3Moe1xcXCJvdmVyZmxvdy15XFxcIjpcXFwiYXV0b1xcXCJ9KSksYS5maW5kKFxcXCI+c3R5bGVcXFwiKS5odG1sKFxcXCIjdzJ1aS1vdmVybGF5XFxcIitnK1xcXCI6YmVmb3JlIHsgZGlzcGxheTogYmxvY2s7IG1hcmdpbi1sZWZ0OiBcXFwiK3BhcnNlSW50KG4pK1xcXCJweDsgfSN3MnVpLW92ZXJsYXlcXFwiK2crXFxcIjphZnRlciB7IGRpc3BsYXk6IG5vbmU7IG1hcmdpbi1sZWZ0OiBcXFwiK3BhcnNlSW50KG4pK1xcXCJweDsgfVxcXCIpKSxqPWMud2lkdGgoKSxwPXdpbmRvdy5pbm5lcldpZHRoKyQoZG9jdW1lbnQpLnNjcm9sbExlZnQoKS1jLm9mZnNldCgpLmxlZnQtNyxiLm1heFdpZHRoJiZwPmIubWF4V2lkdGgmJihwPWIubWF4V2lkdGgpLGo+cCYmXFxcImJvdGhcXFwiIT09Yi5hbGlnbiYmKGIuYWxpZ249XFxcInJpZ2h0XFxcIixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZSgpfSwxKSksaCYmZCYmYy53aWR0aChqK3cydXRpbHMuc2Nyb2xsQmFyU2l6ZSgpKzIpfX12YXIgZj10aGlzLGc9XFxcIlxcXCIsaD17bmFtZTpudWxsLGh0bWw6XFxcIlxcXCIsYWxpZ246XFxcIm5vbmVcXFwiLGxlZnQ6MCx0b3A6MCx0aXBMZWZ0OjMwLHdpZHRoOjAsaGVpZ2h0OjAsbWF4V2lkdGg6bnVsbCxtYXhIZWlnaHQ6bnVsbCxzdHlsZTpcXFwiXFxcIixcXFwiY2xhc3NcXFwiOlxcXCJcXFwiLG9uU2hvdzpudWxsLG9uSGlkZTpudWxsLG9wZW5BYm92ZTohMSx0bXA6e319OzE9PWFyZ3VtZW50cy5sZW5ndGgmJihiPVxcXCJvYmplY3RcXFwiPT10eXBlb2YgYT9hOntodG1sOmF9KSwyPT1hcmd1bWVudHMubGVuZ3RoJiYoYi5odG1sPWEpLCQuaXNQbGFpbk9iamVjdChiKXx8KGI9e30pLGI9JC5leHRlbmQoe30saCxiKSxiLm5hbWUmJihnPVxcXCItXFxcIitiLm5hbWUpO3ZhciBpO2lmKDA9PT10aGlzLmxlbmd0aHx8XFxcIlxcXCI9PT1iLmh0bWx8fG51bGw9PWIuaHRtbClyZXR1cm4gJChcXFwiI3cydWktb3ZlcmxheVxcXCIrZykubGVuZ3RoPjA/KGk9JChcXFwiI3cydWktb3ZlcmxheVxcXCIrZylbMF0uaGlkZSxcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgaSYmaSgpKTokKFxcXCIjdzJ1aS1vdmVybGF5XFxcIitnKS5yZW1vdmUoKSwkKHRoaXMpOyQoXFxcIiN3MnVpLW92ZXJsYXlcXFwiK2cpLmxlbmd0aD4wJiYoaT0kKFxcXCIjdzJ1aS1vdmVybGF5XFxcIitnKVswXS5oaWRlLCQoZG9jdW1lbnQpLm9mZihcXFwiY2xpY2tcXFwiLGkpLFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBpJiZpKCkpLCQoXFxcImJvZHlcXFwiKS5hcHBlbmQoJzxkaXYgaWQ9XFxcIncydWktb3ZlcmxheScrZysnXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZVxcXCIgICAgICAgIGNsYXNzPVxcXCJ3MnVpLXJlc2V0IHcydWktb3ZlcmxheSAnKygkKHRoaXMpLnBhcmVudHMoXFxcIi53MnVpLXBvcHVwLCAudzJ1aS1vdmVybGF5LXBvcHVwXFxcIikubGVuZ3RoPjA/XFxcIncydWktb3ZlcmxheS1wb3B1cFxcXCI6XFxcIlxcXCIpKydcXFwiPiAgICA8c3R5bGU+PC9zdHlsZT4gICAgPGRpdiBzdHlsZT1cXFwiJytiLnN0eWxlKydcXFwiIGNsYXNzPVxcXCInK2JbXFxcImNsYXNzXFxcIl0rJ1xcXCI+PC9kaXY+PC9kaXY+Jyk7dmFyIGo9JChcXFwiI3cydWktb3ZlcmxheVxcXCIrZyksaz1qLmZpbmQoXFxcIiA+IGRpdlxcXCIpO2suaHRtbChiLmh0bWwpO3ZhciBsPWsuY3NzKFxcXCJiYWNrZ3JvdW5kLWNvbG9yXFxcIik7cmV0dXJuIG51bGwhPWwmJlxcXCJyZ2JhKDAsIDAsIDAsIDApXFxcIiE9PWwmJlxcXCJ0cmFuc3BhcmVudFxcXCIhPT1sJiZqLmNzcyhcXFwiYmFja2dyb3VuZC1jb2xvclxcXCIsbCksai5kYXRhKFxcXCJlbGVtZW50XFxcIixmLmxlbmd0aD4wP2ZbMF06bnVsbCkuZGF0YShcXFwib3B0aW9uc1xcXCIsYikuZGF0YShcXFwicG9zaXRpb25cXFwiLCQoZikub2Zmc2V0KCkubGVmdCtcXFwieFxcXCIrJChmKS5vZmZzZXQoKS50b3ApLmZhZGVJbihcXFwiZmFzdFxcXCIpLm9uKFxcXCJtb3VzZWRvd25cXFwiLGZ1bmN0aW9uKGEpeyQoXFxcIiN3MnVpLW92ZXJsYXlcXFwiK2cpLmRhdGEoXFxcImtlZXBPcGVuXFxcIiwhMCksLTE9PT1bXFxcIklOUFVUXFxcIixcXFwiVEVYVEFSRUFcXFwiLFxcXCJTRUxFQ1RcXFwiXS5pbmRleE9mKGEudGFyZ2V0LnRhZ05hbWUpJiZhLnByZXZlbnREZWZhdWx0KCl9KSxqWzBdLmhpZGU9ZCxqWzBdLnJlc2l6ZT1lLGUoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZSgpLCQoZG9jdW1lbnQpLm9mZihcXFwiY2xpY2tcXFwiLGQpLm9uKFxcXCJjbGlja1xcXCIsZCksXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGIub25TaG93JiZiLm9uU2hvdygpfSwxMCksYygpLCQodGhpcyl9LCQuZm4udzJtZW51PWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXskKFxcXCIjdzJ1aS1vdmVybGF5XFxcIitoK1xcXCIgdHIudzJ1aS1zZWxlY3RlZFxcXCIpLnJlbW92ZUNsYXNzKFxcXCJ3MnVpLXNlbGVjdGVkXFxcIik7dmFyIGE9JChcXFwiI3cydWktb3ZlcmxheVxcXCIraCtcXFwiIHRyW2luZGV4PVxcXCIrYi5pbmRleCtcXFwiXVxcXCIpLGM9JChcXFwiI3cydWktb3ZlcmxheVxcXCIraCtcXFwiIGRpdi5tZW51XFxcIikuc2Nyb2xsVG9wKCk7aWYoYS5hZGRDbGFzcyhcXFwidzJ1aS1zZWxlY3RlZFxcXCIpLGIudG1wJiYoYi50bXAuY29udGVudEhlaWdodD0kKFxcXCIjdzJ1aS1vdmVybGF5XFxcIitoK1xcXCIgdGFibGVcXFwiKS5oZWlnaHQoKSsoYi5zZWFyY2g/NTA6MTApKSxiLnRtcCYmKGIudG1wLmNvbnRlbnRXaWR0aD0kKFxcXCIjdzJ1aS1vdmVybGF5XFxcIitoK1xcXCIgdGFibGVcXFwiKS53aWR0aCgpKSwkKFxcXCIjdzJ1aS1vdmVybGF5XFxcIitoKS5sZW5ndGg+MCYmJChcXFwiI3cydWktb3ZlcmxheVxcXCIraClbMF0ucmVzaXplKCksYS5sZW5ndGg+MCl7dmFyIGQ9YVswXS5vZmZzZXRUb3AtNSxlPSQoXFxcIiN3MnVpLW92ZXJsYXlcXFwiK2grXFxcIiBkaXYubWVudVxcXCIpLGY9ZS5oZWlnaHQoKTskKFxcXCIjdzJ1aS1vdmVybGF5XFxcIitoK1xcXCIgZGl2Lm1lbnVcXFwiKS5zY3JvbGxUb3AoYyksKGM+ZHx8ZCthLmhlaWdodCgpPmMrZikmJiQoXFxcIiN3MnVpLW92ZXJsYXlcXFwiK2grXFxcIiBkaXYubWVudVxcXCIpLmFuaW1hdGUoe3Njcm9sbFRvcDpkLShmLTIqYS5oZWlnaHQoKSkvMn0sMjAwLFxcXCJsaW5lYXJcXFwiKX19LDEpfWZ1bmN0aW9uIGQoYSl7dmFyIGQ9dGhpcy52YWx1ZSxlPWEua2V5Q29kZSxmPSExO3N3aXRjaChlKXtjYXNlIDEzOiQoXFxcIiN3MnVpLW92ZXJsYXlcXFwiK2gpLnJlbW92ZSgpLCQuZm4udzJtZW51SGFuZGxlcihhLGIuaW5kZXgpO2JyZWFrO2Nhc2UgOTpjYXNlIDI3OiQoXFxcIiN3MnVpLW92ZXJsYXlcXFwiK2gpLnJlbW92ZSgpLCQuZm4udzJtZW51SGFuZGxlcihhLC0xKTticmVhaztjYXNlIDM4OmZvcihiLmluZGV4PXcydXRpbHMuaXNJbnQoYi5pbmRleCk/cGFyc2VJbnQoYi5pbmRleCk6MCxiLmluZGV4LS07Yi5pbmRleD4wJiZiLml0ZW1zW2IuaW5kZXhdLmhpZGRlbjspYi5pbmRleC0tO2lmKDA9PT1iLmluZGV4JiZiLml0ZW1zW2IuaW5kZXhdLmhpZGRlbilmb3IoO2IuaXRlbXNbYi5pbmRleF0mJmIuaXRlbXNbYi5pbmRleF0uaGlkZGVuOyliLmluZGV4Kys7Yi5pbmRleDwwJiYoYi5pbmRleD0wKSxmPSEwO2JyZWFrO2Nhc2UgNDA6Zm9yKGIuaW5kZXg9dzJ1dGlscy5pc0ludChiLmluZGV4KT9wYXJzZUludChiLmluZGV4KTowLGIuaW5kZXgrKztiLmluZGV4PGIuaXRlbXMubGVuZ3RoLTEmJmIuaXRlbXNbYi5pbmRleF0uaGlkZGVuOyliLmluZGV4Kys7aWYoYi5pbmRleD09PWIuaXRlbXMubGVuZ3RoLTEmJmIuaXRlbXNbYi5pbmRleF0uaGlkZGVuKWZvcig7Yi5pdGVtc1tiLmluZGV4XSYmYi5pdGVtc1tiLmluZGV4XS5oaWRkZW47KWIuaW5kZXgtLTtiLmluZGV4Pj1iLml0ZW1zLmxlbmd0aCYmKGIuaW5kZXg9Yi5pdGVtcy5sZW5ndGgtMSksZj0hMH1pZighZil7dmFyIGk9MDtmb3IodmFyIGogaW4gYi5pdGVtcyl7dmFyIGs9Yi5pdGVtc1tqXSxsPVxcXCJcXFwiLG09XFxcIlxcXCI7LTEhPT1bXFxcImlzXFxcIixcXFwiYmVnaW5zIHdpdGhcXFwiXS5pbmRleE9mKGIubWF0Y2gpJiYobD1cXFwiXlxcXCIpLC0xIT09W1xcXCJpc1xcXCIsXFxcImVuZHMgd2l0aFxcXCJdLmluZGV4T2YoYi5tYXRjaCkmJihtPVxcXCIkXFxcIik7dHJ5e3ZhciBuPW5ldyBSZWdFeHAobCtkK20sXFxcImlcXFwiKTtrLmhpZGRlbj1uLnRlc3Qoay50ZXh0KXx8XFxcIi4uLlxcXCI9PT1rLnRleHQ/ITE6ITB9Y2F0Y2gobyl7fVxcXCJlbnVtXFxcIj09PWcudHlwZSYmLTEhPT0kLmluQXJyYXkoay5pZCxpZHMpJiYoay5oaWRkZW49ITApLGsuaGlkZGVuIT09ITAmJmkrK31mb3IoYi5pbmRleD0wO2IuaW5kZXg8Yi5pdGVtcy5sZW5ndGgtMSYmYi5pdGVtc1tiLmluZGV4XS5oaWRkZW47KWIuaW5kZXgrKztcXG4wPj1pJiYoYi5pbmRleD0tMSl9JChnKS53Mm1lbnUoXFxcInJlZnJlc2hcXFwiLGIpLGMoKX1mdW5jdGlvbiBlKCl7aWYoYi5zcGlubmVyKXJldHVybic8dGFibGUgY2xhc3M9XFxcIncydWktZHJvcC1tZW51XFxcIj48dHI+PHRkIHN0eWxlPVxcXCJwYWRkaW5nOiA1cHggMTBweCAxMHB4IDEwcHg7IHRleHQtYWxpZ246IGNlbnRlclxcXCI+ICAgIDxkaXYgY2xhc3M9XFxcIncydWktc3Bpbm5lclxcXCIgc3R5bGU9XFxcIndpZHRoOiAxOHB4OyBoZWlnaHQ6IDE4cHg7IHBvc2l0aW9uOiByZWxhdGl2ZTsgdG9wOiA1cHg7XFxcIj48L2Rpdj4gICAgIDxkaXYgc3R5bGU9XFxcImRpc3BsYXk6IGlubGluZS1ibG9jazsgcGFkZGluZzogM3B4OyBjb2xvcjogIzk5OTtcXFwiPicrdzJ1dGlscy5sYW5nKFxcXCJMb2FkaW5nLi4uXFxcIikrXFxcIjwvZGl2PjwvdGQ+PC90cj48L3RhYmxlPlxcXCI7Zm9yKHZhciBhPTAsYz0nPHRhYmxlIGNlbGxzcGFjaW5nPVxcXCIwXFxcIiBjZWxscGFkZGluZz1cXFwiMFxcXCIgY2xhc3M9XFxcIncydWktZHJvcC1tZW51XFxcIj4nLGQ9bnVsbCxlPW51bGwsZj0wO2Y8Yi5pdGVtcy5sZW5ndGg7ZisrKXt2YXIgZz1iLml0ZW1zW2ZdO2lmKFxcXCJzdHJpbmdcXFwiPT10eXBlb2YgZz9nPXtpZDpnLHRleHQ6Z306KG51bGwhPWcudGV4dCYmbnVsbD09Zy5pZCYmKGcuaWQ9Zy50ZXh0KSxudWxsPT1nLnRleHQmJm51bGwhPWcuaWQmJihnLnRleHQ9Zy5pZCksbnVsbCE9Zy5jYXB0aW9uJiYoZy50ZXh0PWcuY2FwdGlvbiksZD1nLmltZyxlPWcuaWNvbixudWxsPT1kJiYoZD1udWxsKSxudWxsPT1lJiYoZT1udWxsKSksZy5oaWRkZW4hPT0hMCl7dmFyIGk9XFxcIlxcXCIsaj1nLnRleHQ7aWYoXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGIucmVuZGVyJiYoaj1iLnJlbmRlcihnLGIpKSxkJiYoaT0nPHRkIGNsYXNzPVxcXCJtZW51LWljb25cXFwiPjxkaXYgY2xhc3M9XFxcIncydWktdGItaW1hZ2UgdzJ1aS1pY29uICcrZCsnXFxcIj48L2Rpdj48L3RkPicpLGUmJihpPSc8dGQgY2xhc3M9XFxcIm1lbnUtaWNvblxcXCIgYWxpZ249XFxcImNlbnRlclxcXCI+PHNwYW4gY2xhc3M9XFxcIncydWktaWNvbiAnK2UrJ1xcXCI+PC9zcGFuPjwvdGQ+JyksXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBqfHxcXFwiXFxcIj09PWp8fC9eLSskLy50ZXN0KGopKWMrPSc8dHI+PHRkIGNvbHNwYW49XFxcIjJcXFwiIHN0eWxlPVxcXCJwYWRkaW5nOiA2cHg7IHBvaW50ZXItZXZlbnRzOiBub25lXFxcIj48ZGl2IHN0eWxlPVxcXCJib3JkZXItdG9wOiAxcHggc29saWQgc2lsdmVyO1xcXCI+PC9kaXY+PC90ZD48L3RyPic7ZWxzZXt2YXIgaz1hJTI9PT0wP1xcXCJ3MnVpLWl0ZW0tZXZlblxcXCI6XFxcIncydWktaXRlbS1vZGRcXFwiO2IuYWx0Um93cyE9PSEwJiYoaz1cXFwiXFxcIik7dmFyIGw9MTtcXFwiXFxcIj09aSYmbCsrLG51bGw9PWcuY291bnQmJmwrKyxjKz0nPHRyIGluZGV4PVxcXCInK2YrJ1xcXCIgc3R5bGU9XFxcIicrKGcuc3R5bGU/Zy5zdHlsZTpcXFwiXFxcIikrJ1xcXCIgICAgICAgICBjbGFzcz1cXFwiJytrK1xcXCIgXFxcIisoYi5pbmRleD09PWY/XFxcIncydWktc2VsZWN0ZWRcXFwiOlxcXCJcXFwiKStcXFwiIFxcXCIrKGcuZGlzYWJsZWQ9PT0hMD9cXFwidzJ1aS1kaXNhYmxlZFxcXCI6XFxcIlxcXCIpK1xcXCJcXFxcXFxcIiAgICAgICAgb25tb3VzZWRvd249XFxcXFxcXCIkKHRoaXMpLnBhcmVudCgpLmZpbmQoJ3RyJykucmVtb3ZlQ2xhc3MoJ3cydWktc2VsZWN0ZWQnKTsgJCh0aGlzKS5hZGRDbGFzcygndzJ1aS1zZWxlY3RlZCcpO1xcXFxcXFwiICAgICAgICBvbmNsaWNrPVxcXFxcXFwiZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7ICAgICAgICAgICAgICAgIGlmIChcXFwiKyhnLmRpc2FibGVkPT09ITA/XFxcInRydWVcXFwiOlxcXCJmYWxzZVxcXCIpK1xcXCIpIHJldHVybjsgICAgICAgICAgICAgICAkKCcjdzJ1aS1vdmVybGF5XFxcIitoK1xcXCInKS5yZW1vdmUoKTsgICAgICAgICAgICAgICAgJC5mbi53Mm1lbnVIYW5kbGVyKGV2ZW50LCAnXFxcIitmK1xcXCInKTtcXFxcXFxcIj5cXFwiK2krJyAgIDx0ZCBjbGFzcz1cXFwibWVudS10ZXh0XFxcIiBjb2xzcGFuPVxcXCInK2wrJ1xcXCI+JytqKyc8L3RkPiAgIDx0ZCBjbGFzcz1cXFwibWVudS1jb3VudFxcXCI+JysobnVsbCE9Zy5jb3VudD9cXFwiPHNwYW4+XFxcIitnLmNvdW50K1xcXCI8L3NwYW4+XFxcIjpcXFwiXFxcIikrXFxcIjwvdGQ+PC90cj5cXFwiLGErK319Yi5pdGVtc1tmXT1nfXJldHVybiAwPT09YSYmKGMrPSc8dHI+PHRkIHN0eWxlPVxcXCJwYWRkaW5nOiAxM3B4OyBjb2xvcjogIzk5OTsgdGV4dC1hbGlnbjogY2VudGVyXFxcIj4nK2IubXNnTm9JdGVtcytcXFwiPC9kaXY+PC90ZD48L3RyPlxcXCIpLGMrPVxcXCI8L3RhYmxlPlxcXCJ9dmFyIGY9e2luZGV4Om51bGwsaXRlbXM6W10scmVuZGVyOm51bGwsbXNnTm9JdGVtczpcXFwiTm8gaXRlbXNcXFwiLG9uU2VsZWN0Om51bGwsdG1wOnt9fSxnPXRoaXMsaD1cXFwiXFxcIjtpZihcXFwicmVmcmVzaFxcXCIhPT1hKXsxPT09YXJndW1lbnRzLmxlbmd0aD9iPWE6Yi5pdGVtcz1hLFxcXCJvYmplY3RcXFwiIT10eXBlb2YgYiYmKGI9e30pLGI9JC5leHRlbmQoe30sZixiKSwkLmZuLncybWVudU9wdGlvbnM9YixiLm5hbWUmJihoPVxcXCItXFxcIitiLm5hbWUpLFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBiLnNlbGVjdCYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGIub25TZWxlY3QmJihiLm9uU2VsZWN0PWIuc2VsZWN0KSxcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgYi5vblJlbmRlciYmXFxcImZ1bmN0aW9uXFxcIiE9dHlwZW9mIGIucmVuZGVyJiYoYi5yZW5kZXI9Yi5vblJlbmRlciksJC5mbi53Mm1lbnVIYW5kbGVyPWZ1bmN0aW9uKGEsYyl7XFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGIub25TZWxlY3QmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLm9uU2VsZWN0KHtpbmRleDpjLGl0ZW06Yi5pdGVtc1tjXSxvcmlnaW5hbEV2ZW50OmF9KX0sMTApfTt2YXIgaT1cXFwiXFxcIjtpZihiLnNlYXJjaCl7aSs9JzxkaXYgc3R5bGU9XFxcInBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAwcHg7IGhlaWdodDogNDBweDsgbGVmdDogMHB4OyByaWdodDogMHB4OyBib3JkZXItYm90dG9tOiAxcHggc29saWQgc2lsdmVyOyBiYWNrZ3JvdW5kLWNvbG9yOiAjRUNFQ0VDOyBwYWRkaW5nOiA4cHggNXB4O1xcXCI+ICAgIDxkaXYgY2xhc3M9XFxcIncydWktaWNvbiBpY29uLXNlYXJjaFxcXCIgc3R5bGU9XFxcInBvc2l0aW9uOiBhYnNvbHV0ZTsgbWFyZ2luLXRvcDogNHB4OyBtYXJnaW4tbGVmdDogNnB4OyB3aWR0aDogMTFweDsgYmFja2dyb3VuZC1wb3NpdGlvbjogbGVmdCAhaW1wb3J0YW50O1xcXCI+PC9kaXY+ICAgIDxpbnB1dCBpZD1cXFwibWVudS1zZWFyY2hcXFwiIHR5cGU9XFxcInRleHRcXFwiIHN0eWxlPVxcXCJ3aWR0aDogMTAwJTsgb3V0bGluZTogbm9uZTsgcGFkZGluZy1sZWZ0OiAyMHB4O1xcXCIgb25jbGljaz1cXFwiZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XFxcIj48L2Rpdj4nLGIuc3R5bGUrPVxcXCI7YmFja2dyb3VuZC1jb2xvcjogI0VDRUNFQ1xcXCIsYi5pbmRleD0wO2Zvcih2YXIgaiBpbiBiLml0ZW1zKWIuaXRlbXNbal0uaGlkZGVuPSExfWkrPSc8ZGl2IGNsYXNzPVxcXCJtZW51XFxcIiBzdHlsZT1cXFwicG9zaXRpb246IGFic29sdXRlOyB0b3A6ICcrKGIuc2VhcmNoPzQwOjApKydweDsgYm90dG9tOiAwcHg7IHdpZHRoOiAxMDAlOyBvdmVyZmxvdzogYXV0bztcXFwiPicrZSgpK1xcXCI8L2Rpdj5cXFwiO3ZhciBrPSQodGhpcykudzJvdmVybGF5KGksYik7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpZigkKFxcXCIjdzJ1aS1vdmVybGF5XFxcIitoK1xcXCIgI21lbnUtc2VhcmNoXFxcIikub24oXFxcImtleXVwXFxcIixkKS5vbihcXFwia2V5ZG93blxcXCIsZnVuY3Rpb24oYSl7OT09PWEua2V5Q29kZSYmKGEuc3RvcFByb3BhZ2F0aW9uKCksYS5wcmV2ZW50RGVmYXVsdCgpKX0pLGIuc2VhcmNoKXtpZigtMSE9W1xcXCJ0ZXh0XFxcIixcXFwicGFzc3dvcmRcXFwiXS5pbmRleE9mKCQoZylbMF0udHlwZSl8fFxcXCJ0ZXhhcmVhXFxcIj09JChnKVswXS50YWdOYW1lKXJldHVybjskKFxcXCIjdzJ1aS1vdmVybGF5XFxcIitoK1xcXCIgI21lbnUtc2VhcmNoXFxcIikuZm9jdXMoKX19LDIwMCksYygpLGt9aWYoJChcXFwiI3cydWktb3ZlcmxheVxcXCIraCkubGVuZ3RoPjApe2I9JC5leHRlbmQoJC5mbi53Mm1lbnVPcHRpb25zLGIpO3ZhciBsPSQoXFxcIiN3MnVpLW92ZXJsYXlcXFwiK2grXFxcIiBkaXYubWVudVxcXCIpLnNjcm9sbFRvcCgpOyQoXFxcIiN3MnVpLW92ZXJsYXlcXFwiK2grXFxcIiBkaXYubWVudVxcXCIpLmh0bWwoZSgpKSwkKFxcXCIjdzJ1aS1vdmVybGF5XFxcIitoK1xcXCIgZGl2Lm1lbnVcXFwiKS5zY3JvbGxUb3AobCksYygpfWVsc2UgJCh0aGlzKS53Mm1lbnUoYil9fSgpLGZ1bmN0aW9uKCl7dmFyIHcyZ3JpZD1mdW5jdGlvbihhKXt0aGlzLm5hbWU9bnVsbCx0aGlzLmJveD1udWxsLHRoaXMuaGVhZGVyPVxcXCJcXFwiLHRoaXMudXJsPVxcXCJcXFwiLHRoaXMucm91dGVEYXRhPXt9LHRoaXMuY29sdW1ucz1bXSx0aGlzLmNvbHVtbkdyb3Vwcz1bXSx0aGlzLnJlY29yZHM9W10sdGhpcy5zdW1tYXJ5PVtdLHRoaXMuc2VhcmNoZXM9W10sdGhpcy5zZWFyY2hEYXRhPVtdLHRoaXMuc29ydERhdGE9W10sdGhpcy5wb3N0RGF0YT17fSx0aGlzLnRvb2xiYXI9e30sdGhpcy5zaG93PXtoZWFkZXI6ITEsdG9vbGJhcjohMSxmb290ZXI6ITEsY29sdW1uSGVhZGVyczohMCxsaW5lTnVtYmVyczohMSxleHBhbmRDb2x1bW46ITEsc2VsZWN0Q29sdW1uOiExLGVtcHR5UmVjb3JkczohMCx0b29sYmFyUmVsb2FkOiEwLHRvb2xiYXJDb2x1bW5zOiEwLHRvb2xiYXJTZWFyY2g6ITAsdG9vbGJhckFkZDohMSx0b29sYmFyRWRpdDohMSx0b29sYmFyRGVsZXRlOiExLHRvb2xiYXJTYXZlOiExLHNlbGVjdGlvbkJvcmRlcjohMCxyZWNvcmRUaXRsZXM6ITAsc2tpcFJlY29yZHM6ITB9LHRoaXMuYXV0b0xvYWQ9ITAsdGhpcy5maXhlZEJvZHk9ITAsdGhpcy5yZWNvcmRIZWlnaHQ9MjQsdGhpcy5rZXlib2FyZD0hMCx0aGlzLnNlbGVjdFR5cGU9XFxcInJvd1xcXCIsdGhpcy5tdWx0aVNlYXJjaD0hMCx0aGlzLm11bHRpU2VsZWN0PSEwLHRoaXMubXVsdGlTb3J0PSEwLHRoaXMucmVvcmRlckNvbHVtbnM9ITEsdGhpcy5yZW9yZGVyUm93cz0hMSx0aGlzLm1hcmtTZWFyY2g9ITAsdGhpcy50b3RhbD0wLHRoaXMubGltaXQ9MTAwLHRoaXMub2Zmc2V0PTAsdGhpcy5zdHlsZT1cXFwiXFxcIix0aGlzLnJhbmdlcz1bXSx0aGlzLm1lbnU9W10sdGhpcy5tZXRob2Q9bnVsbCx0aGlzLnJlY2lkPW51bGwsdGhpcy5wYXJzZXI9bnVsbCx0aGlzLm9uQWRkPW51bGwsdGhpcy5vbkVkaXQ9bnVsbCx0aGlzLm9uUmVxdWVzdD1udWxsLHRoaXMub25Mb2FkPW51bGwsdGhpcy5vbkRlbGV0ZT1udWxsLHRoaXMub25EZWxldGVkPW51bGwsdGhpcy5vblN1Ym1pdD1udWxsLHRoaXMub25TYXZlPW51bGwsdGhpcy5vblNlbGVjdD1udWxsLHRoaXMub25VbnNlbGVjdD1udWxsLHRoaXMub25DbGljaz1udWxsLHRoaXMub25EYmxDbGljaz1udWxsLHRoaXMub25Db250ZXh0TWVudT1udWxsLHRoaXMub25NZW51Q2xpY2s9bnVsbCx0aGlzLm9uQ29sdW1uQ2xpY2s9bnVsbCx0aGlzLm9uQ29sdW1uUmVzaXplPW51bGwsdGhpcy5vblNvcnQ9bnVsbCx0aGlzLm9uU2VhcmNoPW51bGwsdGhpcy5vbkNoYW5nZT1udWxsLHRoaXMub25SZXN0b3JlPW51bGwsdGhpcy5vbkV4cGFuZD1udWxsLHRoaXMub25Db2xsYXBzZT1udWxsLHRoaXMub25FcnJvcj1udWxsLHRoaXMub25LZXlkb3duPW51bGwsdGhpcy5vblRvb2xiYXI9bnVsbCx0aGlzLm9uQ29sdW1uT25PZmY9bnVsbCx0aGlzLm9uQ29weT1udWxsLHRoaXMub25QYXN0ZT1udWxsLHRoaXMub25TZWxlY3Rpb25FeHRlbmQ9bnVsbCx0aGlzLm9uRWRpdEZpZWxkPW51bGwsdGhpcy5vblJlbmRlcj1udWxsLHRoaXMub25SZWZyZXNoPW51bGwsdGhpcy5vblJlbG9hZD1udWxsLHRoaXMub25SZXNpemU9bnVsbCx0aGlzLm9uRGVzdHJveT1udWxsLHRoaXMub25TdGF0ZVNhdmU9bnVsbCx0aGlzLm9uU3RhdGVSZXN0b3JlPW51bGwsdGhpcy5sYXN0PXtmaWVsZDpcXFwiYWxsXFxcIixjYXB0aW9uOncydXRpbHMubGFuZyhcXFwiQWxsIEZpZWxkc1xcXCIpLGxvZ2ljOlxcXCJPUlxcXCIsc2VhcmNoOlxcXCJcXFwiLHNlYXJjaElkczpbXSxzZWxlY3Rpb246e2luZGV4ZXM6W10sY29sdW1uczp7fX0sbXVsdGk6ITEsc2Nyb2xsVG9wOjAsc2Nyb2xsTGVmdDowLHNvcnREYXRhOm51bGwsc29ydENvdW50OjAseGhyOm51bGwscmFuZ2Vfc3RhcnQ6bnVsbCxyYW5nZV9lbmQ6bnVsbCxzZWxfaW5kOm51bGwsc2VsX2NvbDpudWxsLHNlbF90eXBlOm51bGwsZWRpdF9jb2w6bnVsbH0sJC5leHRlbmQoITAsdGhpcyx3Mm9iai5ncmlkLGEpfTskLmZuLncyZ3JpZD1mdW5jdGlvbihhKXtpZihcXFwib2JqZWN0XFxcIj09dHlwZW9mIGF8fCFhKXtpZighdzJ1dGlscy5jaGVja05hbWUoYSxcXFwidzJncmlkXFxcIikpcmV0dXJuO3ZhciBiPWEuY29sdW1ucyxjPWEuY29sdW1uR3JvdXBzLGQ9YS5yZWNvcmRzLGU9YS5zZWFyY2hlcyxmPWEuc2VhcmNoRGF0YSxnPWEuc29ydERhdGEsaD1hLnBvc3REYXRhLGk9YS50b29sYmFyLGo9bmV3IHcyZ3JpZChhKTskLmV4dGVuZChqLHtwb3N0RGF0YTp7fSxyZWNvcmRzOltdLGNvbHVtbnM6W10sc2VhcmNoZXM6W10sdG9vbGJhcjp7fSxzb3J0RGF0YTpbXSxzZWFyY2hEYXRhOltdLGhhbmRsZXJzOltdfSksbnVsbCE9ai5vbkV4cGFuZCYmKGouc2hvdy5leHBhbmRDb2x1bW49ITApLCQuZXh0ZW5kKCEwLGoudG9vbGJhcixpKTtmb3IodmFyIGsgaW4gYilqLmNvbHVtbnNba109JC5leHRlbmQoITAse30sYltrXSk7Zm9yKHZhciBrIGluIGMpai5jb2x1bW5Hcm91cHNba109JC5leHRlbmQoITAse30sY1trXSk7Zm9yKHZhciBrIGluIGUpai5zZWFyY2hlc1trXT0kLmV4dGVuZCghMCx7fSxlW2tdKTtmb3IodmFyIGsgaW4gZilqLnNlYXJjaERhdGFba109JC5leHRlbmQoITAse30sZltrXSk7Zm9yKHZhciBrIGluIGcpai5zb3J0RGF0YVtrXT0kLmV4dGVuZCghMCx7fSxnW2tdKTtqLnBvc3REYXRhPSQuZXh0ZW5kKCEwLHt9LGgpO2Zvcih2YXIgbCBpbiBkKXtpZihudWxsPT1kW2xdLnJlY2lkfHxcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGRbbF0ucmVjaWQpcmV0dXJuIHZvaWQgY29uc29sZS5sb2coXFxcIkVSUk9SOiBDYW5ub3QgYWRkIHJlY29yZHMgd2l0aG91dCByZWNpZC4gKG9iajogXFxcIitqLm5hbWUrXFxcIilcXFwiKTtqLnJlY29yZHNbbF09JC5leHRlbmQoITAse30sZFtsXSl9Zm9yKHZhciBtIGluIGouY29sdW1ucyl7dmFyIG49ai5jb2x1bW5zW21dO2lmKFxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2Ygbi5zZWFyY2hhYmxlJiZudWxsPT1qLmdldFNlYXJjaChuLmZpZWxkKSl7dmFyIG89bi5zZWFyY2hhYmxlLHA9XFxcIlxcXCI7bi5zZWFyY2hhYmxlPT09ITAmJihvPVxcXCJ0ZXh0XFxcIixwPSdzaXplPVxcXCIyMFxcXCInKSxqLmFkZFNlYXJjaCh7ZmllbGQ6bi5maWVsZCxjYXB0aW9uOm4uY2FwdGlvbix0eXBlOm8sYXR0cjpwfSl9fXJldHVybiBqLmluaXRUb29sYmFyKCksMCE9PSQodGhpcykubGVuZ3RoJiZqLnJlbmRlcigkKHRoaXMpWzBdKSx3MnVpW2oubmFtZV09aixqfWlmKHcydWlbJCh0aGlzKS5hdHRyKFxcXCJuYW1lXFxcIildKXt2YXIgcT13MnVpWyQodGhpcykuYXR0cihcXFwibmFtZVxcXCIpXTtyZXR1cm4gcVthXS5hcHBseShxLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSksdGhpc31jb25zb2xlLmxvZyhcXFwiRVJST1I6IE1ldGhvZCBcXFwiK2ErXFxcIiBkb2VzIG5vdCBleGlzdCBvbiBqUXVlcnkudzJncmlkXFxcIil9LHcyZ3JpZC5wcm90b3R5cGU9e21zZ0RlbGV0ZTp3MnV0aWxzLmxhbmcoXFxcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgc2VsZWN0ZWQgcmVjb3Jkcz9cXFwiKSxtc2dOb3RKU09OOncydXRpbHMubGFuZyhcXFwiUmV0dXJuZWQgZGF0YSBpcyBub3QgaW4gdmFsaWQgSlNPTiBmb3JtYXQuXFxcIiksbXNnQUpBWGVycm9yOncydXRpbHMubGFuZyhcXFwiQUpBWCBlcnJvci4gU2VlIGNvbnNvbGUgZm9yIG1vcmUgZGV0YWlscy5cXFwiKSxtc2dSZWZyZXNoOncydXRpbHMubGFuZyhcXFwiUmVmcmVzaGluZy4uLlxcXCIpLGJ1dHRvbnM6e3JlbG9hZDp7dHlwZTpcXFwiYnV0dG9uXFxcIixpZDpcXFwidzJ1aS1yZWxvYWRcXFwiLGljb246XFxcIncydWktaWNvbi1yZWxvYWRcXFwiLGhpbnQ6dzJ1dGlscy5sYW5nKFxcXCJSZWxvYWQgZGF0YSBpbiB0aGUgbGlzdFxcXCIpfSxjb2x1bW5zOnt0eXBlOlxcXCJkcm9wXFxcIixpZDpcXFwidzJ1aS1jb2x1bW4tb24tb2ZmXFxcIixpY29uOlxcXCJ3MnVpLWljb24tY29sdW1uc1xcXCIsaGludDp3MnV0aWxzLmxhbmcoXFxcIlNob3cvaGlkZSBjb2x1bW5zXFxcIiksYXJyb3c6ITEsaHRtbDpcXFwiXFxcIn0sc2VhcmNoOnt0eXBlOlxcXCJodG1sXFxcIixpZDpcXFwidzJ1aS1zZWFyY2hcXFwiLGh0bWw6JzxkaXYgY2xhc3M9XFxcIncydWktaWNvbiBpY29uLXNlYXJjaC1kb3duIHcydWktc2VhcmNoLWRvd25cXFwiIHRpdGxlPVxcXCJTZWxlY3QgU2VhcmNoIEZpZWxkXFxcIiBvbmNsaWNrPVxcXCJ2YXIgb2JqID0gdzJ1aVskKHRoaXMpLnBhcmVudHMoXFxcXCdkaXYudzJ1aS1ncmlkXFxcXCcpLmF0dHIoXFxcXCduYW1lXFxcXCcpXTsgb2JqLnNlYXJjaFNob3dGaWVsZHMoKTtcXFwiPjwvZGl2Pid9LFxcXCJzZWFyY2gtZ29cXFwiOnt0eXBlOlxcXCJjaGVja1xcXCIsaWQ6XFxcIncydWktc2VhcmNoLWFkdmFuY2VkXFxcIixjYXB0aW9uOncydXRpbHMubGFuZyhcXFwiU2VhcmNoLi4uXFxcIiksaGludDp3MnV0aWxzLmxhbmcoXFxcIk9wZW4gU2VhcmNoIEZpZWxkc1xcXCIpfSxhZGQ6e3R5cGU6XFxcImJ1dHRvblxcXCIsaWQ6XFxcIncydWktYWRkXFxcIixjYXB0aW9uOncydXRpbHMubGFuZyhcXFwiQWRkIE5ld1xcXCIpLGhpbnQ6dzJ1dGlscy5sYW5nKFxcXCJBZGQgbmV3IHJlY29yZFxcXCIpLGljb246XFxcIncydWktaWNvbi1wbHVzXFxcIn0sZWRpdDp7dHlwZTpcXFwiYnV0dG9uXFxcIixpZDpcXFwidzJ1aS1lZGl0XFxcIixjYXB0aW9uOncydXRpbHMubGFuZyhcXFwiRWRpdFxcXCIpLGhpbnQ6dzJ1dGlscy5sYW5nKFxcXCJFZGl0IHNlbGVjdGVkIHJlY29yZFxcXCIpLGljb246XFxcIncydWktaWNvbi1wZW5jaWxcXFwiLGRpc2FibGVkOiEwfSxcXFwiZGVsZXRlXFxcIjp7dHlwZTpcXFwiYnV0dG9uXFxcIixpZDpcXFwidzJ1aS1kZWxldGVcXFwiLGNhcHRpb246dzJ1dGlscy5sYW5nKFxcXCJEZWxldGVcXFwiKSxoaW50OncydXRpbHMubGFuZyhcXFwiRGVsZXRlIHNlbGVjdGVkIHJlY29yZHNcXFwiKSxpY29uOlxcXCJ3MnVpLWljb24tY3Jvc3NcXFwiLGRpc2FibGVkOiEwfSxzYXZlOnt0eXBlOlxcXCJidXR0b25cXFwiLGlkOlxcXCJ3MnVpLXNhdmVcXFwiLGNhcHRpb246dzJ1dGlscy5sYW5nKFxcXCJTYXZlXFxcIiksaGludDp3MnV0aWxzLmxhbmcoXFxcIlNhdmUgY2hhbmdlZCByZWNvcmRzXFxcIiksaWNvbjpcXFwidzJ1aS1pY29uLWNoZWNrXFxcIn19LGFkZDpmdW5jdGlvbihhKXskLmlzQXJyYXkoYSl8fChhPVthXSk7dmFyIGI9MDtmb3IodmFyIGMgaW4gYSl0aGlzLnJlY2lkJiZcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGFbY10ucmVjaWQmJihhW2NdLnJlY2lkPWFbY11bdGhpcy5yZWNpZF0pLG51bGwhPWFbY10ucmVjaWQmJlxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgYVtjXS5yZWNpZD8odGhpcy5yZWNvcmRzLnB1c2goYVtjXSksYisrKTpjb25zb2xlLmxvZyhcXFwiRVJST1I6IENhbm5vdCBhZGQgcmVjb3JkIHdpdGhvdXQgcmVjaWQuIChvYmo6IFxcXCIrdGhpcy5uYW1lK1xcXCIpXFxcIik7dmFyIGQ9XFxcIm9iamVjdFxcXCIhPXR5cGVvZiB0aGlzLnVybD90aGlzLnVybDp0aGlzLnVybC5nZXQ7cmV0dXJuIGR8fCh0aGlzLnRvdGFsPXRoaXMucmVjb3Jkcy5sZW5ndGgsdGhpcy5sb2NhbFNvcnQoKSx0aGlzLmxvY2FsU2VhcmNoKCkpLHRoaXMucmVmcmVzaCgpLGJ9LGZpbmQ6ZnVuY3Rpb24oYSxiKXsoXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBhfHxudWxsPT1hKSYmKGE9e30pO3ZhciBjPVtdLGQ9ITE7Zm9yKHZhciBlIGluIGEpLTEhPVN0cmluZyhlKS5pbmRleE9mKFxcXCIuXFxcIikmJihkPSEwKTtmb3IodmFyIGY9MDtmPHRoaXMucmVjb3Jkcy5sZW5ndGg7ZisrKXt2YXIgZz0hMDtmb3IodmFyIGUgaW4gYSl7dmFyIGg9dGhpcy5yZWNvcmRzW2ZdW2VdO2QmJi0xIT1TdHJpbmcoZSkuaW5kZXhPZihcXFwiLlxcXCIpJiYoaD10aGlzLnBhcnNlRmllbGQodGhpcy5yZWNvcmRzW2ZdLGUpKSxhW2VdIT09aCYmKGc9ITEpfWcmJmIhPT0hMCYmYy5wdXNoKHRoaXMucmVjb3Jkc1tmXS5yZWNpZCksZyYmYj09PSEwJiZjLnB1c2goZil9cmV0dXJuIGN9LHNldDpmdW5jdGlvbihhLGIsYyl7aWYoXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBhJiYoYz1iLGI9YSxhPW51bGwpLG51bGw9PWEpe2Zvcih2YXIgZCBpbiB0aGlzLnJlY29yZHMpJC5leHRlbmQoITAsdGhpcy5yZWNvcmRzW2RdLGIpO2MhPT0hMCYmdGhpcy5yZWZyZXNoKCl9ZWxzZXt2YXIgZT10aGlzLmdldChhLCEwKTtpZihudWxsPT1lKXJldHVybiExO3ZhciBmPXRoaXMucmVjb3Jkc1tlXSYmdGhpcy5yZWNvcmRzW2VdLnJlY2lkPT1hPyExOiEwO2Y/JC5leHRlbmQoITAsdGhpcy5zdW1tYXJ5W2VdLGIpOiQuZXh0ZW5kKCEwLHRoaXMucmVjb3Jkc1tlXSxiKSxjIT09ITAmJnRoaXMucmVmcmVzaFJvdyhhKX1yZXR1cm4hMH0sZ2V0OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTA7Yzx0aGlzLnJlY29yZHMubGVuZ3RoO2MrKylpZih0aGlzLnJlY29yZHNbY10ucmVjaWQ9PWEpcmV0dXJuIGI9PT0hMD9jOnRoaXMucmVjb3Jkc1tjXTtmb3IodmFyIGM9MDtjPHRoaXMuc3VtbWFyeS5sZW5ndGg7YysrKWlmKHRoaXMuc3VtbWFyeVtjXS5yZWNpZD09YSlyZXR1cm4gYj09PSEwP2M6dGhpcy5zdW1tYXJ5W2NdO3JldHVybiBudWxsfSxyZW1vdmU6ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPTA7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKylmb3IodmFyIGM9dGhpcy5yZWNvcmRzLmxlbmd0aC0xO2M+PTA7Yy0tKXRoaXMucmVjb3Jkc1tjXS5yZWNpZD09YXJndW1lbnRzW2JdJiYodGhpcy5yZWNvcmRzLnNwbGljZShjLDEpLGErKyk7dmFyIGQ9XFxcIm9iamVjdFxcXCIhPXR5cGVvZiB0aGlzLnVybD90aGlzLnVybDp0aGlzLnVybC5nZXQ7cmV0dXJuIGR8fCh0aGlzLmxvY2FsU29ydCgpLHRoaXMubG9jYWxTZWFyY2goKSksdGhpcy5yZWZyZXNoKCksYX0sYWRkQ29sdW1uOmZ1bmN0aW9uKGEsYil7dmFyIGM9MDsxPT1hcmd1bWVudHMubGVuZ3RoPyhiPWEsYT10aGlzLmNvbHVtbnMubGVuZ3RoKTooXFxcInN0cmluZ1xcXCI9PXR5cGVvZiBhJiYoYT10aGlzLmdldENvbHVtbihhLCEwKSksbnVsbD09PWEmJihhPXRoaXMuY29sdW1ucy5sZW5ndGgpKSwkLmlzQXJyYXkoYil8fChiPVtiXSk7Zm9yKHZhciBkIGluIGIpdGhpcy5jb2x1bW5zLnNwbGljZShhLDAsYltkXSksYSsrLGMrKztyZXR1cm4gdGhpcy5yZWZyZXNoKCksY30scmVtb3ZlQ29sdW1uOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYj0wO2I8YXJndW1lbnRzLmxlbmd0aDtiKyspZm9yKHZhciBjPXRoaXMuY29sdW1ucy5sZW5ndGgtMTtjPj0wO2MtLSl0aGlzLmNvbHVtbnNbY10uZmllbGQ9PWFyZ3VtZW50c1tiXSYmKHRoaXMuY29sdW1ucy5zcGxpY2UoYywxKSxhKyspO3JldHVybiB0aGlzLnJlZnJlc2goKSxhfSxnZXRDb2x1bW46ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtjPHRoaXMuY29sdW1ucy5sZW5ndGg7YysrKWlmKHRoaXMuY29sdW1uc1tjXS5maWVsZD09YSlyZXR1cm4gYj09PSEwP2M6dGhpcy5jb2x1bW5zW2NdO3JldHVybiBudWxsfSx0b2dnbGVDb2x1bW46ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPTA7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKylmb3IodmFyIGM9dGhpcy5jb2x1bW5zLmxlbmd0aC0xO2M+PTA7Yy0tKXt2YXIgZD10aGlzLmNvbHVtbnNbY107ZC5maWVsZD09YXJndW1lbnRzW2JdJiYoZC5oaWRkZW49IWQuaGlkZGVuLGErKyl9cmV0dXJuIHRoaXMucmVmcmVzaCgpLGF9LHNob3dDb2x1bW46ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPTA7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKylmb3IodmFyIGM9dGhpcy5jb2x1bW5zLmxlbmd0aC0xO2M+PTA7Yy0tKXt2YXIgZD10aGlzLmNvbHVtbnNbY107ZC5ncmlkTWluV2lkdGgmJmRlbGV0ZSBkLmdyaWRNaW5XaWR0aCxkLmZpZWxkPT1hcmd1bWVudHNbYl0mJmQuaGlkZGVuIT09ITEmJihkLmhpZGRlbj0hMSxhKyspfXJldHVybiB0aGlzLnJlZnJlc2goKSxhfSxoaWRlQ29sdW1uOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYj0wO2I8YXJndW1lbnRzLmxlbmd0aDtiKyspZm9yKHZhciBjPXRoaXMuY29sdW1ucy5sZW5ndGgtMTtjPj0wO2MtLSl7dmFyIGQ9dGhpcy5jb2x1bW5zW2NdO2QuZmllbGQ9PWFyZ3VtZW50c1tiXSYmZC5oaWRkZW4hPT0hMCYmKGQuaGlkZGVuPSEwLGErKyl9cmV0dXJuIHRoaXMucmVmcmVzaCgpLGF9LGFkZFNlYXJjaDpmdW5jdGlvbihhLGIpe3ZhciBjPTA7MT09YXJndW1lbnRzLmxlbmd0aD8oYj1hLGE9dGhpcy5zZWFyY2hlcy5sZW5ndGgpOihcXFwic3RyaW5nXFxcIj09dHlwZW9mIGEmJihhPXRoaXMuZ2V0U2VhcmNoKGEsITApKSxudWxsPT09YSYmKGE9dGhpcy5zZWFyY2hlcy5sZW5ndGgpKSwkLmlzQXJyYXkoYil8fChiPVtiXSk7Zm9yKHZhciBkIGluIGIpdGhpcy5zZWFyY2hlcy5zcGxpY2UoYSwwLGJbZF0pLGErKyxjKys7cmV0dXJuIHRoaXMuc2VhcmNoQ2xvc2UoKSxjfSxyZW1vdmVTZWFyY2g6ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPTA7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKylmb3IodmFyIGM9dGhpcy5zZWFyY2hlcy5sZW5ndGgtMTtjPj0wO2MtLSl0aGlzLnNlYXJjaGVzW2NdLmZpZWxkPT1hcmd1bWVudHNbYl0mJih0aGlzLnNlYXJjaGVzLnNwbGljZShjLDEpLGErKyk7cmV0dXJuIHRoaXMuc2VhcmNoQ2xvc2UoKSxhfSxnZXRTZWFyY2g6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MDtjPHRoaXMuc2VhcmNoZXMubGVuZ3RoO2MrKylpZih0aGlzLnNlYXJjaGVzW2NdLmZpZWxkPT1hKXJldHVybiBiPT09ITA/Yzp0aGlzLnNlYXJjaGVzW2NdO3JldHVybiBudWxsfSx0b2dnbGVTZWFyY2g6ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPTA7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKylmb3IodmFyIGM9dGhpcy5zZWFyY2hlcy5sZW5ndGgtMTtjPj0wO2MtLSl0aGlzLnNlYXJjaGVzW2NdLmZpZWxkPT1hcmd1bWVudHNbYl0mJih0aGlzLnNlYXJjaGVzW2NdLmhpZGRlbj0hdGhpcy5zZWFyY2hlc1tjXS5oaWRkZW4sYSsrKTtyZXR1cm4gdGhpcy5zZWFyY2hDbG9zZSgpLGF9LHNob3dTZWFyY2g6ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPTA7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKylmb3IodmFyIGM9dGhpcy5zZWFyY2hlcy5sZW5ndGgtMTtjPj0wO2MtLSl0aGlzLnNlYXJjaGVzW2NdLmZpZWxkPT1hcmd1bWVudHNbYl0mJnRoaXMuc2VhcmNoZXNbY10uaGlkZGVuIT09ITEmJih0aGlzLnNlYXJjaGVzW2NdLmhpZGRlbj0hMSxhKyspO3JldHVybiB0aGlzLnNlYXJjaENsb3NlKCksYX0saGlkZVNlYXJjaDpmdW5jdGlvbigpe2Zvcih2YXIgYT0wLGI9MDtiPGFyZ3VtZW50cy5sZW5ndGg7YisrKWZvcih2YXIgYz10aGlzLnNlYXJjaGVzLmxlbmd0aC0xO2M+PTA7Yy0tKXRoaXMuc2VhcmNoZXNbY10uZmllbGQ9PWFyZ3VtZW50c1tiXSYmdGhpcy5zZWFyY2hlc1tjXS5oaWRkZW4hPT0hMCYmKHRoaXMuc2VhcmNoZXNbY10uaGlkZGVuPSEwLGErKyk7cmV0dXJuIHRoaXMuc2VhcmNoQ2xvc2UoKSxhfSxnZXRTZWFyY2hEYXRhOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiB0aGlzLnNlYXJjaERhdGEpaWYodGhpcy5zZWFyY2hEYXRhW2JdLmZpZWxkPT1hKXJldHVybiB0aGlzLnNlYXJjaERhdGFbYl07cmV0dXJuIG51bGx9LGxvY2FsU29ydDpmdW5jdGlvbihhKXt2YXIgYj1cXFwib2JqZWN0XFxcIiE9dHlwZW9mIHRoaXMudXJsP3RoaXMudXJsOnRoaXMudXJsLmdldDtpZihiKXJldHVybiB2b2lkIGNvbnNvbGUubG9nKFxcXCJFUlJPUjogZ3JpZC5sb2NhbFNvcnQgY2FuIG9ubHkgYmUgdXNlZCBvbiBsb2NhbCBkYXRhIHNvdXJjZSwgZ3JpZC51cmwgc2hvdWxkIGJlIGVtcHR5LlxcXCIpO2lmKCEkLmlzRW1wdHlPYmplY3QodGhpcy5zb3J0RGF0YSkpe3ZhciBjPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGQ9dGhpcztkLnByZXBhcmVEYXRhKCk7Zm9yKHZhciBlIGluIHRoaXMuc29ydERhdGEpe3ZhciBmPXRoaXMuZ2V0Q29sdW1uKHRoaXMuc29ydERhdGFbZV0uZmllbGQpO2lmKCFmKXJldHVybjtcXFwic3RyaW5nXFxcIj09dHlwZW9mIGYucmVuZGVyJiYoLTEhPVtcXFwiZGF0ZVxcXCIsXFxcImFnZVxcXCJdLmluZGV4T2YoZi5yZW5kZXIuc3BsaXQoXFxcIjpcXFwiKVswXSkmJih0aGlzLnNvcnREYXRhW2VdLmZpZWxkXz1mLmZpZWxkK1xcXCJfXFxcIiksLTEhPVtcXFwidGltZVxcXCJdLmluZGV4T2YoZi5yZW5kZXIuc3BsaXQoXFxcIjpcXFwiKVswXSkmJih0aGlzLnNvcnREYXRhW2VdLmZpZWxkXz1mLmZpZWxkK1xcXCJfXFxcIikpfXJldHVybiB0aGlzLnJlY29yZHMuc29ydChmdW5jdGlvbihhLGIpe3ZhciBjPTA7Zm9yKHZhciBlIGluIGQuc29ydERhdGEpe3ZhciBmPWQuc29ydERhdGFbZV0uZmllbGQ7ZC5zb3J0RGF0YVtlXS5maWVsZF8mJihmPWQuc29ydERhdGFbZV0uZmllbGRfKTt2YXIgZz1hW2ZdLGg9YltmXTtpZigtMSE9U3RyaW5nKGYpLmluZGV4T2YoXFxcIi5cXFwiKSYmKGc9ZC5wYXJzZUZpZWxkKGEsZiksaD1kLnBhcnNlRmllbGQoYixmKSksXFxcInN0cmluZ1xcXCI9PXR5cGVvZiBnJiYoZz0kLnRyaW0oZy50b0xvd2VyQ2FzZSgpKSksXFxcInN0cmluZ1xcXCI9PXR5cGVvZiBoJiYoaD0kLnRyaW0oaC50b0xvd2VyQ2FzZSgpKSksZz5oJiYoYz1cXFwiYXNjXFxcIj09ZC5zb3J0RGF0YVtlXS5kaXJlY3Rpb24/MTotMSksaD5nJiYoYz1cXFwiYXNjXFxcIj09ZC5zb3J0RGF0YVtlXS5kaXJlY3Rpb24/LTE6MSksXFxcIm9iamVjdFxcXCIhPXR5cGVvZiBnJiZcXFwib2JqZWN0XFxcIj09dHlwZW9mIGgmJihjPS0xKSxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGgmJlxcXCJvYmplY3RcXFwiPT10eXBlb2YgZyYmKGM9MSksbnVsbD09ZyYmbnVsbCE9aCYmKGM9MSksbnVsbCE9ZyYmbnVsbD09aCYmKGM9LTEpLDAhPWMpYnJlYWt9cmV0dXJuIGN9KSxjPShuZXcgRGF0ZSkuZ2V0VGltZSgpLWMsYSE9PSEwJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5zdGF0dXModzJ1dGlscy5sYW5nKFxcXCJTb3J0aW5nIHRvb2tcXFwiKStcXFwiIFxcXCIrYy8xZTMrXFxcIiBcXFwiK3cydXRpbHMubGFuZyhcXFwic2VjXFxcIikpfSwxMCksY319LGxvY2FsU2VhcmNoOmZ1bmN0aW9uKGEpe3ZhciBiPVxcXCJvYmplY3RcXFwiIT10eXBlb2YgdGhpcy51cmw/dGhpcy51cmw6dGhpcy51cmwuZ2V0O2lmKGIpcmV0dXJuIHZvaWQgY29uc29sZS5sb2coXFxcIkVSUk9SOiBncmlkLmxvY2FsU2VhcmNoIGNhbiBvbmx5IGJlIHVzZWQgb24gbG9jYWwgZGF0YSBzb3VyY2UsIGdyaWQudXJsIHNob3VsZCBiZSBlbXB0eS5cXFwiKTt2YXIgYz0obmV3IERhdGUpLmdldFRpbWUoKSxkPXRoaXM7aWYodGhpcy50b3RhbD10aGlzLnJlY29yZHMubGVuZ3RoLHRoaXMubGFzdC5zZWFyY2hJZHM9W10sdGhpcy5wcmVwYXJlRGF0YSgpLHRoaXMuc2VhcmNoRGF0YS5sZW5ndGg+MCYmIWIpe3RoaXMudG90YWw9MDtmb3IodmFyIGUgaW4gdGhpcy5yZWNvcmRzKXt2YXIgZj10aGlzLnJlY29yZHNbZV0sZz0wO2Zvcih2YXIgaCBpbiB0aGlzLnNlYXJjaERhdGEpe3ZhciBpPXRoaXMuc2VhcmNoRGF0YVtoXSxqPXRoaXMuZ2V0U2VhcmNoKGkuZmllbGQpO2lmKG51bGwhPWkpe251bGw9PWomJihqPXtmaWVsZDppLmZpZWxkLHR5cGU6aS50eXBlfSk7dmFyIGs9U3RyaW5nKGQucGFyc2VGaWVsZChmLGouZmllbGQpKS50b0xvd2VyQ2FzZSgpO2lmKFxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgaS52YWx1ZSlpZigkLmlzQXJyYXkoaS52YWx1ZSkpdmFyIGw9aS52YWx1ZVswXSxtPWkudmFsdWVbMV07ZWxzZSB2YXIgbD1TdHJpbmcoaS52YWx1ZSkudG9Mb3dlckNhc2UoKTtzd2l0Y2goaS5vcGVyYXRvcil7Y2FzZVxcXCJpc1xcXCI6aWYoZltqLmZpZWxkXT09aS52YWx1ZSYmZysrLFxcXCJkYXRlXFxcIj09ai50eXBlKXt2YXIgaz13MnV0aWxzLmZvcm1hdERhdGUoZltqLmZpZWxkK1xcXCJfXFxcIl0sXFxcInl5eXktbW0tZGRcXFwiKSxsPXcydXRpbHMuZm9ybWF0RGF0ZShsLFxcXCJ5eXl5LW1tLWRkXFxcIik7az09bCYmZysrfWlmKFxcXCJ0aW1lXFxcIj09ai50eXBlKXt2YXIgaz13MnV0aWxzLmZvcm1hdFRpbWUoZltqLmZpZWxkK1xcXCJfXFxcIl0sXFxcImgyNDptaVxcXCIpLGw9dzJ1dGlscy5mb3JtYXRUaW1lKGwsXFxcImgyNDptaVxcXCIpO2s9PWwmJmcrK31icmVhaztjYXNlXFxcImJldHdlZW5cXFwiOmlmKC0xIT1bXFxcImludFxcXCIsXFxcImZsb2F0XFxcIixcXFwibW9uZXlcXFwiLFxcXCJjdXJyZW5jeVxcXCIsXFxcInBlcmNlbnRcXFwiXS5pbmRleE9mKGoudHlwZSkmJnBhcnNlRmxvYXQoZltqLmZpZWxkXSk+PXBhcnNlRmxvYXQobCkmJnBhcnNlRmxvYXQoZltqLmZpZWxkXSk8PXBhcnNlRmxvYXQobSkmJmcrKyxcXFwiZGF0ZVxcXCI9PWoudHlwZSl7dmFyIGs9ZltqLmZpZWxkK1xcXCJfXFxcIl0sbD13MnV0aWxzLmlzRGF0ZShsLHcydXRpbHMuc2V0dGluZ3MuZGF0ZV9mb3JtYXQsITApLG09dzJ1dGlscy5pc0RhdGUobSx3MnV0aWxzLnNldHRpbmdzLmRhdGVfZm9ybWF0LCEwKTtudWxsIT1tJiYobT1uZXcgRGF0ZShtLmdldFRpbWUoKSs4NjRlNSkpLGs+PWwmJm0+ayYmZysrfWlmKFxcXCJ0aW1lXFxcIj09ai50eXBlKXt2YXIgaz1mW2ouZmllbGQrXFxcIl9cXFwiXSxsPXcydXRpbHMuaXNUaW1lKGwsITApLG09dzJ1dGlscy5pc1RpbWUobSwhMCk7bD0obmV3IERhdGUpLnNldEhvdXJzKGwuaG91cnMsbC5taW51dGVzLGwuc2Vjb25kcz9sLnNlY29uZHM6MCwwKSxtPShuZXcgRGF0ZSkuc2V0SG91cnMobS5ob3VycyxtLm1pbnV0ZXMsbS5zZWNvbmRzP20uc2Vjb25kczowLDApLGs+PWwmJm0+ayYmZysrfWJyZWFrO2Nhc2VcXFwiaW5cXFwiOnZhciBuPWkudmFsdWU7aS5zdmFsdWUmJihuPWkuc3ZhbHVlKSwtMSE9PW4uaW5kZXhPZihrKSYmZysrO2JyZWFrO2Nhc2VcXFwibm90IGluXFxcIjp2YXIgbj1pLnZhbHVlO2kuc3ZhbHVlJiYobj1pLnN2YWx1ZSksLTE9PW4uaW5kZXhPZihrKSYmZysrO2JyZWFrO2Nhc2VcXFwiYmVnaW5zXFxcIjpjYXNlXFxcImJlZ2lucyB3aXRoXFxcIjowPT1rLmluZGV4T2YobCkmJmcrKzticmVhaztjYXNlXFxcImNvbnRhaW5zXFxcIjprLmluZGV4T2YobCk+PTAmJmcrKzticmVhaztjYXNlXFxcImVuZHNcXFwiOmNhc2VcXFwiZW5kcyB3aXRoXFxcIjprLmluZGV4T2YobCk+PTAmJmsuaW5kZXhPZihsKT09ay5sZW5ndGgtbC5sZW5ndGgmJmcrK319fShcXFwiT1JcXFwiPT10aGlzLmxhc3QubG9naWMmJjAhPWd8fFxcXCJBTkRcXFwiPT10aGlzLmxhc3QubG9naWMmJmc9PXRoaXMuc2VhcmNoRGF0YS5sZW5ndGgpJiZ0aGlzLmxhc3Quc2VhcmNoSWRzLnB1c2gocGFyc2VJbnQoZSkpfXRoaXMudG90YWw9dGhpcy5sYXN0LnNlYXJjaElkcy5sZW5ndGh9cmV0dXJuIGM9KG5ldyBEYXRlKS5nZXRUaW1lKCktYyxhIT09ITAmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLnN0YXR1cyh3MnV0aWxzLmxhbmcoXFxcIlNlYXJjaCB0b29rXFxcIikrXFxcIiBcXFwiK2MvMWUzK1xcXCIgXFxcIit3MnV0aWxzLmxhbmcoXFxcInNlY1xcXCIpKX0sMTApLGN9LGdldFJhbmdlRGF0YTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0KGFbMF0ucmVjaWQsITApLGQ9dGhpcy5nZXQoYVsxXS5yZWNpZCwhMCksZT1hWzBdLmNvbHVtbixmPWFbMV0uY29sdW1uLGc9W107aWYoZT09Zilmb3IodmFyIGg9YztkPj1oO2grKyl7dmFyIGk9dGhpcy5yZWNvcmRzW2hdLGo9aVt0aGlzLmNvbHVtbnNbZV0uZmllbGRdfHxudWxsO2cucHVzaChiIT09ITA/ajp7ZGF0YTpqLGNvbHVtbjplLGluZGV4OmgscmVjb3JkOml9KX1lbHNlIGlmKGM9PWQpZm9yKHZhciBpPXRoaXMucmVjb3Jkc1tjXSxrPWU7Zj49aztrKyspe3ZhciBqPWlbdGhpcy5jb2x1bW5zW2tdLmZpZWxkXXx8bnVsbDtnLnB1c2goYiE9PSEwP2o6e2RhdGE6aixjb2x1bW46ayxpbmRleDpjLHJlY29yZDppfSl9ZWxzZSBmb3IodmFyIGg9YztkPj1oO2grKyl7dmFyIGk9dGhpcy5yZWNvcmRzW2hdO2cucHVzaChbXSk7Zm9yKHZhciBrPWU7Zj49aztrKyspe3ZhciBqPWlbdGhpcy5jb2x1bW5zW2tdLmZpZWxkXTtnW2cubGVuZ3RoLTFdLnB1c2goYiE9PSEwP2o6e2RhdGE6aixjb2x1bW46ayxpbmRleDpoLHJlY29yZDppfSl9fXJldHVybiBnfSxhZGRSYW5nZTpmdW5jdGlvbihhKXt2YXIgYj0wO2lmKFxcXCJyb3dcXFwiPT10aGlzLnNlbGVjdFR5cGUpcmV0dXJuIGI7JC5pc0FycmF5KGEpfHwoYT1bYV0pO2Zvcih2YXIgYyBpbiBhKXtpZihcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGFbY10mJihhW2NdPXtuYW1lOlxcXCJzZWxlY3Rpb25cXFwifSksXFxcInNlbGVjdGlvblxcXCI9PWFbY10ubmFtZSl7aWYodGhpcy5zaG93LnNlbGVjdGlvbkJvcmRlcj09PSExKWNvbnRpbnVlO3ZhciBkPXRoaXMuZ2V0U2VsZWN0aW9uKCk7aWYoMD09ZC5sZW5ndGgpe3RoaXMucmVtb3ZlUmFuZ2UoYVtjXS5uYW1lKTtjb250aW51ZX17dmFyIGU9ZFswXSxmPWRbZC5sZW5ndGgtMV07JChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9yZWNfXFxcIitlLnJlY2lkK1xcXCIgdGRbY29sPVxcXCIrZS5jb2x1bW4rXFxcIl1cXFwiKSwkKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX3JlY19cXFwiK2YucmVjaWQrXFxcIiB0ZFtjb2w9XFxcIitmLmNvbHVtbitcXFwiXVxcXCIpfX1lbHNle3ZhciBlPWFbY10ucmFuZ2VbMF0sZj1hW2NdLnJhbmdlWzFdOyQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfcmVjX1xcXCIrZS5yZWNpZCtcXFwiIHRkW2NvbD1cXFwiK2UuY29sdW1uK1xcXCJdXFxcIiksJChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9yZWNfXFxcIitmLnJlY2lkK1xcXCIgdGRbY29sPVxcXCIrZi5jb2x1bW4rXFxcIl1cXFwiKX1pZihlKXt2YXIgZz17bmFtZTphW2NdLm5hbWUscmFuZ2U6W3tyZWNpZDplLnJlY2lkLGNvbHVtbjplLmNvbHVtbn0se3JlY2lkOmYucmVjaWQsY29sdW1uOmYuY29sdW1ufV0sc3R5bGU6YVtjXS5zdHlsZXx8XFxcIlxcXCJ9LGg9ITE7Zm9yKHZhciBpIGluIHRoaXMucmFuZ2VzKWlmKHRoaXMucmFuZ2VzW2ldLm5hbWU9PWFbY10ubmFtZSl7aD1jO2JyZWFrfWghPT0hMT90aGlzLnJhbmdlc1toXT1nOnRoaXMucmFuZ2VzLnB1c2goZyksYisrfX1yZXR1cm4gdGhpcy5yZWZyZXNoUmFuZ2VzKCksYn0scmVtb3ZlUmFuZ2U6ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPTA7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKyl7dmFyIGM9YXJndW1lbnRzW2JdOyQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfXFxcIitjKS5yZW1vdmUoKTtmb3IodmFyIGQ9dGhpcy5yYW5nZXMubGVuZ3RoLTE7ZD49MDtkLS0pdGhpcy5yYW5nZXNbZF0ubmFtZT09YyYmKHRoaXMucmFuZ2VzLnNwbGljZShkLDEpLGErKyl9cmV0dXJuIGF9LHJlZnJlc2hSYW5nZXM6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3ZhciBlPWQuZ2V0U2VsZWN0aW9uKCk7ZC5sYXN0Lm1vdmU9e3R5cGU6XFxcImV4cGFuZFxcXCIseDphLnNjcmVlblgseTphLnNjcmVlblksZGl2WDowLGRpdlk6MCxyZWNpZDplWzBdLnJlY2lkLGNvbHVtbjplWzBdLmNvbHVtbixvcmlnaW5hbFJhbmdlOlt7cmVjaWQ6ZVswXS5yZWNpZCxjb2x1bW46ZVswXS5jb2x1bW59LHtyZWNpZDplW2UubGVuZ3RoLTFdLnJlY2lkLGNvbHVtbjplW2UubGVuZ3RoLTFdLmNvbHVtbn1dLG5ld1JhbmdlOlt7cmVjaWQ6ZVswXS5yZWNpZCxjb2x1bW46ZVswXS5jb2x1bW59LHtyZWNpZDplW2UubGVuZ3RoLTFdLnJlY2lkLGNvbHVtbjplW2UubGVuZ3RoLTFdLmNvbHVtbn1dfSwkKGRvY3VtZW50KS5vZmYoXFxcIm1vdXNlbW92ZVxcXCIsYikub24oXFxcIm1vdXNlbW92ZVxcXCIsYiksJChkb2N1bWVudCkub2ZmKFxcXCJtb3VzZXVwXFxcIixjKS5vbihcXFwibW91c2V1cFxcXCIsYyl9ZnVuY3Rpb24gYihhKXt2YXIgYj1kLmxhc3QubW92ZTtpZihiJiZcXFwiZXhwYW5kXFxcIj09Yi50eXBlKXtiLmRpdlg9YS5zY3JlZW5YLWIueCxiLmRpdlk9YS5zY3JlZW5ZLWIueTt2YXIgYyxlLGY9YS5vcmlnaW5hbEV2ZW50LnRhcmdldDtpZihcXFwiVERcXFwiIT1mLnRhZ05hbWUmJihmPSQoZikucGFyZW50cyhcXFwidGRcXFwiKVswXSksXFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiAkKGYpLmF0dHIoXFxcImNvbFxcXCIpJiYoZT1wYXJzZUludCgkKGYpLmF0dHIoXFxcImNvbFxcXCIpKSksZj0kKGYpLnBhcmVudHMoXFxcInRyXFxcIilbMF0sYz0kKGYpLmF0dHIoXFxcInJlY2lkXFxcIiksYi5uZXdSYW5nZVsxXS5yZWNpZCE9Y3x8Yi5uZXdSYW5nZVsxXS5jb2x1bW4hPWUpe3ZhciBnPSQuZXh0ZW5kKHt9LGIubmV3UmFuZ2UpO3JldHVybiBiLm5ld1JhbmdlPVt7cmVjaWQ6Yi5yZWNpZCxjb2x1bW46Yi5jb2x1bW59LHtyZWNpZDpjLGNvbHVtbjplfV0sbT1kLnRyaWdnZXIoJC5leHRlbmQobSx7b3JpZ2luYWxSYW5nZTpiLm9yaWdpbmFsUmFuZ2UsbmV3UmFuZ2U6Yi5uZXdSYW5nZX0pKSxtLmlzQ2FuY2VsbGVkPT09ITA/KGIubmV3UmFuZ2U9Zyx2b2lkKG0ubmV3UmFuZ2U9ZykpOihkLnJlbW92ZVJhbmdlKFxcXCJncmlkLXNlbGVjdGlvbi1leHBhbmRcXFwiKSx2b2lkIGQuYWRkUmFuZ2Uoe25hbWU6XFxcImdyaWQtc2VsZWN0aW9uLWV4cGFuZFxcXCIscmFuZ2U6bS5uZXdSYW5nZSxzdHlsZTpcXFwiYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxMDAsMTAwLDEwMCwwLjEpOyBib3JkZXI6IDJweCBkb3R0ZWQgcmdiYSgxMDAsMTAwLDEwMCwwLjUpO1xcXCJ9KSl9fX1mdW5jdGlvbiBjKCl7ZC5yZW1vdmVSYW5nZShcXFwiZ3JpZC1zZWxlY3Rpb24tZXhwYW5kXFxcIiksZGVsZXRlIGQubGFzdC5tb3ZlLCQoZG9jdW1lbnQpLm9mZihcXFwibW91c2Vtb3ZlXFxcIixiKSwkKGRvY3VtZW50KS5vZmYoXFxcIm1vdXNldXBcXFwiLGMpLGQudHJpZ2dlcigkLmV4dGVuZChtLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpfXZhciBkPXRoaXMsZT0obmV3IERhdGUpLmdldFRpbWUoKSxmPSQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfcmVjb3Jkc1xcXCIpO2Zvcih2YXIgZyBpbiB0aGlzLnJhbmdlcyl7dmFyIGg9dGhpcy5yYW5nZXNbZ10saT1oLnJhbmdlWzBdLGo9aC5yYW5nZVsxXSxrPSQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfcmVjX1xcXCIraS5yZWNpZCtcXFwiIHRkW2NvbD1cXFwiK2kuY29sdW1uK1xcXCJdXFxcIiksbD0kKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX3JlY19cXFwiK2oucmVjaWQrXFxcIiB0ZFtjb2w9XFxcIitqLmNvbHVtbitcXFwiXVxcXCIpOzA9PSQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfXFxcIitoLm5hbWUpLmxlbmd0aD9mLmFwcGVuZCgnPGRpdiBpZD1cXFwiZ3JpZF8nK3RoaXMubmFtZStcXFwiX1xcXCIraC5uYW1lKydcXFwiIGNsYXNzPVxcXCJ3MnVpLXNlbGVjdGlvblxcXCIgc3R5bGU9XFxcIicraC5zdHlsZSsnXFxcIj4nKyhcXFwic2VsZWN0aW9uXFxcIj09aC5uYW1lPyc8ZGl2IGlkPVxcXCJncmlkXycrdGhpcy5uYW1lKydfcmVzaXplclxcXCIgY2xhc3M9XFxcIncydWktc2VsZWN0aW9uLXJlc2l6ZXJcXFwiPjwvZGl2Pic6XFxcIlxcXCIpK1xcXCI8L2Rpdj5cXFwiKTokKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX1xcXCIraC5uYW1lKS5hdHRyKFxcXCJzdHlsZVxcXCIsaC5zdHlsZSksay5sZW5ndGg+MCYmbC5sZW5ndGg+MCYmJChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9cXFwiK2gubmFtZSkuY3NzKHtsZWZ0OmsucG9zaXRpb24oKS5sZWZ0LTErZi5zY3JvbGxMZWZ0KCkrXFxcInB4XFxcIix0b3A6ay5wb3NpdGlvbigpLnRvcC0xK2Yuc2Nyb2xsVG9wKCkrXFxcInB4XFxcIix3aWR0aDpsLnBvc2l0aW9uKCkubGVmdC1rLnBvc2l0aW9uKCkubGVmdCtsLndpZHRoKCkrMytcXFwicHhcXFwiLGhlaWdodDpsLnBvc2l0aW9uKCkudG9wLWsucG9zaXRpb24oKS50b3ArbC5oZWlnaHQoKSszK1xcXCJweFxcXCJ9KX0kKHRoaXMuYm94KS5maW5kKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX3Jlc2l6ZXJcXFwiKS5vZmYoXFxcIm1vdXNlZG93blxcXCIpLm9uKFxcXCJtb3VzZWRvd25cXFwiLGEpO3ZhciBtPXtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJzZWxlY3Rpb25FeHRlbmRcXFwiLHRhcmdldDpkLm5hbWUsb3JpZ2luYWxSYW5nZTpudWxsLG5ld1JhbmdlOm51bGx9O3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpLWV9LHNlbGVjdDpmdW5jdGlvbigpe3ZhciBhPTAsYj10aGlzLmxhc3Quc2VsZWN0aW9uO3RoaXMubXVsdGlTZWxlY3R8fHRoaXMuc2VsZWN0Tm9uZSgpO2Zvcih2YXIgYz0wO2M8YXJndW1lbnRzLmxlbmd0aDtjKyspe3ZhciBkPVxcXCJvYmplY3RcXFwiPT10eXBlb2YgYXJndW1lbnRzW2NdP2FyZ3VtZW50c1tjXS5yZWNpZDphcmd1bWVudHNbY10sZT10aGlzLmdldChkKTtpZihudWxsIT1lKXt2YXIgZj10aGlzLmdldChkLCEwKSxnPSQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfcmVjX1xcXCIrdzJ1dGlscy5lc2NhcGVJZChkKSk7aWYoXFxcInJvd1xcXCI9PXRoaXMuc2VsZWN0VHlwZSl7aWYoYi5pbmRleGVzLmluZGV4T2YoZik+PTApY29udGludWU7dmFyIGg9dGhpcy50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJzZWxlY3RcXFwiLHRhcmdldDp0aGlzLm5hbWUscmVjaWQ6ZCxpbmRleDpmfSk7aWYoaC5pc0NhbmNlbGxlZD09PSEwKWNvbnRpbnVlO2IuaW5kZXhlcy5wdXNoKGYpLGIuaW5kZXhlcy5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0pLGcuYWRkQ2xhc3MoXFxcIncydWktc2VsZWN0ZWRcXFwiKS5kYXRhKFxcXCJzZWxlY3RlZFxcXCIsXFxcInllc1xcXCIpLGcuZmluZChcXFwiLncydWktZ3JpZC1zZWxlY3QtY2hlY2tcXFwiKS5wcm9wKFxcXCJjaGVja2VkXFxcIiwhMCksYSsrfWVsc2V7dmFyIGk9YXJndW1lbnRzW2NdLmNvbHVtbjtpZighdzJ1dGlscy5pc0ludChpKSl7dmFyIGo9W107Zm9yKHZhciBrIGluIHRoaXMuY29sdW1ucyl0aGlzLmNvbHVtbnNba10uaGlkZGVufHxqLnB1c2goe3JlY2lkOmQsY29sdW1uOnBhcnNlSW50KGspfSk7cmV0dXJuIHRoaXMubXVsdGlTZWxlY3R8fChqPWouc3BsaWNlKDAsMSkpLHRoaXMuc2VsZWN0LmFwcGx5KHRoaXMsail9dmFyIGw9Yi5jb2x1bW5zW2ZdfHxbXTtpZigkLmlzQXJyYXkobCkmJi0xIT1sLmluZGV4T2YoaSkpY29udGludWU7dmFyIGg9dGhpcy50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJzZWxlY3RcXFwiLHRhcmdldDp0aGlzLm5hbWUscmVjaWQ6ZCxpbmRleDpmLGNvbHVtbjppfSk7aWYoaC5pc0NhbmNlbGxlZD09PSEwKWNvbnRpbnVlOy0xPT1iLmluZGV4ZXMuaW5kZXhPZihmKSYmKGIuaW5kZXhlcy5wdXNoKGYpLGIuaW5kZXhlcy5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0pKSxsLnB1c2goaSksbC5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0pLGcuZmluZChcXFwiID4gdGRbY29sPVxcXCIraStcXFwiXVxcXCIpLmFkZENsYXNzKFxcXCJ3MnVpLXNlbGVjdGVkXFxcIiksYSsrLGcuZGF0YShcXFwic2VsZWN0ZWRcXFwiLFxcXCJ5ZXNcXFwiKSxnLmZpbmQoXFxcIi53MnVpLWdyaWQtc2VsZWN0LWNoZWNrXFxcIikucHJvcChcXFwiY2hlY2tlZFxcXCIsITApLGIuY29sdW1uc1tmXT1sfXRoaXMudHJpZ2dlcigkLmV4dGVuZChoLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpfX1yZXR1cm4gYi5pbmRleGVzLmxlbmd0aD09dGhpcy5yZWNvcmRzLmxlbmd0aHx8MCE9PXRoaXMuc2VhcmNoRGF0YS5sZW5ndGgmJmIuaW5kZXhlcy5sZW5ndGg9PXRoaXMubGFzdC5zZWFyY2hJZHMubGVuZ3RoPyQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfY2hlY2tfYWxsXFxcIikucHJvcChcXFwiY2hlY2tlZFxcXCIsITApOiQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfY2hlY2tfYWxsXFxcIikucHJvcChcXFwiY2hlY2tlZFxcXCIsITEpLHRoaXMuc3RhdHVzKCksdGhpcy5hZGRSYW5nZShcXFwic2VsZWN0aW9uXFxcIiksYX0sdW5zZWxlY3Q6ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPXRoaXMubGFzdC5zZWxlY3Rpb24sYz0wO2M8YXJndW1lbnRzLmxlbmd0aDtjKyspe3ZhciBkPVxcXCJvYmplY3RcXFwiPT10eXBlb2YgYXJndW1lbnRzW2NdP2FyZ3VtZW50c1tjXS5yZWNpZDphcmd1bWVudHNbY10sZT10aGlzLmdldChkKTtpZihudWxsIT1lKXt2YXIgZj10aGlzLmdldChlLnJlY2lkLCEwKSxnPSQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfcmVjX1xcXCIrdzJ1dGlscy5lc2NhcGVJZChkKSk7aWYoXFxcInJvd1xcXCI9PXRoaXMuc2VsZWN0VHlwZSl7aWYoLTE9PWIuaW5kZXhlcy5pbmRleE9mKGYpKWNvbnRpbnVlO3ZhciBoPXRoaXMudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwidW5zZWxlY3RcXFwiLHRhcmdldDp0aGlzLm5hbWUscmVjaWQ6ZCxpbmRleDpmfSk7aWYoaC5pc0NhbmNlbGxlZD09PSEwKWNvbnRpbnVlO2IuaW5kZXhlcy5zcGxpY2UoYi5pbmRleGVzLmluZGV4T2YoZiksMSksZy5yZW1vdmVDbGFzcyhcXFwidzJ1aS1zZWxlY3RlZFxcXCIpLnJlbW92ZURhdGEoXFxcInNlbGVjdGVkXFxcIiksMCE9Zy5sZW5ndGgmJihnWzBdLnN0eWxlLmNzc1RleHQ9XFxcImhlaWdodDogXFxcIit0aGlzLnJlY29yZEhlaWdodCtcXFwicHg7IFxcXCIrZy5hdHRyKFxcXCJjdXN0b21fc3R5bGVcXFwiKSksZy5maW5kKFxcXCIudzJ1aS1ncmlkLXNlbGVjdC1jaGVja1xcXCIpLnByb3AoXFxcImNoZWNrZWRcXFwiLCExKSxhKyt9ZWxzZXt2YXIgaT1hcmd1bWVudHNbY10uY29sdW1uO2lmKCF3MnV0aWxzLmlzSW50KGkpKXt2YXIgaj1bXTtmb3IodmFyIGsgaW4gdGhpcy5jb2x1bW5zKXRoaXMuY29sdW1uc1trXS5oaWRkZW58fGoucHVzaCh7cmVjaWQ6ZCxjb2x1bW46cGFyc2VJbnQoayl9KTtyZXR1cm4gdGhpcy51bnNlbGVjdC5hcHBseSh0aGlzLGopfXZhciBsPWIuY29sdW1uc1tmXTtpZighJC5pc0FycmF5KGwpfHwtMT09bC5pbmRleE9mKGkpKWNvbnRpbnVlO3ZhciBoPXRoaXMudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwidW5zZWxlY3RcXFwiLHRhcmdldDp0aGlzLm5hbWUscmVjaWQ6ZCxjb2x1bW46aX0pO2lmKGguaXNDYW5jZWxsZWQ9PT0hMCljb250aW51ZTtsLnNwbGljZShsLmluZGV4T2YoaSksMSksJChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9yZWNfXFxcIit3MnV0aWxzLmVzY2FwZUlkKGQpK1xcXCIgPiB0ZFtjb2w9XFxcIitpK1xcXCJdXFxcIikucmVtb3ZlQ2xhc3MoXFxcIncydWktc2VsZWN0ZWRcXFwiKSxhKyssMD09bC5sZW5ndGgmJihkZWxldGUgYi5jb2x1bW5zW2ZdLGIuaW5kZXhlcy5zcGxpY2UoYi5pbmRleGVzLmluZGV4T2YoZiksMSksZy5yZW1vdmVEYXRhKFxcXCJzZWxlY3RlZFxcXCIpLGcuZmluZChcXFwiLncydWktZ3JpZC1zZWxlY3QtY2hlY2tcXFwiKS5wcm9wKFxcXCJjaGVja2VkXFxcIiwhMSkpfXRoaXMudHJpZ2dlcigkLmV4dGVuZChoLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpfX1yZXR1cm4gYi5pbmRleGVzLmxlbmd0aD09dGhpcy5yZWNvcmRzLmxlbmd0aHx8MCE9PXRoaXMuc2VhcmNoRGF0YS5sZW5ndGgmJmIuaW5kZXhlcy5sZW5ndGg9PXRoaXMubGFzdC5zZWFyY2hJZHMubGVuZ3RoPyQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfY2hlY2tfYWxsXFxcIikucHJvcChcXFwiY2hlY2tlZFxcXCIsITApOiQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfY2hlY2tfYWxsXFxcIikucHJvcChcXFwiY2hlY2tlZFxcXCIsITEpLHRoaXMuc3RhdHVzKCksdGhpcy5hZGRSYW5nZShcXFwic2VsZWN0aW9uXFxcIiksYX0sc2VsZWN0QWxsOmZ1bmN0aW9uKCl7aWYodGhpcy5tdWx0aVNlbGVjdCE9PSExKXt2YXIgYT10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcInNlbGVjdFxcXCIsdGFyZ2V0OnRoaXMubmFtZSxhbGw6ITB9KTtpZihhLmlzQ2FuY2VsbGVkIT09ITApe3ZhciBiPVxcXCJvYmplY3RcXFwiIT10eXBlb2YgdGhpcy51cmw/dGhpcy51cmw6dGhpcy51cmwuZ2V0LGM9dGhpcy5sYXN0LnNlbGVjdGlvbixkPVtdO2Zvcih2YXIgZSBpbiB0aGlzLmNvbHVtbnMpZC5wdXNoKHBhcnNlSW50KGUpKTtpZihjLmluZGV4ZXM9W10sYnx8MD09PXRoaXMuc2VhcmNoRGF0YS5sZW5ndGgpe3ZhciBmPXRoaXMucmVjb3Jkcy5sZW5ndGg7MCE9dGhpcy5zZWFyY2hEYXRhLmxlbmd0aCYmYiYmKGY9dGhpcy5sYXN0LnNlYXJjaElkcy5sZW5ndGgpO2Zvcih2YXIgZz0wO2Y+ZztnKyspYy5pbmRleGVzLnB1c2goZyksXFxcInJvd1xcXCIhPXRoaXMuc2VsZWN0VHlwZSYmKGMuY29sdW1uc1tnXT1kLnNsaWNlKCkpfWVsc2UgZm9yKHZhciBnPTA7Zzx0aGlzLmxhc3Quc2VhcmNoSWRzLmxlbmd0aDtnKyspYy5pbmRleGVzLnB1c2godGhpcy5sYXN0LnNlYXJjaElkc1tnXSksXFxcInJvd1xcXCIhPXRoaXMuc2VsZWN0VHlwZSYmKGMuY29sdW1uc1t0aGlzLmxhc3Quc2VhcmNoSWRzW2ddXT1kLnNsaWNlKCkpO3RoaXMucmVmcmVzaCgpO3ZhciBjPXRoaXMuZ2V0U2VsZWN0aW9uKCk7MT09Yy5sZW5ndGg/dGhpcy50b29sYmFyLmVuYWJsZShcXFwidzJ1aS1lZGl0XFxcIik6dGhpcy50b29sYmFyLmRpc2FibGUoXFxcIncydWktZWRpdFxcXCIpLGMubGVuZ3RoPj0xP3RoaXMudG9vbGJhci5lbmFibGUoXFxcIncydWktZGVsZXRlXFxcIik6dGhpcy50b29sYmFyLmRpc2FibGUoXFxcIncydWktZGVsZXRlXFxcIiksdGhpcy5hZGRSYW5nZShcXFwic2VsZWN0aW9uXFxcIiksdGhpcy50cmlnZ2VyKCQuZXh0ZW5kKGEse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSl9fX0sc2VsZWN0Tm9uZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwidW5zZWxlY3RcXFwiLHRhcmdldDp0aGlzLm5hbWUsYWxsOiEwfSk7aWYoYS5pc0NhbmNlbGxlZCE9PSEwKXt2YXIgYj10aGlzLmxhc3Quc2VsZWN0aW9uO2Zvcih2YXIgYyBpbiBiLmluZGV4ZXMpe3ZhciBkPWIuaW5kZXhlc1tjXSxlPXRoaXMucmVjb3Jkc1tkXSxmPWU/ZS5yZWNpZDpudWxsLGc9JChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9yZWNfXFxcIit3MnV0aWxzLmVzY2FwZUlkKGYpKTtpZihnLnJlbW92ZUNsYXNzKFxcXCJ3MnVpLXNlbGVjdGVkXFxcIikucmVtb3ZlRGF0YShcXFwic2VsZWN0ZWRcXFwiKSxnLmZpbmQoXFxcIi53MnVpLWdyaWQtc2VsZWN0LWNoZWNrXFxcIikucHJvcChcXFwiY2hlY2tlZFxcXCIsITEpLFxcXCJyb3dcXFwiIT10aGlzLnNlbGVjdFR5cGUpe3ZhciBoPWIuY29sdW1uc1tkXTtmb3IodmFyIGkgaW4gaClnLmZpbmQoXFxcIiA+IHRkW2NvbD1cXFwiK2hbaV0rXFxcIl1cXFwiKS5yZW1vdmVDbGFzcyhcXFwidzJ1aS1zZWxlY3RlZFxcXCIpfX1iLmluZGV4ZXM9W10sYi5jb2x1bW5zPXt9LHRoaXMudG9vbGJhci5kaXNhYmxlKFxcXCJ3MnVpLWVkaXRcXFwiLFxcXCJ3MnVpLWRlbGV0ZVxcXCIpLHRoaXMucmVtb3ZlUmFuZ2UoXFxcInNlbGVjdGlvblxcXCIpLCQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfY2hlY2tfYWxsXFxcIikucHJvcChcXFwiY2hlY2tlZFxcXCIsITEpLHRoaXMudHJpZ2dlcigkLmV4dGVuZChhLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpfX0sZ2V0U2VsZWN0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9dGhpcy5sYXN0LnNlbGVjdGlvbjtpZihcXFwicm93XFxcIj09dGhpcy5zZWxlY3RUeXBlKXtmb3IodmFyIGQgaW4gYy5pbmRleGVzKXRoaXMucmVjb3Jkc1tjLmluZGV4ZXNbZF1dJiZiLnB1c2goYT09PSEwP2MuaW5kZXhlc1tkXTp0aGlzLnJlY29yZHNbYy5pbmRleGVzW2RdXS5yZWNpZCk7cmV0dXJuIGJ9Zm9yKHZhciBkIGluIGMuaW5kZXhlcyl7dmFyIGU9Yy5jb2x1bW5zW2MuaW5kZXhlc1tkXV07aWYodGhpcy5yZWNvcmRzW2MuaW5kZXhlc1tkXV0pZm9yKHZhciBmIGluIGUpYi5wdXNoKHtyZWNpZDp0aGlzLnJlY29yZHNbYy5pbmRleGVzW2RdXS5yZWNpZCxpbmRleDpwYXJzZUludChjLmluZGV4ZXNbZF0pLGNvbHVtbjplW2ZdfSl9cmV0dXJuIGJ9LHNlYXJjaDpmdW5jdGlvbihhLGIpe3ZhciBjPVxcXCJvYmplY3RcXFwiIT10eXBlb2YgdGhpcy51cmw/dGhpcy51cmw6dGhpcy51cmwuZ2V0LGQ9W10sZT10aGlzLmxhc3QubXVsdGksZj10aGlzLmxhc3QubG9naWMsZz10aGlzLmxhc3QuZmllbGQsaD10aGlzLmxhc3Quc2VhcmNoO2lmKDA9PWFyZ3VtZW50cy5sZW5ndGgpe2g9XFxcIlxcXCI7Zm9yKHZhciBpIGluIHRoaXMuc2VhcmNoZXMpe3ZhciBqPXRoaXMuc2VhcmNoZXNbaV0saz0kKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX29wZXJhdG9yX1xcXCIraSkudmFsKCksbD0kKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX2ZpZWxkX1xcXCIraSksbT0kKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX2ZpZWxkMl9cXFwiK2kpLG49bC52YWwoKSxvPW0udmFsKCkscD1udWxsO2lmKC0xIT1bXFxcImludFxcXCIsXFxcImZsb2F0XFxcIixcXFwibW9uZXlcXFwiLFxcXCJjdXJyZW5jeVxcXCIsXFxcInBlcmNlbnRcXFwiXS5pbmRleE9mKGoudHlwZSkpe3ZhciBxPWwuZGF0YShcXFwidzJmaWVsZFxcXCIpLHI9bS5kYXRhKFxcXCJ3MmZpZWxkXFxcIik7cSYmKG49cS5jbGVhbihuKSksciYmKG89ci5jbGVhbihvKSl9aWYoLTEhPVtcXFwibGlzdFxcXCIsXFxcImVudW1cXFwiXS5pbmRleE9mKGoudHlwZSkpaWYobj1sLmRhdGEoXFxcInNlbGVjdGVkXFxcIil8fHt9LCQuaXNBcnJheShuKSl7cD1bXTtmb3IodmFyIHMgaW4gbilwLnB1c2godzJ1dGlscy5pc0Zsb2F0KG5bc10uaWQpP3BhcnNlRmxvYXQobltzXS5pZCk6U3RyaW5nKG5bc10uaWQpLnRvTG93ZXJDYXNlKCkpLGRlbGV0ZSBuW3NdLmhpZGRlbn1lbHNlIG49bi5pZHx8XFxcIlxcXCI7aWYoXFxcIlxcXCIhPW4mJm51bGwhPW58fFxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgbyYmXFxcIlxcXCIhPW8pe3ZhciB0PXtmaWVsZDpqLmZpZWxkLHR5cGU6ai50eXBlLG9wZXJhdG9yOmt9O1xcXCJiZXR3ZWVuXFxcIj09az8kLmV4dGVuZCh0LHt2YWx1ZTpbbixvXX0pOlxcXCJpblxcXCI9PWsmJlxcXCJzdHJpbmdcXFwiPT10eXBlb2Ygbj8kLmV4dGVuZCh0LHt2YWx1ZTpuLnNwbGl0KFxcXCIsXFxcIil9KTpcXFwibm90IGluXFxcIj09ayYmXFxcInN0cmluZ1xcXCI9PXR5cGVvZiBuPyQuZXh0ZW5kKHQse3ZhbHVlOm4uc3BsaXQoXFxcIixcXFwiKX0pOiQuZXh0ZW5kKHQse3ZhbHVlOm59KSxwJiYkLmV4dGVuZCh0LHtzdmFsdWU6cH0pO3RyeXtcXFwiZGF0ZVxcXCI9PWoudHlwZSYmXFxcImJldHdlZW5cXFwiPT1rJiYodC52YWx1ZVswXT1uLHQudmFsdWVbMV09byksXFxcImRhdGVcXFwiPT1qLnR5cGUmJlxcXCJpc1xcXCI9PWsmJih0LnZhbHVlPW4pfWNhdGNoKHUpe31kLnB1c2godCl9fWQubGVuZ3RoPjAmJiFjPyhlPSEwLGY9XFxcIkFORFxcXCIpOihlPSEwLGY9XFxcIkFORFxcXCIpfWlmKFxcXCJzdHJpbmdcXFwiPT10eXBlb2YgYSYmKGc9YSxoPWIsZT0hMSxmPVxcXCJPUlxcXCIsXFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBiKSlpZihcXFwiYWxsXFxcIj09YS50b0xvd2VyQ2FzZSgpKWlmKHRoaXMuc2VhcmNoZXMubGVuZ3RoPjApZm9yKHZhciBpIGluIHRoaXMuc2VhcmNoZXMpe3ZhciBqPXRoaXMuc2VhcmNoZXNbaV07aWYoXFxcInRleHRcXFwiPT1qLnR5cGV8fFxcXCJhbHBoYW51bWVyaWNcXFwiPT1qLnR5cGUmJncydXRpbHMuaXNBbHBoYU51bWVyaWMoYil8fFxcXCJpbnRcXFwiPT1qLnR5cGUmJncydXRpbHMuaXNJbnQoYil8fFxcXCJmbG9hdFxcXCI9PWoudHlwZSYmdzJ1dGlscy5pc0Zsb2F0KGIpfHxcXFwicGVyY2VudFxcXCI9PWoudHlwZSYmdzJ1dGlscy5pc0Zsb2F0KGIpfHxcXFwiaGV4XFxcIj09ai50eXBlJiZ3MnV0aWxzLmlzSGV4KGIpfHxcXFwiY3VycmVuY3lcXFwiPT1qLnR5cGUmJncydXRpbHMuaXNNb25leShiKXx8XFxcIm1vbmV5XFxcIj09ai50eXBlJiZ3MnV0aWxzLmlzTW9uZXkoYil8fFxcXCJkYXRlXFxcIj09ai50eXBlJiZ3MnV0aWxzLmlzRGF0ZShiKSl7dmFyIHQ9e2ZpZWxkOmouZmllbGQsdHlwZTpqLnR5cGUsb3BlcmF0b3I6XFxcInRleHRcXFwiPT1qLnR5cGU/XFxcImNvbnRhaW5zXFxcIjpcXFwiaXNcXFwiLHZhbHVlOmJ9O2QucHVzaCh0KX1pZigtMSE9W1xcXCJpbnRcXFwiLFxcXCJmbG9hdFxcXCIsXFxcIm1vbmV5XFxcIixcXFwiY3VycmVuY3lcXFwiLFxcXCJwZXJjZW50XFxcIl0uaW5kZXhPZihqLnR5cGUpJiYtMSE9U3RyaW5nKGIpLmluZGV4T2YoXFxcIi1cXFwiKSl7dmFyIHY9U3RyaW5nKGIpLnNwbGl0KFxcXCItXFxcIiksdD17ZmllbGQ6ai5maWVsZCx0eXBlOmoudHlwZSxvcGVyYXRvcjpcXFwiYmV0d2VlblxcXCIsdmFsdWU6W3ZbMF0sdlsxXV19O2QucHVzaCh0KX19ZWxzZSBmb3IodmFyIHcgaW4gdGhpcy5jb2x1bW5zKXt2YXIgdD17ZmllbGQ6dGhpcy5jb2x1bW5zW3ddLmZpZWxkLHR5cGU6XFxcInRleHRcXFwiLG9wZXJhdG9yOlxcXCJjb250YWluc1xcXCIsdmFsdWU6Yn07ZC5wdXNoKHQpfWVsc2V7dmFyIHg9JChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9zZWFyY2hfYWxsXFxcIiksaj10aGlzLmdldFNlYXJjaChhKTtpZihudWxsPT1qJiYoaj17ZmllbGQ6YSx0eXBlOlxcXCJ0ZXh0XFxcIn0pLGouZmllbGQ9PWEmJih0aGlzLmxhc3QuY2FwdGlvbj1qLmNhcHRpb24pLFxcXCJsaXN0XFxcIj09ai50eXBlKXt2YXIgdD14LmRhdGEoXFxcInNlbGVjdGVkXFxcIik7dCYmISQuaXNFbXB0eU9iamVjdCh0KSYmKGI9dC5pZCl9aWYoXFxcIlxcXCIhPWIpe3ZhciB5PVxcXCJjb250YWluc1xcXCIsej1iO2lmKC0xIT1bXFxcImRhdGVcXFwiLFxcXCJ0aW1lXFxcIixcXFwibGlzdFxcXCJdLmluZGV4T2Yoai50eXBlKSYmKHk9XFxcImlzXFxcIiksXFxcImludFxcXCI9PWoudHlwZSYmXFxcIlxcXCIhPWIpe2lmKHk9XFxcImlzXFxcIiwtMSE9U3RyaW5nKGIpLmluZGV4T2YoXFxcIi1cXFwiKSl7dmFyIHQ9Yi5zcGxpdChcXFwiLVxcXCIpOzI9PXQubGVuZ3RoJiYoeT1cXFwiYmV0d2VlblxcXCIsej1bcGFyc2VJbnQodFswXSkscGFyc2VJbnQodFsxXSldKX1pZigtMSE9U3RyaW5nKGIpLmluZGV4T2YoXFxcIixcXFwiKSl7dmFyIHQ9Yi5zcGxpdChcXFwiLFxcXCIpO3k9XFxcImluXFxcIix6PVtdO2Zvcih2YXIgdiBpbiB0KXoucHVzaCh0W3ZdKX19dmFyIHQ9e2ZpZWxkOmouZmllbGQsdHlwZTpqLnR5cGUsb3BlcmF0b3I6eSx2YWx1ZTp6fTtkLnB1c2godCl9fWlmKCQuaXNBcnJheShhKSl7dmFyIEE9XFxcIkFORFxcXCI7XFxcInN0cmluZ1xcXCI9PXR5cGVvZiBiJiYoQT1iLnRvVXBwZXJDYXNlKCksXFxcIk9SXFxcIiE9QSYmXFxcIkFORFxcXCIhPUEmJihBPVxcXCJBTkRcXFwiKSksaD1cXFwiXFxcIixlPSEwLGY9QTtmb3IodmFyIEIgaW4gYSl7dmFyIEM9YVtCXSxqPXRoaXMuZ2V0U2VhcmNoKEMuZmllbGQpO251bGw9PWomJihqPXt0eXBlOlxcXCJ0ZXh0XFxcIixvcGVyYXRvcjpcXFwiY29udGFpbnNcXFwifSksZC5wdXNoKCQuZXh0ZW5kKCEwLHt9LGosQykpfX12YXIgRD10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcInNlYXJjaFxcXCIsdGFyZ2V0OnRoaXMubmFtZSxzZWFyY2hEYXRhOmQsc2VhcmNoRmllbGQ6YT9hOlxcXCJtdWx0aVxcXCIsc2VhcmNoVmFsdWU6Yj9iOlxcXCJtdWx0aVxcXCJ9KTtELmlzQ2FuY2VsbGVkIT09ITAmJih0aGlzLnNlYXJjaERhdGE9RC5zZWFyY2hEYXRhLHRoaXMubGFzdC5maWVsZD1nLHRoaXMubGFzdC5zZWFyY2g9aCx0aGlzLmxhc3QubXVsdGk9ZSx0aGlzLmxhc3QubG9naWM9Zix0aGlzLmxhc3Quc2Nyb2xsVG9wPTAsdGhpcy5sYXN0LnNjcm9sbExlZnQ9MCx0aGlzLmxhc3Quc2VsZWN0aW9uLmluZGV4ZXM9W10sdGhpcy5sYXN0LnNlbGVjdGlvbi5jb2x1bW5zPXt9LHRoaXMuc2VhcmNoQ2xvc2UoKSx0aGlzLnNldCh7ZXhwYW5kZWQ6ITF9LCEwKSxjPyh0aGlzLmxhc3QueGhyX29mZnNldD0wLHRoaXMucmVsb2FkKCkpOih0aGlzLmxvY2FsU2VhcmNoKCksdGhpcy5yZWZyZXNoKCkpLHRoaXMudHJpZ2dlcigkLmV4dGVuZChELHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpKX0sc2VhcmNoT3BlbjpmdW5jdGlvbigpe2lmKHRoaXMuYm94JiYwIT10aGlzLnNlYXJjaGVzLmxlbmd0aCl7dmFyIGE9dGhpczskKFxcXCIjdGJfXFxcIit0aGlzLm5hbWUrXFxcIl90b29sYmFyX2l0ZW1fdzJ1aS1zZWFyY2gtYWR2YW5jZWRcXFwiKS53Mm92ZXJsYXkodGhpcy5nZXRTZWFyY2hlc0hUTUwoKSx7bmFtZTpcXFwic2VhcmNoZXMtXFxcIit0aGlzLm5hbWUsbGVmdDotMTAsXFxcImNsYXNzXFxcIjpcXFwidzJ1aS1ncmlkLXNlYXJjaGVzXFxcIixvblNob3c6ZnVuY3Rpb24oKXtcXFwiT1JcXFwiPT1hLmxhc3QubG9naWMmJihhLnNlYXJjaERhdGE9W10pLGEuaW5pdFNlYXJjaGVzKCksJChcXFwiI3cydWktb3ZlcmxheS1zZWFyY2hlcy1cXFwiK3RoaXMubmFtZStcXFwiIC53MnVpLWdyaWQtc2VhcmNoZXNcXFwiKS5kYXRhKFxcXCJncmlkLW5hbWVcXFwiLGEubmFtZSk7dmFyIGI9JChcXFwiI3cydWktb3ZlcmxheS1zZWFyY2hlcy1cXFwiK3RoaXMubmFtZStcXFwiIC53MnVpLWdyaWQtc2VhcmNoZXMgKltyZWw9c2VhcmNoXVxcXCIpO2IubGVuZ3RoPjAmJmJbMF0uZm9jdXMoKX19KX19LHNlYXJjaENsb3NlOmZ1bmN0aW9uKCl7dGhpcy5ib3gmJjAhPXRoaXMuc2VhcmNoZXMubGVuZ3RoJiYodGhpcy50b29sYmFyJiZ0aGlzLnRvb2xiYXIudW5jaGVjayhcXFwidzJ1aS1zZWFyY2gtYWR2YW5jZWRcXFwiKSwkKFxcXCIjdzJ1aS1vdmVybGF5LXNlYXJjaGVzLVxcXCIrdGhpcy5uYW1lK1xcXCIgLncydWktZ3JpZC1zZWFyY2hlc1xcXCIpLmxlbmd0aD4wJiYkKCkudzJvdmVybGF5KFxcXCJcXFwiLHtuYW1lOlxcXCJzZWFyY2hlcy1cXFwiK3RoaXMubmFtZX0pKX0sc2VhcmNoU2hvd0ZpZWxkczpmdW5jdGlvbigpe2Zvcih2YXIgYT0kKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX3NlYXJjaF9hbGxcXFwiKSxiPSc8ZGl2IGNsYXNzPVxcXCJ3MnVpLXNlbGVjdC1maWVsZFxcXCI+PHRhYmxlPicsYz0tMTtjPHRoaXMuc2VhcmNoZXMubGVuZ3RoO2MrKyl7dmFyIGQ9dGhpcy5zZWFyY2hlc1tjXTtpZigtMT09Yyl7aWYoIXRoaXMubXVsdGlTZWFyY2gpY29udGludWU7ZD17ZmllbGQ6XFxcImFsbFxcXCIsY2FwdGlvbjp3MnV0aWxzLmxhbmcoXFxcIkFsbCBGaWVsZHNcXFwiKX19ZWxzZSBpZih0aGlzLnNlYXJjaGVzW2NdLmhpZGRlbj09PSEwKWNvbnRpbnVlO2IrPVxcXCI8dHIgXFxcIisodzJ1dGlscy5pc0lPUz9cXFwib25Ub3VjaFN0YXJ0XFxcIjpcXFwib25DbGlja1xcXCIpK1xcXCI9XFxcXFxcXCJ3MnVpWydcXFwiK3RoaXMubmFtZStcXFwiJ10uaW5pdEFsbEZpZWxkKCdcXFwiK2QuZmllbGQrJ1xcXFwnKVxcXCI+ICAgIDx0ZD48aW5wdXQgdHlwZT1cXFwicmFkaW9cXFwiIHRhYkluZGV4PVxcXCItMVxcXCIgJysoZC5maWVsZD09dGhpcy5sYXN0LmZpZWxkP1xcXCJjaGVja2VkXFxcIjpcXFwiXFxcIikrXFxcIj48L3RkPiAgICA8dGQ+XFxcIitkLmNhcHRpb24rXFxcIjwvdGQ+PC90cj5cXFwifWIrPVxcXCI8L3RhYmxlPjwvZGl2PlxcXCIsc2V0VGltZW91dChmdW5jdGlvbigpeyQoYSkudzJvdmVybGF5KGIse2xlZnQ6LTEwfSl9LDEpfSxpbml0QWxsRmllbGQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz0kKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX3NlYXJjaF9hbGxcXFwiKSxkPXRoaXMuZ2V0U2VhcmNoKGEpO2lmKFxcXCJhbGxcXFwiPT1hKWQ9e2ZpZWxkOlxcXCJhbGxcXFwiLGNhcHRpb246dzJ1dGlscy5sYW5nKFxcXCJBbGwgRmllbGRzXFxcIil9LGMudzJmaWVsZChcXFwiY2xlYXJcXFwiKSxjLmNoYW5nZSgpLmZvY3VzKCk7ZWxzZXt2YXIgZT1kLnR5cGU7LTEhPVtcXFwiZW51bVxcXCIsXFxcInNlbGVjdFxcXCJdLmluZGV4T2YoZSkmJihlPVxcXCJsaXN0XFxcIiksYy53MmZpZWxkKGUsJC5leHRlbmQoe30sZC5vcHRpb25zLHtzdWZmaXg6XFxcIlxcXCIsYXV0b0Zvcm1hdDohMSxzZWxlY3RlZDpifSkpLC0xIT1bXFxcImxpc3RcXFwiLFxcXCJlbnVtXFxcIl0uaW5kZXhPZihkLnR5cGUpJiYodGhpcy5sYXN0LnNlYXJjaD1cXFwiXFxcIix0aGlzLmxhc3QuaXRlbT1cXFwiXFxcIixjLnZhbChcXFwiXFxcIikpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmZvY3VzKCl9LDEpfVxcXCJcXFwiIT10aGlzLmxhc3Quc2VhcmNoP3RoaXMuc2VhcmNoKGQuZmllbGQsdGhpcy5sYXN0LnNlYXJjaCk6KHRoaXMubGFzdC5maWVsZD1kLmZpZWxkLHRoaXMubGFzdC5jYXB0aW9uPWQuY2FwdGlvbiksYy5hdHRyKFxcXCJwbGFjZWhvbGRlclxcXCIsZC5jYXB0aW9uKSwkKCkudzJvdmVybGF5KCl9LHNlYXJjaFJlc2V0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwic2VhcmNoXFxcIix0YXJnZXQ6dGhpcy5uYW1lLHNlYXJjaERhdGE6W119KTtiLmlzQ2FuY2VsbGVkIT09ITAmJih0aGlzLnNlYXJjaERhdGE9W10sdGhpcy5sYXN0LnNlYXJjaD1cXFwiXFxcIix0aGlzLmxhc3QubG9naWM9XFxcIk9SXFxcIix0aGlzLmxhc3QubXVsdGk9ITEsdGhpcy5sYXN0Lnhocl9vZmZzZXQ9MCx0aGlzLmxhc3Quc2Nyb2xsVG9wPTAsdGhpcy5sYXN0LnNjcm9sbExlZnQ9MCx0aGlzLmxhc3Quc2VsZWN0aW9uLmluZGV4ZXM9W10sdGhpcy5sYXN0LnNlbGVjdGlvbi5jb2x1bW5zPXt9LHRoaXMuc2VhcmNoQ2xvc2UoKSwkKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX3NlYXJjaF9hbGxcXFwiKS52YWwoXFxcIlxcXCIpLGF8fHRoaXMucmVsb2FkKCksdGhpcy50cmlnZ2VyKCQuZXh0ZW5kKGIse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSkpfSxjbGVhcjpmdW5jdGlvbihhKXt0aGlzLnJlY29yZHM9W10sdGhpcy5zdW1tYXJ5PVtdLHRoaXMubGFzdC5zY3JvbGxUb3A9MCx0aGlzLmxhc3Quc2Nyb2xsTGVmdD0wLHRoaXMubGFzdC5zZWxlY3Rpb24uaW5kZXhlcz1bXSx0aGlzLmxhc3Quc2VsZWN0aW9uLmNvbHVtbnM9e30sdGhpcy5sYXN0LnJhbmdlX3N0YXJ0PW51bGwsdGhpcy5sYXN0LnJhbmdlX2VuZD1udWxsLHRoaXMubGFzdC54aHJfb2Zmc2V0PTAsYXx8dGhpcy5yZWZyZXNoKClcXG59LHJlc2V0OmZ1bmN0aW9uKGEpe3RoaXMub2Zmc2V0PTAsdGhpcy50b3RhbD0wLHRoaXMubGFzdC5zY3JvbGxUb3A9MCx0aGlzLmxhc3Quc2Nyb2xsTGVmdD0wLHRoaXMubGFzdC5zZWxlY3Rpb24uaW5kZXhlcz1bXSx0aGlzLmxhc3Quc2VsZWN0aW9uLmNvbHVtbnM9e30sdGhpcy5sYXN0LnJhbmdlX3N0YXJ0PW51bGwsdGhpcy5sYXN0LnJhbmdlX2VuZD1udWxsLHRoaXMubGFzdC54aHJfb2Zmc2V0PTAsdGhpcy5zZWFyY2hSZXNldChhKSxudWxsIT10aGlzLmxhc3Quc29ydERhdGEmJih0aGlzLnNvcnREYXRhPXRoaXMubGFzdC5zb3J0RGF0YSksdGhpcy5zZXQoe2V4cGFuZGVkOiExfSwhMCksYXx8dGhpcy5yZWZyZXNoKCl9LHNraXA6ZnVuY3Rpb24oYSl7dmFyIGI9XFxcIm9iamVjdFxcXCIhPXR5cGVvZiB0aGlzLnVybD90aGlzLnVybDp0aGlzLnVybC5nZXQ7Yj8odGhpcy5vZmZzZXQ9cGFyc2VJbnQoYSksdGhpcy5vZmZzZXQ+dGhpcy50b3RhbCYmKHRoaXMub2Zmc2V0PXRoaXMudG90YWwtdGhpcy5saW1pdCksKHRoaXMub2Zmc2V0PDB8fCF3MnV0aWxzLmlzSW50KHRoaXMub2Zmc2V0KSkmJih0aGlzLm9mZnNldD0wKSx0aGlzLnJlY29yZHM9W10sdGhpcy5sYXN0Lnhocl9vZmZzZXQ9MCx0aGlzLmxhc3QucHVsbF9tb3JlPSEwLHRoaXMubGFzdC5zY3JvbGxUb3A9MCx0aGlzLmxhc3Quc2Nyb2xsTGVmdD0wLCQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfcmVjb3Jkc1xcXCIpLnByb3AoXFxcInNjcm9sbFRvcFxcXCIsMCksdGhpcy5yZWxvYWQoKSk6Y29uc29sZS5sb2coXFxcIkVSUk9SOiBncmlkLnNraXAoKSBjYW4gb25seSBiZSBjYWxsZWQgd2hlbiB5b3UgaGF2ZSByZW1vdGUgZGF0YSBzb3VyY2UuXFxcIil9LGxvYWQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm5cXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGE/dm9pZCBjb25zb2xlLmxvZygnRVJST1I6IFlvdSBuZWVkIHRvIHByb3ZpZGUgdXJsIGFyZ3VtZW50IHdoZW4gY2FsbGluZyAubG9hZCgpIG1ldGhvZCBvZiBcXFwiJyt0aGlzLm5hbWUrJ1xcXCIgb2JqZWN0LicpOnZvaWQgdGhpcy5yZXF1ZXN0KFxcXCJnZXQtcmVjb3Jkc1xcXCIse30sYSxiKX0scmVsb2FkOmZ1bmN0aW9uKGEpe3ZhciBiPVxcXCJvYmplY3RcXFwiIT10eXBlb2YgdGhpcy51cmw/dGhpcy51cmw6dGhpcy51cmwuZ2V0O2I/KHRoaXMuY2xlYXIoITApLHRoaXMucmVxdWVzdChcXFwiZ2V0LXJlY29yZHNcXFwiLHt9LG51bGwsYSkpOih0aGlzLmxhc3Quc2Nyb2xsVG9wPTAsdGhpcy5sYXN0LnNjcm9sbExlZnQ9MCx0aGlzLmxhc3QucmFuZ2Vfc3RhcnQ9bnVsbCx0aGlzLmxhc3QucmFuZ2VfZW5kPW51bGwsdGhpcy5sb2NhbFNlYXJjaCgpLHRoaXMucmVmcmVzaCgpLFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBhJiZhKHtzdGF0dXM6XFxcInN1Y2Nlc3NcXFwifSkpfSxyZXF1ZXN0OmZ1bmN0aW9uKGEsYixjLGQpe2lmKFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgYiYmKGI9e30pLChcXFwiXFxcIj09Y3x8bnVsbD09YykmJihjPXRoaXMudXJsKSxcXFwiXFxcIiE9YyYmbnVsbCE9Yyl7dmFyIGU9e307aWYodzJ1dGlscy5pc0ludCh0aGlzLm9mZnNldCl8fCh0aGlzLm9mZnNldD0wKSx3MnV0aWxzLmlzSW50KHRoaXMubGFzdC54aHJfb2Zmc2V0KXx8KHRoaXMubGFzdC54aHJfb2Zmc2V0PTApLGUuY21kPWEsZS5zZWxlY3RlZD10aGlzLmdldFNlbGVjdGlvbigpLGUubGltaXQ9dGhpcy5saW1pdCxlLm9mZnNldD1wYXJzZUludCh0aGlzLm9mZnNldCkrdGhpcy5sYXN0Lnhocl9vZmZzZXQsZS5zZWFyY2g9dGhpcy5zZWFyY2hEYXRhLGUuc2VhcmNoTG9naWM9dGhpcy5sYXN0LmxvZ2ljLGUuc29ydD10aGlzLnNvcnREYXRhLDA9PXRoaXMuc2VhcmNoRGF0YS5sZW5ndGgmJihkZWxldGUgZS5zZWFyY2gsZGVsZXRlIGUuc2VhcmNoTG9naWMpLDA9PXRoaXMuc29ydERhdGEubGVuZ3RoJiZkZWxldGUgZS5zb3J0LCQuZXh0ZW5kKGUsdGhpcy5wb3N0RGF0YSksJC5leHRlbmQoZSxiKSxcXFwiZ2V0LXJlY29yZHNcXFwiPT1hKXt2YXIgZj10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcInJlcXVlc3RcXFwiLHRhcmdldDp0aGlzLm5hbWUsdXJsOmMscG9zdERhdGE6ZX0pO2lmKGYuaXNDYW5jZWxsZWQ9PT0hMClyZXR1cm4gdm9pZChcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgZCYmZCh7c3RhdHVzOlxcXCJlcnJvclxcXCIsbWVzc2FnZTpcXFwiUmVxdWVzdCBhYm9ydGVkLlxcXCJ9KSl9ZWxzZSB2YXIgZj17dXJsOmMscG9zdERhdGE6ZX07dmFyIGc9dGhpcztpZigwPT10aGlzLmxhc3QueGhyX29mZnNldCl0aGlzLmxvY2sodGhpcy5tc2dSZWZyZXNoLCEwKTtlbHNle3ZhciBoPSQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfcmVjX21vcmVcXFwiKTt0aGlzLmF1dG9Mb2FkPT09ITA/aC5zaG93KCkuZmluZChcXFwidGRcXFwiKS5odG1sKCc8ZGl2PjxkaXYgc3R5bGU9XFxcIndpZHRoOiAyMHB4OyBoZWlnaHQ6IDIwcHg7XFxcIiBjbGFzcz1cXFwidzJ1aS1zcGlubmVyXFxcIj48L2Rpdj48L2Rpdj4nKTpoLmZpbmQoXFxcInRkXFxcIikuaHRtbChcXFwiPGRpdj5cXFwiK3cydXRpbHMubGFuZyhcXFwiTG9hZFxcXCIpK1xcXCIgXFxcIitnLmxpbWl0K1xcXCIgXFxcIit3MnV0aWxzLmxhbmcoXFxcIk1vcmVcXFwiKStcXFwiLi4uPC9kaXY+XFxcIil9aWYodGhpcy5sYXN0Lnhocil0cnl7dGhpcy5sYXN0Lnhoci5hYm9ydCgpfWNhdGNoKGkpe31pZihjPVxcXCJvYmplY3RcXFwiIT10eXBlb2YgZi51cmw/Zi51cmw6Zi51cmwuZ2V0LFxcXCJzYXZlLXJlY29yZHNcXFwiPT1lLmNtZCYmXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBmLnVybCYmKGM9Zi51cmwuc2F2ZSksXFxcImRlbGV0ZS1yZWNvcmRzXFxcIj09ZS5jbWQmJlxcXCJvYmplY3RcXFwiPT10eXBlb2YgZi51cmwmJihjPWYudXJsLnJlbW92ZSksISQuaXNFbXB0eU9iamVjdChnLnJvdXRlRGF0YSkpe3ZhciBqPXcydXRpbHMucGFyc2VSb3V0ZShjKTtpZihqLmtleXMubGVuZ3RoPjApZm9yKHZhciBrPTA7azxqLmtleXMubGVuZ3RoO2srKyludWxsIT1nLnJvdXRlRGF0YVtqLmtleXNba10ubmFtZV0mJihjPWMucmVwbGFjZShuZXcgUmVnRXhwKFxcXCI6XFxcIitqLmtleXNba10ubmFtZSxcXFwiZ1xcXCIpLGcucm91dGVEYXRhW2oua2V5c1trXS5uYW1lXSkpfXZhciBsPXt0eXBlOlxcXCJQT1NUXFxcIix1cmw6YyxkYXRhOmYucG9zdERhdGEsZGF0YVR5cGU6XFxcInRleHRcXFwifTtcXFwiSFRUUFxcXCI9PXcydXRpbHMuc2V0dGluZ3MuZGF0YVR5cGUmJihsLmRhdGE9XFxcIm9iamVjdFxcXCI9PXR5cGVvZiBsLmRhdGE/U3RyaW5nKCQucGFyYW0obC5kYXRhLCExKSkucmVwbGFjZSgvJTVCL2csXFxcIltcXFwiKS5yZXBsYWNlKC8lNUQvZyxcXFwiXVxcXCIpOmwuZGF0YSksXFxcIlJFU1RGVUxMXFxcIj09dzJ1dGlscy5zZXR0aW5ncy5kYXRhVHlwZSYmKGwudHlwZT1cXFwiR0VUXFxcIixcXFwic2F2ZS1yZWNvcmRzXFxcIj09ZS5jbWQmJihsLnR5cGU9XFxcIlBVVFxcXCIpLFxcXCJkZWxldGUtcmVjb3Jkc1xcXCI9PWUuY21kJiYobC50eXBlPVxcXCJERUxFVEVcXFwiKSxsLmRhdGE9XFxcIm9iamVjdFxcXCI9PXR5cGVvZiBsLmRhdGE/U3RyaW5nKCQucGFyYW0obC5kYXRhLCExKSkucmVwbGFjZSgvJTVCL2csXFxcIltcXFwiKS5yZXBsYWNlKC8lNUQvZyxcXFwiXVxcXCIpOmwuZGF0YSksXFxcIkpTT05cXFwiPT13MnV0aWxzLnNldHRpbmdzLmRhdGFUeXBlJiYobC50eXBlPVxcXCJQT1NUXFxcIixsLmRhdGE9SlNPTi5zdHJpbmdpZnkobC5kYXRhKSxsLmNvbnRlbnRUeXBlPVxcXCJhcHBsaWNhdGlvbi9qc29uXFxcIiksdGhpcy5tZXRob2QmJihsLnR5cGU9dGhpcy5tZXRob2QpLHRoaXMubGFzdC54aHJfY21kPWUuY21kLHRoaXMubGFzdC54aHJfc3RhcnQ9KG5ldyBEYXRlKS5nZXRUaW1lKCksdGhpcy5sYXN0Lnhocj0kLmFqYXgobCkuZG9uZShmdW5jdGlvbihiLGMpe2cucmVxdWVzdENvbXBsZXRlKGMsYSxkKX0pLmZhaWwoZnVuY3Rpb24oYixjLGUpe3ZhciBmPXtzdGF0dXM6YyxlcnJvcjplLHJhd1Jlc3BvbnNlVGV4dDpiLnJlc3BvbnNlVGV4dH0saD1nLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcImVycm9yXFxcIixlcnJvcjpmLHhocjpifSk7aWYoaC5pc0NhbmNlbGxlZCE9PSEwKXtpZihcXFwiYWJvcnRcXFwiIT1jKXt2YXIgaTt0cnl7aT0kLnBhcnNlSlNPTihiLnJlc3BvbnNlVGV4dCl9Y2F0Y2goail7fWNvbnNvbGUubG9nKFxcXCJFUlJPUjogU2VydmVyIGNvbW11bmljYXRpb24gZmFpbGVkLlxcXCIsXFxcIlxcXFxuICAgRVhQRUNURUQ6XFxcIix7c3RhdHVzOlxcXCJzdWNjZXNzXFxcIix0b3RhbDo1LHJlY29yZHM6W3tyZWNpZDoxLGZpZWxkOlxcXCJ2YWx1ZVxcXCJ9XX0sXFxcIlxcXFxuICAgICAgICAgT1I6XFxcIix7c3RhdHVzOlxcXCJlcnJvclxcXCIsbWVzc2FnZTpcXFwiZXJyb3IgbWVzc2FnZVxcXCJ9LFxcXCJcXFxcbiAgIFJFQ0VJVkVEOlxcXCIsXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBpP2k6Yi5yZXNwb25zZVRleHQpLGcucmVxdWVzdENvbXBsZXRlKFxcXCJlcnJvclxcXCIsYSxkKX1nLnRyaWdnZXIoJC5leHRlbmQoaCx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX19KSxcXFwiZ2V0LXJlY29yZHNcXFwiPT1hJiZ0aGlzLnRyaWdnZXIoJC5leHRlbmQoZix7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX19LHJlcXVlc3RDb21wbGV0ZTpmdW5jdGlvbihzdGF0dXMsY21kLGNhbGxCYWNrKXt2YXIgb2JqPXRoaXM7dGhpcy51bmxvY2soKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7b2JqLnN0YXR1cyh3MnV0aWxzLmxhbmcoXFxcIlNlcnZlciBSZXNwb25zZVxcXCIpK1xcXCIgXFxcIisoKG5ldyBEYXRlKS5nZXRUaW1lKCktb2JqLmxhc3QueGhyX3N0YXJ0KS8xZTMrXFxcIiBcXFwiK3cydXRpbHMubGFuZyhcXFwic2VjXFxcIikpfSwxMCksdGhpcy5sYXN0LnB1bGxfbW9yZT0hMSx0aGlzLmxhc3QucHVsbF9yZWZyZXNoPSEwO3ZhciBldmVudF9uYW1lPVxcXCJsb2FkXFxcIjtcXFwic2F2ZS1yZWNvcmRzXFxcIj09dGhpcy5sYXN0Lnhocl9jbWQmJihldmVudF9uYW1lPVxcXCJzYXZlXFxcIiksXFxcImRlbGV0ZS1yZWNvcmRzXFxcIj09dGhpcy5sYXN0Lnhocl9jbWQmJihldmVudF9uYW1lPVxcXCJkZWxldGVkXFxcIik7dmFyIGV2ZW50RGF0YT10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHRhcmdldDp0aGlzLm5hbWUsdHlwZTpldmVudF9uYW1lLHhocjp0aGlzLmxhc3QueGhyLHN0YXR1czpzdGF0dXN9KTtpZihldmVudERhdGEuaXNDYW5jZWxsZWQ9PT0hMClyZXR1cm4gdm9pZChcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgY2FsbEJhY2smJmNhbGxCYWNrKHtzdGF0dXM6XFxcImVycm9yXFxcIixtZXNzYWdlOlxcXCJSZXF1ZXN0IGFib3J0ZWQuXFxcIn0pKTt2YXIgZGF0YSxyZXNwb25zZVRleHQ9dGhpcy5sYXN0Lnhoci5yZXNwb25zZVRleHQ7aWYoXFxcImVycm9yXFxcIiE9c3RhdHVzKXtpZihcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIHJlc3BvbnNlVGV4dCYmXFxcIlxcXCIhPXJlc3BvbnNlVGV4dCl7aWYoXFxcIm9iamVjdFxcXCI9PXR5cGVvZiByZXNwb25zZVRleHQpZGF0YT1yZXNwb25zZVRleHQ7ZWxzZSBpZihcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2Ygb2JqLnBhcnNlcilkYXRhPW9iai5wYXJzZXIocmVzcG9uc2VUZXh0KSxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGRhdGEmJmNvbnNvbGUubG9nKFxcXCJFUlJPUjogWW91ciBwYXJzZXIgZGlkIG5vdCByZXR1cm4gcHJvcGVyIG9iamVjdFxcXCIpO2Vsc2UgdHJ5e2V2YWwoXFxcImRhdGEgPSBcXFwiK3Jlc3BvbnNlVGV4dCl9Y2F0Y2goZSl7fWlmKG9iai5yZWNpZClmb3IodmFyIHIgaW4gZGF0YS5yZWNvcmRzKWRhdGEucmVjb3Jkc1tyXS5yZWNpZD1kYXRhLnJlY29yZHNbcl1bb2JqLnJlY2lkXTtpZihcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGRhdGEmJihkYXRhPXtzdGF0dXM6XFxcImVycm9yXFxcIixtZXNzYWdlOnRoaXMubXNnTm90SlNPTixyZXNwb25zZVRleHQ6cmVzcG9uc2VUZXh0fSksXFxcImVycm9yXFxcIj09ZGF0YS5zdGF0dXMpb2JqLmVycm9yKGRhdGEubWVzc2FnZSk7ZWxzZXtpZihcXFwiZ2V0LXJlY29yZHNcXFwiPT1jbWQpaWYoMD09dGhpcy5sYXN0Lnhocl9vZmZzZXQpdGhpcy5yZWNvcmRzPVtdLHRoaXMuc3VtbWFyeT1bXSxkZWxldGUgZGF0YS5zdGF0dXMsJC5leHRlbmQoITAsdGhpcyxkYXRhKTtlbHNle3ZhciByZWNvcmRzPWRhdGEucmVjb3JkcztkZWxldGUgZGF0YS5yZWNvcmRzLGRlbGV0ZSBkYXRhLnN0YXR1cywkLmV4dGVuZCghMCx0aGlzLGRhdGEpO2Zvcih2YXIgciBpbiByZWNvcmRzKXRoaXMucmVjb3Jkcy5wdXNoKHJlY29yZHNbcl0pfWlmKFxcXCJkZWxldGUtcmVjb3Jkc1xcXCI9PWNtZClyZXR1cm4gdm9pZCB0aGlzLnJlc2V0KCl9fX1lbHNlIGRhdGE9e3N0YXR1czpcXFwiZXJyb3JcXFwiLG1lc3NhZ2U6dGhpcy5tc2dBSkFYZXJyb3IscmVzcG9uc2VUZXh0OnJlc3BvbnNlVGV4dH0sb2JqLmVycm9yKHRoaXMubXNnQUpBWGVycm9yKTt2YXIgdXJsPVxcXCJvYmplY3RcXFwiIT10eXBlb2YgdGhpcy51cmw/dGhpcy51cmw6dGhpcy51cmwuZ2V0O3VybHx8KHRoaXMubG9jYWxTb3J0KCksdGhpcy5sb2NhbFNlYXJjaCgpKSx0aGlzLnRvdGFsPXBhcnNlSW50KHRoaXMudG90YWwpLHRoaXMudHJpZ2dlcigkLmV4dGVuZChldmVudERhdGEse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSksMD09dGhpcy5sYXN0Lnhocl9vZmZzZXQ/dGhpcy5yZWZyZXNoKCk6dGhpcy5zY3JvbGwoKSxcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgY2FsbEJhY2smJmNhbGxCYWNrKGRhdGEpfSxlcnJvcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnRyaWdnZXIoe3RhcmdldDp0aGlzLm5hbWUsdHlwZTpcXFwiZXJyb3JcXFwiLG1lc3NhZ2U6YSx4aHI6dGhpcy5sYXN0Lnhocn0pO3JldHVybiBiLmlzQ2FuY2VsbGVkPT09ITA/dm9pZChcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgY2FsbEJhY2smJmNhbGxCYWNrKHtzdGF0dXM6XFxcImVycm9yXFxcIixtZXNzYWdlOlxcXCJSZXF1ZXN0IGFib3J0ZWQuXFxcIn0pKToodzJhbGVydChhLFxcXCJFcnJvclxcXCIpLHZvaWQgdGhpcy50cmlnZ2VyKCQuZXh0ZW5kKGIse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSkpfSxnZXRDaGFuZ2VzOmZ1bmN0aW9uKCl7dmFyIGE9W107Zm9yKHZhciBiIGluIHRoaXMucmVjb3Jkcyl7dmFyIGM9dGhpcy5yZWNvcmRzW2JdO1xcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgYy5jaGFuZ2VzJiZhLnB1c2goJC5leHRlbmQoITAse3JlY2lkOmMucmVjaWR9LGMuY2hhbmdlcykpfXJldHVybiBhfSxtZXJnZUNoYW5nZXM6ZnVuY3Rpb24oKXt2YXIgY2hhbmdlcz10aGlzLmdldENoYW5nZXMoKTtmb3IodmFyIGMgaW4gY2hhbmdlcyl7dmFyIHJlY29yZD10aGlzLmdldChjaGFuZ2VzW2NdLnJlY2lkKTtmb3IodmFyIHMgaW4gY2hhbmdlc1tjXSlpZihcXFwicmVjaWRcXFwiIT1zKXt0cnl7ZXZhbChcXFwicmVjb3JkLlxcXCIrcytcXFwiID0gY2hhbmdlc1tjXVtzXVxcXCIpfWNhdGNoKGUpe31kZWxldGUgcmVjb3JkLmNoYW5nZXN9fXRoaXMucmVmcmVzaCgpfSxzYXZlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPXRoaXMuZ2V0Q2hhbmdlcygpLGM9dGhpcy50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0YXJnZXQ6dGhpcy5uYW1lLHR5cGU6XFxcInN1Ym1pdFxcXCIsY2hhbmdlczpifSk7aWYoYy5pc0NhbmNlbGxlZCE9PSEwKXt2YXIgZD1cXFwib2JqZWN0XFxcIiE9dHlwZW9mIHRoaXMudXJsP3RoaXMudXJsOnRoaXMudXJsLnNhdmU7ZD90aGlzLnJlcXVlc3QoXFxcInNhdmUtcmVjb3Jkc1xcXCIse2NoYW5nZXM6Yy5jaGFuZ2VzfSxudWxsLGZ1bmN0aW9uKGIpe1xcXCJlcnJvclxcXCIhPT1iLnN0YXR1cyYmYS5tZXJnZUNoYW5nZXMoKSxhLnRyaWdnZXIoJC5leHRlbmQoYyx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX0pOih0aGlzLm1lcmdlQ2hhbmdlcygpLHRoaXMudHJpZ2dlcigkLmV4dGVuZChjLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpKX19LGVkaXRGaWVsZDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLGY9ZS5nZXQoYSwhMCksZz1lLnJlY29yZHNbZl0saD1lLmNvbHVtbnNbYl0saT1oP2guZWRpdGFibGU6bnVsbDtpZihnJiZoJiZpJiZnLmVkaXRhYmxlIT09ITEpe2lmKC0xIT1bXFxcImVudW1cXFwiLFxcXCJmaWxlXFxcIl0uaW5kZXhPZihpLnR5cGUpKXJldHVybiB2b2lkIGNvbnNvbGUubG9nKCdFUlJPUjogaW5wdXQgdHlwZXMgXFxcImVudW1cXFwiIGFuZCBcXFwiZmlsZVxcXCIgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gaW5saW5lIGVkaXRpbmcuJyk7dmFyIGo9ZS50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJlZGl0RmllbGRcXFwiLHRhcmdldDplLm5hbWUscmVjaWQ6YSxjb2x1bW46Yix2YWx1ZTpjLGluZGV4OmYsb3JpZ2luYWxFdmVudDpkfSk7aWYoai5pc0NhbmNlbGxlZCE9PSEwJiYoYz1qLnZhbHVlLHRoaXMuc2VsZWN0Tm9uZSgpLHRoaXMuc2VsZWN0KHtyZWNpZDphLGNvbHVtbjpifSksdGhpcy5sYXN0LmVkaXRfY29sPWIsLTE9PVtcXFwiY2hlY2tib3hcXFwiLFxcXCJjaGVja1xcXCJdLmluZGV4T2YoaS50eXBlKSkpe3ZhciBrPSQoXFxcIiNncmlkX1xcXCIrZS5uYW1lK1xcXCJfcmVjX1xcXCIrdzJ1dGlscy5lc2NhcGVJZChhKSksbD1rLmZpbmQoXFxcIltjb2w9XFxcIitiK1xcXCJdID4gZGl2XFxcIik7XFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBpLmluVGFnJiYoaS5pblRhZz1cXFwiXFxcIiksXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBpLm91dFRhZyYmKGkub3V0VGFnPVxcXCJcXFwiKSxcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGkuc3R5bGUmJihpLnN0eWxlPVxcXCJcXFwiKSxcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGkuaXRlbXMmJihpLml0ZW1zPVtdKTt2YXIgbT13MnV0aWxzLnN0cmlwVGFncyhnLmNoYW5nZXMmJlxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgZy5jaGFuZ2VzW2guZmllbGRdP2cuY2hhbmdlc1toLmZpZWxkXTpnW2guZmllbGRdKTsobnVsbD09bXx8XFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBtKSYmKG09XFxcIlxcXCIpLFxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgYyYmbnVsbCE9YyYmKG09Yyk7dmFyIG49XFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBoLnN0eWxlP2guc3R5bGUrXFxcIjtcXFwiOlxcXCJcXFwiO2lmKFxcXCJzdHJpbmdcXFwiPT10eXBlb2YgaC5yZW5kZXImJi0xIT1bXFxcIm51bWJlclxcXCIsXFxcImludFxcXCIsXFxcImZsb2F0XFxcIixcXFwibW9uZXlcXFwiLFxcXCJwZXJjZW50XFxcIl0uaW5kZXhPZihoLnJlbmRlci5zcGxpdChcXFwiOlxcXCIpWzBdKSYmKG4rPVxcXCJ0ZXh0LWFsaWduOiByaWdodDtcXFwiKSxpLml0ZW1zLmxlbmd0aD4wJiYhJC5pc1BsYWluT2JqZWN0KGkuaXRlbXNbMF0pJiYoaS5pdGVtcz13Mm9iai5maWVsZC5wcm90b3R5cGUubm9ybU1lbnUoaS5pdGVtcykpLFxcXCJzZWxlY3RcXFwiPT1pLnR5cGUpe3ZhciBvPVxcXCJcXFwiO2Zvcih2YXIgcCBpbiBpLml0ZW1zKW8rPSc8b3B0aW9uIHZhbHVlPVxcXCInK2kuaXRlbXNbcF0uaWQrJ1xcXCIgJysoaS5pdGVtc1twXS5pZD09bT9cXFwic2VsZWN0ZWRcXFwiOlxcXCJcXFwiKStcXFwiPlxcXCIraS5pdGVtc1twXS50ZXh0K1xcXCI8L29wdGlvbj5cXFwiO2wuYWRkQ2xhc3MoXFxcIncydWktZWRpdGFibGVcXFwiKS5odG1sKCc8c2VsZWN0IGlkPVxcXCJncmlkXycrZS5uYW1lK1xcXCJfZWRpdF9cXFwiK2ErXFxcIl9cXFwiK2IrJ1xcXCIgY29sdW1uPVxcXCInK2IrJ1xcXCIgICAgIHN0eWxlPVxcXCJ3aWR0aDogMTAwJTsgJytuK2kuc3R5bGUrJ1xcXCIgZmllbGQ9XFxcIicraC5maWVsZCsnXFxcIiByZWNpZD1cXFwiJythKydcXFwiICAgICAnK2kuaW5UYWcrXFxcIj5cXFwiK28rXFxcIjwvc2VsZWN0PlxcXCIraS5vdXRUYWcpLGwuZmluZChcXFwic2VsZWN0XFxcIikuZm9jdXMoKS5vbihcXFwiY2hhbmdlXFxcIixmdW5jdGlvbigpe2RlbGV0ZSBlLmxhc3QubW92ZX0pLm9uKFxcXCJibHVyXFxcIixmdW5jdGlvbihhKXtlLmVkaXRDaGFuZ2UuY2FsbChlLHRoaXMsZixiLGEpfSl9ZWxzZXtsLmFkZENsYXNzKFxcXCJ3MnVpLWVkaXRhYmxlXFxcIikuaHRtbCgnPGlucHV0IGlkPVxcXCJncmlkXycrZS5uYW1lK1xcXCJfZWRpdF9cXFwiK2ErXFxcIl9cXFwiK2IrJ1xcXCIgICAgIHR5cGU9XFxcInRleHRcXFwiIHN0eWxlPVxcXCJmb250LWZhbWlseTogaW5oZXJpdDsgZm9udC1zaXplOiBpbmhlcml0OyBvdXRsaW5lOiBub25lOyAnK24raS5zdHlsZSsnXFxcIiBmaWVsZD1cXFwiJytoLmZpZWxkKydcXFwiIHJlY2lkPVxcXCInK2ErJ1xcXCIgICAgIGNvbHVtbj1cXFwiJytiKydcXFwiICcraS5pblRhZytcXFwiPlxcXCIraS5vdXRUYWcpLG51bGw9PWMmJmwuZmluZChcXFwiaW5wdXRcXFwiKS52YWwoXFxcIm9iamVjdFxcXCIhPW0/bTpcXFwiXFxcIik7dmFyIHE9bC5maW5kKFxcXCJpbnB1dFxcXCIpLmdldCgwKTskKHEpLncyZmllbGQoaS50eXBlLCQuZXh0ZW5kKGkse3NlbGVjdGVkOm19KSksc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBhPXE7XFxcImxpc3RcXFwiPT1pLnR5cGUmJihhPSQoJChxKS5kYXRhKFxcXCJ3MmZpZWxkXFxcIikuaGVscGVycy5mb2N1cykuZmluZChcXFwiaW5wdXRcXFwiKSxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIG0mJlxcXCJcXFwiIT1tJiZhLnZhbChtKS5jc3Moe29wYWNpdHk6MX0pLnByZXYoKS5jc3Moe29wYWNpdHk6MX0pKSwkKGEpLm9uKFxcXCJibHVyXFxcIixmdW5jdGlvbihhKXtlLmVkaXRDaGFuZ2UuY2FsbChlLHEsZixiLGEpfSl9LDEwKSxudWxsIT1jJiYkKHEpLnZhbChcXFwib2JqZWN0XFxcIiE9bT9tOlxcXCJcXFwiKX1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bC5maW5kKFxcXCJpbnB1dCwgc2VsZWN0XFxcIikub24oXFxcImNsaWNrXFxcIixmdW5jdGlvbihhKXthLnN0b3BQcm9wYWdhdGlvbigpfSkub24oXFxcImtleWRvd25cXFwiLGZ1bmN0aW9uKGMpe3ZhciBkPSExO3N3aXRjaChjLmtleUNvZGUpe2Nhc2UgOTpkPSEwO3ZhciBpPWEsaj1jLnNoaWZ0S2V5P2UucHJldkNlbGwoYiwhMCk6ZS5uZXh0Q2VsbChiLCEwKTtpZihudWxsPT1qKXt2YXIgaz1jLnNoaWZ0S2V5P2UucHJldlJvdyhmKTplLm5leHRSb3coZik7aWYobnVsbCE9ayYmayE9Zil7aT1lLnJlY29yZHNba10ucmVjaWQ7Zm9yKHZhciBsIGluIGUuY29sdW1ucyl7dmFyIGs9ZS5jb2x1bW5zW2xdLmVkaXRhYmxlO2lmKFxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgayYmLTE9PVtcXFwiY2hlY2tib3hcXFwiLFxcXCJjaGVja1xcXCJdLmluZGV4T2Yoay50eXBlKSYmKGo9cGFyc2VJbnQobCksIWMuc2hpZnRLZXkpKWJyZWFrfX19aT09PSExJiYoaT1hKSxudWxsPT1qJiYoaj1iKSx0aGlzLmJsdXIoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XFxcInJvd1xcXCIhPWUuc2VsZWN0VHlwZT8oZS5zZWxlY3ROb25lKCksZS5zZWxlY3Qoe3JlY2lkOmksY29sdW1uOmp9KSk6ZS5lZGl0RmllbGQoaSxqLG51bGwsYyl9LDEpO2JyZWFrO2Nhc2UgMTM6dGhpcy5ibHVyKCk7dmFyIG09Yy5zaGlmdEtleT9lLnByZXZSb3coZik6ZS5uZXh0Um93KGYpO251bGwhPW0mJm0hPWYmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtcXFwicm93XFxcIiE9ZS5zZWxlY3RUeXBlPyhlLnNlbGVjdE5vbmUoKSxlLnNlbGVjdCh7cmVjaWQ6ZS5yZWNvcmRzW21dLnJlY2lkLGNvbHVtbjpifSkpOmUuZWRpdEZpZWxkKGUucmVjb3Jkc1ttXS5yZWNpZCxiLG51bGwsYyl9LDEwMCk7YnJlYWs7Y2FzZSAzODppZighYy5zaGlmdEtleSlicmVhaztkPSEwO3ZhciBtPWUucHJldlJvdyhmKTttIT1mJiYodGhpcy5ibHVyKCksc2V0VGltZW91dChmdW5jdGlvbigpe1xcXCJyb3dcXFwiIT1lLnNlbGVjdFR5cGU/KGUuc2VsZWN0Tm9uZSgpLGUuc2VsZWN0KHtyZWNpZDplLnJlY29yZHNbbV0ucmVjaWQsY29sdW1uOmJ9KSk6ZS5lZGl0RmllbGQoZS5yZWNvcmRzW21dLnJlY2lkLGIsbnVsbCxjKX0sMSkpO2JyZWFrO2Nhc2UgNDA6aWYoIWMuc2hpZnRLZXkpYnJlYWs7ZD0hMDt2YXIgbT1lLm5leHRSb3coZik7bnVsbCE9bSYmbSE9ZiYmKHRoaXMuYmx1cigpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcXFwicm93XFxcIiE9ZS5zZWxlY3RUeXBlPyhlLnNlbGVjdE5vbmUoKSxlLnNlbGVjdCh7cmVjaWQ6ZS5yZWNvcmRzW21dLnJlY2lkLGNvbHVtbjpifSkpOmUuZWRpdEZpZWxkKGUucmVjb3Jkc1ttXS5yZWNpZCxiLG51bGwsYyl9LDEpKTticmVhaztjYXNlIDI3OnZhciBuPWUucGFyc2VGaWVsZChnLGguZmllbGQpO2cuY2hhbmdlcyYmXFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBnLmNoYW5nZXNbaC5maWVsZF0mJihuPWcuY2hhbmdlc1toLmZpZWxkXSksdGhpcy52YWx1ZT1cXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIG4/bjpcXFwiXFxcIix0aGlzLmJsdXIoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5zZWxlY3Qoe3JlY2lkOmEsY29sdW1uOmJ9KX0sMSl9ZCYmYy5wcmV2ZW50RGVmYXVsdCYmYy5wcmV2ZW50RGVmYXVsdCgpfSk7dmFyIGQ9bC5maW5kKFxcXCJpbnB1dFxcXCIpLmZvY3VzKCk7bnVsbCE9Yz9kWzBdLnNldFNlbGVjdGlvblJhbmdlKGQudmFsKCkubGVuZ3RoLGQudmFsKCkubGVuZ3RoKTpkLnNlbGVjdCgpfSwxKSxlLnRyaWdnZXIoJC5leHRlbmQoaix7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX19fSxlZGl0Q2hhbmdlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD0wPmI7Yj0wPmI/LWItMTpiO3ZhciBlPWQ/dGhpcy5zdW1tYXJ5OnRoaXMucmVjb3JkcyxmPWVbYl0sZz0kKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX3JlY19cXFwiK3cydXRpbHMuZXNjYXBlSWQoZi5yZWNpZCkpLGg9dGhpcy5jb2x1bW5zW2NdLGk9YS52YWx1ZSxqPXRoaXMucGFyc2VGaWVsZChmLGguZmllbGQpLGs9JChhKS5kYXRhKFxcXCJ3MmZpZWxkXFxcIik7ayYmKGk9ay5jbGVhbihpKSxcXFwibGlzdFxcXCI9PWsudHlwZSYmXFxcIlxcXCIhPWkmJihpPSQoYSkuZGF0YShcXFwic2VsZWN0ZWRcXFwiKSkpLFxcXCJjaGVja2JveFxcXCI9PWEudHlwZSYmKGYuZWRpdGFibGU9PT0hMSYmKGEuY2hlY2tlZD0hYS5jaGVja2VkKSxpPWEuY2hlY2tlZCk7Zm9yKHZhciBsPXtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJjaGFuZ2VcXFwiLHRhcmdldDp0aGlzLm5hbWUsaW5wdXRfaWQ6YS5pZCxyZWNpZDpmLnJlY2lkLGluZGV4OmIsY29sdW1uOmMsdmFsdWVfbmV3OmksdmFsdWVfcHJldmlvdXM6Zi5jaGFuZ2VzJiZmLmNoYW5nZXMuaGFzT3duUHJvcGVydHkoaC5maWVsZCk/Zi5jaGFuZ2VzW2guZmllbGRdOmosdmFsdWVfb3JpZ2luYWw6an07Oyl7aWYoaT1sLnZhbHVlX25ldyxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGkmJlN0cmluZyhqKSE9U3RyaW5nKGkpfHxcXFwib2JqZWN0XFxcIj09dHlwZW9mIGkmJihcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGp8fGkuaWQhPWouaWQpKXtpZihsPXRoaXMudHJpZ2dlcigkLmV4dGVuZChsLHt0eXBlOlxcXCJjaGFuZ2VcXFwiLHBoYXNlOlxcXCJiZWZvcmVcXFwifSkpLGwuaXNDYW5jZWxsZWQhPT0hMCl7aWYoaSE9PWwudmFsdWVfbmV3KWNvbnRpbnVlO2YuY2hhbmdlcz1mLmNoYW5nZXN8fHt9LGYuY2hhbmdlc1toLmZpZWxkXT1sLnZhbHVlX25ldyx0aGlzLnRyaWdnZXIoJC5leHRlbmQobCx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX19ZWxzZSBpZihsPXRoaXMudHJpZ2dlcigkLmV4dGVuZChsLHt0eXBlOlxcXCJyZXN0b3JlXFxcIixwaGFzZTpcXFwiYmVmb3JlXFxcIn0pKSxsLmlzQ2FuY2VsbGVkIT09ITApe2lmKGkhPT1sLnZhbHVlX25ldyljb250aW51ZTtmLmNoYW5nZXMmJmRlbGV0ZSBmLmNoYW5nZXNbaC5maWVsZF0sJC5pc0VtcHR5T2JqZWN0KGYuY2hhbmdlcykmJmRlbGV0ZSBmLmNoYW5nZXMsdGhpcy50cmlnZ2VyKCQuZXh0ZW5kKGwse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSl9YnJlYWt9dmFyIG09dGhpcy5nZXRDZWxsSFRNTChiLGMsZCk7ZHx8KGYuY2hhbmdlcyYmXFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBmLmNoYW5nZXNbaC5maWVsZF0/JChnKS5maW5kKFxcXCJbY29sPVxcXCIrYytcXFwiXVxcXCIpLmFkZENsYXNzKFxcXCJ3MnVpLWNoYW5nZWRcXFwiKS5odG1sKG0pOiQoZykuZmluZChcXFwiW2NvbD1cXFwiK2MrXFxcIl1cXFwiKS5yZW1vdmVDbGFzcyhcXFwidzJ1aS1jaGFuZ2VkXFxcIikuaHRtbChtKSl9LFxcXCJkZWxldGVcXFwiOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHRhcmdldDp0aGlzLm5hbWUsdHlwZTpcXFwiZGVsZXRlXFxcIixmb3JjZTphfSk7aWYoYy5pc0NhbmNlbGxlZCE9PSEwKXthPWMuZm9yY2U7dmFyIGQ9dGhpcy5nZXRTZWxlY3Rpb24oKTtpZigwIT1kLmxlbmd0aCl7aWYoXFxcIlxcXCIhPXRoaXMubXNnRGVsZXRlJiYhYSlyZXR1cm4gdm9pZCB3MmNvbmZpcm0oe3RpdGxlOncydXRpbHMubGFuZyhcXFwiRGVsZXRlIENvbmZpcm1hdGlvblxcXCIpLG1zZzpiLm1zZ0RlbGV0ZSxidG5feWVzOntcXFwiY2xhc3NcXFwiOlxcXCJ3MnVpLWJ0bi1yZWRcXFwifSxjYWxsQmFjazpmdW5jdGlvbihhKXtcXFwiWWVzXFxcIj09YSYmdzJ1aVtiLm5hbWVdW1xcXCJkZWxldGVcXFwiXSghMCl9fSk7dmFyIGU9XFxcIm9iamVjdFxcXCIhPXR5cGVvZiB0aGlzLnVybD90aGlzLnVybDp0aGlzLnVybC5yZW1vdmU7aWYoZSl0aGlzLnJlcXVlc3QoXFxcImRlbGV0ZS1yZWNvcmRzXFxcIik7ZWxzZSBpZih0aGlzLnNlbGVjdE5vbmUoKSxcXFwib2JqZWN0XFxcIiE9dHlwZW9mIGRbMF0pdGhpcy5yZW1vdmUuYXBwbHkodGhpcyxkKTtlbHNle2Zvcih2YXIgZiBpbiBkKXt2YXIgZz10aGlzLmNvbHVtbnNbZFtmXS5jb2x1bW5dLmZpZWxkLGg9dGhpcy5nZXQoZFtmXS5yZWNpZCwhMCk7bnVsbCE9aCYmXFxcInJlY2lkXFxcIiE9ZyYmKHRoaXMucmVjb3Jkc1toXVtnXT1cXFwiXFxcIix0aGlzLnJlY29yZHNbaF0uY2hhbmdlcyYmZGVsZXRlIHRoaXMucmVjb3Jkc1toXS5jaGFuZ2VzW2ddKX10aGlzLnJlZnJlc2goKX10aGlzLnRyaWdnZXIoJC5leHRlbmQoYyx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX19fSxjbGljazpmdW5jdGlvbihhLGIpe3ZhciBjPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGQ9bnVsbDtpZighKDE9PXRoaXMubGFzdC5jYW5jZWxDbGlja3x8YiYmYi5hbHRLZXkpKXtpZihcXFwib2JqZWN0XFxcIj09dHlwZW9mIGEmJihkPWEuY29sdW1uLGE9YS5yZWNpZCksXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBiJiYoYj17fSksYy1wYXJzZUludCh0aGlzLmxhc3QuY2xpY2tfdGltZSk8MzUwJiZ0aGlzLmxhc3QuY2xpY2tfcmVjaWQ9PWEmJlxcXCJjbGlja1xcXCI9PWIudHlwZSlyZXR1cm4gdm9pZCB0aGlzLmRibENsaWNrKGEsYik7aWYodGhpcy5sYXN0LmNsaWNrX3RpbWU9Yyx0aGlzLmxhc3QuY2xpY2tfcmVjaWQ9YSxudWxsPT1kJiZiLnRhcmdldCl7dmFyIGU9Yi50YXJnZXQ7XFxcIlREXFxcIiE9ZS50YWdOYW1lJiYoZT0kKGUpLnBhcmVudHMoXFxcInRkXFxcIilbMF0pLFxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgJChlKS5hdHRyKFxcXCJjb2xcXFwiKSYmKGQ9cGFyc2VJbnQoJChlKS5hdHRyKFxcXCJjb2xcXFwiKSkpfXZhciBmPXRoaXMudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdGFyZ2V0OnRoaXMubmFtZSx0eXBlOlxcXCJjbGlja1xcXCIscmVjaWQ6YSxjb2x1bW46ZCxvcmlnaW5hbEV2ZW50OmJ9KTtpZihmLmlzQ2FuY2VsbGVkIT09ITApe3ZhciBnPSQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfcmVjX1xcXCIrdzJ1dGlscy5lc2NhcGVJZChhKSkucGFyZW50cyhcXFwidHJcXFwiKTtpZihnLmxlbmd0aD4wJiYtMSE9U3RyaW5nKGcuYXR0cihcXFwiaWRcXFwiKSkuaW5kZXhPZihcXFwiZXhwYW5kZWRfcm93XFxcIikpe3ZhciBoPWcucGFyZW50cyhcXFwiLncydWktZ3JpZFxcXCIpLmF0dHIoXFxcIm5hbWVcXFwiKTt3MnVpW2hdLnNlbGVjdE5vbmUoKSxnLnBhcmVudHMoXFxcIi53MnVpLWdyaWRcXFwiKS5maW5kKFxcXCIudzJ1aS1leHBhbmRlZC1yb3cgLncydWktZ3JpZFxcXCIpLmVhY2goZnVuY3Rpb24oYSxiKXt2YXIgYz0kKGIpLmF0dHIoXFxcIm5hbWVcXFwiKTt3MnVpW2NdJiZ3MnVpW2NdLnNlbGVjdE5vbmUoKX0pfSQodGhpcy5ib3gpLmZpbmQoXFxcIi53MnVpLWV4cGFuZGVkLXJvdyAudzJ1aS1ncmlkXFxcIikuZWFjaChmdW5jdGlvbihhLGIpe3ZhciBjPSQoYikuYXR0cihcXFwibmFtZVxcXCIpO3cydWlbY10mJncydWlbY10uc2VsZWN0Tm9uZSgpfSk7dmFyIGk9dGhpcyxqPXRoaXMuZ2V0U2VsZWN0aW9uKCk7JChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9jaGVja19hbGxcXFwiKS5wcm9wKFxcXCJjaGVja2VkXFxcIiwhMSk7dmFyIGs9dGhpcy5nZXQoYSwhMCksbD0odGhpcy5yZWNvcmRzW2tdLFtdKTtpZihpLmxhc3Quc2VsX2luZD1rLGkubGFzdC5zZWxfY29sPWQsaS5sYXN0LnNlbF9yZWNpZD1hLGkubGFzdC5zZWxfdHlwZT1cXFwiY2xpY2tcXFwiLGIuc2hpZnRLZXkmJmoubGVuZ3RoPjAmJmkubXVsdGlTZWxlY3Qpe2lmKGpbMF0ucmVjaWQpe3ZhciBtPXRoaXMuZ2V0KGpbMF0ucmVjaWQsITApLG49dGhpcy5nZXQoYSwhMCk7aWYoZD5qWzBdLmNvbHVtbil2YXIgbz1qWzBdLmNvbHVtbixwPWQ7ZWxzZSB2YXIgbz1kLHA9alswXS5jb2x1bW47Zm9yKHZhciBxPW87cD49cTtxKyspbC5wdXNoKHEpfWVsc2UgdmFyIG09dGhpcy5nZXQoalswXSwhMCksbj10aGlzLmdldChhLCEwKTt2YXIgcj1bXTtpZihtPm4pe3ZhciBlPW07bT1uLG49ZX1mb3IodmFyIHM9XFxcIm9iamVjdFxcXCIhPXR5cGVvZiB0aGlzLnVybD90aGlzLnVybDp0aGlzLnVybC5nZXQsdD1tO24+PXQ7dCsrKWlmKCEodGhpcy5zZWFyY2hEYXRhLmxlbmd0aD4wKXx8c3x8LTEhPSQuaW5BcnJheSh0LHRoaXMubGFzdC5zZWFyY2hJZHMpKWlmKFxcXCJyb3dcXFwiPT10aGlzLnNlbGVjdFR5cGUpci5wdXNoKHRoaXMucmVjb3Jkc1t0XS5yZWNpZCk7ZWxzZSBmb3IodmFyIHUgaW4gbClyLnB1c2goe3JlY2lkOnRoaXMucmVjb3Jkc1t0XS5yZWNpZCxjb2x1bW46bFt1XX0pO3RoaXMuc2VsZWN0LmFwcGx5KHRoaXMscil9ZWxzZXt2YXIgdj10aGlzLmxhc3Quc2VsZWN0aW9uLHc9LTEhPXYuaW5kZXhlcy5pbmRleE9mKGspPyEwOiExOyhiLmN0cmxLZXl8fGIuc2hpZnRLZXl8fGIubWV0YUtleSkmJnRoaXMubXVsdGlTZWxlY3R8fHRoaXMuc2hvd1NlbGVjdENvbHVtbj8oXFxcInJvd1xcXCIhPXRoaXMuc2VsZWN0VHlwZSYmLTE9PSQuaW5BcnJheShkLHYuY29sdW1uc1trXSkmJih3PSExKSx3PT09ITA/dGhpcy51bnNlbGVjdCh7cmVjaWQ6YSxjb2x1bW46ZH0pOnRoaXMuc2VsZWN0KHtyZWNpZDphLGNvbHVtbjpkfSkpOihcXFwicm93XFxcIiE9dGhpcy5zZWxlY3RUeXBlJiYtMT09JC5pbkFycmF5KGQsdi5jb2x1bW5zW2tdKSYmKHc9ITEpLGoubGVuZ3RoPjMwMD90aGlzLnNlbGVjdE5vbmUoKTp0aGlzLnVuc2VsZWN0LmFwcGx5KHRoaXMsaiksdz09PSEwP3RoaXMudW5zZWxlY3Qoe3JlY2lkOmEsY29sdW1uOmR9KTp0aGlzLnNlbGVjdCh7cmVjaWQ6YSxjb2x1bW46ZH0pKX10aGlzLnN0YXR1cygpLGkuaW5pdFJlc2l6ZSgpLHRoaXMudHJpZ2dlcigkLmV4dGVuZChmLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpfX19LGNvbHVtbkNsaWNrOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJjb2x1bW5DbGlja1xcXCIsdGFyZ2V0OnRoaXMubmFtZSxmaWVsZDphLG9yaWdpbmFsRXZlbnQ6Yn0pO2lmKGMuaXNDYW5jZWxsZWQhPT0hMCl7dmFyIGQ9dGhpcy5nZXRDb2x1bW4oYSk7ZCYmZC5zb3J0YWJsZSYmdGhpcy5zb3J0KGEsbnVsbCxiJiYoYi5jdHJsS2V5fHxiLm1ldGFLZXkpPyEwOiExKSx0aGlzLnRyaWdnZXIoJC5leHRlbmQoYyx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX19LGtleWRvd246ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpeyQoXFxcIiNfdG1wX2NvcHlfZGF0YVxcXCIpLnJlbW92ZSgpLCQoZG9jdW1lbnQpLm9mZihcXFwia2V5dXBcXFwiLGIpfWZ1bmN0aW9uIGMoKXt2YXIgYT1NYXRoLmZsb29yKChoWzBdLnNjcm9sbFRvcCtoLmhlaWdodCgpLzIuMSkvZS5yZWNvcmRIZWlnaHQpO2UucmVjb3Jkc1thXXx8KGE9MCksZS5zZWxlY3Qoe3JlY2lkOmUucmVjb3Jkc1thXS5yZWNpZCxjb2x1bW46MH0pfWZ1bmN0aW9uIGQoKXtpZihcXFwiY2xpY2tcXFwiIT1lLmxhc3Quc2VsX3R5cGUpcmV0dXJuITE7aWYoXFxcInJvd1xcXCIhPWUuc2VsZWN0VHlwZSl7aWYoZS5sYXN0LnNlbF90eXBlPVxcXCJrZXlcXFwiLGkubGVuZ3RoPjEpe2Zvcih2YXIgYSBpbiBpKWlmKGlbYV0ucmVjaWQ9PWUubGFzdC5zZWxfcmVjaWQmJmlbYV0uY29sdW1uPT1lLmxhc3Quc2VsX2NvbCl7aS5zcGxpY2UoYSwxKTticmVha31yZXR1cm4gZS51bnNlbGVjdC5hcHBseShlLGkpLCEwfXJldHVybiExfXJldHVybiBlLmxhc3Quc2VsX3R5cGU9XFxcImtleVxcXCIsaS5sZW5ndGg+MT8oaS5zcGxpY2UoaS5pbmRleE9mKGUucmVjb3Jkc1tlLmxhc3Quc2VsX2luZF0ucmVjaWQpLDEpLGUudW5zZWxlY3QuYXBwbHkoZSxpKSwhMCk6ITF9dmFyIGU9dGhpcztpZihlLmtleWJvYXJkPT09ITApe3ZhciBmPWUudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwia2V5ZG93blxcXCIsdGFyZ2V0OmUubmFtZSxvcmlnaW5hbEV2ZW50OmF9KTtpZihmLmlzQ2FuY2VsbGVkIT09ITApe3ZhciBnPSExLGg9JChcXFwiI2dyaWRfXFxcIitlLm5hbWUrXFxcIl9yZWNvcmRzXFxcIiksaT1lLmdldFNlbGVjdGlvbigpOzA9PWkubGVuZ3RoJiYoZz0hMCk7dmFyIGo9aVswXXx8bnVsbCxrPVtdLGw9aVtpLmxlbmd0aC0xXTtpZihcXFwib2JqZWN0XFxcIj09dHlwZW9mIGomJm51bGwhPWope2o9aVswXS5yZWNpZCxrPVtdO2Zvcih2YXIgbT0wOzspe2lmKCFpW21dfHxpW21dLnJlY2lkIT1qKWJyZWFrO2sucHVzaChpW21dLmNvbHVtbiksbSsrfWw9aVtpLmxlbmd0aC0xXS5yZWNpZH12YXIgbj1lLmdldChqLCEwKSxvPWUuZ2V0KGwsITApLHA9ZS5nZXQoaikscT0kKFxcXCIjZ3JpZF9cXFwiK2UubmFtZStcXFwiX3JlY19cXFwiKyhudWxsIT09bj93MnV0aWxzLmVzY2FwZUlkKGUucmVjb3Jkc1tuXS5yZWNpZCk6XFxcIm5vbmVcXFwiKSkscj0hMSxzPWEua2V5Q29kZSx0PWEuc2hpZnRLZXk7c3dpdGNoKDk9PXMmJihzPWEuc2hpZnRLZXk/Mzc6MzksdD0hMSxyPSEwKSxzKXtjYXNlIDg6Y2FzZSA0Njp0aGlzLnNob3cudG9vbGJhckRlbGV0ZSYmZVtcXFwiZGVsZXRlXFxcIl0oKSxyPSEwLGEuc3RvcFByb3BhZ2F0aW9uKCk7YnJlYWs7Y2FzZSAyNzplLnNlbGVjdE5vbmUoKSxpLmxlbmd0aD4wJiZcXFwib2JqZWN0XFxcIj09dHlwZW9mIGlbMF0mJmUuc2VsZWN0KHtyZWNpZDppWzBdLnJlY2lkLGNvbHVtbjppWzBdLmNvbHVtbn0pLHI9ITA7YnJlYWs7Y2FzZSA2NTppZighYS5tZXRhS2V5JiYhYS5jdHJsS2V5KWJyZWFrO2Uuc2VsZWN0QWxsKCkscj0hMDticmVhaztjYXNlIDcwOmlmKCFhLm1ldGFLZXkmJiFhLmN0cmxLZXkpYnJlYWs7JChcXFwiI2dyaWRfXFxcIitlLm5hbWUrXFxcIl9zZWFyY2hfYWxsXFxcIikuZm9jdXMoKSxyPSEwO2JyZWFrO2Nhc2UgMTM6aWYoXFxcInJvd1xcXCI9PXRoaXMuc2VsZWN0VHlwZSYmZS5zaG93LmV4cGFuZENvbHVtbj09PSEwKXtpZihxLmxlbmd0aDw9MClicmVhaztlLnRvZ2dsZShqLGEpLHI9ITB9ZWxzZXtmb3IodmFyIHUgaW4gdGhpcy5jb2x1bW5zKWlmKHRoaXMuY29sdW1uc1t1XS5lZGl0YWJsZSl7ay5wdXNoKHBhcnNlSW50KHUpKTticmVha31cXFwicm93XFxcIj09dGhpcy5zZWxlY3RUeXBlJiZ0aGlzLmxhc3QuZWRpdF9jb2wmJihrPVt0aGlzLmxhc3QuZWRpdF9jb2xdKSxrLmxlbmd0aD4wJiYoZS5lZGl0RmllbGQoaixrWzBdLG51bGwsYSkscj0hMCl9YnJlYWs7Y2FzZSAzNzppZihnKWJyZWFrO3ZhciB2PSQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfcmVjX1xcXCIrdzJ1dGlscy5lc2NhcGVJZChlLnJlY29yZHNbbl0ucmVjaWQpKS5wYXJlbnRzKFxcXCJ0clxcXCIpO2lmKHYubGVuZ3RoPjAmJi0xIT1TdHJpbmcodi5hdHRyKFxcXCJpZFxcXCIpKS5pbmRleE9mKFxcXCJleHBhbmRlZF9yb3dcXFwiKSl7dmFyIGo9di5wcmV2KCkuYXR0cihcXFwicmVjaWRcXFwiKSx3PXYucGFyZW50cyhcXFwiLncydWktZ3JpZFxcXCIpLmF0dHIoXFxcIm5hbWVcXFwiKTtlLnNlbGVjdE5vbmUoKSx3MnV0aWxzLmtleWJvYXJkLmFjdGl2ZSh3KSx3MnVpW3ddLnNldChqLHtleHBhbmRlZDohMX0pLHcydWlbd10uY29sbGFwc2UoaiksdzJ1aVt3XS5jbGljayhqKSxyPSEwO2JyZWFrfWlmKFxcXCJyb3dcXFwiPT10aGlzLnNlbGVjdFR5cGUpe2lmKHEubGVuZ3RoPD0wfHxwLmV4cGFuZGVkIT09ITApYnJlYWs7ZS5zZXQoaix7ZXhwYW5kZWQ6ITF9LCEwKSxlLmNvbGxhcHNlKGosYSl9ZWxzZXt2YXIgeD1lLnByZXZDZWxsKGtbMF0pO2lmKG51bGwhPXgpaWYodCYmZS5tdWx0aVNlbGVjdCl7aWYoZCgpKXJldHVybjt2YXIgeT1bXSx6PVtdLEE9W107aWYoMD09ay5pbmRleE9mKHRoaXMubGFzdC5zZWxfY29sKSYmay5sZW5ndGg+MSlmb3IodmFyIEIgaW4gaSktMT09eS5pbmRleE9mKGlbQl0ucmVjaWQpJiZ5LnB1c2goaVtCXS5yZWNpZCksQS5wdXNoKHtyZWNpZDppW0JdLnJlY2lkLGNvbHVtbjprW2subGVuZ3RoLTFdfSk7ZWxzZSBmb3IodmFyIEIgaW4gaSktMT09eS5pbmRleE9mKGlbQl0ucmVjaWQpJiZ5LnB1c2goaVtCXS5yZWNpZCksei5wdXNoKHtyZWNpZDppW0JdLnJlY2lkLGNvbHVtbjp4fSk7ZS51bnNlbGVjdC5hcHBseShlLEEpLGUuc2VsZWN0LmFwcGx5KGUseil9ZWxzZSBhLnNoaWZ0S2V5PSExLGUuY2xpY2soe3JlY2lkOmosY29sdW1uOnh9LGEpO2Vsc2UgaWYoIXQpZm9yKHZhciBDPTE7QzxpLmxlbmd0aDtDKyspZS51bnNlbGVjdChpW0NdKX1yPSEwO2JyZWFrO2Nhc2UgMzk6aWYoZylicmVhaztpZihcXFwicm93XFxcIj09dGhpcy5zZWxlY3RUeXBlKXtpZihxLmxlbmd0aDw9MHx8cC5leHBhbmRlZD09PSEwfHxlLnNob3cuZXhwYW5kQ29sdW1uIT09ITApYnJlYWs7ZS5leHBhbmQoaixhKX1lbHNle3ZhciBEPWUubmV4dENlbGwoa1trLmxlbmd0aC0xXSk7aWYobnVsbCE9PUQpaWYodCYmMzk9PXMmJmUubXVsdGlTZWxlY3Qpe2lmKGQoKSlyZXR1cm47dmFyIHk9W10sej1bXSxBPVtdO2lmKGsuaW5kZXhPZih0aGlzLmxhc3Quc2VsX2NvbCk9PWsubGVuZ3RoLTEmJmsubGVuZ3RoPjEpZm9yKHZhciBCIGluIGkpLTE9PXkuaW5kZXhPZihpW0JdLnJlY2lkKSYmeS5wdXNoKGlbQl0ucmVjaWQpLEEucHVzaCh7cmVjaWQ6aVtCXS5yZWNpZCxjb2x1bW46a1swXX0pO2Vsc2UgZm9yKHZhciBCIGluIGkpLTE9PXkuaW5kZXhPZihpW0JdLnJlY2lkKSYmeS5wdXNoKGlbQl0ucmVjaWQpLHoucHVzaCh7cmVjaWQ6aVtCXS5yZWNpZCxjb2x1bW46RH0pO2UudW5zZWxlY3QuYXBwbHkoZSxBKSxlLnNlbGVjdC5hcHBseShlLHopfWVsc2UgZS5jbGljayh7cmVjaWQ6aixjb2x1bW46RH0sYSk7ZWxzZSBpZighdClmb3IodmFyIEM9MDtDPGkubGVuZ3RoLTE7QysrKWUudW5zZWxlY3QoaVtDXSl9cj0hMDticmVhaztjYXNlIDM4OmlmKGcmJmMoKSxxLmxlbmd0aDw9MClicmVhazt2YXIgeD1lLnByZXZSb3cobik7aWYobnVsbCE9eCl7aWYoZS5yZWNvcmRzW3hdLmV4cGFuZGVkKXt2YXIgRT0kKFxcXCIjZ3JpZF9cXFwiK2UubmFtZStcXFwiX3JlY19cXFwiK3cydXRpbHMuZXNjYXBlSWQoZS5yZWNvcmRzW3hdLnJlY2lkKStcXFwiX2V4cGFuZGVkX3Jvd1xcXCIpLmZpbmQoXFxcIi53MnVpLWdyaWRcXFwiKTtpZihFLmxlbmd0aD4wJiZ3MnVpW0UuYXR0cihcXFwibmFtZVxcXCIpXSl7ZS5zZWxlY3ROb25lKCk7dmFyIHc9RS5hdHRyKFxcXCJuYW1lXFxcIiksRj13MnVpW3ddLnJlY29yZHM7dzJ1dGlscy5rZXlib2FyZC5hY3RpdmUodyksdzJ1aVt3XS5jbGljayhGW0YubGVuZ3RoLTFdLnJlY2lkKSxyPSEwO2JyZWFrfX1pZih0JiZlLm11bHRpU2VsZWN0KXtpZihkKCkpcmV0dXJuO2lmKFxcXCJyb3dcXFwiPT1lLnNlbGVjdFR5cGUpZS5sYXN0LnNlbF9pbmQ+eCYmZS5sYXN0LnNlbF9pbmQhPW8/ZS51bnNlbGVjdChlLnJlY29yZHNbb10ucmVjaWQpOmUuc2VsZWN0KGUucmVjb3Jkc1t4XS5yZWNpZCk7ZWxzZSBpZihlLmxhc3Quc2VsX2luZD54JiZlLmxhc3Quc2VsX2luZCE9byl7eD1vO3ZhciB5PVtdO2Zvcih2YXIgdSBpbiBrKXkucHVzaCh7cmVjaWQ6ZS5yZWNvcmRzW3hdLnJlY2lkLGNvbHVtbjprW3VdfSk7ZS51bnNlbGVjdC5hcHBseShlLHkpfWVsc2V7dmFyIHk9W107Zm9yKHZhciB1IGluIGspeS5wdXNoKHtyZWNpZDplLnJlY29yZHNbeF0ucmVjaWQsY29sdW1uOmtbdV19KTtlLnNlbGVjdC5hcHBseShlLHkpfX1lbHNlIGkubGVuZ3RoPjMwMD90aGlzLnNlbGVjdE5vbmUoKTp0aGlzLnVuc2VsZWN0LmFwcGx5KHRoaXMsaSksZS5jbGljayh7cmVjaWQ6ZS5yZWNvcmRzW3hdLnJlY2lkLGNvbHVtbjprWzBdfSxhKTtlLnNjcm9sbEludG9WaWV3KHgpLGEucHJldmVudERlZmF1bHQmJmEucHJldmVudERlZmF1bHQoKX1lbHNle2lmKCF0KWZvcih2YXIgQz0xO0M8aS5sZW5ndGg7QysrKWUudW5zZWxlY3QoaVtDXSk7dmFyIHY9JChcXFwiI2dyaWRfXFxcIitlLm5hbWUrXFxcIl9yZWNfXFxcIit3MnV0aWxzLmVzY2FwZUlkKGUucmVjb3Jkc1tuXS5yZWNpZCkpLnBhcmVudHMoXFxcInRyXFxcIik7aWYodi5sZW5ndGg+MCYmLTEhPVN0cmluZyh2LmF0dHIoXFxcImlkXFxcIikpLmluZGV4T2YoXFxcImV4cGFuZGVkX3Jvd1xcXCIpKXt2YXIgaj12LnByZXYoKS5hdHRyKFxcXCJyZWNpZFxcXCIpLHc9di5wYXJlbnRzKFxcXCIudzJ1aS1ncmlkXFxcIikuYXR0cihcXFwibmFtZVxcXCIpO2Uuc2VsZWN0Tm9uZSgpLHcydXRpbHMua2V5Ym9hcmQuYWN0aXZlKHcpLHcydWlbd10uY2xpY2soaikscj0hMDticmVha319YnJlYWs7Y2FzZSA0MDppZihnJiZjKCkscS5sZW5ndGg8PTApYnJlYWs7aWYoZS5yZWNvcmRzW29dLmV4cGFuZGVkKXt2YXIgRT0kKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX3JlY19cXFwiK3cydXRpbHMuZXNjYXBlSWQoZS5yZWNvcmRzW29dLnJlY2lkKStcXFwiX2V4cGFuZGVkX3Jvd1xcXCIpLmZpbmQoXFxcIi53MnVpLWdyaWRcXFwiKTtpZihFLmxlbmd0aD4wJiZ3MnVpW0UuYXR0cihcXFwibmFtZVxcXCIpXSl7ZS5zZWxlY3ROb25lKCk7dmFyIHc9RS5hdHRyKFxcXCJuYW1lXFxcIiksRj13MnVpW3ddLnJlY29yZHM7dzJ1dGlscy5rZXlib2FyZC5hY3RpdmUodyksdzJ1aVt3XS5jbGljayhGWzBdLnJlY2lkKSxyPSEwO2JyZWFrfX12YXIgRD1lLm5leHRSb3cobyk7aWYobnVsbCE9RCl7aWYodCYmZS5tdWx0aVNlbGVjdCl7aWYoZCgpKXJldHVybjtpZihcXFwicm93XFxcIj09ZS5zZWxlY3RUeXBlKXRoaXMubGFzdC5zZWxfaW5kPEQmJnRoaXMubGFzdC5zZWxfaW5kIT1uP2UudW5zZWxlY3QoZS5yZWNvcmRzW25dLnJlY2lkKTplLnNlbGVjdChlLnJlY29yZHNbRF0ucmVjaWQpO2Vsc2UgaWYodGhpcy5sYXN0LnNlbF9pbmQ8RCYmdGhpcy5sYXN0LnNlbF9pbmQhPW4pe0Q9bjt2YXIgeT1bXTtmb3IodmFyIHUgaW4gayl5LnB1c2goe3JlY2lkOmUucmVjb3Jkc1tEXS5yZWNpZCxjb2x1bW46a1t1XX0pO2UudW5zZWxlY3QuYXBwbHkoZSx5KX1lbHNle3ZhciB5PVtdO2Zvcih2YXIgdSBpbiBrKXkucHVzaCh7cmVjaWQ6ZS5yZWNvcmRzW0RdLnJlY2lkLGNvbHVtbjprW3VdfSk7ZS5zZWxlY3QuYXBwbHkoZSx5KX19ZWxzZSBpLmxlbmd0aD4zMDA/dGhpcy5zZWxlY3ROb25lKCk6dGhpcy51bnNlbGVjdC5hcHBseSh0aGlzLGkpLGUuY2xpY2soe3JlY2lkOmUucmVjb3Jkc1tEXS5yZWNpZCxjb2x1bW46a1swXX0sYSk7ZS5zY3JvbGxJbnRvVmlldyhEKSxyPSEwfWVsc2V7aWYoIXQpZm9yKHZhciBDPTA7QzxpLmxlbmd0aC0xO0MrKyllLnVuc2VsZWN0KGlbQ10pO3ZhciB2PSQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfcmVjX1xcXCIrdzJ1dGlscy5lc2NhcGVJZChlLnJlY29yZHNbb10ucmVjaWQpKS5wYXJlbnRzKFxcXCJ0clxcXCIpO2lmKHYubGVuZ3RoPjAmJi0xIT1TdHJpbmcodi5hdHRyKFxcXCJpZFxcXCIpKS5pbmRleE9mKFxcXCJleHBhbmRlZF9yb3dcXFwiKSl7dmFyIGo9di5uZXh0KCkuYXR0cihcXFwicmVjaWRcXFwiKSx3PXYucGFyZW50cyhcXFwiLncydWktZ3JpZFxcXCIpLmF0dHIoXFxcIm5hbWVcXFwiKTtlLnNlbGVjdE5vbmUoKSx3MnV0aWxzLmtleWJvYXJkLmFjdGl2ZSh3KSx3MnVpW3ddLmNsaWNrKGopLHI9ITA7YnJlYWt9fWJyZWFrO2Nhc2UgMTc6Y2FzZSA5MTppZihnKWJyZWFrO3ZhciBHPWUuY29weSgpOyQoXFxcImJvZHlcXFwiKS5hcHBlbmQoJzx0ZXh0YXJlYSBpZD1cXFwiX3RtcF9jb3B5X2RhdGFcXFwiICAgIG9ucGFzdGU9XFxcInZhciBvYmogPSB0aGlzOyBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgdzJ1aVtcXFxcJycrZS5uYW1lK1xcXCInXS5wYXN0ZShvYmoudmFsdWUpOyB9LCAxKTtcXFxcXFxcIiAgICBvbmtleWRvd249XFxcXFxcXCJ3MnVpWydcXFwiK2UubmFtZSsnXFxcXCddLmtleWRvd24oZXZlbnQpXFxcIiAgIHN0eWxlPVxcXCJwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogLTEwMHB4OyBoZWlnaHQ6IDFweDsgd2lkdGg6IDFweFxcXCI+JytHK1xcXCI8L3RleHRhcmVhPlxcXCIpLCQoXFxcIiNfdG1wX2NvcHlfZGF0YVxcXCIpLmZvY3VzKCkuc2VsZWN0KCksJChkb2N1bWVudCkub24oXFxcImtleXVwXFxcIixiKTticmVhaztjYXNlIDg4OmlmKGcpYnJlYWs7KGEuY3RybEtleXx8YS5tZXRhS2V5KSYmc2V0VGltZW91dChmdW5jdGlvbigpe2VbXFxcImRlbGV0ZVxcXCJdKCEwKX0sMTAwKX1mb3IodmFyIHk9WzE4NywxODksMzJdLEI9NDg7OTA+PUI7QisrKXkucHVzaChCKTtpZigtMSE9eS5pbmRleE9mKHMpJiYhYS5jdHJsS2V5JiYhYS5tZXRhS2V5JiYhcil7MD09ay5sZW5ndGgmJmsucHVzaCgwKTt2YXIgeT1TdHJpbmcuZnJvbUNoYXJDb2RlKHMpOzE4Nz09cyYmKHk9XFxcIj1cXFwiKSwxODk9PXMmJih5PVxcXCItXFxcIiksdHx8KHk9eS50b0xvd2VyQ2FzZSgpKSxlLmVkaXRGaWVsZChqLGtbMF0seSxhKSxyPSEwfXImJmEucHJldmVudERlZmF1bHQmJmEucHJldmVudERlZmF1bHQoKSxlLnRyaWdnZXIoJC5leHRlbmQoZix7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX19fSxzY3JvbGxJbnRvVmlldzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnJlY29yZHMubGVuZ3RoLGM9XFxcIm9iamVjdFxcXCIhPXR5cGVvZiB0aGlzLnVybD90aGlzLnVybDp0aGlzLnVybC5nZXQ7aWYoMD09dGhpcy5zZWFyY2hEYXRhLmxlbmd0aHx8Y3x8KGI9dGhpcy5sYXN0LnNlYXJjaElkcy5sZW5ndGgpLFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgYSl7dmFyIGQ9dGhpcy5nZXRTZWxlY3Rpb24oKTtpZigwPT1kLmxlbmd0aClyZXR1cm47YT10aGlzLmdldChkWzBdLCEwKX12YXIgZT0kKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX3JlY29yZHNcXFwiKTtpZigwIT1iKXt2YXIgZj10aGlzLmxhc3Quc2VhcmNoSWRzLmxlbmd0aDtpZighKGUuaGVpZ2h0KCk+dGhpcy5yZWNvcmRIZWlnaHQqKGY+MD9mOmIpKSl7Zj4wJiYoYT10aGlzLmxhc3Quc2VhcmNoSWRzLmluZGV4T2YoYSkpO3ZhciBnPU1hdGguZmxvb3IoZVswXS5zY3JvbGxUb3AvdGhpcy5yZWNvcmRIZWlnaHQpLGg9ZytNYXRoLmZsb29yKGUuaGVpZ2h0KCkvdGhpcy5yZWNvcmRIZWlnaHQpO2E9PWcmJmUuYW5pbWF0ZSh7c2Nyb2xsVG9wOmUuc2Nyb2xsVG9wKCktZS5oZWlnaHQoKS8xLjN9LDI1MCxcXFwibGluZWFyXFxcIiksYT09aCYmZS5hbmltYXRlKHtzY3JvbGxUb3A6ZS5zY3JvbGxUb3AoKStlLmhlaWdodCgpLzEuM30sMjUwLFxcXCJsaW5lYXJcXFwiKSwoZz5hfHxhPmgpJiZlLmFuaW1hdGUoe3Njcm9sbFRvcDooYS0xKSp0aGlzLnJlY29yZEhlaWdodH0pfX19LGRibENsaWNrOmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbDtpZihcXFwib2JqZWN0XFxcIj09dHlwZW9mIGEmJihjPWEuY29sdW1uLGE9YS5yZWNpZCksXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBiJiYoYj17fSksbnVsbD09YyYmYi50YXJnZXQpe3ZhciBkPWIudGFyZ2V0O1xcXCJURFxcXCIhPWQudGFnTmFtZSYmKGQ9JChkKS5wYXJlbnRzKFxcXCJ0ZFxcXCIpWzBdKSxjPXBhcnNlSW50KCQoZCkuYXR0cihcXFwiY29sXFxcIikpfXZhciBlPXRoaXMudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdGFyZ2V0OnRoaXMubmFtZSx0eXBlOlxcXCJkYmxDbGlja1xcXCIscmVjaWQ6YSxjb2x1bW46YyxvcmlnaW5hbEV2ZW50OmJ9KTtpZihlLmlzQ2FuY2VsbGVkIT09ITApe3RoaXMuc2VsZWN0Tm9uZSgpO3ZhciBmPXRoaXMuY29sdW1uc1tjXTtmJiYkLmlzUGxhaW5PYmplY3QoZi5lZGl0YWJsZSk/dGhpcy5lZGl0RmllbGQoYSxjLG51bGwsYik6dGhpcy5zZWxlY3Qoe3JlY2lkOmEsY29sdW1uOmN9KSx0aGlzLnRyaWdnZXIoJC5leHRlbmQoZSx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX19LGNvbnRleHRNZW51OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztcXFwidGV4dFxcXCIhPWMubGFzdC51c2VyU2VsZWN0JiYoXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBiJiYoYj17b2Zmc2V0WDowLG9mZnNldFk6MCx0YXJnZXQ6JChcXFwiI2dyaWRfXFxcIitjLm5hbWUrXFxcIl9yZWNfXFxcIithKVswXX0pLFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgYi5vZmZzZXRYJiYoYi5vZmZzZXRYPWIubGF5ZXJYLWIudGFyZ2V0Lm9mZnNldExlZnQsYi5vZmZzZXRZPWIubGF5ZXJZLWIudGFyZ2V0Lm9mZnNldFRvcCksdzJ1dGlscy5pc0Zsb2F0KGEpJiYoYT1wYXJzZUZsb2F0KGEpKSwtMT09dGhpcy5nZXRTZWxlY3Rpb24oKS5pbmRleE9mKGEpJiZjLmNsaWNrKGEpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgZD1jLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcImNvbnRleHRNZW51XFxcIix0YXJnZXQ6Yy5uYW1lLG9yaWdpbmFsRXZlbnQ6YixyZWNpZDphfSk7ZC5pc0NhbmNlbGxlZCE9PSEwJiYoYy5tZW51Lmxlbmd0aD4wJiYkKGMuYm94KS5maW5kKGIudGFyZ2V0KS53Mm1lbnUoYy5tZW51LHtsZWZ0OmIub2Zmc2V0WCxvblNlbGVjdDpmdW5jdGlvbihiKXtjLm1lbnVDbGljayhhLHBhcnNlSW50KGIuaW5kZXgpLGIub3JpZ2luYWxFdmVudCl9fSksYy50cmlnZ2VyKCQuZXh0ZW5kKGQse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSkpfSwxNTApLGIucHJldmVudERlZmF1bHQmJmIucHJldmVudERlZmF1bHQoKSl9LG1lbnVDbGljazpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcyxlPWQudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwibWVudUNsaWNrXFxcIix0YXJnZXQ6ZC5uYW1lLG9yaWdpbmFsRXZlbnQ6YyxyZWNpZDphLG1lbnVJbmRleDpiLG1lbnVJdGVtOmQubWVudVtiXX0pO2UuaXNDYW5jZWxsZWQhPT0hMCYmZC50cmlnZ2VyKCQuZXh0ZW5kKGUse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSl9LHRvZ2dsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldChhKTtyZXR1cm4gYi5leHBhbmRlZD09PSEwP3RoaXMuY29sbGFwc2UoYSk6dGhpcy5leHBhbmQoYSl9LGV4cGFuZDpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7dmFyIGI9JChcXFwiI2dyaWRfXFxcIitkLm5hbWUrXFxcIl9yZWNfXFxcIitlK1xcXCJfZXhwYW5kZWRcXFwiKSxjPSQoXFxcIiNncmlkX1xcXCIrZC5uYW1lK1xcXCJfcmVjX1xcXCIrZStcXFwiX2V4cGFuZGVkX3JvdyAudzJ1aS1leHBhbmRlZDEgPiBkaXZcXFwiKTtiLmhlaWdodCgpPDV8fChiLmNzcyhcXFwib3BhY2l0eVxcXCIsMSksYy5zaG93KCkuY3NzKFxcXCJvcGFjaXR5XFxcIiwxKSwkKFxcXCIjZ3JpZF9cXFwiK2QubmFtZStcXFwiX2NlbGxfXFxcIitkLmdldChhLCEwKStcXFwiX2V4cGFuZCBkaXZcXFwiKS5odG1sKFxcXCItXFxcIikpfXZhciBjPXRoaXMuZ2V0KGEpLGQ9dGhpcyxlPXcydXRpbHMuZXNjYXBlSWQoYSk7aWYoJChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9yZWNfXFxcIitlK1xcXCJfZXhwYW5kZWRfcm93XFxcIikubGVuZ3RoPjApcmV0dXJuITE7aWYoXFxcIm5vbmVcXFwiPT1jLmV4cGFuZGVkKXJldHVybiExO3ZhciBmPTErKHRoaXMuc2hvdy5zZWxlY3RDb2x1bW4/MTowKSxnPVxcXCJcXFwiOyQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfcmVjX1xcXCIrZSkuYWZ0ZXIoJzx0ciBpZD1cXFwiZ3JpZF8nK3RoaXMubmFtZStcXFwiX3JlY19cXFwiK2ErJ19leHBhbmRlZF9yb3dcXFwiIGNsYXNzPVxcXCJ3MnVpLWV4cGFuZGVkLXJvdyAnK2crJ1xcXCI+JysodGhpcy5zaG93LmxpbmVOdW1iZXJzPyc8dGQgY2xhc3M9XFxcIncydWktY29sLW51bWJlclxcXCI+PC90ZD4nOlxcXCJcXFwiKSsnICAgIDx0ZCBjbGFzcz1cXFwidzJ1aS1ncmlkLWRhdGEgdzJ1aS1leHBhbmRlZDFcXFwiIGNvbHNwYW49XFxcIicrZisnXFxcIj48ZGl2IHN0eWxlPVxcXCJkaXNwbGF5OiBub25lXFxcIj48L2Rpdj48L3RkPiAgICA8dGQgY29sc3Bhbj1cXFwiMTAwXFxcIiBjbGFzcz1cXFwidzJ1aS1leHBhbmRlZDJcXFwiPiAgICAgICAgPGRpdiBpZD1cXFwiZ3JpZF8nK3RoaXMubmFtZStcXFwiX3JlY19cXFwiK2ErJ19leHBhbmRlZFxcXCIgc3R5bGU9XFxcIm9wYWNpdHk6IDBcXFwiPjwvZGl2PiAgICA8L3RkPjwvdHI+Jyk7dmFyIGg9dGhpcy50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJleHBhbmRcXFwiLHRhcmdldDp0aGlzLm5hbWUscmVjaWQ6YSxib3hfaWQ6XFxcImdyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9yZWNfXFxcIithK1xcXCJfZXhwYW5kZWRcXFwiLHJlYWR5OmJ9KTtyZXR1cm4gaC5pc0NhbmNlbGxlZD09PSEwP3ZvaWQgJChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9yZWNfXFxcIitlK1xcXCJfZXhwYW5kZWRfcm93XFxcIikucmVtb3ZlKCk6KCQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfcmVjX1xcXCIrZSkuYXR0cihcXFwiZXhwYW5kZWRcXFwiLFxcXCJ5ZXNcXFwiKS5hZGRDbGFzcyhcXFwidzJ1aS1leHBhbmRlZFxcXCIpLCQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfcmVjX1xcXCIrZStcXFwiX2V4cGFuZGVkX3Jvd1xcXCIpLnNob3coKSwkKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX2NlbGxfXFxcIit0aGlzLmdldChhLCEwKStcXFwiX2V4cGFuZCBkaXZcXFwiKS5odG1sKCc8ZGl2IGNsYXNzPVxcXCJ3MnVpLXNwaW5uZXJcXFwiIHN0eWxlPVxcXCJ3aWR0aDogMTZweDsgaGVpZ2h0OiAxNnB4OyBtYXJnaW46IC0ycHggMnB4O1xcXCI+PC9kaXY+JyksYy5leHBhbmRlZD0hMCxzZXRUaW1lb3V0KGIsMzAwKSx0aGlzLnRyaWdnZXIoJC5leHRlbmQoaCx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKSx0aGlzLnJlc2l6ZVJlY29yZHMoKSwhMCl9LGNvbGxhcHNlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0KGEpLGM9dGhpcyxkPXcydXRpbHMuZXNjYXBlSWQoYSk7aWYoMD09JChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9yZWNfXFxcIitkK1xcXCJfZXhwYW5kZWRfcm93XFxcIikubGVuZ3RoKXJldHVybiExO3ZhciBlPXRoaXMudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwiY29sbGFwc2VcXFwiLHRhcmdldDp0aGlzLm5hbWUscmVjaWQ6YSxib3hfaWQ6XFxcImdyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9yZWNfXFxcIitkK1xcXCJfZXhwYW5kZWRcXFwifSk7cmV0dXJuIGUuaXNDYW5jZWxsZWQhPT0hMD8oJChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9yZWNfXFxcIitkKS5yZW1vdmVBdHRyKFxcXCJleHBhbmRlZFxcXCIpLnJlbW92ZUNsYXNzKFxcXCJ3MnVpLWV4cGFuZGVkXFxcIiksJChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9yZWNfXFxcIitkK1xcXCJfZXhwYW5kZWRcXFwiKS5jc3MoXFxcIm9wYWNpdHlcXFwiLDApLCQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfY2VsbF9cXFwiK3RoaXMuZ2V0KGEsITApK1xcXCJfZXhwYW5kIGRpdlxcXCIpLmh0bWwoXFxcIitcXFwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JChcXFwiI2dyaWRfXFxcIitjLm5hbWUrXFxcIl9yZWNfXFxcIitkK1xcXCJfZXhwYW5kZWRcXFwiKS5oZWlnaHQoXFxcIjBweFxcXCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXskKFxcXCIjZ3JpZF9cXFwiK2MubmFtZStcXFwiX3JlY19cXFwiK2QrXFxcIl9leHBhbmRlZF9yb3dcXFwiKS5yZW1vdmUoKSxkZWxldGUgYi5leHBhbmRlZCxjLnRyaWdnZXIoJC5leHRlbmQoZSx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKSxjLnJlc2l6ZVJlY29yZHMoKX0sMzAwKX0sMjAwKSwhMCk6dm9pZCAwfSxzb3J0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcInNvcnRcXFwiLHRhcmdldDp0aGlzLm5hbWUsZmllbGQ6YSxkaXJlY3Rpb246YixtdWx0aUZpZWxkOmN9KTtpZihkLmlzQ2FuY2VsbGVkIT09ITApe2lmKFxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgYSl7dmFyIGU9dGhpcy5zb3J0RGF0YS5sZW5ndGg7Zm9yKHZhciBmIGluIHRoaXMuc29ydERhdGEpaWYodGhpcy5zb3J0RGF0YVtmXS5maWVsZD09YSl7ZT1mO2JyZWFrfWlmKFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgYnx8bnVsbD09YilpZihcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIHRoaXMuc29ydERhdGFbZV0pYj1cXFwiYXNjXFxcIjtlbHNlIHN3aXRjaChTdHJpbmcodGhpcy5zb3J0RGF0YVtlXS5kaXJlY3Rpb24pKXtjYXNlXFxcImFzY1xcXCI6Yj1cXFwiZGVzY1xcXCI7YnJlYWs7Y2FzZVxcXCJkZXNjXFxcIjpiPVxcXCJhc2NcXFwiO2JyZWFrO2RlZmF1bHQ6Yj1cXFwiYXNjXFxcIn10aGlzLm11bHRpU29ydD09PSExJiYodGhpcy5zb3J0RGF0YT1bXSxlPTApLDEhPWMmJih0aGlzLnNvcnREYXRhPVtdLGU9MCksXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiB0aGlzLnNvcnREYXRhW2VdJiYodGhpcy5zb3J0RGF0YVtlXT17fSksdGhpcy5zb3J0RGF0YVtlXS5maWVsZD1hLHRoaXMuc29ydERhdGFbZV0uZGlyZWN0aW9uPWJ9ZWxzZSB0aGlzLnNvcnREYXRhPVtdO3RoaXMuc2VsZWN0Tm9uZSgpO3ZhciBnPVxcXCJvYmplY3RcXFwiIT10eXBlb2YgdGhpcy51cmw/dGhpcy51cmw6dGhpcy51cmwuZ2V0O2c/KHRoaXMudHJpZ2dlcigkLmV4dGVuZChkLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpLHRoaXMubGFzdC54aHJfb2Zmc2V0PTAsdGhpcy5yZWxvYWQoKSk6KHRoaXMubG9jYWxTb3J0KCksdGhpcy5zZWFyY2hEYXRhLmxlbmd0aD4wJiZ0aGlzLmxvY2FsU2VhcmNoKCEwKSx0aGlzLnRyaWdnZXIoJC5leHRlbmQoZCx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKSx0aGlzLnJlZnJlc2goKSl9fSxjb3B5OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRTZWxlY3Rpb24oKTtpZigwPT1hLmxlbmd0aClyZXR1cm5cXFwiXFxcIjt2YXIgYj1cXFwiXFxcIjtpZihcXFwib2JqZWN0XFxcIj09dHlwZW9mIGFbMF0pe3ZhciBjPWFbMF0uY29sdW1uLGQ9YVswXS5jb2x1bW4sZT1bXTtmb3IodmFyIGYgaW4gYSlhW2ZdLmNvbHVtbjxjJiYoYz1hW2ZdLmNvbHVtbiksYVtmXS5jb2x1bW4+ZCYmKGQ9YVtmXS5jb2x1bW4pLC0xPT1lLmluZGV4T2YoYVtmXS5pbmRleCkmJmUucHVzaChhW2ZdLmluZGV4KTtmb3IodmFyIGcgaW4gZSl7Zm9yKHZhciBoPWVbZ10saT1jO2Q+PWk7aSsrKXt2YXIgaj10aGlzLmNvbHVtbnNbaV07ai5oaWRkZW4hPT0hMCYmKGIrPXcydXRpbHMuc3RyaXBUYWdzKHRoaXMuZ2V0Q2VsbEhUTUwoaCxpKSkrXFxcIlxcdFxcXCIpfWI9Yi5zdWJzdHIoMCxiLmxlbmd0aC0xKSxiKz1cXFwiXFxcXG5cXFwifX1lbHNle2Zvcih2YXIgaSBpbiB0aGlzLmNvbHVtbnMpe3ZhciBqPXRoaXMuY29sdW1uc1tpXTtqLmhpZGRlbiE9PSEwJiYoYis9J1xcXCInK3cydXRpbHMuc3RyaXBUYWdzKGouY2FwdGlvbj9qLmNhcHRpb246ai5maWVsZCkrJ1xcXCJcXHQnKX1iPWIuc3Vic3RyKDAsYi5sZW5ndGgtMSksYis9XFxcIlxcXFxuXFxcIjtmb3IodmFyIGYgaW4gYSl7dmFyIGg9dGhpcy5nZXQoYVtmXSwhMCk7Zm9yKHZhciBpIGluIHRoaXMuY29sdW1ucyl7dmFyIGo9dGhpcy5jb2x1bW5zW2ldO2ouaGlkZGVuIT09ITAmJihiKz0nXFxcIicrdzJ1dGlscy5zdHJpcFRhZ3ModGhpcy5nZXRDZWxsSFRNTChoLGkpKSsnXFxcIlxcdCcpfWI9Yi5zdWJzdHIoMCxiLmxlbmd0aC0xKSxiKz1cXFwiXFxcXG5cXFwifX1iPWIuc3Vic3RyKDAsYi5sZW5ndGgtMSk7dmFyIGs9dGhpcy50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJjb3B5XFxcIix0YXJnZXQ6dGhpcy5uYW1lLHRleHQ6Yn0pO3JldHVybiBrLmlzQ2FuY2VsbGVkPT09ITA/XFxcIlxcXCI6KGI9ay50ZXh0LHRoaXMudHJpZ2dlcigkLmV4dGVuZChrLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpLGIpfSxwYXN0ZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFNlbGVjdGlvbigpLGM9dGhpcy5nZXQoYlswXS5yZWNpZCwhMCksZD1iWzBdLmNvbHVtbixlPXRoaXMudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwicGFzdGVcXFwiLHRhcmdldDp0aGlzLm5hbWUsdGV4dDphLGluZGV4OmMsY29sdW1uOmR9KTtpZihlLmlzQ2FuY2VsbGVkIT09ITApe2lmKGE9ZS50ZXh0LFxcXCJyb3dcXFwiPT10aGlzLnNlbGVjdFR5cGV8fDA9PWIubGVuZ3RoKXJldHVybiBjb25zb2xlLmxvZyhcXFwiRVJST1I6IFlvdSBjYW4gcGFzdGUgb25seSBpZiBncmlkLnNlbGVjdFR5cGUgPSAnY2VsbCcgYW5kIHdoZW4gYXQgbGVhc3Qgb25lIGNlbGwgc2VsZWN0ZWQuXFxcIiksdm9pZCB0aGlzLnRyaWdnZXIoJC5leHRlbmQoZSx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKTt2YXIgZj1bXSxhPWEuc3BsaXQoXFxcIlxcXFxuXFxcIik7Zm9yKHZhciBnIGluIGEpe3ZhciBoPWFbZ10uc3BsaXQoXFxcIlxcdFxcXCIpLGk9MCxqPXRoaXMucmVjb3Jkc1tjXSxrPVtdO2Zvcih2YXIgbCBpbiBoKWlmKHRoaXMuY29sdW1uc1tkK2ldKXt2YXIgbT10aGlzLmNvbHVtbnNbZCtpXS5maWVsZDtqLmNoYW5nZXM9ai5jaGFuZ2VzfHx7fSxqLmNoYW5nZXNbbV09aFtsXSxrLnB1c2goZCtpKSxpKyt9Zm9yKHZhciBuIGluIGspZi5wdXNoKHtyZWNpZDpqLnJlY2lkLGNvbHVtbjprW25dfSk7YysrfXRoaXMuc2VsZWN0Tm9uZSgpLHRoaXMuc2VsZWN0LmFwcGx5KHRoaXMsZiksdGhpcy5yZWZyZXNoKCksdGhpcy50cmlnZ2VyKCQuZXh0ZW5kKGUse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSl9fSxyZXNpemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9KG5ldyBEYXRlKS5nZXRUaW1lKCk7aWYodGhpcy5ib3gmJiQodGhpcy5ib3gpLmF0dHIoXFxcIm5hbWVcXFwiKT09dGhpcy5uYW1lKXskKHRoaXMuYm94KS5maW5kKFxcXCI+IGRpdlxcXCIpLmNzcyhcXFwid2lkdGhcXFwiLCQodGhpcy5ib3gpLndpZHRoKCkpLmNzcyhcXFwiaGVpZ2h0XFxcIiwkKHRoaXMuYm94KS5oZWlnaHQoKSk7dmFyIGM9dGhpcy50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJyZXNpemVcXFwiLHRhcmdldDp0aGlzLm5hbWV9KTtpZihjLmlzQ2FuY2VsbGVkIT09ITApcmV0dXJuIGEucmVzaXplQm94ZXMoKSxhLnJlc2l6ZVJlY29yZHMoKSx0aGlzLnRyaWdnZXIoJC5leHRlbmQoYyx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKSwobmV3IERhdGUpLmdldFRpbWUoKS1ifX0scmVmcmVzaENlbGw6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldChhLCEwKSxkPXRoaXMucmVjb3Jkc1tjXSYmdGhpcy5yZWNvcmRzW2NdLnJlY2lkPT1hPyExOiEwLGU9dGhpcy5nZXRDb2x1bW4oYiwhMCksZj1kP3RoaXMuc3VtbWFyeVtjXTp0aGlzLnJlY29yZHNbY10sZz10aGlzLmNvbHVtbnNbZV0saD0kKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX3JlY19cXFwiK2ErXFxcIiBbY29sPVxcXCIrZStcXFwiXVxcXCIpO2guaHRtbCh0aGlzLmdldENlbGxIVE1MKGMsZSxkKSksZi5jaGFuZ2VzJiZcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGYuY2hhbmdlc1tnLmZpZWxkXT9oLmFkZENsYXNzKFxcXCJ3MnVpLWNoYW5nZWRcXFwiKTpoLnJlbW92ZUNsYXNzKFxcXCJ3MnVpLWNoYW5nZWRcXFwiKX0scmVmcmVzaFJvdzpmdW5jdGlvbihhKXt2YXIgYj0kKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX3JlY19cXFwiK3cydXRpbHMuZXNjYXBlSWQoYSkpO2lmKDAhPWIubGVuZ3RoKXt2YXIgYz10aGlzLmdldChhLCEwKSxkPWIuYXR0cihcXFwibGluZVxcXCIpLGU9dGhpcy5yZWNvcmRzW2NdJiZ0aGlzLnJlY29yZHNbY10ucmVjaWQ9PWE/ITE6ITAsZj1cXFwib2JqZWN0XFxcIiE9dHlwZW9mIHRoaXMudXJsP3RoaXMudXJsOnRoaXMudXJsLmdldDtpZih0aGlzLnNlYXJjaERhdGEubGVuZ3RoPjAmJiFmKWZvcih2YXIgZyBpbiB0aGlzLmxhc3Quc2VhcmNoSWRzKXRoaXMubGFzdC5zZWFyY2hJZHNbZ109PWMmJihjPWcpOyQoYikucmVwbGFjZVdpdGgodGhpcy5nZXRSZWNvcmRIVE1MKGMsZCxlKSksZSYmdGhpcy5yZXNpemUoKX19LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9KG5ldyBEYXRlKS5nZXRUaW1lKCksYz1cXFwib2JqZWN0XFxcIiE9dHlwZW9mIHRoaXMudXJsP3RoaXMudXJsOnRoaXMudXJsLmdldDtpZih0aGlzLnRvdGFsPD0wJiYhYyYmMD09dGhpcy5zZWFyY2hEYXRhLmxlbmd0aCYmKHRoaXMudG90YWw9dGhpcy5yZWNvcmRzLmxlbmd0aCksdGhpcy50b29sYmFyLmRpc2FibGUoXFxcIncydWktZWRpdFxcXCIsXFxcIncydWktZGVsZXRlXFxcIiksdGhpcy5ib3gpe3ZhciBkPXRoaXMudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdGFyZ2V0OnRoaXMubmFtZSx0eXBlOlxcXCJyZWZyZXNoXFxcIn0pO2lmKGQuaXNDYW5jZWxsZWQhPT0hMCl7aWYodGhpcy5zaG93LmhlYWRlcj8kKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX2hlYWRlclxcXCIpLmh0bWwodGhpcy5oZWFkZXIrXFxcIiZuYnNwO1xcXCIpLnNob3coKTokKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX2hlYWRlclxcXCIpLmhpZGUoKSx0aGlzLnNob3cudG9vbGJhcil7aWYodGhpcy50b29sYmFyJiZ0aGlzLnRvb2xiYXIuZ2V0KFxcXCJ3MnVpLWNvbHVtbi1vbi1vZmZcXFwiKSYmdGhpcy50b29sYmFyLmdldChcXFwidzJ1aS1jb2x1bW4tb24tb2ZmXFxcIikuY2hlY2tlZCk7ZWxzZSBpZigkKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX3Rvb2xiYXJcXFwiKS5zaG93KCksXFxcIm9iamVjdFxcXCI9PXR5cGVvZiB0aGlzLnRvb2xiYXIpe3ZhciBlPXRoaXMudG9vbGJhci5pdGVtcztcXG5mb3IodmFyIGYgaW4gZSlcXFwidzJ1aS1zZWFyY2hcXFwiIT1lW2ZdLmlkJiZcXFwiYnJlYWtcXFwiIT1lW2ZdLnR5cGUmJnRoaXMudG9vbGJhci5yZWZyZXNoKGVbZl0uaWQpfX1lbHNlICQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfdG9vbGJhclxcXCIpLmhpZGUoKTt0aGlzLnNlYXJjaENsb3NlKCk7dmFyIGc9JChcXFwiI2dyaWRfXFxcIithLm5hbWUrXFxcIl9zZWFyY2hfYWxsXFxcIik7IXRoaXMubXVsdGlTZWFyY2gmJlxcXCJhbGxcXFwiPT10aGlzLmxhc3QuZmllbGQmJnRoaXMuc2VhcmNoZXMubGVuZ3RoPjAmJih0aGlzLmxhc3QuZmllbGQ9dGhpcy5zZWFyY2hlc1swXS5maWVsZCx0aGlzLmxhc3QuY2FwdGlvbj10aGlzLnNlYXJjaGVzWzBdLmNhcHRpb24pO2Zvcih2YXIgaCBpbiB0aGlzLnNlYXJjaGVzKXRoaXMuc2VhcmNoZXNbaF0uZmllbGQ9PXRoaXMubGFzdC5maWVsZCYmKHRoaXMubGFzdC5jYXB0aW9uPXRoaXMuc2VhcmNoZXNbaF0uY2FwdGlvbik7aWYodGhpcy5sYXN0Lm11bHRpP2cuYXR0cihcXFwicGxhY2Vob2xkZXJcXFwiLFxcXCJbXFxcIit3MnV0aWxzLmxhbmcoXFxcIk11bHRpcGxlIEZpZWxkc1xcXCIpK1xcXCJdXFxcIik6Zy5hdHRyKFxcXCJwbGFjZWhvbGRlclxcXCIsdGhpcy5sYXN0LmNhcHRpb24pLGcudmFsKCkhPXRoaXMubGFzdC5zZWFyY2gpe3ZhciBpPXRoaXMubGFzdC5zZWFyY2gsZT1nLmRhdGEoXFxcIncyZmllbGRcXFwiKTtlJiYoaT1lLmZvcm1hdChpKSksZy52YWwoaSl9dmFyIGU9dGhpcy5maW5kKHtzdW1tYXJ5OiEwfSwhMCk7aWYoZS5sZW5ndGg+MCl7Zm9yKHZhciBmIGluIGUpdGhpcy5zdW1tYXJ5LnB1c2godGhpcy5yZWNvcmRzW2VbZl1dKTtmb3IodmFyIGY9ZS5sZW5ndGgtMTtmPj0wO2YtLSl0aGlzLnJlY29yZHMuc3BsaWNlKGVbZl0sMSk7dGhpcy50b3RhbD10aGlzLnRvdGFsLWUubGVuZ3RofXZhciBqPWEuZmluZCh7ZXhwYW5kZWQ6ITB9LCEwKTtmb3IodmFyIGsgaW4gailhLnJlY29yZHNbaltrXV0uZXhwYW5kZWQ9ITE7dmFyIGw9XFxcIlxcXCI7bCs9JzxkaXYgaWQ9XFxcImdyaWRfJyt0aGlzLm5hbWUrJ19yZWNvcmRzXFxcIiBjbGFzcz1cXFwidzJ1aS1ncmlkLXJlY29yZHNcXFwiICAgIG9uc2Nyb2xsPVxcXCJ2YXIgb2JqID0gdzJ1aVtcXFxcJycrdGhpcy5uYW1lK1xcXCInXTsgICAgICAgICBvYmoubGFzdC5zY3JvbGxUb3AgPSB0aGlzLnNjcm9sbFRvcDsgICAgICAgICBvYmoubGFzdC5zY3JvbGxMZWZ0ID0gdGhpcy5zY3JvbGxMZWZ0OyAgICAgICAgICQoJyNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfY29sdW1ucycpWzBdLnNjcm9sbExlZnQgPSB0aGlzLnNjcm9sbExlZnQ7ICAgICAgICAkKCcjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX3N1bW1hcnknKVswXS5zY3JvbGxMZWZ0ID0gdGhpcy5zY3JvbGxMZWZ0OyAgICAgICAgb2JqLnNjcm9sbChldmVudCk7XFxcXFxcXCI+XFxcIit0aGlzLmdldFJlY29yZHNIVE1MKCkrJzwvZGl2PjxkaXYgaWQ9XFxcImdyaWRfJyt0aGlzLm5hbWUrJ19jb2x1bW5zXFxcIiBjbGFzcz1cXFwidzJ1aS1ncmlkLWNvbHVtbnNcXFwiPiAgICA8dGFibGU+Jyt0aGlzLmdldENvbHVtbnNIVE1MKCkrXFxcIjwvdGFibGU+PC9kaXY+XFxcIiwkKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX2JvZHlcXFwiKS5odG1sKGwpLHRoaXMuc3VtbWFyeS5sZW5ndGg+MD8kKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX3N1bW1hcnlcXFwiKS5odG1sKHRoaXMuZ2V0U3VtbWFyeUhUTUwoKSkuc2hvdygpOiQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfc3VtbWFyeVxcXCIpLmhpZGUoKSx0aGlzLnNob3cuZm9vdGVyPyQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfZm9vdGVyXFxcIikuaHRtbCh0aGlzLmdldEZvb3RlckhUTUwoKSkuc2hvdygpOiQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfZm9vdGVyXFxcIikuaGlkZSgpLHRoaXMuc2VhcmNoRGF0YS5sZW5ndGg+MD8kKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX3NlYXJjaENsZWFyXFxcIikuc2hvdygpOiQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfc2VhcmNoQ2xlYXJcXFwiKS5oaWRlKCk7dmFyIG09dGhpcy5sYXN0LnNlbGVjdGlvbjtyZXR1cm4gbS5pbmRleGVzLmxlbmd0aD09dGhpcy5yZWNvcmRzLmxlbmd0aHx8MCE9PXRoaXMuc2VhcmNoRGF0YS5sZW5ndGgmJm0uaW5kZXhlcy5sZW5ndGg9PXRoaXMubGFzdC5zZWFyY2hJZHMubGVuZ3RoPyQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfY2hlY2tfYWxsXFxcIikucHJvcChcXFwiY2hlY2tlZFxcXCIsITApOiQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfY2hlY2tfYWxsXFxcIikucHJvcChcXFwiY2hlY2tlZFxcXCIsITEpLHRoaXMuc3RhdHVzKCksc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBiPSQudHJpbSgkKFxcXCIjZ3JpZF9cXFwiK2EubmFtZStcXFwiX3NlYXJjaF9hbGxcXFwiKS52YWwoKSk7XFxcIlxcXCIhPWImJiQoYS5ib3gpLmZpbmQoXFxcIi53MnVpLWdyaWQtZGF0YSA+IGRpdlxcXCIpLncybWFya2VyKGIpfSw1MCksdGhpcy50cmlnZ2VyKCQuZXh0ZW5kKGQse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSksYS5yZXNpemUoKSxhLmFkZFJhbmdlKFxcXCJzZWxlY3Rpb25cXFwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5yZXNpemUoKSxhLnNjcm9sbCgpfSwxKSxhLnJlb3JkZXJDb2x1bW5zJiYhYS5sYXN0LmNvbHVtbkRyYWc/YS5sYXN0LmNvbHVtbkRyYWc9YS5pbml0Q29sdW1uRHJhZygpOiFhLnJlb3JkZXJDb2x1bW5zJiZhLmxhc3QuY29sdW1uRHJhZyYmYS5sYXN0LmNvbHVtbkRyYWcucmVtb3ZlKCksKG5ldyBEYXRlKS5nZXRUaW1lKCktYn19fSxyZW5kZXI6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtpZigxPT1hLndoaWNoJiYoXFxcInRleHRcXFwiPT1lLmxhc3QudXNlclNlbGVjdCYmKGRlbGV0ZSBlLmxhc3QudXNlclNlbGVjdCwkKGUuYm94KS5maW5kKFxcXCIudzJ1aS1ncmlkLWJvZHlcXFwiKS5jc3MoXFxcInVzZXItc2VsZWN0XFxcIixcXFwibm9uZVxcXCIpLmNzcyhcXFwiLXdlYmtpdC11c2VyLXNlbGVjdFxcXCIsXFxcIm5vbmVcXFwiKS5jc3MoXFxcIi1tb3otdXNlci1zZWxlY3RcXFwiLFxcXCJub25lXFxcIikuY3NzKFxcXCItbXMtdXNlci1zZWxlY3RcXFwiLFxcXCJub25lXFxcIiksJCh0aGlzLmJveCkub24oXFxcInNlbGVjdHN0YXJ0XFxcIixmdW5jdGlvbigpe3JldHVybiExfSkpLCEoJChhLnRhcmdldCkucGFyZW50cygpLmhhc0NsYXNzKFxcXCJ3MnVpLWhlYWRcXFwiKXx8JChhLnRhcmdldCkuaGFzQ2xhc3MoXFxcIncydWktaGVhZFxcXCIpfHxlLmxhc3QubW92ZSYmXFxcImV4cGFuZFxcXCI9PWUubGFzdC5tb3ZlLnR5cGUpKSl7aWYoYS5hbHRLZXkpJChlLmJveCkub2ZmKFxcXCJzZWxlY3RzdGFydFxcXCIpLCQoZS5ib3gpLmZpbmQoXFxcIi53MnVpLWdyaWQtYm9keVxcXCIpLmNzcyhcXFwidXNlci1zZWxlY3RcXFwiLFxcXCJ0ZXh0XFxcIikuY3NzKFxcXCItd2Via2l0LXVzZXItc2VsZWN0XFxcIixcXFwidGV4dFxcXCIpLmNzcyhcXFwiLW1vei11c2VyLXNlbGVjdFxcXCIsXFxcInRleHRcXFwiKS5jc3MoXFxcIi1tcy11c2VyLXNlbGVjdFxcXCIsXFxcInRleHRcXFwiKSxlLnNlbGVjdE5vbmUoKSxlLmxhc3QubW92ZT17dHlwZTpcXFwidGV4dC1zZWxlY3RcXFwifSxlLmxhc3QudXNlclNlbGVjdD1cXFwidGV4dFxcXCI7ZWxzZXtpZighZS5tdWx0aVNlbGVjdClyZXR1cm47ZS5sYXN0Lm1vdmU9e3g6YS5zY3JlZW5YLHk6YS5zY3JlZW5ZLGRpdlg6MCxkaXZZOjAscmVjaWQ6JChhLnRhcmdldCkucGFyZW50cyhcXFwidHJcXFwiKS5hdHRyKFxcXCJyZWNpZFxcXCIpLGNvbHVtbjpcXFwiVERcXFwiPT1hLnRhcmdldC50YWdOYW1lPyQoYS50YXJnZXQpLmF0dHIoXFxcImNvbFxcXCIpOiQoYS50YXJnZXQpLnBhcmVudHMoXFxcInRkXFxcIikuYXR0cihcXFwiY29sXFxcIiksdHlwZTpcXFwic2VsZWN0XFxcIixnaG9zdDohMSxzdGFydDohMH19JChkb2N1bWVudCkub24oXFxcIm1vdXNlbW92ZVxcXCIsYyksJChkb2N1bWVudCkub24oXFxcIm1vdXNldXBcXFwiLGQpfX1mdW5jdGlvbiBjKGEpe3ZhciBiPWUubGFzdC5tb3ZlO2lmKGImJlxcXCJzZWxlY3RcXFwiPT1iLnR5cGUmJihiLmRpdlg9YS5zY3JlZW5YLWIueCxiLmRpdlk9YS5zY3JlZW5ZLWIueSwhKE1hdGguYWJzKGIuZGl2WCk8PTEmJk1hdGguYWJzKGIuZGl2WSk8PTEpKSl7aWYoZS5sYXN0LmNhbmNlbENsaWNrPSEwLDE9PWUucmVvcmRlclJvd3Mpe2lmKCFiLmdob3N0KXt2YXIgYz0kKFxcXCIjZ3JpZF9cXFwiK2UubmFtZStcXFwiX3JlY19cXFwiK2IucmVjaWQpLGQ9Yy5wYXJlbnRzKFxcXCJ0YWJsZVxcXCIpLmZpbmQoXFxcInRyOmZpcnN0LWNoaWxkXFxcIikuY2xvbmUoKTtiLm9mZnNldFk9YS5vZmZzZXRZLGIuZnJvbT1iLnJlY2lkLGIucG9zPWMucG9zaXRpb24oKSxiLmdob3N0PSQoYykuY2xvbmUoITApLGIuZ2hvc3QucmVtb3ZlQXR0cihcXFwiaWRcXFwiKSxjLmZpbmQoXFxcInRkOmZpcnN0LWNoaWxkXFxcIikucmVwbGFjZVdpdGgoJzx0ZCBjb2xzcGFuPVxcXCIxMDAwXFxcIiBzdHlsZT1cXFwiaGVpZ2h0OiAnK2UucmVjb3JkSGVpZ2h0KydweDsgYmFja2dyb3VuZC1jb2xvcjogI2RkZFxcXCI+PC90ZD4nKTt2YXIgZj0kKGUuYm94KS5maW5kKFxcXCIudzJ1aS1ncmlkLXJlY29yZHNcXFwiKTtmLmFwcGVuZCgnPHRhYmxlIGlkPVxcXCJncmlkXycrZS5uYW1lKydfZ2hvc3RcXFwiIHN0eWxlPVxcXCJwb3NpdGlvbjogYWJzb2x1dGU7IHotaW5kZXg6IDk5OTk5OTsgb3BhY2l0eTogMC44OyBib3JkZXItYm90dG9tOiAycHggZGFzaGVkICNhYWE7IGJvcmRlci10b3A6IDJweCBkYXNoZWQgI2FhYTsgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxcIj48L3RhYmxlPicpLCQoXFxcIiNncmlkX1xcXCIrZS5uYW1lK1xcXCJfZ2hvc3RcXFwiKS5hcHBlbmQoZCkuYXBwZW5kKGIuZ2hvc3QpfXZhciBnPSQoYS50YXJnZXQpLnBhcmVudHMoXFxcInRyXFxcIikuYXR0cihcXFwicmVjaWRcXFwiKTtpZihnIT1iLmZyb20pe3ZhciBoPSQoXFxcIiNncmlkX1xcXCIrZS5uYW1lK1xcXCJfcmVjX1xcXCIrYi5yZWNpZCksaT0kKFxcXCIjZ3JpZF9cXFwiK2UubmFtZStcXFwiX3JlY19cXFwiK2cpO2Euc2NyZWVuWS1iLmxhc3RZPDA/aC5hZnRlcihpKTppLmFmdGVyKGgpLGIubGFzdFk9YS5zY3JlZW5ZLGIudG89Z312YXIgaj0kKFxcXCIjZ3JpZF9cXFwiK2UubmFtZStcXFwiX2dob3N0XFxcIiksZj0kKGUuYm94KS5maW5kKFxcXCIudzJ1aS1ncmlkLXJlY29yZHNcXFwiKTtyZXR1cm4gdm9pZCBqLmNzcyh7dG9wOmIucG9zLnRvcCtiLmRpdlkrZi5zY3JvbGxUb3AoKSxsZWZ0OmIucG9zLmxlZnR9KX1iLnN0YXJ0JiZiLnJlY2lkJiYoZS5zZWxlY3ROb25lKCksYi5zdGFydD0hMSk7dmFyIGs9W10sZz1cXFwiVFJcXFwiPT1hLnRhcmdldC50YWdOYW1lPyQoYS50YXJnZXQpLmF0dHIoXFxcInJlY2lkXFxcIik6JChhLnRhcmdldCkucGFyZW50cyhcXFwidHJcXFwiKS5hdHRyKFxcXCJyZWNpZFxcXCIpO2lmKFxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgZyl7dmFyIGw9ZS5nZXQoYi5yZWNpZCwhMCk7aWYobnVsbCE9PWwpe3ZhciBtPWUuZ2V0KGcsITApO2lmKG51bGwhPT1tKXt2YXIgbj1wYXJzZUludChiLmNvbHVtbiksbz1wYXJzZUludChcXFwiVERcXFwiPT1hLnRhcmdldC50YWdOYW1lPyQoYS50YXJnZXQpLmF0dHIoXFxcImNvbFxcXCIpOiQoYS50YXJnZXQpLnBhcmVudHMoXFxcInRkXFxcIikuYXR0cihcXFwiY29sXFxcIikpO2lmKGw+bSl7dmFyIGQ9bDtsPW0sbT1kfXZhciBkPVxcXCJpbmQxOlxcXCIrbCtcXFwiLGluZDI7XFxcIittK1xcXCIsY29sMTpcXFwiK24rXFxcIixjb2wyOlxcXCIrbztpZihiLnJhbmdlIT1kKXtiLnJhbmdlPWQ7Zm9yKHZhciBwPWw7bT49cDtwKyspaWYoIShlLmxhc3Quc2VhcmNoSWRzLmxlbmd0aD4wJiYtMT09ZS5sYXN0LnNlYXJjaElkcy5pbmRleE9mKHApKSlpZihcXFwicm93XFxcIiE9ZS5zZWxlY3RUeXBlKXtpZihuPm8pe3ZhciBkPW47bj1vLG89ZH1mb3IodmFyIGQ9W10scT1uO28+PXE7cSsrKWUuY29sdW1uc1txXS5oaWRkZW58fGsucHVzaCh7cmVjaWQ6ZS5yZWNvcmRzW3BdLnJlY2lkLGNvbHVtbjpwYXJzZUludChxKX0pfWVsc2Ugay5wdXNoKGUucmVjb3Jkc1twXS5yZWNpZCk7aWYoXFxcInJvd1xcXCIhPWUuc2VsZWN0VHlwZSl7dmFyIHI9ZS5nZXRTZWxlY3Rpb24oKSxkPVtdO2Zvcih2YXIgcyBpbiBrKXt2YXIgdD0hMTtmb3IodmFyIHUgaW4gcilrW3NdLnJlY2lkPT1yW3VdLnJlY2lkJiZrW3NdLmNvbHVtbj09clt1XS5jb2x1bW4mJih0PSEwKTt0fHxkLnB1c2goe3JlY2lkOmtbc10ucmVjaWQsY29sdW1uOmtbc10uY29sdW1ufSl9ZS5zZWxlY3QuYXBwbHkoZSxkKTt2YXIgZD1bXTtmb3IodmFyIHUgaW4gcil7dmFyIHQ9ITE7Zm9yKHZhciBzIGluIGspa1tzXS5yZWNpZD09clt1XS5yZWNpZCYma1tzXS5jb2x1bW49PXJbdV0uY29sdW1uJiYodD0hMCk7dHx8ZC5wdXNoKHtyZWNpZDpyW3VdLnJlY2lkLGNvbHVtbjpyW3VdLmNvbHVtbn0pfWUudW5zZWxlY3QuYXBwbHkoZSxkKX1lbHNlIGlmKGUubXVsdGlTZWxlY3Qpe3ZhciByPWUuZ2V0U2VsZWN0aW9uKCk7Zm9yKHZhciBzIGluIGspLTE9PXIuaW5kZXhPZihrW3NdKSYmZS5zZWxlY3Qoa1tzXSk7Zm9yKHZhciB1IGluIHIpLTE9PWsuaW5kZXhPZihyW3VdKSYmZS51bnNlbGVjdChyW3VdKX19fX19fX1mdW5jdGlvbiBkKGEpe3ZhciBiPWUubGFzdC5tb3ZlO2lmKHNldFRpbWVvdXQoZnVuY3Rpb24oKXtkZWxldGUgZS5sYXN0LmNhbmNlbENsaWNrfSwxKSwhJChhLnRhcmdldCkucGFyZW50cygpLmhhc0NsYXNzKFxcXCIudzJ1aS1oZWFkXFxcIikmJiEkKGEudGFyZ2V0KS5oYXNDbGFzcyhcXFwiLncydWktaGVhZFxcXCIpKXtpZihiJiZcXFwic2VsZWN0XFxcIj09Yi50eXBlJiYxPT1lLnJlb3JkZXJSb3dzKXt2YXIgZj1lLmdldChiLmZyb20sITApLGc9ZS5yZWNvcmRzW2ZdO2UucmVjb3Jkcy5zcGxpY2UoZiwxKTt2YXIgaD1lLmdldChiLnRvLCEwKTtmPmg/ZS5yZWNvcmRzLnNwbGljZShoLDAsZyk6ZS5yZWNvcmRzLnNwbGljZShoKzEsMCxnKSwkKFxcXCIjZ3JpZF9cXFwiK2UubmFtZStcXFwiX2dob3N0XFxcIikucmVtb3ZlKCksZS5yZWZyZXNoKCl9ZGVsZXRlIGUubGFzdC5tb3ZlLCQoZG9jdW1lbnQpLm9mZihcXFwibW91c2Vtb3ZlXFxcIixjKSwkKGRvY3VtZW50KS5vZmYoXFxcIm1vdXNldXBcXFwiLGQpfX12YXIgZT10aGlzLGY9KG5ldyBEYXRlKS5nZXRUaW1lKCk7aWYoXFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBhJiZudWxsIT1hJiYoJCh0aGlzLmJveCkuZmluZChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9ib2R5XFxcIikubGVuZ3RoPjAmJiQodGhpcy5ib3gpLnJlbW92ZUF0dHIoXFxcIm5hbWVcXFwiKS5yZW1vdmVDbGFzcyhcXFwidzJ1aS1yZXNldCB3MnVpLWdyaWRcXFwiKS5odG1sKFxcXCJcXFwiKSx0aGlzLmJveD1hKSx0aGlzLmJveCl7bnVsbD09dGhpcy5sYXN0LnNvcnREYXRhJiYodGhpcy5sYXN0LnNvcnREYXRhPXRoaXMuc29ydERhdGEpO3ZhciBnPVxcXCJvYmplY3RcXFwiIT10eXBlb2YgdGhpcy51cmw/dGhpcy51cmw6dGhpcy51cmwuZ2V0LGg9dGhpcy50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0YXJnZXQ6dGhpcy5uYW1lLHR5cGU6XFxcInJlbmRlclxcXCIsYm94OmF9KTtpZihoLmlzQ2FuY2VsbGVkIT09ITApe2lmKCQodGhpcy5ib3gpLmF0dHIoXFxcIm5hbWVcXFwiLHRoaXMubmFtZSkuYWRkQ2xhc3MoXFxcIncydWktcmVzZXQgdzJ1aS1ncmlkXFxcIikuaHRtbCgnPGRpdj4gICAgPGRpdiBpZD1cXFwiZ3JpZF8nK3RoaXMubmFtZSsnX2hlYWRlclxcXCIgY2xhc3M9XFxcIncydWktZ3JpZC1oZWFkZXJcXFwiPjwvZGl2PiAgICA8ZGl2IGlkPVxcXCJncmlkXycrdGhpcy5uYW1lKydfdG9vbGJhclxcXCIgY2xhc3M9XFxcIncydWktZ3JpZC10b29sYmFyXFxcIj48L2Rpdj4gICAgPGRpdiBpZD1cXFwiZ3JpZF8nK3RoaXMubmFtZSsnX2JvZHlcXFwiIGNsYXNzPVxcXCJ3MnVpLWdyaWQtYm9keVxcXCI+PC9kaXY+ICAgIDxkaXYgaWQ9XFxcImdyaWRfJyt0aGlzLm5hbWUrJ19zdW1tYXJ5XFxcIiBjbGFzcz1cXFwidzJ1aS1ncmlkLWJvZHkgdzJ1aS1ncmlkLXN1bW1hcnlcXFwiPjwvZGl2PiAgICA8ZGl2IGlkPVxcXCJncmlkXycrdGhpcy5uYW1lKydfZm9vdGVyXFxcIiBjbGFzcz1cXFwidzJ1aS1ncmlkLWZvb3RlclxcXCI+PC9kaXY+PC9kaXY+JyksXFxcInJvd1xcXCIhPXRoaXMuc2VsZWN0VHlwZSYmJCh0aGlzLmJveCkuYWRkQ2xhc3MoXFxcIncydWktc3NcXFwiKSwkKHRoaXMuYm94KS5sZW5ndGg+MCYmKCQodGhpcy5ib3gpWzBdLnN0eWxlLmNzc1RleHQrPXRoaXMuc3R5bGUpLHRoaXMuaW5pdFRvb2xiYXIoKSxudWxsIT10aGlzLnRvb2xiYXImJnRoaXMudG9vbGJhci5yZW5kZXIoJChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl90b29sYmFyXFxcIilbMF0pLHRoaXMubGFzdC5maWVsZCYmXFxcImFsbFxcXCIhPXRoaXMubGFzdC5maWVsZCl7dmFyIGk9dGhpcy5zZWFyY2hEYXRhO3RoaXMuaW5pdEFsbEZpZWxkKHRoaXMubGFzdC5maWVsZCwxPT1pLmxlbmd0aD9pWzBdLnZhbHVlOm51bGwpfXJldHVybiAkKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX2Zvb3RlclxcXCIpLmh0bWwodGhpcy5nZXRGb290ZXJIVE1MKCkpLHRoaXMubGFzdC5zdGF0ZXx8KHRoaXMubGFzdC5zdGF0ZT10aGlzLnN0YXRlU2F2ZSghMCkpLHRoaXMuc3RhdGVSZXN0b3JlKCksZyYmdGhpcy5yZWZyZXNoKCksdGhpcy5yZWxvYWQoKSwkKHRoaXMuYm94KS5vbihcXFwibW91c2Vkb3duXFxcIixiKSwkKHRoaXMuYm94KS5vbihcXFwic2VsZWN0c3RhcnRcXFwiLGZ1bmN0aW9uKCl7cmV0dXJuITF9KSx0aGlzLnRyaWdnZXIoJC5leHRlbmQoaCx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKSwwPT0kKFxcXCIudzJ1aS1sYXlvdXRcXFwiKS5sZW5ndGgmJih0aGlzLnRtcF9yZXNpemU9ZnVuY3Rpb24oKXt3MnVpW2UubmFtZV0ucmVzaXplKCl9LCQod2luZG93KS5vZmYoXFxcInJlc2l6ZVxcXCIsdGhpcy50bXBfcmVzaXplKS5vbihcXFwicmVzaXplXFxcIix0aGlzLnRtcF9yZXNpemUpKSwobmV3IERhdGUpLmdldFRpbWUoKS1mfX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHRhcmdldDp0aGlzLm5hbWUsdHlwZTpcXFwiZGVzdHJveVxcXCJ9KTthLmlzQ2FuY2VsbGVkIT09ITAmJigkKHdpbmRvdykub2ZmKFxcXCJyZXNpemVcXFwiLHRoaXMudG1wX3Jlc2l6ZSksXFxcIm9iamVjdFxcXCI9PXR5cGVvZiB0aGlzLnRvb2xiYXImJnRoaXMudG9vbGJhci5kZXN0cm95JiZ0aGlzLnRvb2xiYXIuZGVzdHJveSgpLCQodGhpcy5ib3gpLmZpbmQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfYm9keVxcXCIpLmxlbmd0aD4wJiYkKHRoaXMuYm94KS5yZW1vdmVBdHRyKFxcXCJuYW1lXFxcIikub2ZmKFxcXCJzZWxlY3RzdGFydFxcXCIpLnJlbW92ZUNsYXNzKFxcXCJ3MnVpLXJlc2V0IHcydWktZ3JpZFxcXCIpLmh0bWwoXFxcIlxcXCIpLGRlbGV0ZSB3MnVpW3RoaXMubmFtZV0sdGhpcy50cmlnZ2VyKCQuZXh0ZW5kKGEse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSkpfSxpbml0Q29sdW1uT25PZmY6ZnVuY3Rpb24oKXtpZih0aGlzLnNob3cudG9vbGJhckNvbHVtbnMpe3ZhciBhPXRoaXMsYj0nPGRpdiBjbGFzcz1cXFwidzJ1aS1jb2wtb24tb2ZmXFxcIj48dGFibGU+PHRyPjx0ZCBzdHlsZT1cXFwid2lkdGg6IDMwcHhcXFwiPiAgICA8aW5wdXQgaWQ9XFxcImdyaWRfJyt0aGlzLm5hbWUrJ19jb2x1bW5fbG5fY2hlY2tcXFwiIHR5cGU9XFxcImNoZWNrYm94XFxcIiB0YWJJbmRleD1cXFwiLTFcXFwiICcrKGEuc2hvdy5saW5lTnVtYmVycz9cXFwiY2hlY2tlZFxcXCI6XFxcIlxcXCIpK1xcXCIgICAgICAgIG9uY2xpY2s9XFxcXFxcXCJ3MnVpWydcXFwiK2EubmFtZStcXFwiJ10uY29sdW1uT25PZmYodGhpcywgZXZlbnQsICdsaW5lLW51bWJlcnMnKTtcXFxcXFxcIj48L3RkPjx0ZCBvbmNsaWNrPVxcXFxcXFwidzJ1aVsnXFxcIithLm5hbWUrXFxcIiddLmNvbHVtbk9uT2ZmKHRoaXMsIGV2ZW50LCAnbGluZS1udW1iZXJzJyk7ICQoJyN3MnVpLW92ZXJsYXknKVswXS5oaWRlKCk7XFxcXFxcXCI+ICAgIDxsYWJlbCBmb3I9XFxcXFxcXCJncmlkX1xcXCIrdGhpcy5uYW1lKydfY29sdW1uX2xuX2NoZWNrXFxcIj4nK3cydXRpbHMubGFuZyhcXFwiTGluZSAjXFxcIikrXFxcIjwvbGFiZWw+PC90ZD48L3RyPlxcXCI7Zm9yKHZhciBjIGluIHRoaXMuY29sdW1ucyl7dmFyIGQ9dGhpcy5jb2x1bW5zW2NdLGU9dGhpcy5jb2x1bW5zW2NdLmNhcHRpb247ZC5oaWRlYWJsZSE9PSExJiYoIWUmJnRoaXMuY29sdW1uc1tjXS5oaW50JiYoZT10aGlzLmNvbHVtbnNbY10uaGludCksZXx8KGU9XFxcIi0gY29sdW1uIFxcXCIrKHBhcnNlSW50KGMpKzEpK1xcXCIgLVxcXCIpLGIrPSc8dHI+PHRkIHN0eWxlPVxcXCJ3aWR0aDogMzBweFxcXCI+ICAgIDxpbnB1dCBpZD1cXFwiZ3JpZF8nK3RoaXMubmFtZStcXFwiX2NvbHVtbl9cXFwiK2MrJ19jaGVja1xcXCIgdHlwZT1cXFwiY2hlY2tib3hcXFwiIHRhYkluZGV4PVxcXCItMVxcXCIgJysoZC5oaWRkZW4/XFxcIlxcXCI6XFxcImNoZWNrZWRcXFwiKStcXFwiICAgICAgICBvbmNsaWNrPVxcXFxcXFwidzJ1aVsnXFxcIithLm5hbWUrXFxcIiddLmNvbHVtbk9uT2ZmKHRoaXMsIGV2ZW50LCAnXFxcIitkLmZpZWxkKydcXFxcJyk7XFxcIj48L3RkPjx0ZD4gICAgPGxhYmVsIGZvcj1cXFwiZ3JpZF8nK3RoaXMubmFtZStcXFwiX2NvbHVtbl9cXFwiK2MrJ19jaGVja1xcXCI+JytlK1xcXCI8L2xhYmVsPjwvdGQ+PC90cj5cXFwiKX1iKz0nPHRyPjx0ZCBjb2xzcGFuPVxcXCIyXFxcIj48ZGl2IHN0eWxlPVxcXCJib3JkZXItdG9wOiAxcHggc29saWQgI2RkZDtcXFwiPjwvZGl2PjwvdGQ+PC90cj4nO3ZhciBmPVxcXCJvYmplY3RcXFwiIT10eXBlb2YgdGhpcy51cmw/dGhpcy51cmw6dGhpcy51cmwuZ2V0O2YmJmEuc2hvdy5za2lwUmVjb3JkcyYmKGIrPSc8dHI+PHRkIGNvbHNwYW49XFxcIjJcXFwiIHN0eWxlPVxcXCJwYWRkaW5nOiAwcHhcXFwiPiAgICA8ZGl2IHN0eWxlPVxcXCJjdXJzb3I6IHBvaW50ZXI7IHBhZGRpbmc6IDJweCA4cHg7IGN1cnNvcjogZGVmYXVsdFxcXCI+Jyt3MnV0aWxzLmxhbmcoXFxcIlNraXBcXFwiKSsnICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgc3R5bGU9XFxcIndpZHRoOiA0NXB4XFxcIiB2YWx1ZT1cXFwiJyt0aGlzLm9mZnNldCsnXFxcIiAgICAgICAgICAgICBvbmtleXByZXNzPVxcXCJpZiAoZXZlbnQua2V5Q29kZSA9PSAxMykgeyAgICAgICAgICAgICAgICB3MnVpW1xcXFwnJythLm5hbWUrXFxcIiddLnNraXAodGhpcy52YWx1ZSk7ICAgICAgICAgICAgICAgICQoJyN3MnVpLW92ZXJsYXknKVswXS5oaWRlKCk7ICAgICAgICAgICAgIH1cXFxcXFxcIj4gXFxcIit3MnV0aWxzLmxhbmcoXFxcIlJlY29yZHNcXFwiKStcXFwiICAgIDwvZGl2PjwvdGQ+PC90cj5cXFwiKSxiKz0nPHRyPjx0ZCBjb2xzcGFuPVxcXCIyXFxcIiBvbmNsaWNrPVxcXCJ3MnVpW1xcXFwnJythLm5hbWUrXFxcIiddLnN0YXRlU2F2ZSgpOyAkKCcjdzJ1aS1vdmVybGF5JylbMF0uaGlkZSgpO1xcXFxcXFwiPiAgICA8ZGl2IHN0eWxlPVxcXFxcXFwiY3Vyc29yOiBwb2ludGVyOyBwYWRkaW5nOiA0cHggOHB4OyBjdXJzb3I6IGRlZmF1bHRcXFxcXFxcIj5cXFwiK3cydXRpbHMubGFuZyhcXFwiU2F2ZSBHcmlkIFN0YXRlXFxcIikrJzwvZGl2PjwvdGQ+PC90cj48dHI+PHRkIGNvbHNwYW49XFxcIjJcXFwiIG9uY2xpY2s9XFxcIncydWlbXFxcXCcnK2EubmFtZStcXFwiJ10uc3RhdGVSZXNldCgpOyAkKCcjdzJ1aS1vdmVybGF5JylbMF0uaGlkZSgpO1xcXFxcXFwiPiAgICA8ZGl2IHN0eWxlPVxcXFxcXFwiY3Vyc29yOiBwb2ludGVyOyBwYWRkaW5nOiA0cHggOHB4OyBjdXJzb3I6IGRlZmF1bHRcXFxcXFxcIj5cXFwiK3cydXRpbHMubGFuZyhcXFwiUmVzdG9yZSBEZWZhdWx0IFN0YXRlXFxcIikrXFxcIjwvZGl2PjwvdGQ+PC90cj5cXFwiLGIrPVxcXCI8L3RhYmxlPjwvZGl2PlxcXCIsdGhpcy50b29sYmFyLmdldChcXFwidzJ1aS1jb2x1bW4tb24tb2ZmXFxcIikuaHRtbD1ifX0saW5pdENvbHVtbkRyYWc6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7aS5wcmVzc2VkPSExLGNsZWFyVGltZW91dChpLnRpbWVvdXQpfWZ1bmN0aW9uIGIoYSl7aS50aW1lb3V0JiZjbGVhclRpbWVvdXQoaS50aW1lb3V0KTt2YXIgYj10aGlzO2kucHJlc3NlZD0hMCxpLnRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe2lmKGkucHJlc3NlZCl7dmFyIGUsZixnLGosayxsPVtcXFwidzJ1aS1jb2wtbnVtYmVyXFxcIixcXFwidzJ1aS1jb2wtZXhwYW5kXFxcIixcXFwidzJ1aS1jb2wtc2VsZWN0XFxcIl0sbT1bXFxcIncydWktaGVhZC1sYXN0XFxcIl0sbj1sLmNvbmNhdChtKSxvPVxcXCIudzJ1aS1jb2wtbnVtYmVyLCAudzJ1aS1jb2wtZXhwYW5kLCAudzJ1aS1jb2wtc2VsZWN0XFxcIixwPVxcXCIudzJ1aS1oZWFkLncydWktY29sLW51bWJlciwgLncydWktaGVhZC53MnVpLWNvbC1leHBhbmQsIC53MnVpLWhlYWQudzJ1aS1jb2wtc2VsZWN0XFxcIjtpZigkKGEub3JpZ2luYWxFdmVudC50YXJnZXQpLnBhcmVudHMoKS5oYXNDbGFzcyhcXFwidzJ1aS1oZWFkXFxcIikpe2Zvcih2YXIgcT0wLHI9bi5sZW5ndGg7cj5xO3ErKylpZigkKGEub3JpZ2luYWxFdmVudC50YXJnZXQpLnBhcmVudHMoKS5oYXNDbGFzcyhuW3FdKSlyZXR1cm47aWYoaS5udW1iZXJQcmVDb2x1bW5zUHJlc2VudD0kKGguYm94KS5maW5kKHApLmxlbmd0aCxpLmNvbHVtbkhlYWQ9aj0kKGEub3JpZ2luYWxFdmVudC50YXJnZXQpLnBhcmVudHMoXFxcIi53MnVpLWhlYWRcXFwiKSxrPXBhcnNlSW50KGouYXR0cihcXFwiY29sXFxcIiksMTApLGU9aC50cmlnZ2VyKHt0eXBlOlxcXCJjb2x1bW5EcmFnU3RhcnRcXFwiLHBoYXNlOlxcXCJiZWZvcmVcXFwiLG9yaWdpbmFsRXZlbnQ6YSxvcmlnQ29sdW1uTnVtYmVyOmssdGFyZ2V0OmpbMF19KSxlLmlzQ2FuY2VsbGVkPT09ITApcmV0dXJuITE7Zj1pLmNvbHVtbnM9JChoLmJveCkuZmluZChcXFwiLncydWktaGVhZDpub3QoLncydWktaGVhZC1sYXN0KVxcXCIpLCQoZG9jdW1lbnQpLm9uKFxcXCJtb3VzZXVwXFxcIixkKSwkKGRvY3VtZW50KS5vbihcXFwibW91c2Vtb3ZlXFxcIixjKSxpLm9yaWdpbmFsUG9zPXBhcnNlSW50KCQoYS5vcmlnaW5hbEV2ZW50LnRhcmdldCkucGFyZW50KFxcXCIudzJ1aS1oZWFkXFxcIikuYXR0cihcXFwiY29sXFxcIiksMTApLGkuZ2hvc3Q9JChiKS5jbG9uZSghMCksJChpLmdob3N0KS5maW5kKCdbY29sXTpub3QoW2NvbD1cXFwiJytpLm9yaWdpbmFsUG9zKydcXFwiXSksIC53MnVpLXRvb2xiYXIsIC53MnVpLWdyaWQtaGVhZGVyJykucmVtb3ZlKCksJChpLmdob3N0KS5maW5kKG8pLnJlbW92ZSgpLCQoaS5naG9zdCkuZmluZChcXFwiLncydWktZ3JpZC1ib2R5XFxcIikuY3NzKHt0b3A6MH0pLGc9JChpLmdob3N0KS5maW5kKCdbY29sPVxcXCInK2kub3JpZ2luYWxQb3MrJ1xcXCJdJyksJChkb2N1bWVudC5ib2R5KS5hcHBlbmQoaS5naG9zdCksJChpLmdob3N0KS5jc3Moe3dpZHRoOjAsaGVpZ2h0OjAsbWFyZ2luOjAscG9zaXRpb246XFxcImZpeGVkXFxcIix6SW5kZXg6OTk5OTk5LG9wYWNpdHk6MH0pLmFkZENsYXNzKFxcXCIudzJ1aS1ncmlkLWdob3N0XFxcIikuYW5pbWF0ZSh7d2lkdGg6Zy53aWR0aCgpLGhlaWdodDokKGguYm94KS5maW5kKFxcXCIudzJ1aS1ncmlkLWJvZHk6Zmlyc3RcXFwiKS5oZWlnaHQoKSxsZWZ0OmEucGFnZVgsdG9wOmEucGFnZVksb3BhY2l0eTouOH0sMCksaS5vZmZzZXRzPVtdO2Zvcih2YXIgcT0wLHI9Zi5sZW5ndGg7cj5xO3ErKylpLm9mZnNldHMucHVzaCgkKGZbcV0pLm9mZnNldCgpLmxlZnQpO2gudHJpZ2dlcigkLmV4dGVuZChlLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpfX19LDE1MCl9ZnVuY3Rpb24gYyhhKXtpZihpLnByZXNzZWQpe3ZhciBiPWEub3JpZ2luYWxFdmVudC5wYWdlWCxjPWEub3JpZ2luYWxFdmVudC5wYWdlWSxkPWkub2Zmc2V0cyxoPSQoXFxcIi53MnVpLWhlYWQ6bm90KC53MnVpLWhlYWQtbGFzdClcXFwiKS53aWR0aCgpO2kudGFyZ2V0SW50PU1hdGgubWF4KGkubnVtYmVyUHJlQ29sdW1uc1ByZXNlbnQsZihiLGQsaCkpLGUoaS50YXJnZXRJbnQpLGcoYixjKX19ZnVuY3Rpb24gZChhKXtpLnByZXNzZWQ9ITE7dmFyIGIsZSxmLGcsaixrPSQoXFxcIi53MnVpLWdyaWQtZ2hvc3RcXFwiKTtyZXR1cm4gYj1oLnRyaWdnZXIoe3R5cGU6XFxcImNvbHVtbkRyYWdFbmRcXFwiLHBoYXNlOlxcXCJiZWZvcmVcXFwiLG9yaWdpbmFsRXZlbnQ6YSx0YXJnZXQ6aS5jb2x1bW5IZWFkWzBdfSksYi5pc0NhbmNlbGxlZD09PSEwPyExOihmPWguY29sdW1uc1tpLm9yaWdpbmFsUG9zXSxnPWguY29sdW1ucyxqPSQoaS5jb2x1bW5zW01hdGgubWluKGkubGFzdEludCxpLmNvbHVtbnMubGVuZ3RoLTEpXSksZT1pLmxhc3RJbnQ8aS5jb2x1bW5zLmxlbmd0aD9wYXJzZUludChqLmF0dHIoXFxcImNvbFxcXCIpKTpnLmxlbmd0aCxlIT09aS5vcmlnaW5hbFBvcysxJiZlIT09aS5vcmlnaW5hbFBvcyYmaiYmai5sZW5ndGg/KCQoaS5naG9zdCkuYW5pbWF0ZSh7dG9wOiQoaC5ib3gpLm9mZnNldCgpLnRvcCxsZWZ0Omoub2Zmc2V0KCkubGVmdCx3aWR0aDowLGhlaWdodDowLG9wYWNpdHk6LjJ9LDMwMCxmdW5jdGlvbigpeyQodGhpcykucmVtb3ZlKCksay5yZW1vdmUoKX0pLGcuc3BsaWNlKGUsMCwkLmV4dGVuZCh7fSxmKSksZy5zcGxpY2UoZy5pbmRleE9mKGYpLDEpKTooJChpLmdob3N0KS5yZW1vdmUoKSxrLnJlbW92ZSgpKSwkKGRvY3VtZW50KS5vZmYoXFxcIm1vdXNldXBcXFwiLGQpLCQoZG9jdW1lbnQpLm9mZihcXFwibW91c2Vtb3ZlXFxcIixjKSxpLm1hcmtlciYmaS5tYXJrZXIucmVtb3ZlKCksaT17fSxoLnJlZnJlc2goKSx2b2lkIGgudHJpZ2dlcigkLmV4dGVuZChiLHtwaGFzZTpcXFwiYWZ0ZXJcXFwiLHRhcmdldENvbHVtbk51bWJlcjplLTF9KSkpfWZ1bmN0aW9uIGUoYSl7aS5tYXJrZXJ8fGkubWFya2VyTGVmdHx8KGkubWFya2VyPSQoJzxkaXYgY2xhc3M9XFxcImNvbC1pbnRlcnNlY3Rpb24tbWFya2VyXFxcIj48ZGl2IGNsYXNzPVxcXCJ0b3AtbWFya2VyXFxcIj48L2Rpdj48ZGl2IGNsYXNzPVxcXCJib3R0b20tbWFya2VyXFxcIj48L2Rpdj48L2Rpdj4nKSxpLm1hcmtlckxlZnQ9JCgnPGRpdiBjbGFzcz1cXFwiY29sLWludGVyc2VjdGlvbi1tYXJrZXJcXFwiPjxkaXYgY2xhc3M9XFxcInRvcC1tYXJrZXJcXFwiPjwvZGl2PjxkaXYgY2xhc3M9XFxcImJvdHRvbS1tYXJrZXJcXFwiPjwvZGl2PjwvZGl2PicpKSxpLmxhc3RJbnQmJmkubGFzdEludD09PWF8fChpLmxhc3RJbnQ9YSxpLm1hcmtlci5yZW1vdmUoKSxpLm1hcmtlckxlZnQucmVtb3ZlKCksJChcXFwiLncydWktaGVhZFxcXCIpLnJlbW92ZUNsYXNzKFxcXCJ3MnVpLWNvbC1pbnRlcnNlY3Rpb25cXFwiKSxhPj1pLmNvbHVtbnMubGVuZ3RoPygkKGkuY29sdW1uc1tpLmNvbHVtbnMubGVuZ3RoLTFdKS5jaGlsZHJlbihcXFwiZGl2Omxhc3RcXFwiKS5hcHBlbmQoaS5tYXJrZXIuYWRkQ2xhc3MoXFxcInJpZ2h0XFxcIikucmVtb3ZlQ2xhc3MoXFxcImxlZnRcXFwiKSksJChpLmNvbHVtbnNbaS5jb2x1bW5zLmxlbmd0aC0xXSkuYWRkQ2xhc3MoXFxcIncydWktY29sLWludGVyc2VjdGlvblxcXCIpKTphPD1pLm51bWJlclByZUNvbHVtbnNQcmVzZW50PygkKGkuY29sdW1uc1tpLm51bWJlclByZUNvbHVtbnNQcmVzZW50XSkucHJlcGVuZChpLm1hcmtlci5hZGRDbGFzcyhcXFwibGVmdFxcXCIpLnJlbW92ZUNsYXNzKFxcXCJyaWdodFxcXCIpKS5jc3Moe3Bvc2l0aW9uOlxcXCJyZWxhdGl2ZVxcXCJ9KSwkKGkuY29sdW1uc1tpLm51bWJlclByZUNvbHVtbnNQcmVzZW50XSkucHJldigpLmFkZENsYXNzKFxcXCJ3MnVpLWNvbC1pbnRlcnNlY3Rpb25cXFwiKSk6KCQoaS5jb2x1bW5zW2FdKS5jaGlsZHJlbihcXFwiZGl2Omxhc3RcXFwiKS5wcmVwZW5kKGkubWFya2VyLmFkZENsYXNzKFxcXCJsZWZ0XFxcIikucmVtb3ZlQ2xhc3MoXFxcInJpZ2h0XFxcIikpLCQoaS5jb2x1bW5zW2FdKS5wcmV2KCkuY2hpbGRyZW4oXFxcImRpdjpsYXN0XFxcIikuYXBwZW5kKGkubWFya2VyTGVmdC5hZGRDbGFzcyhcXFwicmlnaHRcXFwiKS5yZW1vdmVDbGFzcyhcXFwibGVmdFxcXCIpKS5jc3Moe3Bvc2l0aW9uOlxcXCJyZWxhdGl2ZVxcXCJ9KSwkKGkuY29sdW1uc1thLTFdKS5hZGRDbGFzcyhcXFwidzJ1aS1jb2wtaW50ZXJzZWN0aW9uXFxcIikpKX1mdW5jdGlvbiBmKGEsYixjKXtpZihhPD1iWzBdKXJldHVybiAwO2lmKGE+PWJbYi5sZW5ndGgtMV0rYylyZXR1cm4gYi5sZW5ndGg7Zm9yKHZhciBkPTAsZT1iLmxlbmd0aDtlPmQ7ZCsrKXt2YXIgZj1iW2RdLGc9YltkKzFdfHxiW2RdK2MsaD0oZy1iW2RdKS8yK2JbZF07aWYoYT5mJiZoPj1hKXJldHVybiBkO2lmKGE+aCYmZz49YSlyZXR1cm4gZCsxfXJldHVybiBpbnRlcnNlY3Rpb259ZnVuY3Rpb24gZyhhLGIpeyQoaS5naG9zdCkuY3NzKHtsZWZ0OmEtMTAsdG9wOmItMTB9KX1pZih0aGlzLmNvbHVtbkdyb3VwcyYmdGhpcy5jb2x1bW5Hcm91cHMubGVuZ3RoKXRocm93XFxcIkRyYWdnYWJsZSBjb2x1bW5zIGFyZSBub3QgY3VycmVudGx5IHN1cHBvcnRlZCB3aXRoIGNvbHVtbiBncm91cHMuXFxcIjt2YXIgaD10aGlzLGk9e307cmV0dXJuIGkubGFzdEludD1udWxsLGkucHJlc3NlZD0hMSxpLnRpbWVvdXQ9bnVsbCxpLmNvbHVtbkhlYWQ9bnVsbCwkKGguYm94KS5vbihcXFwibW91c2Vkb3duXFxcIixiKSwkKGguYm94KS5vbihcXFwibW91c2V1cFxcXCIsYSkse3JlbW92ZTpmdW5jdGlvbigpeyQoaC5ib3gpLm9mZihcXFwibW91c2Vkb3duXFxcIixiKSwkKGguYm94KS5vZmYoXFxcIm1vdXNldXBcXFwiLGEpLCQoaC5ib3gpLmZpbmQoXFxcIi53MnVpLWhlYWRcXFwiKS5yZW1vdmVBdHRyKFxcXCJkcmFnZ2FibGVcXFwiKSxoLmxhc3QuY29sdW1uRHJhZz0hMX19fSxjb2x1bW5Pbk9mZjpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0YXJnZXQ6dGhpcy5uYW1lLHR5cGU6XFxcImNvbHVtbk9uT2ZmXFxcIixjaGVja2JveDphLGZpZWxkOmMsb3JpZ2luYWxFdmVudDpifSk7aWYoZC5pc0NhbmNlbGxlZCE9PSEwKXt2YXIgZT10aGlzO2Zvcih2YXIgZiBpbiB0aGlzLnJlY29yZHMpdGhpcy5yZWNvcmRzW2ZdLmV4cGFuZGVkPT09ITAmJih0aGlzLnJlY29yZHNbZl0uZXhwYW5kZWQ9ITEpO3ZhciBnPSEwO2lmKFxcXCJsaW5lLW51bWJlcnNcXFwiPT1jKXRoaXMuc2hvdy5saW5lTnVtYmVycz0hdGhpcy5zaG93LmxpbmVOdW1iZXJzLHRoaXMucmVmcmVzaCgpO2Vsc2V7dmFyIGg9dGhpcy5nZXRDb2x1bW4oYyk7aC5oaWRkZW4/KCQoYSkucHJvcChcXFwiY2hlY2tlZFxcXCIsITApLHRoaXMuc2hvd0NvbHVtbihoLmZpZWxkKSk6KCQoYSkucHJvcChcXFwiY2hlY2tlZFxcXCIsITEpLHRoaXMuaGlkZUNvbHVtbihoLmZpZWxkKSksZz0hMX1nJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JCgpLncyb3ZlcmxheShcXFwiXFxcIix7bmFtZTpcXFwic2VhcmNoZXMtXFxcIit0aGlzLm5hbWV9KSxlLnRvb2xiYXIudW5jaGVjayhcXFwiY29sdW1uLW9uLW9mZlxcXCIpfSwxMDApLHRoaXMudHJpZ2dlcigkLmV4dGVuZChkLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpfX0saW5pdFRvb2xiYXI6ZnVuY3Rpb24oKXtpZihcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIHRoaXMudG9vbGJhci5yZW5kZXIpe3ZhciBhPXRoaXMudG9vbGJhci5pdGVtcztpZih0aGlzLnRvb2xiYXIuaXRlbXM9W10sdGhpcy50b29sYmFyPSQoKS53MnRvb2xiYXIoJC5leHRlbmQoITAse30sdGhpcy50b29sYmFyLHtuYW1lOnRoaXMubmFtZStcXFwiX3Rvb2xiYXJcXFwiLG93bmVyOnRoaXN9KSksdGhpcy5zaG93LnRvb2xiYXJSZWxvYWQmJnRoaXMudG9vbGJhci5pdGVtcy5wdXNoKCQuZXh0ZW5kKCEwLHt9LHRoaXMuYnV0dG9ucy5yZWxvYWQpKSx0aGlzLnNob3cudG9vbGJhckNvbHVtbnMmJnRoaXMudG9vbGJhci5pdGVtcy5wdXNoKCQuZXh0ZW5kKCEwLHt9LHRoaXMuYnV0dG9ucy5jb2x1bW5zKSksKHRoaXMuc2hvdy50b29sYmFyUmVsb2FkfHx0aGlzLnNob3cudG9vbGJhckNvbHVtbikmJnRoaXMudG9vbGJhci5pdGVtcy5wdXNoKHt0eXBlOlxcXCJicmVha1xcXCIsaWQ6XFxcIncydWktYnJlYWswXFxcIn0pLHRoaXMuc2hvdy50b29sYmFyU2VhcmNoKXt2YXIgYj0nPGRpdiBjbGFzcz1cXFwidzJ1aS10b29sYmFyLXNlYXJjaFxcXCI+PHRhYmxlIGNlbGxwYWRkaW5nPVxcXCIwXFxcIiBjZWxsc3BhY2luZz1cXFwiMFxcXCI+PHRyPiAgICA8dGQ+Jyt0aGlzLmJ1dHRvbnMuc2VhcmNoLmh0bWwrJzwvdGQ+ICAgIDx0ZD4gICAgICAgIDxpbnB1dCBpZD1cXFwiZ3JpZF8nK3RoaXMubmFtZSsnX3NlYXJjaF9hbGxcXFwiIGNsYXNzPVxcXCJ3MnVpLXNlYXJjaC1hbGxcXFwiICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVxcXCInK3RoaXMubGFzdC5jYXB0aW9uKydcXFwiIHZhbHVlPVxcXCInK3RoaXMubGFzdC5zZWFyY2grXFxcIlxcXFxcXFwiICAgICAgICAgICAgb25rZXlkb3duPVxcXFxcXFwiaWYgKGV2ZW50LmtleUNvZGUgPT0gMTMgJiYgdzJ1dGlscy5pc0lFKSB0aGlzLm9uY2hhbmdlKCk7XFxcXFxcXCIgICAgICAgICAgICBvbmNoYW5nZT1cXFxcXFxcIiAgICAgICAgICAgICAgICB2YXIgdmFsID0gdGhpcy52YWx1ZTsgICAgICAgICAgICAgICAgIHZhciBmbGQgPSAkKHRoaXMpLmRhdGEoJ3cyZmllbGQnKTsgICAgICAgICAgICAgICAgIHZhciBkYXQgPSAkKHRoaXMpLmRhdGEoJ3NlbGVjdGVkJyk7ICAgICAgICAgICAgICAgICBpZiAoZmxkKSB2YWwgPSBmbGQuY2xlYW4odmFsKTsgICAgICAgICAgICAgICAgaWYgKGRhdCAhPSBudWxsICYmICQuaXNQbGFpbk9iamVjdChkYXQpKSB2YWwgPSBkYXQuaWQ7ICAgICAgICAgICAgICAgIHcydWlbJ1xcXCIrdGhpcy5uYW1lK1xcXCInXS5zZWFyY2godzJ1aVsnXFxcIit0aGlzLm5hbWUrJ1xcXFwnXS5sYXN0LmZpZWxkLCB2YWwpOyAgICAgICAgICAgICBcXFwiPiAgICA8L3RkPiAgICA8dGQ+ICAgICAgICA8ZGl2IHRpdGxlPVxcXCInK3cydXRpbHMubGFuZyhcXFwiQ2xlYXIgU2VhcmNoXFxcIikrJ1xcXCIgY2xhc3M9XFxcIncydWktc2VhcmNoLWNsZWFyXFxcIiBpZD1cXFwiZ3JpZF8nK3RoaXMubmFtZSsnX3NlYXJjaENsZWFyXFxcIiAgICAgICAgICAgICAgIG9uY2xpY2s9XFxcInZhciBvYmogPSB3MnVpW1xcXFwnJyt0aGlzLm5hbWUrXFxcIiddOyBvYmouc2VhcmNoUmVzZXQoKTtcXFxcXFxcIiAgICAgICAgID4mbmJzcDsmbmJzcDs8L2Rpdj4gICAgPC90ZD48L3RyPjwvdGFibGU+PC9kaXY+XFxcIjt0aGlzLnRvb2xiYXIuaXRlbXMucHVzaCh7dHlwZTpcXFwiaHRtbFxcXCIsaWQ6XFxcIncydWktc2VhcmNoXFxcIixodG1sOmJ9KSx0aGlzLm11bHRpU2VhcmNoJiZ0aGlzLnNlYXJjaGVzLmxlbmd0aD4wJiZ0aGlzLnRvb2xiYXIuaXRlbXMucHVzaCgkLmV4dGVuZCghMCx7fSx0aGlzLmJ1dHRvbnNbXFxcInNlYXJjaC1nb1xcXCJdKSl9dGhpcy5zaG93LnRvb2xiYXJTZWFyY2gmJih0aGlzLnNob3cudG9vbGJhckFkZHx8dGhpcy5zaG93LnRvb2xiYXJFZGl0fHx0aGlzLnNob3cudG9vbGJhckRlbGV0ZXx8dGhpcy5zaG93LnRvb2xiYXJTYXZlKSYmdGhpcy50b29sYmFyLml0ZW1zLnB1c2goe3R5cGU6XFxcImJyZWFrXFxcIixpZDpcXFwidzJ1aS1icmVhazFcXFwifSksdGhpcy5zaG93LnRvb2xiYXJBZGQmJnRoaXMudG9vbGJhci5pdGVtcy5wdXNoKCQuZXh0ZW5kKCEwLHt9LHRoaXMuYnV0dG9ucy5hZGQpKSx0aGlzLnNob3cudG9vbGJhckVkaXQmJnRoaXMudG9vbGJhci5pdGVtcy5wdXNoKCQuZXh0ZW5kKCEwLHt9LHRoaXMuYnV0dG9ucy5lZGl0KSksdGhpcy5zaG93LnRvb2xiYXJEZWxldGUmJnRoaXMudG9vbGJhci5pdGVtcy5wdXNoKCQuZXh0ZW5kKCEwLHt9LHRoaXMuYnV0dG9uc1tcXFwiZGVsZXRlXFxcIl0pKSx0aGlzLnNob3cudG9vbGJhclNhdmUmJigodGhpcy5zaG93LnRvb2xiYXJBZGR8fHRoaXMuc2hvdy50b29sYmFyRGVsZXRlfHx0aGlzLnNob3cudG9vbGJhckVkaXQpJiZ0aGlzLnRvb2xiYXIuaXRlbXMucHVzaCh7dHlwZTpcXFwiYnJlYWtcXFwiLGlkOlxcXCJ3MnVpLWJyZWFrMlxcXCJ9KSx0aGlzLnRvb2xiYXIuaXRlbXMucHVzaCgkLmV4dGVuZCghMCx7fSx0aGlzLmJ1dHRvbnMuc2F2ZSkpKTtmb3IodmFyIGMgaW4gYSl0aGlzLnRvb2xiYXIuaXRlbXMucHVzaChhW2NdKTt2YXIgZD10aGlzO3RoaXMudG9vbGJhci5vbihcXFwiY2xpY2tcXFwiLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXskKFxcXCIjdzJ1aS1vdmVybGF5LXNlYXJjaGVzLVxcXCIrZC5uYW1lKS5kYXRhKFxcXCJrZWVwT3BlblxcXCIpIT09ITAmJihnLnVuY2hlY2soZSksJChkb2N1bWVudCkub2ZmKFxcXCJjbGlja1xcXCIsXFxcImJvZHlcXFwiLGIpKX12YXIgYz1kLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcInRvb2xiYXJcXFwiLHRhcmdldDphLnRhcmdldCxvcmlnaW5hbEV2ZW50OmF9KTtpZihjLmlzQ2FuY2VsbGVkIT09ITApe3ZhciBlPWEudGFyZ2V0O3N3aXRjaChlKXtjYXNlXFxcIncydWktcmVsb2FkXFxcIjp2YXIgZj1kLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcInJlbG9hZFxcXCIsdGFyZ2V0OmQubmFtZX0pO2lmKGYuaXNDYW5jZWxsZWQ9PT0hMClyZXR1cm4hMTtkLnJlbG9hZCgpLGQudHJpZ2dlcigkLmV4dGVuZChmLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpO2JyZWFrO2Nhc2VcXFwidzJ1aS1jb2x1bW4tb24tb2ZmXFxcIjpkLmluaXRDb2x1bW5Pbk9mZigpLGQuaW5pdFJlc2l6ZSgpLGQucmVzaXplKCk7YnJlYWs7Y2FzZVxcXCJ3MnVpLXNlYXJjaC1hZHZhbmNlZFxcXCI6dmFyIGc9dGhpcyxoPXRoaXMuZ2V0KGUpO2guY2hlY2tlZD8oZC5zZWFyY2hDbG9zZSgpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtnLnVuY2hlY2soZSl9LDEpKTooZC5zZWFyY2hPcGVuKCksYS5vcmlnaW5hbEV2ZW50LnN0b3BQcm9wYWdhdGlvbigpLCQoZG9jdW1lbnQpLm9uKFxcXCJjbGlja1xcXCIsXFxcImJvZHlcXFwiLGIpKTticmVhaztjYXNlXFxcIncydWktYWRkXFxcIjp2YXIgYz1kLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHRhcmdldDpkLm5hbWUsdHlwZTpcXFwiYWRkXFxcIixyZWNpZDpudWxsfSk7ZC50cmlnZ2VyKCQuZXh0ZW5kKGMse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSk7YnJlYWs7Y2FzZVxcXCJ3MnVpLWVkaXRcXFwiOnZhciBpPWQuZ2V0U2VsZWN0aW9uKCksaj1udWxsOzE9PWkubGVuZ3RoJiYoaj1pWzBdKTt2YXIgYz1kLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHRhcmdldDpkLm5hbWUsdHlwZTpcXFwiZWRpdFxcXCIscmVjaWQ6an0pO2QudHJpZ2dlcigkLmV4dGVuZChjLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpO2JyZWFrO2Nhc2VcXFwidzJ1aS1kZWxldGVcXFwiOmRbXFxcImRlbGV0ZVxcXCJdKCk7YnJlYWs7Y2FzZVxcXCJ3MnVpLXNhdmVcXFwiOmQuc2F2ZSgpfWQudHJpZ2dlcigkLmV4dGVuZChjLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpfX0pfX0saW5pdFJlc2l6ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7JCh0aGlzLmJveCkuZmluZChcXFwiLncydWktcmVzaXplclxcXCIpLm9mZihcXFwiY2xpY2tcXFwiKS5vbihcXFwiY2xpY2tcXFwiLGZ1bmN0aW9uKGEpe2Euc3RvcFByb3BhZ2F0aW9uP2Euc3RvcFByb3BhZ2F0aW9uKCk6YS5jYW5jZWxCdWJibGU9ITAsYS5wcmV2ZW50RGVmYXVsdCYmYS5wcmV2ZW50RGVmYXVsdCgpfSkub2ZmKFxcXCJtb3VzZWRvd25cXFwiKS5vbihcXFwibW91c2Vkb3duXFxcIixmdW5jdGlvbihiKXtifHwoYj13aW5kb3cuZXZlbnQpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyfHx3aW5kb3cuZG9jdW1lbnQuYXR0YWNoRXZlbnQoXFxcIm9uc2VsZWN0c3RhcnRcXFwiLGZ1bmN0aW9uKCl7cmV0dXJuITF9KSxhLnJlc2l6aW5nPSEwLGEubGFzdC50bXA9e3g6Yi5zY3JlZW5YLHk6Yi5zY3JlZW5ZLGd4OmIuc2NyZWVuWCxneTpiLnNjcmVlblksY29sOnBhcnNlSW50KCQodGhpcykuYXR0cihcXFwibmFtZVxcXCIpKX0sYi5zdG9wUHJvcGFnYXRpb24/Yi5zdG9wUHJvcGFnYXRpb24oKTpiLmNhbmNlbEJ1YmJsZT0hMCxiLnByZXZlbnREZWZhdWx0JiZiLnByZXZlbnREZWZhdWx0KCk7Zm9yKHZhciBjIGluIGEuY29sdW1ucylhLmNvbHVtbnNbY10uaGlkZGVufHwoXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBhLmNvbHVtbnNbY10uc2l6ZU9yaWdpbmFsJiYoYS5jb2x1bW5zW2NdLnNpemVPcmlnaW5hbD1hLmNvbHVtbnNbY10uc2l6ZSksYS5jb2x1bW5zW2NdLnNpemU9YS5jb2x1bW5zW2NdLnNpemVDYWxjdWxhdGVkKTt2YXIgZD17cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwiY29sdW1uUmVzaXplXFxcIix0YXJnZXQ6YS5uYW1lLGNvbHVtbjphLmxhc3QudG1wLmNvbCxmaWVsZDphLmNvbHVtbnNbYS5sYXN0LnRtcC5jb2xdLmZpZWxkfTtkPWEudHJpZ2dlcigkLmV4dGVuZChkLHtyZXNpemVCeTowLG9yaWdpbmFsRXZlbnQ6Yn0pKTt2YXIgZT1mdW5jdGlvbihiKXtpZigxPT1hLnJlc2l6aW5nKXtpZihifHwoYj13aW5kb3cuZXZlbnQpLGQ9YS50cmlnZ2VyKCQuZXh0ZW5kKGQse3Jlc2l6ZUJ5OmIuc2NyZWVuWC1hLmxhc3QudG1wLmd4LG9yaWdpbmFsRXZlbnQ6Yn0pKSxkLmlzQ2FuY2VsbGVkPT09ITApcmV0dXJuIHZvaWQoZC5pc0NhbmNlbGxlZD0hMSk7YS5sYXN0LnRtcC54PWIuc2NyZWVuWC1hLmxhc3QudG1wLngsYS5sYXN0LnRtcC55PWIuc2NyZWVuWS1hLmxhc3QudG1wLnksYS5jb2x1bW5zW2EubGFzdC50bXAuY29sXS5zaXplPXBhcnNlSW50KGEuY29sdW1uc1thLmxhc3QudG1wLmNvbF0uc2l6ZSkrYS5sYXN0LnRtcC54K1xcXCJweFxcXCIsYS5yZXNpemVSZWNvcmRzKCksYS5sYXN0LnRtcC54PWIuc2NyZWVuWCxhLmxhc3QudG1wLnk9Yi5zY3JlZW5ZfX0sZj1mdW5jdGlvbihiKXtkZWxldGUgYS5yZXNpemluZywkKGRvY3VtZW50KS5vZmYoXFxcIm1vdXNlbW92ZVxcXCIsXFxcImJvZHlcXFwiKSwkKGRvY3VtZW50KS5vZmYoXFxcIm1vdXNldXBcXFwiLFxcXCJib2R5XFxcIiksYS5yZXNpemVSZWNvcmRzKCksYS50cmlnZ2VyKCQuZXh0ZW5kKGQse3BoYXNlOlxcXCJhZnRlclxcXCIsb3JpZ2luYWxFdmVudDpifSkpfTskKGRvY3VtZW50KS5vbihcXFwibW91c2Vtb3ZlXFxcIixcXFwiYm9keVxcXCIsZSksJChkb2N1bWVudCkub24oXFxcIm1vdXNldXBcXFwiLFxcXCJib2R5XFxcIixmKX0pLmVhY2goZnVuY3Rpb24oYSxiKXt2YXIgYz0kKGIpLnBhcmVudCgpOyQoYikuY3NzKHtoZWlnaHQ6XFxcIjI1cHhcXFwiLFxcXCJtYXJnaW4tbGVmdFxcXCI6Yy53aWR0aCgpLTMrXFxcInB4XFxcIn0pfSl9LHJlc2l6ZUJveGVzOmZ1bmN0aW9uKCl7e3ZhciBhPSgkKHRoaXMuYm94KS5maW5kKFxcXCI+IGRpdlxcXCIpLCQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfaGVhZGVyXFxcIikpLGI9JChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl90b29sYmFyXFxcIiksYz0kKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX3N1bW1hcnlcXFwiKSxkPSQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfZm9vdGVyXFxcIiksZT0kKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX2JvZHlcXFwiKTskKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX2NvbHVtbnNcXFwiKSwkKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX3JlY29yZHNcXFwiKX10aGlzLnNob3cuaGVhZGVyJiZhLmNzcyh7dG9wOlxcXCIwcHhcXFwiLGxlZnQ6XFxcIjBweFxcXCIscmlnaHQ6XFxcIjBweFxcXCJ9KSx0aGlzLnNob3cudG9vbGJhciYmYi5jc3Moe3RvcDowKyh0aGlzLnNob3cuaGVhZGVyP3cydXRpbHMuZ2V0U2l6ZShhLFxcXCJoZWlnaHRcXFwiKTowKStcXFwicHhcXFwiLGxlZnQ6XFxcIjBweFxcXCIscmlnaHQ6XFxcIjBweFxcXCJ9KSx0aGlzLnNob3cuZm9vdGVyJiZkLmNzcyh7Ym90dG9tOlxcXCIwcHhcXFwiLGxlZnQ6XFxcIjBweFxcXCIscmlnaHQ6XFxcIjBweFxcXCJ9KSx0aGlzLnN1bW1hcnkubGVuZ3RoPjAmJmMuY3NzKHtib3R0b206MCsodGhpcy5zaG93LmZvb3Rlcj93MnV0aWxzLmdldFNpemUoZCxcXFwiaGVpZ2h0XFxcIik6MCkrXFxcInB4XFxcIixsZWZ0OlxcXCIwcHhcXFwiLHJpZ2h0OlxcXCIwcHhcXFwifSksZS5jc3Moe3RvcDowKyh0aGlzLnNob3cuaGVhZGVyP3cydXRpbHMuZ2V0U2l6ZShhLFxcXCJoZWlnaHRcXFwiKTowKSsodGhpcy5zaG93LnRvb2xiYXI/dzJ1dGlscy5nZXRTaXplKGIsXFxcImhlaWdodFxcXCIpOjApK1xcXCJweFxcXCIsYm90dG9tOjArKHRoaXMuc2hvdy5mb290ZXI/dzJ1dGlscy5nZXRTaXplKGQsXFxcImhlaWdodFxcXCIpOjApKyh0aGlzLnN1bW1hcnkubGVuZ3RoPjA/dzJ1dGlscy5nZXRTaXplKGMsXFxcImhlaWdodFxcXCIpOjApK1xcXCJweFxcXCIsbGVmdDpcXFwiMHB4XFxcIixyaWdodDpcXFwiMHB4XFxcIn0pfSxyZXNpemVSZWNvcmRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczskKHRoaXMuYm94KS5maW5kKFxcXCIudzJ1aS1lbXB0eS1yZWNvcmRcXFwiKS5yZW1vdmUoKTt2YXIgYj0kKHRoaXMuYm94KSxjPSQodGhpcy5ib3gpLmZpbmQoXFxcIj4gZGl2XFxcIiksZD0kKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX2hlYWRlclxcXCIpLGU9JChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl90b29sYmFyXFxcIiksZj0kKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX3N1bW1hcnlcXFwiKSxnPSQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfZm9vdGVyXFxcIiksaD0kKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX2JvZHlcXFwiKSxpPSQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfY29sdW1uc1xcXCIpLGo9JChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9yZWNvcmRzXFxcIik7aWYodGhpcy5maXhlZEJvZHkpe3ZhciBrPWMuaGVpZ2h0KCktKHRoaXMuc2hvdy5oZWFkZXI/dzJ1dGlscy5nZXRTaXplKGQsXFxcImhlaWdodFxcXCIpOjApLSh0aGlzLnNob3cudG9vbGJhcj93MnV0aWxzLmdldFNpemUoZSxcXFwiaGVpZ2h0XFxcIik6MCktKFxcXCJub25lXFxcIiE9Zi5jc3MoXFxcImRpc3BsYXlcXFwiKT93MnV0aWxzLmdldFNpemUoZixcXFwiaGVpZ2h0XFxcIik6MCktKHRoaXMuc2hvdy5mb290ZXI/dzJ1dGlscy5nZXRTaXplKGcsXFxcImhlaWdodFxcXCIpOjApO2guY3NzKFxcXCJoZWlnaHRcXFwiLGspfWVsc2V7dmFyIGs9dzJ1dGlscy5nZXRTaXplKGksXFxcImhlaWdodFxcXCIpK3cydXRpbHMuZ2V0U2l6ZSgkKFxcXCIjZ3JpZF9cXFwiK2EubmFtZStcXFwiX3JlY29yZHMgdGFibGVcXFwiKSxcXFwiaGVpZ2h0XFxcIik7YS5oZWlnaHQ9ayt3MnV0aWxzLmdldFNpemUoYyxcXFwiK2hlaWdodFxcXCIpKyhhLnNob3cuaGVhZGVyP3cydXRpbHMuZ2V0U2l6ZShkLFxcXCJoZWlnaHRcXFwiKTowKSsoYS5zaG93LnRvb2xiYXI/dzJ1dGlscy5nZXRTaXplKGUsXFxcImhlaWdodFxcXCIpOjApKyhcXFwibm9uZVxcXCIhPWYuY3NzKFxcXCJkaXNwbGF5XFxcIik/dzJ1dGlscy5nZXRTaXplKGYsXFxcImhlaWdodFxcXCIpOjApKyhhLnNob3cuZm9vdGVyP3cydXRpbHMuZ2V0U2l6ZShnLFxcXCJoZWlnaHRcXFwiKTowKSxjLmNzcyhcXFwiaGVpZ2h0XFxcIixhLmhlaWdodCksaC5jc3MoXFxcImhlaWdodFxcXCIsayksYi5jc3MoXFxcImhlaWdodFxcXCIsdzJ1dGlscy5nZXRTaXplKGMsXFxcImhlaWdodFxcXCIpK3cydXRpbHMuZ2V0U2l6ZShiLFxcXCIraGVpZ2h0XFxcIikpfXZhciBsPXRoaXMucmVjb3Jkcy5sZW5ndGgsbT1cXFwib2JqZWN0XFxcIiE9dHlwZW9mIHRoaXMudXJsP3RoaXMudXJsOnRoaXMudXJsLmdldDswPT10aGlzLnNlYXJjaERhdGEubGVuZ3RofHxtfHwobD10aGlzLmxhc3Quc2VhcmNoSWRzLmxlbmd0aCk7dmFyIG49ITEsbz0hMTtpZihoLndpZHRoKCk8JChqKS5maW5kKFxcXCI+dGFibGVcXFwiKS53aWR0aCgpJiYobj0hMCksaC5oZWlnaHQoKS1pLmhlaWdodCgpPCQoaikuZmluZChcXFwiPnRhYmxlXFxcIikuaGVpZ2h0KCkrKG4/dzJ1dGlscy5zY3JvbGxCYXJTaXplKCk6MCkmJihvPSEwKSx0aGlzLmZpeGVkQm9keXx8KG89ITEpLG58fG8/KGkuZmluZChcXFwiPiB0YWJsZSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDEpIHRkLncydWktaGVhZC1sYXN0XFxcIikuY3NzKFxcXCJ3aWR0aFxcXCIsdzJ1dGlscy5zY3JvbGxCYXJTaXplKCkpLnNob3coKSxqLmNzcyh7dG9wOih0aGlzLmNvbHVtbkdyb3Vwcy5sZW5ndGg+MCYmdGhpcy5zaG93LmNvbHVtbnM/MTowKSt3MnV0aWxzLmdldFNpemUoaSxcXFwiaGVpZ2h0XFxcIikrXFxcInB4XFxcIixcXFwiLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmdcXFwiOlxcXCJ0b3VjaFxcXCIsXFxcIm92ZXJmbG93LXhcXFwiOm4/XFxcImF1dG9cXFwiOlxcXCJoaWRkZW5cXFwiLFxcXCJvdmVyZmxvdy15XFxcIjpvP1xcXCJhdXRvXFxcIjpcXFwiaGlkZGVuXFxcIn0pKTooaS5maW5kKFxcXCI+IHRhYmxlID4gdGJvZHkgPiB0cjpudGgtY2hpbGQoMSkgdGQudzJ1aS1oZWFkLWxhc3RcXFwiKS5oaWRlKCksai5jc3Moe3RvcDoodGhpcy5jb2x1bW5Hcm91cHMubGVuZ3RoPjAmJnRoaXMuc2hvdy5jb2x1bW5zPzE6MCkrdzJ1dGlscy5nZXRTaXplKGksXFxcImhlaWdodFxcXCIpK1xcXCJweFxcXCIsb3ZlcmZsb3c6XFxcImhpZGRlblxcXCJ9KSxqLmxlbmd0aD4wJiYodGhpcy5sYXN0LnNjcm9sbFRvcD0wLHRoaXMubGFzdC5zY3JvbGxMZWZ0PTApKSx0aGlzLnNob3cuZW1wdHlSZWNvcmRzJiYhbyl7dmFyIHA9TWF0aC5mbG9vcihqLmhlaWdodCgpL3RoaXMucmVjb3JkSGVpZ2h0KSsxO2lmKHRoaXMuZml4ZWRCb2R5KWZvcih2YXIgcT1sO3A+PXE7cSsrKXt2YXIgcj1cXFwiXFxcIjtyKz0nPHRyIGNsYXNzPVxcXCInKyhxJTI/XFxcIncydWktZXZlblxcXCI6XFxcIncydWktb2RkXFxcIikrJyB3MnVpLWVtcHR5LXJlY29yZFxcXCIgc3R5bGU9XFxcImhlaWdodDogJyt0aGlzLnJlY29yZEhlaWdodCsncHhcXFwiPicsdGhpcy5zaG93LmxpbmVOdW1iZXJzJiYocis9Jzx0ZCBjbGFzcz1cXFwidzJ1aS1jb2wtbnVtYmVyXFxcIj48L3RkPicpLHRoaXMuc2hvdy5zZWxlY3RDb2x1bW4mJihyKz0nPHRkIGNsYXNzPVxcXCJ3MnVpLWdyaWQtZGF0YSB3MnVpLWNvbC1zZWxlY3RcXFwiPjwvdGQ+JyksdGhpcy5zaG93LmV4cGFuZENvbHVtbiYmKHIrPSc8dGQgY2xhc3M9XFxcIncydWktZ3JpZC1kYXRhIHcydWktY29sLWV4cGFuZFxcXCI+PC90ZD4nKTtmb3IodmFyIHM9MDt0aGlzLmNvbHVtbnMubGVuZ3RoPjA7KXt2YXIgdD10aGlzLmNvbHVtbnNbc107aWYodC5oaWRkZW4pe2lmKHMrKyxcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIHRoaXMuY29sdW1uc1tzXSlicmVha31lbHNlIGlmKHIrPSc8dGQgY2xhc3M9XFxcIncydWktZ3JpZC1kYXRhXFxcIiAnKyhcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIHQuYXR0cj90LmF0dHI6XFxcIlxcXCIpKycgY29sPVxcXCInK3MrJ1xcXCI+PC90ZD4nLHMrKyxcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIHRoaXMuY29sdW1uc1tzXSlicmVha31yKz0nPHRkIGNsYXNzPVxcXCJ3MnVpLWdyaWQtZGF0YS1sYXN0XFxcIj48L3RkPicscis9XFxcIjwvdHI+XFxcIiwkKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX3JlY29yZHMgPiB0YWJsZVxcXCIpLmFwcGVuZChyKX19aWYoaC5sZW5ndGg+MCl7Zm9yKHZhciB1PXBhcnNlSW50KGgud2lkdGgoKSktKG8/dzJ1dGlscy5zY3JvbGxCYXJTaXplKCk6MCktKHRoaXMuc2hvdy5saW5lTnVtYmVycz8zNDowKS0odGhpcy5zaG93LnNlbGVjdENvbHVtbj8yNjowKS0odGhpcy5zaG93LmV4cGFuZENvbHVtbj8yNjowKSx2PXUsdz0wLHg9ITEseT0wO3k8dGhpcy5jb2x1bW5zLmxlbmd0aDt5Kyspe3ZhciB0PXRoaXMuY29sdW1uc1t5XTt0LmdyaWRNaW5XaWR0aD4wJiYodC5ncmlkTWluV2lkdGg+diYmdC5oaWRkZW4hPT0hMCYmKHQuaGlkZGVuPSEwLHg9ITApLHQuZ3JpZE1pbldpZHRoPHYmJnQuaGlkZGVuPT09ITAmJih0LmhpZGRlbj0hMSx4PSEwKSl9aWYoeD09PSEwKXJldHVybiB2b2lkIHRoaXMucmVmcmVzaCgpO2Zvcih2YXIgeT0wO3k8dGhpcy5jb2x1bW5zLmxlbmd0aDt5Kyspe3ZhciB0PXRoaXMuY29sdW1uc1t5XTt0LmhpZGRlbnx8KFxcXCJweFxcXCI9PVN0cmluZyh0LnNpemUpLnN1YnN0cihTdHJpbmcodC5zaXplKS5sZW5ndGgtMikudG9Mb3dlckNhc2UoKT8odS09cGFyc2VGbG9hdCh0LnNpemUpLHRoaXMuY29sdW1uc1t5XS5zaXplQ2FsY3VsYXRlZD10LnNpemUsdGhpcy5jb2x1bW5zW3ldLnNpemVUeXBlPVxcXCJweFxcXCIpOih3Kz1wYXJzZUZsb2F0KHQuc2l6ZSksdGhpcy5jb2x1bW5zW3ldLnNpemVUeXBlPVxcXCIlXFxcIixkZWxldGUgdC5zaXplQ29ycmVjdGVkKSl9aWYoMTAwIT13JiZ3PjApZm9yKHZhciB5PTA7eTx0aGlzLmNvbHVtbnMubGVuZ3RoO3krKyl7dmFyIHQ9dGhpcy5jb2x1bW5zW3ldO3QuaGlkZGVufHxcXFwiJVxcXCI9PXQuc2l6ZVR5cGUmJih0LnNpemVDb3JyZWN0ZWQ9TWF0aC5yb3VuZCgxMDAqcGFyc2VGbG9hdCh0LnNpemUpKjEwMC93KS8xMDArXFxcIiVcXFwiKX1mb3IodmFyIHk9MDt5PHRoaXMuY29sdW1ucy5sZW5ndGg7eSsrKXt2YXIgdD10aGlzLmNvbHVtbnNbeV07dC5oaWRkZW58fFxcXCIlXFxcIj09dC5zaXplVHlwZSYmKHRoaXMuY29sdW1uc1t5XS5zaXplQ2FsY3VsYXRlZD1cXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIHRoaXMuY29sdW1uc1t5XS5zaXplQ29ycmVjdGVkP01hdGguZmxvb3IodSpwYXJzZUZsb2F0KHQuc2l6ZUNvcnJlY3RlZCkvMTAwKS0xK1xcXCJweFxcXCI6TWF0aC5mbG9vcih1KnBhcnNlRmxvYXQodC5zaXplKS8xMDApLTErXFxcInB4XFxcIil9fWZvcih2YXIgej0wLHk9MDt5PHRoaXMuY29sdW1ucy5sZW5ndGg7eSsrKXt2YXIgdD10aGlzLmNvbHVtbnNbeV07dC5oaWRkZW58fChcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIHQubWluJiYodC5taW49MjApLHBhcnNlSW50KHQuc2l6ZUNhbGN1bGF0ZWQpPHBhcnNlSW50KHQubWluKSYmKHQuc2l6ZUNhbGN1bGF0ZWQ9dC5taW4rXFxcInB4XFxcIikscGFyc2VJbnQodC5zaXplQ2FsY3VsYXRlZCk+cGFyc2VJbnQodC5tYXgpJiYodC5zaXplQ2FsY3VsYXRlZD10Lm1heCtcXFwicHhcXFwiKSx6Kz1wYXJzZUludCh0LnNpemVDYWxjdWxhdGVkKSl9dmFyIEE9cGFyc2VJbnQodiktcGFyc2VJbnQoeik7aWYoQT4wJiZ3PjApZm9yKHZhciB5PTA7Oyl7dmFyIHQ9dGhpcy5jb2x1bW5zW3ldO2lmKFxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgdClpZih0LmhpZGRlbnx8XFxcInB4XFxcIj09dC5zaXplVHlwZSl5Kys7ZWxzZXtpZih0LnNpemVDYWxjdWxhdGVkPXBhcnNlSW50KHQuc2l6ZUNhbGN1bGF0ZWQpKzErXFxcInB4XFxcIixBLS0sMD09QSlicmVhazt5Kyt9ZWxzZSB5PTB9ZWxzZSBBPjAmJmkuZmluZChcXFwiPiB0YWJsZSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDEpIHRkLncydWktaGVhZC1sYXN0XFxcIikuY3NzKFxcXCJ3aWR0aFxcXCIsdzJ1dGlscy5zY3JvbGxCYXJTaXplKCkpLnNob3coKTtpLmZpbmQoXFxcIj4gdGFibGUgPiB0Ym9keSA+IHRyOm50aC1jaGlsZCgxKSB0ZFxcXCIpLmVhY2goZnVuY3Rpb24oYixjKXt2YXIgZD0kKGMpLmF0dHIoXFxcImNvbFxcXCIpO1xcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgZCYmYS5jb2x1bW5zW2RdJiYkKGMpLmNzcyhcXFwid2lkdGhcXFwiLGEuY29sdW1uc1tkXS5zaXplQ2FsY3VsYXRlZCksJChjKS5oYXNDbGFzcyhcXFwidzJ1aS1oZWFkLWxhc3RcXFwiKSYmJChjKS5jc3MoXFxcIndpZHRoXFxcIix3MnV0aWxzLnNjcm9sbEJhclNpemUoKSsoQT4wJiYwPT13P0E6MCkrXFxcInB4XFxcIil9KSwzPT1pLmZpbmQoXFxcIj4gdGFibGUgPiB0Ym9keSA+IHRyXFxcIikubGVuZ3RoJiZpLmZpbmQoXFxcIj4gdGFibGUgPiB0Ym9keSA+IHRyOm50aC1jaGlsZCgxKSB0ZFxcXCIpLmh0bWwoXFxcIlxcXCIpLmNzcyh7aGVpZ2h0OlxcXCIwcHhcXFwiLGJvcmRlcjpcXFwiMHB4XFxcIixwYWRkaW5nOlxcXCIwcHhcXFwiLG1hcmdpbjpcXFwiMHB4XFxcIn0pLGouZmluZChcXFwiPiB0YWJsZSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDEpIHRkXFxcIikuZWFjaChmdW5jdGlvbihiLGMpe3ZhciBkPSQoYykuYXR0cihcXFwiY29sXFxcIik7XFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBkJiZhLmNvbHVtbnNbZF0mJiQoYykuY3NzKFxcXCJ3aWR0aFxcXCIsYS5jb2x1bW5zW2RdLnNpemVDYWxjdWxhdGVkKSwkKGMpLmhhc0NsYXNzKFxcXCJ3MnVpLWdyaWQtZGF0YS1sYXN0XFxcIikmJiQoYykuY3NzKFxcXCJ3aWR0aFxcXCIsKEE+MCYmMD09dz9BOjApK1xcXCJweFxcXCIpfSksZi5maW5kKFxcXCI+IHRhYmxlID4gdGJvZHkgPiB0cjpudGgtY2hpbGQoMSkgdGRcXFwiKS5lYWNoKGZ1bmN0aW9uKGIsYyl7dmFyIGQ9JChjKS5hdHRyKFxcXCJjb2xcXFwiKTtcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGQmJmEuY29sdW1uc1tkXSYmJChjKS5jc3MoXFxcIndpZHRoXFxcIixhLmNvbHVtbnNbZF0uc2l6ZUNhbGN1bGF0ZWQpLCQoYykuaGFzQ2xhc3MoXFxcIncydWktZ3JpZC1kYXRhLWxhc3RcXFwiKSYmJChjKS5jc3MoXFxcIndpZHRoXFxcIix3MnV0aWxzLnNjcm9sbEJhclNpemUoKSsoQT4wJiYwPT13P0E6MCkrXFxcInB4XFxcIil9KSx0aGlzLmluaXRSZXNpemUoKSx0aGlzLnJlZnJlc2hSYW5nZXMoKSwodGhpcy5sYXN0LnNjcm9sbFRvcHx8dGhpcy5sYXN0LnNjcm9sbExlZnQpJiZqLmxlbmd0aD4wJiYoaS5wcm9wKFxcXCJzY3JvbGxMZWZ0XFxcIix0aGlzLmxhc3Quc2Nyb2xsTGVmdCksai5wcm9wKFxcXCJzY3JvbGxUb3BcXFwiLHRoaXMubGFzdC5zY3JvbGxUb3ApLGoucHJvcChcXFwic2Nyb2xsTGVmdFxcXCIsdGhpcy5sYXN0LnNjcm9sbExlZnQpKX0sZ2V0U2VhcmNoZXNIVE1MOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPSc8dGFibGUgY2VsbHNwYWNpbmc9XFxcIjBcXFwiPicsYj0hMSxjPTA7Yzx0aGlzLnNlYXJjaGVzLmxlbmd0aDtjKyspe3ZhciBkPXRoaXMuc2VhcmNoZXNbY107aWYoZC50eXBlPVN0cmluZyhkLnR5cGUpLnRvTG93ZXJDYXNlKCksIWQuaGlkZGVuKXt2YXIgZT1cXFwiXFxcIjtpZigwPT1iJiYoZT0nPGJ1dHRvbiBjbGFzcz1cXFwidzJ1aS1idG4gY2xvc2UtYnRuXFxcIiBvbmNsaWNrPVxcXCJvYmogPSB3MnVpW1xcXFwnJyt0aGlzLm5hbWUrXFxcIiddOyBpZiAob2JqKSB7IG9iai5zZWFyY2hDbG9zZSgpOyB9XFxcXFxcXCI+WDwvYnV0dG9uXFxcIixiPSEwKSxcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGQuaW5UYWcmJihkLmluVGFnPVxcXCJcXFwiKSxcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGQub3V0VGFnJiYoZC5vdXRUYWc9XFxcIlxcXCIpLFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgZC50eXBlJiYoZC50eXBlPVxcXCJ0ZXh0XFxcIiksLTEhPVtcXFwidGV4dFxcXCIsXFxcImFscGhhbnVtZXJpY1xcXCIsXFxcImNvbWJvXFxcIl0uaW5kZXhPZihkLnR5cGUpKXZhciBmPSc8c2VsZWN0IGlkPVxcXCJncmlkXycrdGhpcy5uYW1lK1xcXCJfb3BlcmF0b3JfXFxcIitjKydcXFwiIG9uY2xpY2s9XFxcImV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xcXCI+ICAgIDxvcHRpb24gdmFsdWU9XFxcImlzXFxcIj4nK3cydXRpbHMubGFuZyhcXFwiaXNcXFwiKSsnPC9vcHRpb24+ICAgIDxvcHRpb24gdmFsdWU9XFxcImJlZ2luc1xcXCI+Jyt3MnV0aWxzLmxhbmcoXFxcImJlZ2luc1xcXCIpKyc8L29wdGlvbj4gICAgPG9wdGlvbiB2YWx1ZT1cXFwiY29udGFpbnNcXFwiPicrdzJ1dGlscy5sYW5nKFxcXCJjb250YWluc1xcXCIpKyc8L29wdGlvbj4gICAgPG9wdGlvbiB2YWx1ZT1cXFwiZW5kc1xcXCI+Jyt3MnV0aWxzLmxhbmcoXFxcImVuZHNcXFwiKStcXFwiPC9vcHRpb24+PC9zZWxlY3Q+XFxcIjtpZigtMSE9W1xcXCJpbnRcXFwiLFxcXCJmbG9hdFxcXCIsXFxcIm1vbmV5XFxcIixcXFwiY3VycmVuY3lcXFwiLFxcXCJwZXJjZW50XFxcIixcXFwiZGF0ZVxcXCIsXFxcInRpbWVcXFwiXS5pbmRleE9mKGQudHlwZSkpdmFyIGY9JzxzZWxlY3QgaWQ9XFxcImdyaWRfJyt0aGlzLm5hbWUrXFxcIl9vcGVyYXRvcl9cXFwiK2MrJ1xcXCIgICAgICAgICBvbmNoYW5nZT1cXFwidzJ1aVtcXFxcJycrdGhpcy5uYW1lK1xcXCInXS5pbml0T3BlcmF0b3IodGhpcywgXFxcIitjKycpO1xcXCIgb25jbGljaz1cXFwiZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XFxcIj4gICAgPG9wdGlvbiB2YWx1ZT1cXFwiaXNcXFwiPicrdzJ1dGlscy5sYW5nKFxcXCJpc1xcXCIpK1xcXCI8L29wdGlvbj5cXFwiKygtMSE9W1xcXCJpbnRcXFwiXS5pbmRleE9mKGQudHlwZSk/JzxvcHRpb24gdmFsdWU9XFxcImluXFxcIj4nK3cydXRpbHMubGFuZyhcXFwiaW5cXFwiKStcXFwiPC9vcHRpb24+XFxcIjpcXFwiXFxcIikrKC0xIT1bXFxcImludFxcXCJdLmluZGV4T2YoZC50eXBlKT8nPG9wdGlvbiB2YWx1ZT1cXFwibm90IGluXFxcIj4nK3cydXRpbHMubGFuZyhcXFwibm90IGluXFxcIikrXFxcIjwvb3B0aW9uPlxcXCI6XFxcIlxcXCIpKyc8b3B0aW9uIHZhbHVlPVxcXCJiZXR3ZWVuXFxcIj4nK3cydXRpbHMubGFuZyhcXFwiYmV0d2VlblxcXCIpK1xcXCI8L29wdGlvbj48L3NlbGVjdD5cXFwiO2lmKC0xIT1bXFxcInNlbGVjdFxcXCIsXFxcImxpc3RcXFwiLFxcXCJoZXhcXFwiXS5pbmRleE9mKGQudHlwZSkpdmFyIGY9JzxzZWxlY3QgaWQ9XFxcImdyaWRfJyt0aGlzLm5hbWUrXFxcIl9vcGVyYXRvcl9cXFwiK2MrJ1xcXCIgb25jbGljaz1cXFwiZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XFxcIj4gICAgPG9wdGlvbiB2YWx1ZT1cXFwiaXNcXFwiPicrdzJ1dGlscy5sYW5nKFxcXCJpc1xcXCIpK1xcXCI8L29wdGlvbj48L3NlbGVjdD5cXFwiO2lmKC0xIT1bXFxcImVudW1cXFwiXS5pbmRleE9mKGQudHlwZSkpdmFyIGY9JzxzZWxlY3QgaWQ9XFxcImdyaWRfJyt0aGlzLm5hbWUrXFxcIl9vcGVyYXRvcl9cXFwiK2MrJ1xcXCIgb25jbGljaz1cXFwiZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XFxcIj4gICAgPG9wdGlvbiB2YWx1ZT1cXFwiaW5cXFwiPicrdzJ1dGlscy5sYW5nKFxcXCJpblxcXCIpKyc8L29wdGlvbj4gICAgPG9wdGlvbiB2YWx1ZT1cXFwibm90IGluXFxcIj4nK3cydXRpbHMubGFuZyhcXFwibm90IGluXFxcIikrXFxcIjwvb3B0aW9uPjwvc2VsZWN0PlxcXCI7c3dpdGNoKGErPSc8dHI+ICAgIDx0ZCBjbGFzcz1cXFwiY2xvc2UtYnRuXFxcIj4nK2UrJzwvdGQ+ICAgIDx0ZCBjbGFzcz1cXFwiY2FwdGlvblxcXCI+JytkLmNhcHRpb24rJzwvdGQ+ICAgIDx0ZCBjbGFzcz1cXFwib3BlcmF0b3JcXFwiPicrZisnPC90ZD4gICAgPHRkIGNsYXNzPVxcXCJ2YWx1ZVxcXCI+JyxkLnR5cGUpe2Nhc2VcXFwidGV4dFxcXCI6Y2FzZVxcXCJhbHBoYW51bWVyaWNcXFwiOmNhc2VcXFwiaGV4XFxcIjpjYXNlXFxcImxpc3RcXFwiOmNhc2VcXFwiY29tYm9cXFwiOmNhc2VcXFwiZW51bVxcXCI6YSs9JzxpbnB1dCByZWw9XFxcInNlYXJjaFxcXCIgdHlwZT1cXFwidGV4dFxcXCIgc3R5bGU9XFxcIndpZHRoOiAzMDBweDtcXFwiIGlkPVxcXCJncmlkXycrdGhpcy5uYW1lK1xcXCJfZmllbGRfXFxcIitjKydcXFwiIG5hbWU9XFxcIicrZC5maWVsZCsnXFxcIiAnK2QuaW5UYWcrXFxcIj5cXFwiO2JyZWFrO2Nhc2VcXFwiaW50XFxcIjpjYXNlXFxcImZsb2F0XFxcIjpjYXNlXFxcIm1vbmV5XFxcIjpjYXNlXFxcImN1cnJlbmN5XFxcIjpjYXNlXFxcInBlcmNlbnRcXFwiOmNhc2VcXFwiZGF0ZVxcXCI6Y2FzZVxcXCJ0aW1lXFxcIjphKz0nPGlucHV0IHJlbD1cXFwic2VhcmNoXFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiBzaXplPVxcXCIxMlxcXCIgaWQ9XFxcImdyaWRfJyt0aGlzLm5hbWUrXFxcIl9maWVsZF9cXFwiK2MrJ1xcXCIgbmFtZT1cXFwiJytkLmZpZWxkKydcXFwiICcrZC5pblRhZysnPjxzcGFuIGlkPVxcXCJncmlkXycrdGhpcy5uYW1lK1xcXCJfcmFuZ2VfXFxcIitjKydcXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBub25lXFxcIj4mbmJzcDstJm5ic3A7Jm5ic3A7PGlucHV0IHJlbD1cXFwic2VhcmNoXFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiBzdHlsZT1cXFwid2lkdGg6IDkwcHhcXFwiIGlkPVxcXCJncmlkXycrdGhpcy5uYW1lK1xcXCJfZmllbGQyX1xcXCIrYysnXFxcIiBuYW1lPVxcXCInK2QuZmllbGQrJ1xcXCIgJytkLmluVGFnK1xcXCI+PC9zcGFuPlxcXCI7YnJlYWs7Y2FzZVxcXCJzZWxlY3RcXFwiOmErPSc8c2VsZWN0IHJlbD1cXFwic2VhcmNoXFxcIiBpZD1cXFwiZ3JpZF8nK3RoaXMubmFtZStcXFwiX2ZpZWxkX1xcXCIrYysnXFxcIiBuYW1lPVxcXCInK2QuZmllbGQrJ1xcXCIgJytkLmluVGFnKycgIG9uY2xpY2s9XFxcImV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xcXCI+PC9zZWxlY3Q+J31hKz1kLm91dFRhZytcXFwiICAgIDwvdGQ+PC90cj5cXFwifX1yZXR1cm4gYSs9Jzx0cj4gICAgPHRkIGNvbHNwYW49XFxcIjRcXFwiIGNsYXNzPVxcXCJhY3Rpb25zXFxcIj4gICAgICAgIDxkaXY+ICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJ3MnVpLWJ0blxcXCIgb25jbGljaz1cXFwib2JqID0gdzJ1aVtcXFxcJycrdGhpcy5uYW1lK1xcXCInXTsgaWYgKG9iaikgeyBvYmouc2VhcmNoUmVzZXQoKTsgfVxcXFxcXFwiPlxcXCIrdzJ1dGlscy5sYW5nKFxcXCJSZXNldFxcXCIpKyc8L2J1dHRvbj4gICAgICAgIDxidXR0b24gY2xhc3M9XFxcIncydWktYnRuIHcydWktYnRuLWJsdWVcXFwiIG9uY2xpY2s9XFxcIm9iaiA9IHcydWlbXFxcXCcnK3RoaXMubmFtZStcXFwiJ107IGlmIChvYmopIHsgb2JqLnNlYXJjaCgpOyB9XFxcXFxcXCI+XFxcIit3MnV0aWxzLmxhbmcoXFxcIlNlYXJjaFxcXCIpK1xcXCI8L2J1dHRvbj4gICAgICAgIDwvZGl2PiAgICA8L3RkPjwvdHI+PC90YWJsZT5cXFwifSxpbml0T3BlcmF0b3I6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Yy5zZWFyY2hlc1tiXSxlPSQoXFxcIiNncmlkX1xcXCIrYy5uYW1lK1xcXCJfcmFuZ2VfXFxcIitiKSxmPSQoXFxcIiNncmlkX1xcXCIrYy5uYW1lK1xcXCJfZmllbGRfXFxcIitiKSxnPWYucGFyZW50KCkuZmluZChcXFwic3BhbiBpbnB1dFxcXCIpO2YudzJmaWVsZChcXFwiaW5cXFwiPT0kKGEpLnZhbCgpfHxcXFwibm90IGluXFxcIj09JChhKS52YWwoKT9cXFwiY2xlYXJcXFwiOmQudHlwZSksXFxcImJldHdlZW5cXFwiPT0kKGEpLnZhbCgpPyhlLnNob3coKSxnLncyZmllbGQoZC50eXBlKSk6ZS5oaWRlKCl9LGluaXRTZWFyY2hlczpmdW5jdGlvbigpe3ZhciBhPXRoaXM7Zm9yKHZhciBiIGluIHRoaXMuc2VhcmNoZXMpe3ZhciBjPXRoaXMuc2VhcmNoZXNbYl0sZD10aGlzLmdldFNlYXJjaERhdGEoYy5maWVsZCk7c3dpdGNoKGMudHlwZT1TdHJpbmcoYy50eXBlKS50b0xvd2VyQ2FzZSgpLFxcXCJvYmplY3RcXFwiIT10eXBlb2YgYy5vcHRpb25zJiYoYy5vcHRpb25zPXt9KSxjLnR5cGUpe2Nhc2VcXFwidGV4dFxcXCI6Y2FzZVxcXCJhbHBoYW51bWVyaWNcXFwiOiQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfb3BlcmF0b3JfXFxcIitiKS52YWwoXFxcImJlZ2luc1xcXCIpLC0xIT1bXFxcImFscGhhbnVtZXJpY1xcXCIsXFxcImhleFxcXCJdLmluZGV4T2YoYy50eXBlKSYmJChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9maWVsZF9cXFwiK2IpLncyZmllbGQoYy50eXBlLGMub3B0aW9ucyk7YnJlYWs7Y2FzZVxcXCJpbnRcXFwiOmNhc2VcXFwiZmxvYXRcXFwiOmNhc2VcXFwibW9uZXlcXFwiOmNhc2VcXFwiY3VycmVuY3lcXFwiOmNhc2VcXFwicGVyY2VudFxcXCI6Y2FzZVxcXCJkYXRlXFxcIjpjYXNlXFxcInRpbWVcXFwiOmlmKGQmJlxcXCJpbnRcXFwiPT1kLnR5cGUmJi0xIT1bXFxcImluXFxcIixcXFwibm90IGluXFxcIl0uaW5kZXhPZihkLm9wZXJhdG9yKSlicmVhazskKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX2ZpZWxkX1xcXCIrYikudzJmaWVsZChjLnR5cGUsYy5vcHRpb25zKSwkKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX2ZpZWxkMl9cXFwiK2IpLncyZmllbGQoYy50eXBlLGMub3B0aW9ucyksc2V0VGltZW91dChmdW5jdGlvbigpeyQoXFxcIiNncmlkX1xcXCIrYS5uYW1lK1xcXCJfZmllbGRfXFxcIitiKS5rZXlkb3duKCksJChcXFwiI2dyaWRfXFxcIithLm5hbWUrXFxcIl9maWVsZDJfXFxcIitiKS5rZXlkb3duKClcXG59LDEpO2JyZWFrO2Nhc2VcXFwiaGV4XFxcIjpicmVhaztjYXNlXFxcImxpc3RcXFwiOmNhc2VcXFwiY29tYm9cXFwiOmNhc2VcXFwiZW51bVxcXCI6dmFyIGU9Yy5vcHRpb25zO1xcXCJsaXN0XFxcIj09Yy50eXBlJiYoZS5zZWxlY3RlZD17fSksXFxcImVudW1cXFwiPT1jLnR5cGUmJihlLnNlbGVjdGVkPVtdKSxkJiYoZS5zZWxlY3RlZD1kLnZhbHVlKSwkKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX2ZpZWxkX1xcXCIrYikudzJmaWVsZChjLnR5cGUsZSksXFxcImNvbWJvXFxcIj09Yy50eXBlJiYkKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX29wZXJhdG9yX1xcXCIrYikudmFsKFxcXCJiZWdpbnNcXFwiKTticmVhaztjYXNlXFxcInNlbGVjdFxcXCI6dmFyIGU9JzxvcHRpb24gdmFsdWU9XFxcIlxcXCI+LS08L29wdGlvbj4nO2Zvcih2YXIgZiBpbiBjLm9wdGlvbnMuaXRlbXMpe3ZhciBnPWMub3B0aW9ucy5pdGVtc1tmXTtpZigkLmlzUGxhaW5PYmplY3QoYy5vcHRpb25zLml0ZW1zW2ZdKSl7dmFyIGg9Zy5pZCxpPWcudGV4dDtcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGgmJlxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgZy52YWx1ZSYmKGg9Zy52YWx1ZSksXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBpJiZcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGcuY2FwdGlvbiYmKGk9Zy5jYXB0aW9uKSxudWxsPT1oJiYoaD1cXFwiXFxcIiksZSs9JzxvcHRpb24gdmFsdWU9XFxcIicraCsnXFxcIj4nK2krXFxcIjwvb3B0aW9uPlxcXCJ9ZWxzZSBlKz0nPG9wdGlvbiB2YWx1ZT1cXFwiJytnKydcXFwiPicrZytcXFwiPC9vcHRpb24+XFxcIn0kKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX2ZpZWxkX1xcXCIrYikuaHRtbChlKX1udWxsIT1kJiYoXFxcImludFxcXCI9PWQudHlwZSYmLTEhPVtcXFwiaW5cXFwiLFxcXCJub3QgaW5cXFwiXS5pbmRleE9mKGQub3BlcmF0b3IpJiYkKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX2ZpZWxkX1xcXCIrYikudzJmaWVsZChcXFwiY2xlYXJcXFwiKS52YWwoZC52YWx1ZSksJChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9vcGVyYXRvcl9cXFwiK2IpLnZhbChkLm9wZXJhdG9yKS50cmlnZ2VyKFxcXCJjaGFuZ2VcXFwiKSwkLmlzQXJyYXkoZC52YWx1ZSk/LTEhPVtcXFwiaW5cXFwiLFxcXCJub3QgaW5cXFwiXS5pbmRleE9mKGQub3BlcmF0b3IpPyQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfZmllbGRfXFxcIitiKS52YWwoZC52YWx1ZSkudHJpZ2dlcihcXFwiY2hhbmdlXFxcIik6KCQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfZmllbGRfXFxcIitiKS52YWwoZC52YWx1ZVswXSkudHJpZ2dlcihcXFwiY2hhbmdlXFxcIiksJChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9maWVsZDJfXFxcIitiKS52YWwoZC52YWx1ZVsxXSkudHJpZ2dlcihcXFwiY2hhbmdlXFxcIikpOlxcXCJ1ZGVmaW5lZFxcXCIhPXR5cGVvZiBkLnZhbHVlJiYkKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX2ZpZWxkX1xcXCIrYikudmFsKGQudmFsdWUpLnRyaWdnZXIoXFxcImNoYW5nZVxcXCIpKX0kKFxcXCIjdzJ1aS1vdmVybGF5LXNlYXJjaGVzLVxcXCIrdGhpcy5uYW1lK1xcXCIgLncydWktZ3JpZC1zZWFyY2hlcyAqW3JlbD1zZWFyY2hdXFxcIikub24oXFxcImtleXByZXNzXFxcIixmdW5jdGlvbihiKXsxMz09Yi5rZXlDb2RlJiYoYS5zZWFyY2goKSwkKCkudzJvdmVybGF5KCkpfSl9LGdldENvbHVtbnNIVE1MOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3ZhciBhPVxcXCI8dHI+XFxcIjtcXFwiXFxcIiE9Yy5jb2x1bW5Hcm91cHNbYy5jb2x1bW5Hcm91cHMubGVuZ3RoLTFdLmNhcHRpb24mJmMuY29sdW1uR3JvdXBzLnB1c2goe2NhcHRpb246XFxcIlxcXCJ9KSxjLnNob3cubGluZU51bWJlcnMmJihhKz0nPHRkIGNsYXNzPVxcXCJ3MnVpLWhlYWQgdzJ1aS1jb2wtbnVtYmVyXFxcIj4gICAgPGRpdj4mbmJzcDs8L2Rpdj48L3RkPicpLGMuc2hvdy5zZWxlY3RDb2x1bW4mJihhKz0nPHRkIGNsYXNzPVxcXCJ3MnVpLWhlYWQgdzJ1aS1jb2wtc2VsZWN0XFxcIj4gICAgPGRpdj4mbmJzcDs8L2Rpdj48L3RkPicpLGMuc2hvdy5leHBhbmRDb2x1bW4mJihhKz0nPHRkIGNsYXNzPVxcXCJ3MnVpLWhlYWQgdzJ1aS1jb2wtZXhwYW5kXFxcIj4gICAgPGRpdj4mbmJzcDs8L2Rpdj48L3RkPicpO2Zvcih2YXIgYj0wLGQ9MDtkPGMuY29sdW1uR3JvdXBzLmxlbmd0aDtkKyspe3ZhciBlPWMuY29sdW1uR3JvdXBzW2RdLGY9Yy5jb2x1bW5zW2JdO2lmKChcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGUuc3Bhbnx8ZS5zcGFuIT1wYXJzZUludChlLnNwYW4pKSYmKGUuc3Bhbj0xKSxcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGUuY29sc3BhbiYmKGUuc3Bhbj1lLmNvbHNwYW4pLGUubWFzdGVyPT09ITApe3ZhciBnPVxcXCJcXFwiO2Zvcih2YXIgaCBpbiBjLnNvcnREYXRhKWMuc29ydERhdGFbaF0uZmllbGQ9PWYuZmllbGQmJihSZWdFeHAoXFxcImFzY1xcXCIsXFxcImlcXFwiKS50ZXN0KGMuc29ydERhdGFbaF0uZGlyZWN0aW9uKSYmKGc9XFxcIncydWktc29ydC11cFxcXCIpLFJlZ0V4cChcXFwiZGVzY1xcXCIsXFxcImlcXFwiKS50ZXN0KGMuc29ydERhdGFbaF0uZGlyZWN0aW9uKSYmKGc9XFxcIncydWktc29ydC1kb3duXFxcIikpO3ZhciBpPVxcXCJcXFwiO2YucmVzaXphYmxlIT09ITEmJihpPSc8ZGl2IGNsYXNzPVxcXCJ3MnVpLXJlc2l6ZXJcXFwiIG5hbWU9XFxcIicrYisnXFxcIj48L2Rpdj4nKSxhKz0nPHRkIGNsYXNzPVxcXCJ3MnVpLWhlYWQgJytnKydcXFwiIGNvbD1cXFwiJytiKydcXFwiIHJvd3NwYW49XFxcIjJcXFwiIGNvbHNwYW49XFxcIicrKGUuc3BhbisoZD09Yy5jb2x1bW5Hcm91cHMubGVuZ3RoLTE/MTowKSkrJ1xcXCIgICAgIG9uY2xpY2s9XFxcIncydWlbXFxcXCcnK2MubmFtZStcXFwiJ10uY29sdW1uQ2xpY2soJ1xcXCIrZi5maWVsZCtcXFwiJywgZXZlbnQpO1xcXFxcXFwiPlxcXCIraSsnICAgIDxkaXYgY2xhc3M9XFxcIncydWktY29sLWdyb3VwIHcydWktY29sLWhlYWRlciAnKyhnP1xcXCJ3MnVpLWNvbC1zb3J0ZWRcXFwiOlxcXCJcXFwiKSsnXFxcIj4gICAgICAgIDxkaXYgY2xhc3M9XFxcIicrZysnXFxcIj48L2Rpdj4nKyhmLmNhcHRpb24/Zi5jYXB0aW9uOlxcXCImbmJzcDtcXFwiKStcXFwiICAgIDwvZGl2PjwvdGQ+XFxcIn1lbHNlIGErPSc8dGQgY2xhc3M9XFxcIncydWktaGVhZFxcXCIgY29sPVxcXCInK2IrJ1xcXCIgICAgICAgICBjb2xzcGFuPVxcXCInKyhlLnNwYW4rKGQ9PWMuY29sdW1uR3JvdXBzLmxlbmd0aC0xPzE6MCkpKydcXFwiPiAgICA8ZGl2IGNsYXNzPVxcXCJ3MnVpLWNvbC1ncm91cFxcXCI+JysoZS5jYXB0aW9uP2UuY2FwdGlvbjpcXFwiJm5ic3A7XFxcIikrXFxcIiAgICA8L2Rpdj48L3RkPlxcXCI7Yis9ZS5zcGFufXJldHVybiBhKz1cXFwiPC90cj5cXFwifWZ1bmN0aW9uIGIoYSl7dmFyIGI9XFxcIjx0cj5cXFwiLGQ9IWMucmVvcmRlckNvbHVtbnN8fGMuY29sdW1uR3JvdXBzJiZjLmNvbHVtbkdyb3Vwcy5sZW5ndGg/XFxcIlxcXCI6XFxcIiB3MnVpLXJlb3JkZXItY29scy1oZWFkIFxcXCI7Yy5zaG93LmxpbmVOdW1iZXJzJiYoYis9Jzx0ZCBjbGFzcz1cXFwidzJ1aS1oZWFkIHcydWktY29sLW51bWJlclxcXCIgb25jbGljaz1cXFwidzJ1aVtcXFxcJycrYy5uYW1lK1xcXCInXS5jb2x1bW5DbGljaygnbGluZS1udW1iZXInLCBldmVudCk7XFxcXFxcXCI+ICAgIDxkaXY+IzwvZGl2PjwvdGQ+XFxcIiksYy5zaG93LnNlbGVjdENvbHVtbiYmKGIrPSc8dGQgY2xhc3M9XFxcIncydWktaGVhZCB3MnVpLWNvbC1zZWxlY3RcXFwiICAgICAgICAgb25jbGljaz1cXFwiaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IGVsc2UgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcXFwiPiAgICA8ZGl2PiAgICAgICAgPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBpZD1cXFwiZ3JpZF8nK2MubmFtZSsnX2NoZWNrX2FsbFxcXCIgdGFiSW5kZXg9XFxcIi0xXFxcIiAgICAgICAgICAgIHN0eWxlPVxcXCInKygwPT1jLm11bHRpU2VsZWN0P1xcXCJkaXNwbGF5OiBub25lO1xcXCI6XFxcIlxcXCIpKydcXFwiICAgICAgICAgICAgb25jbGljaz1cXFwiaWYgKHRoaXMuY2hlY2tlZCkgdzJ1aVtcXFxcJycrYy5uYW1lK1xcXCInXS5zZWxlY3RBbGwoKTsgICAgICAgICAgICAgICAgICAgICAgZWxzZSB3MnVpWydcXFwiK2MubmFtZStcXFwiJ10uc2VsZWN0Tm9uZSgpOyAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgZWxzZSBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlOyAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJsdXIoKTtcXFxcXFxcIj4gICAgPC9kaXY+PC90ZD5cXFwiKSxjLnNob3cuZXhwYW5kQ29sdW1uJiYoYis9Jzx0ZCBjbGFzcz1cXFwidzJ1aS1oZWFkIHcydWktY29sLWV4cGFuZFxcXCI+ICAgIDxkaXY+Jm5ic3A7PC9kaXY+PC90ZD4nKTtmb3IodmFyIGU9MCxmPTAsZz0wO2c8Yy5jb2x1bW5zLmxlbmd0aDtnKyspe3ZhciBoPWMuY29sdW1uc1tnXSxpPXt9O2lmKGc9PWYmJihmKz1cXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGMuY29sdW1uR3JvdXBzW2VdP3BhcnNlSW50KGMuY29sdW1uR3JvdXBzW2VdLnNwYW4pOjAsZSsrKSxcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGMuY29sdW1uR3JvdXBzW2UtMV0pdmFyIGk9Yy5jb2x1bW5Hcm91cHNbZS0xXTtpZighaC5oaWRkZW4pe3ZhciBqPVxcXCJcXFwiO2Zvcih2YXIgayBpbiBjLnNvcnREYXRhKWMuc29ydERhdGFba10uZmllbGQ9PWguZmllbGQmJihSZWdFeHAoXFxcImFzY1xcXCIsXFxcImlcXFwiKS50ZXN0KGMuc29ydERhdGFba10uZGlyZWN0aW9uKSYmKGo9XFxcIncydWktc29ydC11cFxcXCIpLFJlZ0V4cChcXFwiZGVzY1xcXCIsXFxcImlcXFwiKS50ZXN0KGMuc29ydERhdGFba10uZGlyZWN0aW9uKSYmKGo9XFxcIncydWktc29ydC1kb3duXFxcIikpO2lmKGkubWFzdGVyIT09ITB8fGEpe3ZhciBsPVxcXCJcXFwiO2gucmVzaXphYmxlIT09ITEmJihsPSc8ZGl2IGNsYXNzPVxcXCJ3MnVpLXJlc2l6ZXJcXFwiIG5hbWU9XFxcIicrZysnXFxcIj48L2Rpdj4nKSxiKz0nPHRkIGNvbD1cXFwiJytnKydcXFwiIGNsYXNzPVxcXCJ3MnVpLWhlYWQgJytqK2QrJ1xcXCIgICAgIG9uY2xpY2s9XFxcIncydWlbXFxcXCcnK2MubmFtZStcXFwiJ10uY29sdW1uQ2xpY2soJ1xcXCIraC5maWVsZCtcXFwiJywgZXZlbnQpO1xcXFxcXFwiPlxcXCIrbCsnICAgIDxkaXYgY2xhc3M9XFxcIncydWktY29sLWhlYWRlciAnKyhqP1xcXCJ3MnVpLWNvbC1zb3J0ZWRcXFwiOlxcXCJcXFwiKSsnXFxcIj4gICAgICAgIDxkaXYgY2xhc3M9XFxcIicraisnXFxcIj48L2Rpdj4nKyhoLmNhcHRpb24/aC5jYXB0aW9uOlxcXCImbmJzcDtcXFwiKStcXFwiICAgIDwvZGl2PjwvdGQ+XFxcIn19fXJldHVybiBiKz0nPHRkIGNsYXNzPVxcXCJ3MnVpLWhlYWQgdzJ1aS1oZWFkLWxhc3RcXFwiPjxkaXY+Jm5ic3A7PC9kaXY+PC90ZD4nLGIrPVxcXCI8L3RyPlxcXCJ9dmFyIGM9dGhpcyxkPVxcXCJcXFwiO3JldHVybiB0aGlzLnNob3cuY29sdW1uSGVhZGVycyYmKGQ9dGhpcy5jb2x1bW5Hcm91cHMubGVuZ3RoPjA/YighMCkrYSgpK2IoITEpOmIoITApKSxkfSxnZXRSZWNvcmRzSFRNTDpmdW5jdGlvbigpe3ZhciBhPVxcXCJvYmplY3RcXFwiIT10eXBlb2YgdGhpcy51cmw/dGhpcy51cmw6dGhpcy51cmwuZ2V0LGI9dGhpcy5yZWNvcmRzLmxlbmd0aDswPT10aGlzLnNlYXJjaERhdGEubGVuZ3RofHxhfHwoYj10aGlzLmxhc3Quc2VhcmNoSWRzLmxlbmd0aCksdGhpcy5zaG93X2V4dHJhPWI+MzAwPzMwOjMwMDt2YXIgYz0kKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX3JlY29yZHNcXFwiKSxkPU1hdGguZmxvb3IoYy5oZWlnaHQoKS90aGlzLnJlY29yZEhlaWdodCkrdGhpcy5zaG93X2V4dHJhKzE7KCF0aGlzLmZpeGVkQm9keXx8ZD5iKSYmKGQ9Yik7dmFyIGU9XFxcIjx0YWJsZT5cXFwiK3RoaXMuZ2V0UmVjb3JkSFRNTCgtMSwwKTtlKz0nPHRyIGlkPVxcXCJncmlkXycrdGhpcy5uYW1lKydfcmVjX3RvcFxcXCIgbGluZT1cXFwidG9wXFxcIiBzdHlsZT1cXFwiaGVpZ2h0OiAwcHhcXFwiPiAgICA8dGQgY29sc3Bhbj1cXFwiMjAwXFxcIj48L3RkPjwvdHI+Jztmb3IodmFyIGY9MDtkPmY7ZisrKWUrPXRoaXMuZ2V0UmVjb3JkSFRNTChmLGYrMSk7cmV0dXJuIGUrPSc8dHIgaWQ9XFxcImdyaWRfJyt0aGlzLm5hbWUrJ19yZWNfYm90dG9tXFxcIiBsaW5lPVxcXCJib3R0b21cXFwiIHN0eWxlPVxcXCJoZWlnaHQ6ICcrKGItZCkqdGhpcy5yZWNvcmRIZWlnaHQrJ3B4XFxcIj4gICAgPHRkIGNvbHNwYW49XFxcIjIwMFxcXCI+PC90ZD48L3RyPjx0ciBpZD1cXFwiZ3JpZF8nK3RoaXMubmFtZSsnX3JlY19tb3JlXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZVxcXCI+ICAgIDx0ZCBjb2xzcGFuPVxcXCIyMDBcXFwiIGNsYXNzPVxcXCJ3MnVpLWxvYWQtbW9yZVxcXCI+PC90ZD48L3RyPjwvdGFibGU+Jyx0aGlzLmxhc3QucmFuZ2Vfc3RhcnQ9MCx0aGlzLmxhc3QucmFuZ2VfZW5kPWQsZX0sZ2V0U3VtbWFyeUhUTUw6ZnVuY3Rpb24oKXtpZigwIT10aGlzLnN1bW1hcnkubGVuZ3RoKXtmb3IodmFyIGE9XFxcIjx0YWJsZT5cXFwiLGI9MDtiPHRoaXMuc3VtbWFyeS5sZW5ndGg7YisrKWErPXRoaXMuZ2V0UmVjb3JkSFRNTChiLGIrMSwhMCk7cmV0dXJuIGErPVxcXCI8L3RhYmxlPlxcXCJ9fSxzY3JvbGw6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7Yi5tYXJrU2VhcmNoIT09ITEmJihjbGVhclRpbWVvdXQoYi5sYXN0Lm1hcmtlcl90aW1lciksYi5sYXN0Lm1hcmtlcl90aW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGE9W107Zm9yKHZhciBjIGluIGIuc2VhcmNoRGF0YSl7dmFyIGQ9Yi5zZWFyY2hEYXRhW2NdOy0xPT0kLmluQXJyYXkoZC52YWx1ZSxhKSYmYS5wdXNoKGQudmFsdWUpfWEubGVuZ3RoPjAmJiQoYi5ib3gpLmZpbmQoXFxcIi53MnVpLWdyaWQtZGF0YSA+IGRpdlxcXCIpLncybWFya2VyKGEpfSw1MCkpfXZhciBiPSgobmV3IERhdGUpLmdldFRpbWUoKSx0aGlzKSxjPVxcXCJvYmplY3RcXFwiIT10eXBlb2YgdGhpcy51cmw/dGhpcy51cmw6dGhpcy51cmwuZ2V0LGQ9JChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9yZWNvcmRzXFxcIiksZT10aGlzLnJlY29yZHMubGVuZ3RoO2lmKDA9PXRoaXMuc2VhcmNoRGF0YS5sZW5ndGh8fGN8fChlPXRoaXMubGFzdC5zZWFyY2hJZHMubGVuZ3RoKSwwIT1lJiYwIT1kLmxlbmd0aCYmMCE9ZC5oZWlnaHQoKSl7aWYodGhpcy5zaG93X2V4dHJhPWU+MzAwPzMwOjMwMCxkLmhlaWdodCgpPGUqdGhpcy5yZWNvcmRIZWlnaHQmJlxcXCJoaWRkZW5cXFwiPT1kLmNzcyhcXFwib3ZlcmZsb3cteVxcXCIpKXJldHVybiB2b2lkKHRoaXMudG90YWw+MCYmdGhpcy5yZWZyZXNoKCkpO3ZhciBmPU1hdGgucm91bmQoZFswXS5zY3JvbGxUb3AvdGhpcy5yZWNvcmRIZWlnaHQrMSksZz1mKyhNYXRoLnJvdW5kKGQuaGVpZ2h0KCkvdGhpcy5yZWNvcmRIZWlnaHQpLTEpO2lmKGY+ZSYmKGY9ZSksZz5lJiYoZz1lKSwkKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX2Zvb3RlciAudzJ1aS1mb290ZXItcmlnaHRcXFwiKS5odG1sKHcydXRpbHMuZm9ybWF0TnVtYmVyKHRoaXMub2Zmc2V0K2YpK1xcXCItXFxcIit3MnV0aWxzLmZvcm1hdE51bWJlcih0aGlzLm9mZnNldCtnKStcXFwiIFxcXCIrdzJ1dGlscy5sYW5nKFxcXCJvZlxcXCIpK1xcXCIgXFxcIit3MnV0aWxzLmZvcm1hdE51bWJlcih0aGlzLnRvdGFsKSsoYz9cXFwiIChcXFwiK3cydXRpbHMubGFuZyhcXFwiYnVmZmVyZWRcXFwiKStcXFwiIFxcXCIrdzJ1dGlscy5mb3JtYXROdW1iZXIoZSkrKHRoaXMub2Zmc2V0PjA/XFxcIiwgc2tpcCBcXFwiK3cydXRpbHMuZm9ybWF0TnVtYmVyKHRoaXMub2Zmc2V0KTpcXFwiXFxcIikrXFxcIilcXFwiOlxcXCJcXFwiKSksY3x8dGhpcy5maXhlZEJvZHkmJiEodGhpcy50b3RhbDw9MzAwKSl7dmFyIGg9TWF0aC5mbG9vcihkWzBdLnNjcm9sbFRvcC90aGlzLnJlY29yZEhlaWdodCktdGhpcy5zaG93X2V4dHJhLGk9aCtNYXRoLmZsb29yKGQuaGVpZ2h0KCkvdGhpcy5yZWNvcmRIZWlnaHQpKzIqdGhpcy5zaG93X2V4dHJhKzE7MT5oJiYoaD0xKSxpPnRoaXMudG90YWwmJihpPXRoaXMudG90YWwpO3ZhciBqPWQuZmluZChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9yZWNfdG9wXFxcIiksaz1kLmZpbmQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfcmVjX2JvdHRvbVxcXCIpOy0xIT1TdHJpbmcoai5uZXh0KCkucHJvcChcXFwiaWRcXFwiKSkuaW5kZXhPZihcXFwiX2V4cGFuZGVkX3Jvd1xcXCIpJiZqLm5leHQoKS5yZW1vdmUoKSx0aGlzLnRvdGFsPmkmJi0xIT1TdHJpbmcoay5wcmV2KCkucHJvcChcXFwiaWRcXFwiKSkuaW5kZXhPZihcXFwiX2V4cGFuZGVkX3Jvd1xcXCIpJiZrLnByZXYoKS5yZW1vdmUoKTt2YXIgbD1wYXJzZUludChqLm5leHQoKS5hdHRyKFxcXCJsaW5lXFxcIikpLG09cGFyc2VJbnQoay5wcmV2KCkuYXR0cihcXFwibGluZVxcXCIpKTtpZihoPmx8fDE9PWx8fHRoaXMubGFzdC5wdWxsX3JlZnJlc2gpe2lmKGk8PW0rdGhpcy5zaG93X2V4dHJhLTImJmkhPXRoaXMudG90YWwpcmV0dXJuO2Zvcih0aGlzLmxhc3QucHVsbF9yZWZyZXNoPSExOzspe3ZhciBuPWQuZmluZChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9yZWNfdG9wXFxcIikubmV4dCgpO2lmKFxcXCJib3R0b21cXFwiPT1uLmF0dHIoXFxcImxpbmVcXFwiKSlicmVhaztpZighKHBhcnNlSW50KG4uYXR0cihcXFwibGluZVxcXCIpKTxoKSlicmVhaztuLnJlbW92ZSgpfXZhciBuPWQuZmluZChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9yZWNfYm90dG9tXFxcIikucHJldigpLG89bi5hdHRyKFxcXCJsaW5lXFxcIik7XFxcInRvcFxcXCI9PW8mJihvPWgpO2Zvcih2YXIgcD1wYXJzZUludChvKSsxO2k+PXA7cCsrKXRoaXMucmVjb3Jkc1twLTFdJiYodGhpcy5yZWNvcmRzW3AtMV0uZXhwYW5kZWQ9PT0hMCYmKHRoaXMucmVjb3Jkc1twLTFdLmV4cGFuZGVkPSExKSxrLmJlZm9yZSh0aGlzLmdldFJlY29yZEhUTUwocC0xLHApKSk7YSgpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnJlZnJlc2hSYW5nZXMoKX0sMCl9ZWxzZXtpZihoPj1sLXRoaXMuc2hvd19leHRyYSsyJiZoPjEpcmV0dXJuO2Zvcig7Oyl7dmFyIG49ZC5maW5kKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX3JlY19ib3R0b21cXFwiKS5wcmV2KCk7aWYoXFxcInRvcFxcXCI9PW4uYXR0cihcXFwibGluZVxcXCIpKWJyZWFrO2lmKCEocGFyc2VJbnQobi5hdHRyKFxcXCJsaW5lXFxcIikpPmkpKWJyZWFrO24ucmVtb3ZlKCl9dmFyIG49ZC5maW5kKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX3JlY190b3BcXFwiKS5uZXh0KCksbz1uLmF0dHIoXFxcImxpbmVcXFwiKTtcXFwiYm90dG9tXFxcIj09byYmKG89aSk7Zm9yKHZhciBwPXBhcnNlSW50KG8pLTE7cD49aDtwLS0pdGhpcy5yZWNvcmRzW3AtMV0mJih0aGlzLnJlY29yZHNbcC0xXS5leHBhbmRlZD09PSEwJiYodGhpcy5yZWNvcmRzW3AtMV0uZXhwYW5kZWQ9ITEpLGouYWZ0ZXIodGhpcy5nZXRSZWNvcmRIVE1MKHAtMSxwKSkpO2EoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5yZWZyZXNoUmFuZ2VzKCl9LDApfXZhciBxPShoLTEpKmIucmVjb3JkSGVpZ2h0LHI9KGUtaSkqYi5yZWNvcmRIZWlnaHQ7MD5yJiYocj0wKSxqLmNzcyhcXFwiaGVpZ2h0XFxcIixxK1xcXCJweFxcXCIpLGsuY3NzKFxcXCJoZWlnaHRcXFwiLHIrXFxcInB4XFxcIiksYi5sYXN0LnJhbmdlX3N0YXJ0PWgsYi5sYXN0LnJhbmdlX2VuZD1pO3ZhciBzPU1hdGguZmxvb3IoZFswXS5zY3JvbGxUb3AvdGhpcy5yZWNvcmRIZWlnaHQpLHQ9cytNYXRoLmZsb29yKGQuaGVpZ2h0KCkvdGhpcy5yZWNvcmRIZWlnaHQpO2lmKHQrMTA+ZSYmdGhpcy5sYXN0LnB1bGxfbW9yZSE9PSEwJiZlPHRoaXMudG90YWwtdGhpcy5vZmZzZXQpaWYodGhpcy5hdXRvTG9hZD09PSEwKXRoaXMubGFzdC5wdWxsX21vcmU9ITAsdGhpcy5sYXN0Lnhocl9vZmZzZXQrPXRoaXMubGltaXQsdGhpcy5yZXF1ZXN0KFxcXCJnZXQtcmVjb3Jkc1xcXCIpO2Vsc2V7dmFyIHU9JChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9yZWNfbW9yZVxcXCIpO1xcXCJub25lXFxcIj09dS5jc3MoXFxcImRpc3BsYXlcXFwiKSYmdS5zaG93KCkub24oXFxcImNsaWNrXFxcIixmdW5jdGlvbigpe2IubGFzdC5wdWxsX21vcmU9ITAsYi5sYXN0Lnhocl9vZmZzZXQrPWIubGltaXQsYi5yZXF1ZXN0KFxcXCJnZXQtcmVjb3Jkc1xcXCIpLCQodGhpcykuZmluZChcXFwidGRcXFwiKS5odG1sKCc8ZGl2PjxkaXYgc3R5bGU9XFxcIndpZHRoOiAyMHB4OyBoZWlnaHQ6IDIwcHg7XFxcIiBjbGFzcz1cXFwidzJ1aS1zcGlubmVyXFxcIj48L2Rpdj48L2Rpdj4nKX0pLC0xPT11LmZpbmQoXFxcInRkXFxcIikudGV4dCgpLmluZGV4T2YoXFxcIkxvYWRcXFwiKSYmdS5maW5kKFxcXCJ0ZFxcXCIpLmh0bWwoXFxcIjxkaXY+XFxcIit3MnV0aWxzLmxhbmcoXFxcIkxvYWRcXFwiKStcXFwiIFxcXCIrYi5saW1pdCtcXFwiIFxcXCIrdzJ1dGlscy5sYW5nKFxcXCJNb3JlXFxcIikrXFxcIi4uLjwvZGl2PlxcXCIpfWU+PXRoaXMudG90YWwtdGhpcy5vZmZzZXQmJiQoXFxcIiNncmlkX1xcXCIrdGhpcy5uYW1lK1xcXCJfcmVjX21vcmVcXFwiKS5oaWRlKCl9fX0sZ2V0UmVjb3JkSFRNTDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZT1cXFwiXFxcIixmPXRoaXMubGFzdC5zZWxlY3Rpb247aWYoLTE9PWEpe2UrPSc8dHIgbGluZT1cXFwiMFxcXCI+Jyx0aGlzLnNob3cubGluZU51bWJlcnMmJihlKz0nPHRkIGNsYXNzPVxcXCJ3MnVpLWNvbC1udW1iZXJcXFwiIHN0eWxlPVxcXCJoZWlnaHQ6IDBweDtcXFwiPjwvdGQ+JyksdGhpcy5zaG93LnNlbGVjdENvbHVtbiYmKGUrPSc8dGQgY2xhc3M9XFxcIncydWktY29sLXNlbGVjdFxcXCIgc3R5bGU9XFxcImhlaWdodDogMHB4O1xcXCI+PC90ZD4nKSx0aGlzLnNob3cuZXhwYW5kQ29sdW1uJiYoZSs9Jzx0ZCBjbGFzcz1cXFwidzJ1aS1jb2wtZXhwYW5kXFxcIiBzdHlsZT1cXFwiaGVpZ2h0OiAwcHg7XFxcIj48L3RkPicpO2Zvcih2YXIgZyBpbiB0aGlzLmNvbHVtbnMpdGhpcy5jb2x1bW5zW2ddLmhpZGRlbnx8KGUrPSc8dGQgY2xhc3M9XFxcIncydWktZ3JpZC1kYXRhXFxcIiBjb2w9XFxcIicrZysnXFxcIiBzdHlsZT1cXFwiaGVpZ2h0OiAwcHg7XFxcIj48L3RkPicpO3JldHVybiBlKz0nPHRkIGNsYXNzPVxcXCJ3MnVpLWdyaWQtZGF0YS1sYXN0XFxcIiBzdHlsZT1cXFwiaGVpZ2h0OiAwcHg7XFxcIj48L3RkPicsZSs9XFxcIjwvdHI+XFxcIn12YXIgaD1cXFwib2JqZWN0XFxcIiE9dHlwZW9mIHRoaXMudXJsP3RoaXMudXJsOnRoaXMudXJsLmdldDtpZihjIT09ITApaWYodGhpcy5zZWFyY2hEYXRhLmxlbmd0aD4wJiYhaCl7aWYoYT49dGhpcy5sYXN0LnNlYXJjaElkcy5sZW5ndGgpcmV0dXJuXFxcIlxcXCI7YT10aGlzLmxhc3Quc2VhcmNoSWRzW2FdLGQ9dGhpcy5yZWNvcmRzW2FdfWVsc2V7aWYoYT49dGhpcy5yZWNvcmRzLmxlbmd0aClyZXR1cm5cXFwiXFxcIjtkPXRoaXMucmVjb3Jkc1thXX1lbHNle2lmKGE+PXRoaXMuc3VtbWFyeS5sZW5ndGgpcmV0dXJuXFxcIlxcXCI7ZD10aGlzLnN1bW1hcnlbYV19aWYoIWQpcmV0dXJuXFxcIlxcXCI7dmFyIGk9KHcydXRpbHMuZXNjYXBlSWQoZC5yZWNpZCksITEpO2lmKC0xIT1mLmluZGV4ZXMuaW5kZXhPZihhKSYmKGk9ITApLGUrPSc8dHIgaWQ9XFxcImdyaWRfJyt0aGlzLm5hbWUrXFxcIl9yZWNfXFxcIitkLnJlY2lkKydcXFwiIHJlY2lkPVxcXCInK2QucmVjaWQrJ1xcXCIgbGluZT1cXFwiJytiKydcXFwiICBjbGFzcz1cXFwiJysoYiUyPT0wP1xcXCJ3MnVpLWV2ZW5cXFwiOlxcXCJ3MnVpLW9kZFxcXCIpKyhpJiZcXFwicm93XFxcIj09dGhpcy5zZWxlY3RUeXBlP1xcXCIgdzJ1aS1zZWxlY3RlZFxcXCI6XFxcIlxcXCIpKyhkLmVkaXRhYmxlPT09ITE/XFxcIiB3MnVpLW5vLWVkaXRcXFwiOlxcXCJcXFwiKSsoZC5leHBhbmRlZD09PSEwP1xcXCIgdzJ1aS1leHBhbmRlZFxcXCI6XFxcIlxcXCIpKydcXFwiICcrKGMhPT0hMD93MnV0aWxzLmlzSU9TP1xcXCIgICAgb25jbGljayAgPSBcXFxcXFxcIncydWlbJ1xcXCIrdGhpcy5uYW1lK1xcXCInXS5kYmxDbGljaygnXFxcIitkLnJlY2lkK1xcXCInLCBldmVudCk7XFxcXFxcXCJcXFwiOlxcXCIgICAgb25jbGljayAgPSBcXFxcXFxcIncydWlbJ1xcXCIrdGhpcy5uYW1lK1xcXCInXS5jbGljaygnXFxcIitkLnJlY2lkK1xcXCInLCBldmVudCk7XFxcXFxcXCIgICAgb25jb250ZXh0bWVudSA9IFxcXFxcXFwidzJ1aVsnXFxcIit0aGlzLm5hbWUrXFxcIiddLmNvbnRleHRNZW51KCdcXFwiK2QucmVjaWQrXFxcIicsIGV2ZW50KTtcXFxcXFxcIlxcXCI6XFxcIlxcXCIpKycgc3R5bGU9XFxcImhlaWdodDogJyt0aGlzLnJlY29yZEhlaWdodCtcXFwicHg7IFxcXCIrKGl8fFxcXCJzdHJpbmdcXFwiIT10eXBlb2YgZC5zdHlsZT9cXFwiXFxcIjpkLnN0eWxlKSsnXFxcIiAnKyhcXFwic3RyaW5nXFxcIj09dHlwZW9mIGQuc3R5bGU/J2N1c3RvbV9zdHlsZT1cXFwiJytkLnN0eWxlKydcXFwiJzpcXFwiXFxcIikrXFxcIj5cXFwiLHRoaXMuc2hvdy5saW5lTnVtYmVycyYmKGUrPSc8dGQgaWQ9XFxcImdyaWRfJyt0aGlzLm5hbWUrXFxcIl9jZWxsX1xcXCIrYStcXFwiX251bWJlclxcXCIrKGM/XFxcIl9zXFxcIjpcXFwiXFxcIikrJ1xcXCIgY2xhc3M9XFxcIncydWktY29sLW51bWJlclxcXCI+JysoYyE9PSEwP1xcXCI8ZGl2PlxcXCIrYitcXFwiPC9kaXY+XFxcIjpcXFwiXFxcIikrXFxcIjwvdGQ+XFxcIiksdGhpcy5zaG93LnNlbGVjdENvbHVtbiYmKGUrPSc8dGQgaWQ9XFxcImdyaWRfJyt0aGlzLm5hbWUrXFxcIl9jZWxsX1xcXCIrYStcXFwiX3NlbGVjdFxcXCIrKGM/XFxcIl9zXFxcIjpcXFwiXFxcIikrJ1xcXCIgY2xhc3M9XFxcIncydWktZ3JpZC1kYXRhIHcydWktY29sLXNlbGVjdFxcXCIgICAgICAgICBvbmNsaWNrPVxcXCJpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgZWxzZSBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xcXCI+JysoYyE9PSEwPycgICAgPGRpdj4gICAgICAgIDxpbnB1dCBjbGFzcz1cXFwidzJ1aS1ncmlkLXNlbGVjdC1jaGVja1xcXCIgdHlwZT1cXFwiY2hlY2tib3hcXFwiIHRhYkluZGV4PVxcXCItMVxcXCIgICAgICAgICAgICAnKyhpPydjaGVja2VkPVxcXCJjaGVja2VkXFxcIic6XFxcIlxcXCIpK1xcXCIgICAgICAgICAgICBvbmNsaWNrPVxcXFxcXFwidmFyIG9iaiA9IHcydWlbJ1xcXCIrdGhpcy5uYW1lK1xcXCInXTsgICAgICAgICAgICAgICAgIGlmICghb2JqLm11bHRpU2VsZWN0KSB7IG9iai5zZWxlY3ROb25lKCk7IH0gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tlZCkgb2JqLnNlbGVjdCgnXFxcIitkLnJlY2lkK1xcXCInKTsgZWxzZSBvYmoudW5zZWxlY3QoJ1xcXCIrZC5yZWNpZCtcXFwiJyk7ICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgZWxzZSBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlOyAgICAgICAgICAgICAgICB0aGlzLiBibHVyKClcXFxcXFxcIj4gICAgPC9kaXY+XFxcIjpcXFwiXFxcIikrXFxcIjwvdGQ+XFxcIiksdGhpcy5zaG93LmV4cGFuZENvbHVtbil7dmFyIGo9XFxcIlxcXCI7aj1kLmV4cGFuZGVkPT09ITA/XFxcIi1cXFwiOlxcXCIrXFxcIixcXFwibm9uZVxcXCI9PWQuZXhwYW5kZWQmJihqPVxcXCJcXFwiKSxcXFwic3Bpbm5lclxcXCI9PWQuZXhwYW5kZWQmJihqPSc8ZGl2IGNsYXNzPVxcXCJ3MnVpLXNwaW5uZXJcXFwiIHN0eWxlPVxcXCJ3aWR0aDogMTZweDsgbWFyZ2luOiAtMnB4IDJweDtcXFwiPjwvZGl2PicpLGUrPSc8dGQgaWQ9XFxcImdyaWRfJyt0aGlzLm5hbWUrXFxcIl9jZWxsX1xcXCIrYStcXFwiX2V4cGFuZFxcXCIrKGM/XFxcIl9zXFxcIjpcXFwiXFxcIikrJ1xcXCIgY2xhc3M9XFxcIncydWktZ3JpZC1kYXRhIHcydWktY29sLWV4cGFuZFxcXCI+JysoYyE9PSEwPycgICAgPGRpdiBvbmRibGNsaWNrPVxcXCJpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgZWxzZSBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xcXCIgICAgICAgICAgICAgb25jbGljaz1cXFwidzJ1aVtcXFxcJycrdGhpcy5uYW1lK1xcXCInXS50b2dnbGUoJ1xcXCIrZC5yZWNpZCtcXFwiJywgZXZlbnQpOyAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7IGVsc2UgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcXFxcXFxcIj4gICAgICAgIFxcXCIraitcXFwiIDwvZGl2PlxcXCI6XFxcIlxcXCIpK1xcXCI8L3RkPlxcXCJ9Zm9yKHZhciBrPTA7Oyl7dmFyIGw9dGhpcy5jb2x1bW5zW2tdO2lmKGwuaGlkZGVuKXtpZihrKyssXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiB0aGlzLmNvbHVtbnNba10pYnJlYWt9ZWxzZXt2YXIgbT0hYyYmZC5jaGFuZ2VzJiZcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGQuY2hhbmdlc1tsLmZpZWxkXSxuPXRoaXMuZ2V0Q2VsbEhUTUwoYSxrLGMpLG89XFxcIlxcXCI7aWYoXFxcInN0cmluZ1xcXCI9PXR5cGVvZiBsLnJlbmRlcil7dmFyIHA9bC5yZW5kZXIudG9Mb3dlckNhc2UoKS5zcGxpdChcXFwiOlxcXCIpOy0xIT1bXFxcIm51bWJlclxcXCIsXFxcImludFxcXCIsXFxcImZsb2F0XFxcIixcXFwibW9uZXlcXFwiLFxcXCJjdXJyZW5jeVxcXCIsXFxcInBlcmNlbnRcXFwiXS5pbmRleE9mKHBbMF0pJiYobys9XFxcInRleHQtYWxpZ246IHJpZ2h0O1xcXCIpfVxcXCJvYmplY3RcXFwiPT10eXBlb2YgZC5zdHlsZSYmXFxcInN0cmluZ1xcXCI9PXR5cGVvZiBkLnN0eWxlW2tdJiYobys9ZC5zdHlsZVtrXStcXFwiO1xcXCIpO3ZhciBxPSExO2lmKGkmJi0xIT0kLmluQXJyYXkoayxmLmNvbHVtbnNbYV0pJiYocT0hMCksZSs9Jzx0ZCBjbGFzcz1cXFwidzJ1aS1ncmlkLWRhdGEnKyhxP1xcXCIgdzJ1aS1zZWxlY3RlZFxcXCI6XFxcIlxcXCIpKyhtP1xcXCIgdzJ1aS1jaGFuZ2VkXFxcIjpcXFwiXFxcIikrJ1xcXCIgY29sPVxcXCInK2srJ1xcXCIgICAgIHN0eWxlPVxcXCInK28rKFxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgbC5zdHlsZT9sLnN0eWxlOlxcXCJcXFwiKSsnXFxcIiAnKyhcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGwuYXR0cj9sLmF0dHI6XFxcIlxcXCIpK1xcXCI+XFxcIituK1xcXCI8L3RkPlxcXCIsaysrLFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgdGhpcy5jb2x1bW5zW2tdKWJyZWFrfX1yZXR1cm4gZSs9Jzx0ZCBjbGFzcz1cXFwidzJ1aS1ncmlkLWRhdGEtbGFzdFxcXCI+PC90ZD4nLGUrPVxcXCI8L3RyPlxcXCJ9LGdldENlbGxIVE1MOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmNvbHVtbnNbYl0sZT1jIT09ITA/dGhpcy5yZWNvcmRzW2FdOnRoaXMuc3VtbWFyeVthXSxmPXRoaXMuZ2V0Q2VsbFZhbHVlKGEsYixjKSxnPWQuZWRpdGFibGU7aWYobnVsbCE9ZC5yZW5kZXIpe2lmKFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBkLnJlbmRlciYmKGY9JC50cmltKGQucmVuZGVyLmNhbGwodGhpcyxlLGEsYikpLChmLmxlbmd0aDw0fHxcXFwiPGRpdlxcXCIhPWYuc3Vic3RyKDAsNCkudG9Mb3dlckNhc2UoKSkmJihmPVxcXCI8ZGl2PlxcXCIrZitcXFwiPC9kaXY+XFxcIikpLFxcXCJvYmplY3RcXFwiPT10eXBlb2YgZC5yZW5kZXImJihmPVxcXCI8ZGl2PlxcXCIrKGQucmVuZGVyW2ZdfHxcXFwiXFxcIikrXFxcIjwvZGl2PlxcXCIpLFxcXCJzdHJpbmdcXFwiPT10eXBlb2YgZC5yZW5kZXIpe3ZhciBoPWQucmVuZGVyLnRvTG93ZXJDYXNlKCkuc3BsaXQoXFxcIjpcXFwiKSxpPVxcXCJcXFwiLGo9XFxcIlxcXCI7LTEhPVtcXFwibnVtYmVyXFxcIixcXFwiaW50XFxcIixcXFwiZmxvYXRcXFwiLFxcXCJtb25leVxcXCIsXFxcImN1cnJlbmN5XFxcIixcXFwicGVyY2VudFxcXCJdLmluZGV4T2YoaFswXSkmJihcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGhbMV0mJncydXRpbHMuaXNJbnQoaFsxXSl8fChoWzFdPTApLGhbMV0+MjAmJihoWzFdPTIwKSxoWzFdPDAmJihoWzFdPTApLC0xIT1bXFxcIm1vbmV5XFxcIixcXFwiY3VycmVuY3lcXFwiXS5pbmRleE9mKGhbMF0pJiYoaFsxXT13MnV0aWxzLnNldHRpbmdzLmN1cnJlbmN5UHJlY2lzaW9uLGk9dzJ1dGlscy5zZXR0aW5ncy5jdXJyZW5jeVByZWZpeCxqPXcydXRpbHMuc2V0dGluZ3MuY3VycmVuY3lTdWZmaXgpLFxcXCJwZXJjZW50XFxcIj09aFswXSYmKGo9XFxcIiVcXFwiLFxcXCIwXFxcIiE9PWhbMV0mJihoWzFdPTEpKSxcXFwiaW50XFxcIj09aFswXSYmKGhbMV09MCksZj1cXFwiPGRpdj5cXFwiKyhcXFwiXFxcIiE9PWY/aSt3MnV0aWxzLmZvcm1hdE51bWJlcihOdW1iZXIoZikudG9GaXhlZChoWzFdKSkrajpcXFwiXFxcIikrXFxcIjwvZGl2PlxcXCIpLFxcXCJ0aW1lXFxcIj09aFswXSYmKChcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGhbMV18fFxcXCJcXFwiPT1oWzFdKSYmKGhbMV09dzJ1dGlscy5zZXR0aW5ncy50aW1lX2Zvcm1hdCksZj1cXFwiPGRpdj5cXFwiK2krdzJ1dGlscy5mb3JtYXRUaW1lKGYsXFxcImgxMlxcXCI9PWhbMV0/XFxcImhoOm1pIHBtXFxcIjpcXFwiaDI0Om1pXFxcIikraitcXFwiPC9kaXY+XFxcIiksXFxcImRhdGVcXFwiPT1oWzBdJiYoKFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgaFsxXXx8XFxcIlxcXCI9PWhbMV0pJiYoaFsxXT13MnV0aWxzLnNldHRpbmdzLmRhdGVfZGlzcGxheSksZj1cXFwiPGRpdj5cXFwiK2krdzJ1dGlscy5mb3JtYXREYXRlKGYsaFsxXSkraitcXFwiPC9kaXY+XFxcIiksXFxcImFnZVxcXCI9PWhbMF0mJihmPVxcXCI8ZGl2PlxcXCIraSt3MnV0aWxzLmFnZShmKStqK1xcXCI8L2Rpdj5cXFwiKSxcXFwidG9nZ2xlXFxcIj09aFswXSYmKGY9XFxcIjxkaXY+XFxcIitpKyhmP1xcXCJZZXNcXFwiOlxcXCJcXFwiKStqK1xcXCI8L2Rpdj5cXFwiKX19ZWxzZXt2YXIgaz1cXFwiXFxcIjtpZihnJiYtMSE9W1xcXCJjaGVja2JveFxcXCIsXFxcImNoZWNrXFxcIl0uaW5kZXhPZihnLnR5cGUpKXt2YXIgbD1jPy0oYSsxKTphO2s9XFxcInRleHQtYWxpZ246IGNlbnRlclxcXCIsZj0nPGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiAnKyhmP1xcXCJjaGVja2VkXFxcIjpcXFwiXFxcIikrXFxcIiBvbmNsaWNrPVxcXFxcXFwiICAgIHZhciBvYmogPSB3MnVpWydcXFwiK3RoaXMubmFtZStcXFwiJ107ICAgICBvYmouZWRpdENoYW5nZS5jYWxsKG9iaiwgdGhpcywgXFxcIitsK1xcXCIsIFxcXCIrYisnLCBldmVudCk7IFxcXCI+J31pZih0aGlzLnNob3cucmVjb3JkVGl0bGVzKXt2YXIgbT1TdHJpbmcoZikucmVwbGFjZSgvXFxcIi9nLFxcXCInJ1xcXCIpO1xcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgZC50aXRsZSYmKFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBkLnRpdGxlJiYobT1kLnRpdGxlLmNhbGwodGhpcyxlLGEsYikpLFxcXCJzdHJpbmdcXFwiPT10eXBlb2YgZC50aXRsZSYmKG09ZC50aXRsZSkpO3ZhciBmPSc8ZGl2IHRpdGxlPVxcXCInK3cydXRpbHMuc3RyaXBUYWdzKG0pKydcXFwiIHN0eWxlPVxcXCInK2srJ1xcXCI+JytmK1xcXCI8L2Rpdj5cXFwifWVsc2UgdmFyIGY9JzxkaXYgc3R5bGU9XFxcIicraysnXFxcIj4nK2YrXFxcIjwvZGl2PlxcXCJ9cmV0dXJuKG51bGw9PWZ8fFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgZikmJihmPVxcXCJcXFwiKSxmfSxnZXRDZWxsVmFsdWU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuY29sdW1uc1tiXSxlPWMhPT0hMD90aGlzLnJlY29yZHNbYV06dGhpcy5zdW1tYXJ5W2FdLGY9dGhpcy5wYXJzZUZpZWxkKGUsZC5maWVsZCk7cmV0dXJuIGUuY2hhbmdlcyYmXFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBlLmNoYW5nZXNbZC5maWVsZF0mJihmPWUuY2hhbmdlc1tkLmZpZWxkXSksKG51bGw9PWZ8fFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgZikmJihmPVxcXCJcXFwiKSxmfSxnZXRGb290ZXJIVE1MOmZ1bmN0aW9uKCl7cmV0dXJuJzxkaXY+ICAgIDxkaXYgY2xhc3M9XFxcIncydWktZm9vdGVyLWxlZnRcXFwiPjwvZGl2PiAgICA8ZGl2IGNsYXNzPVxcXCJ3MnVpLWZvb3Rlci1yaWdodFxcXCI+PC9kaXY+ICAgIDxkaXYgY2xhc3M9XFxcIncydWktZm9vdGVyLWNlbnRlclxcXCI+PC9kaXY+PC9kaXY+J30sc3RhdHVzOmZ1bmN0aW9uKGEpe2lmKFxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgYSkkKFxcXCIjZ3JpZF9cXFwiK3RoaXMubmFtZStcXFwiX2Zvb3RlclxcXCIpLmZpbmQoXFxcIi53MnVpLWZvb3Rlci1sZWZ0XFxcIikuaHRtbChhKTtlbHNle3ZhciBiPVxcXCJcXFwiLGM9dGhpcy5nZXRTZWxlY3Rpb24oKTtpZihjLmxlbmd0aD4wKXtiPVN0cmluZyhjLmxlbmd0aCkucmVwbGFjZSgvKFxcXFxkKSg/PShcXFxcZFxcXFxkXFxcXGQpKyg/IVxcXFxkKSkvZyxcXFwiJDEsXFxcIikrXFxcIiBcXFwiK3cydXRpbHMubGFuZyhcXFwic2VsZWN0ZWRcXFwiKTt2YXIgZD1jWzBdO1xcXCJvYmplY3RcXFwiPT10eXBlb2YgZCYmKGQ9ZC5yZWNpZCtcXFwiLCBcXFwiK3cydXRpbHMubGFuZyhcXFwiQ29sdW1uXFxcIikrXFxcIjogXFxcIitkLmNvbHVtbiksMT09Yy5sZW5ndGgmJihiPXcydXRpbHMubGFuZyhcXFwiUmVjb3JkIElEXFxcIikrXFxcIjogXFxcIitkK1xcXCIgXFxcIil9JChcXFwiI2dyaWRfXFxcIit0aGlzLm5hbWUrXFxcIl9mb290ZXIgLncydWktZm9vdGVyLWxlZnRcXFwiKS5odG1sKGIpLDE9PWMubGVuZ3RoP3RoaXMudG9vbGJhci5lbmFibGUoXFxcIncydWktZWRpdFxcXCIpOnRoaXMudG9vbGJhci5kaXNhYmxlKFxcXCJ3MnVpLWVkaXRcXFwiKSxjLmxlbmd0aD49MT90aGlzLnRvb2xiYXIuZW5hYmxlKFxcXCJ3MnVpLWRlbGV0ZVxcXCIpOnRoaXMudG9vbGJhci5kaXNhYmxlKFxcXCJ3MnVpLWRlbGV0ZVxcXCIpfX0sbG9jazpmdW5jdGlvbigpe3ZhciBhPSQodGhpcy5ib3gpLmZpbmQoXFxcIj4gZGl2OmZpcnN0LWNoaWxkXFxcIiksYj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7Yi51bnNoaWZ0KGEpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt3MnV0aWxzLmxvY2suYXBwbHkod2luZG93LGIpfSwxMCl9LHVubG9jazpmdW5jdGlvbigpe3ZhciBhPXRoaXMuYm94O3NldFRpbWVvdXQoZnVuY3Rpb24oKXt3MnV0aWxzLnVubG9jayhhKX0sMjUpfSxzdGF0ZVNhdmU6ZnVuY3Rpb24oYSl7aWYoIWxvY2FsU3RvcmFnZSlyZXR1cm4gbnVsbDt2YXIgYj17Y29sdW1uczpbXSxzaG93OiQuZXh0ZW5kKHt9LHRoaXMuc2hvdyksbGFzdDp7c2VhcmNoOnRoaXMubGFzdC5zZWFyY2gsbXVsdGk6dGhpcy5sYXN0Lm11bHRpLGxvZ2ljOnRoaXMubGFzdC5sb2dpYyxjYXB0aW9uOnRoaXMubGFzdC5jYXB0aW9uLGZpZWxkOnRoaXMubGFzdC5maWVsZCxzY3JvbGxUb3A6dGhpcy5sYXN0LnNjcm9sbFRvcCxzY3JvbGxMZWZ0OnRoaXMubGFzdC5zY3JvbGxMZWZ0fSxzb3J0RGF0YTpbXSxzZWFyY2hEYXRhOltdfTtmb3IodmFyIGMgaW4gdGhpcy5jb2x1bW5zKXt2YXIgZD10aGlzLmNvbHVtbnNbY107Yi5jb2x1bW5zLnB1c2goe2ZpZWxkOmQuZmllbGQsaGlkZGVuOmQuaGlkZGVuLHNpemU6ZC5zaXplLHNpemVDYWxjdWxhdGVkOmQuc2l6ZUNhbGN1bGF0ZWQsc2l6ZU9yaWdpbmFsOmQuc2l6ZU9yaWdpbmFsLHNpemVUeXBlOmQuc2l6ZVR5cGV9KX1mb3IodmFyIGMgaW4gdGhpcy5zb3J0RGF0YSliLnNvcnREYXRhLnB1c2goJC5leHRlbmQoe30sdGhpcy5zb3J0RGF0YVtjXSkpO2Zvcih2YXIgYyBpbiB0aGlzLnNlYXJjaERhdGEpYi5zZWFyY2hEYXRhLnB1c2goJC5leHRlbmQoe30sdGhpcy5zZWFyY2hEYXRhW2NdKSk7aWYoYSE9PSEwKXt2YXIgZT10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcInN0YXRlU2F2ZVxcXCIsdGFyZ2V0OnRoaXMubmFtZSxzdGF0ZTpifSk7aWYoZS5pc0NhbmNlbGxlZD09PSEwKXJldHVybiB2b2lkKFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBjYWxsQmFjayYmY2FsbEJhY2soe3N0YXR1czpcXFwiZXJyb3JcXFwiLG1lc3NhZ2U6XFxcIlJlcXVlc3QgYWJvcnRlZC5cXFwifSkpO3RyeXt2YXIgZj0kLnBhcnNlSlNPTihsb2NhbFN0b3JhZ2UudzJ1aXx8XFxcInt9XFxcIik7Znx8KGY9e30pLGYuc3RhdGVzfHwoZi5zdGF0ZXM9e30pLGYuc3RhdGVzW3RoaXMubmFtZV09Yixsb2NhbFN0b3JhZ2UudzJ1aT1KU09OLnN0cmluZ2lmeShmKX1jYXRjaChnKXtyZXR1cm4gZGVsZXRlIGxvY2FsU3RvcmFnZS53MnVpLG51bGx9dGhpcy50cmlnZ2VyKCQuZXh0ZW5kKGUse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSl9cmV0dXJuIGJ9LHN0YXRlUmVzdG9yZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKCFhKXRyeXtpZighbG9jYWxTdG9yYWdlKXJldHVybiExO3ZhciBjPSQucGFyc2VKU09OKGxvY2FsU3RvcmFnZS53MnVpfHxcXFwie31cXFwiKTtjfHwoYz17fSksYy5zdGF0ZXN8fChjLnN0YXRlcz17fSksYT1jLnN0YXRlc1t0aGlzLm5hbWVdfWNhdGNoKGQpe3JldHVybiBkZWxldGUgbG9jYWxTdG9yYWdlLncydWksbnVsbH12YXIgZT10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcInN0YXRlUmVzdG9yZVxcXCIsdGFyZ2V0OnRoaXMubmFtZSxzdGF0ZTphfSk7aWYoZS5pc0NhbmNlbGxlZD09PSEwKXJldHVybiB2b2lkKFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBjYWxsQmFjayYmY2FsbEJhY2soe3N0YXR1czpcXFwiZXJyb3JcXFwiLG1lc3NhZ2U6XFxcIlJlcXVlc3QgYWJvcnRlZC5cXFwifSkpO2lmKCQuaXNQbGFpbk9iamVjdChhKSl7JC5leHRlbmQodGhpcy5zaG93LGEuc2hvdyksJC5leHRlbmQodGhpcy5sYXN0LGEubGFzdCk7dmFyIGY9dGhpcy5sYXN0LnNjcm9sbFRvcCxnPXRoaXMubGFzdC5zY3JvbGxMZWZ0O2Zvcih2YXIgaCBpbiBhLmNvbHVtbnMpe3ZhciBjPWEuY29sdW1uc1toXSxpPXRoaXMuZ2V0Q29sdW1uKGMuZmllbGQpO2kmJiQuZXh0ZW5kKGksYyl9dGhpcy5zb3J0RGF0YS5zcGxpY2UoMCx0aGlzLnNvcnREYXRhLmxlbmd0aCk7Zm9yKHZhciBoIGluIGEuc29ydERhdGEpdGhpcy5zb3J0RGF0YS5wdXNoKGEuc29ydERhdGFbaF0pO3RoaXMuc2VhcmNoRGF0YS5zcGxpY2UoMCx0aGlzLnNlYXJjaERhdGEubGVuZ3RoKTtmb3IodmFyIGggaW4gYS5zZWFyY2hEYXRhKXRoaXMuc2VhcmNoRGF0YS5wdXNoKGEuc2VhcmNoRGF0YVtoXSk7c2V0VGltZW91dChmdW5jdGlvbigpe2Iuc29ydERhdGEubGVuZ3RoPjAmJmIubG9jYWxTb3J0KCksYi5zZWFyY2hEYXRhLmxlbmd0aD4wJiZiLmxvY2FsU2VhcmNoKCksYi5sYXN0LnNjcm9sbFRvcD1mLGIubGFzdC5zY3JvbGxMZWZ0PWcsYi5yZWZyZXNoKCl9LDEpfXJldHVybiB0aGlzLnRyaWdnZXIoJC5leHRlbmQoZSx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKSwhMH0sc3RhdGVSZXNldDpmdW5jdGlvbigpe2lmKHRoaXMuc3RhdGVSZXN0b3JlKHRoaXMubGFzdC5zdGF0ZSksbG9jYWxTdG9yYWdlKXRyeXt2YXIgYT0kLnBhcnNlSlNPTihsb2NhbFN0b3JhZ2UudzJ1aXx8XFxcInt9XFxcIik7YS5zdGF0ZXMmJmEuc3RhdGVzW3RoaXMubmFtZV0mJmRlbGV0ZSBhLnN0YXRlc1t0aGlzLm5hbWVdLGxvY2FsU3RvcmFnZS53MnVpPUpTT04uc3RyaW5naWZ5KGEpfWNhdGNoKGIpe3JldHVybiBkZWxldGUgbG9jYWxTdG9yYWdlLncydWksbnVsbH19LHBhcnNlRmllbGQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1cXFwiXFxcIjt0cnl7Yz1hO3ZhciBkPVN0cmluZyhiKS5zcGxpdChcXFwiLlxcXCIpO2Zvcih2YXIgZSBpbiBkKWM9Y1tkW2VdXX1jYXRjaChmKXtjPVxcXCJcXFwifXJldHVybiBjfSxwcmVwYXJlRGF0YTpmdW5jdGlvbigpe2Zvcih2YXIgYSBpbiB0aGlzLnJlY29yZHMpe3ZhciBiPXRoaXMucmVjb3Jkc1thXTtmb3IodmFyIGMgaW4gdGhpcy5jb2x1bW5zKXt2YXIgZD10aGlzLmNvbHVtbnNbY107aWYobnVsbCE9YltkLmZpZWxkXSYmXFxcInN0cmluZ1xcXCI9PXR5cGVvZiBkLnJlbmRlcil7aWYoLTEhPVtcXFwibnVtYmVyXFxcIixcXFwiaW50XFxcIixcXFwiZmxvYXRcXFwiLFxcXCJtb25leVxcXCIsXFxcImN1cnJlbmN5XFxcIixcXFwicGVyY2VudFxcXCJdLmluZGV4T2YoZC5yZW5kZXIuc3BsaXQoXFxcIjpcXFwiKVswXSkmJlxcXCJudW1iZXJcXFwiIT10eXBlb2YgYltkLmZpZWxkXSYmKGJbZC5maWVsZF09cGFyc2VGbG9hdChiW2QuZmllbGRdKSksLTEhPVtcXFwiZGF0ZVxcXCIsXFxcImFnZVxcXCJdLmluZGV4T2YoZC5yZW5kZXIuc3BsaXQoXFxcIjpcXFwiKVswXSkmJiFiW2QuZmllbGQrXFxcIl9cXFwiXSl7dmFyIGU9YltkLmZpZWxkXTt3MnV0aWxzLmlzSW50KGUpJiYoZT1wYXJzZUludChlKSksYltkLmZpZWxkK1xcXCJfXFxcIl09bmV3IERhdGUoZSl9aWYoLTEhPVtcXFwidGltZVxcXCJdLmluZGV4T2YoZC5yZW5kZXIpKWlmKHcydXRpbHMuaXNUaW1lKGJbZC5maWVsZF0pKXt2YXIgZj13MnV0aWxzLmlzVGltZShiW2QuZmllbGRdLCEwKSxlPW5ldyBEYXRlO2Uuc2V0SG91cnMoZi5ob3VycyxmLm1pbnV0ZXMsZi5zZWNvbmRzP2Yuc2Vjb25kczowLDApLGJbZC5maWVsZCtcXFwiX1xcXCJdfHwoYltkLmZpZWxkK1xcXCJfXFxcIl09ZSl9ZWxzZXt2YXIgZj1iW2QuZmllbGRdO3cydXRpbHMuaXNJbnQoZikmJihmPXBhcnNlSW50KGYpKTt2YXIgZj1udWxsIT1mP25ldyBEYXRlKGYpOm5ldyBEYXRlLGU9bmV3IERhdGU7ZS5zZXRIb3VycyhmLmdldEhvdXJzKCksZi5nZXRNaW51dGVzKCksZi5nZXRTZWNvbmRzKCksMCksYltkLmZpZWxkK1xcXCJfXFxcIl18fChiW2QuZmllbGQrXFxcIl9cXFwiXT1lKX19fX19LG5leHRDZWxsOmZ1bmN0aW9uKGEsYil7dmFyIGM9YSsxO2lmKHRoaXMuY29sdW1ucy5sZW5ndGg9PWMpcmV0dXJuIG51bGw7aWYoYj09PSEwKXt2YXIgZD10aGlzLmNvbHVtbnNbY10uZWRpdGFibGU7aWYodGhpcy5jb2x1bW5zW2NdLmhpZGRlbnx8XFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBkfHxkJiYtMSE9W1xcXCJjaGVja2JveFxcXCIsXFxcImNoZWNrXFxcIl0uaW5kZXhPZihkLnR5cGUpKXJldHVybiB0aGlzLm5leHRDZWxsKGMsYil9cmV0dXJuIGN9LHByZXZDZWxsOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS0xO2lmKDA+YylyZXR1cm4gbnVsbDtpZihiPT09ITApe3ZhciBkPXRoaXMuY29sdW1uc1tjXS5lZGl0YWJsZTtpZih0aGlzLmNvbHVtbnNbY10uaGlkZGVufHxcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGR8fGQmJi0xIT1bXFxcImNoZWNrYm94XFxcIixcXFwiY2hlY2tcXFwiXS5pbmRleE9mKGQudHlwZSkpcmV0dXJuIHRoaXMucHJldkNlbGwoYyxiKX1yZXR1cm4gY30sbmV4dFJvdzpmdW5jdGlvbihhKXtpZihhKzE8dGhpcy5yZWNvcmRzLmxlbmd0aCYmMD09dGhpcy5sYXN0LnNlYXJjaElkcy5sZW5ndGh8fHRoaXMubGFzdC5zZWFyY2hJZHMubGVuZ3RoPjAmJmE8dGhpcy5sYXN0LnNlYXJjaElkc1t0aGlzLmxhc3Quc2VhcmNoSWRzLmxlbmd0aC0xXSl7aWYoYSsrLHRoaXMubGFzdC5zZWFyY2hJZHMubGVuZ3RoPjApZm9yKDs7KXtpZigtMSE9JC5pbkFycmF5KGEsdGhpcy5sYXN0LnNlYXJjaElkcyl8fGE+dGhpcy5yZWNvcmRzLmxlbmd0aClicmVhazthKyt9cmV0dXJuIGF9cmV0dXJuIG51bGx9LHByZXZSb3c6ZnVuY3Rpb24oYSl7aWYoYT4wJiYwPT10aGlzLmxhc3Quc2VhcmNoSWRzLmxlbmd0aHx8dGhpcy5sYXN0LnNlYXJjaElkcy5sZW5ndGg+MCYmYT50aGlzLmxhc3Quc2VhcmNoSWRzWzBdKXtpZihhLS0sdGhpcy5sYXN0LnNlYXJjaElkcy5sZW5ndGg+MClmb3IoOzspe2lmKC0xIT0kLmluQXJyYXkoYSx0aGlzLmxhc3Quc2VhcmNoSWRzKXx8MD5hKWJyZWFrO2EtLX1yZXR1cm4gYX1yZXR1cm4gbnVsbH19LCQuZXh0ZW5kKHcyZ3JpZC5wcm90b3R5cGUsdzJ1dGlscy5ldmVudCksdzJvYmouZ3JpZD13MmdyaWR9KCksZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhKXt0aGlzLmJveD1udWxsLHRoaXMubmFtZT1udWxsLHRoaXMucGFuZWxzPVtdLHRoaXMudG1wPXt9LHRoaXMucGFkZGluZz0xLHRoaXMucmVzaXplcj00LHRoaXMuc3R5bGU9XFxcIlxcXCIsdGhpcy5vblNob3c9bnVsbCx0aGlzLm9uSGlkZT1udWxsLHRoaXMub25SZXNpemluZz1udWxsLHRoaXMub25SZXNpemVyQ2xpY2s9bnVsbCx0aGlzLm9uUmVuZGVyPW51bGwsdGhpcy5vblJlZnJlc2g9bnVsbCx0aGlzLm9uUmVzaXplPW51bGwsdGhpcy5vbkRlc3Ryb3k9bnVsbCwkLmV4dGVuZCghMCx0aGlzLHcyb2JqLmxheW91dCxhKX0sYj1bXFxcInRvcFxcXCIsXFxcImxlZnRcXFwiLFxcXCJtYWluXFxcIixcXFwicHJldmlld1xcXCIsXFxcInJpZ2h0XFxcIixcXFwiYm90dG9tXFxcIl07JC5mbi53MmxheW91dD1mdW5jdGlvbihjKXtmdW5jdGlvbiBkKGEsYixjKXt2YXIgZD1hLmdldChiKTtyZXR1cm4gbnVsbCE9PWQmJlxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgYyYmKGM9ZC50YWJzKSxudWxsPT09ZHx8bnVsbD09PWM/ITE6KCQuaXNBcnJheShjKSYmKGM9e3RhYnM6Y30pLCQoKS53MmRlc3Ryb3koYS5uYW1lK1xcXCJfXFxcIitiK1xcXCJfdGFic1xcXCIpLGQudGFicz0kKCkudzJ0YWJzKCQuZXh0ZW5kKHt9LGMse293bmVyOmEsbmFtZTphLm5hbWUrXFxcIl9cXFwiK2IrXFxcIl90YWJzXFxcIn0pKSxkLnNob3cudGFicz0hMCwhMCl9ZnVuY3Rpb24gZShhLGIsYyl7dmFyIGQ9YS5nZXQoYik7cmV0dXJuIG51bGwhPT1kJiZcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGMmJihjPWQudG9vbGJhciksbnVsbD09PWR8fG51bGw9PT1jPyExOigkLmlzQXJyYXkoYykmJihjPXtpdGVtczpjfSksJCgpLncyZGVzdHJveShhLm5hbWUrXFxcIl9cXFwiK2IrXFxcIl90b29sYmFyXFxcIiksZC50b29sYmFyPSQoKS53MnRvb2xiYXIoJC5leHRlbmQoe30sYyx7b3duZXI6YSxuYW1lOmEubmFtZStcXFwiX1xcXCIrYitcXFwiX3Rvb2xiYXJcXFwifSkpLGQuc2hvdy50b29sYmFyPSEwLCEwKX1pZihcXFwib2JqZWN0XFxcIj09dHlwZW9mIGN8fCFjKXtpZighdzJ1dGlscy5jaGVja05hbWUoYyxcXFwidzJsYXlvdXRcXFwiKSlyZXR1cm47dmFyIGY9Yy5wYW5lbHN8fFtdLGc9bmV3IGEoYyk7JC5leHRlbmQoZyx7aGFuZGxlcnM6W10scGFuZWxzOltdfSk7Zm9yKHZhciBoPTAsaT1mLmxlbmd0aDtpPmg7aCsrKWcucGFuZWxzW2hdPSQuZXh0ZW5kKCEwLHt9LGEucHJvdG90eXBlLnBhbmVsLGZbaF0pLCgkLmlzUGxhaW5PYmplY3QoZy5wYW5lbHNbaF0udGFicyl8fCQuaXNBcnJheShnLnBhbmVsc1toXS50YWJzKSkmJmQoZyxmW2hdLnR5cGUpLCgkLmlzUGxhaW5PYmplY3QoZy5wYW5lbHNbaF0udG9vbGJhcil8fCQuaXNBcnJheShnLnBhbmVsc1toXS50b29sYmFyKSkmJmUoZyxmW2hdLnR5cGUpO2Zvcih2YXIgaiBpbiBiKWo9YltqXSxudWxsPT09Zy5nZXQoaikmJmcucGFuZWxzLnB1c2goJC5leHRlbmQoITAse30sYS5wcm90b3R5cGUucGFuZWwse3R5cGU6aixoaWRkZW46XFxcIm1haW5cXFwiIT09aixzaXplOjUwfSkpO3JldHVybiAkKHRoaXMpLmxlbmd0aD4wJiZnLnJlbmRlcigkKHRoaXMpWzBdKSx3MnVpW2cubmFtZV09ZyxnfWlmKHcydWlbJCh0aGlzKS5hdHRyKFxcXCJuYW1lXFxcIildKXt2YXIgaz13MnVpWyQodGhpcykuYXR0cihcXFwibmFtZVxcXCIpXTtyZXR1cm4ga1tjXS5hcHBseShrLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSksdGhpc31jb25zb2xlLmxvZyhcXFwiRVJST1I6IE1ldGhvZCBcXFwiK2MrXFxcIiBkb2VzIG5vdCBleGlzdCBvbiBqUXVlcnkudzJsYXlvdXRcXFwiKX0sYS5wcm90b3R5cGU9e3BhbmVsOnt0eXBlOm51bGwsdGl0bGU6XFxcIlxcXCIsc2l6ZToxMDAsbWluU2l6ZToyMCxtYXhTaXplOiExLGhpZGRlbjohMSxyZXNpemFibGU6ITEsb3ZlcmZsb3c6XFxcImF1dG9cXFwiLHN0eWxlOlxcXCJcXFwiLGNvbnRlbnQ6XFxcIlxcXCIsdGFiczpudWxsLHRvb2xiYXI6bnVsbCx3aWR0aDpudWxsLGhlaWdodDpudWxsLHNob3c6e3Rvb2xiYXI6ITEsdGFiczohMX0sb25SZWZyZXNoOm51bGwsb25TaG93Om51bGwsb25IaWRlOm51bGx9LGh0bWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLmNvbnRlbnQoYSxiLGMpfSxjb250ZW50OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGU9dGhpcy5nZXQoYSk7aWYoXFxcImNzc1xcXCI9PWEpcmV0dXJuICQoXFxcIiNsYXlvdXRfXFxcIitkLm5hbWUrXFxcIl9wYW5lbF9jc3NcXFwiKS5odG1sKFxcXCI8c3R5bGU+XFxcIitiK1xcXCI8L3N0eWxlPlxcXCIpLCEwO2lmKG51bGw9PT1lKXJldHVybiExO2lmKFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgYnx8bnVsbD09PWIpcmV0dXJuIGUuY29udGVudDtpZihiIGluc3RhbmNlb2YgalF1ZXJ5KXJldHVybiBjb25zb2xlLmxvZyhcXFwiRVJST1I6IFlvdSBjYW4gbm90IHBhc3MgalF1ZXJ5IG9iamVjdCB0byB3MmxheW91dC5jb250ZW50KCkgbWV0aG9kXFxcIiksITE7dmFyIGY9XFxcIiNsYXlvdXRfXFxcIit0aGlzLm5hbWUrXFxcIl9wYW5lbF9cXFwiK2UudHlwZSxnPSQoZitcXFwiPiAudzJ1aS1wYW5lbC1jb250ZW50XFxcIiksaD0wO2lmKGcubGVuZ3RoPjAmJigkKGYpLnNjcm9sbFRvcCgwKSxoPSQoZykucG9zaXRpb24oKS50b3ApLFxcXCJcXFwiPT09ZS5jb250ZW50KWUuY29udGVudD1iLHRoaXMucmVmcmVzaChhKTtlbHNle2lmKGUuY29udGVudD1iLCFlLmhpZGRlbiYmbnVsbCE9PWMmJlxcXCJcXFwiIT09YyYmXFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBjKXt2YXIgaT0kKGYrXFxcIj4gLncydWktcGFuZWwtY29udGVudFxcXCIpO2kuYWZ0ZXIoJzxkaXYgY2xhc3M9XFxcIncydWktcGFuZWwtY29udGVudCBuZXctcGFuZWxcXFwiIHN0eWxlPVxcXCInK2lbMF0uc3R5bGUuY3NzVGV4dCsnXFxcIj48L2Rpdj4nKTt2YXIgaj0kKGYrXFxcIj4gLncydWktcGFuZWwtY29udGVudC5uZXctcGFuZWxcXFwiKTtpLmNzcyhcXFwidG9wXFxcIixoKSxqLmNzcyhcXFwidG9wXFxcIixoKSxcXFwib2JqZWN0XFxcIj09dHlwZW9mIGI/KGIuYm94PWpbMF0sYi5yZW5kZXIoKSk6ai5odG1sKGIpLHcydXRpbHMudHJhbnNpdGlvbihpWzBdLGpbMF0sYyxmdW5jdGlvbigpe2kucmVtb3ZlKCksai5yZW1vdmVDbGFzcyhcXFwibmV3LXBhbmVsXFxcIiksai5jc3MoXFxcIm92ZXJmbG93XFxcIixlLm92ZXJmbG93KSxkLnJlc2l6ZSgpLC0xIT13aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFxcXCJNU0lFXFxcIikmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLnJlc2l6ZSgpfSwxMDApfSl9dGhpcy5yZWZyZXNoKGEpfXJldHVybiBkLnJlc2l6ZSgpLC0xIT13aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFxcXCJNU0lFXFxcIikmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLnJlc2l6ZSgpfSwxMDApLCEwfSxsb2FkOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPXRoaXM7cmV0dXJuXFxcImNzc1xcXCI9PWE/KCQuZ2V0KGIsZnVuY3Rpb24oYixjLGYpe2UuY29udGVudChhLGYucmVzcG9uc2VUZXh0KSxkJiZkKCl9KSwhMCk6bnVsbCE9PXRoaXMuZ2V0KGEpPygkLmdldChiLGZ1bmN0aW9uKGIsZixnKXtlLmNvbnRlbnQoYSxnLnJlc3BvbnNlVGV4dCxjKSxkJiZkKCksZS5yZXNpemUoKSwtMSE9d2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcXFwiTVNJRVxcXCIpJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5yZXNpemUoKX0sMTAwKX0pLCEwKTohMX0sc2l6ZVRvOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPWMuZ2V0KGEpO3JldHVybiBudWxsPT09ZD8hMTooJChjLmJveCkuZmluZChcXFwiID4gZGl2ID4gLncydWktcGFuZWxcXFwiKS5jc3Moe1xcXCItd2Via2l0LXRyYW5zaXRpb25cXFwiOlxcXCIuMnNcXFwiLFxcXCItbW96LXRyYW5zaXRpb25cXFwiOlxcXCIuMnNcXFwiLFxcXCItbXMtdHJhbnNpdGlvblxcXCI6XFxcIi4yc1xcXCIsXFxcIi1vLXRyYW5zaXRpb25cXFwiOlxcXCIuMnNcXFwifSksc2V0VGltZW91dChmdW5jdGlvbigpe2Muc2V0KGEse3NpemU6Yn0pfSwxKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JChjLmJveCkuZmluZChcXFwiID4gZGl2ID4gLncydWktcGFuZWxcXFwiKS5jc3Moe1xcXCItd2Via2l0LXRyYW5zaXRpb25cXFwiOlxcXCIwc1xcXCIsXFxcIi1tb3otdHJhbnNpdGlvblxcXCI6XFxcIjBzXFxcIixcXFwiLW1zLXRyYW5zaXRpb25cXFwiOlxcXCIwc1xcXCIsXFxcIi1vLXRyYW5zaXRpb25cXFwiOlxcXCIwc1xcXCJ9KSxjLnJlc2l6ZSgpfSw1MDApLCEwKX0sc2hvdzpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcInNob3dcXFwiLHRhcmdldDphLG9iamVjdDp0aGlzLmdldChhKSxpbW1lZGlhdGU6Yn0pO2lmKGQuaXNDYW5jZWxsZWQhPT0hMCl7dmFyIGU9Yy5nZXQoYSk7cmV0dXJuIG51bGw9PT1lPyExOihlLmhpZGRlbj0hMSxiPT09ITA/KCQoXFxcIiNsYXlvdXRfXFxcIitjLm5hbWUrXFxcIl9wYW5lbF9cXFwiK2EpLmNzcyh7b3BhY2l0eTpcXFwiMVxcXCJ9KSxlLnJlc2l6YWJsZSYmJChcXFwiI2xheW91dF9cXFwiK2MubmFtZStcXFwiX3Jlc2l6ZXJfXFxcIithKS5zaG93KCksYy50cmlnZ2VyKCQuZXh0ZW5kKGQse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSksYy5yZXNpemUoKSk6KGUucmVzaXphYmxlJiYkKFxcXCIjbGF5b3V0X1xcXCIrYy5uYW1lK1xcXCJfcmVzaXplcl9cXFwiK2EpLnNob3coKSwkKFxcXCIjbGF5b3V0X1xcXCIrYy5uYW1lK1xcXCJfcGFuZWxfXFxcIithKS5jc3Moe29wYWNpdHk6XFxcIjBcXFwifSksJChjLmJveCkuZmluZChcXFwiID4gZGl2ID4gLncydWktcGFuZWxcXFwiKS5jc3Moe1xcXCItd2Via2l0LXRyYW5zaXRpb25cXFwiOlxcXCIuMnNcXFwiLFxcXCItbW96LXRyYW5zaXRpb25cXFwiOlxcXCIuMnNcXFwiLFxcXCItbXMtdHJhbnNpdGlvblxcXCI6XFxcIi4yc1xcXCIsXFxcIi1vLXRyYW5zaXRpb25cXFwiOlxcXCIuMnNcXFwifSksc2V0VGltZW91dChmdW5jdGlvbigpe2MucmVzaXplKCl9LDEpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXskKFxcXCIjbGF5b3V0X1xcXCIrYy5uYW1lK1xcXCJfcGFuZWxfXFxcIithKS5jc3Moe29wYWNpdHk6XFxcIjFcXFwifSl9LDI1MCksc2V0VGltZW91dChmdW5jdGlvbigpeyQoYy5ib3gpLmZpbmQoXFxcIiA+IGRpdiA+IC53MnVpLXBhbmVsXFxcIikuY3NzKHtcXFwiLXdlYmtpdC10cmFuc2l0aW9uXFxcIjpcXFwiMHNcXFwiLFxcXCItbW96LXRyYW5zaXRpb25cXFwiOlxcXCIwc1xcXCIsXFxcIi1tcy10cmFuc2l0aW9uXFxcIjpcXFwiMHNcXFwiLFxcXCItby10cmFuc2l0aW9uXFxcIjpcXFwiMHNcXFwifSksYy50cmlnZ2VyKCQuZXh0ZW5kKGQse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSksYy5yZXNpemUoKX0sNTAwKSksITApfX0saGlkZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcImhpZGVcXFwiLHRhcmdldDphLG9iamVjdDp0aGlzLmdldChhKSxpbW1lZGlhdGU6Yn0pO2lmKGQuaXNDYW5jZWxsZWQhPT0hMCl7dmFyIGU9Yy5nZXQoYSk7cmV0dXJuIG51bGw9PT1lPyExOihlLmhpZGRlbj0hMCxiPT09ITA/KCQoXFxcIiNsYXlvdXRfXFxcIitjLm5hbWUrXFxcIl9wYW5lbF9cXFwiK2EpLmNzcyh7b3BhY2l0eTpcXFwiMFxcXCJ9KSwkKFxcXCIjbGF5b3V0X1xcXCIrYy5uYW1lK1xcXCJfcmVzaXplcl9cXFwiK2EpLmhpZGUoKSxjLnRyaWdnZXIoJC5leHRlbmQoZCx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKSxjLnJlc2l6ZSgpKTooJChcXFwiI2xheW91dF9cXFwiK2MubmFtZStcXFwiX3Jlc2l6ZXJfXFxcIithKS5oaWRlKCksJChjLmJveCkuZmluZChcXFwiID4gZGl2ID4gLncydWktcGFuZWxcXFwiKS5jc3Moe1xcXCItd2Via2l0LXRyYW5zaXRpb25cXFwiOlxcXCIuMnNcXFwiLFxcXCItbW96LXRyYW5zaXRpb25cXFwiOlxcXCIuMnNcXFwiLFxcXCItbXMtdHJhbnNpdGlvblxcXCI6XFxcIi4yc1xcXCIsXFxcIi1vLXRyYW5zaXRpb25cXFwiOlxcXCIuMnNcXFwifSksJChcXFwiI2xheW91dF9cXFwiK2MubmFtZStcXFwiX3BhbmVsX1xcXCIrYSkuY3NzKHtvcGFjaXR5OlxcXCIwXFxcIn0pLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLnJlc2l6ZSgpfSwxKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JChjLmJveCkuZmluZChcXFwiID4gZGl2ID4gLncydWktcGFuZWxcXFwiKS5jc3Moe1xcXCItd2Via2l0LXRyYW5zaXRpb25cXFwiOlxcXCIwc1xcXCIsXFxcIi1tb3otdHJhbnNpdGlvblxcXCI6XFxcIjBzXFxcIixcXFwiLW1zLXRyYW5zaXRpb25cXFwiOlxcXCIwc1xcXCIsXFxcIi1vLXRyYW5zaXRpb25cXFwiOlxcXCIwc1xcXCJ9KSxjLnRyaWdnZXIoJC5leHRlbmQoZCx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKSxjLnJlc2l6ZSgpfSw1MDApKSwhMCl9fSx0b2dnbGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldChhKTtyZXR1cm4gbnVsbD09PWM/ITE6Yy5oaWRkZW4/dGhpcy5zaG93KGEsYik6dGhpcy5oaWRlKGEsYil9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0KGEsITApO3JldHVybiBudWxsPT09Yz8hMTooJC5leHRlbmQodGhpcy5wYW5lbHNbY10sYiksXFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBiLmNvbnRlbnQmJnRoaXMucmVmcmVzaChhKSx0aGlzLnJlc2l6ZSgpLCEwKX0sZ2V0OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjIGluIHRoaXMucGFuZWxzKWlmKHRoaXMucGFuZWxzW2NdLnR5cGU9PWEpcmV0dXJuIGI9PT0hMD9jOnRoaXMucGFuZWxzW2NdO3JldHVybiBudWxsfSxlbDpmdW5jdGlvbihhKXt2YXIgYj0kKFxcXCIjbGF5b3V0X1xcXCIrdGhpcy5uYW1lK1xcXCJfcGFuZWxfXFxcIithK1xcXCI+IC53MnVpLXBhbmVsLWNvbnRlbnRcXFwiKTtyZXR1cm4gMSE9Yi5sZW5ndGg/bnVsbDpiWzBdfSxoaWRlVG9vbGJhcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldChhKTtiJiYoYi5zaG93LnRvb2xiYXI9ITEsJChcXFwiI2xheW91dF9cXFwiK3RoaXMubmFtZStcXFwiX3BhbmVsX1xcXCIrYStcXFwiPiAudzJ1aS1wYW5lbC10b29sYmFyXFxcIikuaGlkZSgpLHRoaXMucmVzaXplKCkpfSxzaG93VG9vbGJhcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldChhKTtiJiYoYi5zaG93LnRvb2xiYXI9ITAsJChcXFwiI2xheW91dF9cXFwiK3RoaXMubmFtZStcXFwiX3BhbmVsX1xcXCIrYStcXFwiPiAudzJ1aS1wYW5lbC10b29sYmFyXFxcIikuc2hvdygpLHRoaXMucmVzaXplKCkpfSx0b2dnbGVUb29sYmFyOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0KGEpO2ImJihiLnNob3cudG9vbGJhcj90aGlzLmhpZGVUb29sYmFyKGEpOnRoaXMuc2hvd1Rvb2xiYXIoYSkpfSxoaWRlVGFiczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldChhKTtiJiYoYi5zaG93LnRhYnM9ITEsJChcXFwiI2xheW91dF9cXFwiK3RoaXMubmFtZStcXFwiX3BhbmVsX1xcXCIrYStcXFwiPiAudzJ1aS1wYW5lbC10YWJzXFxcIikuaGlkZSgpLHRoaXMucmVzaXplKCkpfSxzaG93VGFiczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldChhKTtiJiYoYi5zaG93LnRhYnM9ITAsJChcXFwiI2xheW91dF9cXFwiK3RoaXMubmFtZStcXFwiX3BhbmVsX1xcXCIrYStcXFwiPiAudzJ1aS1wYW5lbC10YWJzXFxcIikuc2hvdygpLHRoaXMucmVzaXplKCkpfSx0b2dnbGVUYWJzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0KGEpO2ImJihiLnNob3cudGFicz90aGlzLmhpZGVUYWJzKGEpOnRoaXMuc2hvd1RhYnMoYSkpfSxyZW5kZXI6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYygpe2cudG1wLmV2ZW50cz17cmVzaXplOmZ1bmN0aW9uKCl7dzJ1aVtnLm5hbWVdLnJlc2l6ZSgpfSxyZXNpemVTdGFydDpkLG1vdXNlTW92ZTpmLG1vdXNlVXA6ZX0sJCh3aW5kb3cpLm9uKFxcXCJyZXNpemVcXFwiLGcudG1wLmV2ZW50cy5yZXNpemUpfWZ1bmN0aW9uIGQoYSxjKXtpZihnLmJveCl7Y3x8KGM9d2luZG93LmV2ZW50KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcnx8d2luZG93LmRvY3VtZW50LmF0dGFjaEV2ZW50KFxcXCJvbnNlbGVjdHN0YXJ0XFxcIixmdW5jdGlvbigpe3JldHVybiExfSksJChkb2N1bWVudCkub2ZmKFxcXCJtb3VzZW1vdmVcXFwiLGcudG1wLmV2ZW50cy5tb3VzZU1vdmUpLm9uKFxcXCJtb3VzZW1vdmVcXFwiLGcudG1wLmV2ZW50cy5tb3VzZU1vdmUpLCQoZG9jdW1lbnQpLm9mZihcXFwibW91c2V1cFxcXCIsZy50bXAuZXZlbnRzLm1vdXNlVXApLm9uKFxcXCJtb3VzZXVwXFxcIixnLnRtcC5ldmVudHMubW91c2VVcCksZy50bXAucmVzaXplPXt0eXBlOmEseDpjLnNjcmVlblgseTpjLnNjcmVlblksZGlmZl94OjAsZGlmZl95OjAsdmFsdWU6MH07Zm9yKHZhciBkIGluIGIpZD1iW2RdLGcubG9jayhkLHtvcGFjaXR5OjB9KTsoXFxcImxlZnRcXFwiPT1hfHxcXFwicmlnaHRcXFwiPT1hKSYmKGcudG1wLnJlc2l6ZS52YWx1ZT1wYXJzZUludCgkKFxcXCIjbGF5b3V0X1xcXCIrZy5uYW1lK1xcXCJfcmVzaXplcl9cXFwiK2EpWzBdLnN0eWxlLmxlZnQpKSwoXFxcInRvcFxcXCI9PWF8fFxcXCJwcmV2aWV3XFxcIj09YXx8XFxcImJvdHRvbVxcXCI9PWEpJiYoZy50bXAucmVzaXplLnZhbHVlPXBhcnNlSW50KCQoXFxcIiNsYXlvdXRfXFxcIitnLm5hbWUrXFxcIl9yZXNpemVyX1xcXCIrYSlbMF0uc3R5bGUudG9wKSl9fWZ1bmN0aW9uIGUoYSl7aWYoZy5ib3gmJihhfHwoYT13aW5kb3cuZXZlbnQpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyfHx3aW5kb3cuZG9jdW1lbnQuYXR0YWNoRXZlbnQoXFxcIm9uc2VsZWN0c3RhcnRcXFwiLGZ1bmN0aW9uKCl7cmV0dXJuITF9KSwkKGRvY3VtZW50KS5vZmYoXFxcIm1vdXNlbW92ZVxcXCIsZy50bXAuZXZlbnRzLm1vdXNlTW92ZSksJChkb2N1bWVudCkub2ZmKFxcXCJtb3VzZXVwXFxcIixnLnRtcC5ldmVudHMubW91c2VVcCksXFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBnLnRtcC5yZXNpemUpKXtmb3IodmFyIGMgaW4gYilnLnVubG9jayhiW2NdKTtpZigwIT09Zy50bXAuZGlmZl94fHwwIT09Zy50bXAucmVzaXplLmRpZmZfeSl7dmFyIGQsZSxmPWcuZ2V0KFxcXCJ0b3BcXFwiKSxoPWcuZ2V0KFxcXCJib3R0b21cXFwiKSxpPWcuZ2V0KGcudG1wLnJlc2l6ZS50eXBlKSxqPXBhcnNlSW50KCQoZy5ib3gpLmhlaWdodCgpKSxrPXBhcnNlSW50KCQoZy5ib3gpLndpZHRoKCkpLGw9U3RyaW5nKGkuc2l6ZSk7c3dpdGNoKGcudG1wLnJlc2l6ZS50eXBlKXtjYXNlXFxcInRvcFxcXCI6ZD1wYXJzZUludChpLnNpemVDYWxjdWxhdGVkKStnLnRtcC5yZXNpemUuZGlmZl95LGU9MDticmVhaztjYXNlXFxcImJvdHRvbVxcXCI6ZD1wYXJzZUludChpLnNpemVDYWxjdWxhdGVkKS1nLnRtcC5yZXNpemUuZGlmZl95LGU9MDticmVhaztjYXNlXFxcInByZXZpZXdcXFwiOmQ9cGFyc2VJbnQoaS5zaXplQ2FsY3VsYXRlZCktZy50bXAucmVzaXplLmRpZmZfeSxlPShmJiYhZi5oaWRkZW4/Zi5zaXplQ2FsY3VsYXRlZDowKSsoaCYmIWguaGlkZGVuP2guc2l6ZUNhbGN1bGF0ZWQ6MCk7YnJlYWs7Y2FzZVxcXCJsZWZ0XFxcIjpkPXBhcnNlSW50KGkuc2l6ZUNhbGN1bGF0ZWQpK2cudG1wLnJlc2l6ZS5kaWZmX3gsZT0wO2JyZWFrO2Nhc2VcXFwicmlnaHRcXFwiOmQ9cGFyc2VJbnQoaS5zaXplQ2FsY3VsYXRlZCktZy50bXAucmVzaXplLmRpZmZfeCxlPTB9aS5zaXplPVxcXCIlXFxcIj09bC5zdWJzdHIobC5sZW5ndGgtMSk/TWF0aC5mbG9vcigxMDAqZC8oXFxcImxlZnRcXFwiPT1pLnR5cGV8fFxcXCJyaWdodFxcXCI9PWkudHlwZT9rOmotZSkqMTAwKS8xMDArXFxcIiVcXFwiOmQsZy5yZXNpemUoKX0kKFxcXCIjbGF5b3V0X1xcXCIrZy5uYW1lK1xcXCJfcmVzaXplcl9cXFwiK2cudG1wLnJlc2l6ZS50eXBlKS5yZW1vdmVDbGFzcyhcXFwiYWN0aXZlXFxcIiksZGVsZXRlIGcudG1wLnJlc2l6ZX19ZnVuY3Rpb24gZihhKXtpZihnLmJveCYmKGF8fChhPXdpbmRvdy5ldmVudCksXFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBnLnRtcC5yZXNpemUpKXt2YXIgYj1nLmdldChnLnRtcC5yZXNpemUudHlwZSksYz1nLnRtcC5yZXNpemUsZD1nLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcInJlc2l6aW5nXFxcIix0YXJnZXQ6Zy5uYW1lLG9iamVjdDpiLG9yaWdpbmFsRXZlbnQ6YSxwYW5lbDpjP2MudHlwZTpcXFwiYWxsXFxcIixkaWZmX3g6Yz9jLmRpZmZfeDowLGRpZmZfeTpjP2MuZGlmZl95OjB9KTtpZihkLmlzQ2FuY2VsbGVkIT09ITApe3ZhciBlPSQoXFxcIiNsYXlvdXRfXFxcIitnLm5hbWUrXFxcIl9yZXNpemVyX1xcXCIrYy50eXBlKSxmPWEuc2NyZWVuWC1jLngsaD1hLnNjcmVlblktYy55LGk9Zy5nZXQoXFxcIm1haW5cXFwiKTtzd2l0Y2goZS5oYXNDbGFzcyhcXFwiYWN0aXZlXFxcIil8fGUuYWRkQ2xhc3MoXFxcImFjdGl2ZVxcXCIpLGMudHlwZSl7Y2FzZVxcXCJsZWZ0XFxcIjpiLm1pblNpemUtZj5iLndpZHRoJiYoZj1iLm1pblNpemUtYi53aWR0aCksYi5tYXhTaXplJiZiLndpZHRoK2Y+Yi5tYXhTaXplJiYoZj1iLm1heFNpemUtYi53aWR0aCksaS5taW5TaXplK2Y+aS53aWR0aCYmKGY9aS53aWR0aC1pLm1pblNpemUpO2JyZWFrO2Nhc2VcXFwicmlnaHRcXFwiOmIubWluU2l6ZStmPmIud2lkdGgmJihmPWIud2lkdGgtYi5taW5TaXplKSxiLm1heFNpemUmJmIud2lkdGgtZj5iLm1heFNpemUmJihmPWIud2lkdGgtYi5tYXhTaXplKSxpLm1pblNpemUtZj5pLndpZHRoJiYoZj1pLm1pblNpemUtaS53aWR0aCk7YnJlYWs7Y2FzZVxcXCJ0b3BcXFwiOmIubWluU2l6ZS1oPmIuaGVpZ2h0JiYoaD1iLm1pblNpemUtYi5oZWlnaHQpLGIubWF4U2l6ZSYmYi5oZWlnaHQraD5iLm1heFNpemUmJihoPWIubWF4U2l6ZS1iLmhlaWdodCksaS5taW5TaXplK2g+aS5oZWlnaHQmJihoPWkuaGVpZ2h0LWkubWluU2l6ZSk7YnJlYWs7Y2FzZVxcXCJwcmV2aWV3XFxcIjpjYXNlXFxcImJvdHRvbVxcXCI6Yi5taW5TaXplK2g+Yi5oZWlnaHQmJihoPWIuaGVpZ2h0LWIubWluU2l6ZSksYi5tYXhTaXplJiZiLmhlaWdodC1oPmIubWF4U2l6ZSYmKGg9Yi5oZWlnaHQtYi5tYXhTaXplKSxpLm1pblNpemUtaD5pLmhlaWdodCYmKGg9aS5taW5TaXplLWkuaGVpZ2h0KX1zd2l0Y2goYy5kaWZmX3g9ZixjLmRpZmZfeT1oLGMudHlwZSl7Y2FzZVxcXCJ0b3BcXFwiOmNhc2VcXFwicHJldmlld1xcXCI6Y2FzZVxcXCJib3R0b21cXFwiOmMuZGlmZl94PTAsZS5sZW5ndGg+MCYmKGVbMF0uc3R5bGUudG9wPWMudmFsdWUrYy5kaWZmX3krXFxcInB4XFxcIik7YnJlYWs7Y2FzZVxcXCJsZWZ0XFxcIjpjYXNlXFxcInJpZ2h0XFxcIjpjLmRpZmZfeT0wLGUubGVuZ3RoPjAmJihlWzBdLnN0eWxlLmxlZnQ9Yy52YWx1ZStjLmRpZmZfeCtcXFwicHhcXFwiKX1nLnRyaWdnZXIoJC5leHRlbmQoZCx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX19fXZhciBnPXRoaXMsaD0obmV3IERhdGUpLmdldFRpbWUoKSxpPWcudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwicmVuZGVyXFxcIix0YXJnZXQ6Zy5uYW1lLGJveDphfSk7aWYoaS5pc0NhbmNlbGxlZCE9PSEwKXtpZihcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGEmJm51bGwhPT1hJiYoJChnLmJveCkuZmluZChcXFwiI2xheW91dF9cXFwiK2cubmFtZStcXFwiX3BhbmVsX21haW5cXFwiKS5sZW5ndGg+MCYmJChnLmJveCkucmVtb3ZlQXR0cihcXFwibmFtZVxcXCIpLnJlbW92ZUNsYXNzKFxcXCJ3MnVpLWxheW91dFxcXCIpLmh0bWwoXFxcIlxcXCIpLGcuYm94PWEpLCFnLmJveClyZXR1cm4hMTskKGcuYm94KS5hdHRyKFxcXCJuYW1lXFxcIixnLm5hbWUpLmFkZENsYXNzKFxcXCJ3MnVpLWxheW91dFxcXCIpLmh0bWwoXFxcIjxkaXY+PC9kaXY+XFxcIiksJChnLmJveCkubGVuZ3RoPjAmJigkKGcuYm94KVswXS5zdHlsZS5jc3NUZXh0Kz1nLnN0eWxlKTtmb3IodmFyIGogaW4gYil7aj1iW2pdO3ZhciBrPShnLmdldChqKSwnPGRpdiBpZD1cXFwibGF5b3V0XycrZy5uYW1lK1xcXCJfcGFuZWxfXFxcIitqKydcXFwiIGNsYXNzPVxcXCJ3MnVpLXBhbmVsXFxcIj4gICAgPGRpdiBjbGFzcz1cXFwidzJ1aS1wYW5lbC10aXRsZVxcXCI+PC9kaXY+ICAgIDxkaXYgY2xhc3M9XFxcIncydWktcGFuZWwtdGFic1xcXCI+PC9kaXY+ICAgIDxkaXYgY2xhc3M9XFxcIncydWktcGFuZWwtdG9vbGJhclxcXCI+PC9kaXY+ICAgIDxkaXYgY2xhc3M9XFxcIncydWktcGFuZWwtY29udGVudFxcXCI+PC9kaXY+PC9kaXY+PGRpdiBpZD1cXFwibGF5b3V0XycrZy5uYW1lK1xcXCJfcmVzaXplcl9cXFwiK2orJ1xcXCIgY2xhc3M9XFxcIncydWktcmVzaXplclxcXCI+PC9kaXY+Jyk7XFxuJChnLmJveCkuZmluZChcXFwiID4gZGl2XFxcIikuYXBwZW5kKGspfXJldHVybiAkKGcuYm94KS5maW5kKFxcXCIgPiBkaXZcXFwiKS5hcHBlbmQoJzxkaXYgaWQ9XFxcImxheW91dF8nK2cubmFtZSsnX3BhbmVsX2Nzc1xcXCIgc3R5bGU9XFxcInBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAxMDAwMHB4O1xcXCI+PC9kaXYnKSxnLnJlZnJlc2goKSxnLnRyaWdnZXIoJC5leHRlbmQoaSx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YygpLGcucmVzaXplKCl9LDApLChuZXcgRGF0ZSkuZ2V0VGltZSgpLWh9fSxyZWZyZXNoOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7XFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBhJiYoYT1udWxsKTt2YXIgYz0obmV3IERhdGUpLmdldFRpbWUoKSxkPWIudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwicmVmcmVzaFxcXCIsdGFyZ2V0OlxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgYT9hOmIubmFtZSxvYmplY3Q6Yi5nZXQoYSl9KTtpZihkLmlzQ2FuY2VsbGVkIT09ITApe2lmKFxcXCJzdHJpbmdcXFwiPT10eXBlb2YgYSl7dmFyIGU9Yi5nZXQoYSk7aWYobnVsbD09PWUpcmV0dXJuO3ZhciBmPVxcXCIjbGF5b3V0X1xcXCIrYi5uYW1lK1xcXCJfcGFuZWxfXFxcIitlLnR5cGUsZz1cXFwiI2xheW91dF9cXFwiK2IubmFtZStcXFwiX3Jlc2l6ZXJfXFxcIitlLnR5cGU7JChmKS5jc3Moe2Rpc3BsYXk6ZS5oaWRkZW4/XFxcIm5vbmVcXFwiOlxcXCJibG9ja1xcXCJ9KSxlLnJlc2l6YWJsZT8kKGcpLnNob3coKTokKGcpLmhpZGUoKSxcXFwib2JqZWN0XFxcIj09dHlwZW9mIGUuY29udGVudCYmXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGUuY29udGVudC5yZW5kZXI/KGUuY29udGVudC5ib3g9JChmK1xcXCI+IC53MnVpLXBhbmVsLWNvbnRlbnRcXFwiKVswXSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JChmK1xcXCI+IC53MnVpLXBhbmVsLWNvbnRlbnRcXFwiKS5sZW5ndGg+MCYmKCQoZitcXFwiPiAudzJ1aS1wYW5lbC1jb250ZW50XFxcIikucmVtb3ZlQ2xhc3MoKS5yZW1vdmVBdHRyKFxcXCJuYW1lXFxcIikub2ZmKFxcXCJzZWxlY3RzdGFydFxcXCIpLmFkZENsYXNzKFxcXCJ3MnVpLXBhbmVsLWNvbnRlbnRcXFwiKS5jc3MoXFxcIm92ZXJmbG93XFxcIixlLm92ZXJmbG93KVswXS5zdHlsZS5jc3NUZXh0Kz1cXFwiO1xcXCIrZS5zdHlsZSksZS5jb250ZW50LnJlbmRlcigpfSwxKSk6JChmK1xcXCI+IC53MnVpLXBhbmVsLWNvbnRlbnRcXFwiKS5sZW5ndGg+MCYmKCQoZitcXFwiPiAudzJ1aS1wYW5lbC1jb250ZW50XFxcIikucmVtb3ZlQ2xhc3MoKS5yZW1vdmVBdHRyKFxcXCJuYW1lXFxcIikub2ZmKFxcXCJzZWxlY3RzdGFydFxcXCIpLmFkZENsYXNzKFxcXCJ3MnVpLXBhbmVsLWNvbnRlbnRcXFwiKS5odG1sKGUuY29udGVudCkuY3NzKFxcXCJvdmVyZmxvd1xcXCIsZS5vdmVyZmxvdylbMF0uc3R5bGUuY3NzVGV4dCs9XFxcIjtcXFwiK2Uuc3R5bGUpO3ZhciBoPSQoYi5ib3gpLmZpbmQoZitcXFwiPiAudzJ1aS1wYW5lbC10YWJzXFxcIik7ZS5zaG93LnRhYnM/MD09PWguZmluZChcXFwiW25hbWU9XFxcIitlLnRhYnMubmFtZStcXFwiXVxcXCIpLmxlbmd0aCYmbnVsbCE9PWUudGFicz9oLncycmVuZGVyKGUudGFicyk6ZS50YWJzLnJlZnJlc2goKTpoLmh0bWwoXFxcIlxcXCIpLnJlbW92ZUNsYXNzKFxcXCJ3MnVpLXRhYnNcXFwiKS5oaWRlKCksaD0kKGIuYm94KS5maW5kKGYrXFxcIj4gLncydWktcGFuZWwtdG9vbGJhclxcXCIpLGUuc2hvdy50b29sYmFyPzA9PT1oLmZpbmQoXFxcIltuYW1lPVxcXCIrZS50b29sYmFyLm5hbWUrXFxcIl1cXFwiKS5sZW5ndGgmJm51bGwhPT1lLnRvb2xiYXI/aC53MnJlbmRlcihlLnRvb2xiYXIpOmUudG9vbGJhci5yZWZyZXNoKCk6aC5odG1sKFxcXCJcXFwiKS5yZW1vdmVDbGFzcyhcXFwidzJ1aS10b29sYmFyXFxcIikuaGlkZSgpLGg9JChiLmJveCkuZmluZChmK1xcXCI+IC53MnVpLXBhbmVsLXRpdGxlXFxcIiksZS50aXRsZT9oLmh0bWwoZS50aXRsZSkuc2hvdygpOmguaHRtbChcXFwiXFxcIikuaGlkZSgpfWVsc2V7aWYoMD09JChcXFwiI2xheW91dF9cXFwiK2IubmFtZStcXFwiX3BhbmVsX21haW5cXFwiKS5sZW5ndGgpcmV0dXJuIHZvaWQgYi5yZW5kZXIoKTtiLnJlc2l6ZSgpO2Zvcih2YXIgaSBpbiB0aGlzLnBhbmVscyliLnJlZnJlc2godGhpcy5wYW5lbHNbaV0udHlwZSl9cmV0dXJuIGIudHJpZ2dlcigkLmV4dGVuZChkLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpLChuZXcgRGF0ZSkuZ2V0VGltZSgpLWN9fSxyZXNpemU6ZnVuY3Rpb24oKXtpZighdGhpcy5ib3gpcmV0dXJuITE7dmFyIGE9KG5ldyBEYXRlKS5nZXRUaW1lKCksYz10aGlzLnRtcC5yZXNpemUsZD10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcInJlc2l6ZVxcXCIsdGFyZ2V0OnRoaXMubmFtZSxwYW5lbDpjP2MudHlwZTpcXFwiYWxsXFxcIixkaWZmX3g6Yz9jLmRpZmZfeDowLGRpZmZfeTpjP2MuZGlmZl95OjB9KTtpZihkLmlzQ2FuY2VsbGVkIT09ITApe3RoaXMucGFkZGluZzwwJiYodGhpcy5wYWRkaW5nPTApO3ZhciBlPXBhcnNlSW50KCQodGhpcy5ib3gpLndpZHRoKCkpLGY9cGFyc2VJbnQoJCh0aGlzLmJveCkuaGVpZ2h0KCkpOyQodGhpcy5ib3gpLmZpbmQoXFxcIiA+IGRpdlxcXCIpLmNzcyh7d2lkdGg6ZStcXFwicHhcXFwiLGhlaWdodDpmK1xcXCJweFxcXCJ9KTt2YXIgZyxoLGksaixrLGw9dGhpcyxtPXRoaXMuZ2V0KFxcXCJtYWluXFxcIiksbj10aGlzLmdldChcXFwicHJldmlld1xcXCIpLG89dGhpcy5nZXQoXFxcImxlZnRcXFwiKSxwPXRoaXMuZ2V0KFxcXCJyaWdodFxcXCIpLHE9dGhpcy5nZXQoXFxcInRvcFxcXCIpLHI9dGhpcy5nZXQoXFxcImJvdHRvbVxcXCIpLHM9bnVsbCE9PW4mJm4uaGlkZGVuIT09ITA/ITA6ITEsdD1udWxsIT09byYmby5oaWRkZW4hPT0hMD8hMDohMSx1PW51bGwhPT1wJiZwLmhpZGRlbiE9PSEwPyEwOiExLHY9bnVsbCE9PXEmJnEuaGlkZGVuIT09ITA/ITA6ITEsdz1udWxsIT09ciYmci5oaWRkZW4hPT0hMD8hMDohMTtmb3IodmFyIHggaW4gYilpZih4PWJbeF0sXFxcIm1haW5cXFwiIT09eCl7dmFyIGM9dGhpcy5nZXQoeCk7aWYoYyl7dmFyIHk9U3RyaW5nKGMuc2l6ZXx8MCk7aWYoXFxcIiVcXFwiPT15LnN1YnN0cih5Lmxlbmd0aC0xKSl7dmFyIHo9ZjtcXFwicHJldmlld1xcXCI9PWMudHlwZSYmKHo9ei0ocSYmIXEuaGlkZGVuP3Euc2l6ZUNhbGN1bGF0ZWQ6MCktKHImJiFyLmhpZGRlbj9yLnNpemVDYWxjdWxhdGVkOjApKSxjLnNpemVDYWxjdWxhdGVkPXBhcnNlSW50KChcXFwibGVmdFxcXCI9PWMudHlwZXx8XFxcInJpZ2h0XFxcIj09Yy50eXBlP2U6eikqcGFyc2VGbG9hdChjLnNpemUpLzEwMCl9ZWxzZSBjLnNpemVDYWxjdWxhdGVkPXBhcnNlSW50KGMuc2l6ZSk7Yy5zaXplQ2FsY3VsYXRlZD1NYXRoLm1heChjLnNpemVDYWxjdWxhdGVkLHBhcnNlSW50KGMubWluU2l6ZSkpfX1udWxsIT09cSYmcS5oaWRkZW4hPT0hMD8oZz0wLGg9MCxpPWUsaj1xLnNpemVDYWxjdWxhdGVkLCQoXFxcIiNsYXlvdXRfXFxcIit0aGlzLm5hbWUrXFxcIl9wYW5lbF90b3BcXFwiKS5jc3Moe2Rpc3BsYXk6XFxcImJsb2NrXFxcIixsZWZ0OmcrXFxcInB4XFxcIix0b3A6aCtcXFwicHhcXFwiLHdpZHRoOmkrXFxcInB4XFxcIixoZWlnaHQ6aitcXFwicHhcXFwifSkuc2hvdygpLHEud2lkdGg9aSxxLmhlaWdodD1qLHEucmVzaXphYmxlJiYoaD1xLnNpemVDYWxjdWxhdGVkLSgwPT09dGhpcy5wYWRkaW5nP3RoaXMucmVzaXplcjowKSxqPXRoaXMucmVzaXplcj50aGlzLnBhZGRpbmc/dGhpcy5yZXNpemVyOnRoaXMucGFkZGluZywkKFxcXCIjbGF5b3V0X1xcXCIrdGhpcy5uYW1lK1xcXCJfcmVzaXplcl90b3BcXFwiKS5zaG93KCkuY3NzKHtkaXNwbGF5OlxcXCJibG9ja1xcXCIsbGVmdDpnK1xcXCJweFxcXCIsdG9wOmgrXFxcInB4XFxcIix3aWR0aDppK1xcXCJweFxcXCIsaGVpZ2h0OmorXFxcInB4XFxcIixjdXJzb3I6XFxcIm5zLXJlc2l6ZVxcXCJ9KS5vZmYoXFxcIm1vdXNlZG93blxcXCIpLm9uKFxcXCJtb3VzZWRvd25cXFwiLGZ1bmN0aW9uKGEpe3ZhciBiPWwudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwicmVzaXplckNsaWNrXFxcIix0YXJnZXQ6XFxcInRvcFxcXCIsb3JpZ2luYWxFdmVudDphfSk7aWYoYi5pc0NhbmNlbGxlZCE9PSEwKXJldHVybiB3MnVpW2wubmFtZV0udG1wLmV2ZW50cy5yZXNpemVTdGFydChcXFwidG9wXFxcIixhKSxsLnRyaWdnZXIoJC5leHRlbmQoYix7cGhhc2U6XFxcImFmdGVyXFxcIn0pKSwhMX0pKSk6JChcXFwiI2xheW91dF9cXFwiK3RoaXMubmFtZStcXFwiX3BhbmVsX3RvcFxcXCIpLmhpZGUoKSxudWxsIT09byYmby5oaWRkZW4hPT0hMD8oZz0wLGg9MCsodj9xLnNpemVDYWxjdWxhdGVkK3RoaXMucGFkZGluZzowKSxpPW8uc2l6ZUNhbGN1bGF0ZWQsaj1mLSh2P3Euc2l6ZUNhbGN1bGF0ZWQrdGhpcy5wYWRkaW5nOjApLSh3P3Iuc2l6ZUNhbGN1bGF0ZWQrdGhpcy5wYWRkaW5nOjApLGs9JChcXFwiI2xheW91dF9cXFwiK3RoaXMubmFtZStcXFwiX3BhbmVsX2xlZnRcXFwiKSwtMSE9d2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcXFwiTVNJRVxcXCIpJiZrLmxlbmd0aD4wJiZrWzBdLmNsaWVudEhlaWdodDxrWzBdLnNjcm9sbEhlaWdodCYmKGkrPTE3KSxrLmNzcyh7ZGlzcGxheTpcXFwiYmxvY2tcXFwiLGxlZnQ6ZytcXFwicHhcXFwiLHRvcDpoK1xcXCJweFxcXCIsd2lkdGg6aStcXFwicHhcXFwiLGhlaWdodDpqK1xcXCJweFxcXCJ9KS5zaG93KCksby53aWR0aD1pLG8uaGVpZ2h0PWosby5yZXNpemFibGUmJihnPW8uc2l6ZUNhbGN1bGF0ZWQtKDA9PT10aGlzLnBhZGRpbmc/dGhpcy5yZXNpemVyOjApLGk9dGhpcy5yZXNpemVyPnRoaXMucGFkZGluZz90aGlzLnJlc2l6ZXI6dGhpcy5wYWRkaW5nLCQoXFxcIiNsYXlvdXRfXFxcIit0aGlzLm5hbWUrXFxcIl9yZXNpemVyX2xlZnRcXFwiKS5zaG93KCkuY3NzKHtkaXNwbGF5OlxcXCJibG9ja1xcXCIsbGVmdDpnK1xcXCJweFxcXCIsdG9wOmgrXFxcInB4XFxcIix3aWR0aDppK1xcXCJweFxcXCIsaGVpZ2h0OmorXFxcInB4XFxcIixjdXJzb3I6XFxcImV3LXJlc2l6ZVxcXCJ9KS5vZmYoXFxcIm1vdXNlZG93blxcXCIpLm9uKFxcXCJtb3VzZWRvd25cXFwiLGZ1bmN0aW9uKGEpe3ZhciBiPWwudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwicmVzaXplckNsaWNrXFxcIix0YXJnZXQ6XFxcImxlZnRcXFwiLG9yaWdpbmFsRXZlbnQ6YX0pO2lmKGIuaXNDYW5jZWxsZWQhPT0hMClyZXR1cm4gdzJ1aVtsLm5hbWVdLnRtcC5ldmVudHMucmVzaXplU3RhcnQoXFxcImxlZnRcXFwiLGEpLGwudHJpZ2dlcigkLmV4dGVuZChiLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpLCExfSkpKTooJChcXFwiI2xheW91dF9cXFwiK3RoaXMubmFtZStcXFwiX3BhbmVsX2xlZnRcXFwiKS5oaWRlKCksJChcXFwiI2xheW91dF9cXFwiK3RoaXMubmFtZStcXFwiX3Jlc2l6ZXJfbGVmdFxcXCIpLmhpZGUoKSksbnVsbCE9PXAmJnAuaGlkZGVuIT09ITA/KGc9ZS1wLnNpemVDYWxjdWxhdGVkLGg9MCsodj9xLnNpemVDYWxjdWxhdGVkK3RoaXMucGFkZGluZzowKSxpPXAuc2l6ZUNhbGN1bGF0ZWQsaj1mLSh2P3Euc2l6ZUNhbGN1bGF0ZWQrdGhpcy5wYWRkaW5nOjApLSh3P3Iuc2l6ZUNhbGN1bGF0ZWQrdGhpcy5wYWRkaW5nOjApLCQoXFxcIiNsYXlvdXRfXFxcIit0aGlzLm5hbWUrXFxcIl9wYW5lbF9yaWdodFxcXCIpLmNzcyh7ZGlzcGxheTpcXFwiYmxvY2tcXFwiLGxlZnQ6ZytcXFwicHhcXFwiLHRvcDpoK1xcXCJweFxcXCIsd2lkdGg6aStcXFwicHhcXFwiLGhlaWdodDpqK1xcXCJweFxcXCJ9KS5zaG93KCkscC53aWR0aD1pLHAuaGVpZ2h0PWoscC5yZXNpemFibGUmJihnLT10aGlzLnBhZGRpbmcsaT10aGlzLnJlc2l6ZXI+dGhpcy5wYWRkaW5nP3RoaXMucmVzaXplcjp0aGlzLnBhZGRpbmcsJChcXFwiI2xheW91dF9cXFwiK3RoaXMubmFtZStcXFwiX3Jlc2l6ZXJfcmlnaHRcXFwiKS5zaG93KCkuY3NzKHtkaXNwbGF5OlxcXCJibG9ja1xcXCIsbGVmdDpnK1xcXCJweFxcXCIsdG9wOmgrXFxcInB4XFxcIix3aWR0aDppK1xcXCJweFxcXCIsaGVpZ2h0OmorXFxcInB4XFxcIixjdXJzb3I6XFxcImV3LXJlc2l6ZVxcXCJ9KS5vZmYoXFxcIm1vdXNlZG93blxcXCIpLm9uKFxcXCJtb3VzZWRvd25cXFwiLGZ1bmN0aW9uKGEpe3ZhciBiPWwudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwicmVzaXplckNsaWNrXFxcIix0YXJnZXQ6XFxcInJpZ2h0XFxcIixvcmlnaW5hbEV2ZW50OmF9KTtpZihiLmlzQ2FuY2VsbGVkIT09ITApcmV0dXJuIHcydWlbbC5uYW1lXS50bXAuZXZlbnRzLnJlc2l6ZVN0YXJ0KFxcXCJyaWdodFxcXCIsYSksbC50cmlnZ2VyKCQuZXh0ZW5kKGIse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSksITF9KSkpOiQoXFxcIiNsYXlvdXRfXFxcIit0aGlzLm5hbWUrXFxcIl9wYW5lbF9yaWdodFxcXCIpLmhpZGUoKSxudWxsIT09ciYmci5oaWRkZW4hPT0hMD8oZz0wLGg9Zi1yLnNpemVDYWxjdWxhdGVkLGk9ZSxqPXIuc2l6ZUNhbGN1bGF0ZWQsJChcXFwiI2xheW91dF9cXFwiK3RoaXMubmFtZStcXFwiX3BhbmVsX2JvdHRvbVxcXCIpLmNzcyh7ZGlzcGxheTpcXFwiYmxvY2tcXFwiLGxlZnQ6ZytcXFwicHhcXFwiLHRvcDpoK1xcXCJweFxcXCIsd2lkdGg6aStcXFwicHhcXFwiLGhlaWdodDpqK1xcXCJweFxcXCJ9KS5zaG93KCksci53aWR0aD1pLHIuaGVpZ2h0PWosci5yZXNpemFibGUmJihoLT0wPT09dGhpcy5wYWRkaW5nPzA6dGhpcy5wYWRkaW5nLGo9dGhpcy5yZXNpemVyPnRoaXMucGFkZGluZz90aGlzLnJlc2l6ZXI6dGhpcy5wYWRkaW5nLCQoXFxcIiNsYXlvdXRfXFxcIit0aGlzLm5hbWUrXFxcIl9yZXNpemVyX2JvdHRvbVxcXCIpLnNob3coKS5jc3Moe2Rpc3BsYXk6XFxcImJsb2NrXFxcIixsZWZ0OmcrXFxcInB4XFxcIix0b3A6aCtcXFwicHhcXFwiLHdpZHRoOmkrXFxcInB4XFxcIixoZWlnaHQ6aitcXFwicHhcXFwiLGN1cnNvcjpcXFwibnMtcmVzaXplXFxcIn0pLm9mZihcXFwibW91c2Vkb3duXFxcIikub24oXFxcIm1vdXNlZG93blxcXCIsZnVuY3Rpb24oYSl7dmFyIGI9bC50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJyZXNpemVyQ2xpY2tcXFwiLHRhcmdldDpcXFwiYm90dG9tXFxcIixvcmlnaW5hbEV2ZW50OmF9KTtpZihiLmlzQ2FuY2VsbGVkIT09ITApcmV0dXJuIHcydWlbbC5uYW1lXS50bXAuZXZlbnRzLnJlc2l6ZVN0YXJ0KFxcXCJib3R0b21cXFwiLGEpLGwudHJpZ2dlcigkLmV4dGVuZChiLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpLCExfSkpKTokKFxcXCIjbGF5b3V0X1xcXCIrdGhpcy5uYW1lK1xcXCJfcGFuZWxfYm90dG9tXFxcIikuaGlkZSgpLGc9MCsodD9vLnNpemVDYWxjdWxhdGVkK3RoaXMucGFkZGluZzowKSxoPTArKHY/cS5zaXplQ2FsY3VsYXRlZCt0aGlzLnBhZGRpbmc6MCksaT1lLSh0P28uc2l6ZUNhbGN1bGF0ZWQrdGhpcy5wYWRkaW5nOjApLSh1P3Auc2l6ZUNhbGN1bGF0ZWQrdGhpcy5wYWRkaW5nOjApLGo9Zi0odj9xLnNpemVDYWxjdWxhdGVkK3RoaXMucGFkZGluZzowKS0odz9yLnNpemVDYWxjdWxhdGVkK3RoaXMucGFkZGluZzowKS0ocz9uLnNpemVDYWxjdWxhdGVkK3RoaXMucGFkZGluZzowKSxrPSQoXFxcIiNsYXlvdXRfXFxcIit0aGlzLm5hbWUrXFxcIl9wYW5lbF9tYWluXFxcIiksLTEhPXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXFxcIk1TSUVcXFwiKSYmay5sZW5ndGg+MCYma1swXS5jbGllbnRIZWlnaHQ8a1swXS5zY3JvbGxIZWlnaHQmJihpKz0xNyksay5jc3Moe2Rpc3BsYXk6XFxcImJsb2NrXFxcIixsZWZ0OmcrXFxcInB4XFxcIix0b3A6aCtcXFwicHhcXFwiLHdpZHRoOmkrXFxcInB4XFxcIixoZWlnaHQ6aitcXFwicHhcXFwifSksbS53aWR0aD1pLG0uaGVpZ2h0PWosbnVsbCE9PW4mJm4uaGlkZGVuIT09ITA/KGc9MCsodD9vLnNpemVDYWxjdWxhdGVkK3RoaXMucGFkZGluZzowKSxoPWYtKHc/ci5zaXplQ2FsY3VsYXRlZCt0aGlzLnBhZGRpbmc6MCktbi5zaXplQ2FsY3VsYXRlZCxpPWUtKHQ/by5zaXplQ2FsY3VsYXRlZCt0aGlzLnBhZGRpbmc6MCktKHU/cC5zaXplQ2FsY3VsYXRlZCt0aGlzLnBhZGRpbmc6MCksaj1uLnNpemVDYWxjdWxhdGVkLGs9JChcXFwiI2xheW91dF9cXFwiK3RoaXMubmFtZStcXFwiX3BhbmVsX3ByZXZpZXdcXFwiKSwtMSE9d2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcXFwiTVNJRVxcXCIpJiZrLmxlbmd0aD4wJiZrWzBdLmNsaWVudEhlaWdodDxrWzBdLnNjcm9sbEhlaWdodCYmKGkrPTE3KSxrLmNzcyh7ZGlzcGxheTpcXFwiYmxvY2tcXFwiLGxlZnQ6ZytcXFwicHhcXFwiLHRvcDpoK1xcXCJweFxcXCIsd2lkdGg6aStcXFwicHhcXFwiLGhlaWdodDpqK1xcXCJweFxcXCJ9KS5zaG93KCksbi53aWR0aD1pLG4uaGVpZ2h0PWosbi5yZXNpemFibGUmJihoLT0wPT09dGhpcy5wYWRkaW5nPzA6dGhpcy5wYWRkaW5nLGo9dGhpcy5yZXNpemVyPnRoaXMucGFkZGluZz90aGlzLnJlc2l6ZXI6dGhpcy5wYWRkaW5nLCQoXFxcIiNsYXlvdXRfXFxcIit0aGlzLm5hbWUrXFxcIl9yZXNpemVyX3ByZXZpZXdcXFwiKS5zaG93KCkuY3NzKHtkaXNwbGF5OlxcXCJibG9ja1xcXCIsbGVmdDpnK1xcXCJweFxcXCIsdG9wOmgrXFxcInB4XFxcIix3aWR0aDppK1xcXCJweFxcXCIsaGVpZ2h0OmorXFxcInB4XFxcIixjdXJzb3I6XFxcIm5zLXJlc2l6ZVxcXCJ9KS5vZmYoXFxcIm1vdXNlZG93blxcXCIpLm9uKFxcXCJtb3VzZWRvd25cXFwiLGZ1bmN0aW9uKGEpe3ZhciBiPWwudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwicmVzaXplckNsaWNrXFxcIix0YXJnZXQ6XFxcInByZXZpZXdcXFwiLG9yaWdpbmFsRXZlbnQ6YX0pO2lmKGIuaXNDYW5jZWxsZWQhPT0hMClyZXR1cm4gdzJ1aVtsLm5hbWVdLnRtcC5ldmVudHMucmVzaXplU3RhcnQoXFxcInByZXZpZXdcXFwiLGEpLGwudHJpZ2dlcigkLmV4dGVuZChiLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpLCExfSkpKTokKFxcXCIjbGF5b3V0X1xcXCIrdGhpcy5uYW1lK1xcXCJfcGFuZWxfcHJldmlld1xcXCIpLmhpZGUoKTtmb3IodmFyIEEgaW4gYil7QT1iW0FdO3ZhciBCPXRoaXMuZ2V0KEEpLEM9XFxcIiNsYXlvdXRfXFxcIit0aGlzLm5hbWUrXFxcIl9wYW5lbF9cXFwiK0ErXFxcIiA+IC53MnVpLXBhbmVsLVxcXCIsRD0wO0ImJihCLnRpdGxlJiYoRCs9dzJ1dGlscy5nZXRTaXplKCQoQytcXFwidGl0bGVcXFwiKS5jc3Moe3RvcDpEK1xcXCJweFxcXCIsZGlzcGxheTpcXFwiYmxvY2tcXFwifSksXFxcImhlaWdodFxcXCIpKSxCLnNob3cudGFicyYmKG51bGwhPT1CLnRhYnMmJncydWlbdGhpcy5uYW1lK1xcXCJfXFxcIitBK1xcXCJfdGFic1xcXCJdJiZ3MnVpW3RoaXMubmFtZStcXFwiX1xcXCIrQStcXFwiX3RhYnNcXFwiXS5yZXNpemUoKSxEKz13MnV0aWxzLmdldFNpemUoJChDK1xcXCJ0YWJzXFxcIikuY3NzKHt0b3A6RCtcXFwicHhcXFwiLGRpc3BsYXk6XFxcImJsb2NrXFxcIn0pLFxcXCJoZWlnaHRcXFwiKSksQi5zaG93LnRvb2xiYXImJihudWxsIT09Qi50b29sYmFyJiZ3MnVpW3RoaXMubmFtZStcXFwiX1xcXCIrQStcXFwiX3Rvb2xiYXJcXFwiXSYmdzJ1aVt0aGlzLm5hbWUrXFxcIl9cXFwiK0ErXFxcIl90b29sYmFyXFxcIl0ucmVzaXplKCksRCs9dzJ1dGlscy5nZXRTaXplKCQoQytcXFwidG9vbGJhclxcXCIpLmNzcyh7dG9wOkQrXFxcInB4XFxcIixkaXNwbGF5OlxcXCJibG9ja1xcXCJ9KSxcXFwiaGVpZ2h0XFxcIikpKSwkKEMrXFxcImNvbnRlbnRcXFwiKS5jc3Moe2Rpc3BsYXk6XFxcImJsb2NrXFxcIn0pLmNzcyh7dG9wOkQrXFxcInB4XFxcIn0pfXJldHVybiBjbGVhclRpbWVvdXQodGhpcy5fcmVzaXplX3RpbWVyKSx0aGlzLl9yZXNpemVfdGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2Zvcih2YXIgYSBpbiB3MnVpKWlmKFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiB3MnVpW2FdLnJlc2l6ZSl7XFxcInVuZGVmaW5lZFxcXCI9PXcydWlbYV0ucGFuZWxzJiZ3MnVpW2FdLnJlc2l6ZSgpO3ZhciBiPSQodzJ1aVthXS5ib3gpLnBhcmVudHMoXFxcIi53MnVpLWxheW91dFxcXCIpO2IubGVuZ3RoPjAmJmIuYXR0cihcXFwibmFtZVxcXCIpPT1sLm5hbWUmJncydWlbYV0ucmVzaXplKCl9fSwxMDApLHRoaXMudHJpZ2dlcigkLmV4dGVuZChkLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpLChuZXcgRGF0ZSkuZ2V0VGltZSgpLWF9fSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJkZXN0cm95XFxcIix0YXJnZXQ6dGhpcy5uYW1lfSk7aWYoYS5pc0NhbmNlbGxlZCE9PSEwKXJldHVyblxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgdzJ1aVt0aGlzLm5hbWVdPyExOigkKHRoaXMuYm94KS5maW5kKFxcXCIjbGF5b3V0X1xcXCIrdGhpcy5uYW1lK1xcXCJfcGFuZWxfbWFpblxcXCIpLmxlbmd0aD4wJiYkKHRoaXMuYm94KS5yZW1vdmVBdHRyKFxcXCJuYW1lXFxcIikucmVtb3ZlQ2xhc3MoXFxcIncydWktbGF5b3V0XFxcIikuaHRtbChcXFwiXFxcIiksZGVsZXRlIHcydWlbdGhpcy5uYW1lXSx0aGlzLnRyaWdnZXIoJC5leHRlbmQoYSx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKSx0aGlzLnRtcC5ldmVudHMmJnRoaXMudG1wLmV2ZW50cy5yZXNpemUmJiQod2luZG93KS5vZmYoXFxcInJlc2l6ZVxcXCIsdGhpcy50bXAuZXZlbnRzLnJlc2l6ZSksITApfSxsb2NrOmZ1bmN0aW9uKGEpe2lmKC0xPT1iLmluZGV4T2YoYSkpcmV0dXJuIHZvaWQgY29uc29sZS5sb2coXFxcIkVSUk9SOiBGaXJzdCBwYXJhbWV0ZXIgbmVlZHMgdG8gYmUgdGhlIGEgdmFsaWQgcGFuZWwgbmFtZS5cXFwiKTt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7Y1swXT1cXFwiI2xheW91dF9cXFwiK3RoaXMubmFtZStcXFwiX3BhbmVsX1xcXCIrYSx3MnV0aWxzLmxvY2suYXBwbHkod2luZG93LGMpfSx1bmxvY2s6ZnVuY3Rpb24oYSl7aWYoLTE9PWIuaW5kZXhPZihhKSlyZXR1cm4gdm9pZCBjb25zb2xlLmxvZyhcXFwiRVJST1I6IEZpcnN0IHBhcmFtZXRlciBuZWVkcyB0byBiZSB0aGUgYSB2YWxpZCBwYW5lbCBuYW1lLlxcXCIpO3ZhciBjPVxcXCIjbGF5b3V0X1xcXCIrdGhpcy5uYW1lK1xcXCJfcGFuZWxfXFxcIithO3cydXRpbHMudW5sb2NrKGMpfX0sJC5leHRlbmQoYS5wcm90b3R5cGUsdzJ1dGlscy5ldmVudCksdzJvYmoubGF5b3V0PWF9KCk7dmFyIHcycG9wdXA9e307IWZ1bmN0aW9uKCl7JC5mbi53MnBvcHVwPWZ1bmN0aW9uKGEsYil7XFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBhJiYoYj17fSxhPVxcXCJvcGVuXFxcIiksJC5pc1BsYWluT2JqZWN0KGEpJiYoYj1hLGE9XFxcIm9wZW5cXFwiKSxhPWEudG9Mb3dlckNhc2UoKSxcXFwibG9hZFxcXCI9PT1hJiZcXFwic3RyaW5nXFxcIj09dHlwZW9mIGImJihiPSQuZXh0ZW5kKHt1cmw6Yn0sYXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp7fSkpLFxcXCJvcGVuXFxcIj09PWEmJm51bGwhPWIudXJsJiYoYT1cXFwibG9hZFxcXCIpLGI9Ynx8e307dmFyIGM9e307cmV0dXJuICQodGhpcykubGVuZ3RoPjAmJigkKHRoaXMpLmZpbmQoXFxcImRpdltyZWw9dGl0bGVdLCBkaXZbcmVsPWJvZHldLCBkaXZbcmVsPWJ1dHRvbnNdXFxcIikubGVuZ3RoPjA/KCQodGhpcykuZmluZChcXFwiZGl2W3JlbD10aXRsZV1cXFwiKS5sZW5ndGg+MCYmKGMudGl0bGU9JCh0aGlzKS5maW5kKFxcXCJkaXZbcmVsPXRpdGxlXVxcXCIpLmh0bWwoKSksJCh0aGlzKS5maW5kKFxcXCJkaXZbcmVsPWJvZHldXFxcIikubGVuZ3RoPjAmJihjLmJvZHk9JCh0aGlzKS5maW5kKFxcXCJkaXZbcmVsPWJvZHldXFxcIikuaHRtbCgpLGMuc3R5bGU9JCh0aGlzKS5maW5kKFxcXCJkaXZbcmVsPWJvZHldXFxcIilbMF0uc3R5bGUuY3NzVGV4dCksJCh0aGlzKS5maW5kKFxcXCJkaXZbcmVsPWJ1dHRvbnNdXFxcIikubGVuZ3RoPjAmJihjLmJ1dHRvbnM9JCh0aGlzKS5maW5kKFxcXCJkaXZbcmVsPWJ1dHRvbnNdXFxcIikuaHRtbCgpKSk6KGMudGl0bGU9XFxcIiZuYnNwO1xcXCIsYy5ib2R5PSQodGhpcykuaHRtbCgpKSwwIT1wYXJzZUludCgkKHRoaXMpLmNzcyhcXFwid2lkdGhcXFwiKSkmJihjLndpZHRoPXBhcnNlSW50KCQodGhpcykuY3NzKFxcXCJ3aWR0aFxcXCIpKSksMCE9cGFyc2VJbnQoJCh0aGlzKS5jc3MoXFxcImhlaWdodFxcXCIpKSYmKGMuaGVpZ2h0PXBhcnNlSW50KCQodGhpcykuY3NzKFxcXCJoZWlnaHRcXFwiKSkpKSx3MnBvcHVwW2FdKCQuZXh0ZW5kKHt9LGMsYikpfSx3MnBvcHVwPXtkZWZhdWx0czp7dGl0bGU6XFxcIlxcXCIsYm9keTpcXFwiXFxcIixidXR0b25zOlxcXCJcXFwiLHN0eWxlOlxcXCJcXFwiLGNvbG9yOlxcXCIjMDAwXFxcIixvcGFjaXR5Oi40LHNwZWVkOi4zLG1vZGFsOiExLG1heGltaXplZDohMSxrZXlib2FyZDohMCx3aWR0aDo1MDAsaGVpZ2h0OjMwMCxzaG93Q2xvc2U6ITAsc2hvd01heDohMSx0cmFuc2l0aW9uOm51bGx9LHN0YXR1czpcXFwiY2xvc2VkXFxcIixoYW5kbGVyczpbXSxvbk9wZW46bnVsbCxvbkNsb3NlOm51bGwsb25NYXg6bnVsbCxvbk1pbjpudWxsLG9uVG9nZ2xlOm51bGwsb25LZXlkb3duOm51bGwsb3BlbjpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBhfHwoYT13aW5kb3cuZXZlbnQpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyfHx3aW5kb3cuZG9jdW1lbnQuYXR0YWNoRXZlbnQoXFxcIm9uc2VsZWN0c3RhcnRcXFwiLGZ1bmN0aW9uKCl7cmV0dXJuITF9KSx3MnBvcHVwLnN0YXR1cz1cXFwibW92aW5nXFxcIixxLnJlc2l6aW5nPSEwLHEueD1hLnNjcmVlblgscS55PWEuc2NyZWVuWSxxLnBvc194PSQoXFxcIiN3MnVpLXBvcHVwXFxcIikucG9zaXRpb24oKS5sZWZ0LHEucG9zX3k9JChcXFwiI3cydWktcG9wdXBcXFwiKS5wb3NpdGlvbigpLnRvcCx3MnBvcHVwLmxvY2soe29wYWNpdHk6MH0pLCQoZG9jdW1lbnQpLm9uKFxcXCJtb3VzZW1vdmVcXFwiLHEubXZNb3ZlKSwkKGRvY3VtZW50KS5vbihcXFwibW91c2V1cFxcXCIscS5tdlN0b3ApLGEuc3RvcFByb3BhZ2F0aW9uP2Euc3RvcFByb3BhZ2F0aW9uKCk6YS5jYW5jZWxCdWJibGU9ITAsYS5wcmV2ZW50RGVmYXVsdD92b2lkIGEucHJldmVudERlZmF1bHQoKTohMX1mdW5jdGlvbiBjKGEpezE9PXEucmVzaXppbmcmJihhfHwoYT13aW5kb3cuZXZlbnQpLHEuZGl2X3g9YS5zY3JlZW5YLXEueCxxLmRpdl95PWEuc2NyZWVuWS1xLnksJChcXFwiI3cydWktcG9wdXBcXFwiKS5jc3Moe1xcXCItd2Via2l0LXRyYW5zaXRpb25cXFwiOlxcXCJub25lXFxcIixcXFwiLXdlYmtpdC10cmFuc2Zvcm1cXFwiOlxcXCJ0cmFuc2xhdGUzZChcXFwiK3EuZGl2X3grXFxcInB4LCBcXFwiK3EuZGl2X3krXFxcInB4LCAwcHgpXFxcIixcXFwiLW1vei10cmFuc2l0aW9uXFxcIjpcXFwibm9uZVxcXCIsXFxcIi1tb3otdHJhbnNmb3JtXFxcIjpcXFwidHJhbnNsYXRlKFxcXCIrcS5kaXZfeCtcXFwicHgsIFxcXCIrcS5kaXZfeStcXFwicHgpXFxcIixcXFwiLW1zLXRyYW5zaXRpb25cXFwiOlxcXCJub25lXFxcIixcXFwiLW1zLXRyYW5zZm9ybVxcXCI6XFxcInRyYW5zbGF0ZShcXFwiK3EuZGl2X3grXFxcInB4LCBcXFwiK3EuZGl2X3krXFxcInB4KVxcXCIsXFxcIi1vLXRyYW5zaXRpb25cXFwiOlxcXCJub25lXFxcIixcXFwiLW8tdHJhbnNmb3JtXFxcIjpcXFwidHJhbnNsYXRlKFxcXCIrcS5kaXZfeCtcXFwicHgsIFxcXCIrcS5kaXZfeStcXFwicHgpXFxcIn0pKX1mdW5jdGlvbiBkKGEpezE9PXEucmVzaXppbmcmJihhfHwoYT13aW5kb3cuZXZlbnQpLHcycG9wdXAuc3RhdHVzPVxcXCJvcGVuXFxcIixxLmRpdl94PWEuc2NyZWVuWC1xLngscS5kaXZfeT1hLnNjcmVlblktcS55LCQoXFxcIiN3MnVpLXBvcHVwXFxcIikuY3NzKHtsZWZ0OnEucG9zX3grcS5kaXZfeCtcXFwicHhcXFwiLHRvcDpxLnBvc195K3EuZGl2X3krXFxcInB4XFxcIixcXFwiLXdlYmtpdC10cmFuc2l0aW9uXFxcIjpcXFwibm9uZVxcXCIsXFxcIi13ZWJraXQtdHJhbnNmb3JtXFxcIjpcXFwidHJhbnNsYXRlM2QoMHB4LCAwcHgsIDBweClcXFwiLFxcXCItbW96LXRyYW5zaXRpb25cXFwiOlxcXCJub25lXFxcIixcXFwiLW1vei10cmFuc2Zvcm1cXFwiOlxcXCJ0cmFuc2xhdGUoMHB4LCAwcHgpXFxcIixcXFwiLW1zLXRyYW5zaXRpb25cXFwiOlxcXCJub25lXFxcIixcXFwiLW1zLXRyYW5zZm9ybVxcXCI6XFxcInRyYW5zbGF0ZSgwcHgsIDBweClcXFwiLFxcXCItby10cmFuc2l0aW9uXFxcIjpcXFwibm9uZVxcXCIsXFxcIi1vLXRyYW5zZm9ybVxcXCI6XFxcInRyYW5zbGF0ZSgwcHgsIDBweClcXFwifSkscS5yZXNpemluZz0hMSwkKGRvY3VtZW50KS5vZmYoXFxcIm1vdXNlbW92ZVxcXCIscS5tdk1vdmUpLCQoZG9jdW1lbnQpLm9mZihcXFwibW91c2V1cFxcXCIscS5tdlN0b3ApLHcycG9wdXAudW5sb2NrKCkpfXZhciBlPXRoaXM7aWYoXFxcImNsb3NpbmdcXFwiPT13MnBvcHVwLnN0YXR1cylyZXR1cm4gdm9pZCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5vcGVuLmNhbGwoZSxhKX0sMTAwKTt2YXIgZj0kKFxcXCIjdzJ1aS1wb3B1cFxcXCIpLmRhdGEoXFxcIm9wdGlvbnNcXFwiKSxhPSQuZXh0ZW5kKHt9LHRoaXMuZGVmYXVsdHMsZix7dGl0bGU6XFxcIlxcXCIsYm9keTpcXFwiXFxcIixidXR0b25zOlxcXCJcXFwifSxhLHttYXhpbWl6ZWQ6ITF9KTtpZihzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JChcXFwiI3cydWktcG9wdXBcXFwiKS5kYXRhKFxcXCJvcHRpb25zXFxcIixhKX0sMTAwKSwwPT0kKFxcXCIjdzJ1aS1wb3B1cFxcXCIpLmxlbmd0aCYmKHcycG9wdXAuaGFuZGxlcnM9W10sdzJwb3B1cC5vbk1heD1udWxsLHcycG9wdXAub25NaW49bnVsbCx3MnBvcHVwLm9uVG9nZ2xlPW51bGwsdzJwb3B1cC5vbk9wZW49bnVsbCx3MnBvcHVwLm9uQ2xvc2U9bnVsbCx3MnBvcHVwLm9uS2V5ZG93bj1udWxsKSxhLm9uT3BlbiYmKHcycG9wdXAub25PcGVuPWEub25PcGVuKSxhLm9uQ2xvc2UmJih3MnBvcHVwLm9uQ2xvc2U9YS5vbkNsb3NlKSxhLm9uTWF4JiYodzJwb3B1cC5vbk1heD1hLm9uTWF4KSxhLm9uTWluJiYodzJwb3B1cC5vbk1pbj1hLm9uTWluKSxhLm9uVG9nZ2xlJiYodzJwb3B1cC5vblRvZ2dsZT1hLm9uVG9nZ2xlKSxhLm9uS2V5ZG93biYmKHcycG9wdXAub25LZXlkb3duPWEub25LZXlkb3duKSx2b2lkIDA9PXdpbmRvdy5pbm5lckhlaWdodCl7dmFyIGc9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldFdpZHRoLGg9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodDtcXFwiSUU3XFxcIj09PXcydXRpbHMuZW5naW5lJiYoZys9MjEsaCs9NCl9ZWxzZSB2YXIgZz13aW5kb3cuaW5uZXJXaWR0aCxoPXdpbmRvdy5pbm5lckhlaWdodDtwYXJzZUludChnKS0xMDxwYXJzZUludChhLndpZHRoKSYmKGEud2lkdGg9cGFyc2VJbnQoZyktMTApLHBhcnNlSW50KGgpLTEwPHBhcnNlSW50KGEuaGVpZ2h0KSYmKGEuaGVpZ2h0PXBhcnNlSW50KGgpLTEwKTt2YXIgaT1wYXJzZUludCgocGFyc2VJbnQoaCktcGFyc2VJbnQoYS5oZWlnaHQpKS8yKi42KSxqPXBhcnNlSW50KChwYXJzZUludChnKS1wYXJzZUludChhLndpZHRoKSkvMik7aWYoMD09JChcXFwiI3cydWktcG9wdXBcXFwiKS5sZW5ndGgpe3ZhciBrPXRoaXMudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwib3BlblxcXCIsdGFyZ2V0OlxcXCJwb3B1cFxcXCIsb3B0aW9uczphLHByZXNlbnQ6ITF9KTtpZihrLmlzQ2FuY2VsbGVkPT09ITApcmV0dXJuO3cycG9wdXAuc3RhdHVzPVxcXCJvcGVuaW5nXFxcIix3MnBvcHVwLmxvY2tTY3JlZW4oYSk7dmFyIGw9XFxcIlxcXCI7YS5zaG93Q2xvc2UmJihsKz0nPGRpdiBjbGFzcz1cXFwidzJ1aS1tc2ctYnV0dG9uIHcydWktbXNnLWNsb3NlXFxcIiBvbm1vdXNlZG93bj1cXFwiZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcXFwiIG9uY2xpY2s9XFxcIncycG9wdXAuY2xvc2UoKVxcXCI+Q2xvc2U8L2Rpdj4nKSxhLnNob3dNYXgmJihsKz0nPGRpdiBjbGFzcz1cXFwidzJ1aS1tc2ctYnV0dG9uIHcydWktbXNnLW1heFxcXCIgb25tb3VzZWRvd249XFxcImV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXFxcIiBvbmNsaWNrPVxcXCJ3MnBvcHVwLnRvZ2dsZSgpXFxcIj5NYXg8L2Rpdj4nKTt2YXIgbT0nPGRpdiBpZD1cXFwidzJ1aS1wb3B1cFxcXCIgY2xhc3M9XFxcIncydWktcG9wdXBcXFwiIHN0eWxlPVxcXCJvcGFjaXR5OiAwOyBsZWZ0OiAnK2orXFxcInB4OyB0b3A6IFxcXCIraStcXFwicHg7ICAgICB3aWR0aDogXFxcIitwYXJzZUludChhLndpZHRoKStcXFwicHg7IGhlaWdodDogXFxcIitwYXJzZUludChhLmhlaWdodCkrJ3B4OyAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDAuOCk7IC1tb3otdHJhbnNmb3JtOiBzY2FsZSgwLjgpOyAtbXMtdHJhbnNmb3JtOiBzY2FsZSgwLjgpOyAtby10cmFuc2Zvcm06IHNjYWxlKDAuOCk7IFxcXCI+ICAgPGRpdiBjbGFzcz1cXFwidzJ1aS1tc2ctdGl0bGVcXFwiIHN0eWxlPVxcXCInKyhcXFwiXFxcIj09YS50aXRsZT9cXFwiZGlzcGxheTogbm9uZVxcXCI6XFxcIlxcXCIpKydcXFwiPicrbCthLnRpdGxlKyc8L2Rpdj4gICA8ZGl2IGNsYXNzPVxcXCJ3MnVpLWJveDFcXFwiIHN0eWxlPVxcXCInKyhcXFwiXFxcIj09YS50aXRsZT9cXFwidG9wOiAwcHggIWltcG9ydGFudDtcXFwiOlxcXCJcXFwiKSsoXFxcIlxcXCI9PWEuYnV0dG9ucz9cXFwiYm90dG9tOiAwcHggIWltcG9ydGFudDtcXFwiOlxcXCJcXFwiKSsnXFxcIj4gICAgICAgPGRpdiBjbGFzcz1cXFwidzJ1aS1tc2ctYm9keScrKFxcXCJcXFwiIT0hYS50aXRsZT9cXFwiIHcydWktbXNnLW5vLXRpdGxlXFxcIjpcXFwiXFxcIikrKFxcXCJcXFwiIT0hYS5idXR0b25zP1xcXCIgdzJ1aS1tc2ctbm8tYnV0dG9uc1xcXCI6XFxcIlxcXCIpKydcXFwiIHN0eWxlPVxcXCInK2Euc3R5bGUrJ1xcXCI+JythLmJvZHkrJzwvZGl2PiAgIDwvZGl2PiAgIDxkaXYgY2xhc3M9XFxcIncydWktYm94MlxcXCIgc3R5bGU9XFxcIicrKFxcXCJcXFwiPT1hLnRpdGxlP1xcXCJ0b3A6IDBweCAhaW1wb3J0YW50O1xcXCI6XFxcIlxcXCIpKyhcXFwiXFxcIj09YS5idXR0b25zP1xcXCJib3R0b206IDBweCAhaW1wb3J0YW50O1xcXCI6XFxcIlxcXCIpKydcXFwiPiAgICAgICA8ZGl2IGNsYXNzPVxcXCJ3MnVpLW1zZy1ib2R5JysoXFxcIlxcXCIhPSFhLnRpdGxlP1xcXCIgdzJ1aS1tc2ctbm8tdGl0bGVcXFwiOlxcXCJcXFwiKSsoXFxcIlxcXCIhPSFhLmJ1dHRvbnM/XFxcIiB3MnVpLW1zZy1uby1idXR0b25zXFxcIjpcXFwiXFxcIikrJ1xcXCIgc3R5bGU9XFxcIicrYS5zdHlsZSsnXFxcIj48L2Rpdj4gICAgICAgPC9kaXY+ICAgPGRpdiBjbGFzcz1cXFwidzJ1aS1tc2ctYnV0dG9uc1xcXCIgc3R5bGU9XFxcIicrKFxcXCJcXFwiPT1hLmJ1dHRvbnM/XFxcImRpc3BsYXk6IG5vbmVcXFwiOlxcXCJcXFwiKSsnXFxcIj4nK2EuYnV0dG9ucytcXFwiPC9kaXY+PC9kaXY+XFxcIjskKFxcXCJib2R5XFxcIikuYXBwZW5kKG0pLHNldFRpbWVvdXQoZnVuY3Rpb24oKXskKFxcXCIjdzJ1aS1wb3B1cCAudzJ1aS1ib3gyXFxcIikuaGlkZSgpLCQoXFxcIiN3MnVpLXBvcHVwXFxcIikuY3NzKHtcXFwiLXdlYmtpdC10cmFuc2l0aW9uXFxcIjphLnNwZWVkK1xcXCJzIG9wYWNpdHksIFxcXCIrYS5zcGVlZCtcXFwicyAtd2Via2l0LXRyYW5zZm9ybVxcXCIsXFxcIi13ZWJraXQtdHJhbnNmb3JtXFxcIjpcXFwic2NhbGUoMSlcXFwiLFxcXCItbW96LXRyYW5zaXRpb25cXFwiOmEuc3BlZWQrXFxcInMgb3BhY2l0eSwgXFxcIithLnNwZWVkK1xcXCJzIC1tb3otdHJhbnNmb3JtXFxcIixcXFwiLW1vei10cmFuc2Zvcm1cXFwiOlxcXCJzY2FsZSgxKVxcXCIsXFxcIi1tcy10cmFuc2l0aW9uXFxcIjphLnNwZWVkK1xcXCJzIG9wYWNpdHksIFxcXCIrYS5zcGVlZCtcXFwicyAtbXMtdHJhbnNmb3JtXFxcIixcXFwiLW1zLXRyYW5zZm9ybVxcXCI6XFxcInNjYWxlKDEpXFxcIixcXFwiLW8tdHJhbnNpdGlvblxcXCI6YS5zcGVlZCtcXFwicyBvcGFjaXR5LCBcXFwiK2Euc3BlZWQrXFxcInMgLW8tdHJhbnNmb3JtXFxcIixcXFwiLW8tdHJhbnNmb3JtXFxcIjpcXFwic2NhbGUoMSlcXFwiLG9wYWNpdHk6XFxcIjFcXFwifSl9LDEpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXskKFxcXCIjdzJ1aS1wb3B1cFxcXCIpLmNzcyh7XFxcIi13ZWJraXQtdHJhbnNmb3JtXFxcIjpcXFwiXFxcIixcXFwiLW1vei10cmFuc2Zvcm1cXFwiOlxcXCJcXFwiLFxcXCItbXMtdHJhbnNmb3JtXFxcIjpcXFwiXFxcIixcXFwiLW8tdHJhbnNmb3JtXFxcIjpcXFwiXFxcIn0pLHcycG9wdXAuc3RhdHVzPVxcXCJvcGVuXFxcIixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS50cmlnZ2VyKCQuZXh0ZW5kKGsse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSl9LDEwMCl9LDFlMyphLnNwZWVkKX1lbHNle3ZhciBrPXRoaXMudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwib3BlblxcXCIsdGFyZ2V0OlxcXCJwb3B1cFxcXCIsb3B0aW9uczphLHByZXNlbnQ6ITB9KTtpZihrLmlzQ2FuY2VsbGVkPT09ITApcmV0dXJuO3cycG9wdXAuc3RhdHVzPVxcXCJvcGVuaW5nXFxcIiwoXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBmfHxmLndpZHRoIT1hLndpZHRofHxmLmhlaWdodCE9YS5oZWlnaHQpJiZ3MnBvcHVwLnJlc2l6ZShhLndpZHRoLGEuaGVpZ2h0KSxcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGYmJihhLnByZXZTaXplPWEud2lkdGgrXFxcIjpcXFwiK2EuaGVpZ2h0LGEubWF4aW1pemVkPWYubWF4aW1pemVkKTt2YXIgbj0kKFxcXCIjdzJ1aS1wb3B1cCAudzJ1aS1ib3gyID4gLncydWktbXNnLWJvZHlcXFwiKS5odG1sKGEuYm9keSk7bi5sZW5ndGg+MCYmKG5bMF0uc3R5bGUuY3NzVGV4dD1hLnN0eWxlKSxcXFwiXFxcIiE9YS5idXR0b25zPygkKFxcXCIjdzJ1aS1wb3B1cCAudzJ1aS1tc2ctYnV0dG9uc1xcXCIpLnNob3coKS5odG1sKGEuYnV0dG9ucyksJChcXFwiI3cydWktcG9wdXAgLncydWktbXNnLWJvZHlcXFwiKS5yZW1vdmVDbGFzcyhcXFwidzJ1aS1tc2ctbm8tYnV0dG9uc1xcXCIpLCQoXFxcIiN3MnVpLXBvcHVwIC53MnVpLWJveDEsICN3MnVpLXBvcHVwIC53MnVpLWJveDJcXFwiKS5jc3MoXFxcImJvdHRvbVxcXCIsXFxcIlxcXCIpKTooJChcXFwiI3cydWktcG9wdXAgLncydWktbXNnLWJ1dHRvbnNcXFwiKS5oaWRlKCkuaHRtbChcXFwiXFxcIiksJChcXFwiI3cydWktcG9wdXAgLncydWktbXNnLWJvZHlcXFwiKS5hZGRDbGFzcyhcXFwidzJ1aS1tc2ctbm8tYnV0dG9uc1xcXCIpLCQoXFxcIiN3MnVpLXBvcHVwIC53MnVpLWJveDEsICN3MnVpLXBvcHVwIC53MnVpLWJveDJcXFwiKS5jc3MoXFxcImJvdHRvbVxcXCIsXFxcIjBweFxcXCIpKSxcXFwiXFxcIiE9YS50aXRsZT8oJChcXFwiI3cydWktcG9wdXAgLncydWktbXNnLXRpdGxlXFxcIikuc2hvdygpLmh0bWwoKGEuc2hvd0Nsb3NlPyc8ZGl2IGNsYXNzPVxcXCJ3MnVpLW1zZy1idXR0b24gdzJ1aS1tc2ctY2xvc2VcXFwiIG9ubW91c2Vkb3duPVxcXCJldmVudC5zdG9wUHJvcGFnYXRpb24oKVxcXCIgb25jbGljaz1cXFwidzJwb3B1cC5jbG9zZSgpXFxcIj5DbG9zZTwvZGl2Pic6XFxcIlxcXCIpKyhhLnNob3dNYXg/JzxkaXYgY2xhc3M9XFxcIncydWktbXNnLWJ1dHRvbiB3MnVpLW1zZy1tYXhcXFwiIG9ubW91c2Vkb3duPVxcXCJldmVudC5zdG9wUHJvcGFnYXRpb24oKVxcXCIgb25jbGljaz1cXFwidzJwb3B1cC50b2dnbGUoKVxcXCI+TWF4PC9kaXY+JzpcXFwiXFxcIikrYS50aXRsZSksJChcXFwiI3cydWktcG9wdXAgLncydWktbXNnLWJvZHlcXFwiKS5yZW1vdmVDbGFzcyhcXFwidzJ1aS1tc2ctbm8tdGl0bGVcXFwiKSwkKFxcXCIjdzJ1aS1wb3B1cCAudzJ1aS1ib3gxLCAjdzJ1aS1wb3B1cCAudzJ1aS1ib3gyXFxcIikuY3NzKFxcXCJ0b3BcXFwiLFxcXCJcXFwiKSk6KCQoXFxcIiN3MnVpLXBvcHVwIC53MnVpLW1zZy10aXRsZVxcXCIpLmhpZGUoKS5odG1sKFxcXCJcXFwiKSwkKFxcXCIjdzJ1aS1wb3B1cCAudzJ1aS1tc2ctYm9keVxcXCIpLmFkZENsYXNzKFxcXCJ3MnVpLW1zZy1uby10aXRsZVxcXCIpLCQoXFxcIiN3MnVpLXBvcHVwIC53MnVpLWJveDEsICN3MnVpLXBvcHVwIC53MnVpLWJveDJcXFwiKS5jc3MoXFxcInRvcFxcXCIsXFxcIjBweFxcXCIpKTt2YXIgbz0kKFxcXCIjdzJ1aS1wb3B1cCAudzJ1aS1ib3gxXFxcIilbMF0scD0kKFxcXCIjdzJ1aS1wb3B1cCAudzJ1aS1ib3gyXFxcIilbMF07dzJ1dGlscy50cmFuc2l0aW9uKG8scCxhLnRyYW5zaXRpb24pLHAuY2xhc3NOYW1lPVxcXCJ3MnVpLWJveDFcXFwiLG8uY2xhc3NOYW1lPVxcXCJ3MnVpLWJveDJcXFwiLCQocCkuYWRkQ2xhc3MoXFxcIncydWktY3VycmVudC1ib3hcXFwiKSwkKFxcXCIjdzJ1aS1wb3B1cFxcXCIpLmRhdGEoXFxcInByZXYtc2l6ZVxcXCIsbnVsbCksc2V0VGltZW91dChmdW5jdGlvbigpe3cycG9wdXAuc3RhdHVzPVxcXCJvcGVuXFxcIixlLnRyaWdnZXIoJC5leHRlbmQoayx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX0sMTAwKX1hLl9sYXN0X3cydWlfbmFtZT13MnV0aWxzLmtleWJvYXJkLmFjdGl2ZSgpLHcydXRpbHMua2V5Ym9hcmQuYWN0aXZlKG51bGwpLGEua2V5Ym9hcmQmJiQoZG9jdW1lbnQpLm9uKFxcXCJrZXlkb3duXFxcIix0aGlzLmtleWRvd24pO3ZhciBxPXtyZXNpemluZzohMSxtdk1vdmU6YyxtdlN0b3A6ZH07cmV0dXJuICQoXFxcIiN3MnVpLXBvcHVwIC53MnVpLW1zZy10aXRsZVxcXCIpLm9uKFxcXCJtb3VzZWRvd25cXFwiLGZ1bmN0aW9uKGEpe2IoYSl9KSx0aGlzfSxrZXlkb3duOmZ1bmN0aW9uKGEpe3ZhciBiPSQoXFxcIiN3MnVpLXBvcHVwXFxcIikuZGF0YShcXFwib3B0aW9uc1xcXCIpO2lmKGImJmIua2V5Ym9hcmQpe3ZhciBjPXcycG9wdXAudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwia2V5ZG93blxcXCIsdGFyZ2V0OlxcXCJwb3B1cFxcXCIsb3B0aW9uczpiLG9yaWdpbmFsRXZlbnQ6YX0pO2lmKGMuaXNDYW5jZWxsZWQhPT0hMCl7c3dpdGNoKGEua2V5Q29kZSl7Y2FzZSAyNzphLnByZXZlbnREZWZhdWx0KCksJChcXFwiI3cydWktcG9wdXAgLncydWktcG9wdXAtbWVzc2FnZVxcXCIpLmxlbmd0aD4wP3cycG9wdXAubWVzc2FnZSgpOncycG9wdXAuY2xvc2UoKX13MnBvcHVwLnRyaWdnZXIoJC5leHRlbmQoYyx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX19fSxjbG9zZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGE9JC5leHRlbmQoe30sJChcXFwiI3cydWktcG9wdXBcXFwiKS5kYXRhKFxcXCJvcHRpb25zXFxcIiksYSk7aWYoMCE9JChcXFwiI3cydWktcG9wdXBcXFwiKS5sZW5ndGgpe3ZhciBjPXRoaXMudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwiY2xvc2VcXFwiLHRhcmdldDpcXFwicG9wdXBcXFwiLG9wdGlvbnM6YX0pO2MuaXNDYW5jZWxsZWQhPT0hMCYmKHcycG9wdXAuc3RhdHVzPVxcXCJjbG9zaW5nXFxcIiwkKFxcXCIjdzJ1aS1wb3B1cFxcXCIpLmNzcyh7XFxcIi13ZWJraXQtdHJhbnNpdGlvblxcXCI6YS5zcGVlZCtcXFwicyBvcGFjaXR5LCBcXFwiK2Euc3BlZWQrXFxcInMgLXdlYmtpdC10cmFuc2Zvcm1cXFwiLFxcXCItd2Via2l0LXRyYW5zZm9ybVxcXCI6XFxcInNjYWxlKDAuOSlcXFwiLFxcXCItbW96LXRyYW5zaXRpb25cXFwiOmEuc3BlZWQrXFxcInMgb3BhY2l0eSwgXFxcIithLnNwZWVkK1xcXCJzIC1tb3otdHJhbnNmb3JtXFxcIixcXFwiLW1vei10cmFuc2Zvcm1cXFwiOlxcXCJzY2FsZSgwLjkpXFxcIixcXFwiLW1zLXRyYW5zaXRpb25cXFwiOmEuc3BlZWQrXFxcInMgb3BhY2l0eSwgXFxcIithLnNwZWVkK1xcXCJzIC1tcy10cmFuc2Zvcm1cXFwiLFxcXCItbXMtdHJhbnNmb3JtXFxcIjpcXFwic2NhbGUoMC45KVxcXCIsXFxcIi1vLXRyYW5zaXRpb25cXFwiOmEuc3BlZWQrXFxcInMgb3BhY2l0eSwgXFxcIithLnNwZWVkK1xcXCJzIC1vLXRyYW5zZm9ybVxcXCIsXFxcIi1vLXRyYW5zZm9ybVxcXCI6XFxcInNjYWxlKDAuOSlcXFwiLG9wYWNpdHk6XFxcIjBcXFwifSksdzJwb3B1cC51bmxvY2tTY3JlZW4oYSksc2V0VGltZW91dChmdW5jdGlvbigpeyQoXFxcIiN3MnVpLXBvcHVwXFxcIikucmVtb3ZlKCksdzJwb3B1cC5zdGF0dXM9XFxcImNsb3NlZFxcXCIsYi50cmlnZ2VyKCQuZXh0ZW5kKGMse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSl9LDFlMyphLnNwZWVkKSx3MnV0aWxzLmtleWJvYXJkLmFjdGl2ZShhLl9sYXN0X3cydWlfbmFtZSksYS5rZXlib2FyZCYmJChkb2N1bWVudCkub2ZmKFxcXCJrZXlkb3duXFxcIix0aGlzLmtleWRvd24pKX19LHRvZ2dsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj0kKFxcXCIjdzJ1aS1wb3B1cFxcXCIpLmRhdGEoXFxcIm9wdGlvbnNcXFwiKSxjPXRoaXMudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwidG9nZ2xlXFxcIix0YXJnZXQ6XFxcInBvcHVwXFxcIixvcHRpb25zOmJ9KTtjLmlzQ2FuY2VsbGVkIT09ITAmJihiLm1heGltaXplZD09PSEwP3cycG9wdXAubWluKCk6dzJwb3B1cC5tYXgoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS50cmlnZ2VyKCQuZXh0ZW5kKGMse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSl9LDFlMypiLnNwZWVkKzUwKSl9LG1heDpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj0kKFxcXCIjdzJ1aS1wb3B1cFxcXCIpLmRhdGEoXFxcIm9wdGlvbnNcXFwiKTtpZihiLm1heGltaXplZCE9PSEwKXt2YXIgYz10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcIm1heFxcXCIsdGFyZ2V0OlxcXCJwb3B1cFxcXCIsb3B0aW9uczpifSk7Yy5pc0NhbmNlbGxlZCE9PSEwJiYodzJwb3B1cC5zdGF0dXM9XFxcInJlc2l6aW5nXFxcIixiLnByZXZTaXplPSQoXFxcIiN3MnVpLXBvcHVwXFxcIikuY3NzKFxcXCJ3aWR0aFxcXCIpK1xcXCI6XFxcIiskKFxcXCIjdzJ1aS1wb3B1cFxcXCIpLmNzcyhcXFwiaGVpZ2h0XFxcIiksdzJwb3B1cC5yZXNpemUoMWU0LDFlNCxmdW5jdGlvbigpe3cycG9wdXAuc3RhdHVzPVxcXCJvcGVuXFxcIixiLm1heGltaXplZD0hMCxhLnRyaWdnZXIoJC5leHRlbmQoYyx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX0pKX19LG1pbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj0kKFxcXCIjdzJ1aS1wb3B1cFxcXCIpLmRhdGEoXFxcIm9wdGlvbnNcXFwiKTtpZihiLm1heGltaXplZD09PSEwKXt2YXIgYz1iLnByZXZTaXplLnNwbGl0KFxcXCI6XFxcIiksZD10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcIm1pblxcXCIsdGFyZ2V0OlxcXCJwb3B1cFxcXCIsb3B0aW9uczpifSk7ZC5pc0NhbmNlbGxlZCE9PSEwJiYodzJwb3B1cC5zdGF0dXM9XFxcInJlc2l6aW5nXFxcIix3MnBvcHVwLnJlc2l6ZShjWzBdLGNbMV0sZnVuY3Rpb24oKXt3MnBvcHVwLnN0YXR1cz1cXFwib3BlblxcXCIsYi5tYXhpbWl6ZWQ9ITEsYi5wcmV2U2l6ZT1udWxsLGEudHJpZ2dlcigkLmV4dGVuZChkLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpfSkpfX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuICQoXFxcIiN3MnVpLXBvcHVwXFxcIikuZGF0YShcXFwib3B0aW9uc1xcXCIpfSxzZXQ6ZnVuY3Rpb24oYSl7dzJwb3B1cC5vcGVuKGEpfSxjbGVhcjpmdW5jdGlvbigpeyQoXFxcIiN3MnVpLXBvcHVwIC53MnVpLW1zZy10aXRsZVxcXCIpLmh0bWwoXFxcIlxcXCIpLCQoXFxcIiN3MnVpLXBvcHVwIC53MnVpLW1zZy1ib2R5XFxcIikuaHRtbChcXFwiXFxcIiksJChcXFwiI3cydWktcG9wdXAgLncydWktbXNnLWJ1dHRvbnNcXFwiKS5odG1sKFxcXCJcXFwiKX0scmVzZXQ6ZnVuY3Rpb24oKXt3MnBvcHVwLm9wZW4odzJwb3B1cC5kZWZhdWx0cyl9LGxvYWQ6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihiLGMpe2lmKGRlbGV0ZSBhLnVybCwkKFxcXCJib2R5XFxcIikuYXBwZW5kKCc8ZGl2IGlkPVxcXCJ3MnVpLXRtcFxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IG5vbmVcXFwiPicrYitcXFwiPC9kaXY+XFxcIiksXFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBjJiYkKFxcXCIjdzJ1aS10bXAgI1xcXCIrYykubGVuZ3RoPjA/JChcXFwiI3cydWktdG1wICNcXFwiK2MpLncycG9wdXAoYSk6JChcXFwiI3cydWktdG1wID4gZGl2XFxcIikudzJwb3B1cChhKSwkKFxcXCIjdzJ1aS10bXAgPiBzdHlsZVxcXCIpLmxlbmd0aD4wKXt2YXIgZD0kKFxcXCI8ZGl2PlxcXCIpLmFwcGVuZCgkKFxcXCIjdzJ1aS10bXAgPiBzdHlsZVxcXCIpLmNsb25lKCkpLmh0bWwoKTswPT0kKFxcXCIjdzJ1aS1wb3B1cCAjZGl2LXN0eWxlXFxcIikubGVuZ3RoJiYkKFxcXCIjdzJ1aS1wb3B1cFxcXCIpLmFwcGVuZCgnPGRpdiBpZD1cXFwiZGl2LXN0eWxlXFxcIiBzdHlsZT1cXFwicG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAtMTAwOyB3aWR0aDogMXB4XFxcIj48L2Rpdj4nKSwkKFxcXCIjdzJ1aS1wb3B1cCAjZGl2LXN0eWxlXFxcIikuaHRtbChkKX0kKFxcXCIjdzJ1aS10bXBcXFwiKS5yZW1vdmUoKX1pZih3MnBvcHVwLnN0YXR1cz1cXFwibG9hZGluZ1xcXCIsXFxcInVuZGVmaW5lZFxcXCI9PVN0cmluZyhhLnVybCkpcmV0dXJuIHZvaWQgY29uc29sZS5sb2coXFxcIkVSUk9SOiBUaGUgdXJsIHBhcmFtZXRlciBpcyBlbXB0eS5cXFwiKTt2YXIgYz1TdHJpbmcoYS51cmwpLnNwbGl0KFxcXCIjXFxcIiksZD1jWzBdLGU9Y1sxXTtcXFwidW5kZWZpbmVkXFxcIj09U3RyaW5nKGEpJiYoYT17fSk7dmFyIGY9JChcXFwiI3cydWktcG9wdXBcXFwiKS5kYXRhKGQpO1xcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgZiYmbnVsbCE9Zj9iKGYsZSk6JC5nZXQoZCxmdW5jdGlvbihhLGMsZil7YihmLnJlc3BvbnNlVGV4dCxlKSwkKFxcXCIjdzJ1aS1wb3B1cFxcXCIpLmRhdGEoZCxmLnJlc3BvbnNlVGV4dCl9KX0sbWVzc2FnZTpmdW5jdGlvbihhKXskKCkudzJ0YWcoKSxhfHwoYT17d2lkdGg6MjAwLGhlaWdodDoxMDB9KSxwYXJzZUludChhLndpZHRoKTwxMCYmKGEud2lkdGg9MTApLHBhcnNlSW50KGEuaGVpZ2h0KTwxMCYmKGEuaGVpZ2h0PTEwKSxcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGEuaGlkZU9uQ2xpY2smJihhLmhpZGVPbkNsaWNrPSExKTt2YXIgYj0kKFxcXCIjdzJ1aS1wb3B1cFxcXCIpLmRhdGEoXFxcIm9wdGlvbnNcXFwiKXx8e307KFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgYS53aWR0aHx8YS53aWR0aD5iLndpZHRoLTEwKSYmKGEud2lkdGg9Yi53aWR0aC0xMCksKFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgYS5oZWlnaHR8fGEuaGVpZ2h0PmIuaGVpZ2h0LTQwKSYmKGEuaGVpZ2h0PWIuaGVpZ2h0LTQwKTt2YXIgYz0kKFxcXCIjdzJ1aS1wb3B1cCAudzJ1aS1tc2ctdGl0bGVcXFwiKSxkPXBhcnNlSW50KCQoXFxcIiN3MnVpLXBvcHVwXFxcIikud2lkdGgoKSksZT0kKFxcXCIjdzJ1aS1wb3B1cCAudzJ1aS1wb3B1cC1tZXNzYWdlXFxcIikubGVuZ3RoO2lmKFxcXCJcXFwiPT0kLnRyaW0oYS5odG1sKSl7JChcXFwiI3cydWktcG9wdXAgI3cydWktbWVzc2FnZVxcXCIrKGUtMSkpLmNzcyhcXFwiei1JbmRleFxcXCIsMjUwKTt2YXIgYT0kKFxcXCIjdzJ1aS1wb3B1cCAjdzJ1aS1tZXNzYWdlXFxcIisoZS0xKSkuZGF0YShcXFwib3B0aW9uc1xcXCIpfHx7fTskKFxcXCIjdzJ1aS1wb3B1cCAjdzJ1aS1tZXNzYWdlXFxcIisoZS0xKSkucmVtb3ZlKCksXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGEub25DbG9zZSYmYS5vbkNsb3NlKCksMT09ZT93MnBvcHVwLnVubG9jaygpOiQoXFxcIiN3MnVpLXBvcHVwICN3MnVpLW1lc3NhZ2VcXFwiKyhlLTIpKS5zaG93KCl9ZWxzZXskKFxcXCIjdzJ1aS1wb3B1cCAudzJ1aS1wb3B1cC1tZXNzYWdlXFxcIikuaGlkZSgpLCQoXFxcIiN3MnVpLXBvcHVwIC53MnVpLWJveDFcXFwiKS5iZWZvcmUoJzxkaXYgaWQ9XFxcIncydWktbWVzc2FnZScrZSsnXFxcIiBjbGFzcz1cXFwidzJ1aS1wb3B1cC1tZXNzYWdlXFxcIiBzdHlsZT1cXFwiZGlzcGxheTogbm9uZTsgJysoMD09Yy5sZW5ndGg/XFxcInRvcDogMHB4O1xcXCI6XFxcInRvcDogXFxcIit3MnV0aWxzLmdldFNpemUoYyxcXFwiaGVpZ2h0XFxcIikrXFxcInB4O1xcXCIpKyhcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGEud2lkdGg/XFxcIndpZHRoOiBcXFwiK2Eud2lkdGgrXFxcInB4OyBsZWZ0OiBcXFwiKyhkLWEud2lkdGgpLzIrXFxcInB4O1xcXCI6XFxcImxlZnQ6IDEwcHg7IHJpZ2h0OiAxMHB4O1xcXCIpKyhcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGEuaGVpZ2h0P1xcXCJoZWlnaHQ6IFxcXCIrYS5oZWlnaHQrXFxcInB4O1xcXCI6XFxcImJvdHRvbTogNnB4O1xcXCIpKyctd2Via2l0LXRyYW5zaXRpb246IC4zczsgLW1vei10cmFuc2l0aW9uOiAuM3M7IC1tcy10cmFuc2l0aW9uOiAuM3M7IC1vLXRyYW5zaXRpb246IC4zcztcXFwiJysoYS5oaWRlT25DbGljaz09PSEwPydvbmNsaWNrPVxcXCJ3MnBvcHVwLm1lc3NhZ2UoKTtcXFwiJzpcXFwiXFxcIikrXFxcIj48L2Rpdj5cXFwiKSwkKFxcXCIjdzJ1aS1wb3B1cCAjdzJ1aS1tZXNzYWdlXFxcIitlKS5kYXRhKFxcXCJvcHRpb25zXFxcIixhKTt2YXIgZj0kKFxcXCIjdzJ1aS1wb3B1cCAjdzJ1aS1tZXNzYWdlXFxcIitlKS5jc3MoXFxcImRpc3BsYXlcXFwiKTskKFxcXCIjdzJ1aS1wb3B1cCAjdzJ1aS1tZXNzYWdlXFxcIitlKS5jc3Moe1xcXCItd2Via2l0LXRyYW5zZm9ybVxcXCI6XFxcIm5vbmVcXFwiPT1mP1xcXCJ0cmFuc2xhdGVZKC1cXFwiK2EuaGVpZ2h0K1xcXCJweClcXFwiOlxcXCJ0cmFuc2xhdGVZKDBweClcXFwiLFxcXCItbW96LXRyYW5zZm9ybVxcXCI6XFxcIm5vbmVcXFwiPT1mP1xcXCJ0cmFuc2xhdGVZKC1cXFwiK2EuaGVpZ2h0K1xcXCJweClcXFwiOlxcXCJ0cmFuc2xhdGVZKDBweClcXFwiLFxcXCItbXMtdHJhbnNmb3JtXFxcIjpcXFwibm9uZVxcXCI9PWY/XFxcInRyYW5zbGF0ZVkoLVxcXCIrYS5oZWlnaHQrXFxcInB4KVxcXCI6XFxcInRyYW5zbGF0ZVkoMHB4KVxcXCIsXFxcIi1vLXRyYW5zZm9ybVxcXCI6XFxcIm5vbmVcXFwiPT1mP1xcXCJ0cmFuc2xhdGVZKC1cXFwiK2EuaGVpZ2h0K1xcXCJweClcXFwiOlxcXCJ0cmFuc2xhdGVZKDBweClcXFwifSksXFxcIm5vbmVcXFwiPT1mJiYoJChcXFwiI3cydWktcG9wdXAgI3cydWktbWVzc2FnZVxcXCIrZSkuc2hvdygpLmh0bWwoYS5odG1sKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JChcXFwiI3cydWktcG9wdXAgI3cydWktbWVzc2FnZVxcXCIrZSkuY3NzKHtcXFwiLXdlYmtpdC10cmFuc2Zvcm1cXFwiOlxcXCJub25lXFxcIj09Zj9cXFwidHJhbnNsYXRlWSgwcHgpXFxcIjpcXFwidHJhbnNsYXRlWSgtXFxcIithLmhlaWdodCtcXFwicHgpXFxcIixcXFwiLW1vei10cmFuc2Zvcm1cXFwiOlxcXCJub25lXFxcIj09Zj9cXFwidHJhbnNsYXRlWSgwcHgpXFxcIjpcXFwidHJhbnNsYXRlWSgtXFxcIithLmhlaWdodCtcXFwicHgpXFxcIixcXFwiLW1zLXRyYW5zZm9ybVxcXCI6XFxcIm5vbmVcXFwiPT1mP1xcXCJ0cmFuc2xhdGVZKDBweClcXFwiOlxcXCJ0cmFuc2xhdGVZKC1cXFwiK2EuaGVpZ2h0K1xcXCJweClcXFwiLFxcXCItby10cmFuc2Zvcm1cXFwiOlxcXCJub25lXFxcIj09Zj9cXFwidHJhbnNsYXRlWSgwcHgpXFxcIjpcXFwidHJhbnNsYXRlWSgtXFxcIithLmhlaWdodCtcXFwicHgpXFxcIn0pfSwxKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JChcXFwiI3cydWktcG9wdXAgI3cydWktbWVzc2FnZVxcXCIrZSkuY3NzKHtcXFwiLXdlYmtpdC10cmFuc2l0aW9uXFxcIjpcXFwiMHNcXFwiLFxcXCItbW96LXRyYW5zaXRpb25cXFwiOlxcXCIwc1xcXCIsXFxcIi1tcy10cmFuc2l0aW9uXFxcIjpcXFwiMHNcXFwiLFxcXCItby10cmFuc2l0aW9uXFxcIjpcXFwiMHNcXFwiLFxcXCJ6LUluZGV4XFxcIjoxNTAwfSksMD09ZSYmdzJwb3B1cC5sb2NrKCksXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGEub25PcGVuJiZhLm9uT3BlbigpfSwzMDApKX19LGxvY2s6ZnVuY3Rpb24oKXt2YXIgYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7YS51bnNoaWZ0KCQoXFxcIiN3MnVpLXBvcHVwXFxcIikpLHcydXRpbHMubG9jay5hcHBseSh3aW5kb3csYSl9LHVubG9jazpmdW5jdGlvbigpe3cydXRpbHMudW5sb2NrKCQoXFxcIiN3MnVpLXBvcHVwXFxcIikpfSxsb2NrU2NyZWVuOmZ1bmN0aW9uKGEpe3JldHVybiAkKFxcXCIjdzJ1aS1sb2NrXFxcIikubGVuZ3RoPjA/ITE6KFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgYSYmKGE9JChcXFwiI3cydWktcG9wdXBcXFwiKS5kYXRhKFxcXCJvcHRpb25zXFxcIikpLFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgYSYmKGE9e30pLGE9JC5leHRlbmQoe30sdzJwb3B1cC5kZWZhdWx0cyxhKSwkKFxcXCJib2R5XFxcIikuYXBwZW5kKCc8ZGl2IGlkPVxcXCJ3MnVpLWxvY2tcXFwiICAgICBvbm1vdXNld2hlZWw9XFxcImlmIChldmVudC5zdG9wUHJvcGFnYXRpb24pIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyBlbHNlIGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7IGlmIChldmVudC5wcmV2ZW50RGVmYXVsdCkgZXZlbnQucHJldmVudERlZmF1bHQoKTsgZWxzZSByZXR1cm4gZmFsc2U7XFxcIiAgICBzdHlsZT1cXFwicG9zaXRpb246ICcrKFxcXCJJRTVcXFwiPT13MnV0aWxzLmVuZ2luZT9cXFwiYWJzb2x1dGVcXFwiOlxcXCJmaXhlZFxcXCIpK1xcXCI7IHotSW5kZXg6IDExOTk7IGxlZnQ6IDBweDsgdG9wOiAwcHg7ICAgICAgICAgICAgcGFkZGluZzogMHB4OyBtYXJnaW46IDBweDsgYmFja2dyb3VuZC1jb2xvcjogXFxcIithLmNvbG9yKyc7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IG9wYWNpdHk6IDA7XFxcIj48L2Rpdj4nKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JChcXFwiI3cydWktbG9ja1xcXCIpLmNzcyh7XFxcIi13ZWJraXQtdHJhbnNpdGlvblxcXCI6YS5zcGVlZCtcXFwicyBvcGFjaXR5XFxcIixcXFwiLW1vei10cmFuc2l0aW9uXFxcIjphLnNwZWVkK1xcXCJzIG9wYWNpdHlcXFwiLFxcXCItbXMtdHJhbnNpdGlvblxcXCI6YS5zcGVlZCtcXFwicyBvcGFjaXR5XFxcIixcXFwiLW8tdHJhbnNpdGlvblxcXCI6YS5zcGVlZCtcXFwicyBvcGFjaXR5XFxcIixvcGFjaXR5OmEub3BhY2l0eX0pfSwxKSwxPT1hLm1vZGFsPygkKFxcXCIjdzJ1aS1sb2NrXFxcIikub24oXFxcIm1vdXNlZG93blxcXCIsZnVuY3Rpb24oKXskKFxcXCIjdzJ1aS1sb2NrXFxcIikuY3NzKHtcXFwiLXdlYmtpdC10cmFuc2l0aW9uXFxcIjpcXFwiLjFzXFxcIixcXFwiLW1vei10cmFuc2l0aW9uXFxcIjpcXFwiLjFzXFxcIixcXFwiLW1zLXRyYW5zaXRpb25cXFwiOlxcXCIuMXNcXFwiLFxcXCItby10cmFuc2l0aW9uXFxcIjpcXFwiLjFzXFxcIixvcGFjaXR5OlxcXCIwLjZcXFwifSl9KSwkKFxcXCIjdzJ1aS1sb2NrXFxcIikub24oXFxcIm1vdXNldXBcXFwiLGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpeyQoXFxcIiN3MnVpLWxvY2tcXFwiKS5jc3Moe1xcXCItd2Via2l0LXRyYW5zaXRpb25cXFwiOlxcXCIuMXNcXFwiLFxcXCItbW96LXRyYW5zaXRpb25cXFwiOlxcXCIuMXNcXFwiLFxcXCItbXMtdHJhbnNpdGlvblxcXCI6XFxcIi4xc1xcXCIsXFxcIi1vLXRyYW5zaXRpb25cXFwiOlxcXCIuMXNcXFwiLG9wYWNpdHk6YS5vcGFjaXR5fSl9LDEwMCl9KSk6JChcXFwiI3cydWktbG9ja1xcXCIpLm9uKFxcXCJtb3VzZXVwXFxcIixmdW5jdGlvbigpe3cycG9wdXAuY2xvc2UoKX0pLCEwKX0sdW5sb2NrU2NyZWVuOmZ1bmN0aW9uKGEpe3JldHVybiAwPT0kKFxcXCIjdzJ1aS1sb2NrXFxcIikubGVuZ3RoPyExOihcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGEmJihhPSQoXFxcIiN3MnVpLXBvcHVwXFxcIikuZGF0YShcXFwib3B0aW9uc1xcXCIpKSxcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGEmJihhPXt9KSxhPSQuZXh0ZW5kKHt9LHcycG9wdXAuZGVmYXVsdHMsYSksJChcXFwiI3cydWktbG9ja1xcXCIpLmNzcyh7XFxcIi13ZWJraXQtdHJhbnNpdGlvblxcXCI6YS5zcGVlZCtcXFwicyBvcGFjaXR5XFxcIixcXFwiLW1vei10cmFuc2l0aW9uXFxcIjphLnNwZWVkK1xcXCJzIG9wYWNpdHlcXFwiLFxcXCItbXMtdHJhbnNpdGlvblxcXCI6YS5zcGVlZCtcXFwicyBvcGFjaXR5XFxcIixcXFwiLW8tdHJhbnNpdGlvblxcXCI6YS5zcGVlZCtcXFwicyBvcGFjaXR5XFxcIixvcGFjaXR5OjB9KSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JChcXFwiI3cydWktbG9ja1xcXCIpLnJlbW92ZSgpfSwxZTMqYS5zcGVlZCksITApfSxyZXNpemU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSQoXFxcIiN3MnVpLXBvcHVwXFxcIikuZGF0YShcXFwib3B0aW9uc1xcXCIpO3BhcnNlSW50KCQod2luZG93KS53aWR0aCgpKS0xMDxwYXJzZUludChhKSYmKGE9cGFyc2VJbnQoJCh3aW5kb3cpLndpZHRoKCkpLTEwKSxwYXJzZUludCgkKHdpbmRvdykuaGVpZ2h0KCkpLTEwPHBhcnNlSW50KGIpJiYoYj1wYXJzZUludCgkKHdpbmRvdykuaGVpZ2h0KCkpLTEwKTt2YXIgZT0ocGFyc2VJbnQoJCh3aW5kb3cpLmhlaWdodCgpKS1wYXJzZUludChiKSkvMiouOCxmPShwYXJzZUludCgkKHdpbmRvdykud2lkdGgoKSktcGFyc2VJbnQoYSkpLzI7JChcXFwiI3cydWktcG9wdXBcXFwiKS5jc3Moe1xcXCItd2Via2l0LXRyYW5zaXRpb25cXFwiOmQuc3BlZWQrXFxcInMgd2lkdGgsIFxcXCIrZC5zcGVlZCtcXFwicyBoZWlnaHQsIFxcXCIrZC5zcGVlZCtcXFwicyBsZWZ0LCBcXFwiK2Quc3BlZWQrXFxcInMgdG9wXFxcIixcXFwiLW1vei10cmFuc2l0aW9uXFxcIjpkLnNwZWVkK1xcXCJzIHdpZHRoLCBcXFwiK2Quc3BlZWQrXFxcInMgaGVpZ2h0LCBcXFwiK2Quc3BlZWQrXFxcInMgbGVmdCwgXFxcIitkLnNwZWVkK1xcXCJzIHRvcFxcXCIsXFxcIi1tcy10cmFuc2l0aW9uXFxcIjpkLnNwZWVkK1xcXCJzIHdpZHRoLCBcXFwiK2Quc3BlZWQrXFxcInMgaGVpZ2h0LCBcXFwiK2Quc3BlZWQrXFxcInMgbGVmdCwgXFxcIitkLnNwZWVkK1xcXCJzIHRvcFxcXCIsXFxcIi1vLXRyYW5zaXRpb25cXFwiOmQuc3BlZWQrXFxcInMgd2lkdGgsIFxcXCIrZC5zcGVlZCtcXFwicyBoZWlnaHQsIFxcXCIrZC5zcGVlZCtcXFwicyBsZWZ0LCBcXFwiK2Quc3BlZWQrXFxcInMgdG9wXFxcIix0b3A6ZSxsZWZ0OmYsd2lkdGg6YSxoZWlnaHQ6Yn0pLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLndpZHRoPWEsZC5oZWlnaHQ9YixcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgYyYmYygpfSwxZTMqZC5zcGVlZCs1MCl9fSwkLmV4dGVuZCh3MnBvcHVwLHcydXRpbHMuZXZlbnQpfSgpO3ZhciB3MmFsZXJ0PWZ1bmN0aW9uKGEsYixjKXtudWxsPT1iJiYoYj13MnV0aWxzLmxhbmcoXFxcIk5vdGlmaWNhdGlvblxcXCIpKSwkKFxcXCIjdzJ1aS1wb3B1cFxcXCIpLmxlbmd0aD4wJiZcXFwiY2xvc2luZ1xcXCIhPXcycG9wdXAuc3RhdHVzP3cycG9wdXAubWVzc2FnZSh7d2lkdGg6NDAwLGhlaWdodDoxNzAsaHRtbDonPGRpdiBzdHlsZT1cXFwicG9zaXRpb246IGFic29sdXRlOyB0b3A6IDBweDsgbGVmdDogMHB4OyByaWdodDogMHB4OyBib3R0b206IDQ1cHg7IG92ZXJmbG93OiBhdXRvXFxcIj4gICAgICAgIDxkaXYgY2xhc3M9XFxcIncydWktY2VudGVyZWRcXFwiIHN0eWxlPVxcXCJmb250LXNpemU6IDEzcHg7XFxcIj4nK2ErJzwvZGl2PjwvZGl2PjxkaXYgc3R5bGU9XFxcInBvc2l0aW9uOiBhYnNvbHV0ZTsgYm90dG9tOiA3cHg7IGxlZnQ6IDBweDsgcmlnaHQ6IDBweDsgdGV4dC1hbGlnbjogY2VudGVyOyBwYWRkaW5nOiA1cHhcXFwiPiAgICAgICAgPGJ1dHRvbiBvbmNsaWNrPVxcXCJ3MnBvcHVwLm1lc3NhZ2UoKTtcXFwiIGNsYXNzPVxcXCJ3MnVpLXBvcHVwLWJ0biB3MnVpLWJ0blxcXCI+Jyt3MnV0aWxzLmxhbmcoXFxcIk9rXFxcIikrXFxcIjwvYnV0dG9uPjwvZGl2PlxcXCIsb25DbG9zZTpmdW5jdGlvbigpe1xcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBjJiZjKCl9fSk6dzJwb3B1cC5vcGVuKHt3aWR0aDo0NTAsaGVpZ2h0OjIyMCxzaG93TWF4OiExLHNob3dDbG9zZTohMSx0aXRsZTpiLGJvZHk6JzxkaXYgY2xhc3M9XFxcIncydWktY2VudGVyZWRcXFwiIHN0eWxlPVxcXCJmb250LXNpemU6IDEzcHg7XFxcIj4nK2ErXFxcIjwvZGl2PlxcXCIsYnV0dG9uczonPGJ1dHRvbiBvbmNsaWNrPVxcXCJ3MnBvcHVwLmNsb3NlKCk7XFxcIiBjbGFzcz1cXFwidzJ1aS1wb3B1cC1idG4gdzJ1aS1idG5cXFwiPicrdzJ1dGlscy5sYW5nKFxcXCJPa1xcXCIpK1xcXCI8L2J1dHRvbj5cXFwiLG9uQ2xvc2U6ZnVuY3Rpb24oKXtcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgYyYmYygpfX0pfSx3MmNvbmZpcm09ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXt9LGU9e21zZzpcXFwiXFxcIix0aXRsZTp3MnV0aWxzLmxhbmcoXFxcIkNvbmZpcm1hdGlvblxcXCIpLHdpZHRoOiQoXFxcIiN3MnVpLXBvcHVwXFxcIikubGVuZ3RoPjA/NDAwOjQ1MCxoZWlnaHQ6JChcXFwiI3cydWktcG9wdXBcXFwiKS5sZW5ndGg+MD8xNzA6MjIwLHllc190ZXh0OlxcXCJZZXNcXFwiLHllc19jbGFzczpcXFwiXFxcIix5ZXNfc3R5bGU6XFxcIlxcXCIseWVzX2NhbGxCYWNrOm51bGwsbm9fdGV4dDpcXFwiTm9cXFwiLG5vX2NsYXNzOlxcXCJcXFwiLG5vX3N0eWxlOlxcXCJcXFwiLG5vX2NhbGxCYWNrOm51bGwsY2FsbEJhY2s6bnVsbH07cmV0dXJuIDE9PWFyZ3VtZW50cy5sZW5ndGgmJlxcXCJvYmplY3RcXFwiPT10eXBlb2YgYT8kLmV4dGVuZChkLGUsYSk6XFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGI/JC5leHRlbmQoZCxlLHttc2c6YSxjYWxsQmFjazpifSk6JC5leHRlbmQoZCxlLHttc2c6YSx0aXRsZTpiLGNhbGxCYWNrOmN9KSwkKFxcXCIjdzJ1aS1wb3B1cFxcXCIpLmxlbmd0aD4wJiZcXFwiY2xvc2luZ1xcXCIhPXcycG9wdXAuc3RhdHVzPyhkLndpZHRoPncycG9wdXAuZ2V0KCkud2lkdGgmJihkLndpZHRoPXcycG9wdXAuZ2V0KCkud2lkdGgpLGQuaGVpZ2h0PncycG9wdXAuZ2V0KCkuaGVpZ2h0LTUwJiYoZC5oZWlnaHQ9dzJwb3B1cC5nZXQoKS5oZWlnaHQtNTApLHcycG9wdXAubWVzc2FnZSh7d2lkdGg6ZC53aWR0aCxoZWlnaHQ6ZC5oZWlnaHQsaHRtbDonPGRpdiBzdHlsZT1cXFwicG9zaXRpb246IGFic29sdXRlOyB0b3A6IDBweDsgbGVmdDogMHB4OyByaWdodDogMHB4OyBib3R0b206IDQwcHg7IG92ZXJmbG93OiBhdXRvXFxcIj4gICAgICAgIDxkaXYgY2xhc3M9XFxcIncydWktY2VudGVyZWRcXFwiIHN0eWxlPVxcXCJmb250LXNpemU6IDEzcHg7XFxcIj4nK2QubXNnKyc8L2Rpdj48L2Rpdj48ZGl2IHN0eWxlPVxcXCJwb3NpdGlvbjogYWJzb2x1dGU7IGJvdHRvbTogN3B4OyBsZWZ0OiAwcHg7IHJpZ2h0OiAwcHg7IHRleHQtYWxpZ246IGNlbnRlcjsgcGFkZGluZzogNXB4XFxcIj4gICAgICAgIDxidXR0b24gaWQ9XFxcIlllc1xcXCIgY2xhc3M9XFxcIncydWktcG9wdXAtYnRuIHcydWktYnRuICcrZC55ZXNfY2xhc3MrJ1xcXCIgc3R5bGU9XFxcIicrZC55ZXNfc3R5bGUrJ1xcXCI+Jyt3MnV0aWxzLmxhbmcoZC55ZXNfdGV4dCkrJzwvYnV0dG9uPiAgICAgICAgPGJ1dHRvbiBpZD1cXFwiTm9cXFwiIGNsYXNzPVxcXCJ3MnVpLXBvcHVwLWJ0biB3MnVpLWJ0biAnK2Qubm9fY2xhc3MrJ1xcXCIgc3R5bGU9XFxcIicrZC5ub19zdHlsZSsnXFxcIj4nK3cydXRpbHMubGFuZyhkLm5vX3RleHQpK1xcXCI8L2J1dHRvbj48L2Rpdj5cXFwiLG9uT3BlbjpmdW5jdGlvbigpeyQoXFxcIiN3MnVpLXBvcHVwIC53MnVpLXBvcHVwLW1lc3NhZ2UgLncydWktYnRuXFxcIikub24oXFxcImNsaWNrXFxcIixmdW5jdGlvbihhKXt3MnBvcHVwLm1lc3NhZ2UoKSxcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgZC5jYWxsQmFjayYmZC5jYWxsQmFjayhhLnRhcmdldC5pZCksXFxcIlllc1xcXCI9PWEudGFyZ2V0LmlkJiZcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgZC55ZXNfY2FsbEJhY2smJmQueWVzX2NhbGxCYWNrKCksXFxcIk5vXFxcIj09YS50YXJnZXQuaWQmJlxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBkLm5vX2NhbGxCYWNrJiZkLm5vX2NhbGxCYWNrKCl9KX0sb25LZXlkb3duOmZ1bmN0aW9uKGEpe3N3aXRjaChhLm9yaWdpbmFsRXZlbnQua2V5Q29kZSl7Y2FzZSAxMzpcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgZC5jYWxsQmFjayYmZC5jYWxsQmFjayhcXFwiWWVzXFxcIiksXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGQueWVzX2NhbGxCYWNrJiZkLnllc19jYWxsQmFjaygpLHcycG9wdXAubWVzc2FnZSgpO2JyZWFrO2Nhc2UgMjc6XFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGQuY2FsbEJhY2smJmQuY2FsbEJhY2soXFxcIk5vXFxcIiksXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGQubm9fY2FsbEJhY2smJmQubm9fY2FsbEJhY2soKSx3MnBvcHVwLm1lc3NhZ2UoKX19fSkpOih3MnV0aWxzLmlzSW50KGQuaGVpZ2h0KXx8KGQuaGVpZ2h0PWQuaGVpZ2h0KzUwKSx3MnBvcHVwLm9wZW4oe3dpZHRoOmQud2lkdGgsaGVpZ2h0OmQuaGVpZ2h0LHRpdGxlOmQudGl0bGUsbW9kYWw6ITAsc2hvd0Nsb3NlOiExLGJvZHk6JzxkaXYgY2xhc3M9XFxcIncydWktY2VudGVyZWRcXFwiIHN0eWxlPVxcXCJmb250LXNpemU6IDEzcHg7XFxcIj4nK2QubXNnK1xcXCI8L2Rpdj5cXFwiLGJ1dHRvbnM6JzxidXR0b24gaWQ9XFxcIlllc1xcXCIgY2xhc3M9XFxcIncydWktcG9wdXAtYnRuIHcydWktYnRuICcrZC55ZXNfY2xhc3MrJ1xcXCIgc3R5bGU9XFxcIicrZC55ZXNfc3R5bGUrJ1xcXCI+Jyt3MnV0aWxzLmxhbmcoZC55ZXNfdGV4dCkrJzwvYnV0dG9uPjxidXR0b24gaWQ9XFxcIk5vXFxcIiBjbGFzcz1cXFwidzJ1aS1wb3B1cC1idG4gdzJ1aS1idG4gJytkLm5vX2NsYXNzKydcXFwiIHN0eWxlPVxcXCInK2Qubm9fc3R5bGUrJ1xcXCI+Jyt3MnV0aWxzLmxhbmcoZC5ub190ZXh0KStcXFwiPC9idXR0b24+XFxcIixvbk9wZW46ZnVuY3Rpb24oYSl7YS5vbkNvbXBsZXRlPWZ1bmN0aW9uKCl7JChcXFwiI3cydWktcG9wdXAgLncydWktcG9wdXAtYnRuXFxcIikub24oXFxcImNsaWNrXFxcIixmdW5jdGlvbihhKXt3MnBvcHVwLmNsb3NlKCksXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGQuY2FsbEJhY2smJmQuY2FsbEJhY2soYS50YXJnZXQuaWQpLFxcXCJZZXNcXFwiPT1hLnRhcmdldC5pZCYmXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGQueWVzX2NhbGxCYWNrJiZkLnllc19jYWxsQmFjaygpLFxcXCJOb1xcXCI9PWEudGFyZ2V0LmlkJiZcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgZC5ub19jYWxsQmFjayYmZC5ub19jYWxsQmFjaygpfSl9fSxvbktleWRvd246ZnVuY3Rpb24oYSl7c3dpdGNoKGEub3JpZ2luYWxFdmVudC5rZXlDb2RlKXtjYXNlIDEzOlxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBkLmNhbGxCYWNrJiZkLmNhbGxCYWNrKFxcXCJZZXNcXFwiKSxcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgZC55ZXNfY2FsbEJhY2smJmQueWVzX2NhbGxCYWNrKCksdzJwb3B1cC5jbG9zZSgpO2JyZWFrO2Nhc2UgMjc6XFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGQuY2FsbEJhY2smJmQuY2FsbEJhY2soXFxcIk5vXFxcIiksXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGQubm9fY2FsbEJhY2smJmQubm9fY2FsbEJhY2soKSx3MnBvcHVwLmNsb3NlKCl9fX0pKSx7eWVzOmZ1bmN0aW9uKGEpe3JldHVybiBkLnllc19jYWxsQmFjaz1hLHRoaXN9LG5vOmZ1bmN0aW9uKGEpe3JldHVybiBkLm5vX2NhbGxCYWNrPWEsdGhpc319fTshZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhKXt0aGlzLmJveD1udWxsLHRoaXMubmFtZT1udWxsLHRoaXMuYWN0aXZlPW51bGwsdGhpcy50YWJzPVtdLHRoaXMucm91dGVEYXRhPXt9LHRoaXMucmlnaHQ9XFxcIlxcXCIsdGhpcy5zdHlsZT1cXFwiXFxcIix0aGlzLm9uQ2xpY2s9bnVsbCx0aGlzLm9uQ2xvc2U9bnVsbCx0aGlzLm9uUmVuZGVyPW51bGwsdGhpcy5vblJlZnJlc2g9bnVsbCx0aGlzLm9uUmVzaXplPW51bGwsdGhpcy5vbkRlc3Ryb3k9bnVsbCwkLmV4dGVuZCh0aGlzLHtoYW5kbGVyczpbXX0pLCQuZXh0ZW5kKCEwLHRoaXMsdzJvYmoudGFicyxhKX07JC5mbi53MnRhYnM9ZnVuY3Rpb24oYil7aWYoXFxcIm9iamVjdFxcXCIhPXR5cGVvZiBiJiZiKXtpZih3MnVpWyQodGhpcykuYXR0cihcXFwibmFtZVxcXCIpXSl7dmFyIGM9dzJ1aVskKHRoaXMpLmF0dHIoXFxcIm5hbWVcXFwiKV07cmV0dXJuIGNbYl0uYXBwbHkoYyxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpLHRoaXN9cmV0dXJuIHZvaWQgY29uc29sZS5sb2coXFxcIkVSUk9SOiBNZXRob2QgXFxcIitiK1xcXCIgZG9lcyBub3QgZXhpc3Qgb24galF1ZXJ5LncydGFic1xcXCIpfWlmKHcydXRpbHMuY2hlY2tOYW1lKGIsXFxcIncydGFic1xcXCIpKXtmb3IodmFyIGQ9Yi50YWJzfHxbXSxlPW5ldyBhKGIpLGY9MDtmPGQubGVuZ3RoO2YrKyllLnRhYnNbZl09JC5leHRlbmQoe30sYS5wcm90b3R5cGUudGFiLGRbZl0pO3JldHVybiAwIT09JCh0aGlzKS5sZW5ndGgmJmUucmVuZGVyKCQodGhpcylbMF0pLHcydWlbZS5uYW1lXT1lLGV9fSxhLnByb3RvdHlwZT17dGFiOntpZDpudWxsLHRleHQ6XFxcIlxcXCIscm91dGU6bnVsbCxoaWRkZW46ITEsZGlzYWJsZWQ6ITEsY2xvc2FibGU6ITEsaGludDpcXFwiXFxcIixvbkNsaWNrOm51bGwsb25SZWZyZXNoOm51bGwsb25DbG9zZTpudWxsfSxhZGQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW5zZXJ0KG51bGwsYSl9LGluc2VydDpmdW5jdGlvbihiLGMpeyQuaXNBcnJheShjKXx8KGM9W2NdKTtmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyl7aWYoXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBjW2RdLmlkKXJldHVybiB2b2lkIGNvbnNvbGUubG9nKCdFUlJPUjogVGhlIHBhcmFtZXRlciBcXFwiaWRcXFwiIGlzIHJlcXVpcmVkIGJ1dCBub3Qgc3VwcGxpZWQuIChvYmo6ICcrdGhpcy5uYW1lK1xcXCIpXFxcIik7aWYoIXcydXRpbHMuY2hlY2tVbmlxdWVJZChjW2RdLmlkLHRoaXMudGFicyxcXFwidGFic1xcXCIsdGhpcy5uYW1lKSlyZXR1cm47dmFyIGU9JC5leHRlbmQoe30sYS5wcm90b3R5cGUudGFiLGNbZF0pO2lmKG51bGw9PT1ifHxcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGIpdGhpcy50YWJzLnB1c2goZSk7ZWxzZXt2YXIgZj10aGlzLmdldChiLCEwKTtcXG50aGlzLnRhYnM9dGhpcy50YWJzLnNsaWNlKDAsZikuY29uY2F0KFtlXSx0aGlzLnRhYnMuc2xpY2UoZikpfXRoaXMucmVmcmVzaChjW2RdLmlkKX19LHJlbW92ZTpmdW5jdGlvbigpe2Zvcih2YXIgYT0wLGI9MDtiPGFyZ3VtZW50cy5sZW5ndGg7YisrKXt2YXIgYz10aGlzLmdldChhcmd1bWVudHNbYl0pO2lmKCFjKXJldHVybiExO2ErKyx0aGlzLnRhYnMuc3BsaWNlKHRoaXMuZ2V0KGMuaWQsITApLDEpLCQodGhpcy5ib3gpLmZpbmQoXFxcIiN0YWJzX1xcXCIrdGhpcy5uYW1lK1xcXCJfdGFiX1xcXCIrdzJ1dGlscy5lc2NhcGVJZChjLmlkKSkucmVtb3ZlKCl9cmV0dXJuIGF9LHNlbGVjdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hY3RpdmU9PWF8fG51bGw9PT10aGlzLmdldChhKT8hMToodGhpcy5hY3RpdmU9YSx0aGlzLnJlZnJlc2goKSwhMCl9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0KGEsITApO3JldHVybiBudWxsPT09Yz8hMTooJC5leHRlbmQodGhpcy50YWJzW2NdLGIpLHRoaXMucmVmcmVzaChhKSwhMCl9LGdldDpmdW5jdGlvbihhLGIpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXtmb3IodmFyIGM9W10sZD0wO2Q8dGhpcy50YWJzLmxlbmd0aDtkKyspbnVsbCE9dGhpcy50YWJzW2RdLmlkJiZjLnB1c2godGhpcy50YWJzW2RdLmlkKTtyZXR1cm4gY31mb3IodmFyIGU9MDtlPHRoaXMudGFicy5sZW5ndGg7ZSsrKWlmKHRoaXMudGFic1tlXS5pZD09YSlyZXR1cm4gYj09PSEwP2U6dGhpcy50YWJzW2VdO3JldHVybiBudWxsfSxzaG93OmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMsYj0wLGM9W10sZD0wO2Q8YXJndW1lbnRzLmxlbmd0aDtkKyspe3ZhciBlPXRoaXMuZ2V0KGFyZ3VtZW50c1tkXSk7ZSYmZS5oaWRkZW4hPT0hMSYmKGIrKyxlLmhpZGRlbj0hMSxjLnB1c2goZS5pZCkpfXJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zm9yKHZhciBiIGluIGMpYS5yZWZyZXNoKGNbYl0pfSwxNSksYn0saGlkZTpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLGI9MCxjPVtdLGQ9MDtkPGFyZ3VtZW50cy5sZW5ndGg7ZCsrKXt2YXIgZT10aGlzLmdldChhcmd1bWVudHNbZF0pO2UmJmUuaGlkZGVuIT09ITAmJihiKyssZS5oaWRkZW49ITAsYy5wdXNoKGUuaWQpKX1yZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe2Zvcih2YXIgYiBpbiBjKWEucmVmcmVzaChjW2JdKX0sMTUpLGJ9LGVuYWJsZTpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLGI9MCxjPVtdLGQ9MDtkPGFyZ3VtZW50cy5sZW5ndGg7ZCsrKXt2YXIgZT10aGlzLmdldChhcmd1bWVudHNbZF0pO2UmJmUuZGlzYWJsZWQhPT0hMSYmKGIrKyxlLmRpc2FibGVkPSExLGMucHVzaChlLmlkKSl9cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtmb3IodmFyIGIgaW4gYylhLnJlZnJlc2goY1tiXSl9LDE1KSxifSxkaXNhYmxlOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMsYj0wLGM9W10sZD0wO2Q8YXJndW1lbnRzLmxlbmd0aDtkKyspe3ZhciBlPXRoaXMuZ2V0KGFyZ3VtZW50c1tkXSk7ZSYmZS5kaXNhYmxlZCE9PSEwJiYoYisrLGUuZGlzYWJsZWQ9ITAsYy5wdXNoKGUuaWQpKX1yZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe2Zvcih2YXIgYiBpbiBjKWEucmVmcmVzaChjW2JdKX0sMTUpLGJ9LHJlZnJlc2g6ZnVuY3Rpb24oYSl7dmFyIGI9KG5ldyBEYXRlKS5nZXRUaW1lKCksYz10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcInJlZnJlc2hcXFwiLHRhcmdldDpcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGE/YTp0aGlzLm5hbWUsb2JqZWN0OnRoaXMuZ2V0KGEpfSk7aWYoYy5pc0NhbmNlbGxlZCE9PSEwKXtpZihcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGEpZm9yKHZhciBkPTA7ZDx0aGlzLnRhYnMubGVuZ3RoO2QrKyl0aGlzLnJlZnJlc2godGhpcy50YWJzW2RdLmlkKTtlbHNle3ZhciBlPXRoaXMuZ2V0KGEpO2lmKG51bGw9PT1lKXJldHVybiExO1xcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgZS5jYXB0aW9uJiYoZS50ZXh0PWUuY2FwdGlvbik7dmFyIGY9JCh0aGlzLmJveCkuZmluZChcXFwiI3RhYnNfXFxcIit0aGlzLm5hbWUrXFxcIl90YWJfXFxcIit3MnV0aWxzLmVzY2FwZUlkKGUuaWQpKSxnPShlLmNsb3NhYmxlPyc8ZGl2IGNsYXNzPVxcXCJ3MnVpLXRhYi1jbG9zZVxcXCIgb25jbGljaz1cXFwidzJ1aVtcXFxcJycrdGhpcy5uYW1lK1xcXCInXS5hbmltYXRlQ2xvc2UoJ1xcXCIrZS5pZCtcXFwiJywgZXZlbnQpO1xcXFxcXFwiPjwvZGl2PlxcXCI6XFxcIlxcXCIpKycgICAgPGRpdiBjbGFzcz1cXFwidzJ1aS10YWInKyh0aGlzLmFjdGl2ZT09PWUuaWQ/XFxcIiBhY3RpdmVcXFwiOlxcXCJcXFwiKSsoZS5jbG9zYWJsZT9cXFwiIGNsb3NhYmxlXFxcIjpcXFwiXFxcIikrJ1xcXCIgICAgICAgICB0aXRsZT1cXFwiJysoXFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBlLmhpbnQ/ZS5oaW50OlxcXCJcXFwiKSsnXFxcIiAgICAgICAgb25jbGljaz1cXFwidzJ1aVtcXFxcJycrdGhpcy5uYW1lK1xcXCInXS5jbGljaygnXFxcIitlLmlkK1xcXCInLCBldmVudCk7XFxcXFxcXCI+XFxcIitlLnRleHQrXFxcIjwvZGl2PlxcXCI7aWYoMD09PWYubGVuZ3RoKXt2YXIgaD1cXFwiXFxcIjtlLmhpZGRlbiYmKGgrPVxcXCJkaXNwbGF5OiBub25lO1xcXCIpLGUuZGlzYWJsZWQmJihoKz1cXFwib3BhY2l0eTogMC4yOyAtbW96LW9wYWNpdHk6IDAuMjsgLXdlYmtpdC1vcGFjaXR5OiAwLjI7IC1vLW9wYWNpdHk6IDAuMjsgZmlsdGVyOmFscGhhKG9wYWNpdHk9MjApO1xcXCIpO3ZhciBpPSc8dGQgaWQ9XFxcInRhYnNfJyt0aGlzLm5hbWUrXFxcIl90YWJfXFxcIitlLmlkKydcXFwiIHN0eWxlPVxcXCInK2grJ1xcXCIgdmFsaWduPVxcXCJtaWRkbGVcXFwiPicrZytcXFwiPC90ZD5cXFwiO3RoaXMuZ2V0KGEsITApIT09dGhpcy50YWJzLmxlbmd0aC0xJiYkKHRoaXMuYm94KS5maW5kKFxcXCIjdGFic19cXFwiK3RoaXMubmFtZStcXFwiX3RhYl9cXFwiK3cydXRpbHMuZXNjYXBlSWQodGhpcy50YWJzW3BhcnNlSW50KHRoaXMuZ2V0KGEsITApKSsxXS5pZCkpLmxlbmd0aD4wPyQodGhpcy5ib3gpLmZpbmQoXFxcIiN0YWJzX1xcXCIrdGhpcy5uYW1lK1xcXCJfdGFiX1xcXCIrdzJ1dGlscy5lc2NhcGVJZCh0aGlzLnRhYnNbcGFyc2VJbnQodGhpcy5nZXQoYSwhMCkpKzFdLmlkKSkuYmVmb3JlKGkpOiQodGhpcy5ib3gpLmZpbmQoXFxcIiN0YWJzX1xcXCIrdGhpcy5uYW1lK1xcXCJfcmlnaHRcXFwiKS5iZWZvcmUoaSl9ZWxzZSBmLmh0bWwoZyksZS5oaWRkZW4/Zi5jc3MoXFxcImRpc3BsYXlcXFwiLFxcXCJub25lXFxcIik6Zi5jc3MoXFxcImRpc3BsYXlcXFwiLFxcXCJcXFwiKSxmLmNzcyhlLmRpc2FibGVkP3tvcGFjaXR5OlxcXCIwLjJcXFwiLFxcXCItbW96LW9wYWNpdHlcXFwiOlxcXCIwLjJcXFwiLFxcXCItd2Via2l0LW9wYWNpdHlcXFwiOlxcXCIwLjJcXFwiLFxcXCItby1vcGFjaXR5XFxcIjpcXFwiMC4yXFxcIixmaWx0ZXI6XFxcImFscGhhKG9wYWNpdHk9MjApXFxcIn06e29wYWNpdHk6XFxcIjFcXFwiLFxcXCItbW96LW9wYWNpdHlcXFwiOlxcXCIxXFxcIixcXFwiLXdlYmtpdC1vcGFjaXR5XFxcIjpcXFwiMVxcXCIsXFxcIi1vLW9wYWNpdHlcXFwiOlxcXCIxXFxcIixmaWx0ZXI6XFxcImFscGhhKG9wYWNpdHk9MTAwKVxcXCJ9KX1yZXR1cm4gJChcXFwiI3RhYnNfXFxcIit0aGlzLm5hbWUrXFxcIl9yaWdodFxcXCIpLmh0bWwodGhpcy5yaWdodCksdGhpcy50cmlnZ2VyKCQuZXh0ZW5kKGMse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSksKG5ldyBEYXRlKS5nZXRUaW1lKCktYn19LHJlbmRlcjpmdW5jdGlvbihhKXt2YXIgYj0obmV3IERhdGUpLmdldFRpbWUoKSxjPXRoaXMudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwicmVuZGVyXFxcIix0YXJnZXQ6dGhpcy5uYW1lLGJveDphfSk7aWYoYy5pc0NhbmNlbGxlZCE9PSEwKXtpZihcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGEmJm51bGwhPT1hJiYoJCh0aGlzLmJveCkuZmluZChcXFwiPiB0YWJsZSAjdGFic19cXFwiK3RoaXMubmFtZStcXFwiX3JpZ2h0XFxcIikubGVuZ3RoPjAmJiQodGhpcy5ib3gpLnJlbW92ZUF0dHIoXFxcIm5hbWVcXFwiKS5yZW1vdmVDbGFzcyhcXFwidzJ1aS1yZXNldCB3MnVpLXRhYnNcXFwiKS5odG1sKFxcXCJcXFwiKSx0aGlzLmJveD1hKSwhdGhpcy5ib3gpcmV0dXJuITE7dmFyIGQ9Jzx0YWJsZSBjZWxsc3BhY2luZz1cXFwiMFxcXCIgY2VsbHBhZGRpbmc9XFxcIjFcXFwiIHdpZHRoPVxcXCIxMDAlXFxcIj4gICAgPHRyPjx0ZCB3aWR0aD1cXFwiMTAwJVxcXCIgaWQ9XFxcInRhYnNfJyt0aGlzLm5hbWUrJ19yaWdodFxcXCIgYWxpZ249XFxcInJpZ2h0XFxcIj4nK3RoaXMucmlnaHQrXFxcIjwvdGQ+PC90cj48L3RhYmxlPlxcXCI7cmV0dXJuICQodGhpcy5ib3gpLmF0dHIoXFxcIm5hbWVcXFwiLHRoaXMubmFtZSkuYWRkQ2xhc3MoXFxcIncydWktcmVzZXQgdzJ1aS10YWJzXFxcIikuaHRtbChkKSwkKHRoaXMuYm94KS5sZW5ndGg+MCYmKCQodGhpcy5ib3gpWzBdLnN0eWxlLmNzc1RleHQrPXRoaXMuc3R5bGUpLHRoaXMudHJpZ2dlcigkLmV4dGVuZChjLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpLHRoaXMucmVmcmVzaCgpLChuZXcgRGF0ZSkuZ2V0VGltZSgpLWJ9fSxyZXNpemU6ZnVuY3Rpb24oKXt2YXIgYT0obmV3IERhdGUpLmdldFRpbWUoKSxiPXRoaXMudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwicmVzaXplXFxcIix0YXJnZXQ6dGhpcy5uYW1lfSk7cmV0dXJuIGIuaXNDYW5jZWxsZWQhPT0hMD8odGhpcy50cmlnZ2VyKCQuZXh0ZW5kKGIse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSksKG5ldyBEYXRlKS5nZXRUaW1lKCktYSk6dm9pZCAwfSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJkZXN0cm95XFxcIix0YXJnZXQ6dGhpcy5uYW1lfSk7YS5pc0NhbmNlbGxlZCE9PSEwJiYoJCh0aGlzLmJveCkuZmluZChcXFwiPiB0YWJsZSAjdGFic19cXFwiK3RoaXMubmFtZStcXFwiX3JpZ2h0XFxcIikubGVuZ3RoPjAmJiQodGhpcy5ib3gpLnJlbW92ZUF0dHIoXFxcIm5hbWVcXFwiKS5yZW1vdmVDbGFzcyhcXFwidzJ1aS1yZXNldCB3MnVpLXRhYnNcXFwiKS5odG1sKFxcXCJcXFwiKSxkZWxldGUgdzJ1aVt0aGlzLm5hbWVdLHRoaXMudHJpZ2dlcigkLmV4dGVuZChhLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpKX0sY2xpY2s6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldChhKTtpZihudWxsPT09Y3x8Yy5kaXNhYmxlZClyZXR1cm4hMTt2YXIgZD10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcImNsaWNrXFxcIix0YXJnZXQ6YSx0YWI6YyxvYmplY3Q6YyxvcmlnaW5hbEV2ZW50OmJ9KTtpZihkLmlzQ2FuY2VsbGVkIT09ITApe2lmKCQodGhpcy5ib3gpLmZpbmQoXFxcIiN0YWJzX1xcXCIrdGhpcy5uYW1lK1xcXCJfdGFiX1xcXCIrdzJ1dGlscy5lc2NhcGVJZCh0aGlzLmFjdGl2ZSkrXFxcIiAudzJ1aS10YWJcXFwiKS5yZW1vdmVDbGFzcyhcXFwiYWN0aXZlXFxcIiksdGhpcy5hY3RpdmU9Yy5pZCxjLnJvdXRlKXt2YXIgZT1TdHJpbmcoXFxcIi9cXFwiK2Mucm91dGUpLnJlcGxhY2UoL1xcXFwvezIsfS9nLFxcXCIvXFxcIiksZj13MnV0aWxzLnBhcnNlUm91dGUoZSk7aWYoZi5rZXlzLmxlbmd0aD4wKWZvcih2YXIgZz0wO2c8Zi5rZXlzLmxlbmd0aDtnKyspbnVsbCE9dGhpcy5yb3V0ZURhdGFbZi5rZXlzW2ddLm5hbWVdJiYoZT1lLnJlcGxhY2UobmV3IFJlZ0V4cChcXFwiOlxcXCIrZi5rZXlzW2ddLm5hbWUsXFxcImdcXFwiKSx0aGlzLnJvdXRlRGF0YVtmLmtleXNbZ10ubmFtZV0pKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7d2luZG93LmxvY2F0aW9uLmhhc2g9ZX0sMSl9dGhpcy50cmlnZ2VyKCQuZXh0ZW5kKGQse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSksdGhpcy5yZWZyZXNoKGEpfX0sYW5pbWF0ZUNsb3NlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXQoYSk7aWYobnVsbD09PWN8fGMuZGlzYWJsZWQpcmV0dXJuITE7dmFyIGQ9dGhpcy50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJjbG9zZVxcXCIsdGFyZ2V0OmEsb2JqZWN0OnRoaXMuZ2V0KGEpLG9yaWdpbmFsRXZlbnQ6Yn0pO2lmKGQuaXNDYW5jZWxsZWQhPT0hMCl7dmFyIGU9dGhpczskKHRoaXMuYm94KS5maW5kKFxcXCIjdGFic19cXFwiK3RoaXMubmFtZStcXFwiX3RhYl9cXFwiK3cydXRpbHMuZXNjYXBlSWQoYy5pZCkpLmNzcyh7XFxcIi13ZWJraXQtdHJhbnNpdGlvblxcXCI6XFxcIi4yc1xcXCIsXFxcIi1tb3otdHJhbnNpdGlvblxcXCI6XFxcIjJzXFxcIixcXFwiLW1zLXRyYW5zaXRpb25cXFwiOlxcXCIuMnNcXFwiLFxcXCItby10cmFuc2l0aW9uXFxcIjpcXFwiLjJzXFxcIixvcGFjaXR5OlxcXCIwXFxcIn0pLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYT0kKGUuYm94KS5maW5kKFxcXCIjdGFic19cXFwiK2UubmFtZStcXFwiX3RhYl9cXFwiK3cydXRpbHMuZXNjYXBlSWQoYy5pZCkpLndpZHRoKCk7JChlLmJveCkuZmluZChcXFwiI3RhYnNfXFxcIitlLm5hbWUrXFxcIl90YWJfXFxcIit3MnV0aWxzLmVzY2FwZUlkKGMuaWQpKS5odG1sKCc8ZGl2IHN0eWxlPVxcXCJ3aWR0aDogJythKydweDsgLXdlYmtpdC10cmFuc2l0aW9uOiAuMnM7IC1tb3otdHJhbnNpdGlvbjogLjJzOyAtbXMtdHJhbnNpdGlvbjogLjJzOyAtby10cmFuc2l0aW9uOiAuMnNcXFwiPjwvZGl2PicpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXskKGUuYm94KS5maW5kKFxcXCIjdGFic19cXFwiK2UubmFtZStcXFwiX3RhYl9cXFwiK3cydXRpbHMuZXNjYXBlSWQoYy5pZCkpLmZpbmQoXFxcIjpmaXJzdC1jaGlsZFxcXCIpLmNzcyh7d2lkdGg6XFxcIjBweFxcXCJ9KX0sNTApfSwyMDApLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLnJlbW92ZShhKX0sNDUwKSx0aGlzLnRyaWdnZXIoJC5leHRlbmQoZCx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKSx0aGlzLnJlZnJlc2goKX19LGFuaW1hdGVJbnNlcnQ6ZnVuY3Rpb24oYSxiKXtpZihudWxsIT09dGhpcy5nZXQoYSkmJiQuaXNQbGFpbk9iamVjdChiKSYmdzJ1dGlscy5jaGVja1VuaXF1ZUlkKGIuaWQsdGhpcy50YWJzLFxcXCJ0YWJzXFxcIix0aGlzLm5hbWUpKXt2YXIgYz0kKHRoaXMuYm94KS5maW5kKFxcXCIjdGFic19cXFwiK3RoaXMubmFtZStcXFwiX3RhYl9cXFwiK3cydXRpbHMuZXNjYXBlSWQoYi5pZCkpO2lmKDA9PT1jLmxlbmd0aCl7XFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBiLmNhcHRpb24mJihiLnRleHQ9Yi5jYXB0aW9uKTt2YXIgZD0nPGRpdiBpZD1cXFwiX3RtcF90YWJzXFxcIiBjbGFzcz1cXFwidzJ1aS1yZXNldCB3MnVpLXRhYnNcXFwiIHN0eWxlPVxcXCJwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogLTEwMDBweDtcXFwiPjx0YWJsZSBjZWxsc3BhY2luZz1cXFwiMFxcXCIgY2VsbHBhZGRpbmc9XFxcIjFcXFwiIHdpZHRoPVxcXCIxMDAlXFxcIj48dHI+PHRkIGlkPVxcXCJfdG1wX3NpbXBsZV90YWJcXFwiIHN0eWxlPVxcXCJcXFwiIHZhbGlnbj1cXFwibWlkZGxlXFxcIj4nKyhiLmNsb3NhYmxlPyc8ZGl2IGNsYXNzPVxcXCJ3MnVpLXRhYi1jbG9zZVxcXCI+PC9kaXY+JzpcXFwiXFxcIikrJyAgICA8ZGl2IGNsYXNzPVxcXCJ3MnVpLXRhYiAnKyh0aGlzLmFjdGl2ZT09PWIuaWQ/XFxcImFjdGl2ZVxcXCI6XFxcIlxcXCIpKydcXFwiPicrYi50ZXh0K1xcXCI8L2Rpdj48L3RkPjwvdHI+PC90YWJsZT48L2Rpdj5cXFwiOyQoXFxcImJvZHlcXFwiKS5hcHBlbmQoZCk7dmFyIGU9JzxkaXYgc3R5bGU9XFxcIndpZHRoOiAxcHg7IC13ZWJraXQtdHJhbnNpdGlvbjogMC4yczsgLW1vei10cmFuc2l0aW9uOiAwLjJzOyAtbXMtdHJhbnNpdGlvbjogMC4yczsgLW8tdHJhbnNpdGlvbjogMC4ycztcXFwiPiZuYnNwOzwvZGl2PicsZj1cXFwiXFxcIjtiLmhpZGRlbiYmKGYrPVxcXCJkaXNwbGF5OiBub25lO1xcXCIpLGIuZGlzYWJsZWQmJihmKz1cXFwib3BhY2l0eTogMC4yOyAtbW96LW9wYWNpdHk6IDAuMjsgLXdlYmtpdC1vcGFjaXR5OiAwLjI7IC1vLW9wYWNpdHk6IDAuMjsgZmlsdGVyOmFscGhhKG9wYWNpdHk9MjApO1xcXCIpO3ZhciBnPSc8dGQgaWQ9XFxcInRhYnNfJyt0aGlzLm5hbWUrXFxcIl90YWJfXFxcIitiLmlkKydcXFwiIHN0eWxlPVxcXCInK2YrJ1xcXCIgdmFsaWduPVxcXCJtaWRkbGVcXFwiPicrZStcXFwiPC90ZD5cXFwiO3RoaXMuZ2V0KGEsITApIT09dGhpcy50YWJzLmxlbmd0aCYmJCh0aGlzLmJveCkuZmluZChcXFwiI3RhYnNfXFxcIit0aGlzLm5hbWUrXFxcIl90YWJfXFxcIit3MnV0aWxzLmVzY2FwZUlkKHRoaXMudGFic1twYXJzZUludCh0aGlzLmdldChhLCEwKSldLmlkKSkubGVuZ3RoPjA/JCh0aGlzLmJveCkuZmluZChcXFwiI3RhYnNfXFxcIit0aGlzLm5hbWUrXFxcIl90YWJfXFxcIit3MnV0aWxzLmVzY2FwZUlkKHRoaXMudGFic1twYXJzZUludCh0aGlzLmdldChhLCEwKSldLmlkKSkuYmVmb3JlKGcpOiQodGhpcy5ib3gpLmZpbmQoXFxcIiN0YWJzX1xcXCIrdGhpcy5uYW1lK1xcXCJfcmlnaHRcXFwiKS5iZWZvcmUoZyk7dmFyIGg9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGE9JChcXFwiI190bXBfc2ltcGxlX3RhYlxcXCIpLndpZHRoKCk7JChcXFwiI190bXBfdGFic1xcXCIpLnJlbW92ZSgpLCQoXFxcIiN0YWJzX1xcXCIraC5uYW1lK1xcXCJfdGFiX1xcXCIrdzJ1dGlscy5lc2NhcGVJZChiLmlkKStcXFwiID4gZGl2XFxcIikuY3NzKFxcXCJ3aWR0aFxcXCIsYStcXFwicHhcXFwiKX0sMSksc2V0VGltZW91dChmdW5jdGlvbigpe2guaW5zZXJ0KGEsYil9LDIwMCl9fX19LCQuZXh0ZW5kKGEucHJvdG90eXBlLHcydXRpbHMuZXZlbnQpLHcyb2JqLnRhYnM9YX0oKSxmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEpe3RoaXMuYm94PW51bGwsdGhpcy5uYW1lPW51bGwsdGhpcy5yb3V0ZURhdGE9e30sdGhpcy5pdGVtcz1bXSx0aGlzLnJpZ2h0PVxcXCJcXFwiLHRoaXMub25DbGljaz1udWxsLHRoaXMub25SZW5kZXI9bnVsbCx0aGlzLm9uUmVmcmVzaD1udWxsLHRoaXMub25SZXNpemU9bnVsbCx0aGlzLm9uRGVzdHJveT1udWxsLCQuZXh0ZW5kKCEwLHRoaXMsdzJvYmoudG9vbGJhcixhKX07JC5mbi53MnRvb2xiYXI9ZnVuY3Rpb24oYil7aWYoXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBifHwhYil7aWYoIXcydXRpbHMuY2hlY2tOYW1lKGIsXFxcIncydG9vbGJhclxcXCIpKXJldHVybjt2YXIgYz1iLml0ZW1zfHxbXSxkPW5ldyBhKGIpOyQuZXh0ZW5kKGQse2l0ZW1zOltdLGhhbmRsZXJzOltdfSk7Zm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspZC5pdGVtc1tlXT0kLmV4dGVuZCh7fSxhLnByb3RvdHlwZS5pdGVtLGNbZV0pO3JldHVybiAwIT09JCh0aGlzKS5sZW5ndGgmJmQucmVuZGVyKCQodGhpcylbMF0pLHcydWlbZC5uYW1lXT1kLGR9aWYodzJ1aVskKHRoaXMpLmF0dHIoXFxcIm5hbWVcXFwiKV0pe3ZhciBmPXcydWlbJCh0aGlzKS5hdHRyKFxcXCJuYW1lXFxcIildO3JldHVybiBmW2JdLmFwcGx5KGYsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKSx0aGlzfWNvbnNvbGUubG9nKFxcXCJFUlJPUjogTWV0aG9kIFxcXCIrYitcXFwiIGRvZXMgbm90IGV4aXN0IG9uIGpRdWVyeS53MnRvb2xiYXJcXFwiKX0sYS5wcm90b3R5cGU9e2l0ZW06e2lkOm51bGwsdHlwZTpcXFwiYnV0dG9uXFxcIix0ZXh0OlxcXCJcXFwiLHJvdXRlOm51bGwsaHRtbDpcXFwiXFxcIixpbWc6bnVsbCxpY29uOm51bGwsY291bnQ6bnVsbCxoaWRkZW46ITEsZGlzYWJsZWQ6ITEsY2hlY2tlZDohMSxhcnJvdzohMCxoaW50OlxcXCJcXFwiLGdyb3VwOm51bGwsaXRlbXM6bnVsbCxvdmVybGF5Ont9LG9uQ2xpY2s6bnVsbH0sYWRkOmZ1bmN0aW9uKGEpe3RoaXMuaW5zZXJ0KG51bGwsYSl9LGluc2VydDpmdW5jdGlvbihiLGMpeyQuaXNBcnJheShjKXx8KGM9W2NdKTtmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyl7aWYoXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBjW2RdLnR5cGUpcmV0dXJuIHZvaWQgY29uc29sZS5sb2coJ0VSUk9SOiBUaGUgcGFyYW1ldGVyIFxcXCJ0eXBlXFxcIiBpcyByZXF1aXJlZCBidXQgbm90IHN1cHBsaWVkIGluIHcydG9vbGJhci5hZGQoKSBtZXRob2QuJyk7aWYoLTE9PT0kLmluQXJyYXkoU3RyaW5nKGNbZF0udHlwZSksW1xcXCJidXR0b25cXFwiLFxcXCJjaGVja1xcXCIsXFxcInJhZGlvXFxcIixcXFwiZHJvcFxcXCIsXFxcIm1lbnVcXFwiLFxcXCJicmVha1xcXCIsXFxcImh0bWxcXFwiLFxcXCJzcGFjZXJcXFwiXSkpcmV0dXJuIHZvaWQgY29uc29sZS5sb2coJ0VSUk9SOiBUaGUgcGFyYW1ldGVyIFxcXCJ0eXBlXFxcIiBzaG91bGQgYmUgb25lIG9mIHRoZSBmb2xsb3dpbmcgW2J1dHRvbiwgY2hlY2ssIHJhZGlvLCBkcm9wLCBtZW51LCBicmVhaywgaHRtbCwgc3BhY2VyXSBpbiB3MnRvb2xiYXIuYWRkKCkgbWV0aG9kLicpO2lmKFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgY1tkXS5pZClyZXR1cm4gdm9pZCBjb25zb2xlLmxvZygnRVJST1I6IFRoZSBwYXJhbWV0ZXIgXFxcImlkXFxcIiBpcyByZXF1aXJlZCBidXQgbm90IHN1cHBsaWVkIGluIHcydG9vbGJhci5hZGQoKSBtZXRob2QuJyk7aWYoIXcydXRpbHMuY2hlY2tVbmlxdWVJZChjW2RdLmlkLHRoaXMuaXRlbXMsXFxcInRvb2xiYXIgaXRlbXNcXFwiLHRoaXMubmFtZSkpcmV0dXJuO3ZhciBlPSQuZXh0ZW5kKHt9LGEucHJvdG90eXBlLml0ZW0sY1tkXSk7aWYobnVsbD09Yil0aGlzLml0ZW1zLnB1c2goZSk7ZWxzZXt2YXIgZj10aGlzLmdldChiLCEwKTt0aGlzLml0ZW1zPXRoaXMuaXRlbXMuc2xpY2UoMCxmKS5jb25jYXQoW2VdLHRoaXMuaXRlbXMuc2xpY2UoZikpfXRoaXMucmVmcmVzaChlLmlkKX19LHJlbW92ZTpmdW5jdGlvbigpe2Zvcih2YXIgYT0wLGI9MDtiPGFyZ3VtZW50cy5sZW5ndGg7YisrKXt2YXIgYz10aGlzLmdldChhcmd1bWVudHNbYl0pO2lmKGMpe2ErKywkKHRoaXMuYm94KS5maW5kKFxcXCIjdGJfXFxcIit0aGlzLm5hbWUrXFxcIl9pdGVtX1xcXCIrdzJ1dGlscy5lc2NhcGVJZChjLmlkKSkucmVtb3ZlKCk7dmFyIGQ9dGhpcy5nZXQoYy5pZCwhMCk7ZCYmdGhpcy5pdGVtcy5zcGxpY2UoZCwxKX19cmV0dXJuIGF9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0KGEsITApO3JldHVybiBudWxsPT09Yz8hMTooJC5leHRlbmQodGhpcy5pdGVtc1tjXSxiKSx0aGlzLnJlZnJlc2goYSksITApfSxnZXQ6ZnVuY3Rpb24oYSxiKXtpZigwPT09YXJndW1lbnRzLmxlbmd0aCl7Zm9yKHZhciBjPVtdLGQ9MDtkPHRoaXMuaXRlbXMubGVuZ3RoO2QrKyludWxsIT09dGhpcy5pdGVtc1tkXS5pZCYmYy5wdXNoKHRoaXMuaXRlbXNbZF0uaWQpO3JldHVybiBjfWZvcih2YXIgZT0wO2U8dGhpcy5pdGVtcy5sZW5ndGg7ZSsrKWlmKHRoaXMuaXRlbXNbZV0uaWQ9PT1hKXJldHVybiBiPT09ITA/ZTp0aGlzLml0ZW1zW2VdO3JldHVybiBudWxsfSxzaG93OmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMsYj0wLGM9W10sZD0wO2Q8YXJndW1lbnRzLmxlbmd0aDtkKyspe3ZhciBlPXRoaXMuZ2V0KGFyZ3VtZW50c1tkXSk7ZSYmKGIrKyxlLmhpZGRlbj0hMSxjLnB1c2goZS5pZCkpfXJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zm9yKHZhciBiIGluIGMpYS5yZWZyZXNoKGNbYl0pfSwxNSksYn0saGlkZTpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLGI9MCxjPVtdLGQ9MDtkPGFyZ3VtZW50cy5sZW5ndGg7ZCsrKXt2YXIgZT10aGlzLmdldChhcmd1bWVudHNbZF0pO2UmJihiKyssZS5oaWRkZW49ITAsYy5wdXNoKGUuaWQpKX1yZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe2Zvcih2YXIgYiBpbiBjKWEucmVmcmVzaChjW2JdKX0sMTUpLGJ9LGVuYWJsZTpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLGI9MCxjPVtdLGQ9MDtkPGFyZ3VtZW50cy5sZW5ndGg7ZCsrKXt2YXIgZT10aGlzLmdldChhcmd1bWVudHNbZF0pO2UmJihiKyssZS5kaXNhYmxlZD0hMSxjLnB1c2goZS5pZCkpfXJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zm9yKHZhciBiIGluIGMpYS5yZWZyZXNoKGNbYl0pfSwxNSksYn0sZGlzYWJsZTpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLGI9MCxjPVtdLGQ9MDtkPGFyZ3VtZW50cy5sZW5ndGg7ZCsrKXt2YXIgZT10aGlzLmdldChhcmd1bWVudHNbZF0pO2UmJihiKyssZS5kaXNhYmxlZD0hMCxjLnB1c2goZS5pZCkpfXJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zm9yKHZhciBiIGluIGMpYS5yZWZyZXNoKGNbYl0pfSwxNSksYn0sY2hlY2s6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcyxiPTAsYz1bXSxkPTA7ZDxhcmd1bWVudHMubGVuZ3RoO2QrKyl7dmFyIGU9dGhpcy5nZXQoYXJndW1lbnRzW2RdKTtlJiYoYisrLGUuY2hlY2tlZD0hMCxjLnB1c2goZS5pZCkpfXJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zm9yKHZhciBiIGluIGMpYS5yZWZyZXNoKGNbYl0pfSwxNSksYn0sdW5jaGVjazpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLGI9MCxjPVtdLGQ9MDtkPGFyZ3VtZW50cy5sZW5ndGg7ZCsrKXt2YXIgZT10aGlzLmdldChhcmd1bWVudHNbZF0pO2UmJihiKyssZS5jaGVja2VkPSExLGMucHVzaChlLmlkKSl9cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtmb3IodmFyIGIgaW4gYylhLnJlZnJlc2goY1tiXSl9LDE1KSxifSxyZW5kZXI6ZnVuY3Rpb24oYSl7dmFyIGI9KG5ldyBEYXRlKS5nZXRUaW1lKCksYz10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcInJlbmRlclxcXCIsdGFyZ2V0OnRoaXMubmFtZSxib3g6YX0pO2lmKGMuaXNDYW5jZWxsZWQhPT0hMCYmKG51bGwhPWEmJigkKHRoaXMuYm94KS5maW5kKFxcXCI+IHRhYmxlICN0Yl9cXFwiK3RoaXMubmFtZStcXFwiX3JpZ2h0XFxcIikubGVuZ3RoPjAmJiQodGhpcy5ib3gpLnJlbW92ZUF0dHIoXFxcIm5hbWVcXFwiKS5yZW1vdmVDbGFzcyhcXFwidzJ1aS1yZXNldCB3MnVpLXRvb2xiYXJcXFwiKS5odG1sKFxcXCJcXFwiKSx0aGlzLmJveD1hKSx0aGlzLmJveCkpe2Zvcih2YXIgZD0nPHRhYmxlIGNlbGxzcGFjaW5nPVxcXCIwXFxcIiBjZWxscGFkZGluZz1cXFwiMFxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiPjx0cj4nLGU9MDtlPHRoaXMuaXRlbXMubGVuZ3RoO2UrKyl7dmFyIGY9dGhpcy5pdGVtc1tlXTtudWxsPT1mLmlkJiYoZi5pZD1cXFwiaXRlbV9cXFwiK2UpLG51bGwhPT1mJiYoZCs9XFxcInNwYWNlclxcXCI9PT1mLnR5cGU/Jzx0ZCB3aWR0aD1cXFwiMTAwJVxcXCIgaWQ9XFxcInRiXycrdGhpcy5uYW1lK1xcXCJfaXRlbV9cXFwiK2YuaWQrJ1xcXCIgYWxpZ249XFxcInJpZ2h0XFxcIj48L3RkPic6Jzx0ZCBpZD1cXFwidGJfJyt0aGlzLm5hbWUrXFxcIl9pdGVtX1xcXCIrZi5pZCsnXFxcIiBzdHlsZT1cXFwiJysoZi5oaWRkZW4/XFxcImRpc3BsYXk6IG5vbmVcXFwiOlxcXCJcXFwiKSsnXFxcIiAgICAgY2xhc3M9XFxcIicrKGYuZGlzYWJsZWQ/XFxcImRpc2FibGVkXFxcIjpcXFwiXFxcIikrJ1xcXCIgdmFsaWduPVxcXCJtaWRkbGVcXFwiPicrdGhpcy5nZXRJdGVtSFRNTChmKStcXFwiPC90ZD5cXFwiKX1yZXR1cm4gZCs9Jzx0ZCB3aWR0aD1cXFwiMTAwJVxcXCIgaWQ9XFxcInRiXycrdGhpcy5uYW1lKydfcmlnaHRcXFwiIGFsaWduPVxcXCJyaWdodFxcXCI+Jyt0aGlzLnJpZ2h0K1xcXCI8L3RkPlxcXCIsZCs9XFxcIjwvdHI+PC90YWJsZT5cXFwiLCQodGhpcy5ib3gpLmF0dHIoXFxcIm5hbWVcXFwiLHRoaXMubmFtZSkuYWRkQ2xhc3MoXFxcIncydWktcmVzZXQgdzJ1aS10b29sYmFyXFxcIikuaHRtbChkKSwkKHRoaXMuYm94KS5sZW5ndGg+MCYmKCQodGhpcy5ib3gpWzBdLnN0eWxlLmNzc1RleHQrPXRoaXMuc3R5bGUpLHRoaXMudHJpZ2dlcigkLmV4dGVuZChjLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpLChuZXcgRGF0ZSkuZ2V0VGltZSgpLWJ9fSxyZWZyZXNoOmZ1bmN0aW9uKGEpe3ZhciBiPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGM9dGhpcy50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJyZWZyZXNoXFxcIix0YXJnZXQ6XFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBhP2E6dGhpcy5uYW1lLGl0ZW06dGhpcy5nZXQoYSl9KTtpZihjLmlzQ2FuY2VsbGVkIT09ITApe2lmKG51bGw9PWEpZm9yKHZhciBkPTA7ZDx0aGlzLml0ZW1zLmxlbmd0aDtkKyspe3ZhciBlPXRoaXMuaXRlbXNbZF07bnVsbD09ZS5pZCYmKGUuaWQ9XFxcIml0ZW1fXFxcIitkKSx0aGlzLnJlZnJlc2goZS5pZCl9dmFyIGY9dGhpcy5nZXQoYSk7aWYobnVsbD09PWYpcmV0dXJuITE7dmFyIGc9JCh0aGlzLmJveCkuZmluZChcXFwiI3RiX1xcXCIrdGhpcy5uYW1lK1xcXCJfaXRlbV9cXFwiK3cydXRpbHMuZXNjYXBlSWQoZi5pZCkpLGg9dGhpcy5nZXRJdGVtSFRNTChmKTtyZXR1cm4gMD09PWcubGVuZ3RoPyhoPVxcXCJzcGFjZXJcXFwiPT09Zi50eXBlPyc8dGQgd2lkdGg9XFxcIjEwMCVcXFwiIGlkPVxcXCJ0Yl8nK3RoaXMubmFtZStcXFwiX2l0ZW1fXFxcIitmLmlkKydcXFwiIGFsaWduPVxcXCJyaWdodFxcXCI+PC90ZD4nOic8dGQgaWQ9XFxcInRiXycrdGhpcy5uYW1lK1xcXCJfaXRlbV9cXFwiK2YuaWQrJ1xcXCIgc3R5bGU9XFxcIicrKGYuaGlkZGVuP1xcXCJkaXNwbGF5OiBub25lXFxcIjpcXFwiXFxcIikrJ1xcXCIgICAgIGNsYXNzPVxcXCInKyhmLmRpc2FibGVkP1xcXCJkaXNhYmxlZFxcXCI6XFxcIlxcXCIpKydcXFwiIHZhbGlnbj1cXFwibWlkZGxlXFxcIj4nK2grXFxcIjwvdGQ+XFxcIix0aGlzLmdldChhLCEwKT09PXRoaXMuaXRlbXMubGVuZ3RoLTE/JCh0aGlzLmJveCkuZmluZChcXFwiI3RiX1xcXCIrdGhpcy5uYW1lK1xcXCJfcmlnaHRcXFwiKS5iZWZvcmUoaCk6JCh0aGlzLmJveCkuZmluZChcXFwiI3RiX1xcXCIrdGhpcy5uYW1lK1xcXCJfaXRlbV9cXFwiK3cydXRpbHMuZXNjYXBlSWQodGhpcy5pdGVtc1twYXJzZUludCh0aGlzLmdldChhLCEwKSkrMV0uaWQpKS5iZWZvcmUoaCkpOihnLmh0bWwoaCksZi5oaWRkZW4/Zy5jc3MoXFxcImRpc3BsYXlcXFwiLFxcXCJub25lXFxcIik6Zy5jc3MoXFxcImRpc3BsYXlcXFwiLFxcXCJcXFwiKSxmLmRpc2FibGVkP2cuYWRkQ2xhc3MoXFxcImRpc2FibGVkXFxcIik6Zy5yZW1vdmVDbGFzcyhcXFwiZGlzYWJsZWRcXFwiKSksdGhpcy50cmlnZ2VyKCQuZXh0ZW5kKGMse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSksKG5ldyBEYXRlKS5nZXRUaW1lKCktYn19LHJlc2l6ZTpmdW5jdGlvbigpe3ZhciBhPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGI9dGhpcy50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJyZXNpemVcXFwiLHRhcmdldDp0aGlzLm5hbWV9KTtyZXR1cm4gYi5pc0NhbmNlbGxlZCE9PSEwPyh0aGlzLnRyaWdnZXIoJC5leHRlbmQoYix7cGhhc2U6XFxcImFmdGVyXFxcIn0pKSwobmV3IERhdGUpLmdldFRpbWUoKS1hKTp2b2lkIDB9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcImRlc3Ryb3lcXFwiLHRhcmdldDp0aGlzLm5hbWV9KTthLmlzQ2FuY2VsbGVkIT09ITAmJigkKHRoaXMuYm94KS5maW5kKFxcXCI+IHRhYmxlICN0Yl9cXFwiK3RoaXMubmFtZStcXFwiX3JpZ2h0XFxcIikubGVuZ3RoPjAmJiQodGhpcy5ib3gpLnJlbW92ZUF0dHIoXFxcIm5hbWVcXFwiKS5yZW1vdmVDbGFzcyhcXFwidzJ1aS1yZXNldCB3MnVpLXRvb2xiYXJcXFwiKS5odG1sKFxcXCJcXFwiKSwkKHRoaXMuYm94KS5odG1sKFxcXCJcXFwiKSxkZWxldGUgdzJ1aVt0aGlzLm5hbWVdLHRoaXMudHJpZ2dlcigkLmV4dGVuZChhLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpKX0sZ2V0SXRlbUhUTUw6ZnVuY3Rpb24oYSl7dmFyIGI9XFxcIlxcXCI7c3dpdGNoKFxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgYS5jYXB0aW9uJiYoYS50ZXh0PWEuY2FwdGlvbiksXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBhLmhpbnQmJihhLmhpbnQ9XFxcIlxcXCIpLFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgYS50ZXh0JiYoYS50ZXh0PVxcXCJcXFwiKSxhLnR5cGUpe2Nhc2VcXFwibWVudVxcXCI6Y2FzZVxcXCJidXR0b25cXFwiOmNhc2VcXFwiY2hlY2tcXFwiOmNhc2VcXFwicmFkaW9cXFwiOmNhc2VcXFwiZHJvcFxcXCI6dmFyIGM9XFxcIjx0ZD4mbmJzcDs8L3RkPlxcXCI7YS5pbWcmJihjPSc8dGQ+PGRpdiBjbGFzcz1cXFwidzJ1aS10Yi1pbWFnZSB3MnVpLWljb24gJythLmltZysnXFxcIj48L2Rpdj48L3RkPicpLGEuaWNvbiYmKGM9Jzx0ZD48ZGl2IGNsYXNzPVxcXCJ3MnVpLXRiLWltYWdlXFxcIj48c3BhbiBjbGFzcz1cXFwiJythLmljb24rJ1xcXCI+PC9zcGFuPjwvZGl2PjwvdGQ+JyksYis9Jzx0YWJsZSBjZWxscGFkZGluZz1cXFwiMFxcXCIgY2VsbHNwYWNpbmc9XFxcIjBcXFwiIHRpdGxlPVxcXCInK2EuaGludCsnXFxcIiBjbGFzcz1cXFwidzJ1aS1idXR0b24gJysoYS5jaGVja2VkP1xcXCJjaGVja2VkXFxcIjpcXFwiXFxcIikrJ1xcXCIgICAgICAgIG9uY2xpY2sgICAgID0gXFxcInZhciBlbD13MnVpW1xcXFwnJyt0aGlzLm5hbWUrXFxcIiddOyBpZiAoZWwpIGVsLmNsaWNrKCdcXFwiK2EuaWQrJ1xcXFwnLCBldmVudCk7XFxcIiAgICAgICAgb25tb3VzZW92ZXIgPSBcXFwiJysoYS5kaXNhYmxlZD9cXFwiXFxcIjpcXFwiJCh0aGlzKS5hZGRDbGFzcygnb3ZlcicpO1xcXCIpKydcXFwiICAgICAgIG9ubW91c2VvdXQgID0gXFxcIicrKGEuZGlzYWJsZWQ/XFxcIlxcXCI6XFxcIiQodGhpcykucmVtb3ZlQ2xhc3MoJ292ZXInKS5yZW1vdmVDbGFzcygnZG93bicpO1xcXCIpKydcXFwiICAgICAgIG9ubW91c2Vkb3duID0gXFxcIicrKGEuZGlzYWJsZWQ/XFxcIlxcXCI6XFxcIiQodGhpcykuYWRkQ2xhc3MoJ2Rvd24nKTtcXFwiKSsnXFxcIiAgICAgICBvbm1vdXNldXAgICA9IFxcXCInKyhhLmRpc2FibGVkP1xcXCJcXFwiOlxcXCIkKHRoaXMpLnJlbW92ZUNsYXNzKCdkb3duJyk7XFxcIikrJ1xcXCI+PHRyPjx0ZD4gIDx0YWJsZSBjZWxscGFkZGluZz1cXFwiMVxcXCIgY2VsbHNwYWNpbmc9XFxcIjBcXFwiPiAgPHRyPicrYysoXFxcIlxcXCIhPT1hLnRleHQ/Jzx0ZCBjbGFzcz1cXFwidzJ1aS10Yi1jYXB0aW9uXFxcIiBub3dyYXA+JythLnRleHQrXFxcIjwvdGQ+XFxcIjpcXFwiXFxcIikrKG51bGwhPWEuY291bnQ/Jzx0ZCBjbGFzcz1cXFwidzJ1aS10Yi1jb3VudFxcXCIgbm93cmFwPjxzcGFuPicrYS5jb3VudCtcXFwiPC9zcGFuPjwvdGQ+XFxcIjpcXFwiXFxcIikrKFxcXCJkcm9wXFxcIiE9PWEudHlwZSYmXFxcIm1lbnVcXFwiIT09YS50eXBlfHxhLmFycm93PT09ITE/XFxcIlxcXCI6Jzx0ZCBjbGFzcz1cXFwidzJ1aS10Yi1kb3duXFxcIiBub3dyYXA+PGRpdj48L2Rpdj48L3RkPicpK1xcXCIgIDwvdHI+PC90YWJsZT48L3RkPjwvdHI+PC90YWJsZT5cXFwiO2JyZWFrO2Nhc2VcXFwiYnJlYWtcXFwiOmIrPSc8dGFibGUgY2VsbHBhZGRpbmc9XFxcIjBcXFwiIGNlbGxzcGFjaW5nPVxcXCIwXFxcIj48dHI+ICAgIDx0ZD48ZGl2IGNsYXNzPVxcXCJ3MnVpLWJyZWFrXFxcIj4mbmJzcDs8L2Rpdj48L3RkPjwvdHI+PC90YWJsZT4nO2JyZWFrO2Nhc2VcXFwiaHRtbFxcXCI6Yis9Jzx0YWJsZSBjZWxscGFkZGluZz1cXFwiMFxcXCIgY2VsbHNwYWNpbmc9XFxcIjBcXFwiPjx0cj4gICAgPHRkIG5vd3JhcD4nK2EuaHRtbCtcXFwiPC90ZD48L3RyPjwvdGFibGU+XFxcIn12YXIgZD1cXFwiXFxcIjtyZXR1cm5cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgYS5vblJlbmRlciYmKGQ9YS5vblJlbmRlci5jYWxsKHRoaXMsYS5pZCxiKSksXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIHRoaXMub25SZW5kZXImJihkPXRoaXMub25SZW5kZXIoYS5pZCxiKSksXFxcIlxcXCIhPT1kJiZudWxsIT1kJiYoYj1kKSxifSxtZW51Q2xpY2s6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztpZihhLml0ZW0mJiFhLml0ZW0uZGlzYWJsZWQpe3ZhciBjPXRoaXMudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwiY2xpY2tcXFwiLHRhcmdldDphLml0ZW0uaWQrXFxcIjpcXFwiK2Euc3ViSXRlbS5pZCxpdGVtOmEuaXRlbSxzdWJJdGVtOmEuc3ViSXRlbSxvcmlnaW5hbEV2ZW50OmEub3JpZ2luYWxFdmVudH0pO2lmKGMuaXNDYW5jZWxsZWQ9PT0hMClyZXR1cm47dmFyIGQ9YS5zdWJJdGVtO2lmKGQucm91dGUpe3ZhciBlPVN0cmluZyhcXFwiL1xcXCIrZC5yb3V0ZSkucmVwbGFjZSgvXFxcXC97Mix9L2csXFxcIi9cXFwiKSxmPXcydXRpbHMucGFyc2VSb3V0ZShlKTtpZihmLmtleXMubGVuZ3RoPjApZm9yKHZhciBnPTA7ZzxmLmtleXMubGVuZ3RoO2crKyludWxsIT1iLnJvdXRlRGF0YVtmLmtleXNbZ10ubmFtZV0mJihlPWUucmVwbGFjZShuZXcgUmVnRXhwKFxcXCI6XFxcIitmLmtleXNbZ10ubmFtZSxcXFwiZ1xcXCIpLHRoaXMucm91dGVEYXRhW2Yua2V5c1tnXS5uYW1lXSkpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt3aW5kb3cubG9jYXRpb24uaGFzaD1lfSwxKX10aGlzLnRyaWdnZXIoJC5leHRlbmQoYyx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX19LGNsaWNrOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPXRoaXMuZ2V0KGEpO2lmKGQmJiFkLmRpc2FibGVkKXt2YXIgZT10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcImNsaWNrXFxcIix0YXJnZXQ6XFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBhP2E6dGhpcy5uYW1lLGl0ZW06ZCxvYmplY3Q6ZCxvcmlnaW5hbEV2ZW50OmJ9KTtpZihlLmlzQ2FuY2VsbGVkPT09ITApcmV0dXJuO3ZhciBmPSQoXFxcIiN0Yl9cXFwiK3RoaXMubmFtZStcXFwiX2l0ZW1fXFxcIit3MnV0aWxzLmVzY2FwZUlkKGQuaWQpK1xcXCIgdGFibGUudzJ1aS1idXR0b25cXFwiKTtpZihmLnJlbW92ZUNsYXNzKFxcXCJkb3duXFxcIiksXFxcInJhZGlvXFxcIj09PWQudHlwZSl7Zm9yKHZhciBnPTA7Zzx0aGlzLml0ZW1zLmxlbmd0aDtnKyspe3ZhciBoPXRoaXMuaXRlbXNbZ107bnVsbCE9aCYmaC5pZCE9PWQuaWQmJlxcXCJyYWRpb1xcXCI9PT1oLnR5cGUmJmguZ3JvdXA9PT1kLmdyb3VwJiZoLmNoZWNrZWQmJihoLmNoZWNrZWQ9ITEsdGhpcy5yZWZyZXNoKGguaWQpKX1kLmNoZWNrZWQ9ITAsZi5hZGRDbGFzcyhcXFwiY2hlY2tlZFxcXCIpfWlmKChcXFwiZHJvcFxcXCI9PT1kLnR5cGV8fFxcXCJtZW51XFxcIj09PWQudHlwZSkmJihkLmNoZWNrZWQ/ZC5jaGVja2VkPSExOnNldFRpbWVvdXQoZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7JChkb2N1bWVudCkub2ZmKFxcXCJjbGlja1xcXCIsYSksZC5jaGVja2VkPSExLGYucmVtb3ZlQ2xhc3MoXFxcImNoZWNrZWRcXFwiKX12YXIgYj0kKFxcXCIjdGJfXFxcIitjLm5hbWUrXFxcIl9pdGVtX1xcXCIrdzJ1dGlscy5lc2NhcGVJZChkLmlkKSk7JC5pc1BsYWluT2JqZWN0KGQub3ZlcmxheSl8fChkLm92ZXJsYXk9e30pO3ZhciBlPShiLndpZHRoKCktNTApLzI7ZT4xOSYmKGU9MTkpLFxcXCJkcm9wXFxcIj09PWQudHlwZSYmYi53Mm92ZXJsYXkoZC5odG1sLCQuZXh0ZW5kKHtsZWZ0OmUsdG9wOjN9LGQub3ZlcmxheSkpLFxcXCJtZW51XFxcIj09PWQudHlwZSYmYi53Mm1lbnUoZC5pdGVtcywkLmV4dGVuZCh7bGVmdDplLHRvcDozfSxkLm92ZXJsYXkse3NlbGVjdDpmdW5jdGlvbihiKXtjLm1lbnVDbGljayh7aXRlbTpkLHN1Ykl0ZW06Yi5pdGVtLG9yaWdpbmFsRXZlbnQ6Yi5vcmlnaW5hbEV2ZW50fSksYSgpfX0pKSwkKGRvY3VtZW50KS5vbihcXFwiY2xpY2tcXFwiLGEpfSwxKSksKFxcXCJjaGVja1xcXCI9PT1kLnR5cGV8fFxcXCJkcm9wXFxcIj09PWQudHlwZXx8XFxcIm1lbnVcXFwiPT09ZC50eXBlKSYmKGQuY2hlY2tlZD0hZC5jaGVja2VkLGQuY2hlY2tlZD9mLmFkZENsYXNzKFxcXCJjaGVja2VkXFxcIik6Zi5yZW1vdmVDbGFzcyhcXFwiY2hlY2tlZFxcXCIpKSxkLnJvdXRlKXt2YXIgaT1TdHJpbmcoXFxcIi9cXFwiK2Qucm91dGUpLnJlcGxhY2UoL1xcXFwvezIsfS9nLFxcXCIvXFxcIiksaj13MnV0aWxzLnBhcnNlUm91dGUoaSk7aWYoai5rZXlzLmxlbmd0aD4wKWZvcih2YXIgaz0wO2s8ai5rZXlzLmxlbmd0aDtrKyspaT1pLnJlcGxhY2UobmV3IFJlZ0V4cChcXFwiOlxcXCIrai5rZXlzW2tdLm5hbWUsXFxcImdcXFwiKSx0aGlzLnJvdXRlRGF0YVtqLmtleXNba10ubmFtZV0pO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt3aW5kb3cubG9jYXRpb24uaGFzaD1pfSwxKX10aGlzLnRyaWdnZXIoJC5leHRlbmQoZSx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX19fSwkLmV4dGVuZChhLnByb3RvdHlwZSx3MnV0aWxzLmV2ZW50KSx3Mm9iai50b29sYmFyPWF9KCksZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhKXt0aGlzLm5hbWU9bnVsbCx0aGlzLmJveD1udWxsLHRoaXMuc2lkZWJhcj1udWxsLHRoaXMucGFyZW50PW51bGwsdGhpcy5ub2Rlcz1bXSx0aGlzLm1lbnU9W10sdGhpcy5yb3V0ZURhdGE9e30sdGhpcy5zZWxlY3RlZD1udWxsLHRoaXMuaW1nPW51bGwsdGhpcy5pY29uPW51bGwsdGhpcy5zdHlsZT1cXFwiXFxcIix0aGlzLnRvcEhUTUw9XFxcIlxcXCIsdGhpcy5ib3R0b21IVE1MPVxcXCJcXFwiLHRoaXMua2V5Ym9hcmQ9ITAsdGhpcy5vbkNsaWNrPW51bGwsdGhpcy5vbkRibENsaWNrPW51bGwsdGhpcy5vbkNvbnRleHRNZW51PW51bGwsdGhpcy5vbk1lbnVDbGljaz1udWxsLHRoaXMub25FeHBhbmQ9bnVsbCx0aGlzLm9uQ29sbGFwc2U9bnVsbCx0aGlzLm9uS2V5ZG93bj1udWxsLHRoaXMub25SZW5kZXI9bnVsbCx0aGlzLm9uUmVmcmVzaD1udWxsLHRoaXMub25SZXNpemU9bnVsbCx0aGlzLm9uRGVzdHJveT1udWxsLCQuZXh0ZW5kKCEwLHRoaXMsdzJvYmouc2lkZWJhcixhKX07JC5mbi53MnNpZGViYXI9ZnVuY3Rpb24oYil7aWYoXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBifHwhYil7aWYoIXcydXRpbHMuY2hlY2tOYW1lKGIsXFxcIncyc2lkZWJhclxcXCIpKXJldHVybjt2YXIgYz1iLm5vZGVzLGQ9bmV3IGEoYik7cmV0dXJuICQuZXh0ZW5kKGQse2hhbmRsZXJzOltdLG5vZGVzOltdfSksXFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBjJiZkLmFkZChkLGMpLDAhPT0kKHRoaXMpLmxlbmd0aCYmZC5yZW5kZXIoJCh0aGlzKVswXSksZC5zaWRlYmFyPWQsdzJ1aVtkLm5hbWVdPWQsZH1pZih3MnVpWyQodGhpcykuYXR0cihcXFwibmFtZVxcXCIpXSl7dmFyIGU9dzJ1aVskKHRoaXMpLmF0dHIoXFxcIm5hbWVcXFwiKV07cmV0dXJuIGVbYl0uYXBwbHkoZSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpLHRoaXN9Y29uc29sZS5sb2coXFxcIkVSUk9SOiBNZXRob2QgXFxcIitiK1xcXCIgZG9lcyBub3QgZXhpc3Qgb24galF1ZXJ5Lncyc2lkZWJhclxcXCIpfSxhLnByb3RvdHlwZT17bm9kZTp7aWQ6bnVsbCx0ZXh0OlxcXCJcXFwiLGNvdW50Om51bGwsaW1nOm51bGwsaWNvbjpudWxsLG5vZGVzOltdLHN0eWxlOlxcXCJcXFwiLHJvdXRlOm51bGwsc2VsZWN0ZWQ6ITEsZXhwYW5kZWQ6ITEsaGlkZGVuOiExLGRpc2FibGVkOiExLGdyb3VwOiExLGdyb3VwU2hvd0hpZGU6ITAscGx1czohMSxvbkNsaWNrOm51bGwsb25EYmxDbGljazpudWxsLG9uQ29udGV4dE1lbnU6bnVsbCxvbkV4cGFuZDpudWxsLG9uQ29sbGFwc2U6bnVsbCxwYXJlbnQ6bnVsbCxzaWRlYmFyOm51bGx9LGFkZDpmdW5jdGlvbihhLGIpe3JldHVybiAxPT1hcmd1bWVudHMubGVuZ3RoJiYoYj1hcmd1bWVudHNbMF0sYT10aGlzKSxcXFwic3RyaW5nXFxcIj09dHlwZW9mIGEmJihhPXRoaXMuZ2V0KGEpKSx0aGlzLmluc2VydChhLG51bGwsYil9LGluc2VydDpmdW5jdGlvbihiLGMsZCl7dmFyIGUsZixnLGgsaTtpZigyPT1hcmd1bWVudHMubGVuZ3RoKXtpZihkPWFyZ3VtZW50c1sxXSxjPWFyZ3VtZW50c1swXSxmPXRoaXMuZ2V0KGMpLG51bGw9PT1mKXJldHVybiAkLmlzQXJyYXkoZCl8fChkPVtkXSksZT1udWxsIT1kWzBdLmNhcHRpb24/ZFswXS5jYXB0aW9uOmRbMF0udGV4dCxjb25zb2xlLmxvZygnRVJST1I6IENhbm5vdCBpbnNlcnQgbm9kZSBcXFwiJytlKydcXFwiIGJlY2F1c2UgY2Fubm90IGZpbmQgbm9kZSBcXFwiJytjKydcXFwiIHRvIGluc2VydCBiZWZvcmUuJyksbnVsbDtiPXRoaXMuZ2V0KGMpLnBhcmVudH1cXFwic3RyaW5nXFxcIj09dHlwZW9mIGImJihiPXRoaXMuZ2V0KGIpKSwkLmlzQXJyYXkoZCl8fChkPVtkXSk7Zm9yKHZhciBqIGluIGQpaWYoaD1kW2pdLG51bGwhPXR5cGVvZiBoLmlkKWlmKG51bGw9PT10aGlzLmdldCh0aGlzLGguaWQpKXtpZihnPSQuZXh0ZW5kKHt9LGEucHJvdG90eXBlLm5vZGUsaCksZy5zaWRlYmFyPXRoaXMsZy5wYXJlbnQ9YixpPWcubm9kZXN8fFtdLGcubm9kZXM9W10sbnVsbD09PWMpYi5ub2Rlcy5wdXNoKGcpO2Vsc2V7aWYoZj10aGlzLmdldChiLGMsITApLG51bGw9PT1mKXJldHVybiBlPW51bGwhPWguY2FwdGlvbj9oLmNhcHRpb246aC50ZXh0LGNvbnNvbGUubG9nKCdFUlJPUjogQ2Fubm90IGluc2VydCBub2RlIFxcXCInK2UrJ1xcXCIgYmVjYXVzZSBjYW5ub3QgZmluZCBub2RlIFxcXCInK2MrJ1xcXCIgdG8gaW5zZXJ0IGJlZm9yZS4nKSxudWxsO2Iubm9kZXMuc3BsaWNlKGYsMCxnKX1pLmxlbmd0aD4wJiZ0aGlzLmluc2VydChnLG51bGwsaSl9ZWxzZSBlPW51bGwhPWguY2FwdGlvbj9oLmNhcHRpb246aC50ZXh0LGNvbnNvbGUubG9nKFxcXCJFUlJPUjogQ2Fubm90IGluc2VydCBub2RlIHdpdGggaWQ9XFxcIitoLmlkK1xcXCIgKHRleHQ6IFxcXCIrZStcXFwiKSBiZWNhdXNlIGFub3RoZXIgbm9kZSB3aXRoIHRoZSBzYW1lIGlkIGFscmVhZHkgZXhpc3RzLlxcXCIpO2Vsc2UgZT1udWxsIT1oLmNhcHRpb24/aC5jYXB0aW9uOmgudGV4dCxjb25zb2xlLmxvZygnRVJST1I6IENhbm5vdCBpbnNlcnQgbm9kZSBcXFwiJytlKydcXFwiIGJlY2F1c2UgaXQgaGFzIG5vIGlkLicpO3JldHVybiB0aGlzLnJlZnJlc2goYi5pZCksZ30scmVtb3ZlOmZ1bmN0aW9uKCl7Zm9yKHZhciBhLGI9MCxjPTA7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKylpZihhPXRoaXMuZ2V0KGFyZ3VtZW50c1tjXSksbnVsbCE9PWEpe251bGwhPT10aGlzLnNlbGVjdGVkJiZ0aGlzLnNlbGVjdGVkPT09YS5pZCYmKHRoaXMuc2VsZWN0ZWQ9bnVsbCk7dmFyIGQ9dGhpcy5nZXQoYS5wYXJlbnQsYXJndW1lbnRzW2NdLCEwKTtudWxsIT09ZCYmKGEucGFyZW50Lm5vZGVzW2RdLnNlbGVjdGVkJiZhLnNpZGViYXIudW5zZWxlY3QoYS5pZCksYS5wYXJlbnQubm9kZXMuc3BsaWNlKGQsMSksYisrKX1yZXR1cm4gYj4wJiYxPT1hcmd1bWVudHMubGVuZ3RoP3RoaXMucmVmcmVzaChhLnBhcmVudC5pZCk6dGhpcy5yZWZyZXNoKCksYn0sc2V0OmZ1bmN0aW9uKGEsYixjKXtpZigyPT1hcmd1bWVudHMubGVuZ3RoJiYoYz1iLGI9YSxhPXRoaXMpLFxcXCJzdHJpbmdcXFwiPT10eXBlb2YgYSYmKGE9dGhpcy5nZXQoYSkpLG51bGw9PWEubm9kZXMpcmV0dXJuIG51bGw7Zm9yKHZhciBkPTA7ZDxhLm5vZGVzLmxlbmd0aDtkKyspe2lmKGEubm9kZXNbZF0uaWQ9PT1iKXt2YXIgZT1jLm5vZGVzO3JldHVybiAkLmV4dGVuZChhLm5vZGVzW2RdLGMse25vZGVzOltdfSksbnVsbCE9ZSYmdGhpcy5hZGQoYS5ub2Rlc1tkXSxlKSx0aGlzLnJlZnJlc2goYiksITB9dmFyIGY9dGhpcy5zZXQoYS5ub2Rlc1tkXSxiLGMpO2lmKGYpcmV0dXJuITB9cmV0dXJuITF9LGdldDpmdW5jdGlvbihhLGIsYyl7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe2Zvcih2YXIgZD1bXSxlPXRoaXMuZmluZCh7fSksZj0wO2Y8ZS5sZW5ndGg7ZisrKW51bGwhPWVbZl0uaWQmJmQucHVzaChlW2ZdLmlkKTtyZXR1cm4gZH1pZigoMT09YXJndW1lbnRzLmxlbmd0aHx8Mj09YXJndW1lbnRzLmxlbmd0aCYmYj09PSEwKSYmKGM9YixiPWEsYT10aGlzKSxcXFwic3RyaW5nXFxcIj09dHlwZW9mIGEmJihhPXRoaXMuZ2V0KGEpKSxudWxsPT1hLm5vZGVzKXJldHVybiBudWxsO2Zvcih2YXIgZz0wO2c8YS5ub2Rlcy5sZW5ndGg7ZysrKXtpZihhLm5vZGVzW2ddLmlkPT1iKXJldHVybiBjPT09ITA/ZzphLm5vZGVzW2ddO3ZhciBoPXRoaXMuZ2V0KGEubm9kZXNbZ10sYixjKTtpZihofHwwPT09aClyZXR1cm4gaH1yZXR1cm4gbnVsbH0sZmluZDpmdW5jdGlvbihhLGIsYyl7aWYoMT09YXJndW1lbnRzLmxlbmd0aCYmKGI9YSxhPXRoaXMpLGN8fChjPVtdKSxcXFwic3RyaW5nXFxcIj09dHlwZW9mIGEmJihhPXRoaXMuZ2V0KGEpKSxudWxsPT1hLm5vZGVzKXJldHVybiBjO2Zvcih2YXIgZD0wO2Q8YS5ub2Rlcy5sZW5ndGg7ZCsrKXt2YXIgZT0hMDtmb3IodmFyIGYgaW4gYilhLm5vZGVzW2RdW2ZdIT1iW2ZdJiYoZT0hMSk7ZSYmYy5wdXNoKGEubm9kZXNbZF0pLGEubm9kZXNbZF0ubm9kZXMubGVuZ3RoPjAmJihjPXRoaXMuZmluZChhLm5vZGVzW2RdLGIsYykpfXJldHVybiBjfSxoaWRlOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYj0wO2I8YXJndW1lbnRzLmxlbmd0aDtiKyspe3ZhciBjPXRoaXMuZ2V0KGFyZ3VtZW50c1tiXSk7bnVsbCE9PWMmJihjLmhpZGRlbj0hMCxhKyspfXJldHVybiAxPT1hcmd1bWVudHMubGVuZ3RoP3RoaXMucmVmcmVzaChhcmd1bWVudHNbMF0pOnRoaXMucmVmcmVzaCgpLGF9LHNob3c6ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiPTA7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKyl7dmFyIGM9dGhpcy5nZXQoYXJndW1lbnRzW2JdKTtudWxsIT09YyYmKGMuaGlkZGVuPSExLGErKyl9cmV0dXJuIDE9PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5yZWZyZXNoKGFyZ3VtZW50c1swXSk6dGhpcy5yZWZyZXNoKCksYX0sZGlzYWJsZTpmdW5jdGlvbigpe2Zvcih2YXIgYT0wLGI9MDtiPGFyZ3VtZW50cy5sZW5ndGg7YisrKXt2YXIgYz10aGlzLmdldChhcmd1bWVudHNbYl0pO251bGwhPT1jJiYoYy5kaXNhYmxlZD0hMCxjLnNlbGVjdGVkJiZ0aGlzLnVuc2VsZWN0KGMuaWQpLGErKyl9cmV0dXJuIDE9PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5yZWZyZXNoKGFyZ3VtZW50c1swXSk6dGhpcy5yZWZyZXNoKCksYX0sZW5hYmxlOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYj0wO2I8YXJndW1lbnRzLmxlbmd0aDtiKyspe3ZhciBjPXRoaXMuZ2V0KGFyZ3VtZW50c1tiXSk7bnVsbCE9PWMmJihjLmRpc2FibGVkPSExLGErKyl9cmV0dXJuIDE9PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5yZWZyZXNoKGFyZ3VtZW50c1swXSk6dGhpcy5yZWZyZXNoKCksYX0sc2VsZWN0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0KGEpO3JldHVybiBiP3RoaXMuc2VsZWN0ZWQ9PWEmJmIuc2VsZWN0ZWQ/ITE6KHRoaXMudW5zZWxlY3QodGhpcy5zZWxlY3RlZCksJCh0aGlzLmJveCkuZmluZChcXFwiI25vZGVfXFxcIit3MnV0aWxzLmVzY2FwZUlkKGEpKS5hZGRDbGFzcyhcXFwidzJ1aS1zZWxlY3RlZFxcXCIpLmZpbmQoXFxcIi53MnVpLWljb25cXFwiKS5hZGRDbGFzcyhcXFwidzJ1aS1pY29uLXNlbGVjdGVkXFxcIiksYi5zZWxlY3RlZD0hMCx0aGlzLnNlbGVjdGVkPWEsITApOiExfSx1bnNlbGVjdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldChhKTtyZXR1cm4gYj8oYi5zZWxlY3RlZD0hMSwkKHRoaXMuYm94KS5maW5kKFxcXCIjbm9kZV9cXFwiK3cydXRpbHMuZXNjYXBlSWQoYSkpLnJlbW92ZUNsYXNzKFxcXCJ3MnVpLXNlbGVjdGVkXFxcIikuZmluZChcXFwiLncydWktaWNvblxcXCIpLnJlbW92ZUNsYXNzKFxcXCJ3MnVpLWljb24tc2VsZWN0ZWRcXFwiKSx0aGlzLnNlbGVjdGVkPT1hJiYodGhpcy5zZWxlY3RlZD1udWxsKSwhMCk6ITF9LHRvZ2dsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldChhKTtyZXR1cm4gbnVsbD09PWI/ITE6Yi5wbHVzPyh0aGlzLnNldChhLHtwbHVzOiExfSksdGhpcy5leHBhbmQoYSksdm9pZCB0aGlzLnJlZnJlc2goYSkpOjA9PT1iLm5vZGVzLmxlbmd0aD8hMTp0aGlzLmdldChhKS5leHBhbmRlZD90aGlzLmNvbGxhcHNlKGEpOnRoaXMuZXhwYW5kKGEpfSxjb2xsYXBzZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9dGhpcy5nZXQoYSksZD10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcImNvbGxhcHNlXFxcIix0YXJnZXQ6YSxvYmplY3Q6Y30pO3JldHVybiBkLmlzQ2FuY2VsbGVkIT09ITA/KCQodGhpcy5ib3gpLmZpbmQoXFxcIiNub2RlX1xcXCIrdzJ1dGlscy5lc2NhcGVJZChhKStcXFwiX3N1YlxcXCIpLnNsaWRlVXAoMjAwKSwkKHRoaXMuYm94KS5maW5kKFxcXCIjbm9kZV9cXFwiK3cydXRpbHMuZXNjYXBlSWQoYSkrXFxcIiAudzJ1aS1ub2RlLWRvdHM6Zmlyc3QtY2hpbGRcXFwiKS5odG1sKCc8ZGl2IGNsYXNzPVxcXCJ3MnVpLWV4cGFuZFxcXCI+KzwvZGl2PicpLGMuZXhwYW5kZWQ9ITEsdGhpcy50cmlnZ2VyKCQuZXh0ZW5kKGQse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSksc2V0VGltZW91dChmdW5jdGlvbigpe2IucmVmcmVzaChhKX0sMjAwKSwhMCk6dm9pZCAwfSxjb2xsYXBzZUFsbDpmdW5jdGlvbihhKXtpZihcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGEmJihhPXRoaXMpLFxcXCJzdHJpbmdcXFwiPT10eXBlb2YgYSYmKGE9dGhpcy5nZXQoYSkpLG51bGw9PWEubm9kZXMpcmV0dXJuITE7Zm9yKHZhciBiPTA7YjxhLm5vZGVzLmxlbmd0aDtiKyspYS5ub2Rlc1tiXS5leHBhbmRlZD09PSEwJiYoYS5ub2Rlc1tiXS5leHBhbmRlZD0hMSksYS5ub2Rlc1tiXS5ub2RlcyYmYS5ub2Rlc1tiXS5ub2Rlcy5sZW5ndGg+MCYmdGhpcy5jb2xsYXBzZUFsbChhLm5vZGVzW2JdKTtyZXR1cm4gdGhpcy5yZWZyZXNoKGEuaWQpLCEwfSxleHBhbmQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPXRoaXMuZ2V0KGEpLGQ9dGhpcy50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJleHBhbmRcXFwiLHRhcmdldDphLG9iamVjdDpjfSk7cmV0dXJuIGQuaXNDYW5jZWxsZWQhPT0hMD8oJCh0aGlzLmJveCkuZmluZChcXFwiI25vZGVfXFxcIit3MnV0aWxzLmVzY2FwZUlkKGEpK1xcXCJfc3ViXFxcIikuc2xpZGVEb3duKDIwMCksJCh0aGlzLmJveCkuZmluZChcXFwiI25vZGVfXFxcIit3MnV0aWxzLmVzY2FwZUlkKGEpK1xcXCIgLncydWktbm9kZS1kb3RzOmZpcnN0LWNoaWxkXFxcIikuaHRtbCgnPGRpdiBjbGFzcz1cXFwidzJ1aS1leHBhbmRcXFwiPi08L2Rpdj4nKSxjLmV4cGFuZGVkPSEwLHRoaXMudHJpZ2dlcigkLmV4dGVuZChkLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnJlZnJlc2goYSl9LDIwMCksITApOnZvaWQgMH0sZXhwYW5kQWxsOmZ1bmN0aW9uKGEpe2lmKFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgYSYmKGE9dGhpcyksXFxcInN0cmluZ1xcXCI9PXR5cGVvZiBhJiYoYT10aGlzLmdldChhKSksbnVsbD09YS5ub2RlcylyZXR1cm4hMTtmb3IodmFyIGI9MDtiPGEubm9kZXMubGVuZ3RoO2IrKylhLm5vZGVzW2JdLmV4cGFuZGVkPT09ITEmJihhLm5vZGVzW2JdLmV4cGFuZGVkPSEwKSxhLm5vZGVzW2JdLm5vZGVzJiZhLm5vZGVzW2JdLm5vZGVzLmxlbmd0aD4wJiZ0aGlzLmV4cGFuZEFsbChhLm5vZGVzW2JdKTt0aGlzLnJlZnJlc2goYS5pZCl9LGV4cGFuZFBhcmVudHM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXQoYSk7cmV0dXJuIG51bGw9PT1iPyExOihiLnBhcmVudCYmKGIucGFyZW50LmV4cGFuZGVkPSEwLHRoaXMuZXhwYW5kUGFyZW50cyhiLnBhcmVudC5pZCkpLHRoaXMucmVmcmVzaChhKSwhMCl9LGNsaWNrOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcyxkPXRoaXMuZ2V0KGEpO2lmKG51bGwhPT1kJiYhZC5kaXNhYmxlZCYmIWQuZ3JvdXApeyQoYy5ib3gpLmZpbmQoXFxcIi53MnVpLW5vZGUudzJ1aS1zZWxlY3RlZFxcXCIpLmVhY2goZnVuY3Rpb24oYSxiKXt2YXIgZD0kKGIpLmF0dHIoXFxcImlkXFxcIikucmVwbGFjZShcXFwibm9kZV9cXFwiLFxcXCJcXFwiKSxlPWMuZ2V0KGQpO251bGwhPWUmJihlLnNlbGVjdGVkPSExKSwkKGIpLnJlbW92ZUNsYXNzKFxcXCJ3MnVpLXNlbGVjdGVkXFxcIikuZmluZChcXFwiLncydWktaWNvblxcXCIpLnJlbW92ZUNsYXNzKFxcXCJ3MnVpLWljb24tc2VsZWN0ZWRcXFwiKX0pO3ZhciBlPSQoYy5ib3gpLmZpbmQoXFxcIiNub2RlX1xcXCIrdzJ1dGlscy5lc2NhcGVJZChhKSksZj0kKGMuYm94KS5maW5kKFxcXCIjbm9kZV9cXFwiK3cydXRpbHMuZXNjYXBlSWQoYy5zZWxlY3RlZCkpO2UuYWRkQ2xhc3MoXFxcIncydWktc2VsZWN0ZWRcXFwiKS5maW5kKFxcXCIudzJ1aS1pY29uXFxcIikuYWRkQ2xhc3MoXFxcIncydWktaWNvbi1zZWxlY3RlZFxcXCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgZz1jLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcImNsaWNrXFxcIix0YXJnZXQ6YSxvcmlnaW5hbEV2ZW50OmIsbm9kZTpkLG9iamVjdDpkfSk7aWYoZy5pc0NhbmNlbGxlZD09PSEwKXJldHVybiBlLnJlbW92ZUNsYXNzKFxcXCJ3MnVpLXNlbGVjdGVkXFxcIikuZmluZChcXFwiLncydWktaWNvblxcXCIpLnJlbW92ZUNsYXNzKFxcXCJ3MnVpLWljb24tc2VsZWN0ZWRcXFwiKSx2b2lkIGYuYWRkQ2xhc3MoXFxcIncydWktc2VsZWN0ZWRcXFwiKS5maW5kKFxcXCIudzJ1aS1pY29uXFxcIikuYWRkQ2xhc3MoXFxcIncydWktaWNvbi1zZWxlY3RlZFxcXCIpO2lmKG51bGwhPT1mJiYoZi5zZWxlY3RlZD0hMSksYy5nZXQoYSkuc2VsZWN0ZWQ9ITAsYy5zZWxlY3RlZD1hLGQucm91dGUpe3ZhciBoPVN0cmluZyhcXFwiL1xcXCIrZC5yb3V0ZSkucmVwbGFjZSgvXFxcXC97Mix9L2csXFxcIi9cXFwiKSxpPXcydXRpbHMucGFyc2VSb3V0ZShoKTtpZihpLmtleXMubGVuZ3RoPjApZm9yKHZhciBqPTA7ajxpLmtleXMubGVuZ3RoO2orKyludWxsIT1jLnJvdXRlRGF0YVtpLmtleXNbal0ubmFtZV0mJihoPWgucmVwbGFjZShuZXcgUmVnRXhwKFxcXCI6XFxcIitpLmtleXNbal0ubmFtZSxcXFwiZ1xcXCIpLGMucm91dGVEYXRhW2kua2V5c1tqXS5uYW1lXSkpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt3aW5kb3cubG9jYXRpb24uaGFzaD1ofSwxKX1jLnRyaWdnZXIoJC5leHRlbmQoZyx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX0sMSl9fSxrZXlkb3duOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXtudWxsPT09YXx8YS5oaWRkZW58fGEuZGlzYWJsZWR8fGEuZ3JvdXB8fChnLmNsaWNrKGEuaWQsYiksc2V0VGltZW91dChmdW5jdGlvbigpe2cuc2Nyb2xsSW50b1ZpZXcoKX0sNTApKX1mdW5jdGlvbiBjKGEsYil7Zm9yKGE9YihhKTtudWxsIT09YSYmKGEuaGlkZGVufHxhLmRpc2FibGVkKSYmIWEuZ3JvdXA7KWE9YihhKTtyZXR1cm4gYX1mdW5jdGlvbiBkKGEsYil7aWYobnVsbD09PWEpcmV0dXJuIG51bGw7dmFyIGM9YS5wYXJlbnQsZT1nLmdldChhLmlkLCEwKSxmPW51bGw7aWYoYS5leHBhbmRlZCYmYS5ub2Rlcy5sZW5ndGg+MCYmYiE9PSEwKXt2YXIgaD1hLm5vZGVzWzBdO2Y9aC5oaWRkZW58fGguZGlzYWJsZWR8fGguZ3JvdXA/ZChoKTpofWVsc2UgZj1jJiZlKzE8Yy5ub2Rlcy5sZW5ndGg/Yy5ub2Rlc1tlKzFdOmQoYywhMCk7cmV0dXJuIG51bGwhPT1mJiYoZi5oaWRkZW58fGYuZGlzYWJsZWR8fGYuZ3JvdXApJiYoZj1kKGYpKSxmfWZ1bmN0aW9uIGUoYSl7aWYobnVsbD09PWEpcmV0dXJuIG51bGw7dmFyIGI9YS5wYXJlbnQsYz1nLmdldChhLmlkLCEwKSxkPWM+MD9mKGIubm9kZXNbYy0xXSk6YjtyZXR1cm4gbnVsbCE9PWQmJihkLmhpZGRlbnx8ZC5kaXNhYmxlZHx8ZC5ncm91cCkmJihkPWUoZCkpLGR9ZnVuY3Rpb24gZihhKXtpZihhLmV4cGFuZGVkJiZhLm5vZGVzLmxlbmd0aD4wKXt2YXIgYj1hLm5vZGVzW2Eubm9kZXMubGVuZ3RoLTFdO3JldHVybiBiLmhpZGRlbnx8Yi5kaXNhYmxlZHx8Yi5ncm91cD9lKGIpOmYoYil9cmV0dXJuIGF9dmFyIGc9dGhpcyxoPWcuZ2V0KGcuc2VsZWN0ZWQpO2lmKGgmJmcua2V5Ym9hcmQ9PT0hMCl7dmFyIGk9Zy50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJrZXlkb3duXFxcIix0YXJnZXQ6Zy5uYW1lLG9yaWdpbmFsRXZlbnQ6YX0pO2kuaXNDYW5jZWxsZWQhPT0hMCYmKCgxMz09YS5rZXlDb2RlfHwzMj09YS5rZXlDb2RlKSYmaC5ub2Rlcy5sZW5ndGg+MCYmZy50b2dnbGUoZy5zZWxlY3RlZCksMzc9PWEua2V5Q29kZSYmKGgubm9kZXMubGVuZ3RoPjAmJmguZXhwYW5kZWQ/Zy5jb2xsYXBzZShnLnNlbGVjdGVkKTooYihoLnBhcmVudCksaC5wYXJlbnQuZ3JvdXB8fGcuY29sbGFwc2UoaC5wYXJlbnQuaWQpKSksMzk9PWEua2V5Q29kZSYmKGgubm9kZXMubGVuZ3RoPjB8fGgucGx1cykmJiFoLmV4cGFuZGVkJiZnLmV4cGFuZChnLnNlbGVjdGVkKSwzOD09YS5rZXlDb2RlJiZiKGMoaCxlKSksNDA9PWEua2V5Q29kZSYmYihjKGgsZCkpLC0xIT0kLmluQXJyYXkoYS5rZXlDb2RlLFsxMywzMiwzNywzOCwzOSw0MF0pJiYoYS5wcmV2ZW50RGVmYXVsdCYmYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uJiZhLnN0b3BQcm9wYWdhdGlvbigpKSxnLnRyaWdnZXIoJC5leHRlbmQoaSx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKSl9fSxzY3JvbGxJbnRvVmlldzpmdW5jdGlvbihhKXtcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGEmJihhPXRoaXMuc2VsZWN0ZWQpO3ZhciBiPXRoaXMuZ2V0KGEpO2lmKG51bGwhPT1iKXt2YXIgYz0kKHRoaXMuYm94KS5maW5kKFxcXCIudzJ1aS1zaWRlYmFyLWRpdlxcXCIpLGQ9JCh0aGlzLmJveCkuZmluZChcXFwiI25vZGVfXFxcIit3MnV0aWxzLmVzY2FwZUlkKGEpKSxlPWQub2Zmc2V0KCkudG9wLWMub2Zmc2V0KCkudG9wO2UrZC5oZWlnaHQoKT5jLmhlaWdodCgpJiZjLmFuaW1hdGUoe3Njcm9sbFRvcDpjLnNjcm9sbFRvcCgpK2MuaGVpZ2h0KCkvMS4zfSwyNTAsXFxcImxpbmVhclxcXCIpLDA+PWUmJmMuYW5pbWF0ZSh7c2Nyb2xsVG9wOmMuc2Nyb2xsVG9wKCktYy5oZWlnaHQoKS8xLjN9LDI1MCxcXFwibGluZWFyXFxcIil9fSxkYmxDbGljazpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0KGEpLGQ9dGhpcy50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJkYmxDbGlja1xcXCIsdGFyZ2V0OmEsb3JpZ2luYWxFdmVudDpiLG9iamVjdDpjfSk7ZC5pc0NhbmNlbGxlZCE9PSEwJiYodGhpcy50b2dnbGUoYSksdGhpcy50cmlnZ2VyKCQuZXh0ZW5kKGQse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSkpfSxjb250ZXh0TWVudTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1jLmdldChhKTthIT1jLnNlbGVjdGVkJiZjLmNsaWNrKGEpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgZT1jLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcImNvbnRleHRNZW51XFxcIix0YXJnZXQ6YSxvcmlnaW5hbEV2ZW50OmIsb2JqZWN0OmR9KTtlLmlzQ2FuY2VsbGVkIT09ITAmJihkLmdyb3VwfHxkLmRpc2FibGVkfHwoYy5tZW51Lmxlbmd0aD4wJiYkKGMuYm94KS5maW5kKFxcXCIjbm9kZV9cXFwiK3cydXRpbHMuZXNjYXBlSWQoYSkpLncybWVudShjLm1lbnUse2xlZnQ6KGI/Yi5vZmZzZXRYfHxiLnBhZ2VYOjUwKS0yNSxvblNlbGVjdDpmdW5jdGlvbihiKXtjLm1lbnVDbGljayhhLHBhcnNlSW50KGIuaW5kZXgpLGIub3JpZ2luYWxFdmVudCl9fSksYy50cmlnZ2VyKCQuZXh0ZW5kKGUse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSkpKX0sMTUwKX0sbWVudUNsaWNrOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLGU9ZC50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJtZW51Q2xpY2tcXFwiLHRhcmdldDphLG9yaWdpbmFsRXZlbnQ6YyxtZW51SW5kZXg6YixtZW51SXRlbTpkLm1lbnVbYl19KTtlLmlzQ2FuY2VsbGVkIT09ITAmJmQudHJpZ2dlcigkLmV4dGVuZChlLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpfSxyZW5kZXI6ZnVuY3Rpb24oYSl7dmFyIGI9KG5ldyBEYXRlKS5nZXRUaW1lKCksYz10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcInJlbmRlclxcXCIsdGFyZ2V0OnRoaXMubmFtZSxib3g6YX0pO3JldHVybiBjLmlzQ2FuY2VsbGVkIT09ITAmJihcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGEmJm51bGwhPT1hJiYoJCh0aGlzLmJveCkuZmluZChcXFwiPiBkaXYgPiBkaXYudzJ1aS1zaWRlYmFyLWRpdlxcXCIpLmxlbmd0aD4wJiYkKHRoaXMuYm94KS5yZW1vdmVBdHRyKFxcXCJuYW1lXFxcIikucmVtb3ZlQ2xhc3MoXFxcIncydWktcmVzZXQgdzJ1aS1zaWRlYmFyXFxcIikuaHRtbChcXFwiXFxcIiksdGhpcy5ib3g9YSksdGhpcy5ib3gpPygkKHRoaXMuYm94KS5hdHRyKFxcXCJuYW1lXFxcIix0aGlzLm5hbWUpLmFkZENsYXNzKFxcXCJ3MnVpLXJlc2V0IHcydWktc2lkZWJhclxcXCIpLmh0bWwoJzxkaXY+PGRpdiBjbGFzcz1cXFwidzJ1aS1zaWRlYmFyLXRvcFxcXCI+PC9kaXY+PGRpdiBjbGFzcz1cXFwidzJ1aS1zaWRlYmFyLWRpdlxcXCI+PC9kaXY+PGRpdiBjbGFzcz1cXFwidzJ1aS1zaWRlYmFyLWJvdHRvbVxcXCI+PC9kaXY+PC9kaXY+JyksJCh0aGlzLmJveCkuZmluZChcXFwiPiBkaXZcXFwiKS5jc3Moe3dpZHRoOiQodGhpcy5ib3gpLndpZHRoKCkrXFxcInB4XFxcIixoZWlnaHQ6JCh0aGlzLmJveCkuaGVpZ2h0KCkrXFxcInB4XFxcIn0pLCQodGhpcy5ib3gpLmxlbmd0aD4wJiYoJCh0aGlzLmJveClbMF0uc3R5bGUuY3NzVGV4dCs9dGhpcy5zdHlsZSksXFxcIlxcXCIhPT10aGlzLnRvcEhUTUwmJigkKHRoaXMuYm94KS5maW5kKFxcXCIudzJ1aS1zaWRlYmFyLXRvcFxcXCIpLmh0bWwodGhpcy50b3BIVE1MKSwkKHRoaXMuYm94KS5maW5kKFxcXCIudzJ1aS1zaWRlYmFyLWRpdlxcXCIpLmNzcyhcXFwidG9wXFxcIiwkKHRoaXMuYm94KS5maW5kKFxcXCIudzJ1aS1zaWRlYmFyLXRvcFxcXCIpLmhlaWdodCgpK1xcXCJweFxcXCIpKSxcXFwiXFxcIiE9PXRoaXMuYm90dG9tSFRNTCYmKCQodGhpcy5ib3gpLmZpbmQoXFxcIi53MnVpLXNpZGViYXItYm90dG9tXFxcIikuaHRtbCh0aGlzLmJvdHRvbUhUTUwpLCQodGhpcy5ib3gpLmZpbmQoXFxcIi53MnVpLXNpZGViYXItZGl2XFxcIikuY3NzKFxcXCJib3R0b21cXFwiLCQodGhpcy5ib3gpLmZpbmQoXFxcIi53MnVpLXNpZGViYXItYm90dG9tXFxcIikuaGVpZ2h0KCkrXFxcInB4XFxcIikpLHRoaXMudHJpZ2dlcigkLmV4dGVuZChjLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpLHRoaXMucmVmcmVzaCgpLChuZXcgRGF0ZSkuZ2V0VGltZSgpLWIpOnZvaWQgMH0scmVmcmVzaDpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3ZhciBiPVxcXCJcXFwiLGM9YS5pbWc7bnVsbD09PWMmJihjPXRoaXMuaW1nKTt2YXIgZD1hLmljb247bnVsbD09PWQmJihkPXRoaXMuaWNvbik7Zm9yKHZhciBlPWEucGFyZW50LGY9MDtlJiZudWxsIT09ZS5wYXJlbnQ7KWUuZ3JvdXAmJmYtLSxlPWUucGFyZW50LGYrKztyZXR1cm5cXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGEuY2FwdGlvbiYmKGEudGV4dD1hLmNhcHRpb24pLGEuZ3JvdXA/Yj0nPGRpdiBjbGFzcz1cXFwidzJ1aS1ub2RlLWdyb3VwXFxcIiAgaWQ9XFxcIm5vZGVfJythLmlkKydcXFwiICAgICAgICBvbmNsaWNrPVxcXCJ3MnVpW1xcXFwnJytoLm5hbWUrXFxcIiddLnRvZ2dsZSgnXFxcIithLmlkK1xcXCInKVxcXFxcXFwiICAgICAgICBvbm1vdXNlb3V0PVxcXFxcXFwiJCh0aGlzKS5maW5kKCdzcGFuOm50aC1jaGlsZCgxKScpLmNzcygnY29sb3InLCAndHJhbnNwYXJlbnQnKVxcXFxcXFwiICAgICAgICAgb25tb3VzZW92ZXI9XFxcXFxcXCIkKHRoaXMpLmZpbmQoJ3NwYW46bnRoLWNoaWxkKDEpJykuY3NzKCdjb2xvcicsICdpbmhlcml0JylcXFxcXFxcIj5cXFwiKyhhLmdyb3VwU2hvd0hpZGU/XFxcIjxzcGFuPlxcXCIrdzJ1dGlscy5sYW5nKCFhLmhpZGRlbiYmYS5leHBhbmRlZD9cXFwiSGlkZVxcXCI6XFxcIlNob3dcXFwiKStcXFwiPC9zcGFuPlxcXCI6XFxcIjxzcGFuPjwvc3Bhbj5cXFwiKStcXFwiICAgIDxzcGFuPlxcXCIrYS50ZXh0Kyc8L3NwYW4+PC9kaXY+PGRpdiBjbGFzcz1cXFwidzJ1aS1ub2RlLXN1YlxcXCIgaWQ9XFxcIm5vZGVfJythLmlkKydfc3ViXFxcIiBzdHlsZT1cXFwiJythLnN0eWxlK1xcXCI7XFxcIisoIWEuaGlkZGVuJiZhLmV4cGFuZGVkP1xcXCJcXFwiOlxcXCJkaXNwbGF5OiBub25lO1xcXCIpKydcXFwiPjwvZGl2Pic6KGEuc2VsZWN0ZWQmJiFhLmRpc2FibGVkJiYoaC5zZWxlY3RlZD1hLmlkKSxlPVxcXCJcXFwiLGMmJihlPSc8ZGl2IGNsYXNzPVxcXCJ3MnVpLW5vZGUtaW1hZ2UgdzJ1aS1pY29uICcrYysoYS5zZWxlY3RlZCYmIWEuZGlzYWJsZWQ/XFxcIiB3MnVpLWljb24tc2VsZWN0ZWRcXFwiOlxcXCJcXFwiKSsnXFxcIj48L2Rpdj4nKSxkJiYoZT0nPGRpdiBjbGFzcz1cXFwidzJ1aS1ub2RlLWltYWdlXFxcIj48c3BhbiBjbGFzcz1cXFwiJytkKydcXFwiPjwvc3Bhbj48L2Rpdj4nKSxiPSc8ZGl2IGNsYXNzPVxcXCJ3MnVpLW5vZGUgJysoYS5zZWxlY3RlZD9cXFwidzJ1aS1zZWxlY3RlZFxcXCI6XFxcIlxcXCIpK1xcXCIgXFxcIisoYS5kaXNhYmxlZD9cXFwidzJ1aS1kaXNhYmxlZFxcXCI6XFxcIlxcXCIpKydcXFwiIGlkPVxcXCJub2RlXycrYS5pZCsnXFxcIiBzdHlsZT1cXFwiJysoYS5oaWRkZW4/XFxcImRpc3BsYXk6IG5vbmU7XFxcIjpcXFwiXFxcIikrJ1xcXCIgICAgb25kYmxjbGljaz1cXFwidzJ1aVtcXFxcJycraC5uYW1lK1xcXCInXS5kYmxDbGljaygnXFxcIithLmlkK1xcXCInLCBldmVudCk7XFxcXFxcXCIgICAgb25jb250ZXh0bWVudT1cXFxcXFxcIncydWlbJ1xcXCIraC5uYW1lK1xcXCInXS5jb250ZXh0TWVudSgnXFxcIithLmlkK1xcXCInLCBldmVudCk7ICAgICAgICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xcXFxcXFwiICAgIG9uQ2xpY2s9XFxcXFxcXCJ3MnVpWydcXFwiK2gubmFtZStcXFwiJ10uY2xpY2soJ1xcXCIrYS5pZCsnXFxcXCcsIGV2ZW50KTsgXFxcIj48dGFibGUgY2VsbHBhZGRpbmc9XFxcIjBcXFwiIGNlbGxzcGFjaW5nPVxcXCIwXFxcIiBzdHlsZT1cXFwibWFyZ2luLWxlZnQ6JysxOCpmK1xcXCJweDsgcGFkZGluZy1yaWdodDpcXFwiKzE4KmYrJ3B4XFxcIj48dHI+PHRkIGNsYXNzPVxcXCJ3MnVpLW5vZGUtZG90c1xcXCIgbm93cmFwIG9uY2xpY2s9XFxcIncydWlbXFxcXCcnK2gubmFtZStcXFwiJ10udG9nZ2xlKCdcXFwiK2EuaWQrJ1xcXFwnKTsgICAgICAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgZWxzZSBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xcXCI+ICAgIDxkaXYgY2xhc3M9XFxcIncydWktZXhwYW5kXFxcIj4nKyhhLm5vZGVzLmxlbmd0aD4wP2EuZXhwYW5kZWQ/XFxcIi1cXFwiOlxcXCIrXFxcIjphLnBsdXM/XFxcIitcXFwiOlxcXCJcXFwiKSsnPC9kaXY+PC90ZD48dGQgY2xhc3M9XFxcIncydWktbm9kZS1kYXRhXFxcIiBub3dyYXA+JytlKyhhLmNvdW50fHwwPT09YS5jb3VudD8nPGRpdiBjbGFzcz1cXFwidzJ1aS1ub2RlLWNvdW50XFxcIj4nK2EuY291bnQrXFxcIjwvZGl2PlxcXCI6XFxcIlxcXCIpKyc8ZGl2IGNsYXNzPVxcXCJ3MnVpLW5vZGUtY2FwdGlvblxcXCI+JythLnRleHQrJzwvZGl2PjwvdGQ+PC90cj48L3RhYmxlPjwvZGl2PjxkaXYgY2xhc3M9XFxcIncydWktbm9kZS1zdWJcXFwiIGlkPVxcXCJub2RlXycrYS5pZCsnX3N1YlxcXCIgc3R5bGU9XFxcIicrYS5zdHlsZStcXFwiO1xcXCIrKCFhLmhpZGRlbiYmYS5leHBhbmRlZD9cXFwiXFxcIjpcXFwiZGlzcGxheTogbm9uZTtcXFwiKSsnXFxcIj48L2Rpdj4nKSxiXFxufXZhciBjPShuZXcgRGF0ZSkuZ2V0VGltZSgpLGQ9dGhpcy50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJyZWZyZXNoXFxcIix0YXJnZXQ6XFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBhP2E6dGhpcy5uYW1lfSk7aWYoZC5pc0NhbmNlbGxlZCE9PSEwKXtcXFwiXFxcIiE9PXRoaXMudG9wSFRNTCYmKCQodGhpcy5ib3gpLmZpbmQoXFxcIi53MnVpLXNpZGViYXItdG9wXFxcIikuaHRtbCh0aGlzLnRvcEhUTUwpLCQodGhpcy5ib3gpLmZpbmQoXFxcIi53MnVpLXNpZGViYXItZGl2XFxcIikuY3NzKFxcXCJ0b3BcXFwiLCQodGhpcy5ib3gpLmZpbmQoXFxcIi53MnVpLXNpZGViYXItdG9wXFxcIikuaGVpZ2h0KCkrXFxcInB4XFxcIikpLFxcXCJcXFwiIT09dGhpcy5ib3R0b21IVE1MJiYoJCh0aGlzLmJveCkuZmluZChcXFwiLncydWktc2lkZWJhci1ib3R0b21cXFwiKS5odG1sKHRoaXMuYm90dG9tSFRNTCksJCh0aGlzLmJveCkuZmluZChcXFwiLncydWktc2lkZWJhci1kaXZcXFwiKS5jc3MoXFxcImJvdHRvbVxcXCIsJCh0aGlzLmJveCkuZmluZChcXFwiLncydWktc2lkZWJhci1ib3R0b21cXFwiKS5oZWlnaHQoKStcXFwicHhcXFwiKSksJCh0aGlzLmJveCkuZmluZChcXFwiPiBkaXZcXFwiKS5jc3Moe3dpZHRoOiQodGhpcy5ib3gpLndpZHRoKCkrXFxcInB4XFxcIixoZWlnaHQ6JCh0aGlzLmJveCkuaGVpZ2h0KCkrXFxcInB4XFxcIn0pO3ZhciBlLGYsZyxoPXRoaXM7aWYoXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBhKWU9dGhpcyxnPVxcXCIudzJ1aS1zaWRlYmFyLWRpdlxcXCI7ZWxzZXtpZihlPXRoaXMuZ2V0KGEpLG51bGw9PT1lKXJldHVybjtnPVxcXCIjbm9kZV9cXFwiK3cydXRpbHMuZXNjYXBlSWQoZS5pZCkrXFxcIl9zdWJcXFwifXZhciBpO2lmKGUhPT10aGlzKXt2YXIgaj1cXFwiI25vZGVfXFxcIit3MnV0aWxzLmVzY2FwZUlkKGUuaWQpO2k9YihlKSwkKHRoaXMuYm94KS5maW5kKGopLmJlZm9yZSgnPGRpdiBpZD1cXFwic2lkZWJhcl8nK3RoaXMubmFtZSsnX3RtcFxcXCI+PC9kaXY+JyksJCh0aGlzLmJveCkuZmluZChqKS5yZW1vdmUoKSwkKHRoaXMuYm94KS5maW5kKGcpLnJlbW92ZSgpLCQoXFxcIiNzaWRlYmFyX1xcXCIrdGhpcy5uYW1lK1xcXCJfdG1wXFxcIikuYmVmb3JlKGkpLCQoXFxcIiNzaWRlYmFyX1xcXCIrdGhpcy5uYW1lK1xcXCJfdG1wXFxcIikucmVtb3ZlKCl9JCh0aGlzLmJveCkuZmluZChnKS5odG1sKFxcXCJcXFwiKTtmb3IodmFyIGs9MDtrPGUubm9kZXMubGVuZ3RoO2srKylmPWUubm9kZXNba10saT1iKGYpLCQodGhpcy5ib3gpLmZpbmQoZykuYXBwZW5kKGkpLDAhPT1mLm5vZGVzLmxlbmd0aCYmdGhpcy5yZWZyZXNoKGYuaWQpO3JldHVybiB0aGlzLnRyaWdnZXIoJC5leHRlbmQoZCx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKSwobmV3IERhdGUpLmdldFRpbWUoKS1jfX0scmVzaXplOmZ1bmN0aW9uKCl7dmFyIGE9KG5ldyBEYXRlKS5nZXRUaW1lKCksYj10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcInJlc2l6ZVxcXCIsdGFyZ2V0OnRoaXMubmFtZX0pO3JldHVybiBiLmlzQ2FuY2VsbGVkIT09ITA/KCQodGhpcy5ib3gpLmNzcyhcXFwib3ZlcmZsb3dcXFwiLFxcXCJoaWRkZW5cXFwiKSwkKHRoaXMuYm94KS5maW5kKFxcXCI+IGRpdlxcXCIpLmNzcyh7d2lkdGg6JCh0aGlzLmJveCkud2lkdGgoKStcXFwicHhcXFwiLGhlaWdodDokKHRoaXMuYm94KS5oZWlnaHQoKStcXFwicHhcXFwifSksdGhpcy50cmlnZ2VyKCQuZXh0ZW5kKGIse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSksKG5ldyBEYXRlKS5nZXRUaW1lKCktYSk6dm9pZCAwfSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJkZXN0cm95XFxcIix0YXJnZXQ6dGhpcy5uYW1lfSk7YS5pc0NhbmNlbGxlZCE9PSEwJiYoJCh0aGlzLmJveCkuZmluZChcXFwiPiBkaXYgPiBkaXYudzJ1aS1zaWRlYmFyLWRpdlxcXCIpLmxlbmd0aD4wJiYkKHRoaXMuYm94KS5yZW1vdmVBdHRyKFxcXCJuYW1lXFxcIikucmVtb3ZlQ2xhc3MoXFxcIncydWktcmVzZXQgdzJ1aS1zaWRlYmFyXFxcIikuaHRtbChcXFwiXFxcIiksZGVsZXRlIHcydWlbdGhpcy5uYW1lXSx0aGlzLnRyaWdnZXIoJC5leHRlbmQoYSx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKSl9LGxvY2s6ZnVuY3Rpb24oKXt2YXIgYT0kKHRoaXMuYm94KS5maW5kKFxcXCI+IGRpdjpmaXJzdC1jaGlsZFxcXCIpLGI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO2IudW5zaGlmdChhKSx3MnV0aWxzLmxvY2suYXBwbHkod2luZG93LGIpfSx1bmxvY2s6ZnVuY3Rpb24oKXt3MnV0aWxzLnVubG9jayh0aGlzLmJveCl9fSwkLmV4dGVuZChhLnByb3RvdHlwZSx3MnV0aWxzLmV2ZW50KSx3Mm9iai5zaWRlYmFyPWF9KCksZnVuY3Rpb24oYSl7dmFyIGI9ZnVuY3Rpb24oYil7dGhpcy5lbD1udWxsLHRoaXMuaGVscGVycz17fSx0aGlzLnR5cGU9Yi50eXBlfHxcXFwidGV4dFxcXCIsdGhpcy5vcHRpb25zPWEuZXh0ZW5kKCEwLHt9LGIpLHRoaXMub25TZWFyY2g9Yi5vblNlYXJjaHx8bnVsbCx0aGlzLm9uUmVxdWVzdD1iLm9uUmVxdWVzdHx8bnVsbCx0aGlzLm9uTG9hZD1iLm9uTG9hZHx8bnVsbCx0aGlzLm9uRXJyb3I9Yi5vbkVycm9yfHxudWxsLHRoaXMub25DbGljaz1iLm9uQ2xpY2t8fG51bGwsdGhpcy5vbkFkZD1iLm9uQWRkfHxudWxsLHRoaXMub25OZXc9Yi5vbk5ld3x8bnVsbCx0aGlzLm9uUmVtb3ZlPWIub25SZW1vdmV8fG51bGwsdGhpcy5vbk1vdXNlT3Zlcj1iLm9uTW91c2VPdmVyfHxudWxsLHRoaXMub25Nb3VzZU91dD1iLm9uTW91c2VPdXR8fG51bGwsdGhpcy5vbkljb25DbGljaz1iLm9uSWNvbkNsaWNrfHxudWxsLHRoaXMudG1wPXt9LGRlbGV0ZSB0aGlzLm9wdGlvbnMudHlwZSxkZWxldGUgdGhpcy5vcHRpb25zLm9uU2VhcmNoLGRlbGV0ZSB0aGlzLm9wdGlvbnMub25SZXF1ZXN0LGRlbGV0ZSB0aGlzLm9wdGlvbnMub25Mb2FkLGRlbGV0ZSB0aGlzLm9wdGlvbnMub25FcnJvcixkZWxldGUgdGhpcy5vcHRpb25zLm9uQ2xpY2ssZGVsZXRlIHRoaXMub3B0aW9ucy5vbk1vdXNlT3ZlcixkZWxldGUgdGhpcy5vcHRpb25zLm9uTW91c2VPdXQsZGVsZXRlIHRoaXMub3B0aW9ucy5vbkljb25DbGljayxhLmV4dGVuZCghMCx0aGlzLHcyb2JqLmZpZWxkKX07YS5mbi53MmZpZWxkPWZ1bmN0aW9uKGMsZCl7aWYoMCE9dGhpcy5sZW5ndGgpe2lmKDA9PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBlPWEodGhpcykuZGF0YShcXFwidzJmaWVsZFxcXCIpO3JldHVybiBlfXJldHVyblxcXCJzdHJpbmdcXFwiPT10eXBlb2YgYyYmXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBkJiYoYz1hLmV4dGVuZCghMCx7fSxkLHt0eXBlOmN9KSksXFxcInN0cmluZ1xcXCI9PXR5cGVvZiBjJiZcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGQmJihjPXt0eXBlOmN9KSxjLnR5cGU9U3RyaW5nKGMudHlwZSkudG9Mb3dlckNhc2UoKSx0aGlzLmVhY2goZnVuY3Rpb24oZCxlKXt2YXIgZj1hKGUpLmRhdGEoXFxcIncyZmllbGRcXFwiKTtpZihcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGYpe3ZhciBmPW5ldyBiKGMpO3JldHVybiBhLmV4dGVuZChmLHtoYW5kbGVyczpbXX0pLGUmJihmLmVsPWEoZSlbMF0pLGYuaW5pdCgpLGEoZSkuZGF0YShcXFwidzJmaWVsZFxcXCIsZiksZn1pZihmLmNsZWFyKCksXFxcImNsZWFyXFxcIiE9Yy50eXBlKXt2YXIgZj1uZXcgYihjKTtyZXR1cm4gYS5leHRlbmQoZix7aGFuZGxlcnM6W119KSxlJiYoZi5lbD1hKGUpWzBdKSxmLmluaXQoKSxhKGUpLmRhdGEoXFxcIncyZmllbGRcXFwiLGYpLGZ9fSl9dmFyIGY9Yi5wcm90b3R5cGU7cmV0dXJuIGZbY10/ZltjXS5hcHBseShmLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSk6dm9pZCAwfSxiLnByb3RvdHlwZT17Y3VzdG9tOnt9LHBhbGxldGU6W1tcXFwiMDAwMDAwXFxcIixcXFwiNDQ0NDQ0XFxcIixcXFwiNjY2NjY2XFxcIixcXFwiOTk5OTk5XFxcIixcXFwiQ0NDQ0NDXFxcIixcXFwiRUVFRUVFXFxcIixcXFwiRjNGM0YzXFxcIixcXFwiRkZGRkZGXFxcIl0sW1xcXCJGRjAxMUJcXFwiLFxcXCJGRjk4MzhcXFwiLFxcXCJGRkZENTlcXFwiLFxcXCIwMUZENTVcXFwiLFxcXCIwMEZGRkVcXFwiLFxcXCIwNDI0RjNcXFwiLFxcXCI5QjI0RjRcXFwiLFxcXCJGRjIxRjVcXFwiXSxbXFxcIkY0Q0NDQ1xcXCIsXFxcIkZDRTVDRFxcXCIsXFxcIkZGRjJDQ1xcXCIsXFxcIkQ5RUFEM1xcXCIsXFxcIkQwRTBFM1xcXCIsXFxcIkNGRTJGM1xcXCIsXFxcIkQ5RDFFOVxcXCIsXFxcIkVBRDFEQ1xcXCJdLFtcXFwiRUE5ODk5XFxcIixcXFwiRjlDQjlDXFxcIixcXFwiRkVFNTk5XFxcIixcXFwiQjZEN0E4XFxcIixcXFwiQTJDNEM5XFxcIixcXFwiOUZDNUU4XFxcIixcXFwiQjRBN0Q2XFxcIixcXFwiRDVBNkJEXFxcIl0sW1xcXCJFMDY2NjZcXFwiLFxcXCJGNkIyNkJcXFwiLFxcXCJGRUQ5NjZcXFwiLFxcXCI5M0M0N0RcXFwiLFxcXCI3NkE1QUZcXFwiLFxcXCI2RkE4RENcXFwiLFxcXCI4RTdDQzNcXFwiLFxcXCJDMjdCQTBcXFwiXSxbXFxcIkNDMDgxNFxcXCIsXFxcIkU2OTEzOFxcXCIsXFxcIkYxQzIzMlxcXCIsXFxcIjZBQTg0RlxcXCIsXFxcIjQ1ODE4RVxcXCIsXFxcIjNEODVDNlxcXCIsXFxcIjY3NEVBN1xcXCIsXFxcIkE1NEQ3OVxcXCJdLFtcXFwiOTkwNTBDXFxcIixcXFwiQjQ1RjE3XFxcIixcXFwiQkY5MDFGXFxcIixcXFwiMzc3NjFEXFxcIixcXFwiMTI0RjVDXFxcIixcXFwiMEE1Mzk0XFxcIixcXFwiMzUxQzc1XFxcIixcXFwiNzQxQjQ3XFxcIl0sW1xcXCI2NjAyMDVcXFwiLFxcXCI3ODNGMEJcXFwiLFxcXCI3RjYwMTFcXFwiLFxcXCIyNzRFMTJcXFwiLFxcXCIwQzM0M0RcXFwiLFxcXCIwNjM3NjJcXFwiLFxcXCIyMDEyNERcXFwiLFxcXCI0QzEwMzBcXFwiXV0sYWRkVHlwZTpmdW5jdGlvbihhLGIpe3JldHVybiBhPVN0cmluZyhhKS50b0xvd2VyQ2FzZSgpLHRoaXMuY3VzdG9tW2FdPWIsITB9LHJlbW92ZVR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9U3RyaW5nKGEpLnRvTG93ZXJDYXNlKCksdGhpcy5jdXN0b21bYV0/KGRlbGV0ZSB0aGlzLmN1c3RvbVthXSwhMCk6ITF9LGluaXQ6ZnVuY3Rpb24oKXt2YXIgYixjPXRoaXMsZD10aGlzLm9wdGlvbnM7aWYoXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIHRoaXMuY3VzdG9tW3RoaXMudHlwZV0pcmV0dXJuIHZvaWQgdGhpcy5jdXN0b21bdGhpcy50eXBlXS5jYWxsKHRoaXMsZCk7aWYoLTE9PVtcXFwiSU5QVVRcXFwiLFxcXCJURVhUQVJFQVxcXCJdLmluZGV4T2YodGhpcy5lbC50YWdOYW1lKSlyZXR1cm4gdm9pZCBjb25zb2xlLmxvZyhcXFwiRVJST1I6IHcyZmllbGQgY291bGQgb25seSBiZSBhcHBsaWVkIHRvIElOUFVUIG9yIFRFWFRBUkVBLlxcXCIsdGhpcy5lbCk7c3dpdGNoKHRoaXMudHlwZSl7Y2FzZVxcXCJ0ZXh0XFxcIjpjYXNlXFxcImludFxcXCI6Y2FzZVxcXCJmbG9hdFxcXCI6Y2FzZVxcXCJtb25leVxcXCI6Y2FzZVxcXCJjdXJyZW5jeVxcXCI6Y2FzZVxcXCJwZXJjZW50XFxcIjpjYXNlXFxcImFscGhhbnVtZXJpY1xcXCI6Y2FzZVxcXCJoZXhcXFwiOmI9e21pbjpudWxsLG1heDpudWxsLHN0ZXA6MSxwbGFjZWhvbGRlcjpcXFwiXFxcIixhdXRvRm9ybWF0OiEwLGN1cnJlbmN5UHJlZml4OncydXRpbHMuc2V0dGluZ3MuY3VycmVuY3lQcmVmaXgsY3VycmVuY3lTdWZmaXg6dzJ1dGlscy5zZXR0aW5ncy5jdXJyZW5jeVN1ZmZpeCxjdXJyZW5jeVByZWNpc2lvbjp3MnV0aWxzLnNldHRpbmdzLmN1cnJlbmN5UHJlY2lzaW9uLGRlY2ltYWxTeW1ib2w6dzJ1dGlscy5zZXR0aW5ncy5kZWNpbWFsU3ltYm9sLGdyb3VwU3ltYm9sOncydXRpbHMuc2V0dGluZ3MuZ3JvdXBTeW1ib2wsYXJyb3dzOiExLGtleWJvYXJkOiEwLHByZWNpc2lvbjpudWxsLHNpbGVudDohMCxwcmVmaXg6XFxcIlxcXCIsc3VmZml4OlxcXCJcXFwifSx0aGlzLm9wdGlvbnM9YS5leHRlbmQoITAse30sYixkKSxkPXRoaXMub3B0aW9ucyxkLm51bWJlclJFPW5ldyBSZWdFeHAoXFxcIltcXFwiK2QuZ3JvdXBTeW1ib2wrXFxcIl1cXFwiLFxcXCJnXFxcIiksZC5tb25leVJFPW5ldyBSZWdFeHAoXFxcIltcXFwiK2QuY3VycmVuY3lQcmVmaXgrZC5jdXJyZW5jeVN1ZmZpeCtkLmdyb3VwU3ltYm9sK1xcXCJdXFxcIixcXFwiZ1xcXCIpLGQucGVyY2VudFJFPW5ldyBSZWdFeHAoXFxcIltcXFwiK2QuZ3JvdXBTeW1ib2wrXFxcIiVdXFxcIixcXFwiZ1xcXCIpLC0xIT1bXFxcInRleHRcXFwiLFxcXCJhbHBoYW51bWVyaWNcXFwiLFxcXCJoZXhcXFwiXS5pbmRleE9mKHRoaXMudHlwZSkmJihkLmFycm93cz0hMSxkLmtleWJvYXJkPSExKSx0aGlzLmFkZFByZWZpeCgpLHRoaXMuYWRkU3VmZml4KCksYSh0aGlzLmVsKS5hdHRyKFxcXCJwbGFjZWhvbGRlclxcXCIpJiZcXFwiXFxcIj09ZC5wbGFjZWhvbGRlciYmKGQucGxhY2Vob2xkZXI9YSh0aGlzLmVsKS5hdHRyKFxcXCJwbGFjZWhvbGRlclxcXCIpKSxhKHRoaXMuZWwpLmF0dHIoXFxcInBsYWNlaG9sZGVyXFxcIixkLnBsYWNlaG9sZGVyKTticmVhaztjYXNlXFxcImNvbG9yXFxcIjpiPXtwcmVmaXg6XFxcIiNcXFwiLHN1ZmZpeDonPGRpdiBzdHlsZT1cXFwid2lkdGg6ICcrKHBhcnNlSW50KGEodGhpcy5lbCkuY3NzKFxcXCJmb250LXNpemVcXFwiKSl8fDEyKSsncHhcXFwiPiZuYnNwOzwvZGl2PicscGxhY2Vob2xkZXI6XFxcIlxcXCIsYXJyb3dzOiExLGtleWJvYXJkOiExfSxhLmV4dGVuZChkLGIpLHRoaXMuYWRkUHJlZml4KCksdGhpcy5hZGRTdWZmaXgoKSxhKHRoaXMuZWwpLmF0dHIoXFxcIm1heGxlbmd0aFxcXCIsNiksXFxcIlxcXCIhPWEodGhpcy5lbCkudmFsKCkmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXthKGMuZWwpLmNoYW5nZSgpfSwxKSxhKHRoaXMuZWwpLmF0dHIoXFxcInBsYWNlaG9sZGVyXFxcIikmJlxcXCJcXFwiPT1kLnBsYWNlaG9sZGVyJiYoZC5wbGFjZWhvbGRlcj1hKHRoaXMuZWwpLmF0dHIoXFxcInBsYWNlaG9sZGVyXFxcIikpLGEodGhpcy5lbCkuYXR0cihcXFwicGxhY2Vob2xkZXJcXFwiLGQucGxhY2Vob2xkZXIpO2JyZWFrO2Nhc2VcXFwiZGF0ZVxcXCI6Yj17Zm9ybWF0OncydXRpbHMuc2V0dGluZ3MuZGF0ZV9mb3JtYXQscGxhY2Vob2xkZXI6XFxcIlxcXCIsa2V5Ym9hcmQ6ITAsc2lsZW50OiEwLHN0YXJ0OlxcXCJcXFwiLGVuZDpcXFwiXFxcIixibG9ja2VkOnt9LGNvbG9yZWQ6e319LHRoaXMub3B0aW9ucz1hLmV4dGVuZCghMCx7fSxiLGQpLGQ9dGhpcy5vcHRpb25zLGEodGhpcy5lbCkuYXR0cihcXFwicGxhY2Vob2xkZXJcXFwiKSYmXFxcIlxcXCI9PWQucGxhY2Vob2xkZXImJihkLnBsYWNlaG9sZGVyPWEodGhpcy5lbCkuYXR0cihcXFwicGxhY2Vob2xkZXJcXFwiKSksYSh0aGlzLmVsKS5hdHRyKFxcXCJwbGFjZWhvbGRlclxcXCIsZC5wbGFjZWhvbGRlcj9kLnBsYWNlaG9sZGVyOmQuZm9ybWF0KTticmVhaztjYXNlXFxcInRpbWVcXFwiOmI9e2Zvcm1hdDp3MnV0aWxzLnNldHRpbmdzLnRpbWVfZm9ybWF0LHBsYWNlaG9sZGVyOlxcXCJcXFwiLGtleWJvYXJkOiEwLHNpbGVudDohMCxzdGFydDpcXFwiXFxcIixlbmQ6XFxcIlxcXCJ9LHRoaXMub3B0aW9ucz1hLmV4dGVuZCghMCx7fSxiLGQpLGQ9dGhpcy5vcHRpb25zLGEodGhpcy5lbCkuYXR0cihcXFwicGxhY2Vob2xkZXJcXFwiKSYmXFxcIlxcXCI9PWQucGxhY2Vob2xkZXImJihkLnBsYWNlaG9sZGVyPWEodGhpcy5lbCkuYXR0cihcXFwicGxhY2Vob2xkZXJcXFwiKSksYSh0aGlzLmVsKS5hdHRyKFxcXCJwbGFjZWhvbGRlclxcXCIsZC5wbGFjZWhvbGRlcj9kLnBsYWNlaG9sZGVyOlxcXCJoMTJcXFwiPT1kLmZvcm1hdD9cXFwiaGg6bWkgcG1cXFwiOlxcXCJoaDptaVxcXCIpO2JyZWFrO2Nhc2VcXFwiZGF0ZXRpbWVcXFwiOmJyZWFrO2Nhc2VcXFwibGlzdFxcXCI6Y2FzZVxcXCJjb21ib1xcXCI6aWYoYj17aXRlbXM6W10sc2VsZWN0ZWQ6e30scGxhY2Vob2xkZXI6XFxcIlxcXCIsdXJsOm51bGwscG9zdERhdGE6e30sbWluTGVuZ3RoOjEsY2FjaGVNYXg6MjUwLG1heERyb3BIZWlnaHQ6MzUwLG1hdGNoOlxcXCJiZWdpbnNcXFwiLHNpbGVudDohMCxpY29uOm51bGwsaWNvblN0eWxlOlxcXCJcXFwiLG9uU2VhcmNoOm51bGwsb25SZXF1ZXN0Om51bGwsb25Mb2FkOm51bGwsb25FcnJvcjpudWxsLG9uSWNvbkNsaWNrOm51bGwscmVuZGVyRHJvcDpudWxsLHByZWZpeDpcXFwiXFxcIixzdWZmaXg6XFxcIlxcXCIsb3Blbk9uRm9jdXM6ITEsbWFya1NlYXJjaDohMX0sZC5pdGVtcz10aGlzLm5vcm1NZW51KGQuaXRlbXMpLFxcXCJsaXN0XFxcIj09dGhpcy50eXBlJiYoYi5vcGVuT25Gb2N1cz0hMCxiLnN1ZmZpeD0nPGRpdiBjbGFzcz1cXFwiYXJyb3ctZG93blxcXCIgc3R5bGU9XFxcIm1hcmdpbi10b3A6ICcrKHBhcnNlSW50KGEodGhpcy5lbCkuaGVpZ2h0KCkpLTYpLzIrJ3B4O1xcXCI+PC9kaXY+JyxhKHRoaXMuZWwpLmFkZENsYXNzKFxcXCJ3MnVpLXNlbGVjdFxcXCIpLCFhLmlzUGxhaW5PYmplY3QoZC5zZWxlY3RlZCkpKWZvcih2YXIgZSBpbiBkLml0ZW1zKXt2YXIgZj1kLml0ZW1zW2VdO2lmKGYmJmYuaWQ9PWQuc2VsZWN0ZWQpe2Quc2VsZWN0ZWQ9YS5leHRlbmQoITAse30sZik7YnJlYWt9fWQ9YS5leHRlbmQoe30sYixkLHthbGlnbjpcXFwiYm90aFxcXCIsYWx0Um93czohMH0pLHRoaXMub3B0aW9ucz1kLGEuaXNQbGFpbk9iamVjdChkLnNlbGVjdGVkKXx8KGQuc2VsZWN0ZWQ9e30pLGEodGhpcy5lbCkuZGF0YShcXFwic2VsZWN0ZWRcXFwiLGQuc2VsZWN0ZWQpLGQudXJsJiZ0aGlzLnJlcXVlc3QoMCksXFxcImxpc3RcXFwiPT10aGlzLnR5cGUmJnRoaXMuYWRkRm9jdXMoKSx0aGlzLmFkZFByZWZpeCgpLHRoaXMuYWRkU3VmZml4KCksc2V0VGltZW91dChmdW5jdGlvbigpe2MucmVmcmVzaCgpfSwxMCksYSh0aGlzLmVsKS5hdHRyKFxcXCJwbGFjZWhvbGRlclxcXCIpJiZcXFwiXFxcIj09ZC5wbGFjZWhvbGRlciYmKGQucGxhY2Vob2xkZXI9YSh0aGlzLmVsKS5hdHRyKFxcXCJwbGFjZWhvbGRlclxcXCIpKSxhKHRoaXMuZWwpLmF0dHIoXFxcInBsYWNlaG9sZGVyXFxcIixkLnBsYWNlaG9sZGVyKS5hdHRyKFxcXCJhdXRvY29tcGxldGVcXFwiLFxcXCJvZmZcXFwiKSxcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGQuc2VsZWN0ZWQudGV4dCYmYSh0aGlzLmVsKS52YWwoZC5zZWxlY3RlZC50ZXh0KTticmVhaztjYXNlXFxcImVudW1cXFwiOmI9e2l0ZW1zOltdLHNlbGVjdGVkOltdLHBsYWNlaG9sZGVyOlxcXCJcXFwiLG1heDowLHVybDpudWxsLHBvc3REYXRhOnt9LG1pbkxlbmd0aDoxLGNhY2hlTWF4OjI1MCxtYXhXaWR0aDoyNTAsbWF4SGVpZ2h0OjM1MCxtYXhEcm9wSGVpZ2h0OjM1MCxtYXRjaDpcXFwiY29udGFpbnNcXFwiLHNpbGVudDohMCxvcGVuT25Gb2N1czohMSxtYXJrU2VhcmNoOiEwLHJlbmRlckRyb3A6bnVsbCxyZW5kZXJJdGVtOm51bGwsc3R5bGU6XFxcIlxcXCIsb25TZWFyY2g6bnVsbCxvblJlcXVlc3Q6bnVsbCxvbkxvYWQ6bnVsbCxvbkVycm9yOm51bGwsb25DbGljazpudWxsLG9uQWRkOm51bGwsb25OZXc6bnVsbCxvblJlbW92ZTpudWxsLG9uTW91c2VPdmVyOm51bGwsb25Nb3VzZU91dDpudWxsfSxkPWEuZXh0ZW5kKHt9LGIsZCx7YWxpZ246XFxcImJvdGhcXFwiLHN1ZmZpeDpcXFwiXFxcIixhbHRSb3dzOiEwfSksZC5pdGVtcz10aGlzLm5vcm1NZW51KGQuaXRlbXMpLGQuc2VsZWN0ZWQ9dGhpcy5ub3JtTWVudShkLnNlbGVjdGVkKSx0aGlzLm9wdGlvbnM9ZCxhLmlzQXJyYXkoZC5zZWxlY3RlZCl8fChkLnNlbGVjdGVkPVtdKSxhKHRoaXMuZWwpLmRhdGEoXFxcInNlbGVjdGVkXFxcIixkLnNlbGVjdGVkKSxkLnVybCYmdGhpcy5yZXF1ZXN0KDApLHRoaXMuYWRkU3VmZml4KCksdGhpcy5hZGRNdWx0aSgpO2JyZWFrO2Nhc2VcXFwiZmlsZVxcXCI6Yj17c2VsZWN0ZWQ6W10scGxhY2Vob2xkZXI6dzJ1dGlscy5sYW5nKFxcXCJBdHRhY2ggZmlsZXMgYnkgZHJhZ2dpbmcgYW5kIGRyb3BwaW5nIG9yIENsaWNrIHRvIFNlbGVjdFxcXCIpLG1heDowLG1heFNpemU6MCxtYXhGaWxlU2l6ZTowLG1heFdpZHRoOjI1MCxtYXhIZWlnaHQ6MzUwLG1heERyb3BIZWlnaHQ6MzUwLHNpbGVudDohMCxyZW5kZXJJdGVtOm51bGwsc3R5bGU6XFxcIlxcXCIsb25DbGljazpudWxsLG9uQWRkOm51bGwsb25SZW1vdmU6bnVsbCxvbk1vdXNlT3ZlcjpudWxsLG9uTW91c2VPdXQ6bnVsbH0sZD1hLmV4dGVuZCh7fSxiLGQse2FsaWduOlxcXCJib3RoXFxcIixhbHRSb3dzOiEwfSksdGhpcy5vcHRpb25zPWQsYS5pc0FycmF5KGQuc2VsZWN0ZWQpfHwoZC5zZWxlY3RlZD1bXSksYSh0aGlzLmVsKS5kYXRhKFxcXCJzZWxlY3RlZFxcXCIsZC5zZWxlY3RlZCksYSh0aGlzLmVsKS5hdHRyKFxcXCJwbGFjZWhvbGRlclxcXCIpJiYoZC5wbGFjZWhvbGRlcj1hKHRoaXMuZWwpLmF0dHIoXFxcInBsYWNlaG9sZGVyXFxcIikpLHRoaXMuYWRkTXVsdGkoKX10aGlzLnRtcD17b25DaGFuZ2U6ZnVuY3Rpb24oYSl7Yy5jaGFuZ2UuY2FsbChjLGEpfSxvbkNsaWNrOmZ1bmN0aW9uKGEpe2MuY2xpY2suY2FsbChjLGEpfSxvbkZvY3VzOmZ1bmN0aW9uKGEpe2MuZm9jdXMuY2FsbChjLGEpfSxvbkJsdXI6ZnVuY3Rpb24oYSl7Yy5ibHVyLmNhbGwoYyxhKX0sb25LZXlkb3duOmZ1bmN0aW9uKGEpe2Mua2V5RG93bi5jYWxsKGMsYSl9LG9uS2V5dXA6ZnVuY3Rpb24oYSl7Yy5rZXlVcC5jYWxsKGMsYSl9LG9uS2V5cHJlc3M6ZnVuY3Rpb24oYSl7Yy5rZXlQcmVzcy5jYWxsKGMsYSl9fSxhKHRoaXMuZWwpLmFkZENsYXNzKFxcXCJ3MmZpZWxkXFxcIikuZGF0YShcXFwidzJmaWVsZFxcXCIsdGhpcykub24oXFxcImNoYW5nZVxcXCIsdGhpcy50bXAub25DaGFuZ2UpLm9uKFxcXCJjbGlja1xcXCIsdGhpcy50bXAub25DbGljaykub24oXFxcImZvY3VzXFxcIix0aGlzLnRtcC5vbkZvY3VzKS5vbihcXFwiYmx1clxcXCIsdGhpcy50bXAub25CbHVyKS5vbihcXFwia2V5ZG93blxcXCIsdGhpcy50bXAub25LZXlkb3duKS5vbihcXFwia2V5dXBcXFwiLHRoaXMudG1wLm9uS2V5dXApLm9uKFxcXCJrZXlwcmVzc1xcXCIsdGhpcy50bXAub25LZXlwcmVzcykuY3NzKHtcXFwiYm94LXNpemluZ1xcXCI6XFxcImJvcmRlci1ib3hcXFwiLFxcXCItd2Via2l0LWJveC1zaXppbmdcXFwiOlxcXCJib3JkZXItYm94XFxcIixcXFwiLW1vei1ib3gtc2l6aW5nXFxcIjpcXFwiYm9yZGVyLWJveFxcXCIsXFxcIi1tcy1ib3gtc2l6aW5nXFxcIjpcXFwiYm9yZGVyLWJveFxcXCIsXFxcIi1vLWJveC1zaXppbmdcXFwiOlxcXCJib3JkZXItYm94XFxcIn0pLHRoaXMuY2hhbmdlKGEuRXZlbnQoXFxcImNoYW5nZVxcXCIpKX0sY2xlYXI6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLm9wdGlvbnM7LTEhPVtcXFwibW9uZXlcXFwiLFxcXCJjdXJyZW5jeVxcXCJdLmluZGV4T2YodGhpcy50eXBlKSYmYSh0aGlzLmVsKS52YWwoYSh0aGlzLmVsKS52YWwoKS5yZXBsYWNlKGIubW9uZXlSRSxcXFwiXFxcIikpLFxcXCJwZXJjZW50XFxcIj09dGhpcy50eXBlJiZhKHRoaXMuZWwpLnZhbChhKHRoaXMuZWwpLnZhbCgpLnJlcGxhY2UoLyUvZyxcXFwiXFxcIikpLFxcXCJjb2xvclxcXCI9PXRoaXMudHlwZSYmYSh0aGlzLmVsKS5yZW1vdmVBdHRyKFxcXCJtYXhsZW5ndGhcXFwiKSxcXFwibGlzdFxcXCI9PXRoaXMudHlwZSYmYSh0aGlzLmVsKS5yZW1vdmVDbGFzcyhcXFwidzJ1aS1zZWxlY3RcXFwiKSwtMSE9W1xcXCJkYXRlXFxcIixcXFwidGltZVxcXCJdLmluZGV4T2YodGhpcy50eXBlKSYmYSh0aGlzLmVsKS5hdHRyKFxcXCJwbGFjZWhvbGRlclxcXCIpPT1iLmZvcm1hdCYmYSh0aGlzLmVsKS5hdHRyKFxcXCJwbGFjZWhvbGRlclxcXCIsXFxcIlxcXCIpLHRoaXMudHlwZT1cXFwiY2xlYXJcXFwiO3ZhciBjPWEodGhpcy5lbCkuZGF0YShcXFwidG1wXFxcIik7aWYodGhpcy50bXApe1xcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgYyYmKGMmJmNbXFxcIm9sZC1wYWRkaW5nLWxlZnRcXFwiXSYmYSh0aGlzLmVsKS5jc3MoXFxcInBhZGRpbmctbGVmdFxcXCIsY1tcXFwib2xkLXBhZGRpbmctbGVmdFxcXCJdKSxjJiZjW1xcXCJvbGQtcGFkZGluZy1yaWdodFxcXCJdJiZhKHRoaXMuZWwpLmNzcyhcXFwicGFkZGluZy1yaWdodFxcXCIsY1tcXFwib2xkLXBhZGRpbmctcmlnaHRcXFwiXSkpLGEodGhpcy5lbCkudmFsKHRoaXMuY2xlYW4oYSh0aGlzLmVsKS52YWwoKSkpLnJlbW92ZUNsYXNzKFxcXCJ3MmZpZWxkXFxcIikucmVtb3ZlRGF0YSgpLm9mZihcXFwiY2hhbmdlXFxcIix0aGlzLnRtcC5vbkNoYW5nZSkub2ZmKFxcXCJjbGlja1xcXCIsdGhpcy50bXAub25DbGljaykub2ZmKFxcXCJmb2N1c1xcXCIsdGhpcy50bXAub25Gb2N1cykub2ZmKFxcXCJibHVyXFxcIix0aGlzLnRtcC5vbkJsdXIpLm9mZihcXFwia2V5ZG93blxcXCIsdGhpcy50bXAub25LZXlkb3duKS5vZmYoXFxcImtleXVwXFxcIix0aGlzLnRtcC5vbktleXVwKS5vZmYoXFxcImtleXByZXNzXFxcIix0aGlzLnRtcC5vbktleXByZXNzKTtmb3IodmFyIGQgaW4gdGhpcy5oZWxwZXJzKWEodGhpcy5oZWxwZXJzW2RdKS5yZW1vdmUoKTt0aGlzLmhlbHBlcnM9e319fSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPXRoaXMub3B0aW9ucyxkPWEodGhpcy5lbCkuZGF0YShcXFwic2VsZWN0ZWRcXFwiKSxlPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2lmKC0xIT1bXFxcImxpc3RcXFwiXS5pbmRleE9mKHRoaXMudHlwZSkmJihhKGIuZWwpLnBhcmVudCgpLmNzcyhcXFwid2hpdGUtc3BhY2VcXFwiLFxcXCJub3dyYXBcXFwiKSxiLmhlbHBlcnMucHJlZml4JiZiLmhlbHBlcnMucHJlZml4LmhpZGUoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoYi5oZWxwZXJzLmZvY3VzKXshYS5pc0VtcHR5T2JqZWN0KGQpJiZjLmljb24/KGMucHJlZml4PSc8c3BhbiBjbGFzcz1cXFwidzJ1aS1pY29uICcrYy5pY29uKydcXFwic3R5bGU9XFxcImN1cnNvcjogcG9pbnRlcjsgZm9udC1zaXplOiAxNHB4OyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IG1hcmdpbi10b3A6IC0xcHg7IGNvbG9yOiAjN0Y5OEFEOycrYy5pY29uU3R5bGUrJ1xcXCI+PC9zcGFuPicsYi5hZGRQcmVmaXgoKSk6KGMucHJlZml4PVxcXCJcXFwiLGIuYWRkUHJlZml4KCkpO3ZhciBlPWIuaGVscGVycy5mb2N1cy5maW5kKFxcXCJpbnB1dFxcXCIpO1xcXCJcXFwiPT1hKGUpLnZhbCgpPyhhKGUpLmNzcyhcXFwib3BhY2l0eVxcXCIsMCkucHJldigpLmNzcyhcXFwib3BhY2l0eVxcXCIsMCksYShiLmVsKS52YWwoZCYmbnVsbCE9ZC50ZXh0P2QudGV4dDpcXFwiXFxcIiksYShiLmVsKS5hdHRyKFxcXCJwbGFjZWhvbGRlclxcXCIsYy5wbGFjZWhvbGRlcnx8XFxcIlxcXCIpKTooYShlKS5jc3MoXFxcIm9wYWNpdHlcXFwiLDEpLnByZXYoKS5jc3MoXFxcIm9wYWNpdHlcXFwiLDEpLGEoYi5lbCkudmFsKFxcXCJcXFwiKSxhKGIuZWwpLnJlbW92ZUF0dHIoXFxcInBsYWNlaG9sZGVyXFxcIiksc2V0VGltZW91dChmdW5jdGlvbigpe2IuaGVscGVycy5wcmVmaXgmJmIuaGVscGVycy5wcmVmaXguaGlkZSgpO3ZhciBkPVxcXCJwb3NpdGlvbjogYWJzb2x1dGU7IG9wYWNpdHk6IDA7IG1hcmdpbjogNHB4IDBweCAwcHggMnB4OyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBsZWZ0ICFpbXBvcnRhbnQ7XFxcIjtjLmljb24/KGEoZSkuY3NzKFxcXCJtYXJnaW4tbGVmdFxcXCIsXFxcIjE3cHhcXFwiKSxhKGIuaGVscGVycy5mb2N1cykuZmluZChcXFwiLmljb24tc2VhcmNoXFxcIikuYXR0cihcXFwic3R5bGVcXFwiLGQrXFxcIndpZHRoOiAxMXB4ICFpbXBvcnRhbnQ7IGRpc3BsYXk6IGJsb2NrOyBvcGFjaXR5OiAxXFxcIikpOihhKGUpLmNzcyhcXFwibWFyZ2luLWxlZnRcXFwiLFxcXCIwcHhcXFwiKSxhKGIuaGVscGVycy5mb2N1cykuZmluZChcXFwiLmljb24tc2VhcmNoXFxcIikuYXR0cihcXFwic3R5bGVcXFwiLGQrXFxcIndpZHRoOiAwcHggIWltcG9ydGFudDsgZGlzcGxheTogbm9uZTsgb3BhY2l0eTogMFxcXCIpKX0sMSkpLGEoYi5lbCkucHJvcChcXFwicmVhZG9ubHlcXFwiKXx8YShiLmVsKS5wcm9wKFxcXCJkaXNhYmxlZFxcXCIpP3NldFRpbWVvdXQoZnVuY3Rpb24oKXthKGIuaGVscGVycy5wcmVmaXgpLmNzcyhcXFwib3BhY2l0eVxcXCIsXFxcIjAuNlxcXCIpLGEoYi5oZWxwZXJzLnN1ZmZpeCkuY3NzKFxcXCJvcGFjaXR5XFxcIixcXFwiMC42XFxcIil9LDEpOnNldFRpbWVvdXQoZnVuY3Rpb24oKXthKGIuaGVscGVycy5wcmVmaXgpLmNzcyhcXFwib3BhY2l0eVxcXCIsXFxcIjFcXFwiKSxhKGIuaGVscGVycy5zdWZmaXgpLmNzcyhcXFwib3BhY2l0eVxcXCIsXFxcIjFcXFwiKX0sMSl9fSwxKSksLTEhPVtcXFwiZW51bVxcXCIsXFxcImZpbGVcXFwiXS5pbmRleE9mKHRoaXMudHlwZSkpe3ZhciBmPVxcXCJcXFwiO2Zvcih2YXIgZyBpbiBkKXt2YXIgaD1kW2ddLGk9XFxcIlxcXCI7aT1cXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgYy5yZW5kZXJJdGVtP2MucmVuZGVySXRlbShoLGcsJzxkaXYgY2xhc3M9XFxcIncydWktbGlzdC1yZW1vdmVcXFwiIHRpdGxlPVxcXCInK3cydXRpbHMubGFuZyhcXFwiUmVtb3ZlXFxcIikrJ1xcXCIgaW5kZXg9XFxcIicrZysnXFxcIj4mbmJzcDsmbmJzcDs8L2Rpdj4nKTonPGRpdiBjbGFzcz1cXFwidzJ1aS1saXN0LXJlbW92ZVxcXCIgdGl0bGU9XFxcIicrdzJ1dGlscy5sYW5nKFxcXCJSZW1vdmVcXFwiKSsnXFxcIiBpbmRleD1cXFwiJytnKydcXFwiPiZuYnNwOyZuYnNwOzwvZGl2PicrKFxcXCJlbnVtXFxcIj09Yi50eXBlP2gudGV4dDpoLm5hbWUrJzxzcGFuIGNsYXNzPVxcXCJmaWxlLXNpemVcXFwiPiAtICcrdzJ1dGlscy5zaXplKGguc2l6ZSkrXFxcIjwvc3Bhbj5cXFwiKSxmKz0nPGxpIGluZGV4PVxcXCInK2crJ1xcXCIgc3R5bGU9XFxcIm1heC13aWR0aDogJytwYXJzZUludChjLm1heFdpZHRoKStcXFwicHg7IFxcXCIrKGguc3R5bGU/aC5zdHlsZTpcXFwiXFxcIikrJ1xcXCI+JytpK1xcXCI8L2xpPlxcXCJ9dmFyIGo9Yi5oZWxwZXJzLm11bHRpLGs9ai5maW5kKFxcXCJ1bFxcXCIpO2lmKGouYXR0cihcXFwic3R5bGVcXFwiLGouYXR0cihcXFwic3R5bGVcXFwiKStcXFwiO1xcXCIrYy5zdHlsZSksYShiLmVsKS5wcm9wKFxcXCJyZWFkb25seVxcXCIpfHxhKGIuZWwpLnByb3AoXFxcImRpc2FibGVkXFxcIik/KGouYWRkQ2xhc3MoXFxcIncydWktcmVhZG9ubHlcXFwiKSxqLmNzcyhcXFwicG9pbnRlci1ldmVudHNcXFwiLFxcXCJub25lXFxcIikuZmluZChcXFwibGlcXFwiKS5jc3MoXFxcIm9wYWNpdHlcXFwiLFxcXCIwLjZcXFwiKSxhKGIuaGVscGVycy5tdWx0aSkuZmluZChcXFwiaW5wdXRcXFwiKS5wcm9wKFxcXCJyZWFkb25seVxcXCIsITApKTooai5yZW1vdmVDbGFzcyhcXFwidzJ1aS1yZWFkb25seVxcXCIpLGouY3NzKFxcXCJwb2ludGVyLWV2ZW50c1xcXCIsXFxcImF1dG9cXFwiKS5maW5kKFxcXCJsaVxcXCIpLmNzcyhcXFwib3BhY2l0eVxcXCIsXFxcIjFcXFwiKSxhKGIuaGVscGVycy5tdWx0aSkuZmluZChcXFwiaW5wdXRcXFwiKS5wcm9wKFxcXCJyZWFkb25seVxcXCIsITEpKSxqLmZpbmQoXFxcIi53MnVpLWVudW0tcGxhY2Vob2xkZXJcXFwiKS5yZW1vdmUoKSxrLmZpbmQoXFxcImxpXFxcIikubm90KFxcXCJsaS5ub21vdXNlXFxcIikucmVtb3ZlKCksXFxcIlxcXCIhPWYpay5wcmVwZW5kKGYpO2Vsc2UgaWYoXFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBjLnBsYWNlaG9sZGVyKXt2YXIgbD1cXFwicGFkZGluZy10b3A6IFxcXCIrYSh0aGlzLmVsKS5jc3MoXFxcInBhZGRpbmctdG9wXFxcIikrXFxcIjtwYWRkaW5nLWxlZnQ6IFxcXCIrYSh0aGlzLmVsKS5jc3MoXFxcInBhZGRpbmctbGVmdFxcXCIpK1xcXCI7IGJveC1zaXppbmc6IFxcXCIrYSh0aGlzLmVsKS5jc3MoXFxcImJveC1zaXppbmdcXFwiKStcXFwiOyBsaW5lLWhlaWdodDogXFxcIithKHRoaXMuZWwpLmNzcyhcXFwibGluZS1oZWlnaHRcXFwiKStcXFwiOyBmb250LXNpemU6IFxcXCIrYSh0aGlzLmVsKS5jc3MoXFxcImZvbnQtc2l6ZVxcXCIpK1xcXCI7IGZvbnQtZmFtaWx5OiBcXFwiK2EodGhpcy5lbCkuY3NzKFxcXCJmb250LWZhbWlseVxcXCIpK1xcXCI7IFxcXCI7ai5wcmVwZW5kKCc8ZGl2IGNsYXNzPVxcXCJ3MnVpLWVudW0tcGxhY2Vob2xkZXJcXFwiIHN0eWxlPVxcXCInK2wrJ1xcXCI+JytjLnBsYWNlaG9sZGVyK1xcXCI8L2Rpdj5cXFwiKX1qLmZpbmQoXFxcImxpXFxcIikuZGF0YShcXFwibW91c2VcXFwiLFxcXCJvdXRcXFwiKS5vbihcXFwiY2xpY2tcXFwiLGZ1bmN0aW9uKGMpe3ZhciBlPWRbYShjLnRhcmdldCkuYXR0cihcXFwiaW5kZXhcXFwiKV07aWYoIWEoYy50YXJnZXQpLmhhc0NsYXNzKFxcXCJub21vdXNlXFxcIikpe2Muc3RvcFByb3BhZ2F0aW9uKCk7dmFyIGY9Yi50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJjbGlja1xcXCIsdGFyZ2V0OmIuZWwsb3JpZ2luYWxFdmVudDpjLm9yaWdpbmFsRXZlbnQsaXRlbTplfSk7aWYoZi5pc0NhbmNlbGxlZCE9PSEwKXtpZihhKGMudGFyZ2V0KS5oYXNDbGFzcyhcXFwidzJ1aS1saXN0LXJlbW92ZVxcXCIpKXtpZihhKGIuZWwpLmF0dHIoXFxcInJlYWRvbmx5XFxcIil8fGEoYi5lbCkuYXR0cihcXFwiZGlzYWJsZWRcXFwiKSlyZXR1cm47dmFyIGY9Yi50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJyZW1vdmVcXFwiLHRhcmdldDpiLmVsLG9yaWdpbmFsRXZlbnQ6Yy5vcmlnaW5hbEV2ZW50LGl0ZW06ZX0pO2lmKGYuaXNDYW5jZWxsZWQ9PT0hMClyZXR1cm47YSgpLncyb3ZlcmxheSgpLGQuc3BsaWNlKGEoYy50YXJnZXQpLmF0dHIoXFxcImluZGV4XFxcIiksMSksYShiLmVsKS50cmlnZ2VyKFxcXCJjaGFuZ2VcXFwiKSxhKGMudGFyZ2V0KS5wYXJlbnQoKS5mYWRlT3V0KFxcXCJmYXN0XFxcIiksc2V0VGltZW91dChmdW5jdGlvbigpe2IucmVmcmVzaCgpLGIudHJpZ2dlcihhLmV4dGVuZChmLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpfSwzMDApfWlmKFxcXCJmaWxlXFxcIj09Yi50eXBlJiYhYShjLnRhcmdldCkuaGFzQ2xhc3MoXFxcIncydWktbGlzdC1yZW1vdmVcXFwiKSl7dmFyIGc9XFxcIlxcXCI7L2ltYWdlL2kudGVzdChlLnR5cGUpJiYoZz0nPGRpdiBzdHlsZT1cXFwicGFkZGluZzogM3B4O1xcXCI+ICAgIDxpbWcgc3JjPVxcXCInKyhlLmNvbnRlbnQ/XFxcImRhdGE6XFxcIitlLnR5cGUrXFxcIjtiYXNlNjQsXFxcIitlLmNvbnRlbnQ6XFxcIlxcXCIpKydcXFwiIHN0eWxlPVxcXCJtYXgtd2lkdGg6IDMwMHB4O1xcXCIgICAgICAgICBvbmxvYWQ9XFxcInZhciB3ID0gJCh0aGlzKS53aWR0aCgpOyB2YXIgaCA9ICQodGhpcykuaGVpZ2h0KCk7ICAgICAgICAgICAgIGlmICh3IDwgMzAwICYgaCA8IDMwMCkgcmV0dXJuOyAgICAgICAgICAgICBpZiAodyA+PSBoICYmIHcgPiAzMDApICQodGhpcykud2lkdGgoMzAwKTsgICAgICAgICAgICBpZiAodyA8IGggJiYgaCA+IDMwMCkgJCh0aGlzKS5oZWlnaHQoMzAwKTtcXFwiICAgICAgICBvbmVycm9yPVxcXCJ0aGlzLnN0eWxlLmRpc3BsYXkgPSBcXFxcJ25vbmVcXFxcJ1xcXCIgICAgPjwvZGl2PicpO3ZhciBoPSdzdHlsZT1cXFwicGFkZGluZzogM3B4OyB0ZXh0LWFsaWduOiByaWdodDsgY29sb3I6ICM3Nzc7XFxcIicsaT0nc3R5bGU9XFxcInBhZGRpbmc6IDNweFxcXCInO2crPSc8ZGl2IHN0eWxlPVxcXCJwYWRkaW5nOiA4cHg7XFxcIj4gICAgPHRhYmxlIGNlbGxwYWRkaW5nPVxcXCIyXFxcIj4gICAgPHRyPjx0ZCAnK2grXFxcIj5cXFwiK3cydXRpbHMubGFuZyhcXFwiTmFtZVxcXCIpK1xcXCI6PC90ZD48dGQgXFxcIitpK1xcXCI+XFxcIitlLm5hbWUrXFxcIjwvdGQ+PC90cj4gICAgPHRyPjx0ZCBcXFwiK2grXFxcIj5cXFwiK3cydXRpbHMubGFuZyhcXFwiU2l6ZVxcXCIpK1xcXCI6PC90ZD48dGQgXFxcIitpK1xcXCI+XFxcIit3MnV0aWxzLnNpemUoZS5zaXplKStcXFwiPC90ZD48L3RyPiAgICA8dHI+PHRkIFxcXCIraCtcXFwiPlxcXCIrdzJ1dGlscy5sYW5nKFxcXCJUeXBlXFxcIikrXFxcIjo8L3RkPjx0ZCBcXFwiK2krJz4gICAgICAgIDxzcGFuIHN0eWxlPVxcXCJ3aWR0aDogMjAwcHg7IGRpc3BsYXk6IGJsb2NrLWlubGluZTsgb3ZlcmZsb3c6IGhpZGRlbjsgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7IHdoaXRlLXNwYWNlOiBub3dyYXA7XFxcIj4nK2UudHlwZStcXFwiPC9zcGFuPiAgICA8L3RkPjwvdHI+ICAgIDx0cj48dGQgXFxcIitoK1xcXCI+XFxcIit3MnV0aWxzLmxhbmcoXFxcIk1vZGlmaWVkXFxcIikrXFxcIjo8L3RkPjx0ZCBcXFwiK2krXFxcIj5cXFwiK3cydXRpbHMuZGF0ZShlLm1vZGlmaWVkKStcXFwiPC90ZD48L3RyPiAgICA8L3RhYmxlPjwvZGl2PlxcXCIsYShjLnRhcmdldCkudzJvdmVybGF5KGcpfWIudHJpZ2dlcihhLmV4dGVuZChmLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpfX19KS5vbihcXFwibW91c2VvdmVyXFxcIixmdW5jdGlvbihjKXt2YXIgZT1jLnRhcmdldDtpZihcXFwiTElcXFwiIT1lLnRhZ05hbWUmJihlPWUucGFyZW50Tm9kZSksIWEoZSkuaGFzQ2xhc3MoXFxcIm5vbW91c2VcXFwiKSl7aWYoXFxcIm91dFxcXCI9PWEoZSkuZGF0YShcXFwibW91c2VcXFwiKSl7dmFyIGY9ZFthKGUpLmF0dHIoXFxcImluZGV4XFxcIildLGc9Yi50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJtb3VzZU92ZXJcXFwiLHRhcmdldDpiLmVsLG9yaWdpbmFsRXZlbnQ6Yy5vcmlnaW5hbEV2ZW50LGl0ZW06Zn0pO2lmKGcuaXNDYW5jZWxsZWQ9PT0hMClyZXR1cm47Yi50cmlnZ2VyKGEuZXh0ZW5kKGcse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSl9YShlKS5kYXRhKFxcXCJtb3VzZVxcXCIsXFxcIm92ZXJcXFwiKX19KS5vbihcXFwibW91c2VvdXRcXFwiLGZ1bmN0aW9uKGMpe3ZhciBlPWMudGFyZ2V0O1xcXCJMSVxcXCIhPWUudGFnTmFtZSYmKGU9ZS5wYXJlbnROb2RlKSxhKGUpLmhhc0NsYXNzKFxcXCJub21vdXNlXFxcIil8fChhKGUpLmRhdGEoXFxcIm1vdXNlXFxcIixcXFwibGVhdmluZ1xcXCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihcXFwibGVhdmluZ1xcXCI9PWEoZSkuZGF0YShcXFwibW91c2VcXFwiKSl7YShlKS5kYXRhKFxcXCJtb3VzZVxcXCIsXFxcIm91dFxcXCIpO3ZhciBmPWRbYShlKS5hdHRyKFxcXCJpbmRleFxcXCIpXSxnPWIudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwiZlxcXCIsdGFyZ2V0OmIuZWwsb3JpZ2luYWxFdmVudDpjLm9yaWdpbmFsRXZlbnQsaXRlbTpmfSk7aWYoZy5pc0NhbmNlbGxlZD09PSEwKXJldHVybjtiLnRyaWdnZXIoYS5leHRlbmQoZyx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX19LDApKX0pLGEodGhpcy5lbCkuaGVpZ2h0KFxcXCJhdXRvXFxcIik7dmFyIG09YShqKS5maW5kKFxcXCI+IGRpdlxcXCIpLmhlaWdodCgpKzIqdzJ1dGlscy5nZXRTaXplKGosXFxcIitoZWlnaHRcXFwiKTsyNj5tJiYobT0yNiksbT5jLm1heEhlaWdodCYmKG09Yy5tYXhIZWlnaHQpLGoubGVuZ3RoPjAmJihqWzBdLnNjcm9sbFRvcD0xZTMpO3ZhciBuPXcydXRpbHMuZ2V0U2l6ZShhKHRoaXMuZWwpLFxcXCJoZWlnaHRcXFwiKS0yO24+bSYmKG09biksYShqKS5jc3Moe2hlaWdodDptK1xcXCJweFxcXCIsb3ZlcmZsb3c6bT09Yy5tYXhIZWlnaHQ/XFxcImF1dG9cXFwiOlxcXCJoaWRkZW5cXFwifSksbTxjLm1heEhlaWdodCYmYShqKS5wcm9wKFxcXCJzY3JvbGxUb3BcXFwiLDApLGEodGhpcy5lbCkuY3NzKHtoZWlnaHQ6bSsyK1xcXCJweFxcXCJ9KX1yZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKS1lfSxyZXNldDpmdW5jdGlvbigpe3ZhciBhPXRoaXMudHlwZTt0aGlzLmNsZWFyKCksdGhpcy50eXBlPWEsdGhpcy5pbml0KCl9LGNsZWFuOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMub3B0aW9ucztyZXR1cm4gYj1TdHJpbmcoYikudHJpbSgpLC0xIT1bXFxcImludFxcXCIsXFxcImZsb2F0XFxcIixcXFwibW9uZXlcXFwiLFxcXCJjdXJyZW5jeVxcXCIsXFxcInBlcmNlbnRcXFwiXS5pbmRleE9mKHRoaXMudHlwZSkmJihcXFwic3RyaW5nXFxcIj09dHlwZW9mIGImJihiPWIucmVwbGFjZShjLmRlY2ltYWxTeW1ib2wsXFxcIi5cXFwiKSksYy5hdXRvRm9ybWF0JiYtMSE9W1xcXCJtb25leVxcXCIsXFxcImN1cnJlbmN5XFxcIl0uaW5kZXhPZih0aGlzLnR5cGUpJiYoYj1TdHJpbmcoYikucmVwbGFjZShjLm1vbmV5UkUsXFxcIlxcXCIpKSxjLmF1dG9Gb3JtYXQmJlxcXCJwZXJjZW50XFxcIj09dGhpcy50eXBlJiYoYj1TdHJpbmcoYikucmVwbGFjZShjLnBlcmNlbnRSRSxcXFwiXFxcIikpLGMuYXV0b0Zvcm1hdCYmLTEhPVtcXFwiaW50XFxcIixcXFwiZmxvYXRcXFwiXS5pbmRleE9mKHRoaXMudHlwZSkmJihiPVN0cmluZyhiKS5yZXBsYWNlKGMubnVtYmVyUkUsXFxcIlxcXCIpKSxwYXJzZUZsb2F0KGIpPT1iJiYobnVsbCE9PWMubWluJiZiPGMubWluJiYoYj1jLm1pbixhKHRoaXMuZWwpLnZhbChjLm1pbikpLG51bGwhPT1jLm1heCYmYj5jLm1heCYmKGI9Yy5tYXgsYSh0aGlzLmVsKS52YWwoYy5tYXgpKSksYj1cXFwiXFxcIiE9PWImJncydXRpbHMuaXNGbG9hdChiKT9OdW1iZXIoYik6XFxcIlxcXCIpLGJ9LGZvcm1hdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnM7aWYoYi5hdXRvRm9ybWF0JiZcXFwiXFxcIiE9YSlzd2l0Y2godGhpcy50eXBlKXtjYXNlXFxcIm1vbmV5XFxcIjpjYXNlXFxcImN1cnJlbmN5XFxcIjphPXcydXRpbHMuZm9ybWF0TnVtYmVyKE51bWJlcihhKS50b0ZpeGVkKGIuY3VycmVuY3lQcmVjaXNpb24pLGIuZ3JvdXBTeW1ib2wpLFxcXCJcXFwiIT1hJiYoYT1iLmN1cnJlbmN5UHJlZml4K2ErYi5jdXJyZW5jeVN1ZmZpeCk7YnJlYWs7Y2FzZVxcXCJwZXJjZW50XFxcIjphPXcydXRpbHMuZm9ybWF0TnVtYmVyKGIucHJlY2lzaW9uP051bWJlcihhKS50b0ZpeGVkKGIucHJlY2lzaW9uKTphLGIuZ3JvdXBTeW1ib2wpLFxcXCJcXFwiIT1hJiYoYSs9XFxcIiVcXFwiKTticmVhaztjYXNlXFxcImZsb2F0XFxcIjphPXcydXRpbHMuZm9ybWF0TnVtYmVyKGIucHJlY2lzaW9uP051bWJlcihhKS50b0ZpeGVkKGIucHJlY2lzaW9uKTphLGIuZ3JvdXBTeW1ib2wpO2JyZWFrO2Nhc2VcXFwiaW50XFxcIjphPXcydXRpbHMuZm9ybWF0TnVtYmVyKGEsYi5ncm91cFN5bWJvbCl9cmV0dXJuIGF9LGNoYW5nZTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLGQ9Yy5vcHRpb25zO2lmKC0xIT1bXFxcImludFxcXCIsXFxcImZsb2F0XFxcIixcXFwibW9uZXlcXFwiLFxcXCJjdXJyZW5jeVxcXCIsXFxcInBlcmNlbnRcXFwiXS5pbmRleE9mKHRoaXMudHlwZSkpe3ZhciBlPWEodGhpcy5lbCkudmFsKCksZj10aGlzLmZvcm1hdCh0aGlzLmNsZWFuKGEodGhpcy5lbCkudmFsKCkpKTtpZihcXFwiXFxcIiE9ZSYmZSE9ZilyZXR1cm4gYSh0aGlzLmVsKS52YWwoZikuY2hhbmdlKCksYi5zdG9wUHJvcGFnYXRpb24oKSxiLnByZXZlbnREZWZhdWx0KCksITF9aWYoXFxcImNvbG9yXFxcIj09dGhpcy50eXBlKXt2YXIgZz1cXFwiI1xcXCIrYSh0aGlzLmVsKS52YWwoKTs2IT1hKHRoaXMuZWwpLnZhbCgpLmxlbmd0aCYmMyE9YSh0aGlzLmVsKS52YWwoKS5sZW5ndGgmJihnPVxcXCJcXFwiKSxhKHRoaXMuZWwpLm5leHQoKS5maW5kKFxcXCJkaXZcXFwiKS5jc3MoXFxcImJhY2tncm91bmQtY29sb3JcXFwiLGcpLGEoYy5lbCkuaXMoXFxcIjpmb2N1c1xcXCIpJiZ0aGlzLnVwZGF0ZU92ZXJsYXkoKX1pZigtMSE9W1xcXCJsaXN0XFxcIixcXFwiZW51bVxcXCIsXFxcImZpbGVcXFwiXS5pbmRleE9mKHRoaXMudHlwZSkmJihjLnJlZnJlc2goKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5yZWZyZXNoKCl9LDUpKSwtMSE9W1xcXCJkYXRlXFxcIixcXFwidGltZVxcXCJdLmluZGV4T2YodGhpcy50eXBlKSl7dmFyIGg9cGFyc2VJbnQoYy5lbC52YWx1ZSk7dzJ1dGlscy5pc0ludChjLmVsLnZhbHVlKSYmaD4zZTMmJihcXFwidGltZVxcXCI9PXRoaXMudHlwZSYmYShjLmVsKS52YWwodzJ1dGlscy5mb3JtYXRUaW1lKG5ldyBEYXRlKGgpLGQuZm9ybWF0KSkuY2hhbmdlKCksXFxcImRhdGVcXFwiPT10aGlzLnR5cGUmJmEoYy5lbCkudmFsKHcydXRpbHMuZm9ybWF0RGF0ZShuZXcgRGF0ZShoKSxkLmZvcm1hdCkpLmNoYW5nZSgpKX19LGNsaWNrOmZ1bmN0aW9uKGIpe2Iuc3RvcFByb3BhZ2F0aW9uKCksLTEhPVtcXFwibGlzdFxcXCIsXFxcImNvbWJvXFxcIixcXFwiZW51bVxcXCJdLmluZGV4T2YodGhpcy50eXBlKSYmKGEodGhpcy5lbCkuaXMoXFxcIjpmb2N1c1xcXCIpfHx0aGlzLmZvY3VzKGIpKSwtMSE9W1xcXCJkYXRlXFxcIixcXFwidGltZVxcXCIsXFxcImNvbG9yXFxcIl0uaW5kZXhPZih0aGlzLnR5cGUpJiZ0aGlzLnVwZGF0ZU92ZXJsYXkoKX0sZm9jdXM6ZnVuY3Rpb24oKXt7dmFyIGI9dGhpczt0aGlzLm9wdGlvbnN9aWYoLTEhPT1bXFxcImNvbG9yXFxcIixcXFwiZGF0ZVxcXCIsXFxcInRpbWVcXFwiXS5pbmRleE9mKGIudHlwZSkpe2lmKGEoYi5lbCkuYXR0cihcXFwicmVhZG9ubHlcXFwiKXx8YShiLmVsKS5hdHRyKFxcXCJkaXNhYmxlZFxcXCIpKXJldHVybjthKFxcXCIjdzJ1aS1vdmVybGF5XFxcIikubGVuZ3RoPjAmJmEoXFxcIiN3MnVpLW92ZXJsYXlcXFwiKVswXS5oaWRlKCksc2V0VGltZW91dChmdW5jdGlvbigpe2IudXBkYXRlT3ZlcmxheSgpfSwxNTApfWlmKC0xIT1bXFxcImxpc3RcXFwiLFxcXCJjb21ib1xcXCIsXFxcImVudW1cXFwiXS5pbmRleE9mKGIudHlwZSkpe2lmKGEoYi5lbCkuYXR0cihcXFwicmVhZG9ubHlcXFwiKXx8YShiLmVsKS5hdHRyKFxcXCJkaXNhYmxlZFxcXCIpKXJldHVybjthKFxcXCIjdzJ1aS1vdmVybGF5XFxcIikubGVuZ3RoPjAmJmEoXFxcIiN3MnVpLW92ZXJsYXlcXFwiKVswXS5oaWRlKCksc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVyblxcXCJsaXN0XFxcIj09Yi50eXBlJiZhKGIuZWwpLmlzKFxcXCI6Zm9jdXNcXFwiKT92b2lkIGEoYi5oZWxwZXJzLmZvY3VzKS5maW5kKFxcXCJpbnB1dFxcXCIpLmZvY3VzKCk6KGIuc2VhcmNoKCksdm9pZCBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi51cGRhdGVPdmVybGF5KCl9LDEpKX0sMSl9XFxcImZpbGVcXFwiPT1iLnR5cGUmJmEoYi5oZWxwZXJzLm11bHRpKS5jc3Moe291dGxpbmU6XFxcImF1dG8gNXB4ICM3REI0RjNcXFwiLFxcXCJvdXRsaW5lLW9mZnNldFxcXCI6XFxcIi0ycHhcXFwifSl9LGJsdXI6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9Yi5vcHRpb25zLGQ9YShiLmVsKS52YWwoKS50cmltKCk7LTEhPVtcXFwiY29sb3JcXFwiLFxcXCJkYXRlXFxcIixcXFwidGltZVxcXCIsXFxcImxpc3RcXFwiLFxcXCJjb21ib1xcXCIsXFxcImVudW1cXFwiXS5pbmRleE9mKGIudHlwZSkmJmEoXFxcIiN3MnVpLW92ZXJsYXlcXFwiKS5sZW5ndGg+MCYmYShcXFwiI3cydWktb3ZlcmxheVxcXCIpWzBdLmhpZGUoKSwtMSE9W1xcXCJpbnRcXFwiLFxcXCJmbG9hdFxcXCIsXFxcIm1vbmV5XFxcIixcXFwiY3VycmVuY3lcXFwiLFxcXCJwZXJjZW50XFxcIl0uaW5kZXhPZihiLnR5cGUpJiYoXFxcIlxcXCI9PT1kfHxiLmNoZWNrVHlwZShkKXx8KGEoYi5lbCkudmFsKFxcXCJcXFwiKS5jaGFuZ2UoKSxjLnNpbGVudD09PSExJiYoYShiLmVsKS53MnRhZyhcXFwiTm90IGEgdmFsaWQgbnVtYmVyXFxcIiksc2V0VGltZW91dChmdW5jdGlvbigpe2EoYi5lbCkudzJ0YWcoXFxcIlxcXCIpfSwzZTMpKSkpLC0xIT1bXFxcImRhdGVcXFwiLFxcXCJ0aW1lXFxcIl0uaW5kZXhPZihiLnR5cGUpJiYoXFxcIlxcXCI9PT1kfHxiLmluUmFuZ2UoYi5lbC52YWx1ZSk/KFxcXCJkYXRlXFxcIiE9Yi50eXBlfHxcXFwiXFxcIj09PWR8fHcydXRpbHMuaXNEYXRlKGIuZWwudmFsdWUsYy5mb3JtYXQpfHwoYShiLmVsKS52YWwoXFxcIlxcXCIpLnJlbW92ZURhdGEoXFxcInNlbGVjdGVkXFxcIikuY2hhbmdlKCksYy5zaWxlbnQ9PT0hMSYmKGEoYi5lbCkudzJ0YWcoXFxcIk5vdCBhIHZhbGlkIGRhdGVcXFwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YShiLmVsKS53MnRhZyhcXFwiXFxcIil9LDNlMykpKSxcXFwidGltZVxcXCIhPWIudHlwZXx8XFxcIlxcXCI9PT1kfHx3MnV0aWxzLmlzVGltZShiLmVsLnZhbHVlKXx8KGEoYi5lbCkudmFsKFxcXCJcXFwiKS5yZW1vdmVEYXRhKFxcXCJzZWxlY3RlZFxcXCIpLmNoYW5nZSgpLGMuc2lsZW50PT09ITEmJihhKGIuZWwpLncydGFnKFxcXCJOb3QgYSB2YWxpZCB0aW1lXFxcIiksc2V0VGltZW91dChmdW5jdGlvbigpe2EoYi5lbCkudzJ0YWcoXFxcIlxcXCIpfSwzZTMpKSkpOihhKGIuZWwpLnZhbChcXFwiXFxcIikucmVtb3ZlRGF0YShcXFwic2VsZWN0ZWRcXFwiKS5jaGFuZ2UoKSxjLnNpbGVudD09PSExJiYoYShiLmVsKS53MnRhZyhcXFwiTm90IGluIHJhbmdlXFxcIiksc2V0VGltZW91dChmdW5jdGlvbigpe2EoYi5lbCkudzJ0YWcoXFxcIlxcXCIpfSwzZTMpKSkpLFxcXCJlbnVtXFxcIj09Yi50eXBlJiZhKGIuaGVscGVycy5tdWx0aSkuZmluZChcXFwiaW5wdXRcXFwiKS52YWwoXFxcIlxcXCIpLndpZHRoKDIwKSxcXFwiZmlsZVxcXCI9PWIudHlwZSYmYShiLmhlbHBlcnMubXVsdGkpLmNzcyh7b3V0bGluZTpcXFwibm9uZVxcXCJ9KX0sa2V5UHJlc3M6ZnVuY3Rpb24oYSl7e3ZhciBiPXRoaXM7Yi5vcHRpb25zfWlmKC0xIT1bXFxcImludFxcXCIsXFxcImZsb2F0XFxcIixcXFwibW9uZXlcXFwiLFxcXCJjdXJyZW5jeVxcXCIsXFxcInBlcmNlbnRcXFwiLFxcXCJoZXhcXFwiLFxcXCJjb2xvclxcXCIsXFxcImFscGhhbnVtZXJpY1xcXCJdLmluZGV4T2YoYi50eXBlKSl7aWYoYS5tZXRhS2V5fHxhLmN0cmxLZXl8fGEuYWx0S2V5fHxhLmNoYXJDb2RlIT1hLmtleUNvZGUmJmEua2V5Q29kZT4wKXJldHVybjt2YXIgYz1TdHJpbmcuZnJvbUNoYXJDb2RlKGEuY2hhckNvZGUpO2lmKCFiLmNoZWNrVHlwZShjLCEwKSYmMTMhPWEua2V5Q29kZSlyZXR1cm4gYS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uP2Euc3RvcFByb3BhZ2F0aW9uKCk6YS5jYW5jZWxCdWJibGU9ITAsITF9LTEhPVtcXFwiZGF0ZVxcXCIsXFxcInRpbWVcXFwiXS5pbmRleE9mKGIudHlwZSkmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnVwZGF0ZU92ZXJsYXkoKX0sMSl9LGtleURvd246ZnVuY3Rpb24oYixjKXt2YXIgZD10aGlzLGU9ZC5vcHRpb25zLGY9Yi5rZXlDb2RlfHxjJiZjLmtleUNvZGU7aWYoLTEhPVtcXFwiaW50XFxcIixcXFwiZmxvYXRcXFwiLFxcXCJtb25leVxcXCIsXFxcImN1cnJlbmN5XFxcIixcXFwicGVyY2VudFxcXCJdLmluZGV4T2YoZC50eXBlKSl7aWYoIWUua2V5Ym9hcmR8fGEoZC5lbCkuYXR0cihcXFwicmVhZG9ubHlcXFwiKSlyZXR1cm47dmFyIGc9ITEsaD1wYXJzZUZsb2F0KGEoZC5lbCkudmFsKCkucmVwbGFjZShlLm1vbmV5UkUsXFxcIlxcXCIpKXx8MCxpPWUuc3RlcDtzd2l0Y2goKGIuY3RybEtleXx8Yi5tZXRhS2V5KSYmKGk9MTApLGYpe2Nhc2UgMzg6aWYoYi5zaGlmdEtleSlicmVhazthKGQuZWwpLnZhbChoK2k8PWUubWF4fHxudWxsPT09ZS5tYXg/TnVtYmVyKChoK2kpLnRvRml4ZWQoMTIpKTplLm1heCkuY2hhbmdlKCksZz0hMDticmVhaztjYXNlIDQwOmlmKGIuc2hpZnRLZXkpYnJlYWs7YShkLmVsKS52YWwoaC1pPj1lLm1pbnx8bnVsbD09PWUubWluP051bWJlcigoaC1pKS50b0ZpeGVkKDEyKSk6ZS5taW4pLmNoYW5nZSgpLGc9ITB9ZyYmKGIucHJldmVudERlZmF1bHQoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5lbC5zZXRTZWxlY3Rpb25SYW5nZShkLmVsLnZhbHVlLmxlbmd0aCxkLmVsLnZhbHVlLmxlbmd0aCl9LDApKX1pZihcXFwiZGF0ZVxcXCI9PWQudHlwZSl7aWYoIWUua2V5Ym9hcmR8fGEoZC5lbCkuYXR0cihcXFwicmVhZG9ubHlcXFwiKSlyZXR1cm47dmFyIGc9ITEsaj04NjRlNSxpPTE7KGIuY3RybEtleXx8Yi5tZXRhS2V5KSYmKGk9MTApO3ZhciBrPXcydXRpbHMuaXNEYXRlKGEoZC5lbCkudmFsKCksZS5mb3JtYXQsITApO3N3aXRjaChrfHwoaz1uZXcgRGF0ZSxqPTApLGYpe2Nhc2UgMzg6aWYoYi5zaGlmdEtleSlicmVhazt2YXIgbD13MnV0aWxzLmZvcm1hdERhdGUoay5nZXRUaW1lKCkraixlLmZvcm1hdCk7MTA9PWkmJihsPXcydXRpbHMuZm9ybWF0RGF0ZShuZXcgRGF0ZShrLmdldEZ1bGxZZWFyKCksay5nZXRNb250aCgpKzEsay5nZXREYXRlKCkpLGUuZm9ybWF0KSksYShkLmVsKS52YWwobCkuY2hhbmdlKCksZz0hMDticmVhaztjYXNlIDQwOmlmKGIuc2hpZnRLZXkpYnJlYWs7dmFyIGw9dzJ1dGlscy5mb3JtYXREYXRlKGsuZ2V0VGltZSgpLWosZS5mb3JtYXQpOzEwPT1pJiYobD13MnV0aWxzLmZvcm1hdERhdGUobmV3IERhdGUoay5nZXRGdWxsWWVhcigpLGsuZ2V0TW9udGgoKS0xLGsuZ2V0RGF0ZSgpKSxlLmZvcm1hdCkpLGEoZC5lbCkudmFsKGwpLmNoYW5nZSgpLGc9ITB9ZyYmKGIucHJldmVudERlZmF1bHQoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5lbC5zZXRTZWxlY3Rpb25SYW5nZShkLmVsLnZhbHVlLmxlbmd0aCxkLmVsLnZhbHVlLmxlbmd0aCksZC51cGRhdGVPdmVybGF5KCl9LDApKX1pZihcXFwidGltZVxcXCI9PWQudHlwZSl7aWYoIWUua2V5Ym9hcmR8fGEoZC5lbCkuYXR0cihcXFwicmVhZG9ubHlcXFwiKSlyZXR1cm47dmFyIGc9ITEsaT1iLmN0cmxLZXl8fGIubWV0YUtleT82MDoxLGg9YShkLmVsKS52YWwoKSxtPWQudG9NaW4oaCl8fGQudG9NaW4oKG5ldyBEYXRlKS5nZXRIb3VycygpK1xcXCI6XFxcIisoKG5ldyBEYXRlKS5nZXRNaW51dGVzKCktMSkpO3N3aXRjaChmKXtjYXNlIDM4OmlmKGIuc2hpZnRLZXkpYnJlYWs7bSs9aSxnPSEwO2JyZWFrO2Nhc2UgNDA6aWYoYi5zaGlmdEtleSlicmVhazttLT1pLGc9ITB9ZyYmKGEoZC5lbCkudmFsKGQuZnJvbU1pbihtKSkuY2hhbmdlKCksYi5wcmV2ZW50RGVmYXVsdCgpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLmVsLnNldFNlbGVjdGlvblJhbmdlKGQuZWwudmFsdWUubGVuZ3RoLGQuZWwudmFsdWUubGVuZ3RoKX0sMCkpfWlmKFxcXCJjb2xvclxcXCI9PWQudHlwZSl7aWYoYShkLmVsKS5hdHRyKFxcXCJyZWFkb25seVxcXCIpKXJldHVybjtpZig4Nj09Yi5rZXlDb2RlJiYoYi5jdHJsS2V5fHxiLm1ldGFLZXkpJiYoYShkLmVsKS5wcm9wKFxcXCJtYXhsZW5ndGhcXFwiLDcpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYj1hKGQpLnZhbCgpO1xcXCIjXFxcIj09Yi5zdWJzdHIoMCwxKSYmKGI9Yi5zdWJzdHIoMSkpLHcydXRpbHMuaXNIZXgoYil8fChiPVxcXCJcXFwiKSxhKGQpLnZhbChiKS5wcm9wKFxcXCJtYXhsZW5ndGhcXFwiLDYpLmNoYW5nZSgpfSwyMCkpLChiLmN0cmxLZXl8fGIubWV0YUtleSkmJiFiLnNoaWZ0S2V5KXtpZihcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGQudG1wLmNpbmQxKWQudG1wLmNpbmQxPS0xLGQudG1wLmNpbmQyPS0xO2Vsc2V7c3dpdGNoKGYpe2Nhc2UgMzg6ZC50bXAuY2luZDEtLTticmVhaztjYXNlIDQwOmQudG1wLmNpbmQxKys7YnJlYWs7Y2FzZSAzOTpkLnRtcC5jaW5kMisrO2JyZWFrO2Nhc2UgMzc6ZC50bXAuY2luZDItLX1kLnRtcC5jaW5kMTwwJiYoZC50bXAuY2luZDE9MCksZC50bXAuY2luZDE+dGhpcy5wYWxsZXRlLmxlbmd0aC0xJiYoZC50bXAuY2luZDE9dGhpcy5wYWxsZXRlLmxlbmd0aC0xKSxkLnRtcC5jaW5kMjwwJiYoZC50bXAuY2luZDI9MCksZC50bXAuY2luZDI+dGhpcy5wYWxsZXRlWzBdLmxlbmd0aC0xJiYoZC50bXAuY2luZDI9dGhpcy5wYWxsZXRlWzBdLmxlbmd0aC0xKX0tMSE9WzM3LDM4LDM5LDQwXS5pbmRleE9mKGYpJiYoYShkLmVsKS52YWwodGhpcy5wYWxsZXRlW2QudG1wLmNpbmQxXVtkLnRtcC5jaW5kMl0pLmNoYW5nZSgpLGIucHJldmVudERlZmF1bHQoKSl9fWlmKC0xIT1bXFxcImxpc3RcXFwiLFxcXCJjb21ib1xcXCIsXFxcImVudW1cXFwiXS5pbmRleE9mKGQudHlwZSkpe2lmKGEoZC5lbCkuYXR0cihcXFwicmVhZG9ubHlcXFwiKSlyZXR1cm47dmFyIGc9ITEsbj1hKGQuZWwpLmRhdGEoXFxcInNlbGVjdGVkXFxcIiksbz1hKGQuaGVscGVycy5mb2N1cykuZmluZChcXFwiaW5wdXRcXFwiKTtzd2l0Y2goXFxcImxpc3RcXFwiPT1kLnR5cGUmJi0xPT1bMzcsMzgsMzksNDBdLmluZGV4T2YoZikmJmQucmVmcmVzaCgpLGYpe2Nhc2UgMjc6XFxcImxpc3RcXFwiPT1kLnR5cGUmJihcXFwiXFxcIiE9YShvKS52YWwoKSYmYShvKS52YWwoXFxcIlxcXCIpLGIuc3RvcFByb3BhZ2F0aW9uKCkpO2JyZWFrO2Nhc2UgMzc6Y2FzZSAzOTpicmVhaztjYXNlIDEzOmlmKDA9PWEoXFxcIiN3MnVpLW92ZXJsYXlcXFwiKS5sZW5ndGgpYnJlYWs7dmFyIHA9ZS5pdGVtc1tlLmluZGV4XSxxPWEoZC5oZWxwZXJzLm11bHRpKS5maW5kKFxcXCJpbnB1dFxcXCIpO2lmKFxcXCJlbnVtXFxcIj09ZC50eXBlKWlmKG51bGwhPXApe3ZhciByPWQudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdHlwZTpcXFwiYWRkXFxcIix0YXJnZXQ6ZC5lbCxvcmlnaW5hbEV2ZW50OmIub3JpZ2luYWxFdmVudCxpdGVtOnB9KTtpZihyLmlzQ2FuY2VsbGVkPT09ITApcmV0dXJuO3A9ci5pdGVtLG4ubGVuZ3RoPj1lLm1heCYmZS5tYXg+MCYmbi5wb3AoKSxkZWxldGUgcC5oaWRkZW4sZGVsZXRlIGQudG1wLmZvcmNlX29wZW4sbi5wdXNoKHApLGEoZC5lbCkuY2hhbmdlKCkscS52YWwoXFxcIlxcXCIpLndpZHRoKDIwKSxkLnJlZnJlc2goKSxkLnRyaWdnZXIoYS5leHRlbmQocix7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX1lbHNle3A9e2lkOnEudmFsKCksdGV4dDpxLnZhbCgpfTt2YXIgcj1kLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcIm5ld1xcXCIsdGFyZ2V0OmQuZWwsb3JpZ2luYWxFdmVudDpiLm9yaWdpbmFsRXZlbnQsaXRlbTpwfSk7aWYoci5pc0NhbmNlbGxlZD09PSEwKXJldHVybjtwPXIuaXRlbSxcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgZC5vbk5ldyYmKG4ubGVuZ3RoPj1lLm1heCYmZS5tYXg+MCYmbi5wb3AoKSxkZWxldGUgZC50bXAuZm9yY2Vfb3BlbixuLnB1c2gocCksYShkLmVsKS5jaGFuZ2UoKSxxLnZhbChcXFwiXFxcIikud2lkdGgoMjApLGQucmVmcmVzaCgpKSxkLnRyaWdnZXIoYS5leHRlbmQocix7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX1lbHNlIHAmJmEoZC5lbCkuZGF0YShcXFwic2VsZWN0ZWRcXFwiLHApLnZhbChwLnRleHQpLmNoYW5nZSgpLFxcXCJcXFwiPT1hKGQuZWwpLnZhbCgpJiZhKGQuZWwpLmRhdGEoXFxcInNlbGVjdGVkXFxcIikmJmEoZC5lbCkucmVtb3ZlRGF0YShcXFwic2VsZWN0ZWRcXFwiKS52YWwoXFxcIlxcXCIpLmNoYW5nZSgpLFxcXCJsaXN0XFxcIj09ZC50eXBlJiYoby52YWwoXFxcIlxcXCIpLGQucmVmcmVzaCgpKSxkLnRtcC5mb3JjZV9oaWRlPSEwO2JyZWFrO2Nhc2UgODpjYXNlIDQ2OmlmKFxcXCJlbnVtXFxcIj09ZC50eXBlJiY4PT1mJiZcXFwiXFxcIj09YShkLmhlbHBlcnMubXVsdGkpLmZpbmQoXFxcImlucHV0XFxcIikudmFsKCkmJm4ubGVuZ3RoPjApe3ZhciBwPW5bbi5sZW5ndGgtMV0scj1kLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcInJlbW92ZVxcXCIsdGFyZ2V0OmQuZWwsb3JpZ2luYWxFdmVudDpiLm9yaWdpbmFsRXZlbnQsaXRlbTpwfSk7aWYoci5pc0NhbmNlbGxlZD09PSEwKXJldHVybjtuLnBvcCgpLGEoZC5lbCkudHJpZ2dlcihcXFwiY2hhbmdlXFxcIiksZC5yZWZyZXNoKCksZC50cmlnZ2VyKGEuZXh0ZW5kKHIse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSl9XFxcImxpc3RcXFwiPT1kLnR5cGUmJlxcXCJcXFwiPT1hKG8pLnZhbCgpJiYoYShkLmVsKS5kYXRhKFxcXCJzZWxlY3RlZFxcXCIse30pLmNoYW5nZSgpLGQucmVmcmVzaCgpKTticmVhaztjYXNlIDM4OmZvcihlLmluZGV4PXcydXRpbHMuaXNJbnQoZS5pbmRleCk/cGFyc2VJbnQoZS5pbmRleCk6MCxlLmluZGV4LS07ZS5pbmRleD4wJiZlLml0ZW1zW2UuaW5kZXhdLmhpZGRlbjspZS5pbmRleC0tO2lmKDA9PWUuaW5kZXgmJmUuaXRlbXNbZS5pbmRleF0uaGlkZGVuKWZvcig7ZS5pdGVtc1tlLmluZGV4XSYmZS5pdGVtc1tlLmluZGV4XS5oaWRkZW47KWUuaW5kZXgrKztnPSEwO2JyZWFrO2Nhc2UgNDA6Zm9yKGUuaW5kZXg9dzJ1dGlscy5pc0ludChlLmluZGV4KT9wYXJzZUludChlLmluZGV4KTotMSxlLmluZGV4Kys7ZS5pbmRleDxlLml0ZW1zLmxlbmd0aC0xJiZlLml0ZW1zW2UuaW5kZXhdLmhpZGRlbjspZS5pbmRleCsrO2lmKGUuaW5kZXg9PWUuaXRlbXMubGVuZ3RoLTEmJmUuaXRlbXNbZS5pbmRleF0uaGlkZGVuKWZvcig7ZS5pdGVtc1tlLmluZGV4XSYmZS5pdGVtc1tlLmluZGV4XS5oaWRkZW47KWUuaW5kZXgtLTt2YXIgcz1kLmVsOy0xIT1bXFxcImVudW1cXFwiXS5pbmRleE9mKGQudHlwZSkmJihzPWQuaGVscGVycy5tdWx0aS5maW5kKFxcXCJpbnB1dFxcXCIpKSxcXFwiXFxcIj09YShzKS52YWwoKSYmMD09YShcXFwiI3cydWktb3ZlcmxheVxcXCIpLmxlbmd0aD9kLnRtcC5mb3JjZV9vcGVuPSEwOmc9ITB9aWYoZylyZXR1cm4gZS5pbmRleDwwJiYoZS5pbmRleD0wKSxlLmluZGV4Pj1lLml0ZW1zLmxlbmd0aCYmKGUuaW5kZXg9ZS5pdGVtcy5sZW5ndGgtMSksZC51cGRhdGVPdmVybGF5KCksYi5wcmV2ZW50RGVmYXVsdCgpLHZvaWQgc2V0VGltZW91dChmdW5jdGlvbigpe2lmKFxcXCJlbnVtXFxcIj09ZC50eXBlKXt2YXIgYT1kLmhlbHBlcnMubXVsdGkuZmluZChcXFwiaW5wdXRcXFwiKS5nZXQoMCk7YS5zZXRTZWxlY3Rpb25SYW5nZShhLnZhbHVlLmxlbmd0aCxhLnZhbHVlLmxlbmd0aCl9ZWxzZSBpZihcXFwibGlzdFxcXCI9PWQudHlwZSl7dmFyIGE9ZC5oZWxwZXJzLmZvY3VzLmZpbmQoXFxcImlucHV0XFxcIikuZ2V0KDApO2Euc2V0U2VsZWN0aW9uUmFuZ2UoYS52YWx1ZS5sZW5ndGgsYS52YWx1ZS5sZW5ndGgpfWVsc2UgZC5lbC5zZXRTZWxlY3Rpb25SYW5nZShkLmVsLnZhbHVlLmxlbmd0aCxkLmVsLnZhbHVlLmxlbmd0aCl9LDApO2lmKFxcXCJlbnVtXFxcIj09ZC50eXBlKXt2YXIgcz1kLmhlbHBlcnMubXVsdGkuZmluZChcXFwiaW5wdXRcXFwiKSx0PXMudmFsKCk7cy53aWR0aCg4Kih0Lmxlbmd0aCsyKStcXFwicHhcXFwiKX19fSxrZXlVcDpmdW5jdGlvbihiKXtpZihcXFwiY29sb3JcXFwiPT10aGlzLnR5cGUmJjg2PT1iLmtleUNvZGUmJihiLmN0cmxLZXl8fGIubWV0YUtleSkmJmEodGhpcykucHJvcChcXFwibWF4bGVuZ3RoXFxcIiw2KSwtMSE9W1xcXCJsaXN0XFxcIixcXFwiY29tYm9cXFwiLFxcXCJlbnVtXFxcIl0uaW5kZXhPZih0aGlzLnR5cGUpJiYtMT09WzE2LDE3LDE4LDIwLDM3LDM5LDkxXS5pbmRleE9mKGIua2V5Q29kZSkpe3RoaXMudG1wLmZvcmNlX2hpZGV8fHRoaXMucmVxdWVzdCgpO3ZhciBjPWEodGhpcy5oZWxwZXJzLmZvY3VzKS5maW5kKFxcXCJpbnB1dFxcXCIpOzE9PWMudmFsKCkubGVuZ3RoJiZ0aGlzLnJlZnJlc2goKSx0aGlzLnNlYXJjaCgpfX0sY2xlYXJDYWNoZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3B0aW9uczthLml0ZW1zPVtdLHRoaXMudG1wLnhocl9sb2FkaW5nPSExLHRoaXMudG1wLnhocl9zZWFyY2g9XFxcIlxcXCIsdGhpcy50bXAueGhyX3RvdGFsPS0xLHRoaXMuc2VhcmNoKCl9LHJlcXVlc3Q6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxkPXRoaXMub3B0aW9ucyxlPWEoYy5lbCkudmFsKCl8fFxcXCJcXFwiO2lmKGQudXJsKXtpZihcXFwiZW51bVxcXCI9PWMudHlwZSl7dmFyIGY9YShjLmhlbHBlcnMubXVsdGkpLmZpbmQoXFxcImlucHV0XFxcIik7ZT0wPT1mLmxlbmd0aD9cXFwiXFxcIjpmLnZhbCgpfWlmKFxcXCJsaXN0XFxcIj09Yy50eXBlKXt2YXIgZj1hKGMuaGVscGVycy5mb2N1cykuZmluZChcXFwiaW5wdXRcXFwiKTtlPTA9PWYubGVuZ3RoP1xcXCJcXFwiOmYudmFsKCl9aWYoMCE9ZC5taW5MZW5ndGgmJmUubGVuZ3RoPGQubWluTGVuZ3RoKXJldHVybiBkLml0ZW1zPVtdLHZvaWQgdGhpcy51cGRhdGVPdmVybGF5KCk7XFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBiJiYoYj0zNTApLFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgYy50bXAueGhyX3NlYXJjaCYmKGMudG1wLnhocl9zZWFyY2g9XFxcIlxcXCIpLFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgYy50bXAueGhyX3RvdGFsJiYoYy50bXAueGhyX3RvdGFsPS0xKSxkLnVybCYmMSE9YShjLmVsKS5wcm9wKFxcXCJyZWFkb25seVxcXCIpJiYoMD09PWQuaXRlbXMubGVuZ3RoJiYwIT09Yy50bXAueGhyX3RvdGFsfHxjLnRtcC54aHJfdG90YWw9PWQuY2FjaGVNYXgmJmUubGVuZ3RoPmMudG1wLnhocl9zZWFyY2gubGVuZ3RofHxlLmxlbmd0aD49Yy50bXAueGhyX3NlYXJjaC5sZW5ndGgmJmUuc3Vic3RyKDAsYy50bXAueGhyX3NlYXJjaC5sZW5ndGgpIT1jLnRtcC54aHJfc2VhcmNofHxlLmxlbmd0aDxjLnRtcC54aHJfc2VhcmNoLmxlbmd0aCkmJihjLnRtcC54aHJfbG9hZGluZz0hMCxjLnNlYXJjaCgpLGNsZWFyVGltZW91dChjLnRtcC50aW1lb3V0KSxjLnRtcC50aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYj1kLnVybCxmPXtzZWFyY2g6ZSxtYXg6ZC5jYWNoZU1heH07YS5leHRlbmQoZixkLnBvc3REYXRhKTt2YXIgZz1jLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcInJlcXVlc3RcXFwiLHRhcmdldDpjLmVsLHVybDpiLHBvc3REYXRhOmZ9KTtpZihnLmlzQ2FuY2VsbGVkIT09ITApe2I9Zy51cmwsZj1nLnBvc3REYXRhLGMudG1wLnhociYmYy50bXAueGhyLmFib3J0KCk7dmFyIGg9e3R5cGU6XFxcIkdFVFxcXCIsdXJsOmIsZGF0YTpmLGRhdGFUeXBlOlxcXCJKU09OXFxcIn07XFxcIkpTT05cXFwiPT13MnV0aWxzLnNldHRpbmdzLmRhdGFUeXBlJiYoaC50eXBlPVxcXCJQT1NUXFxcIixoLmRhdGE9SlNPTi5zdHJpbmdpZnkoaC5kYXRhKSxoLmNvbnRlbnRUeXBlPVxcXCJhcHBsaWNhdGlvbi9qc29uXFxcIiksYy50bXAueGhyPWEuYWpheChoKS5kb25lKGZ1bmN0aW9uKGIsZyxoKXt2YXIgaT1jLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcImxvYWRcXFwiLHRhcmdldDpjLmVsLHNlYXJjaDpmLnNlYXJjaCxkYXRhOmIseGhyOmh9KTtpZihpLmlzQ2FuY2VsbGVkIT09ITApe2lmKGI9aS5kYXRhLFxcXCJzdHJpbmdcXFwiPT10eXBlb2YgYiYmKGI9SlNPTi5wYXJzZShiKSksXFxcInN1Y2Nlc3NcXFwiIT1iLnN0YXR1cylyZXR1cm4gdm9pZCBjb25zb2xlLmxvZyhcXFwiRVJST1I6IHNlcnZlciBkaWQgbm90IHJldHVybiBwcm9wZXIgc3RydWN0dXJlLiBJdCBzaG91bGQgcmV0dXJuXFxcIix7c3RhdHVzOlxcXCJzdWNjZXNzXFxcIixpdGVtczpbe2lkOjEsdGV4dDpcXFwiaXRlbVxcXCJ9XX0pO2IuaXRlbXMubGVuZ3RoPmQuY2FjaGVNYXgmJmIuaXRlbXMuc3BsaWNlKGQuY2FjaGVNYXgsMWU1KSxjLnRtcC54aHJfbG9hZGluZz0hMSxjLnRtcC54aHJfc2VhcmNoPWUsYy50bXAueGhyX3RvdGFsPWIuaXRlbXMubGVuZ3RoLGQuaXRlbXM9Yy5ub3JtTWVudShiLml0ZW1zKSxjLnRtcC5lbXB0eVNldD1cXFwiXFxcIj09ZSYmMD09Yi5pdGVtcy5sZW5ndGg/ITA6ITEsYy5zZWFyY2goKSxjLnRyaWdnZXIoYS5leHRlbmQoaSx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX19KS5mYWlsKGZ1bmN0aW9uKGIsZCxmKXt2YXIgZz17c3RhdHVzOmQsZXJyb3I6ZixyYXdSZXNwb25zZVRleHQ6Yi5yZXNwb25zZVRleHR9LGg9Yy50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJlcnJvclxcXCIsdGFyZ2V0OmMuZWwsc2VhcmNoOmUsZXJyb3I6Zyx4aHI6Yn0pO2lmKGguaXNDYW5jZWxsZWQhPT0hMCl7aWYoXFxcImFib3J0XFxcIiE9ZCl7dmFyIGk7dHJ5e2k9YS5wYXJzZUpTT04oYi5yZXNwb25zZVRleHQpfWNhdGNoKGope31jb25zb2xlLmxvZyhcXFwiRVJST1I6IFNlcnZlciBjb21tdW5pY2F0aW9uIGZhaWxlZC5cXFwiLFxcXCJcXFxcbiAgIEVYUEVDVEVEOlxcXCIse3N0YXR1czpcXFwic3VjY2Vzc1xcXCIsaXRlbXM6W3tpZDoxLHRleHQ6XFxcIml0ZW1cXFwifV19LFxcXCJcXFxcbiAgICAgICAgIE9SOlxcXCIse3N0YXR1czpcXFwiZXJyb3JcXFwiLG1lc3NhZ2U6XFxcImVycm9yIG1lc3NhZ2VcXFwifSxcXFwiXFxcXG4gICBSRUNFSVZFRDpcXFwiLFxcXCJvYmplY3RcXFwiPT10eXBlb2YgaT9pOmIucmVzcG9uc2VUZXh0KX1jLmNsZWFyQ2FjaGUoKSxjLnRyaWdnZXIoYS5leHRlbmQoaCx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX19KSxjLnRyaWdnZXIoYS5leHRlbmQoZyx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX19LGIpKX19LHNlYXJjaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz10aGlzLm9wdGlvbnMsZD1hKGIuZWwpLnZhbCgpLGU9Yi5lbCxmPVtdLGc9YShiLmVsKS5kYXRhKFxcXCJzZWxlY3RlZFxcXCIpO2lmKFxcXCJlbnVtXFxcIj09Yi50eXBlKXtlPWEoYi5oZWxwZXJzLm11bHRpKS5maW5kKFxcXCJpbnB1dFxcXCIpLGQ9ZS52YWwoKTtmb3IodmFyIGggaW4gZylnW2hdJiZmLnB1c2goZ1toXS5pZCl9aWYoXFxcImxpc3RcXFwiPT1iLnR5cGUpe2U9YShiLmhlbHBlcnMuZm9jdXMpLmZpbmQoXFxcImlucHV0XFxcIiksZD1lLnZhbCgpO2Zvcih2YXIgaCBpbiBnKWdbaF0mJmYucHVzaChnW2hdLmlkKX12YXIgaT1iLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcInNlYXJjaFxcXCIsdGFyZ2V0OmUsc2VhcmNoOmR9KTtpZihpLmlzQ2FuY2VsbGVkIT09ITApe2lmKGIudG1wLnhocl9sb2FkaW5nIT09ITApe3ZhciBqPTA7Zm9yKHZhciBrIGluIGMuaXRlbXMpe3ZhciBsPWMuaXRlbXNba10sbT1cXFwiXFxcIixuPVxcXCJcXFwiOy0xIT1bXFxcImlzXFxcIixcXFwiYmVnaW5zXFxcIl0uaW5kZXhPZihjLm1hdGNoKSYmKG09XFxcIl5cXFwiKSwtMSE9W1xcXCJpc1xcXCIsXFxcImVuZHNcXFwiXS5pbmRleE9mKGMubWF0Y2gpJiYobj1cXFwiJFxcXCIpO3RyeXt2YXIgbz1uZXcgUmVnRXhwKG0rZCtuLFxcXCJpXFxcIik7bC5oaWRkZW49by50ZXN0KGwudGV4dCl8fFxcXCIuLi5cXFwiPT1sLnRleHQ/ITE6ITB9Y2F0Y2gocCl7fVxcXCJlbnVtXFxcIj09Yi50eXBlJiYtMSE9YS5pbkFycmF5KGwuaWQsZikmJihsLmhpZGRlbj0hMCksbC5oaWRkZW4hPT0hMCYmaisrfWlmKFxcXCJjb21ib1xcXCIhPWIudHlwZSlmb3IoYy5pbmRleD0wO2MuaXRlbXNbYy5pbmRleF0mJmMuaXRlbXNbYy5pbmRleF0uaGlkZGVuOyljLmluZGV4Kys7ZWxzZSBjLmluZGV4PS0xOzA+PWomJihjLmluZGV4PS0xKSxjLnNwaW5uZXI9ITEsYi51cGRhdGVPdmVybGF5KCksc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBiPWEoXFxcIiN3MnVpLW92ZXJsYXlcXFwiKS5odG1sKCl8fFxcXCJcXFwiO2MubWFya1NlYXJjaCYmLTEhPWIuaW5kZXhPZihcXFwiJC5mbi53Mm1lbnVIYW5kbGVyXFxcIikmJmEoXFxcIiN3MnVpLW92ZXJsYXlcXFwiKS53Mm1hcmtlcihkKX0sMSl9ZWxzZSBjLml0ZW1zLnNwbGljZSgwLGMuY2FjaGVNYXgpLGMuc3Bpbm5lcj0hMCxiLnVwZGF0ZU92ZXJsYXkoKTtiLnRyaWdnZXIoYS5leHRlbmQoaSx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX19LHVwZGF0ZU92ZXJsYXk6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9dGhpcy5vcHRpb25zO2lmKFxcXCJjb2xvclxcXCI9PXRoaXMudHlwZSl7aWYoYShiLmVsKS5hdHRyKFxcXCJyZWFkb25seVxcXCIpKXJldHVybjswPT1hKFxcXCIjdzJ1aS1vdmVybGF5XFxcIikubGVuZ3RoP2EoYi5lbCkudzJvdmVybGF5KGIuZ2V0Q29sb3JIVE1MKCkpOmEoXFxcIiN3MnVpLW92ZXJsYXlcXFwiKS5odG1sKGIuZ2V0Q29sb3JIVE1MKCkpLGEoXFxcIiN3MnVpLW92ZXJsYXkgLmNvbG9yXFxcIikub24oXFxcIm1vdXNlZG93blxcXCIsZnVuY3Rpb24oYyl7dmFyIGQ9YShjLm9yaWdpbmFsRXZlbnQudGFyZ2V0KS5hdHRyKFxcXCJuYW1lXFxcIiksZT1hKGMub3JpZ2luYWxFdmVudC50YXJnZXQpLmF0dHIoXFxcImluZGV4XFxcIikuc3BsaXQoXFxcIjpcXFwiKTtiLnRtcC5jaW5kMT1lWzBdLGIudG1wLmNpbmQyPWVbMV0sYShiLmVsKS52YWwoZCkuY2hhbmdlKCksYSh0aGlzKS5odG1sKFxcXCImIzE0OTtcXFwiKX0pLm9uKFxcXCJtb3VzZXVwXFxcIixmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXthKFxcXCIjdzJ1aS1vdmVybGF5XFxcIikubGVuZ3RoPjAmJmEoXFxcIiN3MnVpLW92ZXJsYXlcXFwiKS5yZW1vdmVEYXRhKFxcXCJrZWVwT3BlblxcXCIpWzBdLmhpZGUoKX0sMTApfSl9aWYoXFxcImRhdGVcXFwiPT10aGlzLnR5cGUpe2lmKGEoYi5lbCkuYXR0cihcXFwicmVhZG9ubHlcXFwiKSlyZXR1cm47MD09YShcXFwiI3cydWktb3ZlcmxheVxcXCIpLmxlbmd0aCYmYShiLmVsKS53Mm92ZXJsYXkoJzxkaXYgY2xhc3M9XFxcIncydWktcmVzZXQgdzJ1aS1jYWxlbmRhclxcXCIgb25jbGljaz1cXFwiZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XFxcIj48L2Rpdj4nLHtjc3M6e1xcXCJiYWNrZ3JvdW5kLWNvbG9yXFxcIjpcXFwiI2Y1ZjVmNVxcXCJ9fSk7dmFyIGQsZSxmPXcydXRpbHMuaXNEYXRlKGEoYi5lbCkudmFsKCksYi5vcHRpb25zLmZvcm1hdCwhMCk7XFxuZiYmKGQ9Zi5nZXRNb250aCgpKzEsZT1mLmdldEZ1bGxZZWFyKCkpLGZ1bmN0aW9uIGsoYyxkKXthKFxcXCIjdzJ1aS1vdmVybGF5ID4gZGl2ID4gZGl2XFxcIikuaHRtbChiLmdldE1vbnRoSFRNTChjLGQpKSxhKFxcXCIjdzJ1aS1vdmVybGF5IC53MnVpLWNhbGVuZGFyLXRpdGxlXFxcIikub24oXFxcIm1vdXNlZG93blxcXCIsZnVuY3Rpb24oKXtpZihhKHRoaXMpLm5leHQoKS5oYXNDbGFzcyhcXFwidzJ1aS1jYWxlbmRhci1qdW1wXFxcIikpYSh0aGlzKS5uZXh0KCkucmVtb3ZlKCk7ZWxzZXt2YXIgYyxkO2EodGhpcykuYWZ0ZXIoJzxkaXYgY2xhc3M9XFxcIncydWktY2FsZW5kYXItanVtcFxcXCIgc3R5bGU9XFxcIlxcXCI+PC9kaXY+JyksYSh0aGlzKS5uZXh0KCkuaGlkZSgpLmh0bWwoYi5nZXRZZWFySFRNTCgpKS5mYWRlSW4oMjAwKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YShcXFwiI3cydWktb3ZlcmxheSAudzJ1aS1jYWxlbmRhci1qdW1wXFxcIikuZmluZChcXFwiLncydWktanVtcC1tb250aCwgLncydWktanVtcC15ZWFyXFxcIikub24oXFxcImNsaWNrXFxcIixmdW5jdGlvbigpe2EodGhpcykuaGFzQ2xhc3MoXFxcIncydWktanVtcC1tb250aFxcXCIpJiYoYSh0aGlzKS5wYXJlbnQoKS5maW5kKFxcXCIudzJ1aS1qdW1wLW1vbnRoXFxcIikucmVtb3ZlQ2xhc3MoXFxcInNlbGVjdGVkXFxcIiksYSh0aGlzKS5hZGRDbGFzcyhcXFwic2VsZWN0ZWRcXFwiKSxkPWEodGhpcykuYXR0cihcXFwibmFtZVxcXCIpKSxhKHRoaXMpLmhhc0NsYXNzKFxcXCJ3MnVpLWp1bXAteWVhclxcXCIpJiYoYSh0aGlzKS5wYXJlbnQoKS5maW5kKFxcXCIudzJ1aS1qdW1wLXllYXJcXFwiKS5yZW1vdmVDbGFzcyhcXFwic2VsZWN0ZWRcXFwiKSxhKHRoaXMpLmFkZENsYXNzKFxcXCJzZWxlY3RlZFxcXCIpLGM9YSh0aGlzKS5hdHRyKFxcXCJuYW1lXFxcIikpLG51bGwhPWMmJm51bGwhPWQmJihhKFxcXCIjdzJ1aS1vdmVybGF5IC53MnVpLWNhbGVuZGFyLWp1bXBcXFwiKS5mYWRlT3V0KDEwMCksc2V0VGltZW91dChmdW5jdGlvbigpe2socGFyc2VJbnQoZCkrMSxjKX0sMTAwKSl9KSxhKFxcXCIjdzJ1aS1vdmVybGF5IC53MnVpLWNhbGVuZGFyLWp1bXAgPjpsYXN0LWNoaWxkXFxcIikucHJvcChcXFwic2Nyb2xsVG9wXFxcIiwyZTMpfSwxKX19KSxhKFxcXCIjdzJ1aS1vdmVybGF5IC53MnVpLWRhdGVcXFwiKS5vbihcXFwibW91c2Vkb3duXFxcIixmdW5jdGlvbigpe3ZhciBjPWEodGhpcykuYXR0cihcXFwiZGF0ZVxcXCIpO2EoYi5lbCkudmFsKGMpLmNoYW5nZSgpLGEodGhpcykuY3NzKHtcXFwiYmFja2dyb3VuZC1jb2xvclxcXCI6XFxcIiNCNkQ1RkJcXFwiLFxcXCJib3JkZXItY29sb3JcXFwiOlxcXCIjYWFhXFxcIn0pfSkub24oXFxcIm1vdXNldXBcXFwiLGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2EoXFxcIiN3MnVpLW92ZXJsYXlcXFwiKS5sZW5ndGg+MCYmYShcXFwiI3cydWktb3ZlcmxheVxcXCIpLnJlbW92ZURhdGEoXFxcImtlZXBPcGVuXFxcIilbMF0uaGlkZSgpfSwxMCl9KSxhKFxcXCIjdzJ1aS1vdmVybGF5IC5wcmV2aW91c1xcXCIpLm9uKFxcXCJtb3VzZWRvd25cXFwiLGZ1bmN0aW9uKCl7dmFyIGE9Yi5vcHRpb25zLmN1cnJlbnQuc3BsaXQoXFxcIi9cXFwiKTthWzBdPXBhcnNlSW50KGFbMF0pLTEsayhhWzBdLGFbMV0pfSksYShcXFwiI3cydWktb3ZlcmxheSAubmV4dFxcXCIpLm9uKFxcXCJtb3VzZWRvd25cXFwiLGZ1bmN0aW9uKCl7dmFyIGE9Yi5vcHRpb25zLmN1cnJlbnQuc3BsaXQoXFxcIi9cXFwiKTthWzBdPXBhcnNlSW50KGFbMF0pKzEsayhhWzBdLGFbMV0pfSl9KGQsZSl9aWYoXFxcInRpbWVcXFwiPT10aGlzLnR5cGUpe2lmKGEoYi5lbCkuYXR0cihcXFwicmVhZG9ubHlcXFwiKSlyZXR1cm47MD09YShcXFwiI3cydWktb3ZlcmxheVxcXCIpLmxlbmd0aCYmYShiLmVsKS53Mm92ZXJsYXkoJzxkaXYgY2xhc3M9XFxcIncydWktcmVzZXQgdzJ1aS1jYWxlbmRhci10aW1lXFxcIiBvbmNsaWNrPVxcXCJldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcXFwiPjwvZGl2Picse2Nzczp7XFxcImJhY2tncm91bmQtY29sb3JcXFwiOlxcXCIjZmZmXFxcIn19KTt2YXIgZz1cXFwiaDI0XFxcIj09dGhpcy5vcHRpb25zLmZvcm1hdD8hMDohMTthKFxcXCIjdzJ1aS1vdmVybGF5ID4gZGl2XFxcIikuaHRtbChiLmdldEhvdXJIVE1MKCkpLGEoXFxcIiN3MnVpLW92ZXJsYXkgLncydWktdGltZVxcXCIpLm9uKFxcXCJtb3VzZWRvd25cXFwiLGZ1bmN0aW9uKCl7YSh0aGlzKS5jc3Moe1xcXCJiYWNrZ3JvdW5kLWNvbG9yXFxcIjpcXFwiI0I2RDVGQlxcXCIsXFxcImJvcmRlci1jb2xvclxcXCI6XFxcIiNhYWFcXFwifSk7dmFyIGM9YSh0aGlzKS5hdHRyKFxcXCJob3VyXFxcIik7YShiLmVsKS52YWwoKGM+MTImJiFnP2MtMTI6YykrXFxcIjowMFxcXCIrKGc/XFxcIlxcXCI6MTI+Yz9cXFwiIGFtXFxcIjpcXFwiIHBtXFxcIikpLmNoYW5nZSgpfSkub24oXFxcIm1vdXNldXBcXFwiLGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKS5hdHRyKFxcXCJob3VyXFxcIik7YShcXFwiI3cydWktb3ZlcmxheVxcXCIpLmxlbmd0aD4wJiZhKFxcXCIjdzJ1aS1vdmVybGF5XFxcIilbMF0uaGlkZSgpLGEoYi5lbCkudzJvdmVybGF5KCc8ZGl2IGNsYXNzPVxcXCJ3MnVpLXJlc2V0IHcydWktY2FsZW5kYXItdGltZVxcXCI+PC9kaXY+Jyx7Y3NzOntcXFwiYmFja2dyb3VuZC1jb2xvclxcXCI6XFxcIiNmZmZcXFwifX0pLGEoXFxcIiN3MnVpLW92ZXJsYXkgPiBkaXZcXFwiKS5odG1sKGIuZ2V0TWluSFRNTChjKSksYShcXFwiI3cydWktb3ZlcmxheSAudzJ1aS10aW1lXFxcIikub24oXFxcIm1vdXNlZG93blxcXCIsZnVuY3Rpb24oKXthKHRoaXMpLmNzcyh7XFxcImJhY2tncm91bmQtY29sb3JcXFwiOlxcXCIjQjZENUZCXFxcIixcXFwiYm9yZGVyLWNvbG9yXFxcIjpcXFwiI2FhYVxcXCJ9KTt2YXIgZD1hKHRoaXMpLmF0dHIoXFxcIm1pblxcXCIpO2EoYi5lbCkudmFsKChjPjEyJiYhZz9jLTEyOmMpK1xcXCI6XFxcIisoMTA+ZD8wOlxcXCJcXFwiKStkKyhnP1xcXCJcXFwiOjEyPmM/XFxcIiBhbVxcXCI6XFxcIiBwbVxcXCIpKS5jaGFuZ2UoKX0pLm9uKFxcXCJtb3VzZXVwXFxcIixmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXthKFxcXCIjdzJ1aS1vdmVybGF5XFxcIikubGVuZ3RoPjAmJmEoXFxcIiN3MnVpLW92ZXJsYXlcXFwiKS5yZW1vdmVEYXRhKFxcXCJrZWVwT3BlblxcXCIpWzBdLmhpZGUoKX0sMTApfSl9KX1pZigtMSE9W1xcXCJsaXN0XFxcIixcXFwiY29tYm9cXFwiLFxcXCJlbnVtXFxcIl0uaW5kZXhPZih0aGlzLnR5cGUpKXt2YXIgaD10aGlzLmVsLGk9dGhpcy5lbDtpZihcXFwiZW51bVxcXCI9PXRoaXMudHlwZSYmKGg9YSh0aGlzLmhlbHBlcnMubXVsdGkpLGk9YShoKS5maW5kKFxcXCJpbnB1dFxcXCIpKSxcXFwibGlzdFxcXCI9PXRoaXMudHlwZSYmKGk9YSh0aGlzLmhlbHBlcnMuZm9jdXMpLmZpbmQoXFxcImlucHV0XFxcIikpLGEoaSkuaXMoXFxcIjpmb2N1c1xcXCIpKXtpZihjLm9wZW5PbkZvY3VzPT09ITEmJlxcXCJcXFwiPT1hKGkpLnZhbCgpJiZiLnRtcC5mb3JjZV9vcGVuIT09ITApcmV0dXJuIHZvaWQgYSgpLncyb3ZlcmxheSgpO2lmKGIudG1wLmZvcmNlX2hpZGUpcmV0dXJuIGEoKS53Mm92ZXJsYXkoKSx2b2lkIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtkZWxldGUgYi50bXAuZm9yY2VfaGlkZX0sMSk7XFxcIlxcXCIhPWEoaSkudmFsKCkmJmRlbGV0ZSBiLnRtcC5mb3JjZV9vcGVuLDA9PWEoXFxcIiN3MnVpLW92ZXJsYXlcXFwiKS5sZW5ndGgmJihjLmluZGV4PTApO3ZhciBqPXcydXRpbHMubGFuZyhcXFwiTm8gbWF0Y2hlc1xcXCIpO251bGwhPWMudXJsJiZhKGkpLnZhbCgpLmxlbmd0aDxjLm1pbkxlbmd0aCYmYi50bXAuZW1wdHlTZXQhPT0hMCYmKGo9Yy5taW5MZW5ndGgrXFxcIiBcXFwiK3cydXRpbHMubGFuZyhcXFwibGV0dGVycyBvciBtb3JlLi4uXFxcIikpLG51bGwhPWMudXJsJiZcXFwiXFxcIj09YShpKS52YWwoKSYmYi50bXAuZW1wdHlTZXQhPT0hMCYmKGo9dzJ1dGlscy5sYW5nKFxcXCJUeXBlIHRvIHNlYXJjaC4uLi5cXFwiKSksYShoKS53Mm1lbnUoXFxcInJlZnJlc2hcXFwiLGEuZXh0ZW5kKCEwLHt9LGMse3NlYXJjaDohMSxyZW5kZXI6Yy5yZW5kZXJEcm9wLG1heEhlaWdodDpjLm1heERyb3BIZWlnaHQsbXNnTm9JdGVtczpqLG9uU2VsZWN0OmZ1bmN0aW9uKGQpe2lmKFxcXCJlbnVtXFxcIj09Yi50eXBlKXt2YXIgZT1hKGIuZWwpLmRhdGEoXFxcInNlbGVjdGVkXFxcIik7aWYoZC5pdGVtKXt2YXIgZj1iLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcImFkZFxcXCIsdGFyZ2V0OmIuZWwsb3JpZ2luYWxFdmVudDpkLm9yaWdpbmFsRXZlbnQsaXRlbTpkLml0ZW19KTtpZihmLmlzQ2FuY2VsbGVkPT09ITApcmV0dXJuO2UubGVuZ3RoPj1jLm1heCYmYy5tYXg+MCYmZS5wb3AoKSxkZWxldGUgZC5pdGVtLmhpZGRlbixlLnB1c2goZC5pdGVtKSxhKGIuZWwpLmRhdGEoXFxcInNlbGVjdGVkXFxcIixlKS5jaGFuZ2UoKSxhKGIuaGVscGVycy5tdWx0aSkuZmluZChcXFwiaW5wdXRcXFwiKS52YWwoXFxcIlxcXCIpLndpZHRoKDIwKSxiLnJlZnJlc2goKSxhKFxcXCIjdzJ1aS1vdmVybGF5XFxcIikubGVuZ3RoPjAmJmEoXFxcIiN3MnVpLW92ZXJsYXlcXFwiKVswXS5oaWRlKCksYi50cmlnZ2VyKGEuZXh0ZW5kKGYse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSl9fWVsc2UgYShiLmVsKS5kYXRhKFxcXCJzZWxlY3RlZFxcXCIsZC5pdGVtKS52YWwoZC5pdGVtLnRleHQpLmNoYW5nZSgpLGIuaGVscGVycy5mb2N1cyYmYi5oZWxwZXJzLmZvY3VzLmZpbmQoXFxcImlucHV0XFxcIikudmFsKFxcXCJcXFwiKX19KSl9fX0saW5SYW5nZTpmdW5jdGlvbihiKXt2YXIgYz0hMTtpZihcXFwiZGF0ZVxcXCI9PXRoaXMudHlwZSl7dmFyIGQ9dzJ1dGlscy5pc0RhdGUoYix0aGlzLm9wdGlvbnMuZm9ybWF0LCEwKTtpZihkKXtpZih0aGlzLm9wdGlvbnMuc3RhcnR8fHRoaXMub3B0aW9ucy5lbmQpe3ZhciBlPVxcXCJzdHJpbmdcXFwiPT10eXBlb2YgdGhpcy5vcHRpb25zLnN0YXJ0P3RoaXMub3B0aW9ucy5zdGFydDphKHRoaXMub3B0aW9ucy5zdGFydCkudmFsKCksZj1cXFwic3RyaW5nXFxcIj09dHlwZW9mIHRoaXMub3B0aW9ucy5lbmQ/dGhpcy5vcHRpb25zLmVuZDphKHRoaXMub3B0aW9ucy5lbmQpLnZhbCgpLGc9dzJ1dGlscy5pc0RhdGUoZSx0aGlzLm9wdGlvbnMuZm9ybWF0LCEwKSxoPXcydXRpbHMuaXNEYXRlKGYsdGhpcy5vcHRpb25zLmZvcm1hdCwhMCksaT1uZXcgRGF0ZShkKTtnfHwoZz1pKSxofHwoaD1pKSxpPj1nJiZoPj1pJiYoYz0hMCl9ZWxzZSBjPSEwO3RoaXMub3B0aW9ucy5ibG9ja2VkJiYtMSE9YS5pbkFycmF5KGIsdGhpcy5vcHRpb25zLmJsb2NrZWQpJiYoYz0hMSl9fWlmKFxcXCJ0aW1lXFxcIj09dGhpcy50eXBlKWlmKHRoaXMub3B0aW9ucy5zdGFydHx8dGhpcy5vcHRpb25zLmVuZCl7dmFyIGo9dGhpcy50b01pbihiKSxrPXRoaXMudG9NaW4odGhpcy5vcHRpb25zLnN0YXJ0KSxsPXRoaXMudG9NaW4odGhpcy5vcHRpb25zLmVuZCk7a3x8KGs9aiksbHx8KGw9aiksaj49ayYmbD49aiYmKGM9ITApfWVsc2UgYz0hMDtyZXR1cm4gY30sY2hlY2tUeXBlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztzd2l0Y2goYy50eXBlKXtjYXNlXFxcImludFxcXCI6cmV0dXJuIGImJi0xIT1bXFxcIi1cXFwiLGMub3B0aW9ucy5ncm91cFN5bWJvbF0uaW5kZXhPZihhKT8hMDp3MnV0aWxzLmlzSW50KGEucmVwbGFjZShjLm9wdGlvbnMubnVtYmVyUkUsXFxcIlxcXCIpKTtjYXNlXFxcInBlcmNlbnRcXFwiOmE9YS5yZXBsYWNlKC8lL2csXFxcIlxcXCIpO2Nhc2VcXFwiZmxvYXRcXFwiOnJldHVybiBiJiYtMSE9W1xcXCItXFxcIix3MnV0aWxzLnNldHRpbmdzLmRlY2ltYWxTeW1ib2wsYy5vcHRpb25zLmdyb3VwU3ltYm9sXS5pbmRleE9mKGEpPyEwOncydXRpbHMuaXNGbG9hdChhLnJlcGxhY2UoYy5vcHRpb25zLm51bWJlclJFLFxcXCJcXFwiKSk7Y2FzZVxcXCJtb25leVxcXCI6Y2FzZVxcXCJjdXJyZW5jeVxcXCI6cmV0dXJuIGImJi0xIT1bXFxcIi1cXFwiLGMub3B0aW9ucy5kZWNpbWFsU3ltYm9sLGMub3B0aW9ucy5ncm91cFN5bWJvbCxjLm9wdGlvbnMuY3VycmVuY3lQcmVmaXgsYy5vcHRpb25zLmN1cnJlbmN5U3VmZml4XS5pbmRleE9mKGEpPyEwOncydXRpbHMuaXNGbG9hdChhLnJlcGxhY2UoYy5vcHRpb25zLm1vbmV5UkUsXFxcIlxcXCIpKTtjYXNlXFxcImhleFxcXCI6Y2FzZVxcXCJjb2xvclxcXCI6cmV0dXJuIHcydXRpbHMuaXNIZXgoYSk7Y2FzZVxcXCJhbHBoYW51bWVyaWNcXFwiOnJldHVybiB3MnV0aWxzLmlzQWxwaGFOdW1lcmljKGEpfXJldHVybiEwfSxhZGRQcmVmaXg6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihcXFwiY2xlYXJcXFwiIT09Yi50eXBlKXt2YXIgYyxkPWEoYi5lbCkuZGF0YShcXFwidG1wXFxcIil8fHt9O2RbXFxcIm9sZC1wYWRkaW5nLWxlZnRcXFwiXSYmYShiLmVsKS5jc3MoXFxcInBhZGRpbmctbGVmdFxcXCIsZFtcXFwib2xkLXBhZGRpbmctbGVmdFxcXCJdKSxkW1xcXCJvbGQtcGFkZGluZy1sZWZ0XFxcIl09YShiLmVsKS5jc3MoXFxcInBhZGRpbmctbGVmdFxcXCIpLGEoYi5lbCkuZGF0YShcXFwidG1wXFxcIixkKSxiLmhlbHBlcnMucHJlZml4JiZhKGIuaGVscGVycy5wcmVmaXgpLnJlbW92ZSgpLFxcXCJcXFwiIT09Yi5vcHRpb25zLnByZWZpeCYmKGEoYi5lbCkuYmVmb3JlKCc8ZGl2IGNsYXNzPVxcXCJ3MnVpLWZpZWxkLWhlbHBlclxcXCI+JytiLm9wdGlvbnMucHJlZml4K1xcXCI8L2Rpdj5cXFwiKSxjPWEoYi5lbCkucHJldigpLGMuY3NzKHtjb2xvcjphKGIuZWwpLmNzcyhcXFwiY29sb3JcXFwiKSxcXFwiZm9udC1mYW1pbHlcXFwiOmEoYi5lbCkuY3NzKFxcXCJmb250LWZhbWlseVxcXCIpLFxcXCJmb250LXNpemVcXFwiOmEoYi5lbCkuY3NzKFxcXCJmb250LXNpemVcXFwiKSxcXFwicGFkZGluZy10b3BcXFwiOmEoYi5lbCkuY3NzKFxcXCJwYWRkaW5nLXRvcFxcXCIpLFxcXCJwYWRkaW5nLWJvdHRvbVxcXCI6YShiLmVsKS5jc3MoXFxcInBhZGRpbmctYm90dG9tXFxcIiksXFxcInBhZGRpbmctbGVmdFxcXCI6YShiLmVsKS5jc3MoXFxcInBhZGRpbmctbGVmdFxcXCIpLFxcXCJwYWRkaW5nLXJpZ2h0XFxcIjowLFxcXCJtYXJnaW4tdG9wXFxcIjpwYXJzZUludChhKGIuZWwpLmNzcyhcXFwibWFyZ2luLXRvcFxcXCIpLDEwKSsyK1xcXCJweFxcXCIsXFxcIm1hcmdpbi1ib3R0b21cXFwiOnBhcnNlSW50KGEoYi5lbCkuY3NzKFxcXCJtYXJnaW4tYm90dG9tXFxcIiksMTApKzErXFxcInB4XFxcIixcXFwibWFyZ2luLWxlZnRcXFwiOmEoYi5lbCkuY3NzKFxcXCJtYXJnaW4tbGVmdFxcXCIpLFxcXCJtYXJnaW4tcmlnaHRcXFwiOjB9KS5vbihcXFwiY2xpY2tcXFwiLGZ1bmN0aW9uKCl7aWYoYi5vcHRpb25zLmljb24mJlxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBiLm9uSWNvbkNsaWNrKXt2YXIgYz1iLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcImljb25DbGlja1xcXCIsdGFyZ2V0OmIuZWwsZWw6YSh0aGlzKS5maW5kKFxcXCJzcGFuLncydWktaWNvblxcXCIpWzBdfSk7aWYoYy5pc0NhbmNlbGxlZD09PSEwKXJldHVybjtiLnRyaWdnZXIoYS5leHRlbmQoYyx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX1lbHNlXFxcImxpc3RcXFwiPT1iLnR5cGU/YShiLmhlbHBlcnMuZm9jdXMpLmZpbmQoXFxcImlucHV0XFxcIikuZm9jdXMoKTphKGIuZWwpLmZvY3VzKCl9KSxhKGIuZWwpLmNzcyhcXFwicGFkZGluZy1sZWZ0XFxcIixjLndpZHRoKCkrcGFyc2VJbnQoYShiLmVsKS5jc3MoXFxcInBhZGRpbmctbGVmdFxcXCIpLDEwKStcXFwicHhcXFwiKSxiLmhlbHBlcnMucHJlZml4PWMpfX0sMSl9LGFkZFN1ZmZpeDpmdW5jdGlvbigpe3ZhciBiLGMsZD10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihcXFwiY2xlYXJcXFwiIT09ZC50eXBlKXt2YXIgZT1hKGQuZWwpLmRhdGEoXFxcInRtcFxcXCIpfHx7fTtpZihlW1xcXCJvbGQtcGFkZGluZy1yaWdodFxcXCJdJiZhKGQuZWwpLmNzcyhcXFwicGFkZGluZy1yaWdodFxcXCIsZVtcXFwib2xkLXBhZGRpbmctcmlnaHRcXFwiXSksZVtcXFwib2xkLXBhZGRpbmctcmlnaHRcXFwiXT1hKGQuZWwpLmNzcyhcXFwicGFkZGluZy1yaWdodFxcXCIpLGEoZC5lbCkuZGF0YShcXFwidG1wXFxcIixlKSxjPXBhcnNlSW50KGEoZC5lbCkuY3NzKFxcXCJwYWRkaW5nLXJpZ2h0XFxcIiksMTApLGQub3B0aW9ucy5hcnJvd3Mpe2QuaGVscGVycy5hcnJvd3MmJmEoZC5oZWxwZXJzLmFycm93cykucmVtb3ZlKCksYShkLmVsKS5hZnRlcignPGRpdiBjbGFzcz1cXFwidzJ1aS1maWVsZC1oZWxwZXJcXFwiIHN0eWxlPVxcXCJib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudFxcXCI+Jm5ic3A7ICAgIDxkaXYgY2xhc3M9XFxcIncydWktZmllbGQtdXBcXFwiIHR5cGU9XFxcInVwXFxcIj4gICAgICAgIDxkaXYgY2xhc3M9XFxcImFycm93LXVwXFxcIiB0eXBlPVxcXCJ1cFxcXCI+PC9kaXY+ICAgIDwvZGl2PiAgICA8ZGl2IGNsYXNzPVxcXCJ3MnVpLWZpZWxkLWRvd25cXFwiIHR5cGU9XFxcImRvd25cXFwiPiAgICAgICAgPGRpdiBjbGFzcz1cXFwiYXJyb3ctZG93blxcXCIgdHlwZT1cXFwiZG93blxcXCI+PC9kaXY+ICAgIDwvZGl2PjwvZGl2PicpO3t3MnV0aWxzLmdldFNpemUoZC5lbCxcXFwiaGVpZ2h0XFxcIil9Yj1hKGQuZWwpLm5leHQoKSxiLmNzcyh7Y29sb3I6YShkLmVsKS5jc3MoXFxcImNvbG9yXFxcIiksXFxcImZvbnQtZmFtaWx5XFxcIjphKGQuZWwpLmNzcyhcXFwiZm9udC1mYW1pbHlcXFwiKSxcXFwiZm9udC1zaXplXFxcIjphKGQuZWwpLmNzcyhcXFwiZm9udC1zaXplXFxcIiksaGVpZ2h0OmEoZC5lbCkuaGVpZ2h0KCkrcGFyc2VJbnQoYShkLmVsKS5jc3MoXFxcInBhZGRpbmctdG9wXFxcIiksMTApK3BhcnNlSW50KGEoZC5lbCkuY3NzKFxcXCJwYWRkaW5nLWJvdHRvbVxcXCIpLDEwKStcXFwicHhcXFwiLHBhZGRpbmc6MCxcXFwibWFyZ2luLXRvcFxcXCI6cGFyc2VJbnQoYShkLmVsKS5jc3MoXFxcIm1hcmdpbi10b3BcXFwiKSwxMCkrMStcXFwicHhcXFwiLFxcXCJtYXJnaW4tYm90dG9tXFxcIjowLFxcXCJib3JkZXItbGVmdFxcXCI6XFxcIjFweCBzb2xpZCBzaWx2ZXJcXFwifSkuY3NzKFxcXCJtYXJnaW4tbGVmdFxcXCIsXFxcIi1cXFwiKyhiLndpZHRoKCkrcGFyc2VJbnQoYShkLmVsKS5jc3MoXFxcIm1hcmdpbi1yaWdodFxcXCIpLDEwKSsxMikrXFxcInB4XFxcIikub24oXFxcIm1vdXNlZG93blxcXCIsZnVuY3Rpb24oYil7ZnVuY3Rpb24gYygpe2NsZWFyVGltZW91dChhKFxcXCJib2R5XFxcIikuZGF0YShcXFwiX2ZpZWxkX3VwZGF0ZV90aW1lclxcXCIpKSxhKFxcXCJib2R5XFxcIikub2ZmKFxcXCJtb3VzZXVwXFxcIixjKX1mdW5jdGlvbiBlKGMpe2EoZC5lbCkuZm9jdXMoKSxkLmtleURvd24oYS5FdmVudChcXFwia2V5ZG93blxcXCIpLHtrZXlDb2RlOlxcXCJ1cFxcXCI9PWEoYi50YXJnZXQpLmF0dHIoXFxcInR5cGVcXFwiKT8zODo0MH0pLGMhPT0hMSYmYShcXFwiYm9keVxcXCIpLmRhdGEoXFxcIl9maWVsZF91cGRhdGVfdGltZXJcXFwiLHNldFRpbWVvdXQoZSw2MCkpfWEoXFxcImJvZHlcXFwiKS5vbihcXFwibW91c2V1cFxcXCIsYyksYShcXFwiYm9keVxcXCIpLmRhdGEoXFxcIl9maWVsZF91cGRhdGVfdGltZXJcXFwiLHNldFRpbWVvdXQoZSw3MDApKSxlKCExKX0pLGMrPWIud2lkdGgoKSsxMixhKGQuZWwpLmNzcyhcXFwicGFkZGluZy1yaWdodFxcXCIsYytcXFwicHhcXFwiKSxkLmhlbHBlcnMuYXJyb3dzPWJ9XFxcIlxcXCIhPT1kLm9wdGlvbnMuc3VmZml4JiYoZC5oZWxwZXJzLnN1ZmZpeCYmYShkLmhlbHBlcnMuc3VmZml4KS5yZW1vdmUoKSxhKGQuZWwpLmFmdGVyKCc8ZGl2IGNsYXNzPVxcXCJ3MnVpLWZpZWxkLWhlbHBlclxcXCI+JytkLm9wdGlvbnMuc3VmZml4K1xcXCI8L2Rpdj5cXFwiKSxiPWEoZC5lbCkubmV4dCgpLGIuY3NzKHtjb2xvcjphKGQuZWwpLmNzcyhcXFwiY29sb3JcXFwiKSxcXFwiZm9udC1mYW1pbHlcXFwiOmEoZC5lbCkuY3NzKFxcXCJmb250LWZhbWlseVxcXCIpLFxcXCJmb250LXNpemVcXFwiOmEoZC5lbCkuY3NzKFxcXCJmb250LXNpemVcXFwiKSxcXFwicGFkZGluZy10b3BcXFwiOmEoZC5lbCkuY3NzKFxcXCJwYWRkaW5nLXRvcFxcXCIpLFxcXCJwYWRkaW5nLWJvdHRvbVxcXCI6YShkLmVsKS5jc3MoXFxcInBhZGRpbmctYm90dG9tXFxcIiksXFxcInBhZGRpbmctbGVmdFxcXCI6XFxcIjNweFxcXCIsXFxcInBhZGRpbmctcmlnaHRcXFwiOmEoZC5lbCkuY3NzKFxcXCJwYWRkaW5nLXJpZ2h0XFxcIiksXFxcIm1hcmdpbi10b3BcXFwiOnBhcnNlSW50KGEoZC5lbCkuY3NzKFxcXCJtYXJnaW4tdG9wXFxcIiksMTApKzIrXFxcInB4XFxcIixcXFwibWFyZ2luLWJvdHRvbVxcXCI6cGFyc2VJbnQoYShkLmVsKS5jc3MoXFxcIm1hcmdpbi1ib3R0b21cXFwiKSwxMCkrMStcXFwicHhcXFwifSkub24oXFxcImNsaWNrXFxcIixmdW5jdGlvbigpe1xcXCJsaXN0XFxcIj09ZC50eXBlP2EoZC5oZWxwZXJzLmZvY3VzKS5maW5kKFxcXCJpbnB1dFxcXCIpLmZvY3VzKCk6YShkLmVsKS5mb2N1cygpfSksYi5jc3MoXFxcIm1hcmdpbi1sZWZ0XFxcIixcXFwiLVxcXCIrKHcydXRpbHMuZ2V0U2l6ZShiLFxcXCJ3aWR0aFxcXCIpK3BhcnNlSW50KGEoZC5lbCkuY3NzKFxcXCJtYXJnaW4tcmlnaHRcXFwiKSwxMCkrMikrXFxcInB4XFxcIiksYys9Yi53aWR0aCgpKzMsYShkLmVsKS5jc3MoXFxcInBhZGRpbmctcmlnaHRcXFwiLGMrXFxcInB4XFxcIiksZC5oZWxwZXJzLnN1ZmZpeD1iKX19LDEpfSxhZGRGb2N1czpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz0odGhpcy5vcHRpb25zLDApO2EoYi5oZWxwZXJzLmZvY3VzKS5yZW1vdmUoKTt2YXIgZD1hKGIuZWwpLmF0dHIoXFxcInRhYkluZGV4XFxcIik7ZCYmLTEhPWQmJihiLmVsLl90YWJJbmRleD1kKSxiLmVsLl90YWJJbmRleCYmKGQ9Yi5lbC5fdGFiSW5kZXgpO3ZhciBlPSc8ZGl2IGNsYXNzPVxcXCJ3MnVpLWZpZWxkLWhlbHBlclxcXCI+ICAgIDxkaXYgY2xhc3M9XFxcIncydWktaWNvbiBpY29uLXNlYXJjaFxcXCIgc3R5bGU9XFxcImRpc3BsYXk6IG5vbmVcXFwiPjwvZGl2PiAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgYXV0b2NvbXBsZXRlPVxcXCJvZmZcXFwiIHRhYmluZGV4PVxcXCInK2QrJ1xcXCI+PGRpdj4nO2EoYi5lbCkuYXR0cihcXFwidGFiaW5kZXhcXFwiLC0xKS5iZWZvcmUoZSk7dmFyIGY9YShiLmVsKS5wcmV2KCk7Yi5oZWxwZXJzLmZvY3VzPWYsZi5jc3Moe3dpZHRoOmEoYi5lbCkud2lkdGgoKSxcXFwibWFyZ2luLXRvcFxcXCI6YShiLmVsKS5jc3MoXFxcIm1hcmdpbi10b3BcXFwiKSxcXFwibWFyZ2luLWxlZnRcXFwiOnBhcnNlSW50KGEoYi5lbCkuY3NzKFxcXCJtYXJnaW4tbGVmdFxcXCIpKStwYXJzZUludChhKGIuZWwpLmNzcyhcXFwicGFkZGluZy1sZWZ0XFxcIikpK1xcXCJweFxcXCIsXFxcIm1hcmdpbi1ib3R0b21cXFwiOmEoYi5lbCkuY3NzKFxcXCJtYXJnaW4tYm90dG9tXFxcIiksXFxcIm1hcmdpbi1yaWdodFxcXCI6YShiLmVsKS5jc3MoXFxcIm1hcmdpbi1yaWdodFxcXCIpfSkuZmluZChcXFwiaW5wdXRcXFwiKS5jc3Moe2N1cnNvcjpcXFwiZGVmYXVsdFxcXCIsd2lkdGg6XFxcIjEwMCVcXFwiLG91dGxpbmU6XFxcIm5vbmVcXFwiLG9wYWNpdHk6MSxtYXJnaW46MCxib3JkZXI6XFxcIjFweCBzb2xpZCB0cmFuc3BhcmVudFxcXCIscGFkZGluZzphKGIuZWwpLmNzcyhcXFwicGFkZGluZy10b3BcXFwiKSxcXFwicGFkZGluZy1sZWZ0XFxcIjowLFxcXCJtYXJnaW4tbGVmdFxcXCI6Yz4wP2MrNjowLFxcXCJiYWNrZ3JvdW5kLWNvbG9yXFxcIjpcXFwidHJhbnNwYXJlbnRcXFwifSksZi5maW5kKFxcXCJpbnB1dFxcXCIpLm9uKFxcXCJjbGlja1xcXCIsZnVuY3Rpb24oYyl7MD09YShcXFwiI3cydWktb3ZlcmxheVxcXCIpLmxlbmd0aCYmYi5mb2N1cyhjKSxjLnN0b3BQcm9wYWdhdGlvbigpfSkub24oXFxcImZvY3VzXFxcIixmdW5jdGlvbihjKXthKGIuZWwpLmNzcyh7b3V0bGluZTpcXFwiYXV0byA1cHggIzdEQjRGM1xcXCIsXFxcIm91dGxpbmUtb2Zmc2V0XFxcIjpcXFwiLTJweFxcXCJ9KSxhKHRoaXMpLnZhbChcXFwiXFxcIiksYShiLmVsKS50cmlnZ2VySGFuZGxlcihcXFwiZm9jdXNcXFwiKSxjLnN0b3BQcm9wYWdhdGlvbj9jLnN0b3BQcm9wYWdhdGlvbigpOmMuY2FuY2VsQnViYmxlPSEwfSkub24oXFxcImJsdXJcXFwiLGZ1bmN0aW9uKGMpe2EoYi5lbCkuY3NzKFxcXCJvdXRsaW5lXFxcIixcXFwibm9uZVxcXCIpLGEodGhpcykudmFsKFxcXCJcXFwiKSxiLnJlZnJlc2goKSxhKGIuZWwpLnRyaWdnZXJIYW5kbGVyKFxcXCJibHVyXFxcIiksYy5zdG9wUHJvcGFnYXRpb24/Yy5zdG9wUHJvcGFnYXRpb24oKTpjLmNhbmNlbEJ1YmJsZT0hMH0pLm9uKFxcXCJrZXl1cFxcXCIsZnVuY3Rpb24oYSl7Yi5rZXlVcChhKX0pLm9uKFxcXCJrZXlkb3duXFxcIixmdW5jdGlvbihhKXtiLmtleURvd24oYSl9KS5vbihcXFwia2V5cHJlc3NcXFwiLGZ1bmN0aW9uKGEpe2Iua2V5UHJlc3MoYSl9KSxmLm9uKFxcXCJjbGlja1xcXCIsZnVuY3Rpb24oKXthKHRoaXMpLmZpbmQoXFxcImlucHV0XFxcIikuZm9jdXMoKX0pLGIucmVmcmVzaCgpfSxhZGRNdWx0aTpmdW5jdGlvbigpe3t2YXIgYj10aGlzO3RoaXMub3B0aW9uc31hKGIuaGVscGVycy5tdWx0aSkucmVtb3ZlKCk7dmFyIGM9XFxcIlxcXCIsZD1cXFwibWFyZ2luLXRvcCAgICAgOiAwcHg7IG1hcmdpbi1ib3R0b20gIDogMHB4OyBtYXJnaW4tbGVmdCAgICA6IFxcXCIrYShiLmVsKS5jc3MoXFxcIm1hcmdpbi1sZWZ0XFxcIikrXFxcIjsgbWFyZ2luLXJpZ2h0ICAgOiBcXFwiK2EoYi5lbCkuY3NzKFxcXCJtYXJnaW4tcmlnaHRcXFwiKStcXFwiOyB3aWR0aCAgICAgICAgICA6IFxcXCIrKHcydXRpbHMuZ2V0U2l6ZShiLmVsLFxcXCJ3aWR0aFxcXCIpLXBhcnNlSW50KGEoYi5lbCkuY3NzKFxcXCJtYXJnaW4tbGVmdFxcXCIpLDEwKS1wYXJzZUludChhKGIuZWwpLmNzcyhcXFwibWFyZ2luLXJpZ2h0XFxcIiksMTApKStcXFwicHg7XFxcIjtcXFwiZW51bVxcXCI9PWIudHlwZSYmKGM9JzxkaXYgY2xhc3M9XFxcIncydWktZmllbGQtaGVscGVyIHcydWktbGlzdFxcXCIgc3R5bGU9XFxcIicrZCsnOyBib3gtc2l6aW5nOiBib3JkZXItYm94XFxcIj4gICAgPGRpdiBzdHlsZT1cXFwicGFkZGluZzogMHB4OyBtYXJnaW46IDBweDsgbWFyZ2luLXJpZ2h0OiAyMHB4OyBkaXNwbGF5OiBpbmxpbmUtYmxvY2tcXFwiPiAgICA8dWw+ICAgICAgICA8bGkgc3R5bGU9XFxcInBhZGRpbmctbGVmdDogMHB4OyBwYWRkaW5nLXJpZ2h0OiAwcHhcXFwiIGNsYXNzPVxcXCJub21vdXNlXFxcIj4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgc3R5bGU9XFxcIndpZHRoOiAyMHB4XFxcIiBhdXRvY29tcGxldGU9XFxcIm9mZlxcXCIgJysoYShiLmVsKS5hdHRyKFxcXCJyZWFkb25seVxcXCIpP1xcXCJyZWFkb25seVxcXCI6XFxcIlxcXCIpK1xcXCI+ICAgICAgICA8L2xpPiAgICA8L3VsPiAgICA8L2Rpdj48L2Rpdj5cXFwiKSxcXFwiZmlsZVxcXCI9PWIudHlwZSYmKGM9JzxkaXYgY2xhc3M9XFxcIncydWktZmllbGQtaGVscGVyIHcydWktbGlzdFxcXCIgc3R5bGU9XFxcIicrZCsnOyBib3gtc2l6aW5nOiBib3JkZXItYm94XFxcIj4gICAgPGRpdiBzdHlsZT1cXFwicGFkZGluZzogMHB4OyBtYXJnaW46IDBweDsgbWFyZ2luLXJpZ2h0OiAyMHB4OyBkaXNwbGF5OiBpbmxpbmUtYmxvY2tcXFwiPiAgICA8dWw+PGxpIHN0eWxlPVxcXCJwYWRkaW5nLWxlZnQ6IDBweDsgcGFkZGluZy1yaWdodDogMHB4XFxcIiBjbGFzcz1cXFwibm9tb3VzZVxcXCI+PC9saT48L3VsPiAgICA8aW5wdXQgY2xhc3M9XFxcImZpbGUtaW5wdXRcXFwiIHR5cGU9XFxcImZpbGVcXFwiIG5hbWU9XFxcImF0dGFjaG1lbnRcXFwiIG11bHRpcGxlIHN0eWxlPVxcXCJkaXNwbGF5OiBub25lXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPiAgICA8L2Rpdj48L2Rpdj4nKSxhKGIuZWwpLmJlZm9yZShjKS5jc3Moe1xcXCJiYWNrZ3JvdW5kLWNvbG9yXFxcIjpcXFwidHJhbnNwYXJlbnRcXFwiLFxcXCJib3JkZXItY29sb3JcXFwiOlxcXCJ0cmFuc3BhcmVudFxcXCJ9KTt2YXIgZT1hKGIuZWwpLnByZXYoKTtiLmhlbHBlcnMubXVsdGk9ZSxcXFwiZW51bVxcXCI9PWIudHlwZSYmKGEoYi5lbCkuYXR0cihcXFwidGFiaW5kZXhcXFwiLC0xKSxlLmZpbmQoXFxcImlucHV0XFxcIikub24oXFxcImNsaWNrXFxcIixmdW5jdGlvbihjKXswPT1hKFxcXCIjdzJ1aS1vdmVybGF5XFxcIikubGVuZ3RoJiZiLmZvY3VzKGMpLGEoYi5lbCkudHJpZ2dlckhhbmRsZXIoXFxcImNsaWNrXFxcIil9KS5vbihcXFwiZm9jdXNcXFwiLGZ1bmN0aW9uKGMpe2EoZSkuY3NzKHtvdXRsaW5lOlxcXCJhdXRvIDVweCAjN0RCNEYzXFxcIixcXFwib3V0bGluZS1vZmZzZXRcXFwiOlxcXCItMnB4XFxcIn0pLGEoYi5lbCkudHJpZ2dlckhhbmRsZXIoXFxcImZvY3VzXFxcIiksYy5zdG9wUHJvcGFnYXRpb24/Yy5zdG9wUHJvcGFnYXRpb24oKTpjLmNhbmNlbEJ1YmJsZT0hMH0pLm9uKFxcXCJibHVyXFxcIixmdW5jdGlvbihjKXthKGUpLmNzcyhcXFwib3V0bGluZVxcXCIsXFxcIm5vbmVcXFwiKSxhKGIuZWwpLnRyaWdnZXJIYW5kbGVyKFxcXCJibHVyXFxcIiksYy5zdG9wUHJvcGFnYXRpb24/Yy5zdG9wUHJvcGFnYXRpb24oKTpjLmNhbmNlbEJ1YmJsZT0hMH0pLm9uKFxcXCJrZXl1cFxcXCIsZnVuY3Rpb24oYSl7Yi5rZXlVcChhKX0pLm9uKFxcXCJrZXlkb3duXFxcIixmdW5jdGlvbihhKXtiLmtleURvd24oYSl9KS5vbihcXFwia2V5cHJlc3NcXFwiLGZ1bmN0aW9uKGEpe2UuZmluZChcXFwiLncydWktZW51bS1wbGFjZWhvbGRlclxcXCIpLnJlbW92ZSgpLGIua2V5UHJlc3MoYSl9KSxlLm9uKFxcXCJjbGlja1xcXCIsZnVuY3Rpb24oKXthKHRoaXMpLmZpbmQoXFxcImlucHV0XFxcIikuZm9jdXMoKX0pKSxcXFwiZmlsZVxcXCI9PWIudHlwZSYmKGEoYi5lbCkuY3NzKFxcXCJvdXRsaW5lXFxcIixcXFwibm9uZVxcXCIpLGUub24oXFxcImNsaWNrXFxcIixmdW5jdGlvbihjKXthKGIuZWwpLmZvY3VzKCksYShiLmVsKS5hdHRyKFxcXCJyZWFkb25seVxcXCIpfHwoYi5ibHVyKGMpLGUuZmluZChcXFwiaW5wdXRcXFwiKS5jbGljaygpKX0pLm9uKFxcXCJkcmFnZW50ZXJcXFwiLGZ1bmN0aW9uKCl7YShiLmVsKS5hdHRyKFxcXCJyZWFkb25seVxcXCIpfHxhKGUpLmFkZENsYXNzKFxcXCJ3MnVpLWZpbGUtZHJhZ292ZXJcXFwiKX0pLm9uKFxcXCJkcmFnbGVhdmVcXFwiLGZ1bmN0aW9uKGMpe2lmKCFhKGIuZWwpLmF0dHIoXFxcInJlYWRvbmx5XFxcIikpe3ZhciBkPWEoYy50YXJnZXQpLnBhcmVudHMoXFxcIi53MnVpLWZpZWxkLWhlbHBlclxcXCIpOzA9PWQubGVuZ3RoJiZhKGUpLnJlbW92ZUNsYXNzKFxcXCJ3MnVpLWZpbGUtZHJhZ292ZXJcXFwiKX19KS5vbihcXFwiZHJvcFxcXCIsZnVuY3Rpb24oYyl7aWYoIWEoYi5lbCkuYXR0cihcXFwicmVhZG9ubHlcXFwiKSl7YShlKS5yZW1vdmVDbGFzcyhcXFwidzJ1aS1maWxlLWRyYWdvdmVyXFxcIik7Zm9yKHZhciBkPWMub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXIuZmlsZXMsZj0wLGc9ZC5sZW5ndGg7Zz5mO2YrKyliLmFkZEZpbGUuY2FsbChiLGRbZl0pO2MucHJldmVudERlZmF1bHQoKSxjLnN0b3BQcm9wYWdhdGlvbigpfX0pLm9uKFxcXCJkcmFnb3ZlclxcXCIsZnVuY3Rpb24oYSl7YS5wcmV2ZW50RGVmYXVsdCgpLGEuc3RvcFByb3BhZ2F0aW9uKCl9KSxlLmZpbmQoXFxcImlucHV0XFxcIikub24oXFxcImNsaWNrXFxcIixmdW5jdGlvbihhKXthLnN0b3BQcm9wYWdhdGlvbigpfSkub24oXFxcImNoYW5nZVxcXCIsZnVuY3Rpb24oKXtpZihcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIHRoaXMuZmlsZXMpZm9yKHZhciBhPTAsYz10aGlzLmZpbGVzLmxlbmd0aDtjPmE7YSsrKWIuYWRkRmlsZS5jYWxsKGIsdGhpcy5maWxlc1thXSl9KSksYi5yZWZyZXNoKCl9LGFkZEZpbGU6ZnVuY3Rpb24oYil7dmFyIGMsZD10aGlzLGU9dGhpcy5vcHRpb25zLGY9YShkLmVsKS5kYXRhKFxcXCJzZWxlY3RlZFxcXCIpLGc9e25hbWU6Yi5uYW1lLHR5cGU6Yi50eXBlLG1vZGlmaWVkOmIubGFzdE1vZGlmaWVkRGF0ZSxzaXplOmIuc2l6ZSxjb250ZW50Om51bGx9LGg9MCxpPTA7Zm9yKHZhciBqIGluIGYpe2lmKGZbal0ubmFtZT09Yi5uYW1lJiZmW2pdLnNpemU9PWIuc2l6ZSlyZXR1cm47aCs9ZltqXS5zaXplLGkrK312YXIgaz1kLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcImFkZFxcXCIsdGFyZ2V0OmQuZWwsZmlsZTpnLHRvdGFsOmksdG90YWxTaXplOmh9KTtpZihrLmlzQ2FuY2VsbGVkIT09ITApe2lmKDAhPT1lLm1heEZpbGVTaXplJiZnLnNpemU+ZS5tYXhGaWxlU2l6ZSlyZXR1cm4gYz1cXFwiTWF4aW11bSBmaWxlIHNpemUgaXMgXFxcIit3MnV0aWxzLnNpemUoZS5tYXhGaWxlU2l6ZSksZS5zaWxlbnQ9PT0hMSYmYShkLmVsKS53MnRhZyhjKSx2b2lkIGNvbnNvbGUubG9nKFxcXCJFUlJPUjogXFxcIitjKTtpZigwIT09ZS5tYXhTaXplJiZoK2cuc2l6ZT5lLm1heFNpemUpcmV0dXJuIGM9XFxcIk1heGltdW0gdG90YWwgc2l6ZSBpcyBcXFwiK3cydXRpbHMuc2l6ZShlLm1heFNpemUpLGUuc2lsZW50PT09ITEmJmEoZC5lbCkudzJ0YWcoYyksdm9pZCBjb25zb2xlLmxvZyhcXFwiRVJST1I6IFxcXCIrYyk7aWYoMCE9PWUubWF4JiZpPj1lLm1heClyZXR1cm4gYz1cXFwiTWF4aW11bSBudW1iZXIgb2YgZmlsZXMgaXMgXFxcIitlLm1heCxlLnNpbGVudD09PSExJiZhKGQuZWwpLncydGFnKGMpLHZvaWQgY29uc29sZS5sb2coXFxcIkVSUk9SOiBcXFwiK2MpO2lmKGYucHVzaChnKSxcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIEZpbGVSZWFkZXIpe3ZhciBsPW5ldyBGaWxlUmVhZGVyO2wub25sb2FkPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIudGFyZ2V0LnJlc3VsdCxlPWMuaW5kZXhPZihcXFwiLFxcXCIpO2cuY29udGVudD1jLnN1YnN0cihlKzEpLGQucmVmcmVzaCgpLGEoZC5lbCkudHJpZ2dlcihcXFwiY2hhbmdlXFxcIiksZC50cmlnZ2VyKGEuZXh0ZW5kKGsse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSl9fSgpLGwucmVhZEFzRGF0YVVSTChiKX1lbHNlIGQucmVmcmVzaCgpLGEoZC5lbCkudHJpZ2dlcihcXFwiY2hhbmdlXFxcIil9fSxub3JtTWVudTpmdW5jdGlvbihiKXtpZihhLmlzQXJyYXkoYikpe2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKVxcXCJzdHJpbmdcXFwiPT10eXBlb2YgYltjXT9iW2NdPXtpZDpiW2NdLHRleHQ6YltjXX06KFxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgYltjXS50ZXh0JiZcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGJbY10uaWQmJihiW2NdLmlkPWJbY10udGV4dCksXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBiW2NdLnRleHQmJlxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgYltjXS5pZCYmKGJbY10udGV4dD1iW2NdLmlkKSxcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGJbY10uY2FwdGlvbiYmKGJbY10udGV4dD1iW2NdLmNhcHRpb24pKTtyZXR1cm4gYn1pZihcXFwib2JqZWN0XFxcIj09dHlwZW9mIGIpe3ZhciBkPVtdO2Zvcih2YXIgYyBpbiBiKWQucHVzaCh7aWQ6Yyx0ZXh0OmJbY119KTtyZXR1cm4gZH19LGdldENvbG9ySFRNTDpmdW5jdGlvbigpe2Zvcih2YXIgYj0nPGRpdiBjbGFzcz1cXFwidzJ1aS1jb2xvclxcXCI+PHRhYmxlIGNlbGxzcGFjaW5nPVxcXCI1XFxcIj4nLGM9MDs4PmM7YysrKXtiKz1cXFwiPHRyPlxcXCI7Zm9yKHZhciBkPTA7OD5kO2QrKyliKz0nPHRkPiAgICA8ZGl2IGNsYXNzPVxcXCJjb2xvclxcXCIgc3R5bGU9XFxcImJhY2tncm91bmQtY29sb3I6ICMnK3RoaXMucGFsbGV0ZVtjXVtkXSsnO1xcXCIgbmFtZT1cXFwiJyt0aGlzLnBhbGxldGVbY11bZF0rJ1xcXCIgaW5kZXg9XFxcIicrYytcXFwiOlxcXCIrZCsnXFxcIj4gICAgICAgICcrKGEodGhpcy5lbCkudmFsKCk9PXRoaXMucGFsbGV0ZVtjXVtkXT9cXFwiJiMxNDk7XFxcIjpcXFwiJm5ic3A7XFxcIikrXFxcIiAgICA8L2Rpdj48L3RkPlxcXCI7Yis9XFxcIjwvdHI+XFxcIiwyPmMmJihiKz0nPHRyPjx0ZCBzdHlsZT1cXFwiaGVpZ2h0OiA4cHhcXFwiIGNvbHNwYW49XFxcIjhcXFwiPjwvdGQ+PC90cj4nKX1yZXR1cm4gYis9XFxcIjwvdGFibGU+PC9kaXY+XFxcIn0sZ2V0TW9udGhIVE1MOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IERhdGUsZD13MnV0aWxzLnNldHRpbmdzLmZ1bGxtb250aHMsZT0odzJ1dGlscy5zZXR0aW5ncy5mdWxsZGF5cyxbXFxcIjMxXFxcIixcXFwiMjhcXFwiLFxcXCIzMVxcXCIsXFxcIjMwXFxcIixcXFwiMzFcXFwiLFxcXCIzMFxcXCIsXFxcIjMxXFxcIixcXFwiMzFcXFwiLFxcXCIzMFxcXCIsXFxcIjMxXFxcIixcXFwiMzBcXFwiLFxcXCIzMVxcXCJdKSxmPWMuZ2V0RnVsbFllYXIoKStcXFwiL1xcXCIrKE51bWJlcihjLmdldE1vbnRoKCkpKzEpK1xcXCIvXFxcIitjLmdldERhdGUoKTtiPXcydXRpbHMuaXNJbnQoYik/cGFyc2VJbnQoYik6Yy5nZXRGdWxsWWVhcigpLGE9dzJ1dGlscy5pc0ludChhKT9wYXJzZUludChhKTpjLmdldE1vbnRoKCkrMSxhPjEyJiYoYS09MTIsYisrKSwoMT5hfHwwPT09YSkmJihhKz0xMixiLS0pLGVbMV09Yi80PT1NYXRoLmZsb29yKGIvNCk/XFxcIjI5XFxcIjpcXFwiMjhcXFwiLHRoaXMub3B0aW9ucy5jdXJyZW50PWErXFxcIi9cXFwiK2IsYz1uZXcgRGF0ZShiLGEtMSwxKTtmb3IodmFyIGc9Yy5nZXREYXkoKSxoPXcydXRpbHMuc2V0dGluZ3Muc2hvcnRkYXlzLGk9XFxcIlxcXCIsaj0wLGs9aC5sZW5ndGg7az5qO2orKylpKz1cXFwiPHRkPlxcXCIraFtqXStcXFwiPC90ZD5cXFwiO2Zvcih2YXIgbD0nPGRpdiBjbGFzcz1cXFwidzJ1aS1jYWxlbmRhci10aXRsZSB0aXRsZVxcXCI+ICAgIDxkaXYgY2xhc3M9XFxcIncydWktY2FsZW5kYXItcHJldmlvdXMgcHJldmlvdXNcXFwiPiA8ZGl2PjwvZGl2PiA8L2Rpdj4gICAgPGRpdiBjbGFzcz1cXFwidzJ1aS1jYWxlbmRhci1uZXh0IG5leHRcXFwiPiA8ZGl2PjwvZGl2PiA8L2Rpdj4gJytkW2EtMV0rXFxcIiwgXFxcIitiKyc8L2Rpdj48dGFibGUgY2xhc3M9XFxcIncydWktY2FsZW5kYXItZGF5c1xcXCIgY2VsbHNwYWNpbmc9XFxcIjBcXFwiPiAgICA8dHIgY2xhc3M9XFxcIncydWktZGF5LXRpdGxlXFxcIj4nK2krXFxcIjwvdHI+ICAgIDx0cj5cXFwiLG09MSxuPTE7NDM+bjtuKyspe2lmKDA9PT1nJiYxPT1uKXtmb3IodmFyIG89MDs2Pm87bysrKWwrPSc8dGQgY2xhc3M9XFxcIncydWktZGF5LWVtcHR5XFxcIj4mbmJzcDs8L3RkPic7bis9Nn1lbHNlIGlmKGc+bnx8bT5lW2EtMV0pe2wrPSc8dGQgY2xhc3M9XFxcIncydWktZGF5LWVtcHR5XFxcIj4mbmJzcDs8L3RkPicsbiU3PT09MCYmKGwrPVxcXCI8L3RyPjx0cj5cXFwiKTtjb250aW51ZX12YXIgcD1iK1xcXCIvXFxcIithK1xcXCIvXFxcIittLHE9XFxcIlxcXCI7biU3PT02JiYocT1cXFwiIHcydWktc2F0dXJkYXlcXFwiKSxuJTc9PT0wJiYocT1cXFwiIHcydWktc3VuZGF5XFxcIikscD09ZiYmKHErPVxcXCIgdzJ1aS10b2RheVxcXCIpO3ZhciByPW0scz1cXFwiXFxcIix0PVxcXCJcXFwiLHU9dzJ1dGlscy5mb3JtYXREYXRlKHAsdGhpcy5vcHRpb25zLmZvcm1hdCk7dGhpcy5vcHRpb25zLmNvbG9yZWQmJnZvaWQgMCE9PXRoaXMub3B0aW9ucy5jb2xvcmVkW3VdJiYodG1wPXRoaXMub3B0aW9ucy5jb2xvcmVkW3VdLnNwbGl0KFxcXCI6XFxcIiksdD1cXFwiYmFja2dyb3VuZC1jb2xvcjogXFxcIit0bXBbMF0rXFxcIjtcXFwiLHM9XFxcImNvbG9yOiBcXFwiK3RtcFsxXStcXFwiO1xcXCIpLGwrPSc8dGQgY2xhc3M9XFxcIicrKHRoaXMuaW5SYW5nZSh1KT9cXFwidzJ1aS1kYXRlIFxcXCI6XFxcIncydWktYmxvY2tlZFxcXCIpK3ErJ1xcXCIgc3R5bGU9XFxcIicrcyt0KydcXFwiIGRhdGU9XFxcIicrdSsnXFxcIj4nK3IrXFxcIjwvdGQ+XFxcIiwobiU3PT09MHx8MD09PWcmJjE9PW4pJiYobCs9XFxcIjwvdHI+PHRyPlxcXCIpLG0rK31yZXR1cm4gbCs9XFxcIjwvdHI+PC90YWJsZT5cXFwifSxnZXRZZWFySFRNTDpmdW5jdGlvbigpe3ZhciBhPXcydXRpbHMuc2V0dGluZ3Muc2hvcnRtb250aHMsYj1cXFwiXFxcIixjPVxcXCJcXFwiO2Zvcih2YXIgZCBpbiBhKWIrPSc8ZGl2IGNsYXNzPVxcXCJ3MnVpLWp1bXAtbW9udGhcXFwiIG5hbWU9XFxcIicrZCsnXFxcIj4nK2FbZF0rXFxcIjwvZGl2PlxcXCI7Zm9yKHZhciBlPTE5NTA7MjAyMD49ZTtlKyspYys9JzxkaXYgY2xhc3M9XFxcIncydWktanVtcC15ZWFyXFxcIiBuYW1lPVxcXCInK2UrJ1xcXCI+JytlK1xcXCI8L2Rpdj5cXFwiO3JldHVyblxcXCI8ZGl2PlxcXCIrYitcXFwiPC9kaXY+PGRpdj5cXFwiK2MrXFxcIjwvZGl2PlxcXCJ9LGdldEhvdXJIVE1MOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGI9XFxcImgyNFxcXCI9PXRoaXMub3B0aW9ucy5mb3JtYXQ/ITA6ITEsYz0wOzI0PmM7YysrKXt2YXIgZD0oYz49MTImJiFiP2MtMTI6YykrXFxcIjowMFxcXCIrKGI/XFxcIlxcXCI6MTI+Yz9cXFwiIGFtXFxcIjpcXFwiIHBtXFxcIik7MTIhPWN8fGJ8fChkPVxcXCIxMjowMCBwbVxcXCIpLGFbTWF0aC5mbG9vcihjLzgpXXx8KGFbTWF0aC5mbG9vcihjLzgpXT1cXFwiXFxcIik7dmFyIGU9dGhpcy5mcm9tTWluKHRoaXMudG9NaW4oZCkpLGY9dGhpcy5mcm9tTWluKHRoaXMudG9NaW4oZCkrNTkpO2FbTWF0aC5mbG9vcihjLzgpXSs9JzxkaXYgY2xhc3M9XFxcIicrKHRoaXMuaW5SYW5nZShlKXx8dGhpcy5pblJhbmdlKGYpP1xcXCJ3MnVpLXRpbWUgXFxcIjpcXFwidzJ1aS1ibG9ja2VkXFxcIikrJ1xcXCIgaG91cj1cXFwiJytjKydcXFwiPicrZCtcXFwiPC9kaXY+XFxcIn12YXIgZz0nPGRpdiBjbGFzcz1cXFwidzJ1aS1jYWxlbmRhci10aW1lXFxcIj48dGFibGU+PHRyPiAgICA8dGQ+JythWzBdK1xcXCI8L3RkPiAgICA8dGQ+XFxcIithWzFdK1xcXCI8L3RkPiAgICA8dGQ+XFxcIithWzJdK1xcXCI8L3RkPjwvdHI+PC90YWJsZT48L2Rpdj5cXFwiO3JldHVybiBnfSxnZXRNaW5IVE1MOmZ1bmN0aW9uKGEpe1xcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgYSYmKGE9MCk7Zm9yKHZhciBiPVxcXCJoMjRcXFwiPT10aGlzLm9wdGlvbnMuZm9ybWF0PyEwOiExLGM9W10sZD0wOzYwPmQ7ZCs9NSl7dmFyIGU9KGE+MTImJiFiP2EtMTI6YSkrXFxcIjpcXFwiKygxMD5kPzA6XFxcIlxcXCIpK2QrXFxcIiBcXFwiKyhiP1xcXCJcXFwiOjEyPmE/XFxcImFtXFxcIjpcXFwicG1cXFwiKSxmPTIwPmQ/MDo0MD5kPzE6MjtjW2ZdfHwoY1tmXT1cXFwiXFxcIiksY1tmXSs9JzxkaXYgY2xhc3M9XFxcIicrKHRoaXMuaW5SYW5nZShlKT9cXFwidzJ1aS10aW1lIFxcXCI6XFxcIncydWktYmxvY2tlZFxcXCIpKydcXFwiIG1pbj1cXFwiJytkKydcXFwiPicrZStcXFwiPC9kaXY+XFxcIn12YXIgZz0nPGRpdiBjbGFzcz1cXFwidzJ1aS1jYWxlbmRhci10aW1lXFxcIj48dGFibGU+PHRyPiAgICA8dGQ+JytjWzBdK1xcXCI8L3RkPiAgICA8dGQ+XFxcIitjWzFdK1xcXCI8L3RkPiAgICA8dGQ+XFxcIitjWzJdK1xcXCI8L3RkPjwvdHI+PC90YWJsZT48L2Rpdj5cXFwiO3JldHVybiBnfSx0b01pbjpmdW5jdGlvbihhKXtpZihcXFwic3RyaW5nXFxcIiE9dHlwZW9mIGEpcmV0dXJuIG51bGw7dmFyIGI9YS5zcGxpdChcXFwiOlxcXCIpO3JldHVybiAyIT1iLmxlbmd0aD9udWxsOihiWzBdPXBhcnNlSW50KGJbMF0pLGJbMV09cGFyc2VJbnQoYlsxXSksLTEhPWEuaW5kZXhPZihcXFwicG1cXFwiKSYmMTIhPWJbMF0mJihiWzBdKz0xMiksNjAqYlswXStiWzFdKX0sZnJvbU1pbjpmdW5jdGlvbihhKXt2YXIgYj1cXFwiXFxcIjthPj0xNDQwJiYoYSU9MTQ0MCksMD5hJiYoYT0xNDQwK2EpO3ZhciBjPU1hdGguZmxvb3IoYS82MCksZD0oMTA+YSU2MD9cXFwiMFxcXCI6XFxcIlxcXCIpK2ElNjA7cmV0dXJuIGI9LTEhPXRoaXMub3B0aW9ucy5mb3JtYXQuaW5kZXhPZihcXFwiaDI0XFxcIik/YytcXFwiOlxcXCIrZDooMTI+PWM/YzpjLTEyKStcXFwiOlxcXCIrZCtcXFwiIFxcXCIrKGM+PTEyP1xcXCJwbVxcXCI6XFxcImFtXFxcIil9fSxhLmV4dGVuZChiLnByb3RvdHlwZSx3MnV0aWxzLmV2ZW50KSx3Mm9iai5maWVsZD1ifShqUXVlcnkpLGZ1bmN0aW9uKCl7dmFyIHcyZm9ybT1mdW5jdGlvbihhKXt0aGlzLm5hbWU9bnVsbCx0aGlzLmhlYWRlcj1cXFwiXFxcIix0aGlzLmJveD1udWxsLHRoaXMudXJsPVxcXCJcXFwiLHRoaXMucm91dGVEYXRhPXt9LHRoaXMuZm9ybVVSTD1cXFwiXFxcIix0aGlzLmZvcm1IVE1MPVxcXCJcXFwiLHRoaXMucGFnZT0wLHRoaXMucmVjaWQ9MCx0aGlzLmZpZWxkcz1bXSx0aGlzLmFjdGlvbnM9e30sdGhpcy5yZWNvcmQ9e30sdGhpcy5vcmlnaW5hbD17fSx0aGlzLnBvc3REYXRhPXt9LHRoaXMudG9vbGJhcj17fSx0aGlzLnRhYnM9e30sdGhpcy5zdHlsZT1cXFwiXFxcIix0aGlzLmZvY3VzPTAsdGhpcy5tc2dOb3RKU09OPXcydXRpbHMubGFuZyhcXFwiUmV0dXJuIGRhdGEgaXMgbm90IGluIEpTT04gZm9ybWF0LlxcXCIpLHRoaXMubXNnQUpBWGVycm9yPXcydXRpbHMubGFuZyhcXFwiQUpBWCBlcnJvci4gU2VlIGNvbnNvbGUgZm9yIG1vcmUgZGV0YWlscy5cXFwiKSx0aGlzLm1zZ1JlZnJlc2g9dzJ1dGlscy5sYW5nKFxcXCJSZWZyZXNoaW5nLi4uXFxcIiksdGhpcy5tc2dTYXZpbmc9dzJ1dGlscy5sYW5nKFxcXCJTYXZpbmcuLi5cXFwiKSx0aGlzLm9uUmVxdWVzdD1udWxsLHRoaXMub25Mb2FkPW51bGwsdGhpcy5vblZhbGlkYXRlPW51bGwsdGhpcy5vblN1Ym1pdD1udWxsLHRoaXMub25TYXZlPW51bGwsdGhpcy5vbkNoYW5nZT1udWxsLHRoaXMub25SZW5kZXI9bnVsbCx0aGlzLm9uUmVmcmVzaD1udWxsLHRoaXMub25SZXNpemU9bnVsbCx0aGlzLm9uRGVzdHJveT1udWxsLHRoaXMub25BY3Rpb249bnVsbCx0aGlzLm9uVG9vbGJhcj1udWxsLHRoaXMub25FcnJvcj1udWxsLHRoaXMuaXNHZW5lcmF0ZWQ9ITEsdGhpcy5sYXN0PXt4aHI6bnVsbH0sJC5leHRlbmQoITAsdGhpcyx3Mm9iai5mb3JtLGEpfTskLmZuLncyZm9ybT1mdW5jdGlvbihhKXtpZihcXFwib2JqZWN0XFxcIj09dHlwZW9mIGF8fCFhKXt2YXIgYj10aGlzO2lmKCF3MnV0aWxzLmNoZWNrTmFtZShhLFxcXCJ3MmZvcm1cXFwiKSlyZXR1cm47dmFyIGM9YS5yZWNvcmQsZD1hLm9yaWdpbmFsLGU9YS5maWVsZHMsZj1hLnRvb2xiYXIsZz1hLnRhYnMsaD1uZXcgdzJmb3JtKGEpO2lmKCQuZXh0ZW5kKGgse3JlY29yZDp7fSxvcmlnaW5hbDp7fSxmaWVsZHM6W10sdGFiczp7fSx0b29sYmFyOnt9LGhhbmRsZXJzOltdfSksJC5pc0FycmF5KGcpKXskLmV4dGVuZCghMCxoLnRhYnMse3RhYnM6W119KTtmb3IodmFyIGkgaW4gZyl7dmFyIGo9Z1tpXTtoLnRhYnMudGFicy5wdXNoKFxcXCJvYmplY3RcXFwiPT10eXBlb2Ygaj9qOntpZDpqLGNhcHRpb246an0pfX1lbHNlICQuZXh0ZW5kKCEwLGgudGFicyxnKTskLmV4dGVuZCghMCxoLnRvb2xiYXIsZik7Zm9yKHZhciBrIGluIGUpe3ZhciBsPSQuZXh0ZW5kKCEwLHt9LGVba10pO1xcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgbC5uYW1lJiZcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGwuZmllbGQmJihsLm5hbWU9bC5maWVsZCksXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBsLmZpZWxkJiZcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGwubmFtZSYmKGwuZmllbGQ9bC5uYW1lKSxoLmZpZWxkc1trXT1sfWZvcih2YXIgayBpbiBjKWgucmVjb3JkW2tdPSQuaXNQbGFpbk9iamVjdChjW2tdKT8kLmV4dGVuZCghMCx7fSxjW2tdKTpjW2tdO2Zvcih2YXIgayBpbiBkKWgub3JpZ2luYWxba109JC5pc1BsYWluT2JqZWN0KGRba10pPyQuZXh0ZW5kKCEwLHt9LGRba10pOmRba107cmV0dXJuIGIubGVuZ3RoPjAmJihoLmJveD1iWzBdKSxcXFwiXFxcIiE9aC5mb3JtVVJMPyQuZ2V0KGguZm9ybVVSTCxmdW5jdGlvbihhKXtoLmZvcm1IVE1MPWEsaC5pc0dlbmVyYXRlZD0hMCwoMCE9JChoLmJveCkubGVuZ3RofHwwIT1hLmxlbmd0aCkmJigkKGguYm94KS5odG1sKGEpLGgucmVuZGVyKGguYm94KSl9KTpcXFwiXFxcIiE9aC5mb3JtSFRNTHx8KGguZm9ybUhUTUw9MCE9JCh0aGlzKS5sZW5ndGgmJlxcXCJcXFwiIT0kLnRyaW0oJCh0aGlzKS5odG1sKCkpPyQodGhpcykuaHRtbCgpOmguZ2VuZXJhdGVIVE1MKCkpLHcydWlbaC5uYW1lXT1oLFxcXCJcXFwiPT1oLmZvcm1VUkwmJigtMT09U3RyaW5nKGguZm9ybUhUTUwpLmluZGV4T2YoXFxcIncydWktcGFnZVxcXCIpJiYoaC5mb3JtSFRNTD0nPGRpdiBjbGFzcz1cXFwidzJ1aS1wYWdlIHBhZ2UtMFxcXCI+JytoLmZvcm1IVE1MK1xcXCI8L2Rpdj5cXFwiKSwkKGguYm94KS5odG1sKGguZm9ybUhUTUwpLGguaXNHZW5lcmF0ZWQ9ITAsaC5yZW5kZXIoaC5ib3gpKSxofWlmKHcydWlbJCh0aGlzKS5hdHRyKFxcXCJuYW1lXFxcIildKXt2YXIgYj13MnVpWyQodGhpcykuYXR0cihcXFwibmFtZVxcXCIpXTtyZXR1cm4gYlthXS5hcHBseShiLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSksdGhpc31jb25zb2xlLmxvZyhcXFwiRVJST1I6IE1ldGhvZCBcXFwiK2ErXFxcIiBkb2VzIG5vdCBleGlzdCBvbiBqUXVlcnkudzJmb3JtXFxcIil9LHcyZm9ybS5wcm90b3R5cGU9e2dldDpmdW5jdGlvbihhLGIpe2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgYz1bXTtmb3IodmFyIGQgaW4gdGhpcy5maWVsZHMpbnVsbCE9dGhpcy5maWVsZHNbZF0ubmFtZSYmYy5wdXNoKHRoaXMuZmllbGRzW2RdLm5hbWUpO3JldHVybiBjfWZvcih2YXIgZSBpbiB0aGlzLmZpZWxkcylpZih0aGlzLmZpZWxkc1tlXS5uYW1lPT1hKXJldHVybiBiPT09ITA/ZTp0aGlzLmZpZWxkc1tlXTtyZXR1cm4gbnVsbH0sc2V0OmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjIGluIHRoaXMuZmllbGRzKWlmKHRoaXMuZmllbGRzW2NdLm5hbWU9PWEpcmV0dXJuICQuZXh0ZW5kKHRoaXMuZmllbGRzW2NdLGIpLHRoaXMucmVmcmVzaCgpLCEwO3JldHVybiExfSxyZWxvYWQ6ZnVuY3Rpb24oYSl7dmFyIGI9XFxcIm9iamVjdFxcXCIhPXR5cGVvZiB0aGlzLnVybD90aGlzLnVybDp0aGlzLnVybC5nZXQ7YiYmMCE9dGhpcy5yZWNpZD90aGlzLnJlcXVlc3QoYSk6XFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGEmJmEoKX0sY2xlYXI6ZnVuY3Rpb24oKXt0aGlzLnJlY2lkPTAsdGhpcy5yZWNvcmQ9e30sJCgpLncydGFnKCksdGhpcy5yZWZyZXNoKCl9LGVycm9yOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudHJpZ2dlcih7dGFyZ2V0OnRoaXMubmFtZSx0eXBlOlxcXCJlcnJvclxcXCIsbWVzc2FnZTphLHhocjp0aGlzLmxhc3QueGhyfSk7cmV0dXJuIGIuaXNDYW5jZWxsZWQ9PT0hMD92b2lkKFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBjYWxsQmFjayYmY2FsbEJhY2soKSk6KHNldFRpbWVvdXQoZnVuY3Rpb24oKXt3MmFsZXJ0KGEsXFxcIkVycm9yXFxcIil9LDEpLHZvaWQgdGhpcy50cmlnZ2VyKCQuZXh0ZW5kKGIse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSkpfSx2YWxpZGF0ZTpmdW5jdGlvbihhKXtcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGEmJihhPSEwKSwkKCkudzJ0YWcoKTt2YXIgYj1bXTtmb3IodmFyIGMgaW4gdGhpcy5maWVsZHMpe3ZhciBkPXRoaXMuZmllbGRzW2NdO3N3aXRjaChudWxsPT10aGlzLnJlY29yZFtkLm5hbWVdJiYodGhpcy5yZWNvcmRbZC5uYW1lXT1cXFwiXFxcIiksZC50eXBlKXtjYXNlXFxcImludFxcXCI6dGhpcy5yZWNvcmRbZC5uYW1lXSYmIXcydXRpbHMuaXNJbnQodGhpcy5yZWNvcmRbZC5uYW1lXSkmJmIucHVzaCh7ZmllbGQ6ZCxlcnJvcjp3MnV0aWxzLmxhbmcoXFxcIk5vdCBhbiBpbnRlZ2VyXFxcIil9KTticmVhaztjYXNlXFxcImZsb2F0XFxcIjp0aGlzLnJlY29yZFtkLm5hbWVdJiYhdzJ1dGlscy5pc0Zsb2F0KHRoaXMucmVjb3JkW2QubmFtZV0pJiZiLnB1c2goe2ZpZWxkOmQsZXJyb3I6dzJ1dGlscy5sYW5nKFxcXCJOb3QgYSBmbG9hdFxcXCIpfSk7YnJlYWs7Y2FzZVxcXCJtb25leVxcXCI6dGhpcy5yZWNvcmRbZC5uYW1lXSYmIXcydXRpbHMuaXNNb25leSh0aGlzLnJlY29yZFtkLm5hbWVdKSYmYi5wdXNoKHtmaWVsZDpkLGVycm9yOncydXRpbHMubGFuZyhcXFwiTm90IGluIG1vbmV5IGZvcm1hdFxcXCIpfSk7YnJlYWs7Y2FzZVxcXCJjb2xvclxcXCI6Y2FzZVxcXCJoZXhcXFwiOnRoaXMucmVjb3JkW2QubmFtZV0mJiF3MnV0aWxzLmlzSGV4KHRoaXMucmVjb3JkW2QubmFtZV0pJiZiLnB1c2goe2ZpZWxkOmQsZXJyb3I6dzJ1dGlscy5sYW5nKFxcXCJOb3QgYSBoZXggbnVtYmVyXFxcIil9KTticmVhaztjYXNlXFxcImVtYWlsXFxcIjp0aGlzLnJlY29yZFtkLm5hbWVdJiYhdzJ1dGlscy5pc0VtYWlsKHRoaXMucmVjb3JkW2QubmFtZV0pJiZiLnB1c2goe2ZpZWxkOmQsZXJyb3I6dzJ1dGlscy5sYW5nKFxcXCJOb3QgYSB2YWxpZCBlbWFpbFxcXCIpfSk7YnJlYWs7Y2FzZVxcXCJjaGVja2JveFxcXCI6dGhpcy5yZWNvcmRbZC5uYW1lXT0xPT10aGlzLnJlY29yZFtkLm5hbWVdPzE6MDticmVhaztjYXNlXFxcImRhdGVcXFwiOmQub3B0aW9ucy5mb3JtYXR8fChkLm9wdGlvbnMuZm9ybWF0PXcydXRpbHMuc2V0dGluZ3MuZGF0ZV9mb3JtYXQpLHRoaXMucmVjb3JkW2QubmFtZV0mJiF3MnV0aWxzLmlzRGF0ZSh0aGlzLnJlY29yZFtkLm5hbWVdLGQub3B0aW9ucy5mb3JtYXQpJiZiLnB1c2goe2ZpZWxkOmQsZXJyb3I6dzJ1dGlscy5sYW5nKFxcXCJOb3QgYSB2YWxpZCBkYXRlXFxcIikrXFxcIjogXFxcIitkLm9wdGlvbnMuZm9ybWF0fSk7YnJlYWs7Y2FzZVxcXCJsaXN0XFxcIjpjYXNlXFxcImNvbWJvXFxcIjpicmVhaztjYXNlXFxcImVudW1cXFwiOn12YXIgZT10aGlzLnJlY29yZFtkLm5hbWVdO2QucmVxdWlyZWQmJihcXFwiXFxcIj09PWV8fCQuaXNBcnJheShlKSYmMD09ZS5sZW5ndGh8fCQuaXNQbGFpbk9iamVjdChlKSYmJC5pc0VtcHR5T2JqZWN0KGUpKSYmYi5wdXNoKHtmaWVsZDpkLGVycm9yOncydXRpbHMubGFuZyhcXFwiUmVxdWlyZWQgZmllbGRcXFwiKX0pLGQuZXF1YWx0byYmdGhpcy5yZWNvcmRbZC5uYW1lXSE9dGhpcy5yZWNvcmRbZC5lcXVhbHRvXSYmYi5wdXNoKHtmaWVsZDpkLGVycm9yOncydXRpbHMubGFuZyhcXFwiRmllbGQgc2hvdWxkIGJlIGVxdWFsIHRvIFxcXCIpK2QuZXF1YWx0b30pfXZhciBmPXRoaXMudHJpZ2dlcih7cGhhc2U6XFxcImJlZm9yZVxcXCIsdGFyZ2V0OnRoaXMubmFtZSx0eXBlOlxcXCJ2YWxpZGF0ZVxcXCIsZXJyb3JzOmJ9KTtpZihmLmlzQ2FuY2VsbGVkIT09ITApe2lmKGEpZm9yKHZhciBnIGluIGYuZXJyb3JzKXt2YXIgaD1mLmVycm9yc1tnXTtcXFwicmFkaW9cXFwiPT1oLmZpZWxkLnR5cGU/JCgkKGguZmllbGQuZWwpLnBhcmVudHMoXFxcImRpdlxcXCIpWzBdKS53MnRhZyhoLmVycm9yLHtcXFwiY2xhc3NcXFwiOlxcXCJ3MnVpLWVycm9yXFxcIn0pOi0xIT1bXFxcImVudW1cXFwiLFxcXCJmaWxlXFxcIl0uaW5kZXhPZihoLmZpZWxkLnR5cGUpPyFmdW5jdGlvbihhKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGI9JChhLmZpZWxkLmVsKS5kYXRhKFxcXCJ3MmZpZWxkXFxcIikuaGVscGVycy5tdWx0aTskKGEuZmllbGQuZWwpLncydGFnKGEuZXJyb3IpLCQoYikuYWRkQ2xhc3MoXFxcIncydWktZXJyb3JcXFwiKX0sMSl9KGgpOiQoaC5maWVsZC5lbCkudzJ0YWcoaC5lcnJvcix7XFxcImNsYXNzXFxcIjpcXFwidzJ1aS1lcnJvclxcXCJ9KSx0aGlzLmdvdG8oYlswXS5maWVsZC5wYWdlKX1yZXR1cm4gdGhpcy50cmlnZ2VyKCQuZXh0ZW5kKGYse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSksYn19LGdldENoYW5nZXM6ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihiLGMsZCl7Zm9yKHZhciBlIGluIGIpXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBiW2VdPyhkW2VdPWEoYltlXSxjW2VdfHx7fSx7fSksKCFkW2VdfHwkLmlzRW1wdHlPYmplY3QoZFtlXSkpJiZkZWxldGUgZFtlXSk6YltlXSE9Y1tlXSYmKGRbZV09YltlXSk7cmV0dXJuIGR9O3JldHVybiBhKHRoaXMucmVjb3JkLHRoaXMub3JpZ2luYWwse30pfSxyZXF1ZXN0OmZ1bmN0aW9uKHBvc3REYXRhLGNhbGxCYWNrKXt2YXIgb2JqPXRoaXM7aWYoXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIHBvc3REYXRhJiYoY2FsbEJhY2s9cG9zdERhdGEscG9zdERhdGE9bnVsbCksKFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgcG9zdERhdGF8fG51bGw9PXBvc3REYXRhKSYmKHBvc3REYXRhPXt9KSx0aGlzLnVybCYmKFxcXCJvYmplY3RcXFwiIT10eXBlb2YgdGhpcy51cmx8fHRoaXMudXJsLmdldCkpeyhudWxsPT10aGlzLnJlY2lkfHxcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIHRoaXMucmVjaWQpJiYodGhpcy5yZWNpZD0wKTt2YXIgcGFyYW1zPXt9O3BhcmFtcy5jbWQ9XFxcImdldC1yZWNvcmRcXFwiLHBhcmFtcy5yZWNpZD10aGlzLnJlY2lkLCQuZXh0ZW5kKHBhcmFtcyx0aGlzLnBvc3REYXRhKSwkLmV4dGVuZChwYXJhbXMscG9zdERhdGEpO3ZhciBldmVudERhdGE9dGhpcy50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJyZXF1ZXN0XFxcIix0YXJnZXQ6dGhpcy5uYW1lLHVybDp0aGlzLnVybCxwb3N0RGF0YTpwYXJhbXN9KTtpZihldmVudERhdGEuaXNDYW5jZWxsZWQ9PT0hMClyZXR1cm4gdm9pZChcXFwiZnVuY3Rpb25cXFwiPT10eXBlb2YgY2FsbEJhY2smJmNhbGxCYWNrKHtzdGF0dXM6XFxcImVycm9yXFxcIixtZXNzYWdlOlxcXCJSZXF1ZXN0IGFib3J0ZWQuXFxcIn0pKTt0aGlzLnJlY29yZD17fSx0aGlzLm9yaWdpbmFsPXt9LHRoaXMubG9jayh0aGlzLm1zZ1JlZnJlc2gpO3ZhciB1cmw9ZXZlbnREYXRhLnVybDtpZihcXFwib2JqZWN0XFxcIj09dHlwZW9mIGV2ZW50RGF0YS51cmwmJmV2ZW50RGF0YS51cmwuZ2V0JiYodXJsPWV2ZW50RGF0YS51cmwuZ2V0KSx0aGlzLmxhc3QueGhyKXRyeXt0aGlzLmxhc3QueGhyLmFib3J0KCl9Y2F0Y2goZSl7fWlmKCEkLmlzRW1wdHlPYmplY3Qob2JqLnJvdXRlRGF0YSkpe3ZhciBpbmZvPXcydXRpbHMucGFyc2VSb3V0ZSh1cmwpO2lmKGluZm8ua2V5cy5sZW5ndGg+MClmb3IodmFyIGs9MDtrPGluZm8ua2V5cy5sZW5ndGg7aysrKW51bGwhPW9iai5yb3V0ZURhdGFbaW5mby5rZXlzW2tdLm5hbWVdJiYodXJsPXVybC5yZXBsYWNlKG5ldyBSZWdFeHAoXFxcIjpcXFwiK2luZm8ua2V5c1trXS5uYW1lLFxcXCJnXFxcIiksb2JqLnJvdXRlRGF0YVtpbmZvLmtleXNba10ubmFtZV0pKX12YXIgYWpheE9wdGlvbnM9e3R5cGU6XFxcIlBPU1RcXFwiLHVybDp1cmwsZGF0YTpldmVudERhdGEucG9zdERhdGEsZGF0YVR5cGU6XFxcInRleHRcXFwifTtcXFwiSFRUUFxcXCI9PXcydXRpbHMuc2V0dGluZ3MuZGF0YVR5cGUmJihhamF4T3B0aW9ucy5kYXRhPVN0cmluZygkLnBhcmFtKGFqYXhPcHRpb25zLmRhdGEsITEpKS5yZXBsYWNlKC8lNUIvZyxcXFwiW1xcXCIpLnJlcGxhY2UoLyU1RC9nLFxcXCJdXFxcIikpLFxcXCJSRVNURlVMTFxcXCI9PXcydXRpbHMuc2V0dGluZ3MuZGF0YVR5cGUmJihhamF4T3B0aW9ucy50eXBlPVxcXCJHRVRcXFwiLGFqYXhPcHRpb25zLmRhdGE9U3RyaW5nKCQucGFyYW0oYWpheE9wdGlvbnMuZGF0YSwhMSkpLnJlcGxhY2UoLyU1Qi9nLFxcXCJbXFxcIikucmVwbGFjZSgvJTVEL2csXFxcIl1cXFwiKSksXFxcIkpTT05cXFwiPT13MnV0aWxzLnNldHRpbmdzLmRhdGFUeXBlJiYoYWpheE9wdGlvbnMudHlwZT1cXFwiUE9TVFxcXCIsYWpheE9wdGlvbnMuZGF0YT1KU09OLnN0cmluZ2lmeShhamF4T3B0aW9ucy5kYXRhKSxhamF4T3B0aW9ucy5jb250ZW50VHlwZT1cXFwiYXBwbGljYXRpb24vanNvblxcXCIpLHRoaXMubGFzdC54aHI9JC5hamF4KGFqYXhPcHRpb25zKS5kb25lKGZ1bmN0aW9uKGRhdGEsc3RhdHVzLHhocil7b2JqLnVubG9jaygpO3ZhciBldmVudERhdGE9b2JqLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHRhcmdldDpvYmoubmFtZSx0eXBlOlxcXCJsb2FkXFxcIix4aHI6eGhyfSk7aWYoZXZlbnREYXRhLmlzQ2FuY2VsbGVkPT09ITApcmV0dXJuIHZvaWQoXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIGNhbGxCYWNrJiZjYWxsQmFjayh7c3RhdHVzOlxcXCJlcnJvclxcXCIsbWVzc2FnZTpcXFwiUmVxdWVzdCBhYm9ydGVkLlxcXCJ9KSk7dmFyIGRhdGEscmVzcG9uc2VUZXh0PW9iai5sYXN0Lnhoci5yZXNwb25zZVRleHQ7aWYoXFxcImVycm9yXFxcIiE9c3RhdHVzKXtpZihcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIHJlc3BvbnNlVGV4dCYmXFxcIlxcXCIhPXJlc3BvbnNlVGV4dCl7aWYoXFxcIm9iamVjdFxcXCI9PXR5cGVvZiByZXNwb25zZVRleHQpZGF0YT1yZXNwb25zZVRleHQ7ZWxzZSB0cnl7ZXZhbChcXFwiZGF0YSA9IFxcXCIrcmVzcG9uc2VUZXh0KX1jYXRjaChlKXt9XFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBkYXRhJiYoZGF0YT17c3RhdHVzOlxcXCJlcnJvclxcXCIsbWVzc2FnZTpvYmoubXNnTm90SlNPTixyZXNwb25zZVRleHQ6cmVzcG9uc2VUZXh0fSksXFxcImVycm9yXFxcIj09ZGF0YS5zdGF0dXM/b2JqLmVycm9yKGRhdGEubWVzc2FnZSk6KG9iai5yZWNvcmQ9JC5leHRlbmQoe30sZGF0YS5yZWNvcmQpLG9iai5vcmlnaW5hbD0kLmV4dGVuZCh7fSxkYXRhLnJlY29yZCkpfX1lbHNlIG9iai5lcnJvcihcXFwiQUpBWCBFcnJvciBcXFwiK3hoci5zdGF0dXMrXFxcIjogXFxcIit4aHIuc3RhdHVzVGV4dCksZGF0YT17c3RhdHVzOlxcXCJlcnJvclxcXCIsbWVzc2FnZTpvYmoubXNnQUpBWGVycm9yLHJlc3BvbnNlVGV4dDpyZXNwb25zZVRleHR9O29iai50cmlnZ2VyKCQuZXh0ZW5kKGV2ZW50RGF0YSx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKSxvYmoucmVmcmVzaCgpLFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBjYWxsQmFjayYmY2FsbEJhY2soZGF0YSl9KS5mYWlsKGZ1bmN0aW9uKGEsYixjKXt2YXIgZD17c3RhdHVzOmIsZXJyb3I6YyxyYXdSZXNwb25zZVRleHQ6YS5yZXNwb25zZVRleHR9LGU9b2JqLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHR5cGU6XFxcImVycm9yXFxcIixlcnJvcjpkLHhocjphfSk7aWYoZS5pc0NhbmNlbGxlZCE9PSEwKXtpZihcXFwiYWJvcnRcXFwiIT1iKXt2YXIgZjt0cnl7Zj0kLnBhcnNlSlNPTihhLnJlc3BvbnNlVGV4dCl9Y2F0Y2goZyl7fWNvbnNvbGUubG9nKFxcXCJFUlJPUjogU2VydmVyIGNvbW11bmljYXRpb24gZmFpbGVkLlxcXCIsXFxcIlxcXFxuICAgRVhQRUNURUQ6XFxcIix7c3RhdHVzOlxcXCJzdWNjZXNzXFxcIixpdGVtczpbe2lkOjEsdGV4dDpcXFwiaXRlbVxcXCJ9XX0sXFxcIlxcXFxuICAgICAgICAgT1I6XFxcIix7c3RhdHVzOlxcXCJlcnJvclxcXCIsbWVzc2FnZTpcXFwiZXJyb3IgbWVzc2FnZVxcXCJ9LFxcXCJcXFxcbiAgIFJFQ0VJVkVEOlxcXCIsXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBmP2Y6YS5yZXNwb25zZVRleHQpfW9iai50cmlnZ2VyKCQuZXh0ZW5kKGUse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSl9fSksdGhpcy50cmlnZ2VyKCQuZXh0ZW5kKGV2ZW50RGF0YSx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX19LHN1Ym1pdDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnNhdmUoYSxiKX0sc2F2ZTpmdW5jdGlvbihwb3N0RGF0YSxjYWxsQmFjayl7dmFyIG9iaj10aGlzOyQodGhpcy5ib3gpLmZpbmQoXFxcIjpmb2N1c1xcXCIpLmNoYW5nZSgpLFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBwb3N0RGF0YSYmKGNhbGxCYWNrPXBvc3REYXRhLHBvc3REYXRhPW51bGwpO3ZhciBlcnJvcnM9b2JqLnZhbGlkYXRlKCEwKTtpZigwPT09ZXJyb3JzLmxlbmd0aCl7aWYoKFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgcG9zdERhdGF8fG51bGw9PXBvc3REYXRhKSYmKHBvc3REYXRhPXt9KSwhb2JqLnVybHx8XFxcIm9iamVjdFxcXCI9PXR5cGVvZiBvYmoudXJsJiYhb2JqLnVybC5zYXZlKXJldHVybiB2b2lkIGNvbnNvbGUubG9nKFxcXCJFUlJPUjogRm9ybSBjYW5ub3QgYmUgc2F2ZWQgYmVjYXVzZSBubyB1cmwgaXMgZGVmaW5lZC5cXFwiKTtvYmoubG9jayhvYmoubXNnU2F2aW5nKycgPHNwYW4gaWQ9XFxcIicrb2JqLm5hbWUrJ19wcm9ncmVzc1xcXCI+PC9zcGFuPicpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgcGFyYW1zPXt9O3BhcmFtcy5jbWQ9XFxcInNhdmUtcmVjb3JkXFxcIixwYXJhbXMucmVjaWQ9b2JqLnJlY2lkLCQuZXh0ZW5kKHBhcmFtcyxvYmoucG9zdERhdGEpLCQuZXh0ZW5kKHBhcmFtcyxwb3N0RGF0YSkscGFyYW1zLnJlY29yZD0kLmV4dGVuZCghMCx7fSxvYmoucmVjb3JkKTt2YXIgZXZlbnREYXRhPW9iai50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJzdWJtaXRcXFwiLHRhcmdldDpvYmoubmFtZSx1cmw6b2JqLnVybCxwb3N0RGF0YTpwYXJhbXN9KTtpZihldmVudERhdGEuaXNDYW5jZWxsZWQhPT0hMCl7dmFyIHVybD1ldmVudERhdGEudXJsO2lmKFxcXCJvYmplY3RcXFwiPT10eXBlb2YgZXZlbnREYXRhLnVybCYmZXZlbnREYXRhLnVybC5zYXZlJiYodXJsPWV2ZW50RGF0YS51cmwuc2F2ZSksb2JqLmxhc3QueGhyKXRyeXtvYmoubGFzdC54aHIuYWJvcnQoKX1jYXRjaChlKXt9aWYoISQuaXNFbXB0eU9iamVjdChvYmoucm91dGVEYXRhKSl7dmFyIGluZm89dzJ1dGlscy5wYXJzZVJvdXRlKHVybCk7aWYoaW5mby5rZXlzLmxlbmd0aD4wKWZvcih2YXIgaz0wO2s8aW5mby5rZXlzLmxlbmd0aDtrKyspbnVsbCE9b2JqLnJvdXRlRGF0YVtpbmZvLmtleXNba10ubmFtZV0mJih1cmw9dXJsLnJlcGxhY2UobmV3IFJlZ0V4cChcXFwiOlxcXCIraW5mby5rZXlzW2tdLm5hbWUsXFxcImdcXFwiKSxvYmoucm91dGVEYXRhW2luZm8ua2V5c1trXS5uYW1lXSkpfXZhciBhamF4T3B0aW9ucz17dHlwZTpcXFwiUE9TVFxcXCIsdXJsOnVybCxkYXRhOmV2ZW50RGF0YS5wb3N0RGF0YSxkYXRhVHlwZTpcXFwidGV4dFxcXCIseGhyOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdDtyZXR1cm4gYS51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcXFwicHJvZ3Jlc3NcXFwiLGZ1bmN0aW9uKGEpe2lmKGEubGVuZ3RoQ29tcHV0YWJsZSl7dmFyIGI9TWF0aC5yb3VuZChhLmxvYWRlZC9hLnRvdGFsKjEwMCk7JChcXFwiI1xcXCIrb2JqLm5hbWUrXFxcIl9wcm9ncmVzc1xcXCIpLnRleHQoXFxcIlxcXCIrYitcXFwiJVxcXCIpfX0sITEpLGF9fTtcXFwiSFRUUFxcXCI9PXcydXRpbHMuc2V0dGluZ3MuZGF0YVR5cGUmJihhamF4T3B0aW9ucy5kYXRhPVN0cmluZygkLnBhcmFtKGFqYXhPcHRpb25zLmRhdGEsITEpKS5yZXBsYWNlKC8lNUIvZyxcXFwiW1xcXCIpLnJlcGxhY2UoLyU1RC9nLFxcXCJdXFxcIikpLFxcXCJSRVNURlVMTFxcXCI9PXcydXRpbHMuc2V0dGluZ3MuZGF0YVR5cGUmJigwIT1vYmoucmVjaWQmJihhamF4T3B0aW9ucy50eXBlPVxcXCJQVVRcXFwiKSxhamF4T3B0aW9ucy5kYXRhPVN0cmluZygkLnBhcmFtKGFqYXhPcHRpb25zLmRhdGEsITEpKS5yZXBsYWNlKC8lNUIvZyxcXFwiW1xcXCIpLnJlcGxhY2UoLyU1RC9nLFxcXCJdXFxcIikpLFxcXCJKU09OXFxcIj09dzJ1dGlscy5zZXR0aW5ncy5kYXRhVHlwZSYmKGFqYXhPcHRpb25zLnR5cGU9XFxcIlBPU1RcXFwiLGFqYXhPcHRpb25zLmRhdGE9SlNPTi5zdHJpbmdpZnkoYWpheE9wdGlvbnMuZGF0YSksYWpheE9wdGlvbnMuY29udGVudFR5cGU9XFxcImFwcGxpY2F0aW9uL2pzb25cXFwiKSxvYmoubGFzdC54aHI9JC5hamF4KGFqYXhPcHRpb25zKS5kb25lKGZ1bmN0aW9uKGRhdGEsc3RhdHVzLHhocil7b2JqLnVubG9jaygpO3ZhciBldmVudERhdGE9b2JqLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHRhcmdldDpvYmoubmFtZSx0eXBlOlxcXCJzYXZlXFxcIix4aHI6eGhyLHN0YXR1czpzdGF0dXN9KTtpZihldmVudERhdGEuaXNDYW5jZWxsZWQhPT0hMCl7dmFyIGRhdGEscmVzcG9uc2VUZXh0PXhoci5yZXNwb25zZVRleHQ7aWYoXFxcImVycm9yXFxcIiE9c3RhdHVzKXtpZihcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIHJlc3BvbnNlVGV4dCYmXFxcIlxcXCIhPXJlc3BvbnNlVGV4dCl7aWYoXFxcIm9iamVjdFxcXCI9PXR5cGVvZiByZXNwb25zZVRleHQpZGF0YT1yZXNwb25zZVRleHQ7ZWxzZSB0cnl7ZXZhbChcXFwiZGF0YSA9IFxcXCIrcmVzcG9uc2VUZXh0KX1jYXRjaChlKXt9XFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBkYXRhJiYoZGF0YT17c3RhdHVzOlxcXCJlcnJvclxcXCIsbWVzc2FnZTpvYmoubXNnTm90SlNPTixyZXNwb25zZVRleHQ6cmVzcG9uc2VUZXh0fSksXFxcImVycm9yXFxcIj09ZGF0YS5zdGF0dXM/b2JqLmVycm9yKGRhdGEubWVzc2FnZSk6b2JqLm9yaWdpbmFsPSQuZXh0ZW5kKHt9LG9iai5yZWNvcmQpfX1lbHNlIG9iai5lcnJvcihcXFwiQUpBWCBFcnJvciBcXFwiK3hoci5zdGF0dXMrXFxcIjogXFxcIit4aHIuc3RhdHVzVGV4dCksZGF0YT17c3RhdHVzOlxcXCJlcnJvclxcXCIsbWVzc2FnZTpvYmoubXNnQUpBWGVycm9yLHJlc3BvbnNlVGV4dDpyZXNwb25zZVRleHR9O29iai50cmlnZ2VyKCQuZXh0ZW5kKGV2ZW50RGF0YSx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKSxvYmoucmVmcmVzaCgpLFxcXCJzdWNjZXNzXFxcIj09ZGF0YS5zdGF0dXMmJlxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiBjYWxsQmFjayYmY2FsbEJhY2soZGF0YSl9fSkuZmFpbChmdW5jdGlvbihhLGIsYyl7dmFyIGQ9e3N0YXR1czpiLGVycm9yOmMscmF3UmVzcG9uc2VUZXh0OmEucmVzcG9uc2VUZXh0fSxlPW9iai50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJlcnJvclxcXCIsZXJyb3I6ZCx4aHI6YX0pO2UuaXNDYW5jZWxsZWQhPT0hMCYmKGNvbnNvbGUubG9nKFxcXCJFUlJPUjogc2VydmVyIGNvbW11bmljYXRpb24gZmFpbGVkLiBUaGUgc2VydmVyIHNob3VsZCByZXR1cm5cXFwiLHtzdGF0dXM6XFxcInN1Y2Nlc3NcXFwifSxcXFwiT1JcXFwiLHtzdGF0dXM6XFxcImVycm9yXFxcIixtZXNzYWdlOlxcXCJlcnJvciBtZXNzYWdlXFxcIn0sXFxcIiwgaW5zdGVhZCB0aGUgQUpBWCByZXF1ZXN0IHByb2R1Y2VkIHRoaXM6IFxcXCIsZCksb2JqLnRyaWdnZXIoJC5leHRlbmQoZSx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKSl9KSxvYmoudHJpZ2dlcigkLmV4dGVuZChldmVudERhdGEse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSl9fSw1MCl9fSxsb2NrOmZ1bmN0aW9uKCl7dmFyIGE9JCh0aGlzLmJveCkuZmluZChcXFwiPiBkaXY6Zmlyc3QtY2hpbGRcXFwiKSxiPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtiLnVuc2hpZnQoYSksdzJ1dGlscy5sb2NrLmFwcGx5KHdpbmRvdyxiKX0sdW5sb2NrOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dzJ1dGlscy51bmxvY2soYS5ib3gpfSwyNSl9LFxcXCJnb3RvXFxcIjpmdW5jdGlvbihhKXtcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGEmJih0aGlzLnBhZ2U9YSksJCh0aGlzLmJveCkuZGF0YShcXFwiYXV0by1zaXplXFxcIik9PT0hMCYmJCh0aGlzLmJveCkuaGVpZ2h0KDApLHRoaXMucmVmcmVzaCgpfSxnZW5lcmF0ZUhUTUw6ZnVuY3Rpb24oKXt2YXIgYSxiPVtdLGM9XFxcIlxcXCI7Zm9yKHZhciBkIGluIHRoaXMuZmllbGRzKXt2YXIgZT1cXFwiXFxcIixmPXRoaXMuZmllbGRzW2RdO1xcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgZi5odG1sJiYoZi5odG1sPXt9KSxmLmh0bWw9JC5leHRlbmQoITAse2NhcHRpb246XFxcIlxcXCIsc3Bhbjo2LGF0dHI6XFxcIlxcXCIsdGV4dDpcXFwiXFxcIixwYWdlOjB9LGYuaHRtbCksXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBhJiYoYT1mLmh0bWwucGFnZSksXFxcIlxcXCI9PWYuaHRtbC5jYXB0aW9uJiYoZi5odG1sLmNhcHRpb249Zi5uYW1lKTt2YXIgZz0nPGlucHV0IG5hbWU9XFxcIicrZi5uYW1lKydcXFwiIHR5cGU9XFxcInRleHRcXFwiICcrZi5odG1sLmF0dHIrXFxcIi8+XFxcIjsoXFxcInBhc3NcXFwiPT09Zi50eXBlfHxcXFwicGFzc3dvcmRcXFwiPT09Zi50eXBlKSYmKGc9JzxpbnB1dCBuYW1lPVxcXCInK2YubmFtZSsnXFxcIiB0eXBlID0gXFxcInBhc3N3b3JkXFxcIiAnK2YuaHRtbC5hdHRyK1xcXCIvPlxcXCIpLFxcXCJjaGVja2JveFxcXCI9PWYudHlwZSYmKGc9JzxpbnB1dCBuYW1lPVxcXCInK2YubmFtZSsnXFxcIiB0eXBlPVxcXCJjaGVja2JveFxcXCIgJytmLmh0bWwuYXR0citcXFwiLz5cXFwiKSxcXFwidGV4dGFyZWFcXFwiPT1mLnR5cGUmJihnPSc8dGV4dGFyZWEgbmFtZT1cXFwiJytmLm5hbWUrJ1xcXCIgJytmLmh0bWwuYXR0citcXFwiPjwvdGV4dGFyZWE+XFxcIiksXFxcInRvZ2dsZVxcXCI9PWYudHlwZSYmKGc9JzxpbnB1dCBuYW1lPVxcXCInK2YubmFtZSsnXFxcIiB0eXBlPVxcXCJjaGVja2JveFxcXCIgJytmLmh0bWwuYXR0cisnIGNsYXNzPVxcXCJ3MnVpLXRvZ2dsZVxcXCIvPjxkaXY+PGRpdj48L2Rpdj48L2Rpdj4nKSxmLmh0bWwuZ3JvdXAmJihcXFwiXFxcIiE9YyYmKGUrPVxcXCJcXFxcbiAgIDwvZGl2PlxcXCIpLGUrPSdcXFxcbiAgIDxkaXYgY2xhc3M9XFxcIncydWktZ3JvdXAtdGl0bGVcXFwiPicrZi5odG1sLmdyb3VwKyc8L2Rpdj5cXFxcbiAgIDxkaXYgY2xhc3M9XFxcIncydWktZ3JvdXBcXFwiPicsYz1mLmh0bWwuZ3JvdXApLGYuaHRtbC5wYWdlIT1hJiZcXFwiXFxcIiE9YyYmKGJbYi5sZW5ndGgtMV0rPVxcXCJcXFxcbiAgIDwvZGl2PlxcXCIsYz1cXFwiXFxcIiksZSs9J1xcXFxuICAgICAgPGRpdiBjbGFzcz1cXFwidzJ1aS1maWVsZCAnKyhcXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIGYuaHRtbC5zcGFuP1xcXCJ3MnVpLXNwYW5cXFwiK2YuaHRtbC5zcGFuOlxcXCJcXFwiKSsnXFxcIj5cXFxcbiAgICAgICAgIDxsYWJlbD4nK3cydXRpbHMubGFuZyhmLmh0bWwuY2FwdGlvbikrXFxcIjwvbGFiZWw+XFxcXG4gICAgICAgICA8ZGl2PlxcXCIrZyt3MnV0aWxzLmxhbmcoZi5odG1sLnRleHQpK1xcXCI8L2Rpdj5cXFxcbiAgICAgIDwvZGl2PlxcXCIsXFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBiW2YuaHRtbC5wYWdlXSYmKGJbZi5odG1sLnBhZ2VdPVxcXCJcXFwiKSxiW2YuaHRtbC5wYWdlXSs9ZSxhPWYuaHRtbC5wYWdlXFxufWlmKFxcXCJcXFwiIT1jJiYoYltiLmxlbmd0aC0xXSs9XFxcIlxcXFxuICAgPC9kaXY+XFxcIiksdGhpcy50YWJzLnRhYnMpZm9yKHZhciBoPTA7aDx0aGlzLnRhYnMudGFicy5sZW5ndGg7aCsrKVxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgYltoXSYmKGJbaF09XFxcIlxcXCIpO2Zvcih2YXIgaSBpbiBiKWJbaV09JzxkaXYgY2xhc3M9XFxcIncydWktcGFnZSBwYWdlLScraSsnXFxcIj4nK2JbaV0rXFxcIlxcXFxuPC9kaXY+XFxcIjt2YXIgaj1cXFwiXFxcIjtpZighJC5pc0VtcHR5T2JqZWN0KHRoaXMuYWN0aW9ucykpe3ZhciBrPVxcXCJcXFwiO2orPSdcXFxcbjxkaXYgY2xhc3M9XFxcIncydWktYnV0dG9uc1xcXCI+Jztmb3IodmFyIGwgaW4gdGhpcy5hY3Rpb25zKWs9LTEhPVtcXFwic2F2ZVxcXCIsXFxcInVwZGF0ZVxcXCIsXFxcImNyZWF0ZVxcXCJdLmluZGV4T2YobC50b0xvd2VyQ2FzZSgpKT9cXFwidzJ1aS1idG4tZ3JlZW5cXFwiOlxcXCJcXFwiLGorPSdcXFxcbiAgICA8YnV0dG9uIG5hbWU9XFxcIicrbCsnXFxcIiBjbGFzcz1cXFwidzJ1aS1idG4gJytrKydcXFwiPicrdzJ1dGlscy5sYW5nKGwpK1xcXCI8L2J1dHRvbj5cXFwiO2orPVxcXCJcXFxcbjwvZGl2PlxcXCJ9cmV0dXJuIGIuam9pbihcXFwiXFxcIikran0sYWN0aW9uOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0YXJnZXQ6YSx0eXBlOlxcXCJhY3Rpb25cXFwiLG9yaWdpbmFsRXZlbnQ6Yn0pO2MuaXNDYW5jZWxsZWQhPT0hMCYmKFxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiB0aGlzLmFjdGlvbnNbYV0mJnRoaXMuYWN0aW9uc1thXS5jYWxsKHRoaXMsYiksdGhpcy50cmlnZ2VyKCQuZXh0ZW5kKGMse3BoYXNlOlxcXCJhZnRlclxcXCJ9KSkpfSxyZXNpemU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7ZC53aWR0aCgkKGIuYm94KS53aWR0aCgpKS5oZWlnaHQoJChiLmJveCkuaGVpZ2h0KCkpLGYuY3NzKFxcXCJ0b3BcXFwiLFxcXCJcXFwiIT1iLmhlYWRlcj93MnV0aWxzLmdldFNpemUoZSxcXFwiaGVpZ2h0XFxcIik6MCksZy5jc3MoXFxcInRvcFxcXCIsKFxcXCJcXFwiIT1iLmhlYWRlcj93MnV0aWxzLmdldFNpemUoZSxcXFwiaGVpZ2h0XFxcIik6MCkrKFxcXCJvYmplY3RcXFwiPT10eXBlb2YgYi50b29sYmFyJiYkLmlzQXJyYXkoYi50b29sYmFyLml0ZW1zKSYmYi50b29sYmFyLml0ZW1zLmxlbmd0aD4wP3cydXRpbHMuZ2V0U2l6ZShmLFxcXCJoZWlnaHRcXFwiKTowKSksaC5jc3MoXFxcInRvcFxcXCIsKFxcXCJcXFwiIT1iLmhlYWRlcj93MnV0aWxzLmdldFNpemUoZSxcXFwiaGVpZ2h0XFxcIik6MCkrKFxcXCJvYmplY3RcXFwiPT10eXBlb2YgYi50b29sYmFyJiYkLmlzQXJyYXkoYi50b29sYmFyLml0ZW1zKSYmYi50b29sYmFyLml0ZW1zLmxlbmd0aD4wP3cydXRpbHMuZ2V0U2l6ZShmLFxcXCJoZWlnaHRcXFwiKSs1OjApKyhcXFwib2JqZWN0XFxcIj09dHlwZW9mIGIudGFicyYmJC5pc0FycmF5KGIudGFicy50YWJzKSYmYi50YWJzLnRhYnMubGVuZ3RoPjA/dzJ1dGlscy5nZXRTaXplKGcsXFxcImhlaWdodFxcXCIpKzU6MCkpLGguY3NzKFxcXCJib3R0b21cXFwiLGsubGVuZ3RoPjA/dzJ1dGlscy5nZXRTaXplKGssXFxcImhlaWdodFxcXCIpOjApfXZhciBiPXRoaXMsYz10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHRhcmdldDp0aGlzLm5hbWUsdHlwZTpcXFwicmVzaXplXFxcIn0pO2lmKGMuaXNDYW5jZWxsZWQhPT0hMCl7dmFyIGQ9JCh0aGlzLmJveCkuZmluZChcXFwiPiBkaXZcXFwiKSxlPSQodGhpcy5ib3gpLmZpbmQoXFxcIj4gZGl2IC53MnVpLWZvcm0taGVhZGVyXFxcIiksZj0kKHRoaXMuYm94KS5maW5kKFxcXCI+IGRpdiAudzJ1aS1mb3JtLXRvb2xiYXJcXFwiKSxnPSQodGhpcy5ib3gpLmZpbmQoXFxcIj4gZGl2IC53MnVpLWZvcm0tdGFic1xcXCIpLGg9JCh0aGlzLmJveCkuZmluZChcXFwiPiBkaXYgLncydWktcGFnZVxcXCIpLGk9JCh0aGlzLmJveCkuZmluZChcXFwiPiBkaXYgLncydWktcGFnZS5wYWdlLVxcXCIrdGhpcy5wYWdlKSxqPSQodGhpcy5ib3gpLmZpbmQoXFxcIj4gZGl2IC53MnVpLXBhZ2UucGFnZS1cXFwiK3RoaXMucGFnZStcXFwiID4gZGl2XFxcIiksaz0kKHRoaXMuYm94KS5maW5kKFxcXCI+IGRpdiAudzJ1aS1idXR0b25zXFxcIik7YSgpLCgwPT1wYXJzZUludCgkKHRoaXMuYm94KS5oZWlnaHQoKSl8fCQodGhpcy5ib3gpLmRhdGEoXFxcImF1dG8tc2l6ZVxcXCIpPT09ITApJiYoJCh0aGlzLmJveCkuaGVpZ2h0KChlLmxlbmd0aD4wP3cydXRpbHMuZ2V0U2l6ZShlLFxcXCJoZWlnaHRcXFwiKTowKSsoXFxcIm9iamVjdFxcXCI9PXR5cGVvZiB0aGlzLnRhYnMmJiQuaXNBcnJheSh0aGlzLnRhYnMudGFicykmJnRoaXMudGFicy50YWJzLmxlbmd0aD4wP3cydXRpbHMuZ2V0U2l6ZShnLFxcXCJoZWlnaHRcXFwiKTowKSsoXFxcIm9iamVjdFxcXCI9PXR5cGVvZiB0aGlzLnRvb2xiYXImJiQuaXNBcnJheSh0aGlzLnRvb2xiYXIuaXRlbXMpJiZ0aGlzLnRvb2xiYXIuaXRlbXMubGVuZ3RoPjA/dzJ1dGlscy5nZXRTaXplKGYsXFxcImhlaWdodFxcXCIpOjApKyhoLmxlbmd0aD4wP3cydXRpbHMuZ2V0U2l6ZShqLFxcXCJoZWlnaHRcXFwiKSt3MnV0aWxzLmdldFNpemUoaSxcXFwiK2hlaWdodFxcXCIpKzEyOjApKyhrLmxlbmd0aD4wP3cydXRpbHMuZ2V0U2l6ZShrLFxcXCJoZWlnaHRcXFwiKTowKSksJCh0aGlzLmJveCkuZGF0YShcXFwiYXV0by1zaXplXFxcIiwhMCkpLGEoKSxiLnRyaWdnZXIoJC5leHRlbmQoYyx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX19LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYT0obmV3IERhdGUpLmdldFRpbWUoKSxiPXRoaXM7aWYodGhpcy5ib3gmJnRoaXMuaXNHZW5lcmF0ZWQmJlxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgJCh0aGlzLmJveCkuaHRtbCgpKXskKHRoaXMuYm94KS5maW5kKFxcXCJpbnB1dCwgdGV4dGFyZWEsIHNlbGVjdFxcXCIpLmVhY2goZnVuY3Rpb24oYSxjKXt2YXIgZD0kKGMpLmF0dHIoXFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiAkKGMpLmF0dHIoXFxcIm5hbWVcXFwiKT9cXFwibmFtZVxcXCI6XFxcImlkXFxcIiksZT1iLmdldChkKTtpZihlKXt2YXIgZj0kKGMpLnBhcmVudHMoXFxcIi53MnVpLXBhZ2VcXFwiKTtpZihmLmxlbmd0aD4wKWZvcih2YXIgZz0wOzEwMD5nO2crKylpZihmLmhhc0NsYXNzKFxcXCJwYWdlLVxcXCIrZykpe2UucGFnZT1nO2JyZWFrfX19KTt2YXIgYz10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHRhcmdldDp0aGlzLm5hbWUsdHlwZTpcXFwicmVmcmVzaFxcXCIscGFnZTp0aGlzLnBhZ2V9KTtpZihjLmlzQ2FuY2VsbGVkIT09ITApeyQodGhpcy5ib3gpLmZpbmQoXFxcIi53MnVpLXBhZ2VcXFwiKS5oaWRlKCksJCh0aGlzLmJveCkuZmluZChcXFwiLncydWktcGFnZS5wYWdlLVxcXCIrdGhpcy5wYWdlKS5zaG93KCksJCh0aGlzLmJveCkuZmluZChcXFwiLncydWktZm9ybS1oZWFkZXJcXFwiKS5odG1sKHRoaXMuaGVhZGVyKSxcXFwib2JqZWN0XFxcIj09dHlwZW9mIHRoaXMudGFicyYmJC5pc0FycmF5KHRoaXMudGFicy50YWJzKSYmdGhpcy50YWJzLnRhYnMubGVuZ3RoPjA/KCQoXFxcIiNmb3JtX1xcXCIrdGhpcy5uYW1lK1xcXCJfdGFic1xcXCIpLnNob3coKSx0aGlzLnRhYnMuYWN0aXZlPXRoaXMudGFicy50YWJzW3RoaXMucGFnZV0uaWQsdGhpcy50YWJzLnJlZnJlc2goKSk6JChcXFwiI2Zvcm1fXFxcIit0aGlzLm5hbWUrXFxcIl90YWJzXFxcIikuaGlkZSgpLFxcXCJvYmplY3RcXFwiPT10eXBlb2YgdGhpcy50b29sYmFyJiYkLmlzQXJyYXkodGhpcy50b29sYmFyLml0ZW1zKSYmdGhpcy50b29sYmFyLml0ZW1zLmxlbmd0aD4wPygkKFxcXCIjZm9ybV9cXFwiK3RoaXMubmFtZStcXFwiX3Rvb2xiYXJcXFwiKS5zaG93KCksdGhpcy50b29sYmFyLnJlZnJlc2goKSk6JChcXFwiI2Zvcm1fXFxcIit0aGlzLm5hbWUrXFxcIl90b29sYmFyXFxcIikuaGlkZSgpO2Zvcih2YXIgZCBpbiB0aGlzLmZpZWxkcyl7dmFyIGU9dGhpcy5maWVsZHNbZF07XFxcInVuZGVmaW5lZFxcXCI9PXR5cGVvZiBlLm5hbWUmJlxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgZS5maWVsZCYmKGUubmFtZT1lLmZpZWxkKSxcXFwidW5kZWZpbmVkXFxcIj09dHlwZW9mIGUuZmllbGQmJlxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgZS5uYW1lJiYoZS5maWVsZD1lLm5hbWUpLGUuJGVsPSQodGhpcy5ib3gpLmZpbmQoJ1tuYW1lPVxcXCInK1N0cmluZyhlLm5hbWUpLnJlcGxhY2UoL1xcXFxcXFxcL2csXFxcIlxcXFxcXFxcXFxcXFxcXFxcXFwiKSsnXFxcIl0nKSxlLmVsPWUuJGVsWzBdLFxcXCJ1bmRlZmluZWRcXFwiPT10eXBlb2YgZS5lbCYmY29uc29sZS5sb2coJ0VSUk9SOiBDYW5ub3QgYXNzb2NpYXRlIGZpZWxkIFxcXCInK2UubmFtZSsnXFxcIiB3aXRoIGh0bWwgY29udHJvbC4gTWFrZSBzdXJlIGh0bWwgY29udHJvbCBleGlzdHMgd2l0aCB0aGUgc2FtZSBuYW1lLicpLGUuZWwmJihlLmVsLmlkPWUubmFtZSk7dmFyIGY9JChlKS5kYXRhKFxcXCJ3MmZpZWxkXFxcIik7ZiYmZi5jbGVhcigpLCQoZS4kZWwpLm9mZihcXFwiY2hhbmdlXFxcIikub24oXFxcImNoYW5nZVxcXCIsZnVuY3Rpb24oKXt2YXIgYT10aGlzLnZhbHVlLGM9Yi5yZWNvcmRbdGhpcy5uYW1lXT9iLnJlY29yZFt0aGlzLm5hbWVdOlxcXCJcXFwiLGQ9Yi5nZXQodGhpcy5uYW1lKTtpZigtMSE9W1xcXCJsaXN0XFxcIixcXFwiZW51bVxcXCIsXFxcImZpbGVcXFwiXS5pbmRleE9mKGQudHlwZSkmJiQodGhpcykuZGF0YShcXFwic2VsZWN0ZWRcXFwiKSl7dmFyIGU9JCh0aGlzKS5kYXRhKFxcXCJzZWxlY3RlZFxcXCIpLGY9Yi5yZWNvcmRbdGhpcy5uYW1lXTtpZigkLmlzQXJyYXkoZSkpe2E9W107Zm9yKHZhciBnIGluIGUpYVtnXT0kLmV4dGVuZCghMCx7fSxlW2ddKX1pZigkLmlzUGxhaW5PYmplY3QoZSkmJihhPSQuZXh0ZW5kKCEwLHt9LGUpKSwkLmlzQXJyYXkoZikpe2M9W107Zm9yKHZhciBnIGluIGYpY1tnXT0kLmV4dGVuZCghMCx7fSxmW2ddKX0kLmlzUGxhaW5PYmplY3QoZikmJihjPSQuZXh0ZW5kKCEwLHt9LGYpKX1pZigtMSE9W1xcXCJ0b2dnbGVcXFwiLFxcXCJjaGVja2JveFxcXCJdLmluZGV4T2YoZC50eXBlKSYmKGE9JCh0aGlzKS5wcm9wKFxcXCJjaGVja2VkXFxcIik/ITA6ITEpLC0xIT1bXFxcImludFxcXCIsXFxcImZsb2F0XFxcIixcXFwicGVyY2VudFxcXCIsXFxcIm1vbmV5XFxcIixcXFwiY3VycmVuY3lcXFwiXS5pbmRleE9mKGQudHlwZSkmJihhPSQodGhpcykuZGF0YShcXFwidzJmaWVsZFxcXCIpLmNsZWFuKGEpKSxhIT09Yyl7dmFyIGg9Yi50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0YXJnZXQ6dGhpcy5uYW1lLHR5cGU6XFxcImNoYW5nZVxcXCIsdmFsdWVfbmV3OmEsdmFsdWVfcHJldmlvdXM6Y30pO2lmKGguaXNDYW5jZWxsZWQ9PT0hMClyZXR1cm4gdm9pZCAkKHRoaXMpLnZhbChiLnJlY29yZFt0aGlzLm5hbWVdKTt2YXIgaT10aGlzLnZhbHVlO2lmKFxcXCJzZWxlY3RcXFwiPT10aGlzLnR5cGUmJihpPXRoaXMudmFsdWUpLFxcXCJjaGVja2JveFxcXCI9PXRoaXMudHlwZSYmKGk9dGhpcy5jaGVja2VkPyEwOiExKSxcXFwicmFkaW9cXFwiPT10aGlzLnR5cGUmJmQuJGVsLmVhY2goZnVuY3Rpb24oYSxiKXtiLmNoZWNrZWQmJihpPWIudmFsdWUpfSksLTEhPVtcXFwiaW50XFxcIixcXFwiZmxvYXRcXFwiLFxcXCJwZXJjZW50XFxcIixcXFwibW9uZXlcXFwiLFxcXCJjdXJyZW5jeVxcXCIsXFxcImxpc3RcXFwiLFxcXCJjb21ib1xcXCIsXFxcImVudW1cXFwiLFxcXCJmaWxlXFxcIixcXFwidG9nZ2xlXFxcIl0uaW5kZXhPZihkLnR5cGUpJiYoaT1hKSwtMSE9W1xcXCJlbnVtXFxcIixcXFwiZmlsZVxcXCJdLmluZGV4T2YoZC50eXBlKSYmaS5sZW5ndGg+MCl7dmFyIGo9JChkLmVsKS5kYXRhKFxcXCJ3MmZpZWxkXFxcIikuaGVscGVycy5tdWx0aTskKGopLnJlbW92ZUNsYXNzKFxcXCJ3MnVpLWVycm9yXFxcIil9Yi5yZWNvcmRbdGhpcy5uYW1lXT1pLGIudHJpZ2dlcigkLmV4dGVuZChoLHtwaGFzZTpcXFwiYWZ0ZXJcXFwifSkpfX0pLGUucmVxdWlyZWQ/JChlLmVsKS5wYXJlbnQoKS5wYXJlbnQoKS5hZGRDbGFzcyhcXFwidzJ1aS1yZXF1aXJlZFxcXCIpOiQoZS5lbCkucGFyZW50KCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoXFxcIncydWktcmVxdWlyZWRcXFwiKX0kKHRoaXMuYm94KS5maW5kKFxcXCJidXR0b24sIGlucHV0W3R5cGU9YnV0dG9uXVxcXCIpLmVhY2goZnVuY3Rpb24oYSxjKXskKGMpLm9mZihcXFwiY2xpY2tcXFwiKS5vbihcXFwiY2xpY2tcXFwiLGZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMudmFsdWU7dGhpcy5pZCYmKGM9dGhpcy5pZCksdGhpcy5uYW1lJiYoYz10aGlzLm5hbWUpLGIuYWN0aW9uKGMsYSl9KX0pO2Zvcih2YXIgZCBpbiB0aGlzLmZpZWxkcyl7dmFyIGU9dGhpcy5maWVsZHNbZF0sZz1cXFwidW5kZWZpbmVkXFxcIiE9dHlwZW9mIHRoaXMucmVjb3JkW2UubmFtZV0/dGhpcy5yZWNvcmRbZS5uYW1lXTpcXFwiXFxcIjtpZihlLmVsKXN3aXRjaChlLnR5cGU9U3RyaW5nKGUudHlwZSkudG9Mb3dlckNhc2UoKSxlLm9wdGlvbnN8fChlLm9wdGlvbnM9e30pLGUudHlwZSl7Y2FzZVxcXCJ0ZXh0XFxcIjpjYXNlXFxcInRleHRhcmVhXFxcIjpjYXNlXFxcImVtYWlsXFxcIjpjYXNlXFxcInBhc3NcXFwiOmNhc2VcXFwicGFzc3dvcmRcXFwiOmUuZWwudmFsdWU9ZzticmVhaztjYXNlXFxcImludFxcXCI6Y2FzZVxcXCJmbG9hdFxcXCI6Y2FzZVxcXCJtb25leVxcXCI6Y2FzZVxcXCJjdXJyZW5jeVxcXCI6Y2FzZVxcXCJwZXJjZW50XFxcIjpjYXNlXFxcImhleFxcXCI6Y2FzZVxcXCJhbHBoYW51bWVyaWNcXFwiOmNhc2VcXFwiY29sb3JcXFwiOmNhc2VcXFwiZGF0ZVxcXCI6Y2FzZVxcXCJ0aW1lXFxcIjplLmVsLnZhbHVlPWcsJChlLmVsKS53MmZpZWxkKCQuZXh0ZW5kKHt9LGUub3B0aW9ucyx7dHlwZTplLnR5cGV9KSk7YnJlYWs7Y2FzZVxcXCJ0b2dnbGVcXFwiOncydXRpbHMuaXNGbG9hdChnKSYmKGc9cGFyc2VGbG9hdChnKSksJChlLmVsKS5wcm9wKFxcXCJjaGVja2VkXFxcIixnPyEwOiExKSx0aGlzLnJlY29yZFtlLm5hbWVdPWc/MTowO2JyZWFrO2Nhc2VcXFwibGlzdFxcXCI6Y2FzZVxcXCJjb21ib1xcXCI6aWYoXFxcImxpc3RcXFwiPT1lLnR5cGUpe3ZhciBoPSQuaXNQbGFpbk9iamVjdChnKT9nLmlkOmcsaT1lLm9wdGlvbnMuaXRlbXM7JC5pc0FycmF5KGkpJiZpLmxlbmd0aD4wJiYhJC5pc1BsYWluT2JqZWN0KGlbMF0pJiYoZS5vcHRpb25zLml0ZW1zPXcyb2JqLmZpZWxkLnByb3RvdHlwZS5ub3JtTWVudShpKSk7Zm9yKHZhciBqIGluIGUub3B0aW9ucy5pdGVtcyl7dmFyIGs9ZS5vcHRpb25zLml0ZW1zW2pdO2lmKGsuaWQ9PWgpe2c9JC5leHRlbmQoITAse30sayksYi5yZWNvcmRbZS5uYW1lXT1nO2JyZWFrfX19ZWxzZSBlLmVsLnZhbHVlPVxcXCJjb21ib1xcXCIhPWUudHlwZXx8JC5pc1BsYWluT2JqZWN0KGcpPyQuaXNQbGFpbk9iamVjdChnKSYmXFxcInVuZGVmaW5lZFxcXCIhPXR5cGVvZiBnLnRleHQ/Zy50ZXh0OlxcXCJcXFwiOmc7JC5pc1BsYWluT2JqZWN0KGcpfHwoZz17fSksJChlLmVsKS53MmZpZWxkKCQuZXh0ZW5kKHt9LGUub3B0aW9ucyx7dHlwZTplLnR5cGUsc2VsZWN0ZWQ6Z30pKTticmVhaztjYXNlXFxcImVudW1cXFwiOmNhc2VcXFwiZmlsZVxcXCI6JC5pc0FycmF5KGcpfHwoZz1bXSksJChlLmVsKS53MmZpZWxkKCQuZXh0ZW5kKHt9LGUub3B0aW9ucyx7dHlwZTplLnR5cGUsc2VsZWN0ZWQ6Z30pKTticmVhaztjYXNlXFxcInNlbGVjdFxcXCI6dmFyIGk9ZS5vcHRpb25zLml0ZW1zO2lmKFxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgaSYmaS5sZW5ndGg+MCl7aT13Mm9iai5maWVsZC5wcm90b3R5cGUubm9ybU1lbnUoaSksJChlLmVsKS5odG1sKFxcXCJcXFwiKTtmb3IodmFyIGwgaW4gaSkkKGUuZWwpLmFwcGVuZCgnPG9wdGlvbiB2YWx1ZT1cXFwiJytpW2xdLmlkKydcXFwiPicraVtsXS50ZXh0K1xcXCI8L29wdGlvblxcXCIpfSQoZS5lbCkudmFsKGcpO2JyZWFrO2Nhc2VcXFwicmFkaW9cXFwiOiQoZS4kZWwpLnByb3AoXFxcImNoZWNrZWRcXFwiLCExKS5lYWNoKGZ1bmN0aW9uKGEsYil7JChiKS52YWwoKT09ZyYmJChiKS5wcm9wKFxcXCJjaGVja2VkXFxcIiwhMCl9KTticmVhaztjYXNlXFxcImNoZWNrYm94XFxcIjokKGUuZWwpLnByb3AoXFxcImNoZWNrZWRcXFwiLGc/ITA6ITEpO2JyZWFrO2RlZmF1bHQ6JChlLmVsKS53MmZpZWxkKCQuZXh0ZW5kKHt9LGUub3B0aW9ucyx7dHlwZTplLnR5cGV9KSl9fWZvcih2YXIgZj0kKHRoaXMuYm94KS5maW5kKFxcXCIudzJ1aS1wYWdlXFxcIiksaj0wO2o8Zi5sZW5ndGg7aisrKSQoZltqXSkuZmluZChcXFwiPiAqXFxcIikubGVuZ3RoPjEmJiQoZltqXSkud3JhcElubmVyKFxcXCI8ZGl2PjwvZGl2PlxcXCIpO3JldHVybiB0aGlzLnRyaWdnZXIoJC5leHRlbmQoYyx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKSx0aGlzLnJlc2l6ZSgpLChuZXcgRGF0ZSkuZ2V0VGltZSgpLWF9fX0scmVuZGVyOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXt2YXIgYT0kKGQuYm94KS5maW5kKFxcXCJpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYVxcXCIpO2EubGVuZ3RoPmQuZm9jdXMmJmFbZC5mb2N1c10uZm9jdXMoKX12YXIgYz0obmV3IERhdGUpLmdldFRpbWUoKSxkPXRoaXM7aWYoXFxcIm9iamVjdFxcXCI9PXR5cGVvZiBhJiYoJCh0aGlzLmJveCkuZmluZChcXFwiI2Zvcm1fXFxcIit0aGlzLm5hbWUrXFxcIl90YWJzXFxcIikubGVuZ3RoPjAmJiQodGhpcy5ib3gpLnJlbW92ZUF0dHIoXFxcIm5hbWVcXFwiKS5yZW1vdmVDbGFzcyhcXFwidzJ1aS1yZXNldCB3MnVpLWZvcm1cXFwiKS5odG1sKFxcXCJcXFwiKSx0aGlzLmJveD1hKSx0aGlzLmlzR2VuZXJhdGVkJiZ0aGlzLmJveCl7dmFyIGU9dGhpcy50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0YXJnZXQ6dGhpcy5uYW1lLHR5cGU6XFxcInJlbmRlclxcXCIsYm94OlxcXCJ1bmRlZmluZWRcXFwiIT10eXBlb2YgYT9hOnRoaXMuYm94fSk7aWYoZS5pc0NhbmNlbGxlZCE9PSEwKXskLmlzRW1wdHlPYmplY3QodGhpcy5vcmlnaW5hbCkmJiEkLmlzRW1wdHlPYmplY3QodGhpcy5yZWNvcmQpJiYodGhpcy5vcmlnaW5hbD0kLmV4dGVuZCghMCx7fSx0aGlzLnJlY29yZCkpO3ZhciBmPVxcXCI8ZGl2PlxcXCIrKFxcXCJcXFwiIT10aGlzLmhlYWRlcj8nPGRpdiBjbGFzcz1cXFwidzJ1aS1mb3JtLWhlYWRlclxcXCI+Jyt0aGlzLmhlYWRlcitcXFwiPC9kaXY+XFxcIjpcXFwiXFxcIikrJyAgICA8ZGl2IGlkPVxcXCJmb3JtXycrdGhpcy5uYW1lKydfdG9vbGJhclxcXCIgY2xhc3M9XFxcIncydWktZm9ybS10b29sYmFyXFxcIj48L2Rpdj4gICAgPGRpdiBpZD1cXFwiZm9ybV8nK3RoaXMubmFtZSsnX3RhYnNcXFwiIGNsYXNzPVxcXCJ3MnVpLWZvcm0tdGFic1xcXCI+PC9kaXY+Jyt0aGlzLmZvcm1IVE1MK1xcXCI8L2Rpdj5cXFwiOyQodGhpcy5ib3gpLmF0dHIoXFxcIm5hbWVcXFwiLHRoaXMubmFtZSkuYWRkQ2xhc3MoXFxcIncydWktcmVzZXQgdzJ1aS1mb3JtXFxcIikuaHRtbChmKSwkKHRoaXMuYm94KS5sZW5ndGg+MCYmKCQodGhpcy5ib3gpWzBdLnN0eWxlLmNzc1RleHQrPXRoaXMuc3R5bGUpLFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiB0aGlzLnRvb2xiYXIucmVuZGVyJiYodGhpcy50b29sYmFyPSQoKS53MnRvb2xiYXIoJC5leHRlbmQoe30sdGhpcy50b29sYmFyLHtuYW1lOnRoaXMubmFtZStcXFwiX3Rvb2xiYXJcXFwiLG93bmVyOnRoaXN9KSksdGhpcy50b29sYmFyLm9uKFxcXCJjbGlja1xcXCIsZnVuY3Rpb24oYSl7dmFyIGI9ZC50cmlnZ2VyKHtwaGFzZTpcXFwiYmVmb3JlXFxcIix0eXBlOlxcXCJ0b29sYmFyXFxcIix0YXJnZXQ6YS50YXJnZXQsb3JpZ2luYWxFdmVudDphfSk7Yi5pc0NhbmNlbGxlZCE9PSEwJiZkLnRyaWdnZXIoJC5leHRlbmQoYix7cGhhc2U6XFxcImFmdGVyXFxcIn0pKX0pKSxcXFwib2JqZWN0XFxcIj09dHlwZW9mIHRoaXMudG9vbGJhciYmXFxcImZ1bmN0aW9uXFxcIj09dHlwZW9mIHRoaXMudG9vbGJhci5yZW5kZXImJnRoaXMudG9vbGJhci5yZW5kZXIoJChcXFwiI2Zvcm1fXFxcIit0aGlzLm5hbWUrXFxcIl90b29sYmFyXFxcIilbMF0pLFxcXCJmdW5jdGlvblxcXCIhPXR5cGVvZiB0aGlzLnRhYnMucmVuZGVyJiYodGhpcy50YWJzPSQoKS53MnRhYnMoJC5leHRlbmQoe30sdGhpcy50YWJzLHtuYW1lOnRoaXMubmFtZStcXFwiX3RhYnNcXFwiLG93bmVyOnRoaXN9KSksdGhpcy50YWJzLm9uKFxcXCJjbGlja1xcXCIsZnVuY3Rpb24oYSl7ZC5nb3RvKHRoaXMuZ2V0KGEudGFyZ2V0LCEwKSl9KSksXFxcIm9iamVjdFxcXCI9PXR5cGVvZiB0aGlzLnRhYnMmJlxcXCJmdW5jdGlvblxcXCI9PXR5cGVvZiB0aGlzLnRhYnMucmVuZGVyJiZ0aGlzLnRhYnMucmVuZGVyKCQoXFxcIiNmb3JtX1xcXCIrdGhpcy5uYW1lK1xcXCJfdGFic1xcXCIpWzBdKSx0aGlzLnRyaWdnZXIoJC5leHRlbmQoZSx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKSx0aGlzLnJlc2l6ZSgpO3ZhciBnPVxcXCJvYmplY3RcXFwiIT10eXBlb2YgdGhpcy51cmw/dGhpcy51cmw6dGhpcy51cmwuZ2V0O3JldHVybiBnJiYwIT10aGlzLnJlY2lkP3RoaXMucmVxdWVzdCgpOnRoaXMucmVmcmVzaCgpLDA9PSQoXFxcIi53MnVpLWxheW91dFxcXCIpLmxlbmd0aCYmKHRoaXMudG1wX3Jlc2l6ZT1mdW5jdGlvbigpe3cydWlbZC5uYW1lXS5yZXNpemUoKX0sJCh3aW5kb3cpLm9mZihcXFwicmVzaXplXFxcIixcXFwiYm9keVxcXCIpLm9uKFxcXCJyZXNpemVcXFwiLFxcXCJib2R5XFxcIix0aGlzLnRtcF9yZXNpemUpKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5yZXNpemUoKSxkLnJlZnJlc2goKX0sMTUwKSx0aGlzLmZvY3VzPj0wJiZzZXRUaW1lb3V0KGIsNTAwKSwobmV3IERhdGUpLmdldFRpbWUoKS1jfX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRyaWdnZXIoe3BoYXNlOlxcXCJiZWZvcmVcXFwiLHRhcmdldDp0aGlzLm5hbWUsdHlwZTpcXFwiZGVzdHJveVxcXCJ9KTthLmlzQ2FuY2VsbGVkIT09ITAmJihcXFwib2JqZWN0XFxcIj09dHlwZW9mIHRoaXMudG9vbGJhciYmdGhpcy50b29sYmFyLmRlc3Ryb3kmJnRoaXMudG9vbGJhci5kZXN0cm95KCksXFxcIm9iamVjdFxcXCI9PXR5cGVvZiB0aGlzLnRhYnMmJnRoaXMudGFicy5kZXN0cm95JiZ0aGlzLnRhYnMuZGVzdHJveSgpLCQodGhpcy5ib3gpLmZpbmQoXFxcIiNmb3JtX1xcXCIrdGhpcy5uYW1lK1xcXCJfdGFic1xcXCIpLmxlbmd0aD4wJiYkKHRoaXMuYm94KS5yZW1vdmVBdHRyKFxcXCJuYW1lXFxcIikucmVtb3ZlQ2xhc3MoXFxcIncydWktcmVzZXQgdzJ1aS1mb3JtXFxcIikuaHRtbChcXFwiXFxcIiksZGVsZXRlIHcydWlbdGhpcy5uYW1lXSx0aGlzLnRyaWdnZXIoJC5leHRlbmQoYSx7cGhhc2U6XFxcImFmdGVyXFxcIn0pKSwkKHdpbmRvdykub2ZmKFxcXCJyZXNpemVcXFwiLFxcXCJib2R5XFxcIikpfX0sJC5leHRlbmQodzJmb3JtLnByb3RvdHlwZSx3MnV0aWxzLmV2ZW50KSx3Mm9iai5mb3JtPXcyZm9ybX0oKTtcIlxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9zY3JpcHQtbG9hZGVyL34vcmF3LWxvYWRlciEuL34vdzJ1aS93MnVpLm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gMzNcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgY29uc3QgY29kZVZpZXdJZFx0XHQ9ICdjb2RlVmlldyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIF9nbG9iYWwge1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRjb25zb2xlLmxvZyggJ0NBTEwgX2dsb2JhbCcgKTtcblx0fVxuXG5cdHN0YXRpYyBnZXQgY29kZVZpZXdJZCgpIHsgcmV0dXJuIGNvZGVWaWV3SWQ7IH1cbn1cblxuXG5cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vY2xpZW50X3NyYy9qcy9nbG9iYWwuanMiLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBjb2RlTWlycm9yXHRmcm9tICdjb2RlbWlycm9yL2xpYi9jb2RlbWlycm9yLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgbGliRWRpdG9yIHtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0Y29uc29sZS5sb2coICdDQUxMIGxpYkVkaXRvcicgKTtcblx0fVxuXHRcblx0c3RhdGljIGNyZWF0ZUNvZGVNaXJyb3IocGFyZW50SWQsIG5ld0lkKSB7XG5cdFx0Y29uc29sZS5sb2coJ0NBTEwgY3JlYXRlQ29kZU1pcnJvcigpJyk7XG5cdFx0XG5cdFx0dmFyIHBhcmVudFZpZXcgPSAkKCcjJyArIHBhcmVudElkKTtcblxuXHRcdHBhcmVudFZpZXcuYXBwZW5kKCc8ZGl2IGlkPVwiJyArIG5ld0lkICsgJ1wiIG5hbWU9XCJjb2RlXCIgY2xhc3M9XCJjb2RlbWlycm9yIHRhYlwiPjwvZGl2PicpO1xuXG5cdFx0dmFyIGNvZGVNaXJyb3JQYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChuZXdJZCk7XG5cdFx0dmFyIGVkaXRvciA9IGNvZGVNaXJyb3IoY29kZU1pcnJvclBhcmVudCwge1xuXHRcdFx0bW9kZTogXCJtYXJrZG93blwiLFxuXHRcdFx0bGluZU51bWJlcnM6IHRydWUsXG5cdFx0XHRsaW5lV3JhcHBpbmc6IHRydWUsXG5cdFx0XHRleHRyYUtleXM6IHtcIkN0cmwtUVwiOiBmdW5jdGlvbihjbSl7IGNtLmZvbGRDb2RlKGNtLmdldEN1cnNvcigpKTsgfX0sXG5cdFx0XHRmb2xkR3V0dGVyOiB0cnVlLFxuXHRcdFx0Z3V0dGVyczogW1wiQ29kZU1pcnJvci1saW5lbnVtYmVyc1wiLCBcIkNvZGVNaXJyb3ItZm9sZGd1dHRlclwiXVxuXHRcdH0pO1xuXHRcdHcydWlbJ2xheW91dCddLnJlc2l6ZSgpO1xuXHR9XG5cdFxuXHRzdGF0aWMgcmVtb3ZlQ29kZU1pcnJvcihyZW1vdmVJRCkge1xuXHRcdHZhciBjb2RlTWlycm9yID0gJCgnIycgKyByZW1vdmVJRCk7XG5cdFx0Y29kZU1pcnJvci5yZW1vdmUoKTtcblx0fVxuXG5cdHN0YXRpYyBzZWxlY3RDb2RlTWlycm9yKHBhcmVudElkLCBzZWxlY3RJRCkge1xuXHRcdCQoJyMnICsgcGFyZW50SWQgKyAnIC50YWInKS5oaWRlKCk7XG5cdFx0JCgnIycgKyBwYXJlbnRJZCArICcgIycgKyBzZWxlY3RJRCkuc2hvdygpO1xuXHR9XG5cdFxuXHRzdGF0aWMgZ2V0SWRGcm9tRXZlbnRUYXJnZXQoZXZlbnRUYXJnZXQpIHtcblx0XHRyZXR1cm4gZXZlbnRUYXJnZXQgKyAnY29kZSc7XG5cdH1cblx0XG59XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NsaWVudF9zcmMvanMvbGliLWVkaXRvci5qcyIsIi8vIENvZGVNaXJyb3IsIGNvcHlyaWdodCAoYykgYnkgTWFyaWpuIEhhdmVyYmVrZSBhbmQgb3RoZXJzXG4vLyBEaXN0cmlidXRlZCB1bmRlciBhbiBNSVQgbGljZW5zZTogaHR0cDovL2NvZGVtaXJyb3IubmV0L0xJQ0VOU0VcblxuLy8gVGhpcyBpcyBDb2RlTWlycm9yIChodHRwOi8vY29kZW1pcnJvci5uZXQpLCBhIGNvZGUgZWRpdG9yXG4vLyBpbXBsZW1lbnRlZCBpbiBKYXZhU2NyaXB0IG9uIHRvcCBvZiB0aGUgYnJvd3NlcidzIERPTS5cbi8vXG4vLyBZb3UgY2FuIGZpbmQgc29tZSB0ZWNobmljYWwgYmFja2dyb3VuZCBmb3Igc29tZSBvZiB0aGUgY29kZSBiZWxvd1xuLy8gYXQgaHR0cDovL21hcmlqbmhhdmVyYmVrZS5ubC9ibG9nLyNjbS1pbnRlcm5hbHMgLlxuXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gIChnbG9iYWwuQ29kZU1pcnJvciA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuLy8gS2x1ZGdlcyBmb3IgYnVncyBhbmQgYmVoYXZpb3IgZGlmZmVyZW5jZXMgdGhhdCBjYW4ndCBiZSBmZWF0dXJlXG4vLyBkZXRlY3RlZCBhcmUgZW5hYmxlZCBiYXNlZCBvbiB1c2VyQWdlbnQgZXRjIHNuaWZmaW5nLlxudmFyIHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnRcbnZhciBwbGF0Zm9ybSA9IG5hdmlnYXRvci5wbGF0Zm9ybVxuXG52YXIgZ2Vja28gPSAvZ2Vja29cXC9cXGQvaS50ZXN0KHVzZXJBZ2VudClcbnZhciBpZV91cHRvMTAgPSAvTVNJRSBcXGQvLnRlc3QodXNlckFnZW50KVxudmFyIGllXzExdXAgPSAvVHJpZGVudFxcLyg/Ols3LTldfFxcZHsyLH0pXFwuLipydjooXFxkKykvLmV4ZWModXNlckFnZW50KVxudmFyIGllID0gaWVfdXB0bzEwIHx8IGllXzExdXBcbnZhciBpZV92ZXJzaW9uID0gaWUgJiYgKGllX3VwdG8xMCA/IGRvY3VtZW50LmRvY3VtZW50TW9kZSB8fCA2IDogaWVfMTF1cFsxXSlcbnZhciB3ZWJraXQgPSAvV2ViS2l0XFwvLy50ZXN0KHVzZXJBZ2VudClcbnZhciBxdHdlYmtpdCA9IHdlYmtpdCAmJiAvUXRcXC9cXGQrXFwuXFxkKy8udGVzdCh1c2VyQWdlbnQpXG52YXIgY2hyb21lID0gL0Nocm9tZVxcLy8udGVzdCh1c2VyQWdlbnQpXG52YXIgcHJlc3RvID0gL09wZXJhXFwvLy50ZXN0KHVzZXJBZ2VudClcbnZhciBzYWZhcmkgPSAvQXBwbGUgQ29tcHV0ZXIvLnRlc3QobmF2aWdhdG9yLnZlbmRvcilcbnZhciBtYWNfZ2VNb3VudGFpbkxpb24gPSAvTWFjIE9TIFggMVxcZFxcRChbOC05XXxcXGRcXGQpXFxELy50ZXN0KHVzZXJBZ2VudClcbnZhciBwaGFudG9tID0gL1BoYW50b21KUy8udGVzdCh1c2VyQWdlbnQpXG5cbnZhciBpb3MgPSAvQXBwbGVXZWJLaXQvLnRlc3QodXNlckFnZW50KSAmJiAvTW9iaWxlXFwvXFx3Ky8udGVzdCh1c2VyQWdlbnQpXG4vLyBUaGlzIGlzIHdvZWZ1bGx5IGluY29tcGxldGUuIFN1Z2dlc3Rpb25zIGZvciBhbHRlcm5hdGl2ZSBtZXRob2RzIHdlbGNvbWUuXG52YXIgbW9iaWxlID0gaW9zIHx8IC9BbmRyb2lkfHdlYk9TfEJsYWNrQmVycnl8T3BlcmEgTWluaXxPcGVyYSBNb2JpfElFTW9iaWxlL2kudGVzdCh1c2VyQWdlbnQpXG52YXIgbWFjID0gaW9zIHx8IC9NYWMvLnRlc3QocGxhdGZvcm0pXG52YXIgY2hyb21lT1MgPSAvXFxiQ3JPU1xcYi8udGVzdCh1c2VyQWdlbnQpXG52YXIgd2luZG93cyA9IC93aW4vaS50ZXN0KHBsYXRmb3JtKVxuXG52YXIgcHJlc3RvX3ZlcnNpb24gPSBwcmVzdG8gJiYgdXNlckFnZW50Lm1hdGNoKC9WZXJzaW9uXFwvKFxcZCpcXC5cXGQqKS8pXG5pZiAocHJlc3RvX3ZlcnNpb24pIHsgcHJlc3RvX3ZlcnNpb24gPSBOdW1iZXIocHJlc3RvX3ZlcnNpb25bMV0pIH1cbmlmIChwcmVzdG9fdmVyc2lvbiAmJiBwcmVzdG9fdmVyc2lvbiA+PSAxNSkgeyBwcmVzdG8gPSBmYWxzZTsgd2Via2l0ID0gdHJ1ZSB9XG4vLyBTb21lIGJyb3dzZXJzIHVzZSB0aGUgd3JvbmcgZXZlbnQgcHJvcGVydGllcyB0byBzaWduYWwgY21kL2N0cmwgb24gT1MgWFxudmFyIGZsaXBDdHJsQ21kID0gbWFjICYmIChxdHdlYmtpdCB8fCBwcmVzdG8gJiYgKHByZXN0b192ZXJzaW9uID09IG51bGwgfHwgcHJlc3RvX3ZlcnNpb24gPCAxMi4xMSkpXG52YXIgY2FwdHVyZVJpZ2h0Q2xpY2sgPSBnZWNrbyB8fCAoaWUgJiYgaWVfdmVyc2lvbiA+PSA5KVxuXG5mdW5jdGlvbiBjbGFzc1Rlc3QoY2xzKSB7IHJldHVybiBuZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIgKyBjbHMgKyBcIig/OiR8XFxcXHMpXFxcXHMqXCIpIH1cblxudmFyIHJtQ2xhc3MgPSBmdW5jdGlvbihub2RlLCBjbHMpIHtcbiAgdmFyIGN1cnJlbnQgPSBub2RlLmNsYXNzTmFtZVxuICB2YXIgbWF0Y2ggPSBjbGFzc1Rlc3QoY2xzKS5leGVjKGN1cnJlbnQpXG4gIGlmIChtYXRjaCkge1xuICAgIHZhciBhZnRlciA9IGN1cnJlbnQuc2xpY2UobWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGgpXG4gICAgbm9kZS5jbGFzc05hbWUgPSBjdXJyZW50LnNsaWNlKDAsIG1hdGNoLmluZGV4KSArIChhZnRlciA/IG1hdGNoWzFdICsgYWZ0ZXIgOiBcIlwiKVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUNoaWxkcmVuKGUpIHtcbiAgZm9yICh2YXIgY291bnQgPSBlLmNoaWxkTm9kZXMubGVuZ3RoOyBjb3VudCA+IDA7IC0tY291bnQpXG4gICAgeyBlLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCkgfVxuICByZXR1cm4gZVxufVxuXG5mdW5jdGlvbiByZW1vdmVDaGlsZHJlbkFuZEFkZChwYXJlbnQsIGUpIHtcbiAgcmV0dXJuIHJlbW92ZUNoaWxkcmVuKHBhcmVudCkuYXBwZW5kQ2hpbGQoZSlcbn1cblxuZnVuY3Rpb24gZWx0KHRhZywgY29udGVudCwgY2xhc3NOYW1lLCBzdHlsZSkge1xuICB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKVxuICBpZiAoY2xhc3NOYW1lKSB7IGUuY2xhc3NOYW1lID0gY2xhc3NOYW1lIH1cbiAgaWYgKHN0eWxlKSB7IGUuc3R5bGUuY3NzVGV4dCA9IHN0eWxlIH1cbiAgaWYgKHR5cGVvZiBjb250ZW50ID09IFwic3RyaW5nXCIpIHsgZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjb250ZW50KSkgfVxuICBlbHNlIGlmIChjb250ZW50KSB7IGZvciAodmFyIGkgPSAwOyBpIDwgY29udGVudC5sZW5ndGg7ICsraSkgeyBlLmFwcGVuZENoaWxkKGNvbnRlbnRbaV0pIH0gfVxuICByZXR1cm4gZVxufVxuXG52YXIgcmFuZ2VcbmlmIChkb2N1bWVudC5jcmVhdGVSYW5nZSkgeyByYW5nZSA9IGZ1bmN0aW9uKG5vZGUsIHN0YXJ0LCBlbmQsIGVuZE5vZGUpIHtcbiAgdmFyIHIgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpXG4gIHIuc2V0RW5kKGVuZE5vZGUgfHwgbm9kZSwgZW5kKVxuICByLnNldFN0YXJ0KG5vZGUsIHN0YXJ0KVxuICByZXR1cm4gclxufSB9XG5lbHNlIHsgcmFuZ2UgPSBmdW5jdGlvbihub2RlLCBzdGFydCwgZW5kKSB7XG4gIHZhciByID0gZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKVxuICB0cnkgeyByLm1vdmVUb0VsZW1lbnRUZXh0KG5vZGUucGFyZW50Tm9kZSkgfVxuICBjYXRjaChlKSB7IHJldHVybiByIH1cbiAgci5jb2xsYXBzZSh0cnVlKVxuICByLm1vdmVFbmQoXCJjaGFyYWN0ZXJcIiwgZW5kKVxuICByLm1vdmVTdGFydChcImNoYXJhY3RlclwiLCBzdGFydClcbiAgcmV0dXJuIHJcbn0gfVxuXG5mdW5jdGlvbiBjb250YWlucyhwYXJlbnQsIGNoaWxkKSB7XG4gIGlmIChjaGlsZC5ub2RlVHlwZSA9PSAzKSAvLyBBbmRyb2lkIGJyb3dzZXIgYWx3YXlzIHJldHVybnMgZmFsc2Ugd2hlbiBjaGlsZCBpcyBhIHRleHRub2RlXG4gICAgeyBjaGlsZCA9IGNoaWxkLnBhcmVudE5vZGUgfVxuICBpZiAocGFyZW50LmNvbnRhaW5zKVxuICAgIHsgcmV0dXJuIHBhcmVudC5jb250YWlucyhjaGlsZCkgfVxuICBkbyB7XG4gICAgaWYgKGNoaWxkLm5vZGVUeXBlID09IDExKSB7IGNoaWxkID0gY2hpbGQuaG9zdCB9XG4gICAgaWYgKGNoaWxkID09IHBhcmVudCkgeyByZXR1cm4gdHJ1ZSB9XG4gIH0gd2hpbGUgKGNoaWxkID0gY2hpbGQucGFyZW50Tm9kZSlcbn1cblxuZnVuY3Rpb24gYWN0aXZlRWx0KCkge1xuICAvLyBJRSBhbmQgRWRnZSBtYXkgdGhyb3cgYW4gXCJVbnNwZWNpZmllZCBFcnJvclwiIHdoZW4gYWNjZXNzaW5nIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuXG4gIC8vIElFIDwgMTAgd2lsbCB0aHJvdyB3aGVuIGFjY2Vzc2VkIHdoaWxlIHRoZSBwYWdlIGlzIGxvYWRpbmcgb3IgaW4gYW4gaWZyYW1lLlxuICAvLyBJRSA+IDkgYW5kIEVkZ2Ugd2lsbCB0aHJvdyB3aGVuIGFjY2Vzc2VkIGluIGFuIGlmcmFtZSBpZiBkb2N1bWVudC5ib2R5IGlzIHVuYXZhaWxhYmxlLlxuICB2YXIgYWN0aXZlRWxlbWVudFxuICB0cnkge1xuICAgIGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50XG4gIH0gY2F0Y2goZSkge1xuICAgIGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5ib2R5IHx8IG51bGxcbiAgfVxuICB3aGlsZSAoYWN0aXZlRWxlbWVudCAmJiBhY3RpdmVFbGVtZW50LnJvb3QgJiYgYWN0aXZlRWxlbWVudC5yb290LmFjdGl2ZUVsZW1lbnQpXG4gICAgeyBhY3RpdmVFbGVtZW50ID0gYWN0aXZlRWxlbWVudC5yb290LmFjdGl2ZUVsZW1lbnQgfVxuICByZXR1cm4gYWN0aXZlRWxlbWVudFxufVxuXG5mdW5jdGlvbiBhZGRDbGFzcyhub2RlLCBjbHMpIHtcbiAgdmFyIGN1cnJlbnQgPSBub2RlLmNsYXNzTmFtZVxuICBpZiAoIWNsYXNzVGVzdChjbHMpLnRlc3QoY3VycmVudCkpIHsgbm9kZS5jbGFzc05hbWUgKz0gKGN1cnJlbnQgPyBcIiBcIiA6IFwiXCIpICsgY2xzIH1cbn1cbmZ1bmN0aW9uIGpvaW5DbGFzc2VzKGEsIGIpIHtcbiAgdmFyIGFzID0gYS5zcGxpdChcIiBcIilcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcy5sZW5ndGg7IGkrKylcbiAgICB7IGlmIChhc1tpXSAmJiAhY2xhc3NUZXN0KGFzW2ldKS50ZXN0KGIpKSB7IGIgKz0gXCIgXCIgKyBhc1tpXSB9IH1cbiAgcmV0dXJuIGJcbn1cblxudmFyIHNlbGVjdElucHV0ID0gZnVuY3Rpb24obm9kZSkgeyBub2RlLnNlbGVjdCgpIH1cbmlmIChpb3MpIC8vIE1vYmlsZSBTYWZhcmkgYXBwYXJlbnRseSBoYXMgYSBidWcgd2hlcmUgc2VsZWN0KCkgaXMgYnJva2VuLlxuICB7IHNlbGVjdElucHV0ID0gZnVuY3Rpb24obm9kZSkgeyBub2RlLnNlbGVjdGlvblN0YXJ0ID0gMDsgbm9kZS5zZWxlY3Rpb25FbmQgPSBub2RlLnZhbHVlLmxlbmd0aCB9IH1cbmVsc2UgaWYgKGllKSAvLyBTdXBwcmVzcyBteXN0ZXJpb3VzIElFMTAgZXJyb3JzXG4gIHsgc2VsZWN0SW5wdXQgPSBmdW5jdGlvbihub2RlKSB7IHRyeSB7IG5vZGUuc2VsZWN0KCkgfSBjYXRjaChfZSkge30gfSB9XG5cbmZ1bmN0aW9uIGJpbmQoZikge1xuICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSlcbiAgcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGYuYXBwbHkobnVsbCwgYXJncyl9XG59XG5cbmZ1bmN0aW9uIGNvcHlPYmoob2JqLCB0YXJnZXQsIG92ZXJ3cml0ZSkge1xuICBpZiAoIXRhcmdldCkgeyB0YXJnZXQgPSB7fSB9XG4gIGZvciAodmFyIHByb3AgaW4gb2JqKVxuICAgIHsgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSAmJiAob3ZlcndyaXRlICE9PSBmYWxzZSB8fCAhdGFyZ2V0Lmhhc093blByb3BlcnR5KHByb3ApKSlcbiAgICAgIHsgdGFyZ2V0W3Byb3BdID0gb2JqW3Byb3BdIH0gfVxuICByZXR1cm4gdGFyZ2V0XG59XG5cbi8vIENvdW50cyB0aGUgY29sdW1uIG9mZnNldCBpbiBhIHN0cmluZywgdGFraW5nIHRhYnMgaW50byBhY2NvdW50LlxuLy8gVXNlZCBtb3N0bHkgdG8gZmluZCBpbmRlbnRhdGlvbi5cbmZ1bmN0aW9uIGNvdW50Q29sdW1uKHN0cmluZywgZW5kLCB0YWJTaXplLCBzdGFydEluZGV4LCBzdGFydFZhbHVlKSB7XG4gIGlmIChlbmQgPT0gbnVsbCkge1xuICAgIGVuZCA9IHN0cmluZy5zZWFyY2goL1teXFxzXFx1MDBhMF0vKVxuICAgIGlmIChlbmQgPT0gLTEpIHsgZW5kID0gc3RyaW5nLmxlbmd0aCB9XG4gIH1cbiAgZm9yICh2YXIgaSA9IHN0YXJ0SW5kZXggfHwgMCwgbiA9IHN0YXJ0VmFsdWUgfHwgMDs7KSB7XG4gICAgdmFyIG5leHRUYWIgPSBzdHJpbmcuaW5kZXhPZihcIlxcdFwiLCBpKVxuICAgIGlmIChuZXh0VGFiIDwgMCB8fCBuZXh0VGFiID49IGVuZClcbiAgICAgIHsgcmV0dXJuIG4gKyAoZW5kIC0gaSkgfVxuICAgIG4gKz0gbmV4dFRhYiAtIGlcbiAgICBuICs9IHRhYlNpemUgLSAobiAlIHRhYlNpemUpXG4gICAgaSA9IG5leHRUYWIgKyAxXG4gIH1cbn1cblxuZnVuY3Rpb24gRGVsYXllZCgpIHt0aGlzLmlkID0gbnVsbH1cbkRlbGF5ZWQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKG1zLCBmKSB7XG4gIGNsZWFyVGltZW91dCh0aGlzLmlkKVxuICB0aGlzLmlkID0gc2V0VGltZW91dChmLCBtcylcbn1cblxuZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgZWx0KSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyArK2kpXG4gICAgeyBpZiAoYXJyYXlbaV0gPT0gZWx0KSB7IHJldHVybiBpIH0gfVxuICByZXR1cm4gLTFcbn1cblxuLy8gTnVtYmVyIG9mIHBpeGVscyBhZGRlZCB0byBzY3JvbGxlciBhbmQgc2l6ZXIgdG8gaGlkZSBzY3JvbGxiYXJcbnZhciBzY3JvbGxlckdhcCA9IDMwXG5cbi8vIFJldHVybmVkIG9yIHRocm93biBieSB2YXJpb3VzIHByb3RvY29scyB0byBzaWduYWwgJ0knbSBub3Rcbi8vIGhhbmRsaW5nIHRoaXMnLlxudmFyIFBhc3MgPSB7dG9TdHJpbmc6IGZ1bmN0aW9uKCl7cmV0dXJuIFwiQ29kZU1pcnJvci5QYXNzXCJ9fVxuXG4vLyBSZXVzZWQgb3B0aW9uIG9iamVjdHMgZm9yIHNldFNlbGVjdGlvbiAmIGZyaWVuZHNcbnZhciBzZWxfZG9udFNjcm9sbCA9IHtzY3JvbGw6IGZhbHNlfTtcbnZhciBzZWxfbW91c2UgPSB7b3JpZ2luOiBcIiptb3VzZVwifTtcbnZhciBzZWxfbW92ZSA9IHtvcmlnaW46IFwiK21vdmVcIn07XG4vLyBUaGUgaW52ZXJzZSBvZiBjb3VudENvbHVtbiAtLSBmaW5kIHRoZSBvZmZzZXQgdGhhdCBjb3JyZXNwb25kcyB0b1xuLy8gYSBwYXJ0aWN1bGFyIGNvbHVtbi5cbmZ1bmN0aW9uIGZpbmRDb2x1bW4oc3RyaW5nLCBnb2FsLCB0YWJTaXplKSB7XG4gIGZvciAodmFyIHBvcyA9IDAsIGNvbCA9IDA7Oykge1xuICAgIHZhciBuZXh0VGFiID0gc3RyaW5nLmluZGV4T2YoXCJcXHRcIiwgcG9zKVxuICAgIGlmIChuZXh0VGFiID09IC0xKSB7IG5leHRUYWIgPSBzdHJpbmcubGVuZ3RoIH1cbiAgICB2YXIgc2tpcHBlZCA9IG5leHRUYWIgLSBwb3NcbiAgICBpZiAobmV4dFRhYiA9PSBzdHJpbmcubGVuZ3RoIHx8IGNvbCArIHNraXBwZWQgPj0gZ29hbClcbiAgICAgIHsgcmV0dXJuIHBvcyArIE1hdGgubWluKHNraXBwZWQsIGdvYWwgLSBjb2wpIH1cbiAgICBjb2wgKz0gbmV4dFRhYiAtIHBvc1xuICAgIGNvbCArPSB0YWJTaXplIC0gKGNvbCAlIHRhYlNpemUpXG4gICAgcG9zID0gbmV4dFRhYiArIDFcbiAgICBpZiAoY29sID49IGdvYWwpIHsgcmV0dXJuIHBvcyB9XG4gIH1cbn1cblxudmFyIHNwYWNlU3RycyA9IFtcIlwiXVxuZnVuY3Rpb24gc3BhY2VTdHIobikge1xuICB3aGlsZSAoc3BhY2VTdHJzLmxlbmd0aCA8PSBuKVxuICAgIHsgc3BhY2VTdHJzLnB1c2gobHN0KHNwYWNlU3RycykgKyBcIiBcIikgfVxuICByZXR1cm4gc3BhY2VTdHJzW25dXG59XG5cbmZ1bmN0aW9uIGxzdChhcnIpIHsgcmV0dXJuIGFyclthcnIubGVuZ3RoLTFdIH1cblxuZnVuY3Rpb24gbWFwKGFycmF5LCBmKSB7XG4gIHZhciBvdXQgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7IG91dFtpXSA9IGYoYXJyYXlbaV0sIGkpIH1cbiAgcmV0dXJuIG91dFxufVxuXG5mdW5jdGlvbiBpbnNlcnRTb3J0ZWQoYXJyYXksIHZhbHVlLCBzY29yZSkge1xuICB2YXIgcG9zID0gMCwgcHJpb3JpdHkgPSBzY29yZSh2YWx1ZSlcbiAgd2hpbGUgKHBvcyA8IGFycmF5Lmxlbmd0aCAmJiBzY29yZShhcnJheVtwb3NdKSA8PSBwcmlvcml0eSkgeyBwb3MrKyB9XG4gIGFycmF5LnNwbGljZShwb3MsIDAsIHZhbHVlKVxufVxuXG5mdW5jdGlvbiBub3RoaW5nKCkge31cblxuZnVuY3Rpb24gY3JlYXRlT2JqKGJhc2UsIHByb3BzKSB7XG4gIHZhciBpbnN0XG4gIGlmIChPYmplY3QuY3JlYXRlKSB7XG4gICAgaW5zdCA9IE9iamVjdC5jcmVhdGUoYmFzZSlcbiAgfSBlbHNlIHtcbiAgICBub3RoaW5nLnByb3RvdHlwZSA9IGJhc2VcbiAgICBpbnN0ID0gbmV3IG5vdGhpbmcoKVxuICB9XG4gIGlmIChwcm9wcykgeyBjb3B5T2JqKHByb3BzLCBpbnN0KSB9XG4gIHJldHVybiBpbnN0XG59XG5cbnZhciBub25BU0NJSVNpbmdsZUNhc2VXb3JkQ2hhciA9IC9bXFx1MDBkZlxcdTA1ODdcXHUwNTkwLVxcdTA1ZjRcXHUwNjAwLVxcdTA2ZmZcXHUzMDQwLVxcdTMwOWZcXHUzMGEwLVxcdTMwZmZcXHUzNDAwLVxcdTRkYjVcXHU0ZTAwLVxcdTlmY2NcXHVhYzAwLVxcdWQ3YWZdL1xuZnVuY3Rpb24gaXNXb3JkQ2hhckJhc2ljKGNoKSB7XG4gIHJldHVybiAvXFx3Ly50ZXN0KGNoKSB8fCBjaCA+IFwiXFx4ODBcIiAmJlxuICAgIChjaC50b1VwcGVyQ2FzZSgpICE9IGNoLnRvTG93ZXJDYXNlKCkgfHwgbm9uQVNDSUlTaW5nbGVDYXNlV29yZENoYXIudGVzdChjaCkpXG59XG5mdW5jdGlvbiBpc1dvcmRDaGFyKGNoLCBoZWxwZXIpIHtcbiAgaWYgKCFoZWxwZXIpIHsgcmV0dXJuIGlzV29yZENoYXJCYXNpYyhjaCkgfVxuICBpZiAoaGVscGVyLnNvdXJjZS5pbmRleE9mKFwiXFxcXHdcIikgPiAtMSAmJiBpc1dvcmRDaGFyQmFzaWMoY2gpKSB7IHJldHVybiB0cnVlIH1cbiAgcmV0dXJuIGhlbHBlci50ZXN0KGNoKVxufVxuXG5mdW5jdGlvbiBpc0VtcHR5KG9iaikge1xuICBmb3IgKHZhciBuIGluIG9iaikgeyBpZiAob2JqLmhhc093blByb3BlcnR5KG4pICYmIG9ialtuXSkgeyByZXR1cm4gZmFsc2UgfSB9XG4gIHJldHVybiB0cnVlXG59XG5cbi8vIEV4dGVuZGluZyB1bmljb2RlIGNoYXJhY3RlcnMuIEEgc2VyaWVzIG9mIGEgbm9uLWV4dGVuZGluZyBjaGFyICtcbi8vIGFueSBudW1iZXIgb2YgZXh0ZW5kaW5nIGNoYXJzIGlzIHRyZWF0ZWQgYXMgYSBzaW5nbGUgdW5pdCBhcyBmYXJcbi8vIGFzIGVkaXRpbmcgYW5kIG1lYXN1cmluZyBpcyBjb25jZXJuZWQuIFRoaXMgaXMgbm90IGZ1bGx5IGNvcnJlY3QsXG4vLyBzaW5jZSBzb21lIHNjcmlwdHMvZm9udHMvYnJvd3NlcnMgYWxzbyB0cmVhdCBvdGhlciBjb25maWd1cmF0aW9uc1xuLy8gb2YgY29kZSBwb2ludHMgYXMgYSBncm91cC5cbnZhciBleHRlbmRpbmdDaGFycyA9IC9bXFx1MDMwMC1cXHUwMzZmXFx1MDQ4My1cXHUwNDg5XFx1MDU5MS1cXHUwNWJkXFx1MDViZlxcdTA1YzFcXHUwNWMyXFx1MDVjNFxcdTA1YzVcXHUwNWM3XFx1MDYxMC1cXHUwNjFhXFx1MDY0Yi1cXHUwNjVlXFx1MDY3MFxcdTA2ZDYtXFx1MDZkY1xcdTA2ZGUtXFx1MDZlNFxcdTA2ZTdcXHUwNmU4XFx1MDZlYS1cXHUwNmVkXFx1MDcxMVxcdTA3MzAtXFx1MDc0YVxcdTA3YTYtXFx1MDdiMFxcdTA3ZWItXFx1MDdmM1xcdTA4MTYtXFx1MDgxOVxcdTA4MWItXFx1MDgyM1xcdTA4MjUtXFx1MDgyN1xcdTA4MjktXFx1MDgyZFxcdTA5MDAtXFx1MDkwMlxcdTA5M2NcXHUwOTQxLVxcdTA5NDhcXHUwOTRkXFx1MDk1MS1cXHUwOTU1XFx1MDk2MlxcdTA5NjNcXHUwOTgxXFx1MDliY1xcdTA5YmVcXHUwOWMxLVxcdTA5YzRcXHUwOWNkXFx1MDlkN1xcdTA5ZTJcXHUwOWUzXFx1MGEwMVxcdTBhMDJcXHUwYTNjXFx1MGE0MVxcdTBhNDJcXHUwYTQ3XFx1MGE0OFxcdTBhNGItXFx1MGE0ZFxcdTBhNTFcXHUwYTcwXFx1MGE3MVxcdTBhNzVcXHUwYTgxXFx1MGE4MlxcdTBhYmNcXHUwYWMxLVxcdTBhYzVcXHUwYWM3XFx1MGFjOFxcdTBhY2RcXHUwYWUyXFx1MGFlM1xcdTBiMDFcXHUwYjNjXFx1MGIzZVxcdTBiM2ZcXHUwYjQxLVxcdTBiNDRcXHUwYjRkXFx1MGI1NlxcdTBiNTdcXHUwYjYyXFx1MGI2M1xcdTBiODJcXHUwYmJlXFx1MGJjMFxcdTBiY2RcXHUwYmQ3XFx1MGMzZS1cXHUwYzQwXFx1MGM0Ni1cXHUwYzQ4XFx1MGM0YS1cXHUwYzRkXFx1MGM1NVxcdTBjNTZcXHUwYzYyXFx1MGM2M1xcdTBjYmNcXHUwY2JmXFx1MGNjMlxcdTBjYzZcXHUwY2NjXFx1MGNjZFxcdTBjZDVcXHUwY2Q2XFx1MGNlMlxcdTBjZTNcXHUwZDNlXFx1MGQ0MS1cXHUwZDQ0XFx1MGQ0ZFxcdTBkNTdcXHUwZDYyXFx1MGQ2M1xcdTBkY2FcXHUwZGNmXFx1MGRkMi1cXHUwZGQ0XFx1MGRkNlxcdTBkZGZcXHUwZTMxXFx1MGUzNC1cXHUwZTNhXFx1MGU0Ny1cXHUwZTRlXFx1MGViMVxcdTBlYjQtXFx1MGViOVxcdTBlYmJcXHUwZWJjXFx1MGVjOC1cXHUwZWNkXFx1MGYxOFxcdTBmMTlcXHUwZjM1XFx1MGYzN1xcdTBmMzlcXHUwZjcxLVxcdTBmN2VcXHUwZjgwLVxcdTBmODRcXHUwZjg2XFx1MGY4N1xcdTBmOTAtXFx1MGY5N1xcdTBmOTktXFx1MGZiY1xcdTBmYzZcXHUxMDJkLVxcdTEwMzBcXHUxMDMyLVxcdTEwMzdcXHUxMDM5XFx1MTAzYVxcdTEwM2RcXHUxMDNlXFx1MTA1OFxcdTEwNTlcXHUxMDVlLVxcdTEwNjBcXHUxMDcxLVxcdTEwNzRcXHUxMDgyXFx1MTA4NVxcdTEwODZcXHUxMDhkXFx1MTA5ZFxcdTEzNWZcXHUxNzEyLVxcdTE3MTRcXHUxNzMyLVxcdTE3MzRcXHUxNzUyXFx1MTc1M1xcdTE3NzJcXHUxNzczXFx1MTdiNy1cXHUxN2JkXFx1MTdjNlxcdTE3YzktXFx1MTdkM1xcdTE3ZGRcXHUxODBiLVxcdTE4MGRcXHUxOGE5XFx1MTkyMC1cXHUxOTIyXFx1MTkyN1xcdTE5MjhcXHUxOTMyXFx1MTkzOS1cXHUxOTNiXFx1MWExN1xcdTFhMThcXHUxYTU2XFx1MWE1OC1cXHUxYTVlXFx1MWE2MFxcdTFhNjJcXHUxYTY1LVxcdTFhNmNcXHUxYTczLVxcdTFhN2NcXHUxYTdmXFx1MWIwMC1cXHUxYjAzXFx1MWIzNFxcdTFiMzYtXFx1MWIzYVxcdTFiM2NcXHUxYjQyXFx1MWI2Yi1cXHUxYjczXFx1MWI4MFxcdTFiODFcXHUxYmEyLVxcdTFiYTVcXHUxYmE4XFx1MWJhOVxcdTFjMmMtXFx1MWMzM1xcdTFjMzZcXHUxYzM3XFx1MWNkMC1cXHUxY2QyXFx1MWNkNC1cXHUxY2UwXFx1MWNlMi1cXHUxY2U4XFx1MWNlZFxcdTFkYzAtXFx1MWRlNlxcdTFkZmQtXFx1MWRmZlxcdTIwMGNcXHUyMDBkXFx1MjBkMC1cXHUyMGYwXFx1MmNlZi1cXHUyY2YxXFx1MmRlMC1cXHUyZGZmXFx1MzAyYS1cXHUzMDJmXFx1MzA5OVxcdTMwOWFcXHVhNjZmLVxcdWE2NzJcXHVhNjdjXFx1YTY3ZFxcdWE2ZjBcXHVhNmYxXFx1YTgwMlxcdWE4MDZcXHVhODBiXFx1YTgyNVxcdWE4MjZcXHVhOGM0XFx1YThlMC1cXHVhOGYxXFx1YTkyNi1cXHVhOTJkXFx1YTk0Ny1cXHVhOTUxXFx1YTk4MC1cXHVhOTgyXFx1YTliM1xcdWE5YjYtXFx1YTliOVxcdWE5YmNcXHVhYTI5LVxcdWFhMmVcXHVhYTMxXFx1YWEzMlxcdWFhMzVcXHVhYTM2XFx1YWE0M1xcdWFhNGNcXHVhYWIwXFx1YWFiMi1cXHVhYWI0XFx1YWFiN1xcdWFhYjhcXHVhYWJlXFx1YWFiZlxcdWFhYzFcXHVhYmU1XFx1YWJlOFxcdWFiZWRcXHVkYzAwLVxcdWRmZmZcXHVmYjFlXFx1ZmUwMC1cXHVmZTBmXFx1ZmUyMC1cXHVmZTI2XFx1ZmY5ZVxcdWZmOWZdL1xuZnVuY3Rpb24gaXNFeHRlbmRpbmdDaGFyKGNoKSB7IHJldHVybiBjaC5jaGFyQ29kZUF0KDApID49IDc2OCAmJiBleHRlbmRpbmdDaGFycy50ZXN0KGNoKSB9XG5cbi8vIFRoZSBkaXNwbGF5IGhhbmRsZXMgdGhlIERPTSBpbnRlZ3JhdGlvbiwgYm90aCBmb3IgaW5wdXQgcmVhZGluZ1xuLy8gYW5kIGNvbnRlbnQgZHJhd2luZy4gSXQgaG9sZHMgcmVmZXJlbmNlcyB0byBET00gbm9kZXMgYW5kXG4vLyBkaXNwbGF5LXJlbGF0ZWQgc3RhdGUuXG5cbmZ1bmN0aW9uIERpc3BsYXkocGxhY2UsIGRvYywgaW5wdXQpIHtcbiAgdmFyIGQgPSB0aGlzXG4gIHRoaXMuaW5wdXQgPSBpbnB1dFxuXG4gIC8vIENvdmVycyBib3R0b20tcmlnaHQgc3F1YXJlIHdoZW4gYm90aCBzY3JvbGxiYXJzIGFyZSBwcmVzZW50LlxuICBkLnNjcm9sbGJhckZpbGxlciA9IGVsdChcImRpdlwiLCBudWxsLCBcIkNvZGVNaXJyb3Itc2Nyb2xsYmFyLWZpbGxlclwiKVxuICBkLnNjcm9sbGJhckZpbGxlci5zZXRBdHRyaWJ1dGUoXCJjbS1ub3QtY29udGVudFwiLCBcInRydWVcIilcbiAgLy8gQ292ZXJzIGJvdHRvbSBvZiBndXR0ZXIgd2hlbiBjb3Zlckd1dHRlck5leHRUb1Njcm9sbGJhciBpcyBvblxuICAvLyBhbmQgaCBzY3JvbGxiYXIgaXMgcHJlc2VudC5cbiAgZC5ndXR0ZXJGaWxsZXIgPSBlbHQoXCJkaXZcIiwgbnVsbCwgXCJDb2RlTWlycm9yLWd1dHRlci1maWxsZXJcIilcbiAgZC5ndXR0ZXJGaWxsZXIuc2V0QXR0cmlidXRlKFwiY20tbm90LWNvbnRlbnRcIiwgXCJ0cnVlXCIpXG4gIC8vIFdpbGwgY29udGFpbiB0aGUgYWN0dWFsIGNvZGUsIHBvc2l0aW9uZWQgdG8gY292ZXIgdGhlIHZpZXdwb3J0LlxuICBkLmxpbmVEaXYgPSBlbHQoXCJkaXZcIiwgbnVsbCwgXCJDb2RlTWlycm9yLWNvZGVcIilcbiAgLy8gRWxlbWVudHMgYXJlIGFkZGVkIHRvIHRoZXNlIHRvIHJlcHJlc2VudCBzZWxlY3Rpb24gYW5kIGN1cnNvcnMuXG4gIGQuc2VsZWN0aW9uRGl2ID0gZWx0KFwiZGl2XCIsIG51bGwsIG51bGwsIFwicG9zaXRpb246IHJlbGF0aXZlOyB6LWluZGV4OiAxXCIpXG4gIGQuY3Vyc29yRGl2ID0gZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1jdXJzb3JzXCIpXG4gIC8vIEEgdmlzaWJpbGl0eTogaGlkZGVuIGVsZW1lbnQgdXNlZCB0byBmaW5kIHRoZSBzaXplIG9mIHRoaW5ncy5cbiAgZC5tZWFzdXJlID0gZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1tZWFzdXJlXCIpXG4gIC8vIFdoZW4gbGluZXMgb3V0c2lkZSBvZiB0aGUgdmlld3BvcnQgYXJlIG1lYXN1cmVkLCB0aGV5IGFyZSBkcmF3biBpbiB0aGlzLlxuICBkLmxpbmVNZWFzdXJlID0gZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1tZWFzdXJlXCIpXG4gIC8vIFdyYXBzIGV2ZXJ5dGhpbmcgdGhhdCBuZWVkcyB0byBleGlzdCBpbnNpZGUgdGhlIHZlcnRpY2FsbHktcGFkZGVkIGNvb3JkaW5hdGUgc3lzdGVtXG4gIGQubGluZVNwYWNlID0gZWx0KFwiZGl2XCIsIFtkLm1lYXN1cmUsIGQubGluZU1lYXN1cmUsIGQuc2VsZWN0aW9uRGl2LCBkLmN1cnNvckRpdiwgZC5saW5lRGl2XSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCwgXCJwb3NpdGlvbjogcmVsYXRpdmU7IG91dGxpbmU6IG5vbmVcIilcbiAgLy8gTW92ZWQgYXJvdW5kIGl0cyBwYXJlbnQgdG8gY292ZXIgdmlzaWJsZSB2aWV3LlxuICBkLm1vdmVyID0gZWx0KFwiZGl2XCIsIFtlbHQoXCJkaXZcIiwgW2QubGluZVNwYWNlXSwgXCJDb2RlTWlycm9yLWxpbmVzXCIpXSwgbnVsbCwgXCJwb3NpdGlvbjogcmVsYXRpdmVcIilcbiAgLy8gU2V0IHRvIHRoZSBoZWlnaHQgb2YgdGhlIGRvY3VtZW50LCBhbGxvd2luZyBzY3JvbGxpbmcuXG4gIGQuc2l6ZXIgPSBlbHQoXCJkaXZcIiwgW2QubW92ZXJdLCBcIkNvZGVNaXJyb3Itc2l6ZXJcIilcbiAgZC5zaXplcldpZHRoID0gbnVsbFxuICAvLyBCZWhhdmlvciBvZiBlbHRzIHdpdGggb3ZlcmZsb3c6IGF1dG8gYW5kIHBhZGRpbmcgaXNcbiAgLy8gaW5jb25zaXN0ZW50IGFjcm9zcyBicm93c2Vycy4gVGhpcyBpcyB1c2VkIHRvIGVuc3VyZSB0aGVcbiAgLy8gc2Nyb2xsYWJsZSBhcmVhIGlzIGJpZyBlbm91Z2guXG4gIGQuaGVpZ2h0Rm9yY2VyID0gZWx0KFwiZGl2XCIsIG51bGwsIG51bGwsIFwicG9zaXRpb246IGFic29sdXRlOyBoZWlnaHQ6IFwiICsgc2Nyb2xsZXJHYXAgKyBcInB4OyB3aWR0aDogMXB4O1wiKVxuICAvLyBXaWxsIGNvbnRhaW4gdGhlIGd1dHRlcnMsIGlmIGFueS5cbiAgZC5ndXR0ZXJzID0gZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1ndXR0ZXJzXCIpXG4gIGQubGluZUd1dHRlciA9IG51bGxcbiAgLy8gQWN0dWFsIHNjcm9sbGFibGUgZWxlbWVudC5cbiAgZC5zY3JvbGxlciA9IGVsdChcImRpdlwiLCBbZC5zaXplciwgZC5oZWlnaHRGb3JjZXIsIGQuZ3V0dGVyc10sIFwiQ29kZU1pcnJvci1zY3JvbGxcIilcbiAgZC5zY3JvbGxlci5zZXRBdHRyaWJ1dGUoXCJ0YWJJbmRleFwiLCBcIi0xXCIpXG4gIC8vIFRoZSBlbGVtZW50IGluIHdoaWNoIHRoZSBlZGl0b3IgbGl2ZXMuXG4gIGQud3JhcHBlciA9IGVsdChcImRpdlwiLCBbZC5zY3JvbGxiYXJGaWxsZXIsIGQuZ3V0dGVyRmlsbGVyLCBkLnNjcm9sbGVyXSwgXCJDb2RlTWlycm9yXCIpXG5cbiAgLy8gV29yayBhcm91bmQgSUU3IHotaW5kZXggYnVnIChub3QgcGVyZmVjdCwgaGVuY2UgSUU3IG5vdCByZWFsbHkgYmVpbmcgc3VwcG9ydGVkKVxuICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDgpIHsgZC5ndXR0ZXJzLnN0eWxlLnpJbmRleCA9IC0xOyBkLnNjcm9sbGVyLnN0eWxlLnBhZGRpbmdSaWdodCA9IDAgfVxuICBpZiAoIXdlYmtpdCAmJiAhKGdlY2tvICYmIG1vYmlsZSkpIHsgZC5zY3JvbGxlci5kcmFnZ2FibGUgPSB0cnVlIH1cblxuICBpZiAocGxhY2UpIHtcbiAgICBpZiAocGxhY2UuYXBwZW5kQ2hpbGQpIHsgcGxhY2UuYXBwZW5kQ2hpbGQoZC53cmFwcGVyKSB9XG4gICAgZWxzZSB7IHBsYWNlKGQud3JhcHBlcikgfVxuICB9XG5cbiAgLy8gQ3VycmVudCByZW5kZXJlZCByYW5nZSAobWF5IGJlIGJpZ2dlciB0aGFuIHRoZSB2aWV3IHdpbmRvdykuXG4gIGQudmlld0Zyb20gPSBkLnZpZXdUbyA9IGRvYy5maXJzdFxuICBkLnJlcG9ydGVkVmlld0Zyb20gPSBkLnJlcG9ydGVkVmlld1RvID0gZG9jLmZpcnN0XG4gIC8vIEluZm9ybWF0aW9uIGFib3V0IHRoZSByZW5kZXJlZCBsaW5lcy5cbiAgZC52aWV3ID0gW11cbiAgZC5yZW5kZXJlZFZpZXcgPSBudWxsXG4gIC8vIEhvbGRzIGluZm8gYWJvdXQgYSBzaW5nbGUgcmVuZGVyZWQgbGluZSB3aGVuIGl0IHdhcyByZW5kZXJlZFxuICAvLyBmb3IgbWVhc3VyZW1lbnQsIHdoaWxlIG5vdCBpbiB2aWV3LlxuICBkLmV4dGVybmFsTWVhc3VyZWQgPSBudWxsXG4gIC8vIEVtcHR5IHNwYWNlIChpbiBwaXhlbHMpIGFib3ZlIHRoZSB2aWV3XG4gIGQudmlld09mZnNldCA9IDBcbiAgZC5sYXN0V3JhcEhlaWdodCA9IGQubGFzdFdyYXBXaWR0aCA9IDBcbiAgZC51cGRhdGVMaW5lTnVtYmVycyA9IG51bGxcblxuICBkLm5hdGl2ZUJhcldpZHRoID0gZC5iYXJIZWlnaHQgPSBkLmJhcldpZHRoID0gMFxuICBkLnNjcm9sbGJhcnNDbGlwcGVkID0gZmFsc2VcblxuICAvLyBVc2VkIHRvIG9ubHkgcmVzaXplIHRoZSBsaW5lIG51bWJlciBndXR0ZXIgd2hlbiBuZWNlc3NhcnkgKHdoZW5cbiAgLy8gdGhlIGFtb3VudCBvZiBsaW5lcyBjcm9zc2VzIGEgYm91bmRhcnkgdGhhdCBtYWtlcyBpdHMgd2lkdGggY2hhbmdlKVxuICBkLmxpbmVOdW1XaWR0aCA9IGQubGluZU51bUlubmVyV2lkdGggPSBkLmxpbmVOdW1DaGFycyA9IG51bGxcbiAgLy8gU2V0IHRvIHRydWUgd2hlbiBhIG5vbi1ob3Jpem9udGFsLXNjcm9sbGluZyBsaW5lIHdpZGdldCBpc1xuICAvLyBhZGRlZC4gQXMgYW4gb3B0aW1pemF0aW9uLCBsaW5lIHdpZGdldCBhbGlnbmluZyBpcyBza2lwcGVkIHdoZW5cbiAgLy8gdGhpcyBpcyBmYWxzZS5cbiAgZC5hbGlnbldpZGdldHMgPSBmYWxzZVxuXG4gIGQuY2FjaGVkQ2hhcldpZHRoID0gZC5jYWNoZWRUZXh0SGVpZ2h0ID0gZC5jYWNoZWRQYWRkaW5nSCA9IG51bGxcblxuICAvLyBUcmFja3MgdGhlIG1heGltdW0gbGluZSBsZW5ndGggc28gdGhhdCB0aGUgaG9yaXpvbnRhbCBzY3JvbGxiYXJcbiAgLy8gY2FuIGJlIGtlcHQgc3RhdGljIHdoZW4gc2Nyb2xsaW5nLlxuICBkLm1heExpbmUgPSBudWxsXG4gIGQubWF4TGluZUxlbmd0aCA9IDBcbiAgZC5tYXhMaW5lQ2hhbmdlZCA9IGZhbHNlXG5cbiAgLy8gVXNlZCBmb3IgbWVhc3VyaW5nIHdoZWVsIHNjcm9sbGluZyBncmFudWxhcml0eVxuICBkLndoZWVsRFggPSBkLndoZWVsRFkgPSBkLndoZWVsU3RhcnRYID0gZC53aGVlbFN0YXJ0WSA9IG51bGxcblxuICAvLyBUcnVlIHdoZW4gc2hpZnQgaXMgaGVsZCBkb3duLlxuICBkLnNoaWZ0ID0gZmFsc2VcblxuICAvLyBVc2VkIHRvIHRyYWNrIHdoZXRoZXIgYW55dGhpbmcgaGFwcGVuZWQgc2luY2UgdGhlIGNvbnRleHQgbWVudVxuICAvLyB3YXMgb3BlbmVkLlxuICBkLnNlbEZvckNvbnRleHRNZW51ID0gbnVsbFxuXG4gIGQuYWN0aXZlVG91Y2ggPSBudWxsXG5cbiAgaW5wdXQuaW5pdChkKVxufVxuXG4vLyBGaW5kIHRoZSBsaW5lIG9iamVjdCBjb3JyZXNwb25kaW5nIHRvIHRoZSBnaXZlbiBsaW5lIG51bWJlci5cbmZ1bmN0aW9uIGdldExpbmUoZG9jLCBuKSB7XG4gIG4gLT0gZG9jLmZpcnN0XG4gIGlmIChuIDwgMCB8fCBuID49IGRvYy5zaXplKSB7IHRocm93IG5ldyBFcnJvcihcIlRoZXJlIGlzIG5vIGxpbmUgXCIgKyAobiArIGRvYy5maXJzdCkgKyBcIiBpbiB0aGUgZG9jdW1lbnQuXCIpIH1cbiAgdmFyIGNodW5rID0gZG9jXG4gIHdoaWxlICghY2h1bmsubGluZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMDs7ICsraSkge1xuICAgICAgdmFyIGNoaWxkID0gY2h1bmsuY2hpbGRyZW5baV0sIHN6ID0gY2hpbGQuY2h1bmtTaXplKClcbiAgICAgIGlmIChuIDwgc3opIHsgY2h1bmsgPSBjaGlsZDsgYnJlYWsgfVxuICAgICAgbiAtPSBzelxuICAgIH1cbiAgfVxuICByZXR1cm4gY2h1bmsubGluZXNbbl1cbn1cblxuLy8gR2V0IHRoZSBwYXJ0IG9mIGEgZG9jdW1lbnQgYmV0d2VlbiB0d28gcG9zaXRpb25zLCBhcyBhbiBhcnJheSBvZlxuLy8gc3RyaW5ncy5cbmZ1bmN0aW9uIGdldEJldHdlZW4oZG9jLCBzdGFydCwgZW5kKSB7XG4gIHZhciBvdXQgPSBbXSwgbiA9IHN0YXJ0LmxpbmVcbiAgZG9jLml0ZXIoc3RhcnQubGluZSwgZW5kLmxpbmUgKyAxLCBmdW5jdGlvbiAobGluZSkge1xuICAgIHZhciB0ZXh0ID0gbGluZS50ZXh0XG4gICAgaWYgKG4gPT0gZW5kLmxpbmUpIHsgdGV4dCA9IHRleHQuc2xpY2UoMCwgZW5kLmNoKSB9XG4gICAgaWYgKG4gPT0gc3RhcnQubGluZSkgeyB0ZXh0ID0gdGV4dC5zbGljZShzdGFydC5jaCkgfVxuICAgIG91dC5wdXNoKHRleHQpXG4gICAgKytuXG4gIH0pXG4gIHJldHVybiBvdXRcbn1cbi8vIEdldCB0aGUgbGluZXMgYmV0d2VlbiBmcm9tIGFuZCB0bywgYXMgYXJyYXkgb2Ygc3RyaW5ncy5cbmZ1bmN0aW9uIGdldExpbmVzKGRvYywgZnJvbSwgdG8pIHtcbiAgdmFyIG91dCA9IFtdXG4gIGRvYy5pdGVyKGZyb20sIHRvLCBmdW5jdGlvbiAobGluZSkgeyBvdXQucHVzaChsaW5lLnRleHQpIH0pIC8vIGl0ZXIgYWJvcnRzIHdoZW4gY2FsbGJhY2sgcmV0dXJucyB0cnV0aHkgdmFsdWVcbiAgcmV0dXJuIG91dFxufVxuXG4vLyBVcGRhdGUgdGhlIGhlaWdodCBvZiBhIGxpbmUsIHByb3BhZ2F0aW5nIHRoZSBoZWlnaHQgY2hhbmdlXG4vLyB1cHdhcmRzIHRvIHBhcmVudCBub2Rlcy5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgaGVpZ2h0KSB7XG4gIHZhciBkaWZmID0gaGVpZ2h0IC0gbGluZS5oZWlnaHRcbiAgaWYgKGRpZmYpIHsgZm9yICh2YXIgbiA9IGxpbmU7IG47IG4gPSBuLnBhcmVudCkgeyBuLmhlaWdodCArPSBkaWZmIH0gfVxufVxuXG4vLyBHaXZlbiBhIGxpbmUgb2JqZWN0LCBmaW5kIGl0cyBsaW5lIG51bWJlciBieSB3YWxraW5nIHVwIHRocm91Z2hcbi8vIGl0cyBwYXJlbnQgbGlua3MuXG5mdW5jdGlvbiBsaW5lTm8obGluZSkge1xuICBpZiAobGluZS5wYXJlbnQgPT0gbnVsbCkgeyByZXR1cm4gbnVsbCB9XG4gIHZhciBjdXIgPSBsaW5lLnBhcmVudCwgbm8gPSBpbmRleE9mKGN1ci5saW5lcywgbGluZSlcbiAgZm9yICh2YXIgY2h1bmsgPSBjdXIucGFyZW50OyBjaHVuazsgY3VyID0gY2h1bmssIGNodW5rID0gY2h1bmsucGFyZW50KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7OyArK2kpIHtcbiAgICAgIGlmIChjaHVuay5jaGlsZHJlbltpXSA9PSBjdXIpIHsgYnJlYWsgfVxuICAgICAgbm8gKz0gY2h1bmsuY2hpbGRyZW5baV0uY2h1bmtTaXplKClcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5vICsgY3VyLmZpcnN0XG59XG5cbi8vIEZpbmQgdGhlIGxpbmUgYXQgdGhlIGdpdmVuIHZlcnRpY2FsIHBvc2l0aW9uLCB1c2luZyB0aGUgaGVpZ2h0XG4vLyBpbmZvcm1hdGlvbiBpbiB0aGUgZG9jdW1lbnQgdHJlZS5cbmZ1bmN0aW9uIGxpbmVBdEhlaWdodChjaHVuaywgaCkge1xuICB2YXIgbiA9IGNodW5rLmZpcnN0XG4gIG91dGVyOiBkbyB7XG4gICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgY2h1bmsuY2hpbGRyZW4ubGVuZ3RoOyArK2kkMSkge1xuICAgICAgdmFyIGNoaWxkID0gY2h1bmsuY2hpbGRyZW5baSQxXSwgY2ggPSBjaGlsZC5oZWlnaHRcbiAgICAgIGlmIChoIDwgY2gpIHsgY2h1bmsgPSBjaGlsZDsgY29udGludWUgb3V0ZXIgfVxuICAgICAgaCAtPSBjaFxuICAgICAgbiArPSBjaGlsZC5jaHVua1NpemUoKVxuICAgIH1cbiAgICByZXR1cm4gblxuICB9IHdoaWxlICghY2h1bmsubGluZXMpXG4gIHZhciBpID0gMFxuICBmb3IgKDsgaSA8IGNodW5rLmxpbmVzLmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGxpbmUgPSBjaHVuay5saW5lc1tpXSwgbGggPSBsaW5lLmhlaWdodFxuICAgIGlmIChoIDwgbGgpIHsgYnJlYWsgfVxuICAgIGggLT0gbGhcbiAgfVxuICByZXR1cm4gbiArIGlcbn1cblxuZnVuY3Rpb24gaXNMaW5lKGRvYywgbCkge3JldHVybiBsID49IGRvYy5maXJzdCAmJiBsIDwgZG9jLmZpcnN0ICsgZG9jLnNpemV9XG5cbmZ1bmN0aW9uIGxpbmVOdW1iZXJGb3Iob3B0aW9ucywgaSkge1xuICByZXR1cm4gU3RyaW5nKG9wdGlvbnMubGluZU51bWJlckZvcm1hdHRlcihpICsgb3B0aW9ucy5maXJzdExpbmVOdW1iZXIpKVxufVxuXG4vLyBBIFBvcyBpbnN0YW5jZSByZXByZXNlbnRzIGEgcG9zaXRpb24gd2l0aGluIHRoZSB0ZXh0LlxuZnVuY3Rpb24gUG9zIChsaW5lLCBjaCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUG9zKSkgeyByZXR1cm4gbmV3IFBvcyhsaW5lLCBjaCkgfVxuICB0aGlzLmxpbmUgPSBsaW5lOyB0aGlzLmNoID0gY2hcbn1cblxuLy8gQ29tcGFyZSB0d28gcG9zaXRpb25zLCByZXR1cm4gMCBpZiB0aGV5IGFyZSB0aGUgc2FtZSwgYSBuZWdhdGl2ZVxuLy8gbnVtYmVyIHdoZW4gYSBpcyBsZXNzLCBhbmQgYSBwb3NpdGl2ZSBudW1iZXIgb3RoZXJ3aXNlLlxuZnVuY3Rpb24gY21wKGEsIGIpIHsgcmV0dXJuIGEubGluZSAtIGIubGluZSB8fCBhLmNoIC0gYi5jaCB9XG5cbmZ1bmN0aW9uIGNvcHlQb3MoeCkge3JldHVybiBQb3MoeC5saW5lLCB4LmNoKX1cbmZ1bmN0aW9uIG1heFBvcyhhLCBiKSB7IHJldHVybiBjbXAoYSwgYikgPCAwID8gYiA6IGEgfVxuZnVuY3Rpb24gbWluUG9zKGEsIGIpIHsgcmV0dXJuIGNtcChhLCBiKSA8IDAgPyBhIDogYiB9XG5cbi8vIE1vc3Qgb2YgdGhlIGV4dGVybmFsIEFQSSBjbGlwcyBnaXZlbiBwb3NpdGlvbnMgdG8gbWFrZSBzdXJlIHRoZXlcbi8vIGFjdHVhbGx5IGV4aXN0IHdpdGhpbiB0aGUgZG9jdW1lbnQuXG5mdW5jdGlvbiBjbGlwTGluZShkb2MsIG4pIHtyZXR1cm4gTWF0aC5tYXgoZG9jLmZpcnN0LCBNYXRoLm1pbihuLCBkb2MuZmlyc3QgKyBkb2Muc2l6ZSAtIDEpKX1cbmZ1bmN0aW9uIGNsaXBQb3MoZG9jLCBwb3MpIHtcbiAgaWYgKHBvcy5saW5lIDwgZG9jLmZpcnN0KSB7IHJldHVybiBQb3MoZG9jLmZpcnN0LCAwKSB9XG4gIHZhciBsYXN0ID0gZG9jLmZpcnN0ICsgZG9jLnNpemUgLSAxXG4gIGlmIChwb3MubGluZSA+IGxhc3QpIHsgcmV0dXJuIFBvcyhsYXN0LCBnZXRMaW5lKGRvYywgbGFzdCkudGV4dC5sZW5ndGgpIH1cbiAgcmV0dXJuIGNsaXBUb0xlbihwb3MsIGdldExpbmUoZG9jLCBwb3MubGluZSkudGV4dC5sZW5ndGgpXG59XG5mdW5jdGlvbiBjbGlwVG9MZW4ocG9zLCBsaW5lbGVuKSB7XG4gIHZhciBjaCA9IHBvcy5jaFxuICBpZiAoY2ggPT0gbnVsbCB8fCBjaCA+IGxpbmVsZW4pIHsgcmV0dXJuIFBvcyhwb3MubGluZSwgbGluZWxlbikgfVxuICBlbHNlIGlmIChjaCA8IDApIHsgcmV0dXJuIFBvcyhwb3MubGluZSwgMCkgfVxuICBlbHNlIHsgcmV0dXJuIHBvcyB9XG59XG5mdW5jdGlvbiBjbGlwUG9zQXJyYXkoZG9jLCBhcnJheSkge1xuICB2YXIgb3V0ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykgeyBvdXRbaV0gPSBjbGlwUG9zKGRvYywgYXJyYXlbaV0pIH1cbiAgcmV0dXJuIG91dFxufVxuXG4vLyBPcHRpbWl6ZSBzb21lIGNvZGUgd2hlbiB0aGVzZSBmZWF0dXJlcyBhcmUgbm90IHVzZWQuXG52YXIgc2F3UmVhZE9ubHlTcGFucyA9IGZhbHNlO1xudmFyIHNhd0NvbGxhcHNlZFNwYW5zID0gZmFsc2U7XG5mdW5jdGlvbiBzZWVSZWFkT25seVNwYW5zKCkge1xuICBzYXdSZWFkT25seVNwYW5zID0gdHJ1ZVxufVxuXG5mdW5jdGlvbiBzZWVDb2xsYXBzZWRTcGFucygpIHtcbiAgc2F3Q29sbGFwc2VkU3BhbnMgPSB0cnVlXG59XG5cbi8vIFRFWFRNQVJLRVIgU1BBTlNcblxuZnVuY3Rpb24gTWFya2VkU3BhbihtYXJrZXIsIGZyb20sIHRvKSB7XG4gIHRoaXMubWFya2VyID0gbWFya2VyXG4gIHRoaXMuZnJvbSA9IGZyb207IHRoaXMudG8gPSB0b1xufVxuXG4vLyBTZWFyY2ggYW4gYXJyYXkgb2Ygc3BhbnMgZm9yIGEgc3BhbiBtYXRjaGluZyB0aGUgZ2l2ZW4gbWFya2VyLlxuZnVuY3Rpb24gZ2V0TWFya2VkU3BhbkZvcihzcGFucywgbWFya2VyKSB7XG4gIGlmIChzcGFucykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHNwYW5zLmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHNwYW4gPSBzcGFuc1tpXVxuICAgIGlmIChzcGFuLm1hcmtlciA9PSBtYXJrZXIpIHsgcmV0dXJuIHNwYW4gfVxuICB9IH1cbn1cbi8vIFJlbW92ZSBhIHNwYW4gZnJvbSBhbiBhcnJheSwgcmV0dXJuaW5nIHVuZGVmaW5lZCBpZiBubyBzcGFucyBhcmVcbi8vIGxlZnQgKHdlIGRvbid0IHN0b3JlIGFycmF5cyBmb3IgbGluZXMgd2l0aG91dCBzcGFucykuXG5mdW5jdGlvbiByZW1vdmVNYXJrZWRTcGFuKHNwYW5zLCBzcGFuKSB7XG4gIHZhciByXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3BhbnMubGVuZ3RoOyArK2kpXG4gICAgeyBpZiAoc3BhbnNbaV0gIT0gc3BhbikgeyAociB8fCAociA9IFtdKSkucHVzaChzcGFuc1tpXSkgfSB9XG4gIHJldHVybiByXG59XG4vLyBBZGQgYSBzcGFuIHRvIGEgbGluZS5cbmZ1bmN0aW9uIGFkZE1hcmtlZFNwYW4obGluZSwgc3Bhbikge1xuICBsaW5lLm1hcmtlZFNwYW5zID0gbGluZS5tYXJrZWRTcGFucyA/IGxpbmUubWFya2VkU3BhbnMuY29uY2F0KFtzcGFuXSkgOiBbc3Bhbl1cbiAgc3Bhbi5tYXJrZXIuYXR0YWNoTGluZShsaW5lKVxufVxuXG4vLyBVc2VkIGZvciB0aGUgYWxnb3JpdGhtIHRoYXQgYWRqdXN0cyBtYXJrZXJzIGZvciBhIGNoYW5nZSBpbiB0aGVcbi8vIGRvY3VtZW50LiBUaGVzZSBmdW5jdGlvbnMgY3V0IGFuIGFycmF5IG9mIHNwYW5zIGF0IGEgZ2l2ZW5cbi8vIGNoYXJhY3RlciBwb3NpdGlvbiwgcmV0dXJuaW5nIGFuIGFycmF5IG9mIHJlbWFpbmluZyBjaHVua3MgKG9yXG4vLyB1bmRlZmluZWQgaWYgbm90aGluZyByZW1haW5zKS5cbmZ1bmN0aW9uIG1hcmtlZFNwYW5zQmVmb3JlKG9sZCwgc3RhcnRDaCwgaXNJbnNlcnQpIHtcbiAgdmFyIG53XG4gIGlmIChvbGQpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgc3BhbiA9IG9sZFtpXSwgbWFya2VyID0gc3Bhbi5tYXJrZXJcbiAgICB2YXIgc3RhcnRzQmVmb3JlID0gc3Bhbi5mcm9tID09IG51bGwgfHwgKG1hcmtlci5pbmNsdXNpdmVMZWZ0ID8gc3Bhbi5mcm9tIDw9IHN0YXJ0Q2ggOiBzcGFuLmZyb20gPCBzdGFydENoKVxuICAgIGlmIChzdGFydHNCZWZvcmUgfHwgc3Bhbi5mcm9tID09IHN0YXJ0Q2ggJiYgbWFya2VyLnR5cGUgPT0gXCJib29rbWFya1wiICYmICghaXNJbnNlcnQgfHwgIXNwYW4ubWFya2VyLmluc2VydExlZnQpKSB7XG4gICAgICB2YXIgZW5kc0FmdGVyID0gc3Bhbi50byA9PSBudWxsIHx8IChtYXJrZXIuaW5jbHVzaXZlUmlnaHQgPyBzcGFuLnRvID49IHN0YXJ0Q2ggOiBzcGFuLnRvID4gc3RhcnRDaClcbiAgICAgIDsobncgfHwgKG53ID0gW10pKS5wdXNoKG5ldyBNYXJrZWRTcGFuKG1hcmtlciwgc3Bhbi5mcm9tLCBlbmRzQWZ0ZXIgPyBudWxsIDogc3Bhbi50bykpXG4gICAgfVxuICB9IH1cbiAgcmV0dXJuIG53XG59XG5mdW5jdGlvbiBtYXJrZWRTcGFuc0FmdGVyKG9sZCwgZW5kQ2gsIGlzSW5zZXJ0KSB7XG4gIHZhciBud1xuICBpZiAob2xkKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgb2xkLmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHNwYW4gPSBvbGRbaV0sIG1hcmtlciA9IHNwYW4ubWFya2VyXG4gICAgdmFyIGVuZHNBZnRlciA9IHNwYW4udG8gPT0gbnVsbCB8fCAobWFya2VyLmluY2x1c2l2ZVJpZ2h0ID8gc3Bhbi50byA+PSBlbmRDaCA6IHNwYW4udG8gPiBlbmRDaClcbiAgICBpZiAoZW5kc0FmdGVyIHx8IHNwYW4uZnJvbSA9PSBlbmRDaCAmJiBtYXJrZXIudHlwZSA9PSBcImJvb2ttYXJrXCIgJiYgKCFpc0luc2VydCB8fCBzcGFuLm1hcmtlci5pbnNlcnRMZWZ0KSkge1xuICAgICAgdmFyIHN0YXJ0c0JlZm9yZSA9IHNwYW4uZnJvbSA9PSBudWxsIHx8IChtYXJrZXIuaW5jbHVzaXZlTGVmdCA/IHNwYW4uZnJvbSA8PSBlbmRDaCA6IHNwYW4uZnJvbSA8IGVuZENoKVxuICAgICAgOyhudyB8fCAobncgPSBbXSkpLnB1c2gobmV3IE1hcmtlZFNwYW4obWFya2VyLCBzdGFydHNCZWZvcmUgPyBudWxsIDogc3Bhbi5mcm9tIC0gZW5kQ2gsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYW4udG8gPT0gbnVsbCA/IG51bGwgOiBzcGFuLnRvIC0gZW5kQ2gpKVxuICAgIH1cbiAgfSB9XG4gIHJldHVybiBud1xufVxuXG4vLyBHaXZlbiBhIGNoYW5nZSBvYmplY3QsIGNvbXB1dGUgdGhlIG5ldyBzZXQgb2YgbWFya2VyIHNwYW5zIHRoYXRcbi8vIGNvdmVyIHRoZSBsaW5lIGluIHdoaWNoIHRoZSBjaGFuZ2UgdG9vayBwbGFjZS4gUmVtb3ZlcyBzcGFuc1xuLy8gZW50aXJlbHkgd2l0aGluIHRoZSBjaGFuZ2UsIHJlY29ubmVjdHMgc3BhbnMgYmVsb25naW5nIHRvIHRoZVxuLy8gc2FtZSBtYXJrZXIgdGhhdCBhcHBlYXIgb24gYm90aCBzaWRlcyBvZiB0aGUgY2hhbmdlLCBhbmQgY3V0cyBvZmZcbi8vIHNwYW5zIHBhcnRpYWxseSB3aXRoaW4gdGhlIGNoYW5nZS4gUmV0dXJucyBhbiBhcnJheSBvZiBzcGFuXG4vLyBhcnJheXMgd2l0aCBvbmUgZWxlbWVudCBmb3IgZWFjaCBsaW5lIGluIChhZnRlcikgdGhlIGNoYW5nZS5cbmZ1bmN0aW9uIHN0cmV0Y2hTcGFuc092ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpIHtcbiAgaWYgKGNoYW5nZS5mdWxsKSB7IHJldHVybiBudWxsIH1cbiAgdmFyIG9sZEZpcnN0ID0gaXNMaW5lKGRvYywgY2hhbmdlLmZyb20ubGluZSkgJiYgZ2V0TGluZShkb2MsIGNoYW5nZS5mcm9tLmxpbmUpLm1hcmtlZFNwYW5zXG4gIHZhciBvbGRMYXN0ID0gaXNMaW5lKGRvYywgY2hhbmdlLnRvLmxpbmUpICYmIGdldExpbmUoZG9jLCBjaGFuZ2UudG8ubGluZSkubWFya2VkU3BhbnNcbiAgaWYgKCFvbGRGaXJzdCAmJiAhb2xkTGFzdCkgeyByZXR1cm4gbnVsbCB9XG5cbiAgdmFyIHN0YXJ0Q2ggPSBjaGFuZ2UuZnJvbS5jaCwgZW5kQ2ggPSBjaGFuZ2UudG8uY2gsIGlzSW5zZXJ0ID0gY21wKGNoYW5nZS5mcm9tLCBjaGFuZ2UudG8pID09IDBcbiAgLy8gR2V0IHRoZSBzcGFucyB0aGF0ICdzdGljayBvdXQnIG9uIGJvdGggc2lkZXNcbiAgdmFyIGZpcnN0ID0gbWFya2VkU3BhbnNCZWZvcmUob2xkRmlyc3QsIHN0YXJ0Q2gsIGlzSW5zZXJ0KVxuICB2YXIgbGFzdCA9IG1hcmtlZFNwYW5zQWZ0ZXIob2xkTGFzdCwgZW5kQ2gsIGlzSW5zZXJ0KVxuXG4gIC8vIE5leHQsIG1lcmdlIHRob3NlIHR3byBlbmRzXG4gIHZhciBzYW1lTGluZSA9IGNoYW5nZS50ZXh0Lmxlbmd0aCA9PSAxLCBvZmZzZXQgPSBsc3QoY2hhbmdlLnRleHQpLmxlbmd0aCArIChzYW1lTGluZSA/IHN0YXJ0Q2ggOiAwKVxuICBpZiAoZmlyc3QpIHtcbiAgICAvLyBGaXggdXAgLnRvIHByb3BlcnRpZXMgb2YgZmlyc3RcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpcnN0Lmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgc3BhbiA9IGZpcnN0W2ldXG4gICAgICBpZiAoc3Bhbi50byA9PSBudWxsKSB7XG4gICAgICAgIHZhciBmb3VuZCA9IGdldE1hcmtlZFNwYW5Gb3IobGFzdCwgc3Bhbi5tYXJrZXIpXG4gICAgICAgIGlmICghZm91bmQpIHsgc3Bhbi50byA9IHN0YXJ0Q2ggfVxuICAgICAgICBlbHNlIGlmIChzYW1lTGluZSkgeyBzcGFuLnRvID0gZm91bmQudG8gPT0gbnVsbCA/IG51bGwgOiBmb3VuZC50byArIG9mZnNldCB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChsYXN0KSB7XG4gICAgLy8gRml4IHVwIC5mcm9tIGluIGxhc3QgKG9yIG1vdmUgdGhlbSBpbnRvIGZpcnN0IGluIGNhc2Ugb2Ygc2FtZUxpbmUpXG4gICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgbGFzdC5sZW5ndGg7ICsraSQxKSB7XG4gICAgICB2YXIgc3BhbiQxID0gbGFzdFtpJDFdXG4gICAgICBpZiAoc3BhbiQxLnRvICE9IG51bGwpIHsgc3BhbiQxLnRvICs9IG9mZnNldCB9XG4gICAgICBpZiAoc3BhbiQxLmZyb20gPT0gbnVsbCkge1xuICAgICAgICB2YXIgZm91bmQkMSA9IGdldE1hcmtlZFNwYW5Gb3IoZmlyc3QsIHNwYW4kMS5tYXJrZXIpXG4gICAgICAgIGlmICghZm91bmQkMSkge1xuICAgICAgICAgIHNwYW4kMS5mcm9tID0gb2Zmc2V0XG4gICAgICAgICAgaWYgKHNhbWVMaW5lKSB7IChmaXJzdCB8fCAoZmlyc3QgPSBbXSkpLnB1c2goc3BhbiQxKSB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNwYW4kMS5mcm9tICs9IG9mZnNldFxuICAgICAgICBpZiAoc2FtZUxpbmUpIHsgKGZpcnN0IHx8IChmaXJzdCA9IFtdKSkucHVzaChzcGFuJDEpIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gTWFrZSBzdXJlIHdlIGRpZG4ndCBjcmVhdGUgYW55IHplcm8tbGVuZ3RoIHNwYW5zXG4gIGlmIChmaXJzdCkgeyBmaXJzdCA9IGNsZWFyRW1wdHlTcGFucyhmaXJzdCkgfVxuICBpZiAobGFzdCAmJiBsYXN0ICE9IGZpcnN0KSB7IGxhc3QgPSBjbGVhckVtcHR5U3BhbnMobGFzdCkgfVxuXG4gIHZhciBuZXdNYXJrZXJzID0gW2ZpcnN0XVxuICBpZiAoIXNhbWVMaW5lKSB7XG4gICAgLy8gRmlsbCBnYXAgd2l0aCB3aG9sZS1saW5lLXNwYW5zXG4gICAgdmFyIGdhcCA9IGNoYW5nZS50ZXh0Lmxlbmd0aCAtIDIsIGdhcE1hcmtlcnNcbiAgICBpZiAoZ2FwID4gMCAmJiBmaXJzdClcbiAgICAgIHsgZm9yICh2YXIgaSQyID0gMDsgaSQyIDwgZmlyc3QubGVuZ3RoOyArK2kkMilcbiAgICAgICAgeyBpZiAoZmlyc3RbaSQyXS50byA9PSBudWxsKVxuICAgICAgICAgIHsgKGdhcE1hcmtlcnMgfHwgKGdhcE1hcmtlcnMgPSBbXSkpLnB1c2gobmV3IE1hcmtlZFNwYW4oZmlyc3RbaSQyXS5tYXJrZXIsIG51bGwsIG51bGwpKSB9IH0gfVxuICAgIGZvciAodmFyIGkkMyA9IDA7IGkkMyA8IGdhcDsgKytpJDMpXG4gICAgICB7IG5ld01hcmtlcnMucHVzaChnYXBNYXJrZXJzKSB9XG4gICAgbmV3TWFya2Vycy5wdXNoKGxhc3QpXG4gIH1cbiAgcmV0dXJuIG5ld01hcmtlcnNcbn1cblxuLy8gUmVtb3ZlIHNwYW5zIHRoYXQgYXJlIGVtcHR5IGFuZCBkb24ndCBoYXZlIGEgY2xlYXJXaGVuRW1wdHlcbi8vIG9wdGlvbiBvZiBmYWxzZS5cbmZ1bmN0aW9uIGNsZWFyRW1wdHlTcGFucyhzcGFucykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHNwYW5zLmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHNwYW4gPSBzcGFuc1tpXVxuICAgIGlmIChzcGFuLmZyb20gIT0gbnVsbCAmJiBzcGFuLmZyb20gPT0gc3Bhbi50byAmJiBzcGFuLm1hcmtlci5jbGVhcldoZW5FbXB0eSAhPT0gZmFsc2UpXG4gICAgICB7IHNwYW5zLnNwbGljZShpLS0sIDEpIH1cbiAgfVxuICBpZiAoIXNwYW5zLmxlbmd0aCkgeyByZXR1cm4gbnVsbCB9XG4gIHJldHVybiBzcGFuc1xufVxuXG4vLyBVc2VkIHRvICdjbGlwJyBvdXQgcmVhZE9ubHkgcmFuZ2VzIHdoZW4gbWFraW5nIGEgY2hhbmdlLlxuZnVuY3Rpb24gcmVtb3ZlUmVhZE9ubHlSYW5nZXMoZG9jLCBmcm9tLCB0bykge1xuICB2YXIgbWFya2VycyA9IG51bGxcbiAgZG9jLml0ZXIoZnJvbS5saW5lLCB0by5saW5lICsgMSwgZnVuY3Rpb24gKGxpbmUpIHtcbiAgICBpZiAobGluZS5tYXJrZWRTcGFucykgeyBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmUubWFya2VkU3BhbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBtYXJrID0gbGluZS5tYXJrZWRTcGFuc1tpXS5tYXJrZXJcbiAgICAgIGlmIChtYXJrLnJlYWRPbmx5ICYmICghbWFya2VycyB8fCBpbmRleE9mKG1hcmtlcnMsIG1hcmspID09IC0xKSlcbiAgICAgICAgeyAobWFya2VycyB8fCAobWFya2VycyA9IFtdKSkucHVzaChtYXJrKSB9XG4gICAgfSB9XG4gIH0pXG4gIGlmICghbWFya2VycykgeyByZXR1cm4gbnVsbCB9XG4gIHZhciBwYXJ0cyA9IFt7ZnJvbTogZnJvbSwgdG86IHRvfV1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIG1rID0gbWFya2Vyc1tpXSwgbSA9IG1rLmZpbmQoMClcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHBhcnRzLmxlbmd0aDsgKytqKSB7XG4gICAgICB2YXIgcCA9IHBhcnRzW2pdXG4gICAgICBpZiAoY21wKHAudG8sIG0uZnJvbSkgPCAwIHx8IGNtcChwLmZyb20sIG0udG8pID4gMCkgeyBjb250aW51ZSB9XG4gICAgICB2YXIgbmV3UGFydHMgPSBbaiwgMV0sIGRmcm9tID0gY21wKHAuZnJvbSwgbS5mcm9tKSwgZHRvID0gY21wKHAudG8sIG0udG8pXG4gICAgICBpZiAoZGZyb20gPCAwIHx8ICFtay5pbmNsdXNpdmVMZWZ0ICYmICFkZnJvbSlcbiAgICAgICAgeyBuZXdQYXJ0cy5wdXNoKHtmcm9tOiBwLmZyb20sIHRvOiBtLmZyb219KSB9XG4gICAgICBpZiAoZHRvID4gMCB8fCAhbWsuaW5jbHVzaXZlUmlnaHQgJiYgIWR0bylcbiAgICAgICAgeyBuZXdQYXJ0cy5wdXNoKHtmcm9tOiBtLnRvLCB0bzogcC50b30pIH1cbiAgICAgIHBhcnRzLnNwbGljZS5hcHBseShwYXJ0cywgbmV3UGFydHMpXG4gICAgICBqICs9IG5ld1BhcnRzLmxlbmd0aCAtIDFcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhcnRzXG59XG5cbi8vIENvbm5lY3Qgb3IgZGlzY29ubmVjdCBzcGFucyBmcm9tIGEgbGluZS5cbmZ1bmN0aW9uIGRldGFjaE1hcmtlZFNwYW5zKGxpbmUpIHtcbiAgdmFyIHNwYW5zID0gbGluZS5tYXJrZWRTcGFuc1xuICBpZiAoIXNwYW5zKSB7IHJldHVybiB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3BhbnMubGVuZ3RoOyArK2kpXG4gICAgeyBzcGFuc1tpXS5tYXJrZXIuZGV0YWNoTGluZShsaW5lKSB9XG4gIGxpbmUubWFya2VkU3BhbnMgPSBudWxsXG59XG5mdW5jdGlvbiBhdHRhY2hNYXJrZWRTcGFucyhsaW5lLCBzcGFucykge1xuICBpZiAoIXNwYW5zKSB7IHJldHVybiB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3BhbnMubGVuZ3RoOyArK2kpXG4gICAgeyBzcGFuc1tpXS5tYXJrZXIuYXR0YWNoTGluZShsaW5lKSB9XG4gIGxpbmUubWFya2VkU3BhbnMgPSBzcGFuc1xufVxuXG4vLyBIZWxwZXJzIHVzZWQgd2hlbiBjb21wdXRpbmcgd2hpY2ggb3ZlcmxhcHBpbmcgY29sbGFwc2VkIHNwYW5cbi8vIGNvdW50cyBhcyB0aGUgbGFyZ2VyIG9uZS5cbmZ1bmN0aW9uIGV4dHJhTGVmdChtYXJrZXIpIHsgcmV0dXJuIG1hcmtlci5pbmNsdXNpdmVMZWZ0ID8gLTEgOiAwIH1cbmZ1bmN0aW9uIGV4dHJhUmlnaHQobWFya2VyKSB7IHJldHVybiBtYXJrZXIuaW5jbHVzaXZlUmlnaHQgPyAxIDogMCB9XG5cbi8vIFJldHVybnMgYSBudW1iZXIgaW5kaWNhdGluZyB3aGljaCBvZiB0d28gb3ZlcmxhcHBpbmcgY29sbGFwc2VkXG4vLyBzcGFucyBpcyBsYXJnZXIgKGFuZCB0aHVzIGluY2x1ZGVzIHRoZSBvdGhlcikuIEZhbGxzIGJhY2sgdG9cbi8vIGNvbXBhcmluZyBpZHMgd2hlbiB0aGUgc3BhbnMgY292ZXIgZXhhY3RseSB0aGUgc2FtZSByYW5nZS5cbmZ1bmN0aW9uIGNvbXBhcmVDb2xsYXBzZWRNYXJrZXJzKGEsIGIpIHtcbiAgdmFyIGxlbkRpZmYgPSBhLmxpbmVzLmxlbmd0aCAtIGIubGluZXMubGVuZ3RoXG4gIGlmIChsZW5EaWZmICE9IDApIHsgcmV0dXJuIGxlbkRpZmYgfVxuICB2YXIgYVBvcyA9IGEuZmluZCgpLCBiUG9zID0gYi5maW5kKClcbiAgdmFyIGZyb21DbXAgPSBjbXAoYVBvcy5mcm9tLCBiUG9zLmZyb20pIHx8IGV4dHJhTGVmdChhKSAtIGV4dHJhTGVmdChiKVxuICBpZiAoZnJvbUNtcCkgeyByZXR1cm4gLWZyb21DbXAgfVxuICB2YXIgdG9DbXAgPSBjbXAoYVBvcy50bywgYlBvcy50bykgfHwgZXh0cmFSaWdodChhKSAtIGV4dHJhUmlnaHQoYilcbiAgaWYgKHRvQ21wKSB7IHJldHVybiB0b0NtcCB9XG4gIHJldHVybiBiLmlkIC0gYS5pZFxufVxuXG4vLyBGaW5kIG91dCB3aGV0aGVyIGEgbGluZSBlbmRzIG9yIHN0YXJ0cyBpbiBhIGNvbGxhcHNlZCBzcGFuLiBJZlxuLy8gc28sIHJldHVybiB0aGUgbWFya2VyIGZvciB0aGF0IHNwYW4uXG5mdW5jdGlvbiBjb2xsYXBzZWRTcGFuQXRTaWRlKGxpbmUsIHN0YXJ0KSB7XG4gIHZhciBzcHMgPSBzYXdDb2xsYXBzZWRTcGFucyAmJiBsaW5lLm1hcmtlZFNwYW5zLCBmb3VuZFxuICBpZiAoc3BzKSB7IGZvciAodmFyIHNwID0gKHZvaWQgMCksIGkgPSAwOyBpIDwgc3BzLmxlbmd0aDsgKytpKSB7XG4gICAgc3AgPSBzcHNbaV1cbiAgICBpZiAoc3AubWFya2VyLmNvbGxhcHNlZCAmJiAoc3RhcnQgPyBzcC5mcm9tIDogc3AudG8pID09IG51bGwgJiZcbiAgICAgICAgKCFmb3VuZCB8fCBjb21wYXJlQ29sbGFwc2VkTWFya2Vycyhmb3VuZCwgc3AubWFya2VyKSA8IDApKVxuICAgICAgeyBmb3VuZCA9IHNwLm1hcmtlciB9XG4gIH0gfVxuICByZXR1cm4gZm91bmRcbn1cbmZ1bmN0aW9uIGNvbGxhcHNlZFNwYW5BdFN0YXJ0KGxpbmUpIHsgcmV0dXJuIGNvbGxhcHNlZFNwYW5BdFNpZGUobGluZSwgdHJ1ZSkgfVxuZnVuY3Rpb24gY29sbGFwc2VkU3BhbkF0RW5kKGxpbmUpIHsgcmV0dXJuIGNvbGxhcHNlZFNwYW5BdFNpZGUobGluZSwgZmFsc2UpIH1cblxuLy8gVGVzdCB3aGV0aGVyIHRoZXJlIGV4aXN0cyBhIGNvbGxhcHNlZCBzcGFuIHRoYXQgcGFydGlhbGx5XG4vLyBvdmVybGFwcyAoY292ZXJzIHRoZSBzdGFydCBvciBlbmQsIGJ1dCBub3QgYm90aCkgb2YgYSBuZXcgc3Bhbi5cbi8vIFN1Y2ggb3ZlcmxhcCBpcyBub3QgYWxsb3dlZC5cbmZ1bmN0aW9uIGNvbmZsaWN0aW5nQ29sbGFwc2VkUmFuZ2UoZG9jLCBsaW5lTm8sIGZyb20sIHRvLCBtYXJrZXIpIHtcbiAgdmFyIGxpbmUgPSBnZXRMaW5lKGRvYywgbGluZU5vKVxuICB2YXIgc3BzID0gc2F3Q29sbGFwc2VkU3BhbnMgJiYgbGluZS5tYXJrZWRTcGFuc1xuICBpZiAoc3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgc3BzLmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHNwID0gc3BzW2ldXG4gICAgaWYgKCFzcC5tYXJrZXIuY29sbGFwc2VkKSB7IGNvbnRpbnVlIH1cbiAgICB2YXIgZm91bmQgPSBzcC5tYXJrZXIuZmluZCgwKVxuICAgIHZhciBmcm9tQ21wID0gY21wKGZvdW5kLmZyb20sIGZyb20pIHx8IGV4dHJhTGVmdChzcC5tYXJrZXIpIC0gZXh0cmFMZWZ0KG1hcmtlcilcbiAgICB2YXIgdG9DbXAgPSBjbXAoZm91bmQudG8sIHRvKSB8fCBleHRyYVJpZ2h0KHNwLm1hcmtlcikgLSBleHRyYVJpZ2h0KG1hcmtlcilcbiAgICBpZiAoZnJvbUNtcCA+PSAwICYmIHRvQ21wIDw9IDAgfHwgZnJvbUNtcCA8PSAwICYmIHRvQ21wID49IDApIHsgY29udGludWUgfVxuICAgIGlmIChmcm9tQ21wIDw9IDAgJiYgKHNwLm1hcmtlci5pbmNsdXNpdmVSaWdodCAmJiBtYXJrZXIuaW5jbHVzaXZlTGVmdCA/IGNtcChmb3VuZC50bywgZnJvbSkgPj0gMCA6IGNtcChmb3VuZC50bywgZnJvbSkgPiAwKSB8fFxuICAgICAgICBmcm9tQ21wID49IDAgJiYgKHNwLm1hcmtlci5pbmNsdXNpdmVSaWdodCAmJiBtYXJrZXIuaW5jbHVzaXZlTGVmdCA/IGNtcChmb3VuZC5mcm9tLCB0bykgPD0gMCA6IGNtcChmb3VuZC5mcm9tLCB0bykgPCAwKSlcbiAgICAgIHsgcmV0dXJuIHRydWUgfVxuICB9IH1cbn1cblxuLy8gQSB2aXN1YWwgbGluZSBpcyBhIGxpbmUgYXMgZHJhd24gb24gdGhlIHNjcmVlbi4gRm9sZGluZywgZm9yXG4vLyBleGFtcGxlLCBjYW4gY2F1c2UgbXVsdGlwbGUgbG9naWNhbCBsaW5lcyB0byBhcHBlYXIgb24gdGhlIHNhbWVcbi8vIHZpc3VhbCBsaW5lLiBUaGlzIGZpbmRzIHRoZSBzdGFydCBvZiB0aGUgdmlzdWFsIGxpbmUgdGhhdCB0aGVcbi8vIGdpdmVuIGxpbmUgaXMgcGFydCBvZiAodXN1YWxseSB0aGF0IGlzIHRoZSBsaW5lIGl0c2VsZikuXG5mdW5jdGlvbiB2aXN1YWxMaW5lKGxpbmUpIHtcbiAgdmFyIG1lcmdlZFxuICB3aGlsZSAobWVyZ2VkID0gY29sbGFwc2VkU3BhbkF0U3RhcnQobGluZSkpXG4gICAgeyBsaW5lID0gbWVyZ2VkLmZpbmQoLTEsIHRydWUpLmxpbmUgfVxuICByZXR1cm4gbGluZVxufVxuXG4vLyBSZXR1cm5zIGFuIGFycmF5IG9mIGxvZ2ljYWwgbGluZXMgdGhhdCBjb250aW51ZSB0aGUgdmlzdWFsIGxpbmVcbi8vIHN0YXJ0ZWQgYnkgdGhlIGFyZ3VtZW50LCBvciB1bmRlZmluZWQgaWYgdGhlcmUgYXJlIG5vIHN1Y2ggbGluZXMuXG5mdW5jdGlvbiB2aXN1YWxMaW5lQ29udGludWVkKGxpbmUpIHtcbiAgdmFyIG1lcmdlZCwgbGluZXNcbiAgd2hpbGUgKG1lcmdlZCA9IGNvbGxhcHNlZFNwYW5BdEVuZChsaW5lKSkge1xuICAgIGxpbmUgPSBtZXJnZWQuZmluZCgxLCB0cnVlKS5saW5lXG4gICAgOyhsaW5lcyB8fCAobGluZXMgPSBbXSkpLnB1c2gobGluZSlcbiAgfVxuICByZXR1cm4gbGluZXNcbn1cblxuLy8gR2V0IHRoZSBsaW5lIG51bWJlciBvZiB0aGUgc3RhcnQgb2YgdGhlIHZpc3VhbCBsaW5lIHRoYXQgdGhlXG4vLyBnaXZlbiBsaW5lIG51bWJlciBpcyBwYXJ0IG9mLlxuZnVuY3Rpb24gdmlzdWFsTGluZU5vKGRvYywgbGluZU4pIHtcbiAgdmFyIGxpbmUgPSBnZXRMaW5lKGRvYywgbGluZU4pLCB2aXMgPSB2aXN1YWxMaW5lKGxpbmUpXG4gIGlmIChsaW5lID09IHZpcykgeyByZXR1cm4gbGluZU4gfVxuICByZXR1cm4gbGluZU5vKHZpcylcbn1cblxuLy8gR2V0IHRoZSBsaW5lIG51bWJlciBvZiB0aGUgc3RhcnQgb2YgdGhlIG5leHQgdmlzdWFsIGxpbmUgYWZ0ZXJcbi8vIHRoZSBnaXZlbiBsaW5lLlxuZnVuY3Rpb24gdmlzdWFsTGluZUVuZE5vKGRvYywgbGluZU4pIHtcbiAgaWYgKGxpbmVOID4gZG9jLmxhc3RMaW5lKCkpIHsgcmV0dXJuIGxpbmVOIH1cbiAgdmFyIGxpbmUgPSBnZXRMaW5lKGRvYywgbGluZU4pLCBtZXJnZWRcbiAgaWYgKCFsaW5lSXNIaWRkZW4oZG9jLCBsaW5lKSkgeyByZXR1cm4gbGluZU4gfVxuICB3aGlsZSAobWVyZ2VkID0gY29sbGFwc2VkU3BhbkF0RW5kKGxpbmUpKVxuICAgIHsgbGluZSA9IG1lcmdlZC5maW5kKDEsIHRydWUpLmxpbmUgfVxuICByZXR1cm4gbGluZU5vKGxpbmUpICsgMVxufVxuXG4vLyBDb21wdXRlIHdoZXRoZXIgYSBsaW5lIGlzIGhpZGRlbi4gTGluZXMgY291bnQgYXMgaGlkZGVuIHdoZW4gdGhleVxuLy8gYXJlIHBhcnQgb2YgYSB2aXN1YWwgbGluZSB0aGF0IHN0YXJ0cyB3aXRoIGFub3RoZXIgbGluZSwgb3Igd2hlblxuLy8gdGhleSBhcmUgZW50aXJlbHkgY292ZXJlZCBieSBjb2xsYXBzZWQsIG5vbi13aWRnZXQgc3Bhbi5cbmZ1bmN0aW9uIGxpbmVJc0hpZGRlbihkb2MsIGxpbmUpIHtcbiAgdmFyIHNwcyA9IHNhd0NvbGxhcHNlZFNwYW5zICYmIGxpbmUubWFya2VkU3BhbnNcbiAgaWYgKHNwcykgeyBmb3IgKHZhciBzcCA9ICh2b2lkIDApLCBpID0gMDsgaSA8IHNwcy5sZW5ndGg7ICsraSkge1xuICAgIHNwID0gc3BzW2ldXG4gICAgaWYgKCFzcC5tYXJrZXIuY29sbGFwc2VkKSB7IGNvbnRpbnVlIH1cbiAgICBpZiAoc3AuZnJvbSA9PSBudWxsKSB7IHJldHVybiB0cnVlIH1cbiAgICBpZiAoc3AubWFya2VyLndpZGdldE5vZGUpIHsgY29udGludWUgfVxuICAgIGlmIChzcC5mcm9tID09IDAgJiYgc3AubWFya2VyLmluY2x1c2l2ZUxlZnQgJiYgbGluZUlzSGlkZGVuSW5uZXIoZG9jLCBsaW5lLCBzcCkpXG4gICAgICB7IHJldHVybiB0cnVlIH1cbiAgfSB9XG59XG5mdW5jdGlvbiBsaW5lSXNIaWRkZW5Jbm5lcihkb2MsIGxpbmUsIHNwYW4pIHtcbiAgaWYgKHNwYW4udG8gPT0gbnVsbCkge1xuICAgIHZhciBlbmQgPSBzcGFuLm1hcmtlci5maW5kKDEsIHRydWUpXG4gICAgcmV0dXJuIGxpbmVJc0hpZGRlbklubmVyKGRvYywgZW5kLmxpbmUsIGdldE1hcmtlZFNwYW5Gb3IoZW5kLmxpbmUubWFya2VkU3BhbnMsIHNwYW4ubWFya2VyKSlcbiAgfVxuICBpZiAoc3Bhbi5tYXJrZXIuaW5jbHVzaXZlUmlnaHQgJiYgc3Bhbi50byA9PSBsaW5lLnRleHQubGVuZ3RoKVxuICAgIHsgcmV0dXJuIHRydWUgfVxuICBmb3IgKHZhciBzcCA9ICh2b2lkIDApLCBpID0gMDsgaSA8IGxpbmUubWFya2VkU3BhbnMubGVuZ3RoOyArK2kpIHtcbiAgICBzcCA9IGxpbmUubWFya2VkU3BhbnNbaV1cbiAgICBpZiAoc3AubWFya2VyLmNvbGxhcHNlZCAmJiAhc3AubWFya2VyLndpZGdldE5vZGUgJiYgc3AuZnJvbSA9PSBzcGFuLnRvICYmXG4gICAgICAgIChzcC50byA9PSBudWxsIHx8IHNwLnRvICE9IHNwYW4uZnJvbSkgJiZcbiAgICAgICAgKHNwLm1hcmtlci5pbmNsdXNpdmVMZWZ0IHx8IHNwYW4ubWFya2VyLmluY2x1c2l2ZVJpZ2h0KSAmJlxuICAgICAgICBsaW5lSXNIaWRkZW5Jbm5lcihkb2MsIGxpbmUsIHNwKSkgeyByZXR1cm4gdHJ1ZSB9XG4gIH1cbn1cblxuLy8gRmluZCB0aGUgaGVpZ2h0IGFib3ZlIHRoZSBnaXZlbiBsaW5lLlxuZnVuY3Rpb24gaGVpZ2h0QXRMaW5lKGxpbmVPYmopIHtcbiAgbGluZU9iaiA9IHZpc3VhbExpbmUobGluZU9iailcblxuICB2YXIgaCA9IDAsIGNodW5rID0gbGluZU9iai5wYXJlbnRcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaHVuay5saW5lcy5sZW5ndGg7ICsraSkge1xuICAgIHZhciBsaW5lID0gY2h1bmsubGluZXNbaV1cbiAgICBpZiAobGluZSA9PSBsaW5lT2JqKSB7IGJyZWFrIH1cbiAgICBlbHNlIHsgaCArPSBsaW5lLmhlaWdodCB9XG4gIH1cbiAgZm9yICh2YXIgcCA9IGNodW5rLnBhcmVudDsgcDsgY2h1bmsgPSBwLCBwID0gY2h1bmsucGFyZW50KSB7XG4gICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgcC5jaGlsZHJlbi5sZW5ndGg7ICsraSQxKSB7XG4gICAgICB2YXIgY3VyID0gcC5jaGlsZHJlbltpJDFdXG4gICAgICBpZiAoY3VyID09IGNodW5rKSB7IGJyZWFrIH1cbiAgICAgIGVsc2UgeyBoICs9IGN1ci5oZWlnaHQgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gaFxufVxuXG4vLyBDb21wdXRlIHRoZSBjaGFyYWN0ZXIgbGVuZ3RoIG9mIGEgbGluZSwgdGFraW5nIGludG8gYWNjb3VudFxuLy8gY29sbGFwc2VkIHJhbmdlcyAoc2VlIG1hcmtUZXh0KSB0aGF0IG1pZ2h0IGhpZGUgcGFydHMsIGFuZCBqb2luXG4vLyBvdGhlciBsaW5lcyBvbnRvIGl0LlxuZnVuY3Rpb24gbGluZUxlbmd0aChsaW5lKSB7XG4gIGlmIChsaW5lLmhlaWdodCA9PSAwKSB7IHJldHVybiAwIH1cbiAgdmFyIGxlbiA9IGxpbmUudGV4dC5sZW5ndGgsIG1lcmdlZCwgY3VyID0gbGluZVxuICB3aGlsZSAobWVyZ2VkID0gY29sbGFwc2VkU3BhbkF0U3RhcnQoY3VyKSkge1xuICAgIHZhciBmb3VuZCA9IG1lcmdlZC5maW5kKDAsIHRydWUpXG4gICAgY3VyID0gZm91bmQuZnJvbS5saW5lXG4gICAgbGVuICs9IGZvdW5kLmZyb20uY2ggLSBmb3VuZC50by5jaFxuICB9XG4gIGN1ciA9IGxpbmVcbiAgd2hpbGUgKG1lcmdlZCA9IGNvbGxhcHNlZFNwYW5BdEVuZChjdXIpKSB7XG4gICAgdmFyIGZvdW5kJDEgPSBtZXJnZWQuZmluZCgwLCB0cnVlKVxuICAgIGxlbiAtPSBjdXIudGV4dC5sZW5ndGggLSBmb3VuZCQxLmZyb20uY2hcbiAgICBjdXIgPSBmb3VuZCQxLnRvLmxpbmVcbiAgICBsZW4gKz0gY3VyLnRleHQubGVuZ3RoIC0gZm91bmQkMS50by5jaFxuICB9XG4gIHJldHVybiBsZW5cbn1cblxuLy8gRmluZCB0aGUgbG9uZ2VzdCBsaW5lIGluIHRoZSBkb2N1bWVudC5cbmZ1bmN0aW9uIGZpbmRNYXhMaW5lKGNtKSB7XG4gIHZhciBkID0gY20uZGlzcGxheSwgZG9jID0gY20uZG9jXG4gIGQubWF4TGluZSA9IGdldExpbmUoZG9jLCBkb2MuZmlyc3QpXG4gIGQubWF4TGluZUxlbmd0aCA9IGxpbmVMZW5ndGgoZC5tYXhMaW5lKVxuICBkLm1heExpbmVDaGFuZ2VkID0gdHJ1ZVxuICBkb2MuaXRlcihmdW5jdGlvbiAobGluZSkge1xuICAgIHZhciBsZW4gPSBsaW5lTGVuZ3RoKGxpbmUpXG4gICAgaWYgKGxlbiA+IGQubWF4TGluZUxlbmd0aCkge1xuICAgICAgZC5tYXhMaW5lTGVuZ3RoID0gbGVuXG4gICAgICBkLm1heExpbmUgPSBsaW5lXG4gICAgfVxuICB9KVxufVxuXG4vLyBCSURJIEhFTFBFUlNcblxuZnVuY3Rpb24gaXRlcmF0ZUJpZGlTZWN0aW9ucyhvcmRlciwgZnJvbSwgdG8sIGYpIHtcbiAgaWYgKCFvcmRlcikgeyByZXR1cm4gZihmcm9tLCB0bywgXCJsdHJcIikgfVxuICB2YXIgZm91bmQgPSBmYWxzZVxuICBmb3IgKHZhciBpID0gMDsgaSA8IG9yZGVyLmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHBhcnQgPSBvcmRlcltpXVxuICAgIGlmIChwYXJ0LmZyb20gPCB0byAmJiBwYXJ0LnRvID4gZnJvbSB8fCBmcm9tID09IHRvICYmIHBhcnQudG8gPT0gZnJvbSkge1xuICAgICAgZihNYXRoLm1heChwYXJ0LmZyb20sIGZyb20pLCBNYXRoLm1pbihwYXJ0LnRvLCB0byksIHBhcnQubGV2ZWwgPT0gMSA/IFwicnRsXCIgOiBcImx0clwiKVxuICAgICAgZm91bmQgPSB0cnVlXG4gICAgfVxuICB9XG4gIGlmICghZm91bmQpIHsgZihmcm9tLCB0bywgXCJsdHJcIikgfVxufVxuXG5mdW5jdGlvbiBiaWRpTGVmdChwYXJ0KSB7IHJldHVybiBwYXJ0LmxldmVsICUgMiA/IHBhcnQudG8gOiBwYXJ0LmZyb20gfVxuZnVuY3Rpb24gYmlkaVJpZ2h0KHBhcnQpIHsgcmV0dXJuIHBhcnQubGV2ZWwgJSAyID8gcGFydC5mcm9tIDogcGFydC50byB9XG5cbmZ1bmN0aW9uIGxpbmVMZWZ0KGxpbmUpIHsgdmFyIG9yZGVyID0gZ2V0T3JkZXIobGluZSk7IHJldHVybiBvcmRlciA/IGJpZGlMZWZ0KG9yZGVyWzBdKSA6IDAgfVxuZnVuY3Rpb24gbGluZVJpZ2h0KGxpbmUpIHtcbiAgdmFyIG9yZGVyID0gZ2V0T3JkZXIobGluZSlcbiAgaWYgKCFvcmRlcikgeyByZXR1cm4gbGluZS50ZXh0Lmxlbmd0aCB9XG4gIHJldHVybiBiaWRpUmlnaHQobHN0KG9yZGVyKSlcbn1cblxuZnVuY3Rpb24gY29tcGFyZUJpZGlMZXZlbChvcmRlciwgYSwgYikge1xuICB2YXIgbGluZWRpciA9IG9yZGVyWzBdLmxldmVsXG4gIGlmIChhID09IGxpbmVkaXIpIHsgcmV0dXJuIHRydWUgfVxuICBpZiAoYiA9PSBsaW5lZGlyKSB7IHJldHVybiBmYWxzZSB9XG4gIHJldHVybiBhIDwgYlxufVxuXG52YXIgYmlkaU90aGVyID0gbnVsbFxuZnVuY3Rpb24gZ2V0QmlkaVBhcnRBdChvcmRlciwgcG9zKSB7XG4gIHZhciBmb3VuZFxuICBiaWRpT3RoZXIgPSBudWxsXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgb3JkZXIubGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgY3VyID0gb3JkZXJbaV1cbiAgICBpZiAoY3VyLmZyb20gPCBwb3MgJiYgY3VyLnRvID4gcG9zKSB7IHJldHVybiBpIH1cbiAgICBpZiAoKGN1ci5mcm9tID09IHBvcyB8fCBjdXIudG8gPT0gcG9zKSkge1xuICAgICAgaWYgKGZvdW5kID09IG51bGwpIHtcbiAgICAgICAgZm91bmQgPSBpXG4gICAgICB9IGVsc2UgaWYgKGNvbXBhcmVCaWRpTGV2ZWwob3JkZXIsIGN1ci5sZXZlbCwgb3JkZXJbZm91bmRdLmxldmVsKSkge1xuICAgICAgICBpZiAoY3VyLmZyb20gIT0gY3VyLnRvKSB7IGJpZGlPdGhlciA9IGZvdW5kIH1cbiAgICAgICAgcmV0dXJuIGlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjdXIuZnJvbSAhPSBjdXIudG8pIHsgYmlkaU90aGVyID0gaSB9XG4gICAgICAgIHJldHVybiBmb3VuZFxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZm91bmRcbn1cblxuZnVuY3Rpb24gbW92ZUluTGluZShsaW5lLCBwb3MsIGRpciwgYnlVbml0KSB7XG4gIGlmICghYnlVbml0KSB7IHJldHVybiBwb3MgKyBkaXIgfVxuICBkbyB7IHBvcyArPSBkaXIgfVxuICB3aGlsZSAocG9zID4gMCAmJiBpc0V4dGVuZGluZ0NoYXIobGluZS50ZXh0LmNoYXJBdChwb3MpKSlcbiAgcmV0dXJuIHBvc1xufVxuXG4vLyBUaGlzIGlzIG5lZWRlZCBpbiBvcmRlciB0byBtb3ZlICd2aXN1YWxseScgdGhyb3VnaCBiaS1kaXJlY3Rpb25hbFxuLy8gdGV4dCAtLSBpLmUuLCBwcmVzc2luZyBsZWZ0IHNob3VsZCBtYWtlIHRoZSBjdXJzb3IgZ28gbGVmdCwgZXZlblxuLy8gd2hlbiBpbiBSVEwgdGV4dC4gVGhlIHRyaWNreSBwYXJ0IGlzIHRoZSAnanVtcHMnLCB3aGVyZSBSVEwgYW5kXG4vLyBMVFIgdGV4dCB0b3VjaCBlYWNoIG90aGVyLiBUaGlzIG9mdGVuIHJlcXVpcmVzIHRoZSBjdXJzb3Igb2Zmc2V0XG4vLyB0byBtb3ZlIG1vcmUgdGhhbiBvbmUgdW5pdCwgaW4gb3JkZXIgdG8gdmlzdWFsbHkgbW92ZSBvbmUgdW5pdC5cbmZ1bmN0aW9uIG1vdmVWaXN1YWxseShsaW5lLCBzdGFydCwgZGlyLCBieVVuaXQpIHtcbiAgdmFyIGJpZGkgPSBnZXRPcmRlcihsaW5lKVxuICBpZiAoIWJpZGkpIHsgcmV0dXJuIG1vdmVMb2dpY2FsbHkobGluZSwgc3RhcnQsIGRpciwgYnlVbml0KSB9XG4gIHZhciBwb3MgPSBnZXRCaWRpUGFydEF0KGJpZGksIHN0YXJ0KSwgcGFydCA9IGJpZGlbcG9zXVxuICB2YXIgdGFyZ2V0ID0gbW92ZUluTGluZShsaW5lLCBzdGFydCwgcGFydC5sZXZlbCAlIDIgPyAtZGlyIDogZGlyLCBieVVuaXQpXG5cbiAgZm9yICg7Oykge1xuICAgIGlmICh0YXJnZXQgPiBwYXJ0LmZyb20gJiYgdGFyZ2V0IDwgcGFydC50bykgeyByZXR1cm4gdGFyZ2V0IH1cbiAgICBpZiAodGFyZ2V0ID09IHBhcnQuZnJvbSB8fCB0YXJnZXQgPT0gcGFydC50bykge1xuICAgICAgaWYgKGdldEJpZGlQYXJ0QXQoYmlkaSwgdGFyZ2V0KSA9PSBwb3MpIHsgcmV0dXJuIHRhcmdldCB9XG4gICAgICBwYXJ0ID0gYmlkaVtwb3MgKz0gZGlyXVxuICAgICAgcmV0dXJuIChkaXIgPiAwKSA9PSBwYXJ0LmxldmVsICUgMiA/IHBhcnQudG8gOiBwYXJ0LmZyb21cbiAgICB9IGVsc2Uge1xuICAgICAgcGFydCA9IGJpZGlbcG9zICs9IGRpcl1cbiAgICAgIGlmICghcGFydCkgeyByZXR1cm4gbnVsbCB9XG4gICAgICBpZiAoKGRpciA+IDApID09IHBhcnQubGV2ZWwgJSAyKVxuICAgICAgICB7IHRhcmdldCA9IG1vdmVJbkxpbmUobGluZSwgcGFydC50bywgLTEsIGJ5VW5pdCkgfVxuICAgICAgZWxzZVxuICAgICAgICB7IHRhcmdldCA9IG1vdmVJbkxpbmUobGluZSwgcGFydC5mcm9tLCAxLCBieVVuaXQpIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gbW92ZUxvZ2ljYWxseShsaW5lLCBzdGFydCwgZGlyLCBieVVuaXQpIHtcbiAgdmFyIHRhcmdldCA9IHN0YXJ0ICsgZGlyXG4gIGlmIChieVVuaXQpIHsgd2hpbGUgKHRhcmdldCA+IDAgJiYgaXNFeHRlbmRpbmdDaGFyKGxpbmUudGV4dC5jaGFyQXQodGFyZ2V0KSkpIHsgdGFyZ2V0ICs9IGRpciB9IH1cbiAgcmV0dXJuIHRhcmdldCA8IDAgfHwgdGFyZ2V0ID4gbGluZS50ZXh0Lmxlbmd0aCA/IG51bGwgOiB0YXJnZXRcbn1cblxuLy8gQmlkaXJlY3Rpb25hbCBvcmRlcmluZyBhbGdvcml0aG1cbi8vIFNlZSBodHRwOi8vdW5pY29kZS5vcmcvcmVwb3J0cy90cjkvdHI5LTEzLmh0bWwgZm9yIHRoZSBhbGdvcml0aG1cbi8vIHRoYXQgdGhpcyAocGFydGlhbGx5KSBpbXBsZW1lbnRzLlxuXG4vLyBPbmUtY2hhciBjb2RlcyB1c2VkIGZvciBjaGFyYWN0ZXIgdHlwZXM6XG4vLyBMIChMKTogICBMZWZ0LXRvLVJpZ2h0XG4vLyBSIChSKTogICBSaWdodC10by1MZWZ0XG4vLyByIChBTCk6ICBSaWdodC10by1MZWZ0IEFyYWJpY1xuLy8gMSAoRU4pOiAgRXVyb3BlYW4gTnVtYmVyXG4vLyArIChFUyk6ICBFdXJvcGVhbiBOdW1iZXIgU2VwYXJhdG9yXG4vLyAlIChFVCk6ICBFdXJvcGVhbiBOdW1iZXIgVGVybWluYXRvclxuLy8gbiAoQU4pOiAgQXJhYmljIE51bWJlclxuLy8gLCAoQ1MpOiAgQ29tbW9uIE51bWJlciBTZXBhcmF0b3Jcbi8vIG0gKE5TTSk6IE5vbi1TcGFjaW5nIE1hcmtcbi8vIGIgKEJOKTogIEJvdW5kYXJ5IE5ldXRyYWxcbi8vIHMgKEIpOiAgIFBhcmFncmFwaCBTZXBhcmF0b3Jcbi8vIHQgKFMpOiAgIFNlZ21lbnQgU2VwYXJhdG9yXG4vLyB3IChXUyk6ICBXaGl0ZXNwYWNlXG4vLyBOIChPTik6ICBPdGhlciBOZXV0cmFsc1xuXG4vLyBSZXR1cm5zIG51bGwgaWYgY2hhcmFjdGVycyBhcmUgb3JkZXJlZCBhcyB0aGV5IGFwcGVhclxuLy8gKGxlZnQtdG8tcmlnaHQpLCBvciBhbiBhcnJheSBvZiBzZWN0aW9ucyAoe2Zyb20sIHRvLCBsZXZlbH1cbi8vIG9iamVjdHMpIGluIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IG9jY3VyIHZpc3VhbGx5LlxudmFyIGJpZGlPcmRlcmluZyA9IChmdW5jdGlvbigpIHtcbiAgLy8gQ2hhcmFjdGVyIHR5cGVzIGZvciBjb2RlcG9pbnRzIDAgdG8gMHhmZlxuICB2YXIgbG93VHlwZXMgPSBcImJiYmJiYmJiYnRzdHdzYmJiYmJiYmJiYmJiYmJzc3N0d05OJSUlTk5OTk5OLE4sTjExMTExMTExMTFOTk5OTk5OTExMTExMTExMTExMTExMTExMTExMTExMTExOTk5OTk5MTExMTExMTExMTExMTExMTExMTExMTExMTE5OTk5iYmJiYmJzYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmIsTiUlJSVOTk5OTE5OTk5OJSUxMU5MTk5OMUxOTk5OTkxMTExMTExMTExMTExMTExMTExMTExMTkxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExOXCJcbiAgLy8gQ2hhcmFjdGVyIHR5cGVzIGZvciBjb2RlcG9pbnRzIDB4NjAwIHRvIDB4NmZmXG4gIHZhciBhcmFiaWNUeXBlcyA9IFwicnJycnJycnJycnJyLHJOTm1tbW1tbXJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJybW1tbW1tbW1tbW1tbW1ycnJycnJybm5ubm5ubm5ubiVubnJycm1ycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycm1tbW1tbW1tbW1tbW1tbW1tbW1ObW1tbVwiXG4gIGZ1bmN0aW9uIGNoYXJUeXBlKGNvZGUpIHtcbiAgICBpZiAoY29kZSA8PSAweGY3KSB7IHJldHVybiBsb3dUeXBlcy5jaGFyQXQoY29kZSkgfVxuICAgIGVsc2UgaWYgKDB4NTkwIDw9IGNvZGUgJiYgY29kZSA8PSAweDVmNCkgeyByZXR1cm4gXCJSXCIgfVxuICAgIGVsc2UgaWYgKDB4NjAwIDw9IGNvZGUgJiYgY29kZSA8PSAweDZlZCkgeyByZXR1cm4gYXJhYmljVHlwZXMuY2hhckF0KGNvZGUgLSAweDYwMCkgfVxuICAgIGVsc2UgaWYgKDB4NmVlIDw9IGNvZGUgJiYgY29kZSA8PSAweDhhYykgeyByZXR1cm4gXCJyXCIgfVxuICAgIGVsc2UgaWYgKDB4MjAwMCA8PSBjb2RlICYmIGNvZGUgPD0gMHgyMDBiKSB7IHJldHVybiBcIndcIiB9XG4gICAgZWxzZSBpZiAoY29kZSA9PSAweDIwMGMpIHsgcmV0dXJuIFwiYlwiIH1cbiAgICBlbHNlIHsgcmV0dXJuIFwiTFwiIH1cbiAgfVxuXG4gIHZhciBiaWRpUkUgPSAvW1xcdTA1OTAtXFx1MDVmNFxcdTA2MDAtXFx1MDZmZlxcdTA3MDAtXFx1MDhhY10vXG4gIHZhciBpc05ldXRyYWwgPSAvW3N0d05dLywgaXNTdHJvbmcgPSAvW0xScl0vLCBjb3VudHNBc0xlZnQgPSAvW0xiMW5dLywgY291bnRzQXNOdW0gPSAvWzFuXS9cbiAgLy8gQnJvd3NlcnMgc2VlbSB0byBhbHdheXMgdHJlYXQgdGhlIGJvdW5kYXJpZXMgb2YgYmxvY2sgZWxlbWVudHMgYXMgYmVpbmcgTC5cbiAgdmFyIG91dGVyVHlwZSA9IFwiTFwiXG5cbiAgZnVuY3Rpb24gQmlkaVNwYW4obGV2ZWwsIGZyb20sIHRvKSB7XG4gICAgdGhpcy5sZXZlbCA9IGxldmVsXG4gICAgdGhpcy5mcm9tID0gZnJvbTsgdGhpcy50byA9IHRvXG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24oc3RyKSB7XG4gICAgaWYgKCFiaWRpUkUudGVzdChzdHIpKSB7IHJldHVybiBmYWxzZSB9XG4gICAgdmFyIGxlbiA9IHN0ci5sZW5ndGgsIHR5cGVzID0gW11cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgeyB0eXBlcy5wdXNoKGNoYXJUeXBlKHN0ci5jaGFyQ29kZUF0KGkpKSkgfVxuXG4gICAgLy8gVzEuIEV4YW1pbmUgZWFjaCBub24tc3BhY2luZyBtYXJrIChOU00pIGluIHRoZSBsZXZlbCBydW4sIGFuZFxuICAgIC8vIGNoYW5nZSB0aGUgdHlwZSBvZiB0aGUgTlNNIHRvIHRoZSB0eXBlIG9mIHRoZSBwcmV2aW91c1xuICAgIC8vIGNoYXJhY3Rlci4gSWYgdGhlIE5TTSBpcyBhdCB0aGUgc3RhcnQgb2YgdGhlIGxldmVsIHJ1biwgaXQgd2lsbFxuICAgIC8vIGdldCB0aGUgdHlwZSBvZiBzb3IuXG4gICAgZm9yICh2YXIgaSQxID0gMCwgcHJldiA9IG91dGVyVHlwZTsgaSQxIDwgbGVuOyArK2kkMSkge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlc1tpJDFdXG4gICAgICBpZiAodHlwZSA9PSBcIm1cIikgeyB0eXBlc1tpJDFdID0gcHJldiB9XG4gICAgICBlbHNlIHsgcHJldiA9IHR5cGUgfVxuICAgIH1cblxuICAgIC8vIFcyLiBTZWFyY2ggYmFja3dhcmRzIGZyb20gZWFjaCBpbnN0YW5jZSBvZiBhIEV1cm9wZWFuIG51bWJlclxuICAgIC8vIHVudGlsIHRoZSBmaXJzdCBzdHJvbmcgdHlwZSAoUiwgTCwgQUwsIG9yIHNvcikgaXMgZm91bmQuIElmIGFuXG4gICAgLy8gQUwgaXMgZm91bmQsIGNoYW5nZSB0aGUgdHlwZSBvZiB0aGUgRXVyb3BlYW4gbnVtYmVyIHRvIEFyYWJpY1xuICAgIC8vIG51bWJlci5cbiAgICAvLyBXMy4gQ2hhbmdlIGFsbCBBTHMgdG8gUi5cbiAgICBmb3IgKHZhciBpJDIgPSAwLCBjdXIgPSBvdXRlclR5cGU7IGkkMiA8IGxlbjsgKytpJDIpIHtcbiAgICAgIHZhciB0eXBlJDEgPSB0eXBlc1tpJDJdXG4gICAgICBpZiAodHlwZSQxID09IFwiMVwiICYmIGN1ciA9PSBcInJcIikgeyB0eXBlc1tpJDJdID0gXCJuXCIgfVxuICAgICAgZWxzZSBpZiAoaXNTdHJvbmcudGVzdCh0eXBlJDEpKSB7IGN1ciA9IHR5cGUkMTsgaWYgKHR5cGUkMSA9PSBcInJcIikgeyB0eXBlc1tpJDJdID0gXCJSXCIgfSB9XG4gICAgfVxuXG4gICAgLy8gVzQuIEEgc2luZ2xlIEV1cm9wZWFuIHNlcGFyYXRvciBiZXR3ZWVuIHR3byBFdXJvcGVhbiBudW1iZXJzXG4gICAgLy8gY2hhbmdlcyB0byBhIEV1cm9wZWFuIG51bWJlci4gQSBzaW5nbGUgY29tbW9uIHNlcGFyYXRvciBiZXR3ZWVuXG4gICAgLy8gdHdvIG51bWJlcnMgb2YgdGhlIHNhbWUgdHlwZSBjaGFuZ2VzIHRvIHRoYXQgdHlwZS5cbiAgICBmb3IgKHZhciBpJDMgPSAxLCBwcmV2JDEgPSB0eXBlc1swXTsgaSQzIDwgbGVuIC0gMTsgKytpJDMpIHtcbiAgICAgIHZhciB0eXBlJDIgPSB0eXBlc1tpJDNdXG4gICAgICBpZiAodHlwZSQyID09IFwiK1wiICYmIHByZXYkMSA9PSBcIjFcIiAmJiB0eXBlc1tpJDMrMV0gPT0gXCIxXCIpIHsgdHlwZXNbaSQzXSA9IFwiMVwiIH1cbiAgICAgIGVsc2UgaWYgKHR5cGUkMiA9PSBcIixcIiAmJiBwcmV2JDEgPT0gdHlwZXNbaSQzKzFdICYmXG4gICAgICAgICAgICAgICAocHJldiQxID09IFwiMVwiIHx8IHByZXYkMSA9PSBcIm5cIikpIHsgdHlwZXNbaSQzXSA9IHByZXYkMSB9XG4gICAgICBwcmV2JDEgPSB0eXBlJDJcbiAgICB9XG5cbiAgICAvLyBXNS4gQSBzZXF1ZW5jZSBvZiBFdXJvcGVhbiB0ZXJtaW5hdG9ycyBhZGphY2VudCB0byBFdXJvcGVhblxuICAgIC8vIG51bWJlcnMgY2hhbmdlcyB0byBhbGwgRXVyb3BlYW4gbnVtYmVycy5cbiAgICAvLyBXNi4gT3RoZXJ3aXNlLCBzZXBhcmF0b3JzIGFuZCB0ZXJtaW5hdG9ycyBjaGFuZ2UgdG8gT3RoZXJcbiAgICAvLyBOZXV0cmFsLlxuICAgIGZvciAodmFyIGkkNCA9IDA7IGkkNCA8IGxlbjsgKytpJDQpIHtcbiAgICAgIHZhciB0eXBlJDMgPSB0eXBlc1tpJDRdXG4gICAgICBpZiAodHlwZSQzID09IFwiLFwiKSB7IHR5cGVzW2kkNF0gPSBcIk5cIiB9XG4gICAgICBlbHNlIGlmICh0eXBlJDMgPT0gXCIlXCIpIHtcbiAgICAgICAgdmFyIGVuZCA9ICh2b2lkIDApXG4gICAgICAgIGZvciAoZW5kID0gaSQ0ICsgMTsgZW5kIDwgbGVuICYmIHR5cGVzW2VuZF0gPT0gXCIlXCI7ICsrZW5kKSB7fVxuICAgICAgICB2YXIgcmVwbGFjZSA9IChpJDQgJiYgdHlwZXNbaSQ0LTFdID09IFwiIVwiKSB8fCAoZW5kIDwgbGVuICYmIHR5cGVzW2VuZF0gPT0gXCIxXCIpID8gXCIxXCIgOiBcIk5cIlxuICAgICAgICBmb3IgKHZhciBqID0gaSQ0OyBqIDwgZW5kOyArK2opIHsgdHlwZXNbal0gPSByZXBsYWNlIH1cbiAgICAgICAgaSQ0ID0gZW5kIC0gMVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFc3LiBTZWFyY2ggYmFja3dhcmRzIGZyb20gZWFjaCBpbnN0YW5jZSBvZiBhIEV1cm9wZWFuIG51bWJlclxuICAgIC8vIHVudGlsIHRoZSBmaXJzdCBzdHJvbmcgdHlwZSAoUiwgTCwgb3Igc29yKSBpcyBmb3VuZC4gSWYgYW4gTCBpc1xuICAgIC8vIGZvdW5kLCB0aGVuIGNoYW5nZSB0aGUgdHlwZSBvZiB0aGUgRXVyb3BlYW4gbnVtYmVyIHRvIEwuXG4gICAgZm9yICh2YXIgaSQ1ID0gMCwgY3VyJDEgPSBvdXRlclR5cGU7IGkkNSA8IGxlbjsgKytpJDUpIHtcbiAgICAgIHZhciB0eXBlJDQgPSB0eXBlc1tpJDVdXG4gICAgICBpZiAoY3VyJDEgPT0gXCJMXCIgJiYgdHlwZSQ0ID09IFwiMVwiKSB7IHR5cGVzW2kkNV0gPSBcIkxcIiB9XG4gICAgICBlbHNlIGlmIChpc1N0cm9uZy50ZXN0KHR5cGUkNCkpIHsgY3VyJDEgPSB0eXBlJDQgfVxuICAgIH1cblxuICAgIC8vIE4xLiBBIHNlcXVlbmNlIG9mIG5ldXRyYWxzIHRha2VzIHRoZSBkaXJlY3Rpb24gb2YgdGhlXG4gICAgLy8gc3Vycm91bmRpbmcgc3Ryb25nIHRleHQgaWYgdGhlIHRleHQgb24gYm90aCBzaWRlcyBoYXMgdGhlIHNhbWVcbiAgICAvLyBkaXJlY3Rpb24uIEV1cm9wZWFuIGFuZCBBcmFiaWMgbnVtYmVycyBhY3QgYXMgaWYgdGhleSB3ZXJlIFIgaW5cbiAgICAvLyB0ZXJtcyBvZiB0aGVpciBpbmZsdWVuY2Ugb24gbmV1dHJhbHMuIFN0YXJ0LW9mLWxldmVsLXJ1biAoc29yKVxuICAgIC8vIGFuZCBlbmQtb2YtbGV2ZWwtcnVuIChlb3IpIGFyZSB1c2VkIGF0IGxldmVsIHJ1biBib3VuZGFyaWVzLlxuICAgIC8vIE4yLiBBbnkgcmVtYWluaW5nIG5ldXRyYWxzIHRha2UgdGhlIGVtYmVkZGluZyBkaXJlY3Rpb24uXG4gICAgZm9yICh2YXIgaSQ2ID0gMDsgaSQ2IDwgbGVuOyArK2kkNikge1xuICAgICAgaWYgKGlzTmV1dHJhbC50ZXN0KHR5cGVzW2kkNl0pKSB7XG4gICAgICAgIHZhciBlbmQkMSA9ICh2b2lkIDApXG4gICAgICAgIGZvciAoZW5kJDEgPSBpJDYgKyAxOyBlbmQkMSA8IGxlbiAmJiBpc05ldXRyYWwudGVzdCh0eXBlc1tlbmQkMV0pOyArK2VuZCQxKSB7fVxuICAgICAgICB2YXIgYmVmb3JlID0gKGkkNiA/IHR5cGVzW2kkNi0xXSA6IG91dGVyVHlwZSkgPT0gXCJMXCJcbiAgICAgICAgdmFyIGFmdGVyID0gKGVuZCQxIDwgbGVuID8gdHlwZXNbZW5kJDFdIDogb3V0ZXJUeXBlKSA9PSBcIkxcIlxuICAgICAgICB2YXIgcmVwbGFjZSQxID0gYmVmb3JlIHx8IGFmdGVyID8gXCJMXCIgOiBcIlJcIlxuICAgICAgICBmb3IgKHZhciBqJDEgPSBpJDY7IGokMSA8IGVuZCQxOyArK2okMSkgeyB0eXBlc1tqJDFdID0gcmVwbGFjZSQxIH1cbiAgICAgICAgaSQ2ID0gZW5kJDEgLSAxXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGVyZSB3ZSBkZXBhcnQgZnJvbSB0aGUgZG9jdW1lbnRlZCBhbGdvcml0aG0sIGluIG9yZGVyIHRvIGF2b2lkXG4gICAgLy8gYnVpbGRpbmcgdXAgYW4gYWN0dWFsIGxldmVscyBhcnJheS4gU2luY2UgdGhlcmUgYXJlIG9ubHkgdGhyZWVcbiAgICAvLyBsZXZlbHMgKDAsIDEsIDIpIGluIGFuIGltcGxlbWVudGF0aW9uIHRoYXQgZG9lc24ndCB0YWtlXG4gICAgLy8gZXhwbGljaXQgZW1iZWRkaW5nIGludG8gYWNjb3VudCwgd2UgY2FuIGJ1aWxkIHVwIHRoZSBvcmRlciBvblxuICAgIC8vIHRoZSBmbHksIHdpdGhvdXQgZm9sbG93aW5nIHRoZSBsZXZlbC1iYXNlZCBhbGdvcml0aG0uXG4gICAgdmFyIG9yZGVyID0gW10sIG1cbiAgICBmb3IgKHZhciBpJDcgPSAwOyBpJDcgPCBsZW47KSB7XG4gICAgICBpZiAoY291bnRzQXNMZWZ0LnRlc3QodHlwZXNbaSQ3XSkpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gaSQ3XG4gICAgICAgIGZvciAoKytpJDc7IGkkNyA8IGxlbiAmJiBjb3VudHNBc0xlZnQudGVzdCh0eXBlc1tpJDddKTsgKytpJDcpIHt9XG4gICAgICAgIG9yZGVyLnB1c2gobmV3IEJpZGlTcGFuKDAsIHN0YXJ0LCBpJDcpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHBvcyA9IGkkNywgYXQgPSBvcmRlci5sZW5ndGhcbiAgICAgICAgZm9yICgrK2kkNzsgaSQ3IDwgbGVuICYmIHR5cGVzW2kkN10gIT0gXCJMXCI7ICsraSQ3KSB7fVxuICAgICAgICBmb3IgKHZhciBqJDIgPSBwb3M7IGokMiA8IGkkNzspIHtcbiAgICAgICAgICBpZiAoY291bnRzQXNOdW0udGVzdCh0eXBlc1tqJDJdKSkge1xuICAgICAgICAgICAgaWYgKHBvcyA8IGokMikgeyBvcmRlci5zcGxpY2UoYXQsIDAsIG5ldyBCaWRpU3BhbigxLCBwb3MsIGokMikpIH1cbiAgICAgICAgICAgIHZhciBuc3RhcnQgPSBqJDJcbiAgICAgICAgICAgIGZvciAoKytqJDI7IGokMiA8IGkkNyAmJiBjb3VudHNBc051bS50ZXN0KHR5cGVzW2okMl0pOyArK2okMikge31cbiAgICAgICAgICAgIG9yZGVyLnNwbGljZShhdCwgMCwgbmV3IEJpZGlTcGFuKDIsIG5zdGFydCwgaiQyKSlcbiAgICAgICAgICAgIHBvcyA9IGokMlxuICAgICAgICAgIH0gZWxzZSB7ICsraiQyIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zIDwgaSQ3KSB7IG9yZGVyLnNwbGljZShhdCwgMCwgbmV3IEJpZGlTcGFuKDEsIHBvcywgaSQ3KSkgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAob3JkZXJbMF0ubGV2ZWwgPT0gMSAmJiAobSA9IHN0ci5tYXRjaCgvXlxccysvKSkpIHtcbiAgICAgIG9yZGVyWzBdLmZyb20gPSBtWzBdLmxlbmd0aFxuICAgICAgb3JkZXIudW5zaGlmdChuZXcgQmlkaVNwYW4oMCwgMCwgbVswXS5sZW5ndGgpKVxuICAgIH1cbiAgICBpZiAobHN0KG9yZGVyKS5sZXZlbCA9PSAxICYmIChtID0gc3RyLm1hdGNoKC9cXHMrJC8pKSkge1xuICAgICAgbHN0KG9yZGVyKS50byAtPSBtWzBdLmxlbmd0aFxuICAgICAgb3JkZXIucHVzaChuZXcgQmlkaVNwYW4oMCwgbGVuIC0gbVswXS5sZW5ndGgsIGxlbikpXG4gICAgfVxuICAgIGlmIChvcmRlclswXS5sZXZlbCA9PSAyKVxuICAgICAgeyBvcmRlci51bnNoaWZ0KG5ldyBCaWRpU3BhbigxLCBvcmRlclswXS50bywgb3JkZXJbMF0udG8pKSB9XG4gICAgaWYgKG9yZGVyWzBdLmxldmVsICE9IGxzdChvcmRlcikubGV2ZWwpXG4gICAgICB7IG9yZGVyLnB1c2gobmV3IEJpZGlTcGFuKG9yZGVyWzBdLmxldmVsLCBsZW4sIGxlbikpIH1cblxuICAgIHJldHVybiBvcmRlclxuICB9XG59KSgpXG5cbi8vIEdldCB0aGUgYmlkaSBvcmRlcmluZyBmb3IgdGhlIGdpdmVuIGxpbmUgKGFuZCBjYWNoZSBpdCkuIFJldHVybnNcbi8vIGZhbHNlIGZvciBsaW5lcyB0aGF0IGFyZSBmdWxseSBsZWZ0LXRvLXJpZ2h0LCBhbmQgYW4gYXJyYXkgb2Zcbi8vIEJpZGlTcGFuIG9iamVjdHMgb3RoZXJ3aXNlLlxuZnVuY3Rpb24gZ2V0T3JkZXIobGluZSkge1xuICB2YXIgb3JkZXIgPSBsaW5lLm9yZGVyXG4gIGlmIChvcmRlciA9PSBudWxsKSB7IG9yZGVyID0gbGluZS5vcmRlciA9IGJpZGlPcmRlcmluZyhsaW5lLnRleHQpIH1cbiAgcmV0dXJuIG9yZGVyXG59XG5cbi8vIEVWRU5UIEhBTkRMSU5HXG5cbi8vIExpZ2h0d2VpZ2h0IGV2ZW50IGZyYW1ld29yay4gb24vb2ZmIGFsc28gd29yayBvbiBET00gbm9kZXMsXG4vLyByZWdpc3RlcmluZyBuYXRpdmUgRE9NIGhhbmRsZXJzLlxuXG52YXIgbm9IYW5kbGVycyA9IFtdXG5cbnZhciBvbiA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUsIGYpIHtcbiAgaWYgKGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgIGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmLCBmYWxzZSlcbiAgfSBlbHNlIGlmIChlbWl0dGVyLmF0dGFjaEV2ZW50KSB7XG4gICAgZW1pdHRlci5hdHRhY2hFdmVudChcIm9uXCIgKyB0eXBlLCBmKVxuICB9IGVsc2Uge1xuICAgIHZhciBtYXAgPSBlbWl0dGVyLl9oYW5kbGVycyB8fCAoZW1pdHRlci5faGFuZGxlcnMgPSB7fSlcbiAgICBtYXBbdHlwZV0gPSAobWFwW3R5cGVdIHx8IG5vSGFuZGxlcnMpLmNvbmNhdChmKVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldEhhbmRsZXJzKGVtaXR0ZXIsIHR5cGUpIHtcbiAgcmV0dXJuIGVtaXR0ZXIuX2hhbmRsZXJzICYmIGVtaXR0ZXIuX2hhbmRsZXJzW3R5cGVdIHx8IG5vSGFuZGxlcnNcbn1cblxuZnVuY3Rpb24gb2ZmKGVtaXR0ZXIsIHR5cGUsIGYpIHtcbiAgaWYgKGVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgIGVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBmLCBmYWxzZSlcbiAgfSBlbHNlIGlmIChlbWl0dGVyLmRldGFjaEV2ZW50KSB7XG4gICAgZW1pdHRlci5kZXRhY2hFdmVudChcIm9uXCIgKyB0eXBlLCBmKVxuICB9IGVsc2Uge1xuICAgIHZhciBtYXAgPSBlbWl0dGVyLl9oYW5kbGVycywgYXJyID0gbWFwICYmIG1hcFt0eXBlXVxuICAgIGlmIChhcnIpIHtcbiAgICAgIHZhciBpbmRleCA9IGluZGV4T2YoYXJyLCBmKVxuICAgICAgaWYgKGluZGV4ID4gLTEpXG4gICAgICAgIHsgbWFwW3R5cGVdID0gYXJyLnNsaWNlKDAsIGluZGV4KS5jb25jYXQoYXJyLnNsaWNlKGluZGV4ICsgMSkpIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2lnbmFsKGVtaXR0ZXIsIHR5cGUgLyosIHZhbHVlcy4uLiovKSB7XG4gIHZhciBoYW5kbGVycyA9IGdldEhhbmRsZXJzKGVtaXR0ZXIsIHR5cGUpXG4gIGlmICghaGFuZGxlcnMubGVuZ3RoKSB7IHJldHVybiB9XG4gIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGhhbmRsZXJzLmxlbmd0aDsgKytpKSB7IGhhbmRsZXJzW2ldLmFwcGx5KG51bGwsIGFyZ3MpIH1cbn1cblxuLy8gVGhlIERPTSBldmVudHMgdGhhdCBDb2RlTWlycm9yIGhhbmRsZXMgY2FuIGJlIG92ZXJyaWRkZW4gYnlcbi8vIHJlZ2lzdGVyaW5nIGEgKG5vbi1ET00pIGhhbmRsZXIgb24gdGhlIGVkaXRvciBmb3IgdGhlIGV2ZW50IG5hbWUsXG4vLyBhbmQgcHJldmVudERlZmF1bHQtaW5nIHRoZSBldmVudCBpbiB0aGF0IGhhbmRsZXIuXG5mdW5jdGlvbiBzaWduYWxET01FdmVudChjbSwgZSwgb3ZlcnJpZGUpIHtcbiAgaWYgKHR5cGVvZiBlID09IFwic3RyaW5nXCIpXG4gICAgeyBlID0ge3R5cGU6IGUsIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHsgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZSB9fSB9XG4gIHNpZ25hbChjbSwgb3ZlcnJpZGUgfHwgZS50eXBlLCBjbSwgZSlcbiAgcmV0dXJuIGVfZGVmYXVsdFByZXZlbnRlZChlKSB8fCBlLmNvZGVtaXJyb3JJZ25vcmVcbn1cblxuZnVuY3Rpb24gc2lnbmFsQ3Vyc29yQWN0aXZpdHkoY20pIHtcbiAgdmFyIGFyciA9IGNtLl9oYW5kbGVycyAmJiBjbS5faGFuZGxlcnMuY3Vyc29yQWN0aXZpdHlcbiAgaWYgKCFhcnIpIHsgcmV0dXJuIH1cbiAgdmFyIHNldCA9IGNtLmN1ck9wLmN1cnNvckFjdGl2aXR5SGFuZGxlcnMgfHwgKGNtLmN1ck9wLmN1cnNvckFjdGl2aXR5SGFuZGxlcnMgPSBbXSlcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyArK2kpIHsgaWYgKGluZGV4T2Yoc2V0LCBhcnJbaV0pID09IC0xKVxuICAgIHsgc2V0LnB1c2goYXJyW2ldKSB9IH1cbn1cblxuZnVuY3Rpb24gaGFzSGFuZGxlcihlbWl0dGVyLCB0eXBlKSB7XG4gIHJldHVybiBnZXRIYW5kbGVycyhlbWl0dGVyLCB0eXBlKS5sZW5ndGggPiAwXG59XG5cbi8vIEFkZCBvbiBhbmQgb2ZmIG1ldGhvZHMgdG8gYSBjb25zdHJ1Y3RvcidzIHByb3RvdHlwZSwgdG8gbWFrZVxuLy8gcmVnaXN0ZXJpbmcgZXZlbnRzIG9uIHN1Y2ggb2JqZWN0cyBtb3JlIGNvbnZlbmllbnQuXG5mdW5jdGlvbiBldmVudE1peGluKGN0b3IpIHtcbiAgY3Rvci5wcm90b3R5cGUub24gPSBmdW5jdGlvbih0eXBlLCBmKSB7b24odGhpcywgdHlwZSwgZil9XG4gIGN0b3IucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uKHR5cGUsIGYpIHtvZmYodGhpcywgdHlwZSwgZil9XG59XG5cbi8vIER1ZSB0byB0aGUgZmFjdCB0aGF0IHdlIHN0aWxsIHN1cHBvcnQganVyYXNzaWMgSUUgdmVyc2lvbnMsIHNvbWVcbi8vIGNvbXBhdGliaWxpdHkgd3JhcHBlcnMgYXJlIG5lZWRlZC5cblxuZnVuY3Rpb24gZV9wcmV2ZW50RGVmYXVsdChlKSB7XG4gIGlmIChlLnByZXZlbnREZWZhdWx0KSB7IGUucHJldmVudERlZmF1bHQoKSB9XG4gIGVsc2UgeyBlLnJldHVyblZhbHVlID0gZmFsc2UgfVxufVxuZnVuY3Rpb24gZV9zdG9wUHJvcGFnYXRpb24oZSkge1xuICBpZiAoZS5zdG9wUHJvcGFnYXRpb24pIHsgZS5zdG9wUHJvcGFnYXRpb24oKSB9XG4gIGVsc2UgeyBlLmNhbmNlbEJ1YmJsZSA9IHRydWUgfVxufVxuZnVuY3Rpb24gZV9kZWZhdWx0UHJldmVudGVkKGUpIHtcbiAgcmV0dXJuIGUuZGVmYXVsdFByZXZlbnRlZCAhPSBudWxsID8gZS5kZWZhdWx0UHJldmVudGVkIDogZS5yZXR1cm5WYWx1ZSA9PSBmYWxzZVxufVxuZnVuY3Rpb24gZV9zdG9wKGUpIHtlX3ByZXZlbnREZWZhdWx0KGUpOyBlX3N0b3BQcm9wYWdhdGlvbihlKX1cblxuZnVuY3Rpb24gZV90YXJnZXQoZSkge3JldHVybiBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnR9XG5mdW5jdGlvbiBlX2J1dHRvbihlKSB7XG4gIHZhciBiID0gZS53aGljaFxuICBpZiAoYiA9PSBudWxsKSB7XG4gICAgaWYgKGUuYnV0dG9uICYgMSkgeyBiID0gMSB9XG4gICAgZWxzZSBpZiAoZS5idXR0b24gJiAyKSB7IGIgPSAzIH1cbiAgICBlbHNlIGlmIChlLmJ1dHRvbiAmIDQpIHsgYiA9IDIgfVxuICB9XG4gIGlmIChtYWMgJiYgZS5jdHJsS2V5ICYmIGIgPT0gMSkgeyBiID0gMyB9XG4gIHJldHVybiBiXG59XG5cbi8vIERldGVjdCBkcmFnLWFuZC1kcm9wXG52YXIgZHJhZ0FuZERyb3AgPSBmdW5jdGlvbigpIHtcbiAgLy8gVGhlcmUgaXMgKnNvbWUqIGtpbmQgb2YgZHJhZy1hbmQtZHJvcCBzdXBwb3J0IGluIElFNi04LCBidXQgSVxuICAvLyBjb3VsZG4ndCBnZXQgaXQgdG8gd29yayB5ZXQuXG4gIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOSkgeyByZXR1cm4gZmFsc2UgfVxuICB2YXIgZGl2ID0gZWx0KCdkaXYnKVxuICByZXR1cm4gXCJkcmFnZ2FibGVcIiBpbiBkaXYgfHwgXCJkcmFnRHJvcFwiIGluIGRpdlxufSgpXG5cbnZhciB6d3NwU3VwcG9ydGVkXG5mdW5jdGlvbiB6ZXJvV2lkdGhFbGVtZW50KG1lYXN1cmUpIHtcbiAgaWYgKHp3c3BTdXBwb3J0ZWQgPT0gbnVsbCkge1xuICAgIHZhciB0ZXN0ID0gZWx0KFwic3BhblwiLCBcIlxcdTIwMGJcIilcbiAgICByZW1vdmVDaGlsZHJlbkFuZEFkZChtZWFzdXJlLCBlbHQoXCJzcGFuXCIsIFt0ZXN0LCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcInhcIildKSlcbiAgICBpZiAobWVhc3VyZS5maXJzdENoaWxkLm9mZnNldEhlaWdodCAhPSAwKVxuICAgICAgeyB6d3NwU3VwcG9ydGVkID0gdGVzdC5vZmZzZXRXaWR0aCA8PSAxICYmIHRlc3Qub2Zmc2V0SGVpZ2h0ID4gMiAmJiAhKGllICYmIGllX3ZlcnNpb24gPCA4KSB9XG4gIH1cbiAgdmFyIG5vZGUgPSB6d3NwU3VwcG9ydGVkID8gZWx0KFwic3BhblwiLCBcIlxcdTIwMGJcIikgOlxuICAgIGVsdChcInNwYW5cIiwgXCJcXHUwMGEwXCIsIG51bGwsIFwiZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aWR0aDogMXB4OyBtYXJnaW4tcmlnaHQ6IC0xcHhcIilcbiAgbm9kZS5zZXRBdHRyaWJ1dGUoXCJjbS10ZXh0XCIsIFwiXCIpXG4gIHJldHVybiBub2RlXG59XG5cbi8vIEZlYXR1cmUtZGV0ZWN0IElFJ3MgY3J1bW15IGNsaWVudCByZWN0IHJlcG9ydGluZyBmb3IgYmlkaSB0ZXh0XG52YXIgYmFkQmlkaVJlY3RzXG5mdW5jdGlvbiBoYXNCYWRCaWRpUmVjdHMobWVhc3VyZSkge1xuICBpZiAoYmFkQmlkaVJlY3RzICE9IG51bGwpIHsgcmV0dXJuIGJhZEJpZGlSZWN0cyB9XG4gIHZhciB0eHQgPSByZW1vdmVDaGlsZHJlbkFuZEFkZChtZWFzdXJlLCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIkFcXHUwNjJlQVwiKSlcbiAgdmFyIHIwID0gcmFuZ2UodHh0LCAwLCAxKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICB2YXIgcjEgPSByYW5nZSh0eHQsIDEsIDIpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gIHJlbW92ZUNoaWxkcmVuKG1lYXN1cmUpXG4gIGlmICghcjAgfHwgcjAubGVmdCA9PSByMC5yaWdodCkgeyByZXR1cm4gZmFsc2UgfSAvLyBTYWZhcmkgcmV0dXJucyBudWxsIGluIHNvbWUgY2FzZXMgKCMyNzgwKVxuICByZXR1cm4gYmFkQmlkaVJlY3RzID0gKHIxLnJpZ2h0IC0gcjAucmlnaHQgPCAzKVxufVxuXG4vLyBTZWUgaWYgXCJcIi5zcGxpdCBpcyB0aGUgYnJva2VuIElFIHZlcnNpb24sIGlmIHNvLCBwcm92aWRlIGFuXG4vLyBhbHRlcm5hdGl2ZSB3YXkgdG8gc3BsaXQgbGluZXMuXG52YXIgc3BsaXRMaW5lc0F1dG8gPSBcIlxcblxcbmJcIi5zcGxpdCgvXFxuLykubGVuZ3RoICE9IDMgPyBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gIHZhciBwb3MgPSAwLCByZXN1bHQgPSBbXSwgbCA9IHN0cmluZy5sZW5ndGhcbiAgd2hpbGUgKHBvcyA8PSBsKSB7XG4gICAgdmFyIG5sID0gc3RyaW5nLmluZGV4T2YoXCJcXG5cIiwgcG9zKVxuICAgIGlmIChubCA9PSAtMSkgeyBubCA9IHN0cmluZy5sZW5ndGggfVxuICAgIHZhciBsaW5lID0gc3RyaW5nLnNsaWNlKHBvcywgc3RyaW5nLmNoYXJBdChubCAtIDEpID09IFwiXFxyXCIgPyBubCAtIDEgOiBubClcbiAgICB2YXIgcnQgPSBsaW5lLmluZGV4T2YoXCJcXHJcIilcbiAgICBpZiAocnQgIT0gLTEpIHtcbiAgICAgIHJlc3VsdC5wdXNoKGxpbmUuc2xpY2UoMCwgcnQpKVxuICAgICAgcG9zICs9IHJ0ICsgMVxuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQucHVzaChsaW5lKVxuICAgICAgcG9zID0gbmwgKyAxXG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHRcbn0gOiBmdW5jdGlvbiAoc3RyaW5nKSB7IHJldHVybiBzdHJpbmcuc3BsaXQoL1xcclxcbj98XFxuLyk7IH1cblxudmFyIGhhc1NlbGVjdGlvbiA9IHdpbmRvdy5nZXRTZWxlY3Rpb24gPyBmdW5jdGlvbiAodGUpIHtcbiAgdHJ5IHsgcmV0dXJuIHRlLnNlbGVjdGlvblN0YXJ0ICE9IHRlLnNlbGVjdGlvbkVuZCB9XG4gIGNhdGNoKGUpIHsgcmV0dXJuIGZhbHNlIH1cbn0gOiBmdW5jdGlvbiAodGUpIHtcbiAgdmFyIHJhbmdlXG4gIHRyeSB7cmFuZ2UgPSB0ZS5vd25lckRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpfVxuICBjYXRjaChlKSB7fVxuICBpZiAoIXJhbmdlIHx8IHJhbmdlLnBhcmVudEVsZW1lbnQoKSAhPSB0ZSkgeyByZXR1cm4gZmFsc2UgfVxuICByZXR1cm4gcmFuZ2UuY29tcGFyZUVuZFBvaW50cyhcIlN0YXJ0VG9FbmRcIiwgcmFuZ2UpICE9IDBcbn1cblxudmFyIGhhc0NvcHlFdmVudCA9IChmdW5jdGlvbiAoKSB7XG4gIHZhciBlID0gZWx0KFwiZGl2XCIpXG4gIGlmIChcIm9uY29weVwiIGluIGUpIHsgcmV0dXJuIHRydWUgfVxuICBlLnNldEF0dHJpYnV0ZShcIm9uY29weVwiLCBcInJldHVybjtcIilcbiAgcmV0dXJuIHR5cGVvZiBlLm9uY29weSA9PSBcImZ1bmN0aW9uXCJcbn0pKClcblxudmFyIGJhZFpvb21lZFJlY3RzID0gbnVsbFxuZnVuY3Rpb24gaGFzQmFkWm9vbWVkUmVjdHMobWVhc3VyZSkge1xuICBpZiAoYmFkWm9vbWVkUmVjdHMgIT0gbnVsbCkgeyByZXR1cm4gYmFkWm9vbWVkUmVjdHMgfVxuICB2YXIgbm9kZSA9IHJlbW92ZUNoaWxkcmVuQW5kQWRkKG1lYXN1cmUsIGVsdChcInNwYW5cIiwgXCJ4XCIpKVxuICB2YXIgbm9ybWFsID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICB2YXIgZnJvbVJhbmdlID0gcmFuZ2Uobm9kZSwgMCwgMSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgcmV0dXJuIGJhZFpvb21lZFJlY3RzID0gTWF0aC5hYnMobm9ybWFsLmxlZnQgLSBmcm9tUmFuZ2UubGVmdCkgPiAxXG59XG5cbnZhciBtb2RlcyA9IHt9O1xudmFyIG1pbWVNb2RlcyA9IHt9O1xuLy8gRXh0cmEgYXJndW1lbnRzIGFyZSBzdG9yZWQgYXMgdGhlIG1vZGUncyBkZXBlbmRlbmNpZXMsIHdoaWNoIGlzXG4vLyB1c2VkIGJ5IChsZWdhY3kpIG1lY2hhbmlzbXMgbGlrZSBsb2FkbW9kZS5qcyB0byBhdXRvbWF0aWNhbGx5XG4vLyBsb2FkIGEgbW9kZS4gKFByZWZlcnJlZCBtZWNoYW5pc20gaXMgdGhlIHJlcXVpcmUvZGVmaW5lIGNhbGxzLilcbmZ1bmN0aW9uIGRlZmluZU1vZGUobmFtZSwgbW9kZSkge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDIpXG4gICAgeyBtb2RlLmRlcGVuZGVuY2llcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMikgfVxuICBtb2Rlc1tuYW1lXSA9IG1vZGVcbn1cblxuZnVuY3Rpb24gZGVmaW5lTUlNRShtaW1lLCBzcGVjKSB7XG4gIG1pbWVNb2Rlc1ttaW1lXSA9IHNwZWNcbn1cblxuLy8gR2l2ZW4gYSBNSU1FIHR5cGUsIGEge25hbWUsIC4uLm9wdGlvbnN9IGNvbmZpZyBvYmplY3QsIG9yIGEgbmFtZVxuLy8gc3RyaW5nLCByZXR1cm4gYSBtb2RlIGNvbmZpZyBvYmplY3QuXG5mdW5jdGlvbiByZXNvbHZlTW9kZShzcGVjKSB7XG4gIGlmICh0eXBlb2Ygc3BlYyA9PSBcInN0cmluZ1wiICYmIG1pbWVNb2Rlcy5oYXNPd25Qcm9wZXJ0eShzcGVjKSkge1xuICAgIHNwZWMgPSBtaW1lTW9kZXNbc3BlY11cbiAgfSBlbHNlIGlmIChzcGVjICYmIHR5cGVvZiBzcGVjLm5hbWUgPT0gXCJzdHJpbmdcIiAmJiBtaW1lTW9kZXMuaGFzT3duUHJvcGVydHkoc3BlYy5uYW1lKSkge1xuICAgIHZhciBmb3VuZCA9IG1pbWVNb2Rlc1tzcGVjLm5hbWVdXG4gICAgaWYgKHR5cGVvZiBmb3VuZCA9PSBcInN0cmluZ1wiKSB7IGZvdW5kID0ge25hbWU6IGZvdW5kfSB9XG4gICAgc3BlYyA9IGNyZWF0ZU9iaihmb3VuZCwgc3BlYylcbiAgICBzcGVjLm5hbWUgPSBmb3VuZC5uYW1lXG4gIH0gZWxzZSBpZiAodHlwZW9mIHNwZWMgPT0gXCJzdHJpbmdcIiAmJiAvXltcXHdcXC1dK1xcL1tcXHdcXC1dK1xcK3htbCQvLnRlc3Qoc3BlYykpIHtcbiAgICByZXR1cm4gcmVzb2x2ZU1vZGUoXCJhcHBsaWNhdGlvbi94bWxcIilcbiAgfSBlbHNlIGlmICh0eXBlb2Ygc3BlYyA9PSBcInN0cmluZ1wiICYmIC9eW1xcd1xcLV0rXFwvW1xcd1xcLV0rXFwranNvbiQvLnRlc3Qoc3BlYykpIHtcbiAgICByZXR1cm4gcmVzb2x2ZU1vZGUoXCJhcHBsaWNhdGlvbi9qc29uXCIpXG4gIH1cbiAgaWYgKHR5cGVvZiBzcGVjID09IFwic3RyaW5nXCIpIHsgcmV0dXJuIHtuYW1lOiBzcGVjfSB9XG4gIGVsc2UgeyByZXR1cm4gc3BlYyB8fCB7bmFtZTogXCJudWxsXCJ9IH1cbn1cblxuLy8gR2l2ZW4gYSBtb2RlIHNwZWMgKGFueXRoaW5nIHRoYXQgcmVzb2x2ZU1vZGUgYWNjZXB0cyksIGZpbmQgYW5kXG4vLyBpbml0aWFsaXplIGFuIGFjdHVhbCBtb2RlIG9iamVjdC5cbmZ1bmN0aW9uIGdldE1vZGUob3B0aW9ucywgc3BlYykge1xuICBzcGVjID0gcmVzb2x2ZU1vZGUoc3BlYylcbiAgdmFyIG1mYWN0b3J5ID0gbW9kZXNbc3BlYy5uYW1lXVxuICBpZiAoIW1mYWN0b3J5KSB7IHJldHVybiBnZXRNb2RlKG9wdGlvbnMsIFwidGV4dC9wbGFpblwiKSB9XG4gIHZhciBtb2RlT2JqID0gbWZhY3Rvcnkob3B0aW9ucywgc3BlYylcbiAgaWYgKG1vZGVFeHRlbnNpb25zLmhhc093blByb3BlcnR5KHNwZWMubmFtZSkpIHtcbiAgICB2YXIgZXh0cyA9IG1vZGVFeHRlbnNpb25zW3NwZWMubmFtZV1cbiAgICBmb3IgKHZhciBwcm9wIGluIGV4dHMpIHtcbiAgICAgIGlmICghZXh0cy5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgeyBjb250aW51ZSB9XG4gICAgICBpZiAobW9kZU9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgeyBtb2RlT2JqW1wiX1wiICsgcHJvcF0gPSBtb2RlT2JqW3Byb3BdIH1cbiAgICAgIG1vZGVPYmpbcHJvcF0gPSBleHRzW3Byb3BdXG4gICAgfVxuICB9XG4gIG1vZGVPYmoubmFtZSA9IHNwZWMubmFtZVxuICBpZiAoc3BlYy5oZWxwZXJUeXBlKSB7IG1vZGVPYmouaGVscGVyVHlwZSA9IHNwZWMuaGVscGVyVHlwZSB9XG4gIGlmIChzcGVjLm1vZGVQcm9wcykgeyBmb3IgKHZhciBwcm9wJDEgaW4gc3BlYy5tb2RlUHJvcHMpXG4gICAgeyBtb2RlT2JqW3Byb3AkMV0gPSBzcGVjLm1vZGVQcm9wc1twcm9wJDFdIH0gfVxuXG4gIHJldHVybiBtb2RlT2JqXG59XG5cbi8vIFRoaXMgY2FuIGJlIHVzZWQgdG8gYXR0YWNoIHByb3BlcnRpZXMgdG8gbW9kZSBvYmplY3RzIGZyb21cbi8vIG91dHNpZGUgdGhlIGFjdHVhbCBtb2RlIGRlZmluaXRpb24uXG52YXIgbW9kZUV4dGVuc2lvbnMgPSB7fVxuZnVuY3Rpb24gZXh0ZW5kTW9kZShtb2RlLCBwcm9wZXJ0aWVzKSB7XG4gIHZhciBleHRzID0gbW9kZUV4dGVuc2lvbnMuaGFzT3duUHJvcGVydHkobW9kZSkgPyBtb2RlRXh0ZW5zaW9uc1ttb2RlXSA6IChtb2RlRXh0ZW5zaW9uc1ttb2RlXSA9IHt9KVxuICBjb3B5T2JqKHByb3BlcnRpZXMsIGV4dHMpXG59XG5cbmZ1bmN0aW9uIGNvcHlTdGF0ZShtb2RlLCBzdGF0ZSkge1xuICBpZiAoc3RhdGUgPT09IHRydWUpIHsgcmV0dXJuIHN0YXRlIH1cbiAgaWYgKG1vZGUuY29weVN0YXRlKSB7IHJldHVybiBtb2RlLmNvcHlTdGF0ZShzdGF0ZSkgfVxuICB2YXIgbnN0YXRlID0ge31cbiAgZm9yICh2YXIgbiBpbiBzdGF0ZSkge1xuICAgIHZhciB2YWwgPSBzdGF0ZVtuXVxuICAgIGlmICh2YWwgaW5zdGFuY2VvZiBBcnJheSkgeyB2YWwgPSB2YWwuY29uY2F0KFtdKSB9XG4gICAgbnN0YXRlW25dID0gdmFsXG4gIH1cbiAgcmV0dXJuIG5zdGF0ZVxufVxuXG4vLyBHaXZlbiBhIG1vZGUgYW5kIGEgc3RhdGUgKGZvciB0aGF0IG1vZGUpLCBmaW5kIHRoZSBpbm5lciBtb2RlIGFuZFxuLy8gc3RhdGUgYXQgdGhlIHBvc2l0aW9uIHRoYXQgdGhlIHN0YXRlIHJlZmVycyB0by5cbmZ1bmN0aW9uIGlubmVyTW9kZShtb2RlLCBzdGF0ZSkge1xuICB2YXIgaW5mb1xuICB3aGlsZSAobW9kZS5pbm5lck1vZGUpIHtcbiAgICBpbmZvID0gbW9kZS5pbm5lck1vZGUoc3RhdGUpXG4gICAgaWYgKCFpbmZvIHx8IGluZm8ubW9kZSA9PSBtb2RlKSB7IGJyZWFrIH1cbiAgICBzdGF0ZSA9IGluZm8uc3RhdGVcbiAgICBtb2RlID0gaW5mby5tb2RlXG4gIH1cbiAgcmV0dXJuIGluZm8gfHwge21vZGU6IG1vZGUsIHN0YXRlOiBzdGF0ZX1cbn1cblxuZnVuY3Rpb24gc3RhcnRTdGF0ZShtb2RlLCBhMSwgYTIpIHtcbiAgcmV0dXJuIG1vZGUuc3RhcnRTdGF0ZSA/IG1vZGUuc3RhcnRTdGF0ZShhMSwgYTIpIDogdHJ1ZVxufVxuXG4vLyBTVFJJTkcgU1RSRUFNXG5cbi8vIEZlZCB0byB0aGUgbW9kZSBwYXJzZXJzLCBwcm92aWRlcyBoZWxwZXIgZnVuY3Rpb25zIHRvIG1ha2Vcbi8vIHBhcnNlcnMgbW9yZSBzdWNjaW5jdC5cblxudmFyIFN0cmluZ1N0cmVhbSA9IGZ1bmN0aW9uKHN0cmluZywgdGFiU2l6ZSkge1xuICB0aGlzLnBvcyA9IHRoaXMuc3RhcnQgPSAwXG4gIHRoaXMuc3RyaW5nID0gc3RyaW5nXG4gIHRoaXMudGFiU2l6ZSA9IHRhYlNpemUgfHwgOFxuICB0aGlzLmxhc3RDb2x1bW5Qb3MgPSB0aGlzLmxhc3RDb2x1bW5WYWx1ZSA9IDBcbiAgdGhpcy5saW5lU3RhcnQgPSAwXG59XG5cblN0cmluZ1N0cmVhbS5wcm90b3R5cGUgPSB7XG4gIGVvbDogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMucG9zID49IHRoaXMuc3RyaW5nLmxlbmd0aH0sXG4gIHNvbDogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMucG9zID09IHRoaXMubGluZVN0YXJ0fSxcbiAgcGVlazogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMuc3RyaW5nLmNoYXJBdCh0aGlzLnBvcykgfHwgdW5kZWZpbmVkfSxcbiAgbmV4dDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMucG9zIDwgdGhpcy5zdHJpbmcubGVuZ3RoKVxuICAgICAgeyByZXR1cm4gdGhpcy5zdHJpbmcuY2hhckF0KHRoaXMucG9zKyspIH1cbiAgfSxcbiAgZWF0OiBmdW5jdGlvbihtYXRjaCkge1xuICAgIHZhciBjaCA9IHRoaXMuc3RyaW5nLmNoYXJBdCh0aGlzLnBvcylcbiAgICB2YXIgb2tcbiAgICBpZiAodHlwZW9mIG1hdGNoID09IFwic3RyaW5nXCIpIHsgb2sgPSBjaCA9PSBtYXRjaCB9XG4gICAgZWxzZSB7IG9rID0gY2ggJiYgKG1hdGNoLnRlc3QgPyBtYXRjaC50ZXN0KGNoKSA6IG1hdGNoKGNoKSkgfVxuICAgIGlmIChvaykgeysrdGhpcy5wb3M7IHJldHVybiBjaH1cbiAgfSxcbiAgZWF0V2hpbGU6IGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5wb3NcbiAgICB3aGlsZSAodGhpcy5lYXQobWF0Y2gpKXt9XG4gICAgcmV0dXJuIHRoaXMucG9zID4gc3RhcnRcbiAgfSxcbiAgZWF0U3BhY2U6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5wb3NcbiAgICB3aGlsZSAoL1tcXHNcXHUwMGEwXS8udGVzdCh0aGlzLnN0cmluZy5jaGFyQXQodGhpcy5wb3MpKSkgeyArK3RoaXMkMS5wb3MgfVxuICAgIHJldHVybiB0aGlzLnBvcyA+IHN0YXJ0XG4gIH0sXG4gIHNraXBUb0VuZDogZnVuY3Rpb24oKSB7dGhpcy5wb3MgPSB0aGlzLnN0cmluZy5sZW5ndGh9LFxuICBza2lwVG86IGZ1bmN0aW9uKGNoKSB7XG4gICAgdmFyIGZvdW5kID0gdGhpcy5zdHJpbmcuaW5kZXhPZihjaCwgdGhpcy5wb3MpXG4gICAgaWYgKGZvdW5kID4gLTEpIHt0aGlzLnBvcyA9IGZvdW5kOyByZXR1cm4gdHJ1ZX1cbiAgfSxcbiAgYmFja1VwOiBmdW5jdGlvbihuKSB7dGhpcy5wb3MgLT0gbn0sXG4gIGNvbHVtbjogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMubGFzdENvbHVtblBvcyA8IHRoaXMuc3RhcnQpIHtcbiAgICAgIHRoaXMubGFzdENvbHVtblZhbHVlID0gY291bnRDb2x1bW4odGhpcy5zdHJpbmcsIHRoaXMuc3RhcnQsIHRoaXMudGFiU2l6ZSwgdGhpcy5sYXN0Q29sdW1uUG9zLCB0aGlzLmxhc3RDb2x1bW5WYWx1ZSlcbiAgICAgIHRoaXMubGFzdENvbHVtblBvcyA9IHRoaXMuc3RhcnRcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubGFzdENvbHVtblZhbHVlIC0gKHRoaXMubGluZVN0YXJ0ID8gY291bnRDb2x1bW4odGhpcy5zdHJpbmcsIHRoaXMubGluZVN0YXJ0LCB0aGlzLnRhYlNpemUpIDogMClcbiAgfSxcbiAgaW5kZW50YXRpb246IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBjb3VudENvbHVtbih0aGlzLnN0cmluZywgbnVsbCwgdGhpcy50YWJTaXplKSAtXG4gICAgICAodGhpcy5saW5lU3RhcnQgPyBjb3VudENvbHVtbih0aGlzLnN0cmluZywgdGhpcy5saW5lU3RhcnQsIHRoaXMudGFiU2l6ZSkgOiAwKVxuICB9LFxuICBtYXRjaDogZnVuY3Rpb24ocGF0dGVybiwgY29uc3VtZSwgY2FzZUluc2Vuc2l0aXZlKSB7XG4gICAgaWYgKHR5cGVvZiBwYXR0ZXJuID09IFwic3RyaW5nXCIpIHtcbiAgICAgIHZhciBjYXNlZCA9IGZ1bmN0aW9uIChzdHIpIHsgcmV0dXJuIGNhc2VJbnNlbnNpdGl2ZSA/IHN0ci50b0xvd2VyQ2FzZSgpIDogc3RyOyB9XG4gICAgICB2YXIgc3Vic3RyID0gdGhpcy5zdHJpbmcuc3Vic3RyKHRoaXMucG9zLCBwYXR0ZXJuLmxlbmd0aClcbiAgICAgIGlmIChjYXNlZChzdWJzdHIpID09IGNhc2VkKHBhdHRlcm4pKSB7XG4gICAgICAgIGlmIChjb25zdW1lICE9PSBmYWxzZSkgeyB0aGlzLnBvcyArPSBwYXR0ZXJuLmxlbmd0aCB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBtYXRjaCA9IHRoaXMuc3RyaW5nLnNsaWNlKHRoaXMucG9zKS5tYXRjaChwYXR0ZXJuKVxuICAgICAgaWYgKG1hdGNoICYmIG1hdGNoLmluZGV4ID4gMCkgeyByZXR1cm4gbnVsbCB9XG4gICAgICBpZiAobWF0Y2ggJiYgY29uc3VtZSAhPT0gZmFsc2UpIHsgdGhpcy5wb3MgKz0gbWF0Y2hbMF0ubGVuZ3RoIH1cbiAgICAgIHJldHVybiBtYXRjaFxuICAgIH1cbiAgfSxcbiAgY3VycmVudDogZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdHJpbmcuc2xpY2UodGhpcy5zdGFydCwgdGhpcy5wb3MpfSxcbiAgaGlkZUZpcnN0Q2hhcnM6IGZ1bmN0aW9uKG4sIGlubmVyKSB7XG4gICAgdGhpcy5saW5lU3RhcnQgKz0gblxuICAgIHRyeSB7IHJldHVybiBpbm5lcigpIH1cbiAgICBmaW5hbGx5IHsgdGhpcy5saW5lU3RhcnQgLT0gbiB9XG4gIH1cbn1cblxuLy8gQ29tcHV0ZSBhIHN0eWxlIGFycmF5IChhbiBhcnJheSBzdGFydGluZyB3aXRoIGEgbW9kZSBnZW5lcmF0aW9uXG4vLyAtLSBmb3IgaW52YWxpZGF0aW9uIC0tIGZvbGxvd2VkIGJ5IHBhaXJzIG9mIGVuZCBwb3NpdGlvbnMgYW5kXG4vLyBzdHlsZSBzdHJpbmdzKSwgd2hpY2ggaXMgdXNlZCB0byBoaWdobGlnaHQgdGhlIHRva2VucyBvbiB0aGVcbi8vIGxpbmUuXG5mdW5jdGlvbiBoaWdobGlnaHRMaW5lKGNtLCBsaW5lLCBzdGF0ZSwgZm9yY2VUb0VuZCkge1xuICAvLyBBIHN0eWxlcyBhcnJheSBhbHdheXMgc3RhcnRzIHdpdGggYSBudW1iZXIgaWRlbnRpZnlpbmcgdGhlXG4gIC8vIG1vZGUvb3ZlcmxheXMgdGhhdCBpdCBpcyBiYXNlZCBvbiAoZm9yIGVhc3kgaW52YWxpZGF0aW9uKS5cbiAgdmFyIHN0ID0gW2NtLnN0YXRlLm1vZGVHZW5dLCBsaW5lQ2xhc3NlcyA9IHt9XG4gIC8vIENvbXB1dGUgdGhlIGJhc2UgYXJyYXkgb2Ygc3R5bGVzXG4gIHJ1bk1vZGUoY20sIGxpbmUudGV4dCwgY20uZG9jLm1vZGUsIHN0YXRlLCBmdW5jdGlvbiAoZW5kLCBzdHlsZSkgeyByZXR1cm4gc3QucHVzaChlbmQsIHN0eWxlKTsgfSxcbiAgICBsaW5lQ2xhc3NlcywgZm9yY2VUb0VuZClcblxuICAvLyBSdW4gb3ZlcmxheXMsIGFkanVzdCBzdHlsZSBhcnJheS5cbiAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIG8gKSB7XG4gICAgdmFyIG92ZXJsYXkgPSBjbS5zdGF0ZS5vdmVybGF5c1tvXSwgaSA9IDEsIGF0ID0gMFxuICAgIHJ1bk1vZGUoY20sIGxpbmUudGV4dCwgb3ZlcmxheS5tb2RlLCB0cnVlLCBmdW5jdGlvbiAoZW5kLCBzdHlsZSkge1xuICAgICAgdmFyIHN0YXJ0ID0gaVxuICAgICAgLy8gRW5zdXJlIHRoZXJlJ3MgYSB0b2tlbiBlbmQgYXQgdGhlIGN1cnJlbnQgcG9zaXRpb24sIGFuZCB0aGF0IGkgcG9pbnRzIGF0IGl0XG4gICAgICB3aGlsZSAoYXQgPCBlbmQpIHtcbiAgICAgICAgdmFyIGlfZW5kID0gc3RbaV1cbiAgICAgICAgaWYgKGlfZW5kID4gZW5kKVxuICAgICAgICAgIHsgc3Quc3BsaWNlKGksIDEsIGVuZCwgc3RbaSsxXSwgaV9lbmQpIH1cbiAgICAgICAgaSArPSAyXG4gICAgICAgIGF0ID0gTWF0aC5taW4oZW5kLCBpX2VuZClcbiAgICAgIH1cbiAgICAgIGlmICghc3R5bGUpIHsgcmV0dXJuIH1cbiAgICAgIGlmIChvdmVybGF5Lm9wYXF1ZSkge1xuICAgICAgICBzdC5zcGxpY2Uoc3RhcnQsIGkgLSBzdGFydCwgZW5kLCBcIm92ZXJsYXkgXCIgKyBzdHlsZSlcbiAgICAgICAgaSA9IHN0YXJ0ICsgMlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICg7IHN0YXJ0IDwgaTsgc3RhcnQgKz0gMikge1xuICAgICAgICAgIHZhciBjdXIgPSBzdFtzdGFydCsxXVxuICAgICAgICAgIHN0W3N0YXJ0KzFdID0gKGN1ciA/IGN1ciArIFwiIFwiIDogXCJcIikgKyBcIm92ZXJsYXkgXCIgKyBzdHlsZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgbGluZUNsYXNzZXMpXG4gIH07XG5cbiAgZm9yICh2YXIgbyA9IDA7IG8gPCBjbS5zdGF0ZS5vdmVybGF5cy5sZW5ndGg7ICsrbykgbG9vcCggbyApO1xuXG4gIHJldHVybiB7c3R5bGVzOiBzdCwgY2xhc3NlczogbGluZUNsYXNzZXMuYmdDbGFzcyB8fCBsaW5lQ2xhc3Nlcy50ZXh0Q2xhc3MgPyBsaW5lQ2xhc3NlcyA6IG51bGx9XG59XG5cbmZ1bmN0aW9uIGdldExpbmVTdHlsZXMoY20sIGxpbmUsIHVwZGF0ZUZyb250aWVyKSB7XG4gIGlmICghbGluZS5zdHlsZXMgfHwgbGluZS5zdHlsZXNbMF0gIT0gY20uc3RhdGUubW9kZUdlbikge1xuICAgIHZhciBzdGF0ZSA9IGdldFN0YXRlQmVmb3JlKGNtLCBsaW5lTm8obGluZSkpXG4gICAgdmFyIHJlc3VsdCA9IGhpZ2hsaWdodExpbmUoY20sIGxpbmUsIGxpbmUudGV4dC5sZW5ndGggPiBjbS5vcHRpb25zLm1heEhpZ2hsaWdodExlbmd0aCA/IGNvcHlTdGF0ZShjbS5kb2MubW9kZSwgc3RhdGUpIDogc3RhdGUpXG4gICAgbGluZS5zdGF0ZUFmdGVyID0gc3RhdGVcbiAgICBsaW5lLnN0eWxlcyA9IHJlc3VsdC5zdHlsZXNcbiAgICBpZiAocmVzdWx0LmNsYXNzZXMpIHsgbGluZS5zdHlsZUNsYXNzZXMgPSByZXN1bHQuY2xhc3NlcyB9XG4gICAgZWxzZSBpZiAobGluZS5zdHlsZUNsYXNzZXMpIHsgbGluZS5zdHlsZUNsYXNzZXMgPSBudWxsIH1cbiAgICBpZiAodXBkYXRlRnJvbnRpZXIgPT09IGNtLmRvYy5mcm9udGllcikgeyBjbS5kb2MuZnJvbnRpZXIrKyB9XG4gIH1cbiAgcmV0dXJuIGxpbmUuc3R5bGVzXG59XG5cbmZ1bmN0aW9uIGdldFN0YXRlQmVmb3JlKGNtLCBuLCBwcmVjaXNlKSB7XG4gIHZhciBkb2MgPSBjbS5kb2MsIGRpc3BsYXkgPSBjbS5kaXNwbGF5XG4gIGlmICghZG9jLm1vZGUuc3RhcnRTdGF0ZSkgeyByZXR1cm4gdHJ1ZSB9XG4gIHZhciBwb3MgPSBmaW5kU3RhcnRMaW5lKGNtLCBuLCBwcmVjaXNlKSwgc3RhdGUgPSBwb3MgPiBkb2MuZmlyc3QgJiYgZ2V0TGluZShkb2MsIHBvcy0xKS5zdGF0ZUFmdGVyXG4gIGlmICghc3RhdGUpIHsgc3RhdGUgPSBzdGFydFN0YXRlKGRvYy5tb2RlKSB9XG4gIGVsc2UgeyBzdGF0ZSA9IGNvcHlTdGF0ZShkb2MubW9kZSwgc3RhdGUpIH1cbiAgZG9jLml0ZXIocG9zLCBuLCBmdW5jdGlvbiAobGluZSkge1xuICAgIHByb2Nlc3NMaW5lKGNtLCBsaW5lLnRleHQsIHN0YXRlKVxuICAgIHZhciBzYXZlID0gcG9zID09IG4gLSAxIHx8IHBvcyAlIDUgPT0gMCB8fCBwb3MgPj0gZGlzcGxheS52aWV3RnJvbSAmJiBwb3MgPCBkaXNwbGF5LnZpZXdUb1xuICAgIGxpbmUuc3RhdGVBZnRlciA9IHNhdmUgPyBjb3B5U3RhdGUoZG9jLm1vZGUsIHN0YXRlKSA6IG51bGxcbiAgICArK3Bvc1xuICB9KVxuICBpZiAocHJlY2lzZSkgeyBkb2MuZnJvbnRpZXIgPSBwb3MgfVxuICByZXR1cm4gc3RhdGVcbn1cblxuLy8gTGlnaHR3ZWlnaHQgZm9ybSBvZiBoaWdobGlnaHQgLS0gcHJvY2VlZCBvdmVyIHRoaXMgbGluZSBhbmRcbi8vIHVwZGF0ZSBzdGF0ZSwgYnV0IGRvbid0IHNhdmUgYSBzdHlsZSBhcnJheS4gVXNlZCBmb3IgbGluZXMgdGhhdFxuLy8gYXJlbid0IGN1cnJlbnRseSB2aXNpYmxlLlxuZnVuY3Rpb24gcHJvY2Vzc0xpbmUoY20sIHRleHQsIHN0YXRlLCBzdGFydEF0KSB7XG4gIHZhciBtb2RlID0gY20uZG9jLm1vZGVcbiAgdmFyIHN0cmVhbSA9IG5ldyBTdHJpbmdTdHJlYW0odGV4dCwgY20ub3B0aW9ucy50YWJTaXplKVxuICBzdHJlYW0uc3RhcnQgPSBzdHJlYW0ucG9zID0gc3RhcnRBdCB8fCAwXG4gIGlmICh0ZXh0ID09IFwiXCIpIHsgY2FsbEJsYW5rTGluZShtb2RlLCBzdGF0ZSkgfVxuICB3aGlsZSAoIXN0cmVhbS5lb2woKSkge1xuICAgIHJlYWRUb2tlbihtb2RlLCBzdHJlYW0sIHN0YXRlKVxuICAgIHN0cmVhbS5zdGFydCA9IHN0cmVhbS5wb3NcbiAgfVxufVxuXG5mdW5jdGlvbiBjYWxsQmxhbmtMaW5lKG1vZGUsIHN0YXRlKSB7XG4gIGlmIChtb2RlLmJsYW5rTGluZSkgeyByZXR1cm4gbW9kZS5ibGFua0xpbmUoc3RhdGUpIH1cbiAgaWYgKCFtb2RlLmlubmVyTW9kZSkgeyByZXR1cm4gfVxuICB2YXIgaW5uZXIgPSBpbm5lck1vZGUobW9kZSwgc3RhdGUpXG4gIGlmIChpbm5lci5tb2RlLmJsYW5rTGluZSkgeyByZXR1cm4gaW5uZXIubW9kZS5ibGFua0xpbmUoaW5uZXIuc3RhdGUpIH1cbn1cblxuZnVuY3Rpb24gcmVhZFRva2VuKG1vZGUsIHN0cmVhbSwgc3RhdGUsIGlubmVyKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgIGlmIChpbm5lcikgeyBpbm5lclswXSA9IGlubmVyTW9kZShtb2RlLCBzdGF0ZSkubW9kZSB9XG4gICAgdmFyIHN0eWxlID0gbW9kZS50b2tlbihzdHJlYW0sIHN0YXRlKVxuICAgIGlmIChzdHJlYW0ucG9zID4gc3RyZWFtLnN0YXJ0KSB7IHJldHVybiBzdHlsZSB9XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFwiTW9kZSBcIiArIG1vZGUubmFtZSArIFwiIGZhaWxlZCB0byBhZHZhbmNlIHN0cmVhbS5cIilcbn1cblxuLy8gVXRpbGl0eSBmb3IgZ2V0VG9rZW5BdCBhbmQgZ2V0TGluZVRva2Vuc1xuZnVuY3Rpb24gdGFrZVRva2VuKGNtLCBwb3MsIHByZWNpc2UsIGFzQXJyYXkpIHtcbiAgdmFyIGdldE9iaiA9IGZ1bmN0aW9uIChjb3B5KSB7IHJldHVybiAoe1xuICAgIHN0YXJ0OiBzdHJlYW0uc3RhcnQsIGVuZDogc3RyZWFtLnBvcyxcbiAgICBzdHJpbmc6IHN0cmVhbS5jdXJyZW50KCksXG4gICAgdHlwZTogc3R5bGUgfHwgbnVsbCxcbiAgICBzdGF0ZTogY29weSA/IGNvcHlTdGF0ZShkb2MubW9kZSwgc3RhdGUpIDogc3RhdGVcbiAgfSk7IH1cblxuICB2YXIgZG9jID0gY20uZG9jLCBtb2RlID0gZG9jLm1vZGUsIHN0eWxlXG4gIHBvcyA9IGNsaXBQb3MoZG9jLCBwb3MpXG4gIHZhciBsaW5lID0gZ2V0TGluZShkb2MsIHBvcy5saW5lKSwgc3RhdGUgPSBnZXRTdGF0ZUJlZm9yZShjbSwgcG9zLmxpbmUsIHByZWNpc2UpXG4gIHZhciBzdHJlYW0gPSBuZXcgU3RyaW5nU3RyZWFtKGxpbmUudGV4dCwgY20ub3B0aW9ucy50YWJTaXplKSwgdG9rZW5zXG4gIGlmIChhc0FycmF5KSB7IHRva2VucyA9IFtdIH1cbiAgd2hpbGUgKChhc0FycmF5IHx8IHN0cmVhbS5wb3MgPCBwb3MuY2gpICYmICFzdHJlYW0uZW9sKCkpIHtcbiAgICBzdHJlYW0uc3RhcnQgPSBzdHJlYW0ucG9zXG4gICAgc3R5bGUgPSByZWFkVG9rZW4obW9kZSwgc3RyZWFtLCBzdGF0ZSlcbiAgICBpZiAoYXNBcnJheSkgeyB0b2tlbnMucHVzaChnZXRPYmoodHJ1ZSkpIH1cbiAgfVxuICByZXR1cm4gYXNBcnJheSA/IHRva2VucyA6IGdldE9iaigpXG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RMaW5lQ2xhc3Nlcyh0eXBlLCBvdXRwdXQpIHtcbiAgaWYgKHR5cGUpIHsgZm9yICg7Oykge1xuICAgIHZhciBsaW5lQ2xhc3MgPSB0eXBlLm1hdGNoKC8oPzpefFxccyspbGluZS0oYmFja2dyb3VuZC0pPyhcXFMrKS8pXG4gICAgaWYgKCFsaW5lQ2xhc3MpIHsgYnJlYWsgfVxuICAgIHR5cGUgPSB0eXBlLnNsaWNlKDAsIGxpbmVDbGFzcy5pbmRleCkgKyB0eXBlLnNsaWNlKGxpbmVDbGFzcy5pbmRleCArIGxpbmVDbGFzc1swXS5sZW5ndGgpXG4gICAgdmFyIHByb3AgPSBsaW5lQ2xhc3NbMV0gPyBcImJnQ2xhc3NcIiA6IFwidGV4dENsYXNzXCJcbiAgICBpZiAob3V0cHV0W3Byb3BdID09IG51bGwpXG4gICAgICB7IG91dHB1dFtwcm9wXSA9IGxpbmVDbGFzc1syXSB9XG4gICAgZWxzZSBpZiAoIShuZXcgUmVnRXhwKFwiKD86XnxcXHMpXCIgKyBsaW5lQ2xhc3NbMl0gKyBcIig/OiR8XFxzKVwiKSkudGVzdChvdXRwdXRbcHJvcF0pKVxuICAgICAgeyBvdXRwdXRbcHJvcF0gKz0gXCIgXCIgKyBsaW5lQ2xhc3NbMl0gfVxuICB9IH1cbiAgcmV0dXJuIHR5cGVcbn1cblxuLy8gUnVuIHRoZSBnaXZlbiBtb2RlJ3MgcGFyc2VyIG92ZXIgYSBsaW5lLCBjYWxsaW5nIGYgZm9yIGVhY2ggdG9rZW4uXG5mdW5jdGlvbiBydW5Nb2RlKGNtLCB0ZXh0LCBtb2RlLCBzdGF0ZSwgZiwgbGluZUNsYXNzZXMsIGZvcmNlVG9FbmQpIHtcbiAgdmFyIGZsYXR0ZW5TcGFucyA9IG1vZGUuZmxhdHRlblNwYW5zXG4gIGlmIChmbGF0dGVuU3BhbnMgPT0gbnVsbCkgeyBmbGF0dGVuU3BhbnMgPSBjbS5vcHRpb25zLmZsYXR0ZW5TcGFucyB9XG4gIHZhciBjdXJTdGFydCA9IDAsIGN1clN0eWxlID0gbnVsbFxuICB2YXIgc3RyZWFtID0gbmV3IFN0cmluZ1N0cmVhbSh0ZXh0LCBjbS5vcHRpb25zLnRhYlNpemUpLCBzdHlsZVxuICB2YXIgaW5uZXIgPSBjbS5vcHRpb25zLmFkZE1vZGVDbGFzcyAmJiBbbnVsbF1cbiAgaWYgKHRleHQgPT0gXCJcIikgeyBleHRyYWN0TGluZUNsYXNzZXMoY2FsbEJsYW5rTGluZShtb2RlLCBzdGF0ZSksIGxpbmVDbGFzc2VzKSB9XG4gIHdoaWxlICghc3RyZWFtLmVvbCgpKSB7XG4gICAgaWYgKHN0cmVhbS5wb3MgPiBjbS5vcHRpb25zLm1heEhpZ2hsaWdodExlbmd0aCkge1xuICAgICAgZmxhdHRlblNwYW5zID0gZmFsc2VcbiAgICAgIGlmIChmb3JjZVRvRW5kKSB7IHByb2Nlc3NMaW5lKGNtLCB0ZXh0LCBzdGF0ZSwgc3RyZWFtLnBvcykgfVxuICAgICAgc3RyZWFtLnBvcyA9IHRleHQubGVuZ3RoXG4gICAgICBzdHlsZSA9IG51bGxcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUgPSBleHRyYWN0TGluZUNsYXNzZXMocmVhZFRva2VuKG1vZGUsIHN0cmVhbSwgc3RhdGUsIGlubmVyKSwgbGluZUNsYXNzZXMpXG4gICAgfVxuICAgIGlmIChpbm5lcikge1xuICAgICAgdmFyIG1OYW1lID0gaW5uZXJbMF0ubmFtZVxuICAgICAgaWYgKG1OYW1lKSB7IHN0eWxlID0gXCJtLVwiICsgKHN0eWxlID8gbU5hbWUgKyBcIiBcIiArIHN0eWxlIDogbU5hbWUpIH1cbiAgICB9XG4gICAgaWYgKCFmbGF0dGVuU3BhbnMgfHwgY3VyU3R5bGUgIT0gc3R5bGUpIHtcbiAgICAgIHdoaWxlIChjdXJTdGFydCA8IHN0cmVhbS5zdGFydCkge1xuICAgICAgICBjdXJTdGFydCA9IE1hdGgubWluKHN0cmVhbS5zdGFydCwgY3VyU3RhcnQgKyA1MDAwKVxuICAgICAgICBmKGN1clN0YXJ0LCBjdXJTdHlsZSlcbiAgICAgIH1cbiAgICAgIGN1clN0eWxlID0gc3R5bGVcbiAgICB9XG4gICAgc3RyZWFtLnN0YXJ0ID0gc3RyZWFtLnBvc1xuICB9XG4gIHdoaWxlIChjdXJTdGFydCA8IHN0cmVhbS5wb3MpIHtcbiAgICAvLyBXZWJraXQgc2VlbXMgdG8gcmVmdXNlIHRvIHJlbmRlciB0ZXh0IG5vZGVzIGxvbmdlciB0aGFuIDU3NDQ0XG4gICAgLy8gY2hhcmFjdGVycywgYW5kIHJldHVybnMgaW5hY2N1cmF0ZSBtZWFzdXJlbWVudHMgaW4gbm9kZXNcbiAgICAvLyBzdGFydGluZyBhcm91bmQgNTAwMCBjaGFycy5cbiAgICB2YXIgcG9zID0gTWF0aC5taW4oc3RyZWFtLnBvcywgY3VyU3RhcnQgKyA1MDAwKVxuICAgIGYocG9zLCBjdXJTdHlsZSlcbiAgICBjdXJTdGFydCA9IHBvc1xuICB9XG59XG5cbi8vIEZpbmRzIHRoZSBsaW5lIHRvIHN0YXJ0IHdpdGggd2hlbiBzdGFydGluZyBhIHBhcnNlLiBUcmllcyB0b1xuLy8gZmluZCBhIGxpbmUgd2l0aCBhIHN0YXRlQWZ0ZXIsIHNvIHRoYXQgaXQgY2FuIHN0YXJ0IHdpdGggYVxuLy8gdmFsaWQgc3RhdGUuIElmIHRoYXQgZmFpbHMsIGl0IHJldHVybnMgdGhlIGxpbmUgd2l0aCB0aGVcbi8vIHNtYWxsZXN0IGluZGVudGF0aW9uLCB3aGljaCB0ZW5kcyB0byBuZWVkIHRoZSBsZWFzdCBjb250ZXh0IHRvXG4vLyBwYXJzZSBjb3JyZWN0bHkuXG5mdW5jdGlvbiBmaW5kU3RhcnRMaW5lKGNtLCBuLCBwcmVjaXNlKSB7XG4gIHZhciBtaW5pbmRlbnQsIG1pbmxpbmUsIGRvYyA9IGNtLmRvY1xuICB2YXIgbGltID0gcHJlY2lzZSA/IC0xIDogbiAtIChjbS5kb2MubW9kZS5pbm5lck1vZGUgPyAxMDAwIDogMTAwKVxuICBmb3IgKHZhciBzZWFyY2ggPSBuOyBzZWFyY2ggPiBsaW07IC0tc2VhcmNoKSB7XG4gICAgaWYgKHNlYXJjaCA8PSBkb2MuZmlyc3QpIHsgcmV0dXJuIGRvYy5maXJzdCB9XG4gICAgdmFyIGxpbmUgPSBnZXRMaW5lKGRvYywgc2VhcmNoIC0gMSlcbiAgICBpZiAobGluZS5zdGF0ZUFmdGVyICYmICghcHJlY2lzZSB8fCBzZWFyY2ggPD0gZG9jLmZyb250aWVyKSkgeyByZXR1cm4gc2VhcmNoIH1cbiAgICB2YXIgaW5kZW50ZWQgPSBjb3VudENvbHVtbihsaW5lLnRleHQsIG51bGwsIGNtLm9wdGlvbnMudGFiU2l6ZSlcbiAgICBpZiAobWlubGluZSA9PSBudWxsIHx8IG1pbmluZGVudCA+IGluZGVudGVkKSB7XG4gICAgICBtaW5saW5lID0gc2VhcmNoIC0gMVxuICAgICAgbWluaW5kZW50ID0gaW5kZW50ZWRcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1pbmxpbmVcbn1cblxuLy8gTElORSBEQVRBIFNUUlVDVFVSRVxuXG4vLyBMaW5lIG9iamVjdHMuIFRoZXNlIGhvbGQgc3RhdGUgcmVsYXRlZCB0byBhIGxpbmUsIGluY2x1ZGluZ1xuLy8gaGlnaGxpZ2h0aW5nIGluZm8gKHRoZSBzdHlsZXMgYXJyYXkpLlxuZnVuY3Rpb24gTGluZSh0ZXh0LCBtYXJrZWRTcGFucywgZXN0aW1hdGVIZWlnaHQpIHtcbiAgdGhpcy50ZXh0ID0gdGV4dFxuICBhdHRhY2hNYXJrZWRTcGFucyh0aGlzLCBtYXJrZWRTcGFucylcbiAgdGhpcy5oZWlnaHQgPSBlc3RpbWF0ZUhlaWdodCA/IGVzdGltYXRlSGVpZ2h0KHRoaXMpIDogMVxufVxuZXZlbnRNaXhpbihMaW5lKVxuTGluZS5wcm90b3R5cGUubGluZU5vID0gZnVuY3Rpb24oKSB7IHJldHVybiBsaW5lTm8odGhpcykgfVxuXG4vLyBDaGFuZ2UgdGhlIGNvbnRlbnQgKHRleHQsIG1hcmtlcnMpIG9mIGEgbGluZS4gQXV0b21hdGljYWxseVxuLy8gaW52YWxpZGF0ZXMgY2FjaGVkIGluZm9ybWF0aW9uIGFuZCB0cmllcyB0byByZS1lc3RpbWF0ZSB0aGVcbi8vIGxpbmUncyBoZWlnaHQuXG5mdW5jdGlvbiB1cGRhdGVMaW5lKGxpbmUsIHRleHQsIG1hcmtlZFNwYW5zLCBlc3RpbWF0ZUhlaWdodCkge1xuICBsaW5lLnRleHQgPSB0ZXh0XG4gIGlmIChsaW5lLnN0YXRlQWZ0ZXIpIHsgbGluZS5zdGF0ZUFmdGVyID0gbnVsbCB9XG4gIGlmIChsaW5lLnN0eWxlcykgeyBsaW5lLnN0eWxlcyA9IG51bGwgfVxuICBpZiAobGluZS5vcmRlciAhPSBudWxsKSB7IGxpbmUub3JkZXIgPSBudWxsIH1cbiAgZGV0YWNoTWFya2VkU3BhbnMobGluZSlcbiAgYXR0YWNoTWFya2VkU3BhbnMobGluZSwgbWFya2VkU3BhbnMpXG4gIHZhciBlc3RIZWlnaHQgPSBlc3RpbWF0ZUhlaWdodCA/IGVzdGltYXRlSGVpZ2h0KGxpbmUpIDogMVxuICBpZiAoZXN0SGVpZ2h0ICE9IGxpbmUuaGVpZ2h0KSB7IHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgZXN0SGVpZ2h0KSB9XG59XG5cbi8vIERldGFjaCBhIGxpbmUgZnJvbSB0aGUgZG9jdW1lbnQgdHJlZSBhbmQgaXRzIG1hcmtlcnMuXG5mdW5jdGlvbiBjbGVhblVwTGluZShsaW5lKSB7XG4gIGxpbmUucGFyZW50ID0gbnVsbFxuICBkZXRhY2hNYXJrZWRTcGFucyhsaW5lKVxufVxuXG4vLyBDb252ZXJ0IGEgc3R5bGUgYXMgcmV0dXJuZWQgYnkgYSBtb2RlIChlaXRoZXIgbnVsbCwgb3IgYSBzdHJpbmdcbi8vIGNvbnRhaW5pbmcgb25lIG9yIG1vcmUgc3R5bGVzKSB0byBhIENTUyBzdHlsZS4gVGhpcyBpcyBjYWNoZWQsXG4vLyBhbmQgYWxzbyBsb29rcyBmb3IgbGluZS13aWRlIHN0eWxlcy5cbnZhciBzdHlsZVRvQ2xhc3NDYWNoZSA9IHt9O1xudmFyIHN0eWxlVG9DbGFzc0NhY2hlV2l0aE1vZGUgPSB7fTtcbmZ1bmN0aW9uIGludGVycHJldFRva2VuU3R5bGUoc3R5bGUsIG9wdGlvbnMpIHtcbiAgaWYgKCFzdHlsZSB8fCAvXlxccyokLy50ZXN0KHN0eWxlKSkgeyByZXR1cm4gbnVsbCB9XG4gIHZhciBjYWNoZSA9IG9wdGlvbnMuYWRkTW9kZUNsYXNzID8gc3R5bGVUb0NsYXNzQ2FjaGVXaXRoTW9kZSA6IHN0eWxlVG9DbGFzc0NhY2hlXG4gIHJldHVybiBjYWNoZVtzdHlsZV0gfHxcbiAgICAoY2FjaGVbc3R5bGVdID0gc3R5bGUucmVwbGFjZSgvXFxTKy9nLCBcImNtLSQmXCIpKVxufVxuXG4vLyBSZW5kZXIgdGhlIERPTSByZXByZXNlbnRhdGlvbiBvZiB0aGUgdGV4dCBvZiBhIGxpbmUuIEFsc28gYnVpbGRzXG4vLyB1cCBhICdsaW5lIG1hcCcsIHdoaWNoIHBvaW50cyBhdCB0aGUgRE9NIG5vZGVzIHRoYXQgcmVwcmVzZW50XG4vLyBzcGVjaWZpYyBzdHJldGNoZXMgb2YgdGV4dCwgYW5kIGlzIHVzZWQgYnkgdGhlIG1lYXN1cmluZyBjb2RlLlxuLy8gVGhlIHJldHVybmVkIG9iamVjdCBjb250YWlucyB0aGUgRE9NIG5vZGUsIHRoaXMgbWFwLCBhbmRcbi8vIGluZm9ybWF0aW9uIGFib3V0IGxpbmUtd2lkZSBzdHlsZXMgdGhhdCB3ZXJlIHNldCBieSB0aGUgbW9kZS5cbmZ1bmN0aW9uIGJ1aWxkTGluZUNvbnRlbnQoY20sIGxpbmVWaWV3KSB7XG4gIC8vIFRoZSBwYWRkaW5nLXJpZ2h0IGZvcmNlcyB0aGUgZWxlbWVudCB0byBoYXZlIGEgJ2JvcmRlcicsIHdoaWNoXG4gIC8vIGlzIG5lZWRlZCBvbiBXZWJraXQgdG8gYmUgYWJsZSB0byBnZXQgbGluZS1sZXZlbCBib3VuZGluZ1xuICAvLyByZWN0YW5nbGVzIGZvciBpdCAoaW4gbWVhc3VyZUNoYXIpLlxuICB2YXIgY29udGVudCA9IGVsdChcInNwYW5cIiwgbnVsbCwgbnVsbCwgd2Via2l0ID8gXCJwYWRkaW5nLXJpZ2h0OiAuMXB4XCIgOiBudWxsKVxuICB2YXIgYnVpbGRlciA9IHtwcmU6IGVsdChcInByZVwiLCBbY29udGVudF0sIFwiQ29kZU1pcnJvci1saW5lXCIpLCBjb250ZW50OiBjb250ZW50LFxuICAgICAgICAgICAgICAgICBjb2w6IDAsIHBvczogMCwgY206IGNtLFxuICAgICAgICAgICAgICAgICB0cmFpbGluZ1NwYWNlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgc3BsaXRTcGFjZXM6IChpZSB8fCB3ZWJraXQpICYmIGNtLmdldE9wdGlvbihcImxpbmVXcmFwcGluZ1wiKX1cbiAgbGluZVZpZXcubWVhc3VyZSA9IHt9XG5cbiAgLy8gSXRlcmF0ZSBvdmVyIHRoZSBsb2dpY2FsIGxpbmVzIHRoYXQgbWFrZSB1cCB0aGlzIHZpc3VhbCBsaW5lLlxuICBmb3IgKHZhciBpID0gMDsgaSA8PSAobGluZVZpZXcucmVzdCA/IGxpbmVWaWV3LnJlc3QubGVuZ3RoIDogMCk7IGkrKykge1xuICAgIHZhciBsaW5lID0gaSA/IGxpbmVWaWV3LnJlc3RbaSAtIDFdIDogbGluZVZpZXcubGluZSwgb3JkZXIgPSAodm9pZCAwKVxuICAgIGJ1aWxkZXIucG9zID0gMFxuICAgIGJ1aWxkZXIuYWRkVG9rZW4gPSBidWlsZFRva2VuXG4gICAgLy8gT3B0aW9uYWxseSB3aXJlIGluIHNvbWUgaGFja3MgaW50byB0aGUgdG9rZW4tcmVuZGVyaW5nXG4gICAgLy8gYWxnb3JpdGhtLCB0byBkZWFsIHdpdGggYnJvd3NlciBxdWlya3MuXG4gICAgaWYgKGhhc0JhZEJpZGlSZWN0cyhjbS5kaXNwbGF5Lm1lYXN1cmUpICYmIChvcmRlciA9IGdldE9yZGVyKGxpbmUpKSlcbiAgICAgIHsgYnVpbGRlci5hZGRUb2tlbiA9IGJ1aWxkVG9rZW5CYWRCaWRpKGJ1aWxkZXIuYWRkVG9rZW4sIG9yZGVyKSB9XG4gICAgYnVpbGRlci5tYXAgPSBbXVxuICAgIHZhciBhbGxvd0Zyb250aWVyVXBkYXRlID0gbGluZVZpZXcgIT0gY20uZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkICYmIGxpbmVObyhsaW5lKVxuICAgIGluc2VydExpbmVDb250ZW50KGxpbmUsIGJ1aWxkZXIsIGdldExpbmVTdHlsZXMoY20sIGxpbmUsIGFsbG93RnJvbnRpZXJVcGRhdGUpKVxuICAgIGlmIChsaW5lLnN0eWxlQ2xhc3Nlcykge1xuICAgICAgaWYgKGxpbmUuc3R5bGVDbGFzc2VzLmJnQ2xhc3MpXG4gICAgICAgIHsgYnVpbGRlci5iZ0NsYXNzID0gam9pbkNsYXNzZXMobGluZS5zdHlsZUNsYXNzZXMuYmdDbGFzcywgYnVpbGRlci5iZ0NsYXNzIHx8IFwiXCIpIH1cbiAgICAgIGlmIChsaW5lLnN0eWxlQ2xhc3Nlcy50ZXh0Q2xhc3MpXG4gICAgICAgIHsgYnVpbGRlci50ZXh0Q2xhc3MgPSBqb2luQ2xhc3NlcyhsaW5lLnN0eWxlQ2xhc3Nlcy50ZXh0Q2xhc3MsIGJ1aWxkZXIudGV4dENsYXNzIHx8IFwiXCIpIH1cbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgYXQgbGVhc3QgYSBzaW5nbGUgbm9kZSBpcyBwcmVzZW50LCBmb3IgbWVhc3VyaW5nLlxuICAgIGlmIChidWlsZGVyLm1hcC5sZW5ndGggPT0gMClcbiAgICAgIHsgYnVpbGRlci5tYXAucHVzaCgwLCAwLCBidWlsZGVyLmNvbnRlbnQuYXBwZW5kQ2hpbGQoemVyb1dpZHRoRWxlbWVudChjbS5kaXNwbGF5Lm1lYXN1cmUpKSkgfVxuXG4gICAgLy8gU3RvcmUgdGhlIG1hcCBhbmQgYSBjYWNoZSBvYmplY3QgZm9yIHRoZSBjdXJyZW50IGxvZ2ljYWwgbGluZVxuICAgIGlmIChpID09IDApIHtcbiAgICAgIGxpbmVWaWV3Lm1lYXN1cmUubWFwID0gYnVpbGRlci5tYXBcbiAgICAgIGxpbmVWaWV3Lm1lYXN1cmUuY2FjaGUgPSB7fVxuICAgIH0gZWxzZSB7XG4gICAgICA7KGxpbmVWaWV3Lm1lYXN1cmUubWFwcyB8fCAobGluZVZpZXcubWVhc3VyZS5tYXBzID0gW10pKS5wdXNoKGJ1aWxkZXIubWFwKVxuICAgICAgOyhsaW5lVmlldy5tZWFzdXJlLmNhY2hlcyB8fCAobGluZVZpZXcubWVhc3VyZS5jYWNoZXMgPSBbXSkpLnB1c2goe30pXG4gICAgfVxuICB9XG5cbiAgLy8gU2VlIGlzc3VlICMyOTAxXG4gIGlmICh3ZWJraXQpIHtcbiAgICB2YXIgbGFzdCA9IGJ1aWxkZXIuY29udGVudC5sYXN0Q2hpbGRcbiAgICBpZiAoL1xcYmNtLXRhYlxcYi8udGVzdChsYXN0LmNsYXNzTmFtZSkgfHwgKGxhc3QucXVlcnlTZWxlY3RvciAmJiBsYXN0LnF1ZXJ5U2VsZWN0b3IoXCIuY20tdGFiXCIpKSlcbiAgICAgIHsgYnVpbGRlci5jb250ZW50LmNsYXNzTmFtZSA9IFwiY20tdGFiLXdyYXAtaGFja1wiIH1cbiAgfVxuXG4gIHNpZ25hbChjbSwgXCJyZW5kZXJMaW5lXCIsIGNtLCBsaW5lVmlldy5saW5lLCBidWlsZGVyLnByZSlcbiAgaWYgKGJ1aWxkZXIucHJlLmNsYXNzTmFtZSlcbiAgICB7IGJ1aWxkZXIudGV4dENsYXNzID0gam9pbkNsYXNzZXMoYnVpbGRlci5wcmUuY2xhc3NOYW1lLCBidWlsZGVyLnRleHRDbGFzcyB8fCBcIlwiKSB9XG5cbiAgcmV0dXJuIGJ1aWxkZXJcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFNwZWNpYWxDaGFyUGxhY2Vob2xkZXIoY2gpIHtcbiAgdmFyIHRva2VuID0gZWx0KFwic3BhblwiLCBcIlxcdTIwMjJcIiwgXCJjbS1pbnZhbGlkY2hhclwiKVxuICB0b2tlbi50aXRsZSA9IFwiXFxcXHVcIiArIGNoLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpXG4gIHRva2VuLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgdG9rZW4udGl0bGUpXG4gIHJldHVybiB0b2tlblxufVxuXG4vLyBCdWlsZCB1cCB0aGUgRE9NIHJlcHJlc2VudGF0aW9uIGZvciBhIHNpbmdsZSB0b2tlbiwgYW5kIGFkZCBpdCB0b1xuLy8gdGhlIGxpbmUgbWFwLiBUYWtlcyBjYXJlIHRvIHJlbmRlciBzcGVjaWFsIGNoYXJhY3RlcnMgc2VwYXJhdGVseS5cbmZ1bmN0aW9uIGJ1aWxkVG9rZW4oYnVpbGRlciwgdGV4dCwgc3R5bGUsIHN0YXJ0U3R5bGUsIGVuZFN0eWxlLCB0aXRsZSwgY3NzKSB7XG4gIGlmICghdGV4dCkgeyByZXR1cm4gfVxuICB2YXIgZGlzcGxheVRleHQgPSBidWlsZGVyLnNwbGl0U3BhY2VzID8gc3BsaXRTcGFjZXModGV4dCwgYnVpbGRlci50cmFpbGluZ1NwYWNlKSA6IHRleHRcbiAgdmFyIHNwZWNpYWwgPSBidWlsZGVyLmNtLnN0YXRlLnNwZWNpYWxDaGFycywgbXVzdFdyYXAgPSBmYWxzZVxuICB2YXIgY29udGVudFxuICBpZiAoIXNwZWNpYWwudGVzdCh0ZXh0KSkge1xuICAgIGJ1aWxkZXIuY29sICs9IHRleHQubGVuZ3RoXG4gICAgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRpc3BsYXlUZXh0KVxuICAgIGJ1aWxkZXIubWFwLnB1c2goYnVpbGRlci5wb3MsIGJ1aWxkZXIucG9zICsgdGV4dC5sZW5ndGgsIGNvbnRlbnQpXG4gICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA5KSB7IG11c3RXcmFwID0gdHJ1ZSB9XG4gICAgYnVpbGRlci5wb3MgKz0gdGV4dC5sZW5ndGhcbiAgfSBlbHNlIHtcbiAgICBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpXG4gICAgdmFyIHBvcyA9IDBcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgc3BlY2lhbC5sYXN0SW5kZXggPSBwb3NcbiAgICAgIHZhciBtID0gc3BlY2lhbC5leGVjKHRleHQpXG4gICAgICB2YXIgc2tpcHBlZCA9IG0gPyBtLmluZGV4IC0gcG9zIDogdGV4dC5sZW5ndGggLSBwb3NcbiAgICAgIGlmIChza2lwcGVkKSB7XG4gICAgICAgIHZhciB0eHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkaXNwbGF5VGV4dC5zbGljZShwb3MsIHBvcyArIHNraXBwZWQpKVxuICAgICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDkpIHsgY29udGVudC5hcHBlbmRDaGlsZChlbHQoXCJzcGFuXCIsIFt0eHRdKSkgfVxuICAgICAgICBlbHNlIHsgY29udGVudC5hcHBlbmRDaGlsZCh0eHQpIH1cbiAgICAgICAgYnVpbGRlci5tYXAucHVzaChidWlsZGVyLnBvcywgYnVpbGRlci5wb3MgKyBza2lwcGVkLCB0eHQpXG4gICAgICAgIGJ1aWxkZXIuY29sICs9IHNraXBwZWRcbiAgICAgICAgYnVpbGRlci5wb3MgKz0gc2tpcHBlZFxuICAgICAgfVxuICAgICAgaWYgKCFtKSB7IGJyZWFrIH1cbiAgICAgIHBvcyArPSBza2lwcGVkICsgMVxuICAgICAgdmFyIHR4dCQxID0gKHZvaWQgMClcbiAgICAgIGlmIChtWzBdID09IFwiXFx0XCIpIHtcbiAgICAgICAgdmFyIHRhYlNpemUgPSBidWlsZGVyLmNtLm9wdGlvbnMudGFiU2l6ZSwgdGFiV2lkdGggPSB0YWJTaXplIC0gYnVpbGRlci5jb2wgJSB0YWJTaXplXG4gICAgICAgIHR4dCQxID0gY29udGVudC5hcHBlbmRDaGlsZChlbHQoXCJzcGFuXCIsIHNwYWNlU3RyKHRhYldpZHRoKSwgXCJjbS10YWJcIikpXG4gICAgICAgIHR4dCQxLnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJwcmVzZW50YXRpb25cIilcbiAgICAgICAgdHh0JDEuc2V0QXR0cmlidXRlKFwiY20tdGV4dFwiLCBcIlxcdFwiKVxuICAgICAgICBidWlsZGVyLmNvbCArPSB0YWJXaWR0aFxuICAgICAgfSBlbHNlIGlmIChtWzBdID09IFwiXFxyXCIgfHwgbVswXSA9PSBcIlxcblwiKSB7XG4gICAgICAgIHR4dCQxID0gY29udGVudC5hcHBlbmRDaGlsZChlbHQoXCJzcGFuXCIsIG1bMF0gPT0gXCJcXHJcIiA/IFwiXFx1MjQwZFwiIDogXCJcXHUyNDI0XCIsIFwiY20taW52YWxpZGNoYXJcIikpXG4gICAgICAgIHR4dCQxLnNldEF0dHJpYnV0ZShcImNtLXRleHRcIiwgbVswXSlcbiAgICAgICAgYnVpbGRlci5jb2wgKz0gMVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHh0JDEgPSBidWlsZGVyLmNtLm9wdGlvbnMuc3BlY2lhbENoYXJQbGFjZWhvbGRlcihtWzBdKVxuICAgICAgICB0eHQkMS5zZXRBdHRyaWJ1dGUoXCJjbS10ZXh0XCIsIG1bMF0pXG4gICAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOSkgeyBjb250ZW50LmFwcGVuZENoaWxkKGVsdChcInNwYW5cIiwgW3R4dCQxXSkpIH1cbiAgICAgICAgZWxzZSB7IGNvbnRlbnQuYXBwZW5kQ2hpbGQodHh0JDEpIH1cbiAgICAgICAgYnVpbGRlci5jb2wgKz0gMVxuICAgICAgfVxuICAgICAgYnVpbGRlci5tYXAucHVzaChidWlsZGVyLnBvcywgYnVpbGRlci5wb3MgKyAxLCB0eHQkMSlcbiAgICAgIGJ1aWxkZXIucG9zKytcbiAgICB9XG4gIH1cbiAgYnVpbGRlci50cmFpbGluZ1NwYWNlID0gZGlzcGxheVRleHQuY2hhckNvZGVBdCh0ZXh0Lmxlbmd0aCAtIDEpID09IDMyXG4gIGlmIChzdHlsZSB8fCBzdGFydFN0eWxlIHx8IGVuZFN0eWxlIHx8IG11c3RXcmFwIHx8IGNzcykge1xuICAgIHZhciBmdWxsU3R5bGUgPSBzdHlsZSB8fCBcIlwiXG4gICAgaWYgKHN0YXJ0U3R5bGUpIHsgZnVsbFN0eWxlICs9IHN0YXJ0U3R5bGUgfVxuICAgIGlmIChlbmRTdHlsZSkgeyBmdWxsU3R5bGUgKz0gZW5kU3R5bGUgfVxuICAgIHZhciB0b2tlbiA9IGVsdChcInNwYW5cIiwgW2NvbnRlbnRdLCBmdWxsU3R5bGUsIGNzcylcbiAgICBpZiAodGl0bGUpIHsgdG9rZW4udGl0bGUgPSB0aXRsZSB9XG4gICAgcmV0dXJuIGJ1aWxkZXIuY29udGVudC5hcHBlbmRDaGlsZCh0b2tlbilcbiAgfVxuICBidWlsZGVyLmNvbnRlbnQuYXBwZW5kQ2hpbGQoY29udGVudClcbn1cblxuZnVuY3Rpb24gc3BsaXRTcGFjZXModGV4dCwgdHJhaWxpbmdCZWZvcmUpIHtcbiAgaWYgKHRleHQubGVuZ3RoID4gMSAmJiAhLyAgLy50ZXN0KHRleHQpKSB7IHJldHVybiB0ZXh0IH1cbiAgdmFyIHNwYWNlQmVmb3JlID0gdHJhaWxpbmdCZWZvcmUsIHJlc3VsdCA9IFwiXCJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGNoID0gdGV4dC5jaGFyQXQoaSlcbiAgICBpZiAoY2ggPT0gXCIgXCIgJiYgc3BhY2VCZWZvcmUgJiYgKGkgPT0gdGV4dC5sZW5ndGggLSAxIHx8IHRleHQuY2hhckNvZGVBdChpICsgMSkgPT0gMzIpKVxuICAgICAgeyBjaCA9IFwiXFx1MDBhMFwiIH1cbiAgICByZXN1bHQgKz0gY2hcbiAgICBzcGFjZUJlZm9yZSA9IGNoID09IFwiIFwiXG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG4vLyBXb3JrIGFyb3VuZCBub25zZW5zZSBkaW1lbnNpb25zIGJlaW5nIHJlcG9ydGVkIGZvciBzdHJldGNoZXMgb2Zcbi8vIHJpZ2h0LXRvLWxlZnQgdGV4dC5cbmZ1bmN0aW9uIGJ1aWxkVG9rZW5CYWRCaWRpKGlubmVyLCBvcmRlcikge1xuICByZXR1cm4gZnVuY3Rpb24gKGJ1aWxkZXIsIHRleHQsIHN0eWxlLCBzdGFydFN0eWxlLCBlbmRTdHlsZSwgdGl0bGUsIGNzcykge1xuICAgIHN0eWxlID0gc3R5bGUgPyBzdHlsZSArIFwiIGNtLWZvcmNlLWJvcmRlclwiIDogXCJjbS1mb3JjZS1ib3JkZXJcIlxuICAgIHZhciBzdGFydCA9IGJ1aWxkZXIucG9zLCBlbmQgPSBzdGFydCArIHRleHQubGVuZ3RoXG4gICAgZm9yICg7Oykge1xuICAgICAgLy8gRmluZCB0aGUgcGFydCB0aGF0IG92ZXJsYXBzIHdpdGggdGhlIHN0YXJ0IG9mIHRoaXMgdGV4dFxuICAgICAgdmFyIHBhcnQgPSAodm9pZCAwKVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcmRlci5sZW5ndGg7IGkrKykge1xuICAgICAgICBwYXJ0ID0gb3JkZXJbaV1cbiAgICAgICAgaWYgKHBhcnQudG8gPiBzdGFydCAmJiBwYXJ0LmZyb20gPD0gc3RhcnQpIHsgYnJlYWsgfVxuICAgICAgfVxuICAgICAgaWYgKHBhcnQudG8gPj0gZW5kKSB7IHJldHVybiBpbm5lcihidWlsZGVyLCB0ZXh0LCBzdHlsZSwgc3RhcnRTdHlsZSwgZW5kU3R5bGUsIHRpdGxlLCBjc3MpIH1cbiAgICAgIGlubmVyKGJ1aWxkZXIsIHRleHQuc2xpY2UoMCwgcGFydC50byAtIHN0YXJ0KSwgc3R5bGUsIHN0YXJ0U3R5bGUsIG51bGwsIHRpdGxlLCBjc3MpXG4gICAgICBzdGFydFN0eWxlID0gbnVsbFxuICAgICAgdGV4dCA9IHRleHQuc2xpY2UocGFydC50byAtIHN0YXJ0KVxuICAgICAgc3RhcnQgPSBwYXJ0LnRvXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQ29sbGFwc2VkU3BhbihidWlsZGVyLCBzaXplLCBtYXJrZXIsIGlnbm9yZVdpZGdldCkge1xuICB2YXIgd2lkZ2V0ID0gIWlnbm9yZVdpZGdldCAmJiBtYXJrZXIud2lkZ2V0Tm9kZVxuICBpZiAod2lkZ2V0KSB7IGJ1aWxkZXIubWFwLnB1c2goYnVpbGRlci5wb3MsIGJ1aWxkZXIucG9zICsgc2l6ZSwgd2lkZ2V0KSB9XG4gIGlmICghaWdub3JlV2lkZ2V0ICYmIGJ1aWxkZXIuY20uZGlzcGxheS5pbnB1dC5uZWVkc0NvbnRlbnRBdHRyaWJ1dGUpIHtcbiAgICBpZiAoIXdpZGdldClcbiAgICAgIHsgd2lkZ2V0ID0gYnVpbGRlci5jb250ZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpKSB9XG4gICAgd2lkZ2V0LnNldEF0dHJpYnV0ZShcImNtLW1hcmtlclwiLCBtYXJrZXIuaWQpXG4gIH1cbiAgaWYgKHdpZGdldCkge1xuICAgIGJ1aWxkZXIuY20uZGlzcGxheS5pbnB1dC5zZXRVbmVkaXRhYmxlKHdpZGdldClcbiAgICBidWlsZGVyLmNvbnRlbnQuYXBwZW5kQ2hpbGQod2lkZ2V0KVxuICB9XG4gIGJ1aWxkZXIucG9zICs9IHNpemVcbiAgYnVpbGRlci50cmFpbGluZ1NwYWNlID0gZmFsc2Vcbn1cblxuLy8gT3V0cHV0cyBhIG51bWJlciBvZiBzcGFucyB0byBtYWtlIHVwIGEgbGluZSwgdGFraW5nIGhpZ2hsaWdodGluZ1xuLy8gYW5kIG1hcmtlZCB0ZXh0IGludG8gYWNjb3VudC5cbmZ1bmN0aW9uIGluc2VydExpbmVDb250ZW50KGxpbmUsIGJ1aWxkZXIsIHN0eWxlcykge1xuICB2YXIgc3BhbnMgPSBsaW5lLm1hcmtlZFNwYW5zLCBhbGxUZXh0ID0gbGluZS50ZXh0LCBhdCA9IDBcbiAgaWYgKCFzcGFucykge1xuICAgIGZvciAodmFyIGkkMSA9IDE7IGkkMSA8IHN0eWxlcy5sZW5ndGg7IGkkMSs9MilcbiAgICAgIHsgYnVpbGRlci5hZGRUb2tlbihidWlsZGVyLCBhbGxUZXh0LnNsaWNlKGF0LCBhdCA9IHN0eWxlc1tpJDFdKSwgaW50ZXJwcmV0VG9rZW5TdHlsZShzdHlsZXNbaSQxKzFdLCBidWlsZGVyLmNtLm9wdGlvbnMpKSB9XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgbGVuID0gYWxsVGV4dC5sZW5ndGgsIHBvcyA9IDAsIGkgPSAxLCB0ZXh0ID0gXCJcIiwgc3R5bGUsIGNzc1xuICB2YXIgbmV4dENoYW5nZSA9IDAsIHNwYW5TdHlsZSwgc3BhbkVuZFN0eWxlLCBzcGFuU3RhcnRTdHlsZSwgdGl0bGUsIGNvbGxhcHNlZFxuICBmb3IgKDs7KSB7XG4gICAgaWYgKG5leHRDaGFuZ2UgPT0gcG9zKSB7IC8vIFVwZGF0ZSBjdXJyZW50IG1hcmtlciBzZXRcbiAgICAgIHNwYW5TdHlsZSA9IHNwYW5FbmRTdHlsZSA9IHNwYW5TdGFydFN0eWxlID0gdGl0bGUgPSBjc3MgPSBcIlwiXG4gICAgICBjb2xsYXBzZWQgPSBudWxsOyBuZXh0Q2hhbmdlID0gSW5maW5pdHlcbiAgICAgIHZhciBmb3VuZEJvb2ttYXJrcyA9IFtdLCBlbmRTdHlsZXMgPSAodm9pZCAwKVxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzcGFucy5sZW5ndGg7ICsraikge1xuICAgICAgICB2YXIgc3AgPSBzcGFuc1tqXSwgbSA9IHNwLm1hcmtlclxuICAgICAgICBpZiAobS50eXBlID09IFwiYm9va21hcmtcIiAmJiBzcC5mcm9tID09IHBvcyAmJiBtLndpZGdldE5vZGUpIHtcbiAgICAgICAgICBmb3VuZEJvb2ttYXJrcy5wdXNoKG0pXG4gICAgICAgIH0gZWxzZSBpZiAoc3AuZnJvbSA8PSBwb3MgJiYgKHNwLnRvID09IG51bGwgfHwgc3AudG8gPiBwb3MgfHwgbS5jb2xsYXBzZWQgJiYgc3AudG8gPT0gcG9zICYmIHNwLmZyb20gPT0gcG9zKSkge1xuICAgICAgICAgIGlmIChzcC50byAhPSBudWxsICYmIHNwLnRvICE9IHBvcyAmJiBuZXh0Q2hhbmdlID4gc3AudG8pIHtcbiAgICAgICAgICAgIG5leHRDaGFuZ2UgPSBzcC50b1xuICAgICAgICAgICAgc3BhbkVuZFN0eWxlID0gXCJcIlxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobS5jbGFzc05hbWUpIHsgc3BhblN0eWxlICs9IFwiIFwiICsgbS5jbGFzc05hbWUgfVxuICAgICAgICAgIGlmIChtLmNzcykgeyBjc3MgPSAoY3NzID8gY3NzICsgXCI7XCIgOiBcIlwiKSArIG0uY3NzIH1cbiAgICAgICAgICBpZiAobS5zdGFydFN0eWxlICYmIHNwLmZyb20gPT0gcG9zKSB7IHNwYW5TdGFydFN0eWxlICs9IFwiIFwiICsgbS5zdGFydFN0eWxlIH1cbiAgICAgICAgICBpZiAobS5lbmRTdHlsZSAmJiBzcC50byA9PSBuZXh0Q2hhbmdlKSB7IChlbmRTdHlsZXMgfHwgKGVuZFN0eWxlcyA9IFtdKSkucHVzaChtLmVuZFN0eWxlLCBzcC50bykgfVxuICAgICAgICAgIGlmIChtLnRpdGxlICYmICF0aXRsZSkgeyB0aXRsZSA9IG0udGl0bGUgfVxuICAgICAgICAgIGlmIChtLmNvbGxhcHNlZCAmJiAoIWNvbGxhcHNlZCB8fCBjb21wYXJlQ29sbGFwc2VkTWFya2Vycyhjb2xsYXBzZWQubWFya2VyLCBtKSA8IDApKVxuICAgICAgICAgICAgeyBjb2xsYXBzZWQgPSBzcCB9XG4gICAgICAgIH0gZWxzZSBpZiAoc3AuZnJvbSA+IHBvcyAmJiBuZXh0Q2hhbmdlID4gc3AuZnJvbSkge1xuICAgICAgICAgIG5leHRDaGFuZ2UgPSBzcC5mcm9tXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChlbmRTdHlsZXMpIHsgZm9yICh2YXIgaiQxID0gMDsgaiQxIDwgZW5kU3R5bGVzLmxlbmd0aDsgaiQxICs9IDIpXG4gICAgICAgIHsgaWYgKGVuZFN0eWxlc1tqJDEgKyAxXSA9PSBuZXh0Q2hhbmdlKSB7IHNwYW5FbmRTdHlsZSArPSBcIiBcIiArIGVuZFN0eWxlc1tqJDFdIH0gfSB9XG5cbiAgICAgIGlmICghY29sbGFwc2VkIHx8IGNvbGxhcHNlZC5mcm9tID09IHBvcykgeyBmb3IgKHZhciBqJDIgPSAwOyBqJDIgPCBmb3VuZEJvb2ttYXJrcy5sZW5ndGg7ICsraiQyKVxuICAgICAgICB7IGJ1aWxkQ29sbGFwc2VkU3BhbihidWlsZGVyLCAwLCBmb3VuZEJvb2ttYXJrc1tqJDJdKSB9IH1cbiAgICAgIGlmIChjb2xsYXBzZWQgJiYgKGNvbGxhcHNlZC5mcm9tIHx8IDApID09IHBvcykge1xuICAgICAgICBidWlsZENvbGxhcHNlZFNwYW4oYnVpbGRlciwgKGNvbGxhcHNlZC50byA9PSBudWxsID8gbGVuICsgMSA6IGNvbGxhcHNlZC50bykgLSBwb3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsYXBzZWQubWFya2VyLCBjb2xsYXBzZWQuZnJvbSA9PSBudWxsKVxuICAgICAgICBpZiAoY29sbGFwc2VkLnRvID09IG51bGwpIHsgcmV0dXJuIH1cbiAgICAgICAgaWYgKGNvbGxhcHNlZC50byA9PSBwb3MpIHsgY29sbGFwc2VkID0gZmFsc2UgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAocG9zID49IGxlbikgeyBicmVhayB9XG5cbiAgICB2YXIgdXB0byA9IE1hdGgubWluKGxlbiwgbmV4dENoYW5nZSlcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKHRleHQpIHtcbiAgICAgICAgdmFyIGVuZCA9IHBvcyArIHRleHQubGVuZ3RoXG4gICAgICAgIGlmICghY29sbGFwc2VkKSB7XG4gICAgICAgICAgdmFyIHRva2VuVGV4dCA9IGVuZCA+IHVwdG8gPyB0ZXh0LnNsaWNlKDAsIHVwdG8gLSBwb3MpIDogdGV4dFxuICAgICAgICAgIGJ1aWxkZXIuYWRkVG9rZW4oYnVpbGRlciwgdG9rZW5UZXh0LCBzdHlsZSA/IHN0eWxlICsgc3BhblN0eWxlIDogc3BhblN0eWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BhblN0YXJ0U3R5bGUsIHBvcyArIHRva2VuVGV4dC5sZW5ndGggPT0gbmV4dENoYW5nZSA/IHNwYW5FbmRTdHlsZSA6IFwiXCIsIHRpdGxlLCBjc3MpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuZCA+PSB1cHRvKSB7dGV4dCA9IHRleHQuc2xpY2UodXB0byAtIHBvcyk7IHBvcyA9IHVwdG87IGJyZWFrfVxuICAgICAgICBwb3MgPSBlbmRcbiAgICAgICAgc3BhblN0YXJ0U3R5bGUgPSBcIlwiXG4gICAgICB9XG4gICAgICB0ZXh0ID0gYWxsVGV4dC5zbGljZShhdCwgYXQgPSBzdHlsZXNbaSsrXSlcbiAgICAgIHN0eWxlID0gaW50ZXJwcmV0VG9rZW5TdHlsZShzdHlsZXNbaSsrXSwgYnVpbGRlci5jbS5vcHRpb25zKVxuICAgIH1cbiAgfVxufVxuXG5cbi8vIFRoZXNlIG9iamVjdHMgYXJlIHVzZWQgdG8gcmVwcmVzZW50IHRoZSB2aXNpYmxlIChjdXJyZW50bHkgZHJhd24pXG4vLyBwYXJ0IG9mIHRoZSBkb2N1bWVudC4gQSBMaW5lVmlldyBtYXkgY29ycmVzcG9uZCB0byBtdWx0aXBsZVxuLy8gbG9naWNhbCBsaW5lcywgaWYgdGhvc2UgYXJlIGNvbm5lY3RlZCBieSBjb2xsYXBzZWQgcmFuZ2VzLlxuZnVuY3Rpb24gTGluZVZpZXcoZG9jLCBsaW5lLCBsaW5lTikge1xuICAvLyBUaGUgc3RhcnRpbmcgbGluZVxuICB0aGlzLmxpbmUgPSBsaW5lXG4gIC8vIENvbnRpbnVpbmcgbGluZXMsIGlmIGFueVxuICB0aGlzLnJlc3QgPSB2aXN1YWxMaW5lQ29udGludWVkKGxpbmUpXG4gIC8vIE51bWJlciBvZiBsb2dpY2FsIGxpbmVzIGluIHRoaXMgdmlzdWFsIGxpbmVcbiAgdGhpcy5zaXplID0gdGhpcy5yZXN0ID8gbGluZU5vKGxzdCh0aGlzLnJlc3QpKSAtIGxpbmVOICsgMSA6IDFcbiAgdGhpcy5ub2RlID0gdGhpcy50ZXh0ID0gbnVsbFxuICB0aGlzLmhpZGRlbiA9IGxpbmVJc0hpZGRlbihkb2MsIGxpbmUpXG59XG5cbi8vIENyZWF0ZSBhIHJhbmdlIG9mIExpbmVWaWV3IG9iamVjdHMgZm9yIHRoZSBnaXZlbiBsaW5lcy5cbmZ1bmN0aW9uIGJ1aWxkVmlld0FycmF5KGNtLCBmcm9tLCB0bykge1xuICB2YXIgYXJyYXkgPSBbXSwgbmV4dFBvc1xuICBmb3IgKHZhciBwb3MgPSBmcm9tOyBwb3MgPCB0bzsgcG9zID0gbmV4dFBvcykge1xuICAgIHZhciB2aWV3ID0gbmV3IExpbmVWaWV3KGNtLmRvYywgZ2V0TGluZShjbS5kb2MsIHBvcyksIHBvcylcbiAgICBuZXh0UG9zID0gcG9zICsgdmlldy5zaXplXG4gICAgYXJyYXkucHVzaCh2aWV3KVxuICB9XG4gIHJldHVybiBhcnJheVxufVxuXG52YXIgb3BlcmF0aW9uR3JvdXAgPSBudWxsXG5cbmZ1bmN0aW9uIHB1c2hPcGVyYXRpb24ob3ApIHtcbiAgaWYgKG9wZXJhdGlvbkdyb3VwKSB7XG4gICAgb3BlcmF0aW9uR3JvdXAub3BzLnB1c2gob3ApXG4gIH0gZWxzZSB7XG4gICAgb3Aub3duc0dyb3VwID0gb3BlcmF0aW9uR3JvdXAgPSB7XG4gICAgICBvcHM6IFtvcF0sXG4gICAgICBkZWxheWVkQ2FsbGJhY2tzOiBbXVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmaXJlQ2FsbGJhY2tzRm9yT3BzKGdyb3VwKSB7XG4gIC8vIENhbGxzIGRlbGF5ZWQgY2FsbGJhY2tzIGFuZCBjdXJzb3JBY3Rpdml0eSBoYW5kbGVycyB1bnRpbCBub1xuICAvLyBuZXcgb25lcyBhcHBlYXJcbiAgdmFyIGNhbGxiYWNrcyA9IGdyb3VwLmRlbGF5ZWRDYWxsYmFja3MsIGkgPSAwXG4gIGRvIHtcbiAgICBmb3IgKDsgaSA8IGNhbGxiYWNrcy5sZW5ndGg7IGkrKylcbiAgICAgIHsgY2FsbGJhY2tzW2ldLmNhbGwobnVsbCkgfVxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ3JvdXAub3BzLmxlbmd0aDsgaisrKSB7XG4gICAgICB2YXIgb3AgPSBncm91cC5vcHNbal1cbiAgICAgIGlmIChvcC5jdXJzb3JBY3Rpdml0eUhhbmRsZXJzKVxuICAgICAgICB7IHdoaWxlIChvcC5jdXJzb3JBY3Rpdml0eUNhbGxlZCA8IG9wLmN1cnNvckFjdGl2aXR5SGFuZGxlcnMubGVuZ3RoKVxuICAgICAgICAgIHsgb3AuY3Vyc29yQWN0aXZpdHlIYW5kbGVyc1tvcC5jdXJzb3JBY3Rpdml0eUNhbGxlZCsrXS5jYWxsKG51bGwsIG9wLmNtKSB9IH1cbiAgICB9XG4gIH0gd2hpbGUgKGkgPCBjYWxsYmFja3MubGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBmaW5pc2hPcGVyYXRpb24ob3AsIGVuZENiKSB7XG4gIHZhciBncm91cCA9IG9wLm93bnNHcm91cFxuICBpZiAoIWdyb3VwKSB7IHJldHVybiB9XG5cbiAgdHJ5IHsgZmlyZUNhbGxiYWNrc0Zvck9wcyhncm91cCkgfVxuICBmaW5hbGx5IHtcbiAgICBvcGVyYXRpb25Hcm91cCA9IG51bGxcbiAgICBlbmRDYihncm91cClcbiAgfVxufVxuXG52YXIgb3JwaGFuRGVsYXllZENhbGxiYWNrcyA9IG51bGxcblxuLy8gT2Z0ZW4sIHdlIHdhbnQgdG8gc2lnbmFsIGV2ZW50cyBhdCBhIHBvaW50IHdoZXJlIHdlIGFyZSBpbiB0aGVcbi8vIG1pZGRsZSBvZiBzb21lIHdvcmssIGJ1dCBkb24ndCB3YW50IHRoZSBoYW5kbGVyIHRvIHN0YXJ0IGNhbGxpbmdcbi8vIG90aGVyIG1ldGhvZHMgb24gdGhlIGVkaXRvciwgd2hpY2ggbWlnaHQgYmUgaW4gYW4gaW5jb25zaXN0ZW50XG4vLyBzdGF0ZSBvciBzaW1wbHkgbm90IGV4cGVjdCBhbnkgb3RoZXIgZXZlbnRzIHRvIGhhcHBlbi5cbi8vIHNpZ25hbExhdGVyIGxvb2tzIHdoZXRoZXIgdGhlcmUgYXJlIGFueSBoYW5kbGVycywgYW5kIHNjaGVkdWxlc1xuLy8gdGhlbSB0byBiZSBleGVjdXRlZCB3aGVuIHRoZSBsYXN0IG9wZXJhdGlvbiBlbmRzLCBvciwgaWYgbm9cbi8vIG9wZXJhdGlvbiBpcyBhY3RpdmUsIHdoZW4gYSB0aW1lb3V0IGZpcmVzLlxuZnVuY3Rpb24gc2lnbmFsTGF0ZXIoZW1pdHRlciwgdHlwZSAvKiwgdmFsdWVzLi4uKi8pIHtcbiAgdmFyIGFyciA9IGdldEhhbmRsZXJzKGVtaXR0ZXIsIHR5cGUpXG4gIGlmICghYXJyLmxlbmd0aCkgeyByZXR1cm4gfVxuICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMiksIGxpc3RcbiAgaWYgKG9wZXJhdGlvbkdyb3VwKSB7XG4gICAgbGlzdCA9IG9wZXJhdGlvbkdyb3VwLmRlbGF5ZWRDYWxsYmFja3NcbiAgfSBlbHNlIGlmIChvcnBoYW5EZWxheWVkQ2FsbGJhY2tzKSB7XG4gICAgbGlzdCA9IG9ycGhhbkRlbGF5ZWRDYWxsYmFja3NcbiAgfSBlbHNlIHtcbiAgICBsaXN0ID0gb3JwaGFuRGVsYXllZENhbGxiYWNrcyA9IFtdXG4gICAgc2V0VGltZW91dChmaXJlT3JwaGFuRGVsYXllZCwgMClcbiAgfVxuICB2YXIgbG9vcCA9IGZ1bmN0aW9uICggaSApIHtcbiAgICBsaXN0LnB1c2goZnVuY3Rpb24gKCkgeyByZXR1cm4gYXJyW2ldLmFwcGx5KG51bGwsIGFyZ3MpOyB9KVxuICB9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKVxuICAgIGxvb3AoIGkgKTtcbn1cblxuZnVuY3Rpb24gZmlyZU9ycGhhbkRlbGF5ZWQoKSB7XG4gIHZhciBkZWxheWVkID0gb3JwaGFuRGVsYXllZENhbGxiYWNrc1xuICBvcnBoYW5EZWxheWVkQ2FsbGJhY2tzID0gbnVsbFxuICBmb3IgKHZhciBpID0gMDsgaSA8IGRlbGF5ZWQubGVuZ3RoOyArK2kpIHsgZGVsYXllZFtpXSgpIH1cbn1cblxuLy8gV2hlbiBhbiBhc3BlY3Qgb2YgYSBsaW5lIGNoYW5nZXMsIGEgc3RyaW5nIGlzIGFkZGVkIHRvXG4vLyBsaW5lVmlldy5jaGFuZ2VzLiBUaGlzIHVwZGF0ZXMgdGhlIHJlbGV2YW50IHBhcnQgb2YgdGhlIGxpbmUnc1xuLy8gRE9NIHN0cnVjdHVyZS5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmVGb3JDaGFuZ2VzKGNtLCBsaW5lVmlldywgbGluZU4sIGRpbXMpIHtcbiAgZm9yICh2YXIgaiA9IDA7IGogPCBsaW5lVmlldy5jaGFuZ2VzLmxlbmd0aDsgaisrKSB7XG4gICAgdmFyIHR5cGUgPSBsaW5lVmlldy5jaGFuZ2VzW2pdXG4gICAgaWYgKHR5cGUgPT0gXCJ0ZXh0XCIpIHsgdXBkYXRlTGluZVRleHQoY20sIGxpbmVWaWV3KSB9XG4gICAgZWxzZSBpZiAodHlwZSA9PSBcImd1dHRlclwiKSB7IHVwZGF0ZUxpbmVHdXR0ZXIoY20sIGxpbmVWaWV3LCBsaW5lTiwgZGltcykgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT0gXCJjbGFzc1wiKSB7IHVwZGF0ZUxpbmVDbGFzc2VzKGxpbmVWaWV3KSB9XG4gICAgZWxzZSBpZiAodHlwZSA9PSBcIndpZGdldFwiKSB7IHVwZGF0ZUxpbmVXaWRnZXRzKGNtLCBsaW5lVmlldywgZGltcykgfVxuICB9XG4gIGxpbmVWaWV3LmNoYW5nZXMgPSBudWxsXG59XG5cbi8vIExpbmVzIHdpdGggZ3V0dGVyIGVsZW1lbnRzLCB3aWRnZXRzIG9yIGEgYmFja2dyb3VuZCBjbGFzcyBuZWVkIHRvXG4vLyBiZSB3cmFwcGVkLCBhbmQgaGF2ZSB0aGUgZXh0cmEgZWxlbWVudHMgYWRkZWQgdG8gdGhlIHdyYXBwZXIgZGl2XG5mdW5jdGlvbiBlbnN1cmVMaW5lV3JhcHBlZChsaW5lVmlldykge1xuICBpZiAobGluZVZpZXcubm9kZSA9PSBsaW5lVmlldy50ZXh0KSB7XG4gICAgbGluZVZpZXcubm9kZSA9IGVsdChcImRpdlwiLCBudWxsLCBudWxsLCBcInBvc2l0aW9uOiByZWxhdGl2ZVwiKVxuICAgIGlmIChsaW5lVmlldy50ZXh0LnBhcmVudE5vZGUpXG4gICAgICB7IGxpbmVWaWV3LnRleHQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobGluZVZpZXcubm9kZSwgbGluZVZpZXcudGV4dCkgfVxuICAgIGxpbmVWaWV3Lm5vZGUuYXBwZW5kQ2hpbGQobGluZVZpZXcudGV4dClcbiAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDgpIHsgbGluZVZpZXcubm9kZS5zdHlsZS56SW5kZXggPSAyIH1cbiAgfVxuICByZXR1cm4gbGluZVZpZXcubm9kZVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMaW5lQmFja2dyb3VuZChsaW5lVmlldykge1xuICB2YXIgY2xzID0gbGluZVZpZXcuYmdDbGFzcyA/IGxpbmVWaWV3LmJnQ2xhc3MgKyBcIiBcIiArIChsaW5lVmlldy5saW5lLmJnQ2xhc3MgfHwgXCJcIikgOiBsaW5lVmlldy5saW5lLmJnQ2xhc3NcbiAgaWYgKGNscykgeyBjbHMgKz0gXCIgQ29kZU1pcnJvci1saW5lYmFja2dyb3VuZFwiIH1cbiAgaWYgKGxpbmVWaWV3LmJhY2tncm91bmQpIHtcbiAgICBpZiAoY2xzKSB7IGxpbmVWaWV3LmJhY2tncm91bmQuY2xhc3NOYW1lID0gY2xzIH1cbiAgICBlbHNlIHsgbGluZVZpZXcuYmFja2dyb3VuZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGxpbmVWaWV3LmJhY2tncm91bmQpOyBsaW5lVmlldy5iYWNrZ3JvdW5kID0gbnVsbCB9XG4gIH0gZWxzZSBpZiAoY2xzKSB7XG4gICAgdmFyIHdyYXAgPSBlbnN1cmVMaW5lV3JhcHBlZChsaW5lVmlldylcbiAgICBsaW5lVmlldy5iYWNrZ3JvdW5kID0gd3JhcC5pbnNlcnRCZWZvcmUoZWx0KFwiZGl2XCIsIG51bGwsIGNscyksIHdyYXAuZmlyc3RDaGlsZClcbiAgfVxufVxuXG4vLyBXcmFwcGVyIGFyb3VuZCBidWlsZExpbmVDb250ZW50IHdoaWNoIHdpbGwgcmV1c2UgdGhlIHN0cnVjdHVyZVxuLy8gaW4gZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkIHdoZW4gcG9zc2libGUuXG5mdW5jdGlvbiBnZXRMaW5lQ29udGVudChjbSwgbGluZVZpZXcpIHtcbiAgdmFyIGV4dCA9IGNtLmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZFxuICBpZiAoZXh0ICYmIGV4dC5saW5lID09IGxpbmVWaWV3LmxpbmUpIHtcbiAgICBjbS5kaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQgPSBudWxsXG4gICAgbGluZVZpZXcubWVhc3VyZSA9IGV4dC5tZWFzdXJlXG4gICAgcmV0dXJuIGV4dC5idWlsdFxuICB9XG4gIHJldHVybiBidWlsZExpbmVDb250ZW50KGNtLCBsaW5lVmlldylcbn1cblxuLy8gUmVkcmF3IHRoZSBsaW5lJ3MgdGV4dC4gSW50ZXJhY3RzIHdpdGggdGhlIGJhY2tncm91bmQgYW5kIHRleHRcbi8vIGNsYXNzZXMgYmVjYXVzZSB0aGUgbW9kZSBtYXkgb3V0cHV0IHRva2VucyB0aGF0IGluZmx1ZW5jZSB0aGVzZVxuLy8gY2xhc3Nlcy5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmVUZXh0KGNtLCBsaW5lVmlldykge1xuICB2YXIgY2xzID0gbGluZVZpZXcudGV4dC5jbGFzc05hbWVcbiAgdmFyIGJ1aWx0ID0gZ2V0TGluZUNvbnRlbnQoY20sIGxpbmVWaWV3KVxuICBpZiAobGluZVZpZXcudGV4dCA9PSBsaW5lVmlldy5ub2RlKSB7IGxpbmVWaWV3Lm5vZGUgPSBidWlsdC5wcmUgfVxuICBsaW5lVmlldy50ZXh0LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGJ1aWx0LnByZSwgbGluZVZpZXcudGV4dClcbiAgbGluZVZpZXcudGV4dCA9IGJ1aWx0LnByZVxuICBpZiAoYnVpbHQuYmdDbGFzcyAhPSBsaW5lVmlldy5iZ0NsYXNzIHx8IGJ1aWx0LnRleHRDbGFzcyAhPSBsaW5lVmlldy50ZXh0Q2xhc3MpIHtcbiAgICBsaW5lVmlldy5iZ0NsYXNzID0gYnVpbHQuYmdDbGFzc1xuICAgIGxpbmVWaWV3LnRleHRDbGFzcyA9IGJ1aWx0LnRleHRDbGFzc1xuICAgIHVwZGF0ZUxpbmVDbGFzc2VzKGxpbmVWaWV3KVxuICB9IGVsc2UgaWYgKGNscykge1xuICAgIGxpbmVWaWV3LnRleHQuY2xhc3NOYW1lID0gY2xzXG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluZUNsYXNzZXMobGluZVZpZXcpIHtcbiAgdXBkYXRlTGluZUJhY2tncm91bmQobGluZVZpZXcpXG4gIGlmIChsaW5lVmlldy5saW5lLndyYXBDbGFzcylcbiAgICB7IGVuc3VyZUxpbmVXcmFwcGVkKGxpbmVWaWV3KS5jbGFzc05hbWUgPSBsaW5lVmlldy5saW5lLndyYXBDbGFzcyB9XG4gIGVsc2UgaWYgKGxpbmVWaWV3Lm5vZGUgIT0gbGluZVZpZXcudGV4dClcbiAgICB7IGxpbmVWaWV3Lm5vZGUuY2xhc3NOYW1lID0gXCJcIiB9XG4gIHZhciB0ZXh0Q2xhc3MgPSBsaW5lVmlldy50ZXh0Q2xhc3MgPyBsaW5lVmlldy50ZXh0Q2xhc3MgKyBcIiBcIiArIChsaW5lVmlldy5saW5lLnRleHRDbGFzcyB8fCBcIlwiKSA6IGxpbmVWaWV3LmxpbmUudGV4dENsYXNzXG4gIGxpbmVWaWV3LnRleHQuY2xhc3NOYW1lID0gdGV4dENsYXNzIHx8IFwiXCJcbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluZUd1dHRlcihjbSwgbGluZVZpZXcsIGxpbmVOLCBkaW1zKSB7XG4gIGlmIChsaW5lVmlldy5ndXR0ZXIpIHtcbiAgICBsaW5lVmlldy5ub2RlLnJlbW92ZUNoaWxkKGxpbmVWaWV3Lmd1dHRlcilcbiAgICBsaW5lVmlldy5ndXR0ZXIgPSBudWxsXG4gIH1cbiAgaWYgKGxpbmVWaWV3Lmd1dHRlckJhY2tncm91bmQpIHtcbiAgICBsaW5lVmlldy5ub2RlLnJlbW92ZUNoaWxkKGxpbmVWaWV3Lmd1dHRlckJhY2tncm91bmQpXG4gICAgbGluZVZpZXcuZ3V0dGVyQmFja2dyb3VuZCA9IG51bGxcbiAgfVxuICBpZiAobGluZVZpZXcubGluZS5ndXR0ZXJDbGFzcykge1xuICAgIHZhciB3cmFwID0gZW5zdXJlTGluZVdyYXBwZWQobGluZVZpZXcpXG4gICAgbGluZVZpZXcuZ3V0dGVyQmFja2dyb3VuZCA9IGVsdChcImRpdlwiLCBudWxsLCBcIkNvZGVNaXJyb3ItZ3V0dGVyLWJhY2tncm91bmQgXCIgKyBsaW5lVmlldy5saW5lLmd1dHRlckNsYXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKFwibGVmdDogXCIgKyAoY20ub3B0aW9ucy5maXhlZEd1dHRlciA/IGRpbXMuZml4ZWRQb3MgOiAtZGltcy5ndXR0ZXJUb3RhbFdpZHRoKSArIFwicHg7IHdpZHRoOiBcIiArIChkaW1zLmd1dHRlclRvdGFsV2lkdGgpICsgXCJweFwiKSlcbiAgICB3cmFwLmluc2VydEJlZm9yZShsaW5lVmlldy5ndXR0ZXJCYWNrZ3JvdW5kLCBsaW5lVmlldy50ZXh0KVxuICB9XG4gIHZhciBtYXJrZXJzID0gbGluZVZpZXcubGluZS5ndXR0ZXJNYXJrZXJzXG4gIGlmIChjbS5vcHRpb25zLmxpbmVOdW1iZXJzIHx8IG1hcmtlcnMpIHtcbiAgICB2YXIgd3JhcCQxID0gZW5zdXJlTGluZVdyYXBwZWQobGluZVZpZXcpXG4gICAgdmFyIGd1dHRlcldyYXAgPSBsaW5lVmlldy5ndXR0ZXIgPSBlbHQoXCJkaXZcIiwgbnVsbCwgXCJDb2RlTWlycm9yLWd1dHRlci13cmFwcGVyXCIsIChcImxlZnQ6IFwiICsgKGNtLm9wdGlvbnMuZml4ZWRHdXR0ZXIgPyBkaW1zLmZpeGVkUG9zIDogLWRpbXMuZ3V0dGVyVG90YWxXaWR0aCkgKyBcInB4XCIpKVxuICAgIGNtLmRpc3BsYXkuaW5wdXQuc2V0VW5lZGl0YWJsZShndXR0ZXJXcmFwKVxuICAgIHdyYXAkMS5pbnNlcnRCZWZvcmUoZ3V0dGVyV3JhcCwgbGluZVZpZXcudGV4dClcbiAgICBpZiAobGluZVZpZXcubGluZS5ndXR0ZXJDbGFzcylcbiAgICAgIHsgZ3V0dGVyV3JhcC5jbGFzc05hbWUgKz0gXCIgXCIgKyBsaW5lVmlldy5saW5lLmd1dHRlckNsYXNzIH1cbiAgICBpZiAoY20ub3B0aW9ucy5saW5lTnVtYmVycyAmJiAoIW1hcmtlcnMgfHwgIW1hcmtlcnNbXCJDb2RlTWlycm9yLWxpbmVudW1iZXJzXCJdKSlcbiAgICAgIHsgbGluZVZpZXcubGluZU51bWJlciA9IGd1dHRlcldyYXAuYXBwZW5kQ2hpbGQoXG4gICAgICAgIGVsdChcImRpdlwiLCBsaW5lTnVtYmVyRm9yKGNtLm9wdGlvbnMsIGxpbmVOKSxcbiAgICAgICAgICAgIFwiQ29kZU1pcnJvci1saW5lbnVtYmVyIENvZGVNaXJyb3ItZ3V0dGVyLWVsdFwiLFxuICAgICAgICAgICAgKFwibGVmdDogXCIgKyAoZGltcy5ndXR0ZXJMZWZ0W1wiQ29kZU1pcnJvci1saW5lbnVtYmVyc1wiXSkgKyBcInB4OyB3aWR0aDogXCIgKyAoY20uZGlzcGxheS5saW5lTnVtSW5uZXJXaWR0aCkgKyBcInB4XCIpKSkgfVxuICAgIGlmIChtYXJrZXJzKSB7IGZvciAodmFyIGsgPSAwOyBrIDwgY20ub3B0aW9ucy5ndXR0ZXJzLmxlbmd0aDsgKytrKSB7XG4gICAgICB2YXIgaWQgPSBjbS5vcHRpb25zLmd1dHRlcnNba10sIGZvdW5kID0gbWFya2Vycy5oYXNPd25Qcm9wZXJ0eShpZCkgJiYgbWFya2Vyc1tpZF1cbiAgICAgIGlmIChmb3VuZClcbiAgICAgICAgeyBndXR0ZXJXcmFwLmFwcGVuZENoaWxkKGVsdChcImRpdlwiLCBbZm91bmRdLCBcIkNvZGVNaXJyb3ItZ3V0dGVyLWVsdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXCJsZWZ0OiBcIiArIChkaW1zLmd1dHRlckxlZnRbaWRdKSArIFwicHg7IHdpZHRoOiBcIiArIChkaW1zLmd1dHRlcldpZHRoW2lkXSkgKyBcInB4XCIpKSkgfVxuICAgIH0gfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmVXaWRnZXRzKGNtLCBsaW5lVmlldywgZGltcykge1xuICBpZiAobGluZVZpZXcuYWxpZ25hYmxlKSB7IGxpbmVWaWV3LmFsaWduYWJsZSA9IG51bGwgfVxuICBmb3IgKHZhciBub2RlID0gbGluZVZpZXcubm9kZS5maXJzdENoaWxkLCBuZXh0ID0gKHZvaWQgMCk7IG5vZGU7IG5vZGUgPSBuZXh0KSB7XG4gICAgbmV4dCA9IG5vZGUubmV4dFNpYmxpbmdcbiAgICBpZiAobm9kZS5jbGFzc05hbWUgPT0gXCJDb2RlTWlycm9yLWxpbmV3aWRnZXRcIilcbiAgICAgIHsgbGluZVZpZXcubm9kZS5yZW1vdmVDaGlsZChub2RlKSB9XG4gIH1cbiAgaW5zZXJ0TGluZVdpZGdldHMoY20sIGxpbmVWaWV3LCBkaW1zKVxufVxuXG4vLyBCdWlsZCBhIGxpbmUncyBET00gcmVwcmVzZW50YXRpb24gZnJvbSBzY3JhdGNoXG5mdW5jdGlvbiBidWlsZExpbmVFbGVtZW50KGNtLCBsaW5lVmlldywgbGluZU4sIGRpbXMpIHtcbiAgdmFyIGJ1aWx0ID0gZ2V0TGluZUNvbnRlbnQoY20sIGxpbmVWaWV3KVxuICBsaW5lVmlldy50ZXh0ID0gbGluZVZpZXcubm9kZSA9IGJ1aWx0LnByZVxuICBpZiAoYnVpbHQuYmdDbGFzcykgeyBsaW5lVmlldy5iZ0NsYXNzID0gYnVpbHQuYmdDbGFzcyB9XG4gIGlmIChidWlsdC50ZXh0Q2xhc3MpIHsgbGluZVZpZXcudGV4dENsYXNzID0gYnVpbHQudGV4dENsYXNzIH1cblxuICB1cGRhdGVMaW5lQ2xhc3NlcyhsaW5lVmlldylcbiAgdXBkYXRlTGluZUd1dHRlcihjbSwgbGluZVZpZXcsIGxpbmVOLCBkaW1zKVxuICBpbnNlcnRMaW5lV2lkZ2V0cyhjbSwgbGluZVZpZXcsIGRpbXMpXG4gIHJldHVybiBsaW5lVmlldy5ub2RlXG59XG5cbi8vIEEgbGluZVZpZXcgbWF5IGNvbnRhaW4gbXVsdGlwbGUgbG9naWNhbCBsaW5lcyAod2hlbiBtZXJnZWQgYnlcbi8vIGNvbGxhcHNlZCBzcGFucykuIFRoZSB3aWRnZXRzIGZvciBhbGwgb2YgdGhlbSBuZWVkIHRvIGJlIGRyYXduLlxuZnVuY3Rpb24gaW5zZXJ0TGluZVdpZGdldHMoY20sIGxpbmVWaWV3LCBkaW1zKSB7XG4gIGluc2VydExpbmVXaWRnZXRzRm9yKGNtLCBsaW5lVmlldy5saW5lLCBsaW5lVmlldywgZGltcywgdHJ1ZSlcbiAgaWYgKGxpbmVWaWV3LnJlc3QpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lVmlldy5yZXN0Lmxlbmd0aDsgaSsrKVxuICAgIHsgaW5zZXJ0TGluZVdpZGdldHNGb3IoY20sIGxpbmVWaWV3LnJlc3RbaV0sIGxpbmVWaWV3LCBkaW1zLCBmYWxzZSkgfSB9XG59XG5cbmZ1bmN0aW9uIGluc2VydExpbmVXaWRnZXRzRm9yKGNtLCBsaW5lLCBsaW5lVmlldywgZGltcywgYWxsb3dBYm92ZSkge1xuICBpZiAoIWxpbmUud2lkZ2V0cykgeyByZXR1cm4gfVxuICB2YXIgd3JhcCA9IGVuc3VyZUxpbmVXcmFwcGVkKGxpbmVWaWV3KVxuICBmb3IgKHZhciBpID0gMCwgd3MgPSBsaW5lLndpZGdldHM7IGkgPCB3cy5sZW5ndGg7ICsraSkge1xuICAgIHZhciB3aWRnZXQgPSB3c1tpXSwgbm9kZSA9IGVsdChcImRpdlwiLCBbd2lkZ2V0Lm5vZGVdLCBcIkNvZGVNaXJyb3ItbGluZXdpZGdldFwiKVxuICAgIGlmICghd2lkZ2V0LmhhbmRsZU1vdXNlRXZlbnRzKSB7IG5vZGUuc2V0QXR0cmlidXRlKFwiY20taWdub3JlLWV2ZW50c1wiLCBcInRydWVcIikgfVxuICAgIHBvc2l0aW9uTGluZVdpZGdldCh3aWRnZXQsIG5vZGUsIGxpbmVWaWV3LCBkaW1zKVxuICAgIGNtLmRpc3BsYXkuaW5wdXQuc2V0VW5lZGl0YWJsZShub2RlKVxuICAgIGlmIChhbGxvd0Fib3ZlICYmIHdpZGdldC5hYm92ZSlcbiAgICAgIHsgd3JhcC5pbnNlcnRCZWZvcmUobm9kZSwgbGluZVZpZXcuZ3V0dGVyIHx8IGxpbmVWaWV3LnRleHQpIH1cbiAgICBlbHNlXG4gICAgICB7IHdyYXAuYXBwZW5kQ2hpbGQobm9kZSkgfVxuICAgIHNpZ25hbExhdGVyKHdpZGdldCwgXCJyZWRyYXdcIilcbiAgfVxufVxuXG5mdW5jdGlvbiBwb3NpdGlvbkxpbmVXaWRnZXQod2lkZ2V0LCBub2RlLCBsaW5lVmlldywgZGltcykge1xuICBpZiAod2lkZ2V0Lm5vSFNjcm9sbCkge1xuICAgIDsobGluZVZpZXcuYWxpZ25hYmxlIHx8IChsaW5lVmlldy5hbGlnbmFibGUgPSBbXSkpLnB1c2gobm9kZSlcbiAgICB2YXIgd2lkdGggPSBkaW1zLndyYXBwZXJXaWR0aFxuICAgIG5vZGUuc3R5bGUubGVmdCA9IGRpbXMuZml4ZWRQb3MgKyBcInB4XCJcbiAgICBpZiAoIXdpZGdldC5jb3Zlckd1dHRlcikge1xuICAgICAgd2lkdGggLT0gZGltcy5ndXR0ZXJUb3RhbFdpZHRoXG4gICAgICBub2RlLnN0eWxlLnBhZGRpbmdMZWZ0ID0gZGltcy5ndXR0ZXJUb3RhbFdpZHRoICsgXCJweFwiXG4gICAgfVxuICAgIG5vZGUuc3R5bGUud2lkdGggPSB3aWR0aCArIFwicHhcIlxuICB9XG4gIGlmICh3aWRnZXQuY292ZXJHdXR0ZXIpIHtcbiAgICBub2RlLnN0eWxlLnpJbmRleCA9IDVcbiAgICBub2RlLnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiXG4gICAgaWYgKCF3aWRnZXQubm9IU2Nyb2xsKSB7IG5vZGUuc3R5bGUubWFyZ2luTGVmdCA9IC1kaW1zLmd1dHRlclRvdGFsV2lkdGggKyBcInB4XCIgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHdpZGdldEhlaWdodCh3aWRnZXQpIHtcbiAgaWYgKHdpZGdldC5oZWlnaHQgIT0gbnVsbCkgeyByZXR1cm4gd2lkZ2V0LmhlaWdodCB9XG4gIHZhciBjbSA9IHdpZGdldC5kb2MuY21cbiAgaWYgKCFjbSkgeyByZXR1cm4gMCB9XG4gIGlmICghY29udGFpbnMoZG9jdW1lbnQuYm9keSwgd2lkZ2V0Lm5vZGUpKSB7XG4gICAgdmFyIHBhcmVudFN0eWxlID0gXCJwb3NpdGlvbjogcmVsYXRpdmU7XCJcbiAgICBpZiAod2lkZ2V0LmNvdmVyR3V0dGVyKVxuICAgICAgeyBwYXJlbnRTdHlsZSArPSBcIm1hcmdpbi1sZWZ0OiAtXCIgKyBjbS5kaXNwbGF5Lmd1dHRlcnMub2Zmc2V0V2lkdGggKyBcInB4O1wiIH1cbiAgICBpZiAod2lkZ2V0Lm5vSFNjcm9sbClcbiAgICAgIHsgcGFyZW50U3R5bGUgKz0gXCJ3aWR0aDogXCIgKyBjbS5kaXNwbGF5LndyYXBwZXIuY2xpZW50V2lkdGggKyBcInB4O1wiIH1cbiAgICByZW1vdmVDaGlsZHJlbkFuZEFkZChjbS5kaXNwbGF5Lm1lYXN1cmUsIGVsdChcImRpdlwiLCBbd2lkZ2V0Lm5vZGVdLCBudWxsLCBwYXJlbnRTdHlsZSkpXG4gIH1cbiAgcmV0dXJuIHdpZGdldC5oZWlnaHQgPSB3aWRnZXQubm9kZS5wYXJlbnROb2RlLm9mZnNldEhlaWdodFxufVxuXG4vLyBSZXR1cm4gdHJ1ZSB3aGVuIHRoZSBnaXZlbiBtb3VzZSBldmVudCBoYXBwZW5lZCBpbiBhIHdpZGdldFxuZnVuY3Rpb24gZXZlbnRJbldpZGdldChkaXNwbGF5LCBlKSB7XG4gIGZvciAodmFyIG4gPSBlX3RhcmdldChlKTsgbiAhPSBkaXNwbGF5LndyYXBwZXI7IG4gPSBuLnBhcmVudE5vZGUpIHtcbiAgICBpZiAoIW4gfHwgKG4ubm9kZVR5cGUgPT0gMSAmJiBuLmdldEF0dHJpYnV0ZShcImNtLWlnbm9yZS1ldmVudHNcIikgPT0gXCJ0cnVlXCIpIHx8XG4gICAgICAgIChuLnBhcmVudE5vZGUgPT0gZGlzcGxheS5zaXplciAmJiBuICE9IGRpc3BsYXkubW92ZXIpKVxuICAgICAgeyByZXR1cm4gdHJ1ZSB9XG4gIH1cbn1cblxuLy8gUE9TSVRJT04gTUVBU1VSRU1FTlRcblxuZnVuY3Rpb24gcGFkZGluZ1RvcChkaXNwbGF5KSB7cmV0dXJuIGRpc3BsYXkubGluZVNwYWNlLm9mZnNldFRvcH1cbmZ1bmN0aW9uIHBhZGRpbmdWZXJ0KGRpc3BsYXkpIHtyZXR1cm4gZGlzcGxheS5tb3Zlci5vZmZzZXRIZWlnaHQgLSBkaXNwbGF5LmxpbmVTcGFjZS5vZmZzZXRIZWlnaHR9XG5mdW5jdGlvbiBwYWRkaW5nSChkaXNwbGF5KSB7XG4gIGlmIChkaXNwbGF5LmNhY2hlZFBhZGRpbmdIKSB7IHJldHVybiBkaXNwbGF5LmNhY2hlZFBhZGRpbmdIIH1cbiAgdmFyIGUgPSByZW1vdmVDaGlsZHJlbkFuZEFkZChkaXNwbGF5Lm1lYXN1cmUsIGVsdChcInByZVwiLCBcInhcIikpXG4gIHZhciBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlID8gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZSkgOiBlLmN1cnJlbnRTdHlsZVxuICB2YXIgZGF0YSA9IHtsZWZ0OiBwYXJzZUludChzdHlsZS5wYWRkaW5nTGVmdCksIHJpZ2h0OiBwYXJzZUludChzdHlsZS5wYWRkaW5nUmlnaHQpfVxuICBpZiAoIWlzTmFOKGRhdGEubGVmdCkgJiYgIWlzTmFOKGRhdGEucmlnaHQpKSB7IGRpc3BsYXkuY2FjaGVkUGFkZGluZ0ggPSBkYXRhIH1cbiAgcmV0dXJuIGRhdGFcbn1cblxuZnVuY3Rpb24gc2Nyb2xsR2FwKGNtKSB7IHJldHVybiBzY3JvbGxlckdhcCAtIGNtLmRpc3BsYXkubmF0aXZlQmFyV2lkdGggfVxuZnVuY3Rpb24gZGlzcGxheVdpZHRoKGNtKSB7XG4gIHJldHVybiBjbS5kaXNwbGF5LnNjcm9sbGVyLmNsaWVudFdpZHRoIC0gc2Nyb2xsR2FwKGNtKSAtIGNtLmRpc3BsYXkuYmFyV2lkdGhcbn1cbmZ1bmN0aW9uIGRpc3BsYXlIZWlnaHQoY20pIHtcbiAgcmV0dXJuIGNtLmRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50SGVpZ2h0IC0gc2Nyb2xsR2FwKGNtKSAtIGNtLmRpc3BsYXkuYmFySGVpZ2h0XG59XG5cbi8vIEVuc3VyZSB0aGUgbGluZVZpZXcud3JhcHBpbmcuaGVpZ2h0cyBhcnJheSBpcyBwb3B1bGF0ZWQuIFRoaXMgaXNcbi8vIGFuIGFycmF5IG9mIGJvdHRvbSBvZmZzZXRzIGZvciB0aGUgbGluZXMgdGhhdCBtYWtlIHVwIGEgZHJhd25cbi8vIGxpbmUuIFdoZW4gbGluZVdyYXBwaW5nIGlzIG9uLCB0aGVyZSBtaWdodCBiZSBtb3JlIHRoYW4gb25lXG4vLyBoZWlnaHQuXG5mdW5jdGlvbiBlbnN1cmVMaW5lSGVpZ2h0cyhjbSwgbGluZVZpZXcsIHJlY3QpIHtcbiAgdmFyIHdyYXBwaW5nID0gY20ub3B0aW9ucy5saW5lV3JhcHBpbmdcbiAgdmFyIGN1cldpZHRoID0gd3JhcHBpbmcgJiYgZGlzcGxheVdpZHRoKGNtKVxuICBpZiAoIWxpbmVWaWV3Lm1lYXN1cmUuaGVpZ2h0cyB8fCB3cmFwcGluZyAmJiBsaW5lVmlldy5tZWFzdXJlLndpZHRoICE9IGN1cldpZHRoKSB7XG4gICAgdmFyIGhlaWdodHMgPSBsaW5lVmlldy5tZWFzdXJlLmhlaWdodHMgPSBbXVxuICAgIGlmICh3cmFwcGluZykge1xuICAgICAgbGluZVZpZXcubWVhc3VyZS53aWR0aCA9IGN1cldpZHRoXG4gICAgICB2YXIgcmVjdHMgPSBsaW5lVmlldy50ZXh0LmZpcnN0Q2hpbGQuZ2V0Q2xpZW50UmVjdHMoKVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWN0cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgdmFyIGN1ciA9IHJlY3RzW2ldLCBuZXh0ID0gcmVjdHNbaSArIDFdXG4gICAgICAgIGlmIChNYXRoLmFicyhjdXIuYm90dG9tIC0gbmV4dC5ib3R0b20pID4gMilcbiAgICAgICAgICB7IGhlaWdodHMucHVzaCgoY3VyLmJvdHRvbSArIG5leHQudG9wKSAvIDIgLSByZWN0LnRvcCkgfVxuICAgICAgfVxuICAgIH1cbiAgICBoZWlnaHRzLnB1c2gocmVjdC5ib3R0b20gLSByZWN0LnRvcClcbiAgfVxufVxuXG4vLyBGaW5kIGEgbGluZSBtYXAgKG1hcHBpbmcgY2hhcmFjdGVyIG9mZnNldHMgdG8gdGV4dCBub2RlcykgYW5kIGFcbi8vIG1lYXN1cmVtZW50IGNhY2hlIGZvciB0aGUgZ2l2ZW4gbGluZSBudW1iZXIuIChBIGxpbmUgdmlldyBtaWdodFxuLy8gY29udGFpbiBtdWx0aXBsZSBsaW5lcyB3aGVuIGNvbGxhcHNlZCByYW5nZXMgYXJlIHByZXNlbnQuKVxuZnVuY3Rpb24gbWFwRnJvbUxpbmVWaWV3KGxpbmVWaWV3LCBsaW5lLCBsaW5lTikge1xuICBpZiAobGluZVZpZXcubGluZSA9PSBsaW5lKVxuICAgIHsgcmV0dXJuIHttYXA6IGxpbmVWaWV3Lm1lYXN1cmUubWFwLCBjYWNoZTogbGluZVZpZXcubWVhc3VyZS5jYWNoZX0gfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVWaWV3LnJlc3QubGVuZ3RoOyBpKyspXG4gICAgeyBpZiAobGluZVZpZXcucmVzdFtpXSA9PSBsaW5lKVxuICAgICAgeyByZXR1cm4ge21hcDogbGluZVZpZXcubWVhc3VyZS5tYXBzW2ldLCBjYWNoZTogbGluZVZpZXcubWVhc3VyZS5jYWNoZXNbaV19IH0gfVxuICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBsaW5lVmlldy5yZXN0Lmxlbmd0aDsgaSQxKyspXG4gICAgeyBpZiAobGluZU5vKGxpbmVWaWV3LnJlc3RbaSQxXSkgPiBsaW5lTilcbiAgICAgIHsgcmV0dXJuIHttYXA6IGxpbmVWaWV3Lm1lYXN1cmUubWFwc1tpJDFdLCBjYWNoZTogbGluZVZpZXcubWVhc3VyZS5jYWNoZXNbaSQxXSwgYmVmb3JlOiB0cnVlfSB9IH1cbn1cblxuLy8gUmVuZGVyIGEgbGluZSBpbnRvIHRoZSBoaWRkZW4gbm9kZSBkaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQuIFVzZWRcbi8vIHdoZW4gbWVhc3VyZW1lbnQgaXMgbmVlZGVkIGZvciBhIGxpbmUgdGhhdCdzIG5vdCBpbiB0aGUgdmlld3BvcnQuXG5mdW5jdGlvbiB1cGRhdGVFeHRlcm5hbE1lYXN1cmVtZW50KGNtLCBsaW5lKSB7XG4gIGxpbmUgPSB2aXN1YWxMaW5lKGxpbmUpXG4gIHZhciBsaW5lTiA9IGxpbmVObyhsaW5lKVxuICB2YXIgdmlldyA9IGNtLmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZCA9IG5ldyBMaW5lVmlldyhjbS5kb2MsIGxpbmUsIGxpbmVOKVxuICB2aWV3LmxpbmVOID0gbGluZU5cbiAgdmFyIGJ1aWx0ID0gdmlldy5idWlsdCA9IGJ1aWxkTGluZUNvbnRlbnQoY20sIHZpZXcpXG4gIHZpZXcudGV4dCA9IGJ1aWx0LnByZVxuICByZW1vdmVDaGlsZHJlbkFuZEFkZChjbS5kaXNwbGF5LmxpbmVNZWFzdXJlLCBidWlsdC5wcmUpXG4gIHJldHVybiB2aWV3XG59XG5cbi8vIEdldCBhIHt0b3AsIGJvdHRvbSwgbGVmdCwgcmlnaHR9IGJveCAoaW4gbGluZS1sb2NhbCBjb29yZGluYXRlcylcbi8vIGZvciBhIGdpdmVuIGNoYXJhY3Rlci5cbmZ1bmN0aW9uIG1lYXN1cmVDaGFyKGNtLCBsaW5lLCBjaCwgYmlhcykge1xuICByZXR1cm4gbWVhc3VyZUNoYXJQcmVwYXJlZChjbSwgcHJlcGFyZU1lYXN1cmVGb3JMaW5lKGNtLCBsaW5lKSwgY2gsIGJpYXMpXG59XG5cbi8vIEZpbmQgYSBsaW5lIHZpZXcgdGhhdCBjb3JyZXNwb25kcyB0byB0aGUgZ2l2ZW4gbGluZSBudW1iZXIuXG5mdW5jdGlvbiBmaW5kVmlld0ZvckxpbmUoY20sIGxpbmVOKSB7XG4gIGlmIChsaW5lTiA+PSBjbS5kaXNwbGF5LnZpZXdGcm9tICYmIGxpbmVOIDwgY20uZGlzcGxheS52aWV3VG8pXG4gICAgeyByZXR1cm4gY20uZGlzcGxheS52aWV3W2ZpbmRWaWV3SW5kZXgoY20sIGxpbmVOKV0gfVxuICB2YXIgZXh0ID0gY20uZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkXG4gIGlmIChleHQgJiYgbGluZU4gPj0gZXh0LmxpbmVOICYmIGxpbmVOIDwgZXh0LmxpbmVOICsgZXh0LnNpemUpXG4gICAgeyByZXR1cm4gZXh0IH1cbn1cblxuLy8gTWVhc3VyZW1lbnQgY2FuIGJlIHNwbGl0IGluIHR3byBzdGVwcywgdGhlIHNldC11cCB3b3JrIHRoYXRcbi8vIGFwcGxpZXMgdG8gdGhlIHdob2xlIGxpbmUsIGFuZCB0aGUgbWVhc3VyZW1lbnQgb2YgdGhlIGFjdHVhbFxuLy8gY2hhcmFjdGVyLiBGdW5jdGlvbnMgbGlrZSBjb29yZHNDaGFyLCB0aGF0IG5lZWQgdG8gZG8gYSBsb3Qgb2Zcbi8vIG1lYXN1cmVtZW50cyBpbiBhIHJvdywgY2FuIHRodXMgZW5zdXJlIHRoYXQgdGhlIHNldC11cCB3b3JrIGlzXG4vLyBvbmx5IGRvbmUgb25jZS5cbmZ1bmN0aW9uIHByZXBhcmVNZWFzdXJlRm9yTGluZShjbSwgbGluZSkge1xuICB2YXIgbGluZU4gPSBsaW5lTm8obGluZSlcbiAgdmFyIHZpZXcgPSBmaW5kVmlld0ZvckxpbmUoY20sIGxpbmVOKVxuICBpZiAodmlldyAmJiAhdmlldy50ZXh0KSB7XG4gICAgdmlldyA9IG51bGxcbiAgfSBlbHNlIGlmICh2aWV3ICYmIHZpZXcuY2hhbmdlcykge1xuICAgIHVwZGF0ZUxpbmVGb3JDaGFuZ2VzKGNtLCB2aWV3LCBsaW5lTiwgZ2V0RGltZW5zaW9ucyhjbSkpXG4gICAgY20uY3VyT3AuZm9yY2VVcGRhdGUgPSB0cnVlXG4gIH1cbiAgaWYgKCF2aWV3KVxuICAgIHsgdmlldyA9IHVwZGF0ZUV4dGVybmFsTWVhc3VyZW1lbnQoY20sIGxpbmUpIH1cblxuICB2YXIgaW5mbyA9IG1hcEZyb21MaW5lVmlldyh2aWV3LCBsaW5lLCBsaW5lTilcbiAgcmV0dXJuIHtcbiAgICBsaW5lOiBsaW5lLCB2aWV3OiB2aWV3LCByZWN0OiBudWxsLFxuICAgIG1hcDogaW5mby5tYXAsIGNhY2hlOiBpbmZvLmNhY2hlLCBiZWZvcmU6IGluZm8uYmVmb3JlLFxuICAgIGhhc0hlaWdodHM6IGZhbHNlXG4gIH1cbn1cblxuLy8gR2l2ZW4gYSBwcmVwYXJlZCBtZWFzdXJlbWVudCBvYmplY3QsIG1lYXN1cmVzIHRoZSBwb3NpdGlvbiBvZiBhblxuLy8gYWN0dWFsIGNoYXJhY3RlciAob3IgZmV0Y2hlcyBpdCBmcm9tIHRoZSBjYWNoZSkuXG5mdW5jdGlvbiBtZWFzdXJlQ2hhclByZXBhcmVkKGNtLCBwcmVwYXJlZCwgY2gsIGJpYXMsIHZhckhlaWdodCkge1xuICBpZiAocHJlcGFyZWQuYmVmb3JlKSB7IGNoID0gLTEgfVxuICB2YXIga2V5ID0gY2ggKyAoYmlhcyB8fCBcIlwiKSwgZm91bmRcbiAgaWYgKHByZXBhcmVkLmNhY2hlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICBmb3VuZCA9IHByZXBhcmVkLmNhY2hlW2tleV1cbiAgfSBlbHNlIHtcbiAgICBpZiAoIXByZXBhcmVkLnJlY3QpXG4gICAgICB7IHByZXBhcmVkLnJlY3QgPSBwcmVwYXJlZC52aWV3LnRleHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgfVxuICAgIGlmICghcHJlcGFyZWQuaGFzSGVpZ2h0cykge1xuICAgICAgZW5zdXJlTGluZUhlaWdodHMoY20sIHByZXBhcmVkLnZpZXcsIHByZXBhcmVkLnJlY3QpXG4gICAgICBwcmVwYXJlZC5oYXNIZWlnaHRzID0gdHJ1ZVxuICAgIH1cbiAgICBmb3VuZCA9IG1lYXN1cmVDaGFySW5uZXIoY20sIHByZXBhcmVkLCBjaCwgYmlhcylcbiAgICBpZiAoIWZvdW5kLmJvZ3VzKSB7IHByZXBhcmVkLmNhY2hlW2tleV0gPSBmb3VuZCB9XG4gIH1cbiAgcmV0dXJuIHtsZWZ0OiBmb3VuZC5sZWZ0LCByaWdodDogZm91bmQucmlnaHQsXG4gICAgICAgICAgdG9wOiB2YXJIZWlnaHQgPyBmb3VuZC5ydG9wIDogZm91bmQudG9wLFxuICAgICAgICAgIGJvdHRvbTogdmFySGVpZ2h0ID8gZm91bmQucmJvdHRvbSA6IGZvdW5kLmJvdHRvbX1cbn1cblxudmFyIG51bGxSZWN0ID0ge2xlZnQ6IDAsIHJpZ2h0OiAwLCB0b3A6IDAsIGJvdHRvbTogMH1cblxuZnVuY3Rpb24gbm9kZUFuZE9mZnNldEluTGluZU1hcChtYXAsIGNoLCBiaWFzKSB7XG4gIHZhciBub2RlLCBzdGFydCwgZW5kLCBjb2xsYXBzZSwgbVN0YXJ0LCBtRW5kXG4gIC8vIEZpcnN0LCBzZWFyY2ggdGhlIGxpbmUgbWFwIGZvciB0aGUgdGV4dCBub2RlIGNvcnJlc3BvbmRpbmcgdG8sXG4gIC8vIG9yIGNsb3Nlc3QgdG8sIHRoZSB0YXJnZXQgY2hhcmFjdGVyLlxuICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcC5sZW5ndGg7IGkgKz0gMykge1xuICAgIG1TdGFydCA9IG1hcFtpXVxuICAgIG1FbmQgPSBtYXBbaSArIDFdXG4gICAgaWYgKGNoIDwgbVN0YXJ0KSB7XG4gICAgICBzdGFydCA9IDA7IGVuZCA9IDFcbiAgICAgIGNvbGxhcHNlID0gXCJsZWZ0XCJcbiAgICB9IGVsc2UgaWYgKGNoIDwgbUVuZCkge1xuICAgICAgc3RhcnQgPSBjaCAtIG1TdGFydFxuICAgICAgZW5kID0gc3RhcnQgKyAxXG4gICAgfSBlbHNlIGlmIChpID09IG1hcC5sZW5ndGggLSAzIHx8IGNoID09IG1FbmQgJiYgbWFwW2kgKyAzXSA+IGNoKSB7XG4gICAgICBlbmQgPSBtRW5kIC0gbVN0YXJ0XG4gICAgICBzdGFydCA9IGVuZCAtIDFcbiAgICAgIGlmIChjaCA+PSBtRW5kKSB7IGNvbGxhcHNlID0gXCJyaWdodFwiIH1cbiAgICB9XG4gICAgaWYgKHN0YXJ0ICE9IG51bGwpIHtcbiAgICAgIG5vZGUgPSBtYXBbaSArIDJdXG4gICAgICBpZiAobVN0YXJ0ID09IG1FbmQgJiYgYmlhcyA9PSAobm9kZS5pbnNlcnRMZWZ0ID8gXCJsZWZ0XCIgOiBcInJpZ2h0XCIpKVxuICAgICAgICB7IGNvbGxhcHNlID0gYmlhcyB9XG4gICAgICBpZiAoYmlhcyA9PSBcImxlZnRcIiAmJiBzdGFydCA9PSAwKVxuICAgICAgICB7IHdoaWxlIChpICYmIG1hcFtpIC0gMl0gPT0gbWFwW2kgLSAzXSAmJiBtYXBbaSAtIDFdLmluc2VydExlZnQpIHtcbiAgICAgICAgICBub2RlID0gbWFwWyhpIC09IDMpICsgMl1cbiAgICAgICAgICBjb2xsYXBzZSA9IFwibGVmdFwiXG4gICAgICAgIH0gfVxuICAgICAgaWYgKGJpYXMgPT0gXCJyaWdodFwiICYmIHN0YXJ0ID09IG1FbmQgLSBtU3RhcnQpXG4gICAgICAgIHsgd2hpbGUgKGkgPCBtYXAubGVuZ3RoIC0gMyAmJiBtYXBbaSArIDNdID09IG1hcFtpICsgNF0gJiYgIW1hcFtpICsgNV0uaW5zZXJ0TGVmdCkge1xuICAgICAgICAgIG5vZGUgPSBtYXBbKGkgKz0gMykgKyAyXVxuICAgICAgICAgIGNvbGxhcHNlID0gXCJyaWdodFwiXG4gICAgICAgIH0gfVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtub2RlOiBub2RlLCBzdGFydDogc3RhcnQsIGVuZDogZW5kLCBjb2xsYXBzZTogY29sbGFwc2UsIGNvdmVyU3RhcnQ6IG1TdGFydCwgY292ZXJFbmQ6IG1FbmR9XG59XG5cbmZ1bmN0aW9uIGdldFVzZWZ1bFJlY3QocmVjdHMsIGJpYXMpIHtcbiAgdmFyIHJlY3QgPSBudWxsUmVjdFxuICBpZiAoYmlhcyA9PSBcImxlZnRcIikgeyBmb3IgKHZhciBpID0gMDsgaSA8IHJlY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKChyZWN0ID0gcmVjdHNbaV0pLmxlZnQgIT0gcmVjdC5yaWdodCkgeyBicmVhayB9XG4gIH0gfSBlbHNlIHsgZm9yICh2YXIgaSQxID0gcmVjdHMubGVuZ3RoIC0gMTsgaSQxID49IDA7IGkkMS0tKSB7XG4gICAgaWYgKChyZWN0ID0gcmVjdHNbaSQxXSkubGVmdCAhPSByZWN0LnJpZ2h0KSB7IGJyZWFrIH1cbiAgfSB9XG4gIHJldHVybiByZWN0XG59XG5cbmZ1bmN0aW9uIG1lYXN1cmVDaGFySW5uZXIoY20sIHByZXBhcmVkLCBjaCwgYmlhcykge1xuICB2YXIgcGxhY2UgPSBub2RlQW5kT2Zmc2V0SW5MaW5lTWFwKHByZXBhcmVkLm1hcCwgY2gsIGJpYXMpXG4gIHZhciBub2RlID0gcGxhY2Uubm9kZSwgc3RhcnQgPSBwbGFjZS5zdGFydCwgZW5kID0gcGxhY2UuZW5kLCBjb2xsYXBzZSA9IHBsYWNlLmNvbGxhcHNlXG5cbiAgdmFyIHJlY3RcbiAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMykgeyAvLyBJZiBpdCBpcyBhIHRleHQgbm9kZSwgdXNlIGEgcmFuZ2UgdG8gcmV0cmlldmUgdGhlIGNvb3JkaW5hdGVzLlxuICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IDQ7IGkkMSsrKSB7IC8vIFJldHJ5IGEgbWF4aW11bSBvZiA0IHRpbWVzIHdoZW4gbm9uc2Vuc2UgcmVjdGFuZ2xlcyBhcmUgcmV0dXJuZWRcbiAgICAgIHdoaWxlIChzdGFydCAmJiBpc0V4dGVuZGluZ0NoYXIocHJlcGFyZWQubGluZS50ZXh0LmNoYXJBdChwbGFjZS5jb3ZlclN0YXJ0ICsgc3RhcnQpKSkgeyAtLXN0YXJ0IH1cbiAgICAgIHdoaWxlIChwbGFjZS5jb3ZlclN0YXJ0ICsgZW5kIDwgcGxhY2UuY292ZXJFbmQgJiYgaXNFeHRlbmRpbmdDaGFyKHByZXBhcmVkLmxpbmUudGV4dC5jaGFyQXQocGxhY2UuY292ZXJTdGFydCArIGVuZCkpKSB7ICsrZW5kIH1cbiAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOSAmJiBzdGFydCA9PSAwICYmIGVuZCA9PSBwbGFjZS5jb3ZlckVuZCAtIHBsYWNlLmNvdmVyU3RhcnQpXG4gICAgICAgIHsgcmVjdCA9IG5vZGUucGFyZW50Tm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSB9XG4gICAgICBlbHNlXG4gICAgICAgIHsgcmVjdCA9IGdldFVzZWZ1bFJlY3QocmFuZ2Uobm9kZSwgc3RhcnQsIGVuZCkuZ2V0Q2xpZW50UmVjdHMoKSwgYmlhcykgfVxuICAgICAgaWYgKHJlY3QubGVmdCB8fCByZWN0LnJpZ2h0IHx8IHN0YXJ0ID09IDApIHsgYnJlYWsgfVxuICAgICAgZW5kID0gc3RhcnRcbiAgICAgIHN0YXJ0ID0gc3RhcnQgLSAxXG4gICAgICBjb2xsYXBzZSA9IFwicmlnaHRcIlxuICAgIH1cbiAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDExKSB7IHJlY3QgPSBtYXliZVVwZGF0ZVJlY3RGb3Jab29taW5nKGNtLmRpc3BsYXkubWVhc3VyZSwgcmVjdCkgfVxuICB9IGVsc2UgeyAvLyBJZiBpdCBpcyBhIHdpZGdldCwgc2ltcGx5IGdldCB0aGUgYm94IGZvciB0aGUgd2hvbGUgd2lkZ2V0LlxuICAgIGlmIChzdGFydCA+IDApIHsgY29sbGFwc2UgPSBiaWFzID0gXCJyaWdodFwiIH1cbiAgICB2YXIgcmVjdHNcbiAgICBpZiAoY20ub3B0aW9ucy5saW5lV3JhcHBpbmcgJiYgKHJlY3RzID0gbm9kZS5nZXRDbGllbnRSZWN0cygpKS5sZW5ndGggPiAxKVxuICAgICAgeyByZWN0ID0gcmVjdHNbYmlhcyA9PSBcInJpZ2h0XCIgPyByZWN0cy5sZW5ndGggLSAxIDogMF0gfVxuICAgIGVsc2VcbiAgICAgIHsgcmVjdCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgfVxuICB9XG4gIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOSAmJiAhc3RhcnQgJiYgKCFyZWN0IHx8ICFyZWN0LmxlZnQgJiYgIXJlY3QucmlnaHQpKSB7XG4gICAgdmFyIHJTcGFuID0gbm9kZS5wYXJlbnROb2RlLmdldENsaWVudFJlY3RzKClbMF1cbiAgICBpZiAoclNwYW4pXG4gICAgICB7IHJlY3QgPSB7bGVmdDogclNwYW4ubGVmdCwgcmlnaHQ6IHJTcGFuLmxlZnQgKyBjaGFyV2lkdGgoY20uZGlzcGxheSksIHRvcDogclNwYW4udG9wLCBib3R0b206IHJTcGFuLmJvdHRvbX0gfVxuICAgIGVsc2VcbiAgICAgIHsgcmVjdCA9IG51bGxSZWN0IH1cbiAgfVxuXG4gIHZhciBydG9wID0gcmVjdC50b3AgLSBwcmVwYXJlZC5yZWN0LnRvcCwgcmJvdCA9IHJlY3QuYm90dG9tIC0gcHJlcGFyZWQucmVjdC50b3BcbiAgdmFyIG1pZCA9IChydG9wICsgcmJvdCkgLyAyXG4gIHZhciBoZWlnaHRzID0gcHJlcGFyZWQudmlldy5tZWFzdXJlLmhlaWdodHNcbiAgdmFyIGkgPSAwXG4gIGZvciAoOyBpIDwgaGVpZ2h0cy5sZW5ndGggLSAxOyBpKyspXG4gICAgeyBpZiAobWlkIDwgaGVpZ2h0c1tpXSkgeyBicmVhayB9IH1cbiAgdmFyIHRvcCA9IGkgPyBoZWlnaHRzW2kgLSAxXSA6IDAsIGJvdCA9IGhlaWdodHNbaV1cbiAgdmFyIHJlc3VsdCA9IHtsZWZ0OiAoY29sbGFwc2UgPT0gXCJyaWdodFwiID8gcmVjdC5yaWdodCA6IHJlY3QubGVmdCkgLSBwcmVwYXJlZC5yZWN0LmxlZnQsXG4gICAgICAgICAgICAgICAgcmlnaHQ6IChjb2xsYXBzZSA9PSBcImxlZnRcIiA/IHJlY3QubGVmdCA6IHJlY3QucmlnaHQpIC0gcHJlcGFyZWQucmVjdC5sZWZ0LFxuICAgICAgICAgICAgICAgIHRvcDogdG9wLCBib3R0b206IGJvdH1cbiAgaWYgKCFyZWN0LmxlZnQgJiYgIXJlY3QucmlnaHQpIHsgcmVzdWx0LmJvZ3VzID0gdHJ1ZSB9XG4gIGlmICghY20ub3B0aW9ucy5zaW5nbGVDdXJzb3JIZWlnaHRQZXJMaW5lKSB7IHJlc3VsdC5ydG9wID0gcnRvcDsgcmVzdWx0LnJib3R0b20gPSByYm90IH1cblxuICByZXR1cm4gcmVzdWx0XG59XG5cbi8vIFdvcmsgYXJvdW5kIHByb2JsZW0gd2l0aCBib3VuZGluZyBjbGllbnQgcmVjdHMgb24gcmFuZ2VzIGJlaW5nXG4vLyByZXR1cm5lZCBpbmNvcnJlY3RseSB3aGVuIHpvb21lZCBvbiBJRTEwIGFuZCBiZWxvdy5cbmZ1bmN0aW9uIG1heWJlVXBkYXRlUmVjdEZvclpvb21pbmcobWVhc3VyZSwgcmVjdCkge1xuICBpZiAoIXdpbmRvdy5zY3JlZW4gfHwgc2NyZWVuLmxvZ2ljYWxYRFBJID09IG51bGwgfHxcbiAgICAgIHNjcmVlbi5sb2dpY2FsWERQSSA9PSBzY3JlZW4uZGV2aWNlWERQSSB8fCAhaGFzQmFkWm9vbWVkUmVjdHMobWVhc3VyZSkpXG4gICAgeyByZXR1cm4gcmVjdCB9XG4gIHZhciBzY2FsZVggPSBzY3JlZW4ubG9naWNhbFhEUEkgLyBzY3JlZW4uZGV2aWNlWERQSVxuICB2YXIgc2NhbGVZID0gc2NyZWVuLmxvZ2ljYWxZRFBJIC8gc2NyZWVuLmRldmljZVlEUElcbiAgcmV0dXJuIHtsZWZ0OiByZWN0LmxlZnQgKiBzY2FsZVgsIHJpZ2h0OiByZWN0LnJpZ2h0ICogc2NhbGVYLFxuICAgICAgICAgIHRvcDogcmVjdC50b3AgKiBzY2FsZVksIGJvdHRvbTogcmVjdC5ib3R0b20gKiBzY2FsZVl9XG59XG5cbmZ1bmN0aW9uIGNsZWFyTGluZU1lYXN1cmVtZW50Q2FjaGVGb3IobGluZVZpZXcpIHtcbiAgaWYgKGxpbmVWaWV3Lm1lYXN1cmUpIHtcbiAgICBsaW5lVmlldy5tZWFzdXJlLmNhY2hlID0ge31cbiAgICBsaW5lVmlldy5tZWFzdXJlLmhlaWdodHMgPSBudWxsXG4gICAgaWYgKGxpbmVWaWV3LnJlc3QpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lVmlldy5yZXN0Lmxlbmd0aDsgaSsrKVxuICAgICAgeyBsaW5lVmlldy5tZWFzdXJlLmNhY2hlc1tpXSA9IHt9IH0gfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNsZWFyTGluZU1lYXN1cmVtZW50Q2FjaGUoY20pIHtcbiAgY20uZGlzcGxheS5leHRlcm5hbE1lYXN1cmUgPSBudWxsXG4gIHJlbW92ZUNoaWxkcmVuKGNtLmRpc3BsYXkubGluZU1lYXN1cmUpXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY20uZGlzcGxheS52aWV3Lmxlbmd0aDsgaSsrKVxuICAgIHsgY2xlYXJMaW5lTWVhc3VyZW1lbnRDYWNoZUZvcihjbS5kaXNwbGF5LnZpZXdbaV0pIH1cbn1cblxuZnVuY3Rpb24gY2xlYXJDYWNoZXMoY20pIHtcbiAgY2xlYXJMaW5lTWVhc3VyZW1lbnRDYWNoZShjbSlcbiAgY20uZGlzcGxheS5jYWNoZWRDaGFyV2lkdGggPSBjbS5kaXNwbGF5LmNhY2hlZFRleHRIZWlnaHQgPSBjbS5kaXNwbGF5LmNhY2hlZFBhZGRpbmdIID0gbnVsbFxuICBpZiAoIWNtLm9wdGlvbnMubGluZVdyYXBwaW5nKSB7IGNtLmRpc3BsYXkubWF4TGluZUNoYW5nZWQgPSB0cnVlIH1cbiAgY20uZGlzcGxheS5saW5lTnVtQ2hhcnMgPSBudWxsXG59XG5cbmZ1bmN0aW9uIHBhZ2VTY3JvbGxYKCkgeyByZXR1cm4gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keSkuc2Nyb2xsTGVmdCB9XG5mdW5jdGlvbiBwYWdlU2Nyb2xsWSgpIHsgcmV0dXJuIHdpbmRvdy5wYWdlWU9mZnNldCB8fCAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IHx8IGRvY3VtZW50LmJvZHkpLnNjcm9sbFRvcCB9XG5cbi8vIENvbnZlcnRzIGEge3RvcCwgYm90dG9tLCBsZWZ0LCByaWdodH0gYm94IGZyb20gbGluZS1sb2NhbFxuLy8gY29vcmRpbmF0ZXMgaW50byBhbm90aGVyIGNvb3JkaW5hdGUgc3lzdGVtLiBDb250ZXh0IG1heSBiZSBvbmUgb2Zcbi8vIFwibGluZVwiLCBcImRpdlwiIChkaXNwbGF5LmxpbmVEaXYpLCBcImxvY2FsXCIuL251bGwgKGVkaXRvciksIFwid2luZG93XCIsXG4vLyBvciBcInBhZ2VcIi5cbmZ1bmN0aW9uIGludG9Db29yZFN5c3RlbShjbSwgbGluZU9iaiwgcmVjdCwgY29udGV4dCwgaW5jbHVkZVdpZGdldHMpIHtcbiAgaWYgKCFpbmNsdWRlV2lkZ2V0cyAmJiBsaW5lT2JqLndpZGdldHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lT2JqLndpZGdldHMubGVuZ3RoOyArK2kpIHsgaWYgKGxpbmVPYmoud2lkZ2V0c1tpXS5hYm92ZSkge1xuICAgIHZhciBzaXplID0gd2lkZ2V0SGVpZ2h0KGxpbmVPYmoud2lkZ2V0c1tpXSlcbiAgICByZWN0LnRvcCArPSBzaXplOyByZWN0LmJvdHRvbSArPSBzaXplXG4gIH0gfSB9XG4gIGlmIChjb250ZXh0ID09IFwibGluZVwiKSB7IHJldHVybiByZWN0IH1cbiAgaWYgKCFjb250ZXh0KSB7IGNvbnRleHQgPSBcImxvY2FsXCIgfVxuICB2YXIgeU9mZiA9IGhlaWdodEF0TGluZShsaW5lT2JqKVxuICBpZiAoY29udGV4dCA9PSBcImxvY2FsXCIpIHsgeU9mZiArPSBwYWRkaW5nVG9wKGNtLmRpc3BsYXkpIH1cbiAgZWxzZSB7IHlPZmYgLT0gY20uZGlzcGxheS52aWV3T2Zmc2V0IH1cbiAgaWYgKGNvbnRleHQgPT0gXCJwYWdlXCIgfHwgY29udGV4dCA9PSBcIndpbmRvd1wiKSB7XG4gICAgdmFyIGxPZmYgPSBjbS5kaXNwbGF5LmxpbmVTcGFjZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIHlPZmYgKz0gbE9mZi50b3AgKyAoY29udGV4dCA9PSBcIndpbmRvd1wiID8gMCA6IHBhZ2VTY3JvbGxZKCkpXG4gICAgdmFyIHhPZmYgPSBsT2ZmLmxlZnQgKyAoY29udGV4dCA9PSBcIndpbmRvd1wiID8gMCA6IHBhZ2VTY3JvbGxYKCkpXG4gICAgcmVjdC5sZWZ0ICs9IHhPZmY7IHJlY3QucmlnaHQgKz0geE9mZlxuICB9XG4gIHJlY3QudG9wICs9IHlPZmY7IHJlY3QuYm90dG9tICs9IHlPZmZcbiAgcmV0dXJuIHJlY3Rcbn1cblxuLy8gQ292ZXJ0cyBhIGJveCBmcm9tIFwiZGl2XCIgY29vcmRzIHRvIGFub3RoZXIgY29vcmRpbmF0ZSBzeXN0ZW0uXG4vLyBDb250ZXh0IG1heSBiZSBcIndpbmRvd1wiLCBcInBhZ2VcIiwgXCJkaXZcIiwgb3IgXCJsb2NhbFwiLi9udWxsLlxuZnVuY3Rpb24gZnJvbUNvb3JkU3lzdGVtKGNtLCBjb29yZHMsIGNvbnRleHQpIHtcbiAgaWYgKGNvbnRleHQgPT0gXCJkaXZcIikgeyByZXR1cm4gY29vcmRzIH1cbiAgdmFyIGxlZnQgPSBjb29yZHMubGVmdCwgdG9wID0gY29vcmRzLnRvcFxuICAvLyBGaXJzdCBtb3ZlIGludG8gXCJwYWdlXCIgY29vcmRpbmF0ZSBzeXN0ZW1cbiAgaWYgKGNvbnRleHQgPT0gXCJwYWdlXCIpIHtcbiAgICBsZWZ0IC09IHBhZ2VTY3JvbGxYKClcbiAgICB0b3AgLT0gcGFnZVNjcm9sbFkoKVxuICB9IGVsc2UgaWYgKGNvbnRleHQgPT0gXCJsb2NhbFwiIHx8ICFjb250ZXh0KSB7XG4gICAgdmFyIGxvY2FsQm94ID0gY20uZGlzcGxheS5zaXplci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIGxlZnQgKz0gbG9jYWxCb3gubGVmdFxuICAgIHRvcCArPSBsb2NhbEJveC50b3BcbiAgfVxuXG4gIHZhciBsaW5lU3BhY2VCb3ggPSBjbS5kaXNwbGF5LmxpbmVTcGFjZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICByZXR1cm4ge2xlZnQ6IGxlZnQgLSBsaW5lU3BhY2VCb3gubGVmdCwgdG9wOiB0b3AgLSBsaW5lU3BhY2VCb3gudG9wfVxufVxuXG5mdW5jdGlvbiBjaGFyQ29vcmRzKGNtLCBwb3MsIGNvbnRleHQsIGxpbmVPYmosIGJpYXMpIHtcbiAgaWYgKCFsaW5lT2JqKSB7IGxpbmVPYmogPSBnZXRMaW5lKGNtLmRvYywgcG9zLmxpbmUpIH1cbiAgcmV0dXJuIGludG9Db29yZFN5c3RlbShjbSwgbGluZU9iaiwgbWVhc3VyZUNoYXIoY20sIGxpbmVPYmosIHBvcy5jaCwgYmlhcyksIGNvbnRleHQpXG59XG5cbi8vIFJldHVybnMgYSBib3ggZm9yIGEgZ2l2ZW4gY3Vyc29yIHBvc2l0aW9uLCB3aGljaCBtYXkgaGF2ZSBhblxuLy8gJ290aGVyJyBwcm9wZXJ0eSBjb250YWluaW5nIHRoZSBwb3NpdGlvbiBvZiB0aGUgc2Vjb25kYXJ5IGN1cnNvclxuLy8gb24gYSBiaWRpIGJvdW5kYXJ5LlxuZnVuY3Rpb24gY3Vyc29yQ29vcmRzKGNtLCBwb3MsIGNvbnRleHQsIGxpbmVPYmosIHByZXBhcmVkTWVhc3VyZSwgdmFySGVpZ2h0KSB7XG4gIGxpbmVPYmogPSBsaW5lT2JqIHx8IGdldExpbmUoY20uZG9jLCBwb3MubGluZSlcbiAgaWYgKCFwcmVwYXJlZE1lYXN1cmUpIHsgcHJlcGFyZWRNZWFzdXJlID0gcHJlcGFyZU1lYXN1cmVGb3JMaW5lKGNtLCBsaW5lT2JqKSB9XG4gIGZ1bmN0aW9uIGdldChjaCwgcmlnaHQpIHtcbiAgICB2YXIgbSA9IG1lYXN1cmVDaGFyUHJlcGFyZWQoY20sIHByZXBhcmVkTWVhc3VyZSwgY2gsIHJpZ2h0ID8gXCJyaWdodFwiIDogXCJsZWZ0XCIsIHZhckhlaWdodClcbiAgICBpZiAocmlnaHQpIHsgbS5sZWZ0ID0gbS5yaWdodDsgfSBlbHNlIHsgbS5yaWdodCA9IG0ubGVmdCB9XG4gICAgcmV0dXJuIGludG9Db29yZFN5c3RlbShjbSwgbGluZU9iaiwgbSwgY29udGV4dClcbiAgfVxuICBmdW5jdGlvbiBnZXRCaWRpKGNoLCBwYXJ0UG9zKSB7XG4gICAgdmFyIHBhcnQgPSBvcmRlcltwYXJ0UG9zXSwgcmlnaHQgPSBwYXJ0LmxldmVsICUgMlxuICAgIGlmIChjaCA9PSBiaWRpTGVmdChwYXJ0KSAmJiBwYXJ0UG9zICYmIHBhcnQubGV2ZWwgPCBvcmRlcltwYXJ0UG9zIC0gMV0ubGV2ZWwpIHtcbiAgICAgIHBhcnQgPSBvcmRlclstLXBhcnRQb3NdXG4gICAgICBjaCA9IGJpZGlSaWdodChwYXJ0KSAtIChwYXJ0LmxldmVsICUgMiA/IDAgOiAxKVxuICAgICAgcmlnaHQgPSB0cnVlXG4gICAgfSBlbHNlIGlmIChjaCA9PSBiaWRpUmlnaHQocGFydCkgJiYgcGFydFBvcyA8IG9yZGVyLmxlbmd0aCAtIDEgJiYgcGFydC5sZXZlbCA8IG9yZGVyW3BhcnRQb3MgKyAxXS5sZXZlbCkge1xuICAgICAgcGFydCA9IG9yZGVyWysrcGFydFBvc11cbiAgICAgIGNoID0gYmlkaUxlZnQocGFydCkgLSBwYXJ0LmxldmVsICUgMlxuICAgICAgcmlnaHQgPSBmYWxzZVxuICAgIH1cbiAgICBpZiAocmlnaHQgJiYgY2ggPT0gcGFydC50byAmJiBjaCA+IHBhcnQuZnJvbSkgeyByZXR1cm4gZ2V0KGNoIC0gMSkgfVxuICAgIHJldHVybiBnZXQoY2gsIHJpZ2h0KVxuICB9XG4gIHZhciBvcmRlciA9IGdldE9yZGVyKGxpbmVPYmopLCBjaCA9IHBvcy5jaFxuICBpZiAoIW9yZGVyKSB7IHJldHVybiBnZXQoY2gpIH1cbiAgdmFyIHBhcnRQb3MgPSBnZXRCaWRpUGFydEF0KG9yZGVyLCBjaClcbiAgdmFyIHZhbCA9IGdldEJpZGkoY2gsIHBhcnRQb3MpXG4gIGlmIChiaWRpT3RoZXIgIT0gbnVsbCkgeyB2YWwub3RoZXIgPSBnZXRCaWRpKGNoLCBiaWRpT3RoZXIpIH1cbiAgcmV0dXJuIHZhbFxufVxuXG4vLyBVc2VkIHRvIGNoZWFwbHkgZXN0aW1hdGUgdGhlIGNvb3JkaW5hdGVzIGZvciBhIHBvc2l0aW9uLiBVc2VkIGZvclxuLy8gaW50ZXJtZWRpYXRlIHNjcm9sbCB1cGRhdGVzLlxuZnVuY3Rpb24gZXN0aW1hdGVDb29yZHMoY20sIHBvcykge1xuICB2YXIgbGVmdCA9IDBcbiAgcG9zID0gY2xpcFBvcyhjbS5kb2MsIHBvcylcbiAgaWYgKCFjbS5vcHRpb25zLmxpbmVXcmFwcGluZykgeyBsZWZ0ID0gY2hhcldpZHRoKGNtLmRpc3BsYXkpICogcG9zLmNoIH1cbiAgdmFyIGxpbmVPYmogPSBnZXRMaW5lKGNtLmRvYywgcG9zLmxpbmUpXG4gIHZhciB0b3AgPSBoZWlnaHRBdExpbmUobGluZU9iaikgKyBwYWRkaW5nVG9wKGNtLmRpc3BsYXkpXG4gIHJldHVybiB7bGVmdDogbGVmdCwgcmlnaHQ6IGxlZnQsIHRvcDogdG9wLCBib3R0b206IHRvcCArIGxpbmVPYmouaGVpZ2h0fVxufVxuXG4vLyBQb3NpdGlvbnMgcmV0dXJuZWQgYnkgY29vcmRzQ2hhciBjb250YWluIHNvbWUgZXh0cmEgaW5mb3JtYXRpb24uXG4vLyB4UmVsIGlzIHRoZSByZWxhdGl2ZSB4IHBvc2l0aW9uIG9mIHRoZSBpbnB1dCBjb29yZGluYXRlcyBjb21wYXJlZFxuLy8gdG8gdGhlIGZvdW5kIHBvc2l0aW9uIChzbyB4UmVsID4gMCBtZWFucyB0aGUgY29vcmRpbmF0ZXMgYXJlIHRvXG4vLyB0aGUgcmlnaHQgb2YgdGhlIGNoYXJhY3RlciBwb3NpdGlvbiwgZm9yIGV4YW1wbGUpLiBXaGVuIG91dHNpZGVcbi8vIGlzIHRydWUsIHRoYXQgbWVhbnMgdGhlIGNvb3JkaW5hdGVzIGxpZSBvdXRzaWRlIHRoZSBsaW5lJ3Ncbi8vIHZlcnRpY2FsIHJhbmdlLlxuZnVuY3Rpb24gUG9zV2l0aEluZm8obGluZSwgY2gsIG91dHNpZGUsIHhSZWwpIHtcbiAgdmFyIHBvcyA9IFBvcyhsaW5lLCBjaClcbiAgcG9zLnhSZWwgPSB4UmVsXG4gIGlmIChvdXRzaWRlKSB7IHBvcy5vdXRzaWRlID0gdHJ1ZSB9XG4gIHJldHVybiBwb3Ncbn1cblxuLy8gQ29tcHV0ZSB0aGUgY2hhcmFjdGVyIHBvc2l0aW9uIGNsb3Nlc3QgdG8gdGhlIGdpdmVuIGNvb3JkaW5hdGVzLlxuLy8gSW5wdXQgbXVzdCBiZSBsaW5lU3BhY2UtbG9jYWwgKFwiZGl2XCIgY29vcmRpbmF0ZSBzeXN0ZW0pLlxuZnVuY3Rpb24gY29vcmRzQ2hhcihjbSwgeCwgeSkge1xuICB2YXIgZG9jID0gY20uZG9jXG4gIHkgKz0gY20uZGlzcGxheS52aWV3T2Zmc2V0XG4gIGlmICh5IDwgMCkgeyByZXR1cm4gUG9zV2l0aEluZm8oZG9jLmZpcnN0LCAwLCB0cnVlLCAtMSkgfVxuICB2YXIgbGluZU4gPSBsaW5lQXRIZWlnaHQoZG9jLCB5KSwgbGFzdCA9IGRvYy5maXJzdCArIGRvYy5zaXplIC0gMVxuICBpZiAobGluZU4gPiBsYXN0KVxuICAgIHsgcmV0dXJuIFBvc1dpdGhJbmZvKGRvYy5maXJzdCArIGRvYy5zaXplIC0gMSwgZ2V0TGluZShkb2MsIGxhc3QpLnRleHQubGVuZ3RoLCB0cnVlLCAxKSB9XG4gIGlmICh4IDwgMCkgeyB4ID0gMCB9XG5cbiAgdmFyIGxpbmVPYmogPSBnZXRMaW5lKGRvYywgbGluZU4pXG4gIGZvciAoOzspIHtcbiAgICB2YXIgZm91bmQgPSBjb29yZHNDaGFySW5uZXIoY20sIGxpbmVPYmosIGxpbmVOLCB4LCB5KVxuICAgIHZhciBtZXJnZWQgPSBjb2xsYXBzZWRTcGFuQXRFbmQobGluZU9iailcbiAgICB2YXIgbWVyZ2VkUG9zID0gbWVyZ2VkICYmIG1lcmdlZC5maW5kKDAsIHRydWUpXG4gICAgaWYgKG1lcmdlZCAmJiAoZm91bmQuY2ggPiBtZXJnZWRQb3MuZnJvbS5jaCB8fCBmb3VuZC5jaCA9PSBtZXJnZWRQb3MuZnJvbS5jaCAmJiBmb3VuZC54UmVsID4gMCkpXG4gICAgICB7IGxpbmVOID0gbGluZU5vKGxpbmVPYmogPSBtZXJnZWRQb3MudG8ubGluZSkgfVxuICAgIGVsc2VcbiAgICAgIHsgcmV0dXJuIGZvdW5kIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjb29yZHNDaGFySW5uZXIoY20sIGxpbmVPYmosIGxpbmVObywgeCwgeSkge1xuICB2YXIgaW5uZXJPZmYgPSB5IC0gaGVpZ2h0QXRMaW5lKGxpbmVPYmopXG4gIHZhciB3cm9uZ0xpbmUgPSBmYWxzZSwgYWRqdXN0ID0gMiAqIGNtLmRpc3BsYXkud3JhcHBlci5jbGllbnRXaWR0aFxuICB2YXIgcHJlcGFyZWRNZWFzdXJlID0gcHJlcGFyZU1lYXN1cmVGb3JMaW5lKGNtLCBsaW5lT2JqKVxuXG4gIGZ1bmN0aW9uIGdldFgoY2gpIHtcbiAgICB2YXIgc3AgPSBjdXJzb3JDb29yZHMoY20sIFBvcyhsaW5lTm8sIGNoKSwgXCJsaW5lXCIsIGxpbmVPYmosIHByZXBhcmVkTWVhc3VyZSlcbiAgICB3cm9uZ0xpbmUgPSB0cnVlXG4gICAgaWYgKGlubmVyT2ZmID4gc3AuYm90dG9tKSB7IHJldHVybiBzcC5sZWZ0IC0gYWRqdXN0IH1cbiAgICBlbHNlIGlmIChpbm5lck9mZiA8IHNwLnRvcCkgeyByZXR1cm4gc3AubGVmdCArIGFkanVzdCB9XG4gICAgZWxzZSB7IHdyb25nTGluZSA9IGZhbHNlIH1cbiAgICByZXR1cm4gc3AubGVmdFxuICB9XG5cbiAgdmFyIGJpZGkgPSBnZXRPcmRlcihsaW5lT2JqKSwgZGlzdCA9IGxpbmVPYmoudGV4dC5sZW5ndGhcbiAgdmFyIGZyb20gPSBsaW5lTGVmdChsaW5lT2JqKSwgdG8gPSBsaW5lUmlnaHQobGluZU9iailcbiAgdmFyIGZyb21YID0gZ2V0WChmcm9tKSwgZnJvbU91dHNpZGUgPSB3cm9uZ0xpbmUsIHRvWCA9IGdldFgodG8pLCB0b091dHNpZGUgPSB3cm9uZ0xpbmVcblxuICBpZiAoeCA+IHRvWCkgeyByZXR1cm4gUG9zV2l0aEluZm8obGluZU5vLCB0bywgdG9PdXRzaWRlLCAxKSB9XG4gIC8vIERvIGEgYmluYXJ5IHNlYXJjaCBiZXR3ZWVuIHRoZXNlIGJvdW5kcy5cbiAgZm9yICg7Oykge1xuICAgIGlmIChiaWRpID8gdG8gPT0gZnJvbSB8fCB0byA9PSBtb3ZlVmlzdWFsbHkobGluZU9iaiwgZnJvbSwgMSkgOiB0byAtIGZyb20gPD0gMSkge1xuICAgICAgdmFyIGNoID0geCA8IGZyb21YIHx8IHggLSBmcm9tWCA8PSB0b1ggLSB4ID8gZnJvbSA6IHRvXG4gICAgICB2YXIgb3V0c2lkZSA9IGNoID09IGZyb20gPyBmcm9tT3V0c2lkZSA6IHRvT3V0c2lkZVxuICAgICAgdmFyIHhEaWZmID0geCAtIChjaCA9PSBmcm9tID8gZnJvbVggOiB0b1gpXG4gICAgICAvLyBUaGlzIGlzIGEga2x1ZGdlIHRvIGhhbmRsZSB0aGUgY2FzZSB3aGVyZSB0aGUgY29vcmRpbmF0ZXNcbiAgICAgIC8vIGFyZSBhZnRlciBhIGxpbmUtd3JhcHBlZCBsaW5lLiBXZSBzaG91bGQgcmVwbGFjZSBpdCB3aXRoIGFcbiAgICAgIC8vIG1vcmUgZ2VuZXJhbCBoYW5kbGluZyBvZiBjdXJzb3IgcG9zaXRpb25zIGFyb3VuZCBsaW5lXG4gICAgICAvLyBicmVha3MuIChJc3N1ZSAjNDA3OClcbiAgICAgIGlmICh0b091dHNpZGUgJiYgIWJpZGkgJiYgIS9cXHMvLnRlc3QobGluZU9iai50ZXh0LmNoYXJBdChjaCkpICYmIHhEaWZmID4gMCAmJlxuICAgICAgICAgIGNoIDwgbGluZU9iai50ZXh0Lmxlbmd0aCAmJiBwcmVwYXJlZE1lYXN1cmUudmlldy5tZWFzdXJlLmhlaWdodHMubGVuZ3RoID4gMSkge1xuICAgICAgICB2YXIgY2hhclNpemUgPSBtZWFzdXJlQ2hhclByZXBhcmVkKGNtLCBwcmVwYXJlZE1lYXN1cmUsIGNoLCBcInJpZ2h0XCIpXG4gICAgICAgIGlmIChpbm5lck9mZiA8PSBjaGFyU2l6ZS5ib3R0b20gJiYgaW5uZXJPZmYgPj0gY2hhclNpemUudG9wICYmIE1hdGguYWJzKHggLSBjaGFyU2l6ZS5yaWdodCkgPCB4RGlmZikge1xuICAgICAgICAgIG91dHNpZGUgPSBmYWxzZVxuICAgICAgICAgIGNoKytcbiAgICAgICAgICB4RGlmZiA9IHggLSBjaGFyU2l6ZS5yaWdodFxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoaXNFeHRlbmRpbmdDaGFyKGxpbmVPYmoudGV4dC5jaGFyQXQoY2gpKSkgeyArK2NoIH1cbiAgICAgIHZhciBwb3MgPSBQb3NXaXRoSW5mbyhsaW5lTm8sIGNoLCBvdXRzaWRlLCB4RGlmZiA8IC0xID8gLTEgOiB4RGlmZiA+IDEgPyAxIDogMClcbiAgICAgIHJldHVybiBwb3NcbiAgICB9XG4gICAgdmFyIHN0ZXAgPSBNYXRoLmNlaWwoZGlzdCAvIDIpLCBtaWRkbGUgPSBmcm9tICsgc3RlcFxuICAgIGlmIChiaWRpKSB7XG4gICAgICBtaWRkbGUgPSBmcm9tXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ZXA7ICsraSkgeyBtaWRkbGUgPSBtb3ZlVmlzdWFsbHkobGluZU9iaiwgbWlkZGxlLCAxKSB9XG4gICAgfVxuICAgIHZhciBtaWRkbGVYID0gZ2V0WChtaWRkbGUpXG4gICAgaWYgKG1pZGRsZVggPiB4KSB7dG8gPSBtaWRkbGU7IHRvWCA9IG1pZGRsZVg7IGlmICh0b091dHNpZGUgPSB3cm9uZ0xpbmUpIHsgdG9YICs9IDEwMDA7IH0gZGlzdCA9IHN0ZXB9XG4gICAgZWxzZSB7ZnJvbSA9IG1pZGRsZTsgZnJvbVggPSBtaWRkbGVYOyBmcm9tT3V0c2lkZSA9IHdyb25nTGluZTsgZGlzdCAtPSBzdGVwfVxuICB9XG59XG5cbnZhciBtZWFzdXJlVGV4dFxuLy8gQ29tcHV0ZSB0aGUgZGVmYXVsdCB0ZXh0IGhlaWdodC5cbmZ1bmN0aW9uIHRleHRIZWlnaHQoZGlzcGxheSkge1xuICBpZiAoZGlzcGxheS5jYWNoZWRUZXh0SGVpZ2h0ICE9IG51bGwpIHsgcmV0dXJuIGRpc3BsYXkuY2FjaGVkVGV4dEhlaWdodCB9XG4gIGlmIChtZWFzdXJlVGV4dCA9PSBudWxsKSB7XG4gICAgbWVhc3VyZVRleHQgPSBlbHQoXCJwcmVcIilcbiAgICAvLyBNZWFzdXJlIGEgYnVuY2ggb2YgbGluZXMsIGZvciBicm93c2VycyB0aGF0IGNvbXB1dGVcbiAgICAvLyBmcmFjdGlvbmFsIGhlaWdodHMuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OTsgKytpKSB7XG4gICAgICBtZWFzdXJlVGV4dC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcInhcIikpXG4gICAgICBtZWFzdXJlVGV4dC5hcHBlbmRDaGlsZChlbHQoXCJiclwiKSlcbiAgICB9XG4gICAgbWVhc3VyZVRleHQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJ4XCIpKVxuICB9XG4gIHJlbW92ZUNoaWxkcmVuQW5kQWRkKGRpc3BsYXkubWVhc3VyZSwgbWVhc3VyZVRleHQpXG4gIHZhciBoZWlnaHQgPSBtZWFzdXJlVGV4dC5vZmZzZXRIZWlnaHQgLyA1MFxuICBpZiAoaGVpZ2h0ID4gMykgeyBkaXNwbGF5LmNhY2hlZFRleHRIZWlnaHQgPSBoZWlnaHQgfVxuICByZW1vdmVDaGlsZHJlbihkaXNwbGF5Lm1lYXN1cmUpXG4gIHJldHVybiBoZWlnaHQgfHwgMVxufVxuXG4vLyBDb21wdXRlIHRoZSBkZWZhdWx0IGNoYXJhY3RlciB3aWR0aC5cbmZ1bmN0aW9uIGNoYXJXaWR0aChkaXNwbGF5KSB7XG4gIGlmIChkaXNwbGF5LmNhY2hlZENoYXJXaWR0aCAhPSBudWxsKSB7IHJldHVybiBkaXNwbGF5LmNhY2hlZENoYXJXaWR0aCB9XG4gIHZhciBhbmNob3IgPSBlbHQoXCJzcGFuXCIsIFwieHh4eHh4eHh4eFwiKVxuICB2YXIgcHJlID0gZWx0KFwicHJlXCIsIFthbmNob3JdKVxuICByZW1vdmVDaGlsZHJlbkFuZEFkZChkaXNwbGF5Lm1lYXN1cmUsIHByZSlcbiAgdmFyIHJlY3QgPSBhbmNob3IuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIHdpZHRoID0gKHJlY3QucmlnaHQgLSByZWN0LmxlZnQpIC8gMTBcbiAgaWYgKHdpZHRoID4gMikgeyBkaXNwbGF5LmNhY2hlZENoYXJXaWR0aCA9IHdpZHRoIH1cbiAgcmV0dXJuIHdpZHRoIHx8IDEwXG59XG5cbi8vIERvIGEgYnVsay1yZWFkIG9mIHRoZSBET00gcG9zaXRpb25zIGFuZCBzaXplcyBuZWVkZWQgdG8gZHJhdyB0aGVcbi8vIHZpZXcsIHNvIHRoYXQgd2UgZG9uJ3QgaW50ZXJsZWF2ZSByZWFkaW5nIGFuZCB3cml0aW5nIHRvIHRoZSBET00uXG5mdW5jdGlvbiBnZXREaW1lbnNpb25zKGNtKSB7XG4gIHZhciBkID0gY20uZGlzcGxheSwgbGVmdCA9IHt9LCB3aWR0aCA9IHt9XG4gIHZhciBndXR0ZXJMZWZ0ID0gZC5ndXR0ZXJzLmNsaWVudExlZnRcbiAgZm9yICh2YXIgbiA9IGQuZ3V0dGVycy5maXJzdENoaWxkLCBpID0gMDsgbjsgbiA9IG4ubmV4dFNpYmxpbmcsICsraSkge1xuICAgIGxlZnRbY20ub3B0aW9ucy5ndXR0ZXJzW2ldXSA9IG4ub2Zmc2V0TGVmdCArIG4uY2xpZW50TGVmdCArIGd1dHRlckxlZnRcbiAgICB3aWR0aFtjbS5vcHRpb25zLmd1dHRlcnNbaV1dID0gbi5jbGllbnRXaWR0aFxuICB9XG4gIHJldHVybiB7Zml4ZWRQb3M6IGNvbXBlbnNhdGVGb3JIU2Nyb2xsKGQpLFxuICAgICAgICAgIGd1dHRlclRvdGFsV2lkdGg6IGQuZ3V0dGVycy5vZmZzZXRXaWR0aCxcbiAgICAgICAgICBndXR0ZXJMZWZ0OiBsZWZ0LFxuICAgICAgICAgIGd1dHRlcldpZHRoOiB3aWR0aCxcbiAgICAgICAgICB3cmFwcGVyV2lkdGg6IGQud3JhcHBlci5jbGllbnRXaWR0aH1cbn1cblxuLy8gQ29tcHV0ZXMgZGlzcGxheS5zY3JvbGxlci5zY3JvbGxMZWZ0ICsgZGlzcGxheS5ndXR0ZXJzLm9mZnNldFdpZHRoLFxuLy8gYnV0IHVzaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCB0byBnZXQgYSBzdWItcGl4ZWwtYWNjdXJhdGVcbi8vIHJlc3VsdC5cbmZ1bmN0aW9uIGNvbXBlbnNhdGVGb3JIU2Nyb2xsKGRpc3BsYXkpIHtcbiAgcmV0dXJuIGRpc3BsYXkuc2Nyb2xsZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCAtIGRpc3BsYXkuc2l6ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdFxufVxuXG4vLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBlc3RpbWF0ZXMgdGhlIGhlaWdodCBvZiBhIGxpbmUsIHRvIHVzZSBhc1xuLy8gZmlyc3QgYXBwcm94aW1hdGlvbiB1bnRpbCB0aGUgbGluZSBiZWNvbWVzIHZpc2libGUgKGFuZCBpcyB0aHVzXG4vLyBwcm9wZXJseSBtZWFzdXJhYmxlKS5cbmZ1bmN0aW9uIGVzdGltYXRlSGVpZ2h0KGNtKSB7XG4gIHZhciB0aCA9IHRleHRIZWlnaHQoY20uZGlzcGxheSksIHdyYXBwaW5nID0gY20ub3B0aW9ucy5saW5lV3JhcHBpbmdcbiAgdmFyIHBlckxpbmUgPSB3cmFwcGluZyAmJiBNYXRoLm1heCg1LCBjbS5kaXNwbGF5LnNjcm9sbGVyLmNsaWVudFdpZHRoIC8gY2hhcldpZHRoKGNtLmRpc3BsYXkpIC0gMylcbiAgcmV0dXJuIGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgaWYgKGxpbmVJc0hpZGRlbihjbS5kb2MsIGxpbmUpKSB7IHJldHVybiAwIH1cblxuICAgIHZhciB3aWRnZXRzSGVpZ2h0ID0gMFxuICAgIGlmIChsaW5lLndpZGdldHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lLndpZGdldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChsaW5lLndpZGdldHNbaV0uaGVpZ2h0KSB7IHdpZGdldHNIZWlnaHQgKz0gbGluZS53aWRnZXRzW2ldLmhlaWdodCB9XG4gICAgfSB9XG5cbiAgICBpZiAod3JhcHBpbmcpXG4gICAgICB7IHJldHVybiB3aWRnZXRzSGVpZ2h0ICsgKE1hdGguY2VpbChsaW5lLnRleHQubGVuZ3RoIC8gcGVyTGluZSkgfHwgMSkgKiB0aCB9XG4gICAgZWxzZVxuICAgICAgeyByZXR1cm4gd2lkZ2V0c0hlaWdodCArIHRoIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBlc3RpbWF0ZUxpbmVIZWlnaHRzKGNtKSB7XG4gIHZhciBkb2MgPSBjbS5kb2MsIGVzdCA9IGVzdGltYXRlSGVpZ2h0KGNtKVxuICBkb2MuaXRlcihmdW5jdGlvbiAobGluZSkge1xuICAgIHZhciBlc3RIZWlnaHQgPSBlc3QobGluZSlcbiAgICBpZiAoZXN0SGVpZ2h0ICE9IGxpbmUuaGVpZ2h0KSB7IHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgZXN0SGVpZ2h0KSB9XG4gIH0pXG59XG5cbi8vIEdpdmVuIGEgbW91c2UgZXZlbnQsIGZpbmQgdGhlIGNvcnJlc3BvbmRpbmcgcG9zaXRpb24uIElmIGxpYmVyYWxcbi8vIGlzIGZhbHNlLCBpdCBjaGVja3Mgd2hldGhlciBhIGd1dHRlciBvciBzY3JvbGxiYXIgd2FzIGNsaWNrZWQsXG4vLyBhbmQgcmV0dXJucyBudWxsIGlmIGl0IHdhcy4gZm9yUmVjdCBpcyB1c2VkIGJ5IHJlY3Rhbmd1bGFyXG4vLyBzZWxlY3Rpb25zLCBhbmQgdHJpZXMgdG8gZXN0aW1hdGUgYSBjaGFyYWN0ZXIgcG9zaXRpb24gZXZlbiBmb3Jcbi8vIGNvb3JkaW5hdGVzIGJleW9uZCB0aGUgcmlnaHQgb2YgdGhlIHRleHQuXG5mdW5jdGlvbiBwb3NGcm9tTW91c2UoY20sIGUsIGxpYmVyYWwsIGZvclJlY3QpIHtcbiAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5XG4gIGlmICghbGliZXJhbCAmJiBlX3RhcmdldChlKS5nZXRBdHRyaWJ1dGUoXCJjbS1ub3QtY29udGVudFwiKSA9PSBcInRydWVcIikgeyByZXR1cm4gbnVsbCB9XG5cbiAgdmFyIHgsIHksIHNwYWNlID0gZGlzcGxheS5saW5lU3BhY2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgLy8gRmFpbHMgdW5wcmVkaWN0YWJseSBvbiBJRVs2N10gd2hlbiBtb3VzZSBpcyBkcmFnZ2VkIGFyb3VuZCBxdWlja2x5LlxuICB0cnkgeyB4ID0gZS5jbGllbnRYIC0gc3BhY2UubGVmdDsgeSA9IGUuY2xpZW50WSAtIHNwYWNlLnRvcCB9XG4gIGNhdGNoIChlKSB7IHJldHVybiBudWxsIH1cbiAgdmFyIGNvb3JkcyA9IGNvb3Jkc0NoYXIoY20sIHgsIHkpLCBsaW5lXG4gIGlmIChmb3JSZWN0ICYmIGNvb3Jkcy54UmVsID09IDEgJiYgKGxpbmUgPSBnZXRMaW5lKGNtLmRvYywgY29vcmRzLmxpbmUpLnRleHQpLmxlbmd0aCA9PSBjb29yZHMuY2gpIHtcbiAgICB2YXIgY29sRGlmZiA9IGNvdW50Q29sdW1uKGxpbmUsIGxpbmUubGVuZ3RoLCBjbS5vcHRpb25zLnRhYlNpemUpIC0gbGluZS5sZW5ndGhcbiAgICBjb29yZHMgPSBQb3MoY29vcmRzLmxpbmUsIE1hdGgubWF4KDAsIE1hdGgucm91bmQoKHggLSBwYWRkaW5nSChjbS5kaXNwbGF5KS5sZWZ0KSAvIGNoYXJXaWR0aChjbS5kaXNwbGF5KSkgLSBjb2xEaWZmKSlcbiAgfVxuICByZXR1cm4gY29vcmRzXG59XG5cbi8vIEZpbmQgdGhlIHZpZXcgZWxlbWVudCBjb3JyZXNwb25kaW5nIHRvIGEgZ2l2ZW4gbGluZS4gUmV0dXJuIG51bGxcbi8vIHdoZW4gdGhlIGxpbmUgaXNuJ3QgdmlzaWJsZS5cbmZ1bmN0aW9uIGZpbmRWaWV3SW5kZXgoY20sIG4pIHtcbiAgaWYgKG4gPj0gY20uZGlzcGxheS52aWV3VG8pIHsgcmV0dXJuIG51bGwgfVxuICBuIC09IGNtLmRpc3BsYXkudmlld0Zyb21cbiAgaWYgKG4gPCAwKSB7IHJldHVybiBudWxsIH1cbiAgdmFyIHZpZXcgPSBjbS5kaXNwbGF5LnZpZXdcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSB7XG4gICAgbiAtPSB2aWV3W2ldLnNpemVcbiAgICBpZiAobiA8IDApIHsgcmV0dXJuIGkgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGlvbihjbSkge1xuICBjbS5kaXNwbGF5LmlucHV0LnNob3dTZWxlY3Rpb24oY20uZGlzcGxheS5pbnB1dC5wcmVwYXJlU2VsZWN0aW9uKCkpXG59XG5cbmZ1bmN0aW9uIHByZXBhcmVTZWxlY3Rpb24oY20sIHByaW1hcnkpIHtcbiAgdmFyIGRvYyA9IGNtLmRvYywgcmVzdWx0ID0ge31cbiAgdmFyIGN1ckZyYWdtZW50ID0gcmVzdWx0LmN1cnNvcnMgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KClcbiAgdmFyIHNlbEZyYWdtZW50ID0gcmVzdWx0LnNlbGVjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZG9jLnNlbC5yYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAocHJpbWFyeSA9PT0gZmFsc2UgJiYgaSA9PSBkb2Muc2VsLnByaW1JbmRleCkgeyBjb250aW51ZSB9XG4gICAgdmFyIHJhbmdlID0gZG9jLnNlbC5yYW5nZXNbaV1cbiAgICBpZiAocmFuZ2UuZnJvbSgpLmxpbmUgPj0gY20uZGlzcGxheS52aWV3VG8gfHwgcmFuZ2UudG8oKS5saW5lIDwgY20uZGlzcGxheS52aWV3RnJvbSkgeyBjb250aW51ZSB9XG4gICAgdmFyIGNvbGxhcHNlZCA9IHJhbmdlLmVtcHR5KClcbiAgICBpZiAoY29sbGFwc2VkIHx8IGNtLm9wdGlvbnMuc2hvd0N1cnNvcldoZW5TZWxlY3RpbmcpXG4gICAgICB7IGRyYXdTZWxlY3Rpb25DdXJzb3IoY20sIHJhbmdlLmhlYWQsIGN1ckZyYWdtZW50KSB9XG4gICAgaWYgKCFjb2xsYXBzZWQpXG4gICAgICB7IGRyYXdTZWxlY3Rpb25SYW5nZShjbSwgcmFuZ2UsIHNlbEZyYWdtZW50KSB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG4vLyBEcmF3cyBhIGN1cnNvciBmb3IgdGhlIGdpdmVuIHJhbmdlXG5mdW5jdGlvbiBkcmF3U2VsZWN0aW9uQ3Vyc29yKGNtLCBoZWFkLCBvdXRwdXQpIHtcbiAgdmFyIHBvcyA9IGN1cnNvckNvb3JkcyhjbSwgaGVhZCwgXCJkaXZcIiwgbnVsbCwgbnVsbCwgIWNtLm9wdGlvbnMuc2luZ2xlQ3Vyc29ySGVpZ2h0UGVyTGluZSlcblxuICB2YXIgY3Vyc29yID0gb3V0cHV0LmFwcGVuZENoaWxkKGVsdChcImRpdlwiLCBcIlxcdTAwYTBcIiwgXCJDb2RlTWlycm9yLWN1cnNvclwiKSlcbiAgY3Vyc29yLnN0eWxlLmxlZnQgPSBwb3MubGVmdCArIFwicHhcIlxuICBjdXJzb3Iuc3R5bGUudG9wID0gcG9zLnRvcCArIFwicHhcIlxuICBjdXJzb3Iuc3R5bGUuaGVpZ2h0ID0gTWF0aC5tYXgoMCwgcG9zLmJvdHRvbSAtIHBvcy50b3ApICogY20ub3B0aW9ucy5jdXJzb3JIZWlnaHQgKyBcInB4XCJcblxuICBpZiAocG9zLm90aGVyKSB7XG4gICAgLy8gU2Vjb25kYXJ5IGN1cnNvciwgc2hvd24gd2hlbiBvbiBhICdqdW1wJyBpbiBiaS1kaXJlY3Rpb25hbCB0ZXh0XG4gICAgdmFyIG90aGVyQ3Vyc29yID0gb3V0cHV0LmFwcGVuZENoaWxkKGVsdChcImRpdlwiLCBcIlxcdTAwYTBcIiwgXCJDb2RlTWlycm9yLWN1cnNvciBDb2RlTWlycm9yLXNlY29uZGFyeWN1cnNvclwiKSlcbiAgICBvdGhlckN1cnNvci5zdHlsZS5kaXNwbGF5ID0gXCJcIlxuICAgIG90aGVyQ3Vyc29yLnN0eWxlLmxlZnQgPSBwb3Mub3RoZXIubGVmdCArIFwicHhcIlxuICAgIG90aGVyQ3Vyc29yLnN0eWxlLnRvcCA9IHBvcy5vdGhlci50b3AgKyBcInB4XCJcbiAgICBvdGhlckN1cnNvci5zdHlsZS5oZWlnaHQgPSAocG9zLm90aGVyLmJvdHRvbSAtIHBvcy5vdGhlci50b3ApICogLjg1ICsgXCJweFwiXG4gIH1cbn1cblxuLy8gRHJhd3MgdGhlIGdpdmVuIHJhbmdlIGFzIGEgaGlnaGxpZ2h0ZWQgc2VsZWN0aW9uXG5mdW5jdGlvbiBkcmF3U2VsZWN0aW9uUmFuZ2UoY20sIHJhbmdlLCBvdXRwdXQpIHtcbiAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBkb2MgPSBjbS5kb2NcbiAgdmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpXG4gIHZhciBwYWRkaW5nID0gcGFkZGluZ0goY20uZGlzcGxheSksIGxlZnRTaWRlID0gcGFkZGluZy5sZWZ0XG4gIHZhciByaWdodFNpZGUgPSBNYXRoLm1heChkaXNwbGF5LnNpemVyV2lkdGgsIGRpc3BsYXlXaWR0aChjbSkgLSBkaXNwbGF5LnNpemVyLm9mZnNldExlZnQpIC0gcGFkZGluZy5yaWdodFxuXG4gIGZ1bmN0aW9uIGFkZChsZWZ0LCB0b3AsIHdpZHRoLCBib3R0b20pIHtcbiAgICBpZiAodG9wIDwgMCkgeyB0b3AgPSAwIH1cbiAgICB0b3AgPSBNYXRoLnJvdW5kKHRvcClcbiAgICBib3R0b20gPSBNYXRoLnJvdW5kKGJvdHRvbSlcbiAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChlbHQoXCJkaXZcIiwgbnVsbCwgXCJDb2RlTWlycm9yLXNlbGVjdGVkXCIsIChcInBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogXCIgKyBsZWZ0ICsgXCJweDtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogXCIgKyB0b3AgKyBcInB4OyB3aWR0aDogXCIgKyAod2lkdGggPT0gbnVsbCA/IHJpZ2h0U2lkZSAtIGxlZnQgOiB3aWR0aCkgKyBcInB4O1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIiArIChib3R0b20gLSB0b3ApICsgXCJweFwiKSkpXG4gIH1cblxuICBmdW5jdGlvbiBkcmF3Rm9yTGluZShsaW5lLCBmcm9tQXJnLCB0b0FyZykge1xuICAgIHZhciBsaW5lT2JqID0gZ2V0TGluZShkb2MsIGxpbmUpXG4gICAgdmFyIGxpbmVMZW4gPSBsaW5lT2JqLnRleHQubGVuZ3RoXG4gICAgdmFyIHN0YXJ0LCBlbmRcbiAgICBmdW5jdGlvbiBjb29yZHMoY2gsIGJpYXMpIHtcbiAgICAgIHJldHVybiBjaGFyQ29vcmRzKGNtLCBQb3MobGluZSwgY2gpLCBcImRpdlwiLCBsaW5lT2JqLCBiaWFzKVxuICAgIH1cblxuICAgIGl0ZXJhdGVCaWRpU2VjdGlvbnMoZ2V0T3JkZXIobGluZU9iaiksIGZyb21BcmcgfHwgMCwgdG9BcmcgPT0gbnVsbCA/IGxpbmVMZW4gOiB0b0FyZywgZnVuY3Rpb24gKGZyb20sIHRvLCBkaXIpIHtcbiAgICAgIHZhciBsZWZ0UG9zID0gY29vcmRzKGZyb20sIFwibGVmdFwiKSwgcmlnaHRQb3MsIGxlZnQsIHJpZ2h0XG4gICAgICBpZiAoZnJvbSA9PSB0bykge1xuICAgICAgICByaWdodFBvcyA9IGxlZnRQb3NcbiAgICAgICAgbGVmdCA9IHJpZ2h0ID0gbGVmdFBvcy5sZWZ0XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByaWdodFBvcyA9IGNvb3Jkcyh0byAtIDEsIFwicmlnaHRcIilcbiAgICAgICAgaWYgKGRpciA9PSBcInJ0bFwiKSB7IHZhciB0bXAgPSBsZWZ0UG9zOyBsZWZ0UG9zID0gcmlnaHRQb3M7IHJpZ2h0UG9zID0gdG1wIH1cbiAgICAgICAgbGVmdCA9IGxlZnRQb3MubGVmdFxuICAgICAgICByaWdodCA9IHJpZ2h0UG9zLnJpZ2h0XG4gICAgICB9XG4gICAgICBpZiAoZnJvbUFyZyA9PSBudWxsICYmIGZyb20gPT0gMCkgeyBsZWZ0ID0gbGVmdFNpZGUgfVxuICAgICAgaWYgKHJpZ2h0UG9zLnRvcCAtIGxlZnRQb3MudG9wID4gMykgeyAvLyBEaWZmZXJlbnQgbGluZXMsIGRyYXcgdG9wIHBhcnRcbiAgICAgICAgYWRkKGxlZnQsIGxlZnRQb3MudG9wLCBudWxsLCBsZWZ0UG9zLmJvdHRvbSlcbiAgICAgICAgbGVmdCA9IGxlZnRTaWRlXG4gICAgICAgIGlmIChsZWZ0UG9zLmJvdHRvbSA8IHJpZ2h0UG9zLnRvcCkgeyBhZGQobGVmdCwgbGVmdFBvcy5ib3R0b20sIG51bGwsIHJpZ2h0UG9zLnRvcCkgfVxuICAgICAgfVxuICAgICAgaWYgKHRvQXJnID09IG51bGwgJiYgdG8gPT0gbGluZUxlbikgeyByaWdodCA9IHJpZ2h0U2lkZSB9XG4gICAgICBpZiAoIXN0YXJ0IHx8IGxlZnRQb3MudG9wIDwgc3RhcnQudG9wIHx8IGxlZnRQb3MudG9wID09IHN0YXJ0LnRvcCAmJiBsZWZ0UG9zLmxlZnQgPCBzdGFydC5sZWZ0KVxuICAgICAgICB7IHN0YXJ0ID0gbGVmdFBvcyB9XG4gICAgICBpZiAoIWVuZCB8fCByaWdodFBvcy5ib3R0b20gPiBlbmQuYm90dG9tIHx8IHJpZ2h0UG9zLmJvdHRvbSA9PSBlbmQuYm90dG9tICYmIHJpZ2h0UG9zLnJpZ2h0ID4gZW5kLnJpZ2h0KVxuICAgICAgICB7IGVuZCA9IHJpZ2h0UG9zIH1cbiAgICAgIGlmIChsZWZ0IDwgbGVmdFNpZGUgKyAxKSB7IGxlZnQgPSBsZWZ0U2lkZSB9XG4gICAgICBhZGQobGVmdCwgcmlnaHRQb3MudG9wLCByaWdodCAtIGxlZnQsIHJpZ2h0UG9zLmJvdHRvbSlcbiAgICB9KVxuICAgIHJldHVybiB7c3RhcnQ6IHN0YXJ0LCBlbmQ6IGVuZH1cbiAgfVxuXG4gIHZhciBzRnJvbSA9IHJhbmdlLmZyb20oKSwgc1RvID0gcmFuZ2UudG8oKVxuICBpZiAoc0Zyb20ubGluZSA9PSBzVG8ubGluZSkge1xuICAgIGRyYXdGb3JMaW5lKHNGcm9tLmxpbmUsIHNGcm9tLmNoLCBzVG8uY2gpXG4gIH0gZWxzZSB7XG4gICAgdmFyIGZyb21MaW5lID0gZ2V0TGluZShkb2MsIHNGcm9tLmxpbmUpLCB0b0xpbmUgPSBnZXRMaW5lKGRvYywgc1RvLmxpbmUpXG4gICAgdmFyIHNpbmdsZVZMaW5lID0gdmlzdWFsTGluZShmcm9tTGluZSkgPT0gdmlzdWFsTGluZSh0b0xpbmUpXG4gICAgdmFyIGxlZnRFbmQgPSBkcmF3Rm9yTGluZShzRnJvbS5saW5lLCBzRnJvbS5jaCwgc2luZ2xlVkxpbmUgPyBmcm9tTGluZS50ZXh0Lmxlbmd0aCArIDEgOiBudWxsKS5lbmRcbiAgICB2YXIgcmlnaHRTdGFydCA9IGRyYXdGb3JMaW5lKHNUby5saW5lLCBzaW5nbGVWTGluZSA/IDAgOiBudWxsLCBzVG8uY2gpLnN0YXJ0XG4gICAgaWYgKHNpbmdsZVZMaW5lKSB7XG4gICAgICBpZiAobGVmdEVuZC50b3AgPCByaWdodFN0YXJ0LnRvcCAtIDIpIHtcbiAgICAgICAgYWRkKGxlZnRFbmQucmlnaHQsIGxlZnRFbmQudG9wLCBudWxsLCBsZWZ0RW5kLmJvdHRvbSlcbiAgICAgICAgYWRkKGxlZnRTaWRlLCByaWdodFN0YXJ0LnRvcCwgcmlnaHRTdGFydC5sZWZ0LCByaWdodFN0YXJ0LmJvdHRvbSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFkZChsZWZ0RW5kLnJpZ2h0LCBsZWZ0RW5kLnRvcCwgcmlnaHRTdGFydC5sZWZ0IC0gbGVmdEVuZC5yaWdodCwgbGVmdEVuZC5ib3R0b20pXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChsZWZ0RW5kLmJvdHRvbSA8IHJpZ2h0U3RhcnQudG9wKVxuICAgICAgeyBhZGQobGVmdFNpZGUsIGxlZnRFbmQuYm90dG9tLCBudWxsLCByaWdodFN0YXJ0LnRvcCkgfVxuICB9XG5cbiAgb3V0cHV0LmFwcGVuZENoaWxkKGZyYWdtZW50KVxufVxuXG4vLyBDdXJzb3ItYmxpbmtpbmdcbmZ1bmN0aW9uIHJlc3RhcnRCbGluayhjbSkge1xuICBpZiAoIWNtLnN0YXRlLmZvY3VzZWQpIHsgcmV0dXJuIH1cbiAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5XG4gIGNsZWFySW50ZXJ2YWwoZGlzcGxheS5ibGlua2VyKVxuICB2YXIgb24gPSB0cnVlXG4gIGRpc3BsYXkuY3Vyc29yRGl2LnN0eWxlLnZpc2liaWxpdHkgPSBcIlwiXG4gIGlmIChjbS5vcHRpb25zLmN1cnNvckJsaW5rUmF0ZSA+IDApXG4gICAgeyBkaXNwbGF5LmJsaW5rZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7IHJldHVybiBkaXNwbGF5LmN1cnNvckRpdi5zdHlsZS52aXNpYmlsaXR5ID0gKG9uID0gIW9uKSA/IFwiXCIgOiBcImhpZGRlblwiOyB9LFxuICAgICAgY20ub3B0aW9ucy5jdXJzb3JCbGlua1JhdGUpIH1cbiAgZWxzZSBpZiAoY20ub3B0aW9ucy5jdXJzb3JCbGlua1JhdGUgPCAwKVxuICAgIHsgZGlzcGxheS5jdXJzb3JEaXYuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCIgfVxufVxuXG5mdW5jdGlvbiBlbnN1cmVGb2N1cyhjbSkge1xuICBpZiAoIWNtLnN0YXRlLmZvY3VzZWQpIHsgY20uZGlzcGxheS5pbnB1dC5mb2N1cygpOyBvbkZvY3VzKGNtKSB9XG59XG5cbmZ1bmN0aW9uIGRlbGF5Qmx1ckV2ZW50KGNtKSB7XG4gIGNtLnN0YXRlLmRlbGF5aW5nQmx1ckV2ZW50ID0gdHJ1ZVxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgaWYgKGNtLnN0YXRlLmRlbGF5aW5nQmx1ckV2ZW50KSB7XG4gICAgY20uc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQgPSBmYWxzZVxuICAgIG9uQmx1cihjbSlcbiAgfSB9LCAxMDApXG59XG5cbmZ1bmN0aW9uIG9uRm9jdXMoY20sIGUpIHtcbiAgaWYgKGNtLnN0YXRlLmRlbGF5aW5nQmx1ckV2ZW50KSB7IGNtLnN0YXRlLmRlbGF5aW5nQmx1ckV2ZW50ID0gZmFsc2UgfVxuXG4gIGlmIChjbS5vcHRpb25zLnJlYWRPbmx5ID09IFwibm9jdXJzb3JcIikgeyByZXR1cm4gfVxuICBpZiAoIWNtLnN0YXRlLmZvY3VzZWQpIHtcbiAgICBzaWduYWwoY20sIFwiZm9jdXNcIiwgY20sIGUpXG4gICAgY20uc3RhdGUuZm9jdXNlZCA9IHRydWVcbiAgICBhZGRDbGFzcyhjbS5kaXNwbGF5LndyYXBwZXIsIFwiQ29kZU1pcnJvci1mb2N1c2VkXCIpXG4gICAgLy8gVGhpcyB0ZXN0IHByZXZlbnRzIHRoaXMgZnJvbSBmaXJpbmcgd2hlbiBhIGNvbnRleHRcbiAgICAvLyBtZW51IGlzIGNsb3NlZCAoc2luY2UgdGhlIGlucHV0IHJlc2V0IHdvdWxkIGtpbGwgdGhlXG4gICAgLy8gc2VsZWN0LWFsbCBkZXRlY3Rpb24gaGFjaylcbiAgICBpZiAoIWNtLmN1ck9wICYmIGNtLmRpc3BsYXkuc2VsRm9yQ29udGV4dE1lbnUgIT0gY20uZG9jLnNlbCkge1xuICAgICAgY20uZGlzcGxheS5pbnB1dC5yZXNldCgpXG4gICAgICBpZiAod2Via2l0KSB7IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gY20uZGlzcGxheS5pbnB1dC5yZXNldCh0cnVlKTsgfSwgMjApIH0gLy8gSXNzdWUgIzE3MzBcbiAgICB9XG4gICAgY20uZGlzcGxheS5pbnB1dC5yZWNlaXZlZEZvY3VzKClcbiAgfVxuICByZXN0YXJ0QmxpbmsoY20pXG59XG5mdW5jdGlvbiBvbkJsdXIoY20sIGUpIHtcbiAgaWYgKGNtLnN0YXRlLmRlbGF5aW5nQmx1ckV2ZW50KSB7IHJldHVybiB9XG5cbiAgaWYgKGNtLnN0YXRlLmZvY3VzZWQpIHtcbiAgICBzaWduYWwoY20sIFwiYmx1clwiLCBjbSwgZSlcbiAgICBjbS5zdGF0ZS5mb2N1c2VkID0gZmFsc2VcbiAgICBybUNsYXNzKGNtLmRpc3BsYXkud3JhcHBlciwgXCJDb2RlTWlycm9yLWZvY3VzZWRcIilcbiAgfVxuICBjbGVhckludGVydmFsKGNtLmRpc3BsYXkuYmxpbmtlcilcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IGlmICghY20uc3RhdGUuZm9jdXNlZCkgeyBjbS5kaXNwbGF5LnNoaWZ0ID0gZmFsc2UgfSB9LCAxNTApXG59XG5cbi8vIFJlLWFsaWduIGxpbmUgbnVtYmVycyBhbmQgZ3V0dGVyIG1hcmtzIHRvIGNvbXBlbnNhdGUgZm9yXG4vLyBob3Jpem9udGFsIHNjcm9sbGluZy5cbmZ1bmN0aW9uIGFsaWduSG9yaXpvbnRhbGx5KGNtKSB7XG4gIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgdmlldyA9IGRpc3BsYXkudmlld1xuICBpZiAoIWRpc3BsYXkuYWxpZ25XaWRnZXRzICYmICghZGlzcGxheS5ndXR0ZXJzLmZpcnN0Q2hpbGQgfHwgIWNtLm9wdGlvbnMuZml4ZWRHdXR0ZXIpKSB7IHJldHVybiB9XG4gIHZhciBjb21wID0gY29tcGVuc2F0ZUZvckhTY3JvbGwoZGlzcGxheSkgLSBkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbExlZnQgKyBjbS5kb2Muc2Nyb2xsTGVmdFxuICB2YXIgZ3V0dGVyVyA9IGRpc3BsYXkuZ3V0dGVycy5vZmZzZXRXaWR0aCwgbGVmdCA9IGNvbXAgKyBcInB4XCJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSB7IGlmICghdmlld1tpXS5oaWRkZW4pIHtcbiAgICBpZiAoY20ub3B0aW9ucy5maXhlZEd1dHRlcikge1xuICAgICAgaWYgKHZpZXdbaV0uZ3V0dGVyKVxuICAgICAgICB7IHZpZXdbaV0uZ3V0dGVyLnN0eWxlLmxlZnQgPSBsZWZ0IH1cbiAgICAgIGlmICh2aWV3W2ldLmd1dHRlckJhY2tncm91bmQpXG4gICAgICAgIHsgdmlld1tpXS5ndXR0ZXJCYWNrZ3JvdW5kLnN0eWxlLmxlZnQgPSBsZWZ0IH1cbiAgICB9XG4gICAgdmFyIGFsaWduID0gdmlld1tpXS5hbGlnbmFibGVcbiAgICBpZiAoYWxpZ24pIHsgZm9yICh2YXIgaiA9IDA7IGogPCBhbGlnbi5sZW5ndGg7IGorKylcbiAgICAgIHsgYWxpZ25bal0uc3R5bGUubGVmdCA9IGxlZnQgfSB9XG4gIH0gfVxuICBpZiAoY20ub3B0aW9ucy5maXhlZEd1dHRlcilcbiAgICB7IGRpc3BsYXkuZ3V0dGVycy5zdHlsZS5sZWZ0ID0gKGNvbXAgKyBndXR0ZXJXKSArIFwicHhcIiB9XG59XG5cbi8vIFVzZWQgdG8gZW5zdXJlIHRoYXQgdGhlIGxpbmUgbnVtYmVyIGd1dHRlciBpcyBzdGlsbCB0aGUgcmlnaHRcbi8vIHNpemUgZm9yIHRoZSBjdXJyZW50IGRvY3VtZW50IHNpemUuIFJldHVybnMgdHJ1ZSB3aGVuIGFuIHVwZGF0ZVxuLy8gaXMgbmVlZGVkLlxuZnVuY3Rpb24gbWF5YmVVcGRhdGVMaW5lTnVtYmVyV2lkdGgoY20pIHtcbiAgaWYgKCFjbS5vcHRpb25zLmxpbmVOdW1iZXJzKSB7IHJldHVybiBmYWxzZSB9XG4gIHZhciBkb2MgPSBjbS5kb2MsIGxhc3QgPSBsaW5lTnVtYmVyRm9yKGNtLm9wdGlvbnMsIGRvYy5maXJzdCArIGRvYy5zaXplIC0gMSksIGRpc3BsYXkgPSBjbS5kaXNwbGF5XG4gIGlmIChsYXN0Lmxlbmd0aCAhPSBkaXNwbGF5LmxpbmVOdW1DaGFycykge1xuICAgIHZhciB0ZXN0ID0gZGlzcGxheS5tZWFzdXJlLmFwcGVuZENoaWxkKGVsdChcImRpdlwiLCBbZWx0KFwiZGl2XCIsIGxhc3QpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJDb2RlTWlycm9yLWxpbmVudW1iZXIgQ29kZU1pcnJvci1ndXR0ZXItZWx0XCIpKVxuICAgIHZhciBpbm5lclcgPSB0ZXN0LmZpcnN0Q2hpbGQub2Zmc2V0V2lkdGgsIHBhZGRpbmcgPSB0ZXN0Lm9mZnNldFdpZHRoIC0gaW5uZXJXXG4gICAgZGlzcGxheS5saW5lR3V0dGVyLnN0eWxlLndpZHRoID0gXCJcIlxuICAgIGRpc3BsYXkubGluZU51bUlubmVyV2lkdGggPSBNYXRoLm1heChpbm5lclcsIGRpc3BsYXkubGluZUd1dHRlci5vZmZzZXRXaWR0aCAtIHBhZGRpbmcpICsgMVxuICAgIGRpc3BsYXkubGluZU51bVdpZHRoID0gZGlzcGxheS5saW5lTnVtSW5uZXJXaWR0aCArIHBhZGRpbmdcbiAgICBkaXNwbGF5LmxpbmVOdW1DaGFycyA9IGRpc3BsYXkubGluZU51bUlubmVyV2lkdGggPyBsYXN0Lmxlbmd0aCA6IC0xXG4gICAgZGlzcGxheS5saW5lR3V0dGVyLnN0eWxlLndpZHRoID0gZGlzcGxheS5saW5lTnVtV2lkdGggKyBcInB4XCJcbiAgICB1cGRhdGVHdXR0ZXJTcGFjZShjbSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG4vLyBSZWFkIHRoZSBhY3R1YWwgaGVpZ2h0cyBvZiB0aGUgcmVuZGVyZWQgbGluZXMsIGFuZCB1cGRhdGUgdGhlaXJcbi8vIHN0b3JlZCBoZWlnaHRzIHRvIG1hdGNoLlxuZnVuY3Rpb24gdXBkYXRlSGVpZ2h0c0luVmlld3BvcnQoY20pIHtcbiAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5XG4gIHZhciBwcmV2Qm90dG9tID0gZGlzcGxheS5saW5lRGl2Lm9mZnNldFRvcFxuICBmb3IgKHZhciBpID0gMDsgaSA8IGRpc3BsYXkudmlldy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBjdXIgPSBkaXNwbGF5LnZpZXdbaV0sIGhlaWdodCA9ICh2b2lkIDApXG4gICAgaWYgKGN1ci5oaWRkZW4pIHsgY29udGludWUgfVxuICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOCkge1xuICAgICAgdmFyIGJvdCA9IGN1ci5ub2RlLm9mZnNldFRvcCArIGN1ci5ub2RlLm9mZnNldEhlaWdodFxuICAgICAgaGVpZ2h0ID0gYm90IC0gcHJldkJvdHRvbVxuICAgICAgcHJldkJvdHRvbSA9IGJvdFxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYm94ID0gY3VyLm5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgIGhlaWdodCA9IGJveC5ib3R0b20gLSBib3gudG9wXG4gICAgfVxuICAgIHZhciBkaWZmID0gY3VyLmxpbmUuaGVpZ2h0IC0gaGVpZ2h0XG4gICAgaWYgKGhlaWdodCA8IDIpIHsgaGVpZ2h0ID0gdGV4dEhlaWdodChkaXNwbGF5KSB9XG4gICAgaWYgKGRpZmYgPiAuMDAxIHx8IGRpZmYgPCAtLjAwMSkge1xuICAgICAgdXBkYXRlTGluZUhlaWdodChjdXIubGluZSwgaGVpZ2h0KVxuICAgICAgdXBkYXRlV2lkZ2V0SGVpZ2h0KGN1ci5saW5lKVxuICAgICAgaWYgKGN1ci5yZXN0KSB7IGZvciAodmFyIGogPSAwOyBqIDwgY3VyLnJlc3QubGVuZ3RoOyBqKyspXG4gICAgICAgIHsgdXBkYXRlV2lkZ2V0SGVpZ2h0KGN1ci5yZXN0W2pdKSB9IH1cbiAgICB9XG4gIH1cbn1cblxuLy8gUmVhZCBhbmQgc3RvcmUgdGhlIGhlaWdodCBvZiBsaW5lIHdpZGdldHMgYXNzb2NpYXRlZCB3aXRoIHRoZVxuLy8gZ2l2ZW4gbGluZS5cbmZ1bmN0aW9uIHVwZGF0ZVdpZGdldEhlaWdodChsaW5lKSB7XG4gIGlmIChsaW5lLndpZGdldHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lLndpZGdldHMubGVuZ3RoOyArK2kpXG4gICAgeyBsaW5lLndpZGdldHNbaV0uaGVpZ2h0ID0gbGluZS53aWRnZXRzW2ldLm5vZGUucGFyZW50Tm9kZS5vZmZzZXRIZWlnaHQgfSB9XG59XG5cbi8vIENvbXB1dGUgdGhlIGxpbmVzIHRoYXQgYXJlIHZpc2libGUgaW4gYSBnaXZlbiB2aWV3cG9ydCAoZGVmYXVsdHNcbi8vIHRoZSB0aGUgY3VycmVudCBzY3JvbGwgcG9zaXRpb24pLiB2aWV3cG9ydCBtYXkgY29udGFpbiB0b3AsXG4vLyBoZWlnaHQsIGFuZCBlbnN1cmUgKHNlZSBvcC5zY3JvbGxUb1BvcykgcHJvcGVydGllcy5cbmZ1bmN0aW9uIHZpc2libGVMaW5lcyhkaXNwbGF5LCBkb2MsIHZpZXdwb3J0KSB7XG4gIHZhciB0b3AgPSB2aWV3cG9ydCAmJiB2aWV3cG9ydC50b3AgIT0gbnVsbCA/IE1hdGgubWF4KDAsIHZpZXdwb3J0LnRvcCkgOiBkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcFxuICB0b3AgPSBNYXRoLmZsb29yKHRvcCAtIHBhZGRpbmdUb3AoZGlzcGxheSkpXG4gIHZhciBib3R0b20gPSB2aWV3cG9ydCAmJiB2aWV3cG9ydC5ib3R0b20gIT0gbnVsbCA/IHZpZXdwb3J0LmJvdHRvbSA6IHRvcCArIGRpc3BsYXkud3JhcHBlci5jbGllbnRIZWlnaHRcblxuICB2YXIgZnJvbSA9IGxpbmVBdEhlaWdodChkb2MsIHRvcCksIHRvID0gbGluZUF0SGVpZ2h0KGRvYywgYm90dG9tKVxuICAvLyBFbnN1cmUgaXMgYSB7ZnJvbToge2xpbmUsIGNofSwgdG86IHtsaW5lLCBjaH19IG9iamVjdCwgYW5kXG4gIC8vIGZvcmNlcyB0aG9zZSBsaW5lcyBpbnRvIHRoZSB2aWV3cG9ydCAoaWYgcG9zc2libGUpLlxuICBpZiAodmlld3BvcnQgJiYgdmlld3BvcnQuZW5zdXJlKSB7XG4gICAgdmFyIGVuc3VyZUZyb20gPSB2aWV3cG9ydC5lbnN1cmUuZnJvbS5saW5lLCBlbnN1cmVUbyA9IHZpZXdwb3J0LmVuc3VyZS50by5saW5lXG4gICAgaWYgKGVuc3VyZUZyb20gPCBmcm9tKSB7XG4gICAgICBmcm9tID0gZW5zdXJlRnJvbVxuICAgICAgdG8gPSBsaW5lQXRIZWlnaHQoZG9jLCBoZWlnaHRBdExpbmUoZ2V0TGluZShkb2MsIGVuc3VyZUZyb20pKSArIGRpc3BsYXkud3JhcHBlci5jbGllbnRIZWlnaHQpXG4gICAgfSBlbHNlIGlmIChNYXRoLm1pbihlbnN1cmVUbywgZG9jLmxhc3RMaW5lKCkpID49IHRvKSB7XG4gICAgICBmcm9tID0gbGluZUF0SGVpZ2h0KGRvYywgaGVpZ2h0QXRMaW5lKGdldExpbmUoZG9jLCBlbnN1cmVUbykpIC0gZGlzcGxheS53cmFwcGVyLmNsaWVudEhlaWdodClcbiAgICAgIHRvID0gZW5zdXJlVG9cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtmcm9tOiBmcm9tLCB0bzogTWF0aC5tYXgodG8sIGZyb20gKyAxKX1cbn1cblxuLy8gU3luYyB0aGUgc2Nyb2xsYWJsZSBhcmVhIGFuZCBzY3JvbGxiYXJzLCBlbnN1cmUgdGhlIHZpZXdwb3J0XG4vLyBjb3ZlcnMgdGhlIHZpc2libGUgYXJlYS5cbmZ1bmN0aW9uIHNldFNjcm9sbFRvcChjbSwgdmFsKSB7XG4gIGlmIChNYXRoLmFicyhjbS5kb2Muc2Nyb2xsVG9wIC0gdmFsKSA8IDIpIHsgcmV0dXJuIH1cbiAgY20uZG9jLnNjcm9sbFRvcCA9IHZhbFxuICBpZiAoIWdlY2tvKSB7IHVwZGF0ZURpc3BsYXlTaW1wbGUoY20sIHt0b3A6IHZhbH0pIH1cbiAgaWYgKGNtLmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wICE9IHZhbCkgeyBjbS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcCA9IHZhbCB9XG4gIGNtLmRpc3BsYXkuc2Nyb2xsYmFycy5zZXRTY3JvbGxUb3AodmFsKVxuICBpZiAoZ2Vja28pIHsgdXBkYXRlRGlzcGxheVNpbXBsZShjbSkgfVxuICBzdGFydFdvcmtlcihjbSwgMTAwKVxufVxuLy8gU3luYyBzY3JvbGxlciBhbmQgc2Nyb2xsYmFyLCBlbnN1cmUgdGhlIGd1dHRlciBlbGVtZW50cyBhcmVcbi8vIGFsaWduZWQuXG5mdW5jdGlvbiBzZXRTY3JvbGxMZWZ0KGNtLCB2YWwsIGlzU2Nyb2xsZXIpIHtcbiAgaWYgKGlzU2Nyb2xsZXIgPyB2YWwgPT0gY20uZG9jLnNjcm9sbExlZnQgOiBNYXRoLmFicyhjbS5kb2Muc2Nyb2xsTGVmdCAtIHZhbCkgPCAyKSB7IHJldHVybiB9XG4gIHZhbCA9IE1hdGgubWluKHZhbCwgY20uZGlzcGxheS5zY3JvbGxlci5zY3JvbGxXaWR0aCAtIGNtLmRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50V2lkdGgpXG4gIGNtLmRvYy5zY3JvbGxMZWZ0ID0gdmFsXG4gIGFsaWduSG9yaXpvbnRhbGx5KGNtKVxuICBpZiAoY20uZGlzcGxheS5zY3JvbGxlci5zY3JvbGxMZWZ0ICE9IHZhbCkgeyBjbS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbExlZnQgPSB2YWwgfVxuICBjbS5kaXNwbGF5LnNjcm9sbGJhcnMuc2V0U2Nyb2xsTGVmdCh2YWwpXG59XG5cbi8vIFNpbmNlIHRoZSBkZWx0YSB2YWx1ZXMgcmVwb3J0ZWQgb24gbW91c2Ugd2hlZWwgZXZlbnRzIGFyZVxuLy8gdW5zdGFuZGFyZGl6ZWQgYmV0d2VlbiBicm93c2VycyBhbmQgZXZlbiBicm93c2VyIHZlcnNpb25zLCBhbmRcbi8vIGdlbmVyYWxseSBob3JyaWJseSB1bnByZWRpY3RhYmxlLCB0aGlzIGNvZGUgc3RhcnRzIGJ5IG1lYXN1cmluZ1xuLy8gdGhlIHNjcm9sbCBlZmZlY3QgdGhhdCB0aGUgZmlyc3QgZmV3IG1vdXNlIHdoZWVsIGV2ZW50cyBoYXZlLFxuLy8gYW5kLCBmcm9tIHRoYXQsIGRldGVjdHMgdGhlIHdheSBpdCBjYW4gY29udmVydCBkZWx0YXMgdG8gcGl4ZWxcbi8vIG9mZnNldHMgYWZ0ZXJ3YXJkcy5cbi8vXG4vLyBUaGUgcmVhc29uIHdlIHdhbnQgdG8ga25vdyB0aGUgYW1vdW50IGEgd2hlZWwgZXZlbnQgd2lsbCBzY3JvbGxcbi8vIGlzIHRoYXQgaXQgZ2l2ZXMgdXMgYSBjaGFuY2UgdG8gdXBkYXRlIHRoZSBkaXNwbGF5IGJlZm9yZSB0aGVcbi8vIGFjdHVhbCBzY3JvbGxpbmcgaGFwcGVucywgcmVkdWNpbmcgZmxpY2tlcmluZy5cblxudmFyIHdoZWVsU2FtcGxlcyA9IDA7XG52YXIgd2hlZWxQaXhlbHNQZXJVbml0ID0gbnVsbDtcbi8vIEZpbGwgaW4gYSBicm93c2VyLWRldGVjdGVkIHN0YXJ0aW5nIHZhbHVlIG9uIGJyb3dzZXJzIHdoZXJlIHdlXG4vLyBrbm93IG9uZS4gVGhlc2UgZG9uJ3QgaGF2ZSB0byBiZSBhY2N1cmF0ZSAtLSB0aGUgcmVzdWx0IG9mIHRoZW1cbi8vIGJlaW5nIHdyb25nIHdvdWxkIGp1c3QgYmUgYSBzbGlnaHQgZmxpY2tlciBvbiB0aGUgZmlyc3Qgd2hlZWxcbi8vIHNjcm9sbCAoaWYgaXQgaXMgbGFyZ2UgZW5vdWdoKS5cbmlmIChpZSkgeyB3aGVlbFBpeGVsc1BlclVuaXQgPSAtLjUzIH1cbmVsc2UgaWYgKGdlY2tvKSB7IHdoZWVsUGl4ZWxzUGVyVW5pdCA9IDE1IH1cbmVsc2UgaWYgKGNocm9tZSkgeyB3aGVlbFBpeGVsc1BlclVuaXQgPSAtLjcgfVxuZWxzZSBpZiAoc2FmYXJpKSB7IHdoZWVsUGl4ZWxzUGVyVW5pdCA9IC0xLzMgfVxuXG5mdW5jdGlvbiB3aGVlbEV2ZW50RGVsdGEoZSkge1xuICB2YXIgZHggPSBlLndoZWVsRGVsdGFYLCBkeSA9IGUud2hlZWxEZWx0YVlcbiAgaWYgKGR4ID09IG51bGwgJiYgZS5kZXRhaWwgJiYgZS5heGlzID09IGUuSE9SSVpPTlRBTF9BWElTKSB7IGR4ID0gZS5kZXRhaWwgfVxuICBpZiAoZHkgPT0gbnVsbCAmJiBlLmRldGFpbCAmJiBlLmF4aXMgPT0gZS5WRVJUSUNBTF9BWElTKSB7IGR5ID0gZS5kZXRhaWwgfVxuICBlbHNlIGlmIChkeSA9PSBudWxsKSB7IGR5ID0gZS53aGVlbERlbHRhIH1cbiAgcmV0dXJuIHt4OiBkeCwgeTogZHl9XG59XG5mdW5jdGlvbiB3aGVlbEV2ZW50UGl4ZWxzKGUpIHtcbiAgdmFyIGRlbHRhID0gd2hlZWxFdmVudERlbHRhKGUpXG4gIGRlbHRhLnggKj0gd2hlZWxQaXhlbHNQZXJVbml0XG4gIGRlbHRhLnkgKj0gd2hlZWxQaXhlbHNQZXJVbml0XG4gIHJldHVybiBkZWx0YVxufVxuXG5mdW5jdGlvbiBvblNjcm9sbFdoZWVsKGNtLCBlKSB7XG4gIHZhciBkZWx0YSA9IHdoZWVsRXZlbnREZWx0YShlKSwgZHggPSBkZWx0YS54LCBkeSA9IGRlbHRhLnlcblxuICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIHNjcm9sbCA9IGRpc3BsYXkuc2Nyb2xsZXJcbiAgLy8gUXVpdCBpZiB0aGVyZSdzIG5vdGhpbmcgdG8gc2Nyb2xsIGhlcmVcbiAgdmFyIGNhblNjcm9sbFggPSBzY3JvbGwuc2Nyb2xsV2lkdGggPiBzY3JvbGwuY2xpZW50V2lkdGhcbiAgdmFyIGNhblNjcm9sbFkgPSBzY3JvbGwuc2Nyb2xsSGVpZ2h0ID4gc2Nyb2xsLmNsaWVudEhlaWdodFxuICBpZiAoIShkeCAmJiBjYW5TY3JvbGxYIHx8IGR5ICYmIGNhblNjcm9sbFkpKSB7IHJldHVybiB9XG5cbiAgLy8gV2Via2l0IGJyb3dzZXJzIG9uIE9TIFggYWJvcnQgbW9tZW50dW0gc2Nyb2xscyB3aGVuIHRoZSB0YXJnZXRcbiAgLy8gb2YgdGhlIHNjcm9sbCBldmVudCBpcyByZW1vdmVkIGZyb20gdGhlIHNjcm9sbGFibGUgZWxlbWVudC5cbiAgLy8gVGhpcyBoYWNrIChzZWUgcmVsYXRlZCBjb2RlIGluIHBhdGNoRGlzcGxheSkgbWFrZXMgc3VyZSB0aGVcbiAgLy8gZWxlbWVudCBpcyBrZXB0IGFyb3VuZC5cbiAgaWYgKGR5ICYmIG1hYyAmJiB3ZWJraXQpIHtcbiAgICBvdXRlcjogZm9yICh2YXIgY3VyID0gZS50YXJnZXQsIHZpZXcgPSBkaXNwbGF5LnZpZXc7IGN1ciAhPSBzY3JvbGw7IGN1ciA9IGN1ci5wYXJlbnROb2RlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHZpZXdbaV0ubm9kZSA9PSBjdXIpIHtcbiAgICAgICAgICBjbS5kaXNwbGF5LmN1cnJlbnRXaGVlbFRhcmdldCA9IGN1clxuICAgICAgICAgIGJyZWFrIG91dGVyXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBPbiBzb21lIGJyb3dzZXJzLCBob3Jpem9udGFsIHNjcm9sbGluZyB3aWxsIGNhdXNlIHJlZHJhd3MgdG9cbiAgLy8gaGFwcGVuIGJlZm9yZSB0aGUgZ3V0dGVyIGhhcyBiZWVuIHJlYWxpZ25lZCwgY2F1c2luZyBpdCB0b1xuICAvLyB3cmlnZ2xlIGFyb3VuZCBpbiBhIG1vc3QgdW5zZWVtbHkgd2F5LiBXaGVuIHdlIGhhdmUgYW5cbiAgLy8gZXN0aW1hdGVkIHBpeGVscy9kZWx0YSB2YWx1ZSwgd2UganVzdCBoYW5kbGUgaG9yaXpvbnRhbFxuICAvLyBzY3JvbGxpbmcgZW50aXJlbHkgaGVyZS4gSXQnbGwgYmUgc2xpZ2h0bHkgb2ZmIGZyb20gbmF0aXZlLCBidXRcbiAgLy8gYmV0dGVyIHRoYW4gZ2xpdGNoaW5nIG91dC5cbiAgaWYgKGR4ICYmICFnZWNrbyAmJiAhcHJlc3RvICYmIHdoZWVsUGl4ZWxzUGVyVW5pdCAhPSBudWxsKSB7XG4gICAgaWYgKGR5ICYmIGNhblNjcm9sbFkpXG4gICAgICB7IHNldFNjcm9sbFRvcChjbSwgTWF0aC5tYXgoMCwgTWF0aC5taW4oc2Nyb2xsLnNjcm9sbFRvcCArIGR5ICogd2hlZWxQaXhlbHNQZXJVbml0LCBzY3JvbGwuc2Nyb2xsSGVpZ2h0IC0gc2Nyb2xsLmNsaWVudEhlaWdodCkpKSB9XG4gICAgc2V0U2Nyb2xsTGVmdChjbSwgTWF0aC5tYXgoMCwgTWF0aC5taW4oc2Nyb2xsLnNjcm9sbExlZnQgKyBkeCAqIHdoZWVsUGl4ZWxzUGVyVW5pdCwgc2Nyb2xsLnNjcm9sbFdpZHRoIC0gc2Nyb2xsLmNsaWVudFdpZHRoKSkpXG4gICAgLy8gT25seSBwcmV2ZW50IGRlZmF1bHQgc2Nyb2xsaW5nIGlmIHZlcnRpY2FsIHNjcm9sbGluZyBpc1xuICAgIC8vIGFjdHVhbGx5IHBvc3NpYmxlLiBPdGhlcndpc2UsIGl0IGNhdXNlcyB2ZXJ0aWNhbCBzY3JvbGxcbiAgICAvLyBqaXR0ZXIgb24gT1NYIHRyYWNrcGFkcyB3aGVuIGRlbHRhWCBpcyBzbWFsbCBhbmQgZGVsdGFZXG4gICAgLy8gaXMgbGFyZ2UgKGlzc3VlICMzNTc5KVxuICAgIGlmICghZHkgfHwgKGR5ICYmIGNhblNjcm9sbFkpKVxuICAgICAgeyBlX3ByZXZlbnREZWZhdWx0KGUpIH1cbiAgICBkaXNwbGF5LndoZWVsU3RhcnRYID0gbnVsbCAvLyBBYm9ydCBtZWFzdXJlbWVudCwgaWYgaW4gcHJvZ3Jlc3NcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8vICdQcm9qZWN0JyB0aGUgdmlzaWJsZSB2aWV3cG9ydCB0byBjb3ZlciB0aGUgYXJlYSB0aGF0IGlzIGJlaW5nXG4gIC8vIHNjcm9sbGVkIGludG8gdmlldyAoaWYgd2Uga25vdyBlbm91Z2ggdG8gZXN0aW1hdGUgaXQpLlxuICBpZiAoZHkgJiYgd2hlZWxQaXhlbHNQZXJVbml0ICE9IG51bGwpIHtcbiAgICB2YXIgcGl4ZWxzID0gZHkgKiB3aGVlbFBpeGVsc1BlclVuaXRcbiAgICB2YXIgdG9wID0gY20uZG9jLnNjcm9sbFRvcCwgYm90ID0gdG9wICsgZGlzcGxheS53cmFwcGVyLmNsaWVudEhlaWdodFxuICAgIGlmIChwaXhlbHMgPCAwKSB7IHRvcCA9IE1hdGgubWF4KDAsIHRvcCArIHBpeGVscyAtIDUwKSB9XG4gICAgZWxzZSB7IGJvdCA9IE1hdGgubWluKGNtLmRvYy5oZWlnaHQsIGJvdCArIHBpeGVscyArIDUwKSB9XG4gICAgdXBkYXRlRGlzcGxheVNpbXBsZShjbSwge3RvcDogdG9wLCBib3R0b206IGJvdH0pXG4gIH1cblxuICBpZiAod2hlZWxTYW1wbGVzIDwgMjApIHtcbiAgICBpZiAoZGlzcGxheS53aGVlbFN0YXJ0WCA9PSBudWxsKSB7XG4gICAgICBkaXNwbGF5LndoZWVsU3RhcnRYID0gc2Nyb2xsLnNjcm9sbExlZnQ7IGRpc3BsYXkud2hlZWxTdGFydFkgPSBzY3JvbGwuc2Nyb2xsVG9wXG4gICAgICBkaXNwbGF5LndoZWVsRFggPSBkeDsgZGlzcGxheS53aGVlbERZID0gZHlcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoZGlzcGxheS53aGVlbFN0YXJ0WCA9PSBudWxsKSB7IHJldHVybiB9XG4gICAgICAgIHZhciBtb3ZlZFggPSBzY3JvbGwuc2Nyb2xsTGVmdCAtIGRpc3BsYXkud2hlZWxTdGFydFhcbiAgICAgICAgdmFyIG1vdmVkWSA9IHNjcm9sbC5zY3JvbGxUb3AgLSBkaXNwbGF5LndoZWVsU3RhcnRZXG4gICAgICAgIHZhciBzYW1wbGUgPSAobW92ZWRZICYmIGRpc3BsYXkud2hlZWxEWSAmJiBtb3ZlZFkgLyBkaXNwbGF5LndoZWVsRFkpIHx8XG4gICAgICAgICAgKG1vdmVkWCAmJiBkaXNwbGF5LndoZWVsRFggJiYgbW92ZWRYIC8gZGlzcGxheS53aGVlbERYKVxuICAgICAgICBkaXNwbGF5LndoZWVsU3RhcnRYID0gZGlzcGxheS53aGVlbFN0YXJ0WSA9IG51bGxcbiAgICAgICAgaWYgKCFzYW1wbGUpIHsgcmV0dXJuIH1cbiAgICAgICAgd2hlZWxQaXhlbHNQZXJVbml0ID0gKHdoZWVsUGl4ZWxzUGVyVW5pdCAqIHdoZWVsU2FtcGxlcyArIHNhbXBsZSkgLyAod2hlZWxTYW1wbGVzICsgMSlcbiAgICAgICAgKyt3aGVlbFNhbXBsZXNcbiAgICAgIH0sIDIwMClcbiAgICB9IGVsc2Uge1xuICAgICAgZGlzcGxheS53aGVlbERYICs9IGR4OyBkaXNwbGF5LndoZWVsRFkgKz0gZHlcbiAgICB9XG4gIH1cbn1cblxuLy8gU0NST0xMQkFSU1xuXG4vLyBQcmVwYXJlIERPTSByZWFkcyBuZWVkZWQgdG8gdXBkYXRlIHRoZSBzY3JvbGxiYXJzLiBEb25lIGluIG9uZVxuLy8gc2hvdCB0byBtaW5pbWl6ZSB1cGRhdGUvbWVhc3VyZSByb3VuZHRyaXBzLlxuZnVuY3Rpb24gbWVhc3VyZUZvclNjcm9sbGJhcnMoY20pIHtcbiAgdmFyIGQgPSBjbS5kaXNwbGF5LCBndXR0ZXJXID0gZC5ndXR0ZXJzLm9mZnNldFdpZHRoXG4gIHZhciBkb2NIID0gTWF0aC5yb3VuZChjbS5kb2MuaGVpZ2h0ICsgcGFkZGluZ1ZlcnQoY20uZGlzcGxheSkpXG4gIHJldHVybiB7XG4gICAgY2xpZW50SGVpZ2h0OiBkLnNjcm9sbGVyLmNsaWVudEhlaWdodCxcbiAgICB2aWV3SGVpZ2h0OiBkLndyYXBwZXIuY2xpZW50SGVpZ2h0LFxuICAgIHNjcm9sbFdpZHRoOiBkLnNjcm9sbGVyLnNjcm9sbFdpZHRoLCBjbGllbnRXaWR0aDogZC5zY3JvbGxlci5jbGllbnRXaWR0aCxcbiAgICB2aWV3V2lkdGg6IGQud3JhcHBlci5jbGllbnRXaWR0aCxcbiAgICBiYXJMZWZ0OiBjbS5vcHRpb25zLmZpeGVkR3V0dGVyID8gZ3V0dGVyVyA6IDAsXG4gICAgZG9jSGVpZ2h0OiBkb2NILFxuICAgIHNjcm9sbEhlaWdodDogZG9jSCArIHNjcm9sbEdhcChjbSkgKyBkLmJhckhlaWdodCxcbiAgICBuYXRpdmVCYXJXaWR0aDogZC5uYXRpdmVCYXJXaWR0aCxcbiAgICBndXR0ZXJXaWR0aDogZ3V0dGVyV1xuICB9XG59XG5cbmZ1bmN0aW9uIE5hdGl2ZVNjcm9sbGJhcnMocGxhY2UsIHNjcm9sbCwgY20pIHtcbiAgdGhpcy5jbSA9IGNtXG4gIHZhciB2ZXJ0ID0gdGhpcy52ZXJ0ID0gZWx0KFwiZGl2XCIsIFtlbHQoXCJkaXZcIiwgbnVsbCwgbnVsbCwgXCJtaW4td2lkdGg6IDFweFwiKV0sIFwiQ29kZU1pcnJvci12c2Nyb2xsYmFyXCIpXG4gIHZhciBob3JpeiA9IHRoaXMuaG9yaXogPSBlbHQoXCJkaXZcIiwgW2VsdChcImRpdlwiLCBudWxsLCBudWxsLCBcImhlaWdodDogMTAwJTsgbWluLWhlaWdodDogMXB4XCIpXSwgXCJDb2RlTWlycm9yLWhzY3JvbGxiYXJcIilcbiAgcGxhY2UodmVydCk7IHBsYWNlKGhvcml6KVxuXG4gIG9uKHZlcnQsIFwic2Nyb2xsXCIsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodmVydC5jbGllbnRIZWlnaHQpIHsgc2Nyb2xsKHZlcnQuc2Nyb2xsVG9wLCBcInZlcnRpY2FsXCIpIH1cbiAgfSlcbiAgb24oaG9yaXosIFwic2Nyb2xsXCIsIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoaG9yaXouY2xpZW50V2lkdGgpIHsgc2Nyb2xsKGhvcml6LnNjcm9sbExlZnQsIFwiaG9yaXpvbnRhbFwiKSB9XG4gIH0pXG5cbiAgdGhpcy5jaGVja2VkWmVyb1dpZHRoID0gZmFsc2VcbiAgLy8gTmVlZCB0byBzZXQgYSBtaW5pbXVtIHdpZHRoIHRvIHNlZSB0aGUgc2Nyb2xsYmFyIG9uIElFNyAoYnV0IG11c3Qgbm90IHNldCBpdCBvbiBJRTgpLlxuICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDgpIHsgdGhpcy5ob3Jpei5zdHlsZS5taW5IZWlnaHQgPSB0aGlzLnZlcnQuc3R5bGUubWluV2lkdGggPSBcIjE4cHhcIiB9XG59XG5cbk5hdGl2ZVNjcm9sbGJhcnMucHJvdG90eXBlID0gY29weU9iaih7XG4gIHVwZGF0ZTogZnVuY3Rpb24obWVhc3VyZSkge1xuICAgIHZhciBuZWVkc0ggPSBtZWFzdXJlLnNjcm9sbFdpZHRoID4gbWVhc3VyZS5jbGllbnRXaWR0aCArIDFcbiAgICB2YXIgbmVlZHNWID0gbWVhc3VyZS5zY3JvbGxIZWlnaHQgPiBtZWFzdXJlLmNsaWVudEhlaWdodCArIDFcbiAgICB2YXIgc1dpZHRoID0gbWVhc3VyZS5uYXRpdmVCYXJXaWR0aFxuXG4gICAgaWYgKG5lZWRzVikge1xuICAgICAgdGhpcy52ZXJ0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCJcbiAgICAgIHRoaXMudmVydC5zdHlsZS5ib3R0b20gPSBuZWVkc0ggPyBzV2lkdGggKyBcInB4XCIgOiBcIjBcIlxuICAgICAgdmFyIHRvdGFsSGVpZ2h0ID0gbWVhc3VyZS52aWV3SGVpZ2h0IC0gKG5lZWRzSCA/IHNXaWR0aCA6IDApXG4gICAgICAvLyBBIGJ1ZyBpbiBJRTggY2FuIGNhdXNlIHRoaXMgdmFsdWUgdG8gYmUgbmVnYXRpdmUsIHNvIGd1YXJkIGl0LlxuICAgICAgdGhpcy52ZXJ0LmZpcnN0Q2hpbGQuc3R5bGUuaGVpZ2h0ID1cbiAgICAgICAgTWF0aC5tYXgoMCwgbWVhc3VyZS5zY3JvbGxIZWlnaHQgLSBtZWFzdXJlLmNsaWVudEhlaWdodCArIHRvdGFsSGVpZ2h0KSArIFwicHhcIlxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnZlcnQuc3R5bGUuZGlzcGxheSA9IFwiXCJcbiAgICAgIHRoaXMudmVydC5maXJzdENoaWxkLnN0eWxlLmhlaWdodCA9IFwiMFwiXG4gICAgfVxuXG4gICAgaWYgKG5lZWRzSCkge1xuICAgICAgdGhpcy5ob3Jpei5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXG4gICAgICB0aGlzLmhvcml6LnN0eWxlLnJpZ2h0ID0gbmVlZHNWID8gc1dpZHRoICsgXCJweFwiIDogXCIwXCJcbiAgICAgIHRoaXMuaG9yaXouc3R5bGUubGVmdCA9IG1lYXN1cmUuYmFyTGVmdCArIFwicHhcIlxuICAgICAgdmFyIHRvdGFsV2lkdGggPSBtZWFzdXJlLnZpZXdXaWR0aCAtIG1lYXN1cmUuYmFyTGVmdCAtIChuZWVkc1YgPyBzV2lkdGggOiAwKVxuICAgICAgdGhpcy5ob3Jpei5maXJzdENoaWxkLnN0eWxlLndpZHRoID1cbiAgICAgICAgKG1lYXN1cmUuc2Nyb2xsV2lkdGggLSBtZWFzdXJlLmNsaWVudFdpZHRoICsgdG90YWxXaWR0aCkgKyBcInB4XCJcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ob3Jpei5zdHlsZS5kaXNwbGF5ID0gXCJcIlxuICAgICAgdGhpcy5ob3Jpei5maXJzdENoaWxkLnN0eWxlLndpZHRoID0gXCIwXCJcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuY2hlY2tlZFplcm9XaWR0aCAmJiBtZWFzdXJlLmNsaWVudEhlaWdodCA+IDApIHtcbiAgICAgIGlmIChzV2lkdGggPT0gMCkgeyB0aGlzLnplcm9XaWR0aEhhY2soKSB9XG4gICAgICB0aGlzLmNoZWNrZWRaZXJvV2lkdGggPSB0cnVlXG4gICAgfVxuXG4gICAgcmV0dXJuIHtyaWdodDogbmVlZHNWID8gc1dpZHRoIDogMCwgYm90dG9tOiBuZWVkc0ggPyBzV2lkdGggOiAwfVxuICB9LFxuICBzZXRTY3JvbGxMZWZ0OiBmdW5jdGlvbihwb3MpIHtcbiAgICBpZiAodGhpcy5ob3Jpei5zY3JvbGxMZWZ0ICE9IHBvcykgeyB0aGlzLmhvcml6LnNjcm9sbExlZnQgPSBwb3MgfVxuICAgIGlmICh0aGlzLmRpc2FibGVIb3JpeikgeyB0aGlzLmVuYWJsZVplcm9XaWR0aEJhcih0aGlzLmhvcml6LCB0aGlzLmRpc2FibGVIb3JpeikgfVxuICB9LFxuICBzZXRTY3JvbGxUb3A6IGZ1bmN0aW9uKHBvcykge1xuICAgIGlmICh0aGlzLnZlcnQuc2Nyb2xsVG9wICE9IHBvcykgeyB0aGlzLnZlcnQuc2Nyb2xsVG9wID0gcG9zIH1cbiAgICBpZiAodGhpcy5kaXNhYmxlVmVydCkgeyB0aGlzLmVuYWJsZVplcm9XaWR0aEJhcih0aGlzLnZlcnQsIHRoaXMuZGlzYWJsZVZlcnQpIH1cbiAgfSxcbiAgemVyb1dpZHRoSGFjazogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHcgPSBtYWMgJiYgIW1hY19nZU1vdW50YWluTGlvbiA/IFwiMTJweFwiIDogXCIxOHB4XCJcbiAgICB0aGlzLmhvcml6LnN0eWxlLmhlaWdodCA9IHRoaXMudmVydC5zdHlsZS53aWR0aCA9IHdcbiAgICB0aGlzLmhvcml6LnN0eWxlLnBvaW50ZXJFdmVudHMgPSB0aGlzLnZlcnQuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiXG4gICAgdGhpcy5kaXNhYmxlSG9yaXogPSBuZXcgRGVsYXllZFxuICAgIHRoaXMuZGlzYWJsZVZlcnQgPSBuZXcgRGVsYXllZFxuICB9LFxuICBlbmFibGVaZXJvV2lkdGhCYXI6IGZ1bmN0aW9uKGJhciwgZGVsYXkpIHtcbiAgICBiYXIuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwiYXV0b1wiXG4gICAgZnVuY3Rpb24gbWF5YmVEaXNhYmxlKCkge1xuICAgICAgLy8gVG8gZmluZCBvdXQgd2hldGhlciB0aGUgc2Nyb2xsYmFyIGlzIHN0aWxsIHZpc2libGUsIHdlXG4gICAgICAvLyBjaGVjayB3aGV0aGVyIHRoZSBlbGVtZW50IHVuZGVyIHRoZSBwaXhlbCBpbiB0aGUgYm90dG9tXG4gICAgICAvLyBsZWZ0IGNvcm5lciBvZiB0aGUgc2Nyb2xsYmFyIGJveCBpcyB0aGUgc2Nyb2xsYmFyIGJveFxuICAgICAgLy8gaXRzZWxmICh3aGVuIHRoZSBiYXIgaXMgc3RpbGwgdmlzaWJsZSkgb3IgaXRzIGZpbGxlciBjaGlsZFxuICAgICAgLy8gKHdoZW4gdGhlIGJhciBpcyBoaWRkZW4pLiBJZiBpdCBpcyBzdGlsbCB2aXNpYmxlLCB3ZSBrZWVwXG4gICAgICAvLyBpdCBlbmFibGVkLCBpZiBpdCdzIGhpZGRlbiwgd2UgZGlzYWJsZSBwb2ludGVyIGV2ZW50cy5cbiAgICAgIHZhciBib3ggPSBiYXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgIHZhciBlbHQgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGJveC5sZWZ0ICsgMSwgYm94LmJvdHRvbSAtIDEpXG4gICAgICBpZiAoZWx0ICE9IGJhcikgeyBiYXIuc3R5bGUucG9pbnRlckV2ZW50cyA9IFwibm9uZVwiIH1cbiAgICAgIGVsc2UgeyBkZWxheS5zZXQoMTAwMCwgbWF5YmVEaXNhYmxlKSB9XG4gICAgfVxuICAgIGRlbGF5LnNldCgxMDAwLCBtYXliZURpc2FibGUpXG4gIH0sXG4gIGNsZWFyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgcGFyZW50ID0gdGhpcy5ob3Jpei5wYXJlbnROb2RlXG4gICAgcGFyZW50LnJlbW92ZUNoaWxkKHRoaXMuaG9yaXopXG4gICAgcGFyZW50LnJlbW92ZUNoaWxkKHRoaXMudmVydClcbiAgfVxufSwgTmF0aXZlU2Nyb2xsYmFycy5wcm90b3R5cGUpXG5cbmZ1bmN0aW9uIE51bGxTY3JvbGxiYXJzKCkge31cblxuTnVsbFNjcm9sbGJhcnMucHJvdG90eXBlID0gY29weU9iaih7XG4gIHVwZGF0ZTogZnVuY3Rpb24oKSB7IHJldHVybiB7Ym90dG9tOiAwLCByaWdodDogMH0gfSxcbiAgc2V0U2Nyb2xsTGVmdDogZnVuY3Rpb24oKSB7fSxcbiAgc2V0U2Nyb2xsVG9wOiBmdW5jdGlvbigpIHt9LFxuICBjbGVhcjogZnVuY3Rpb24oKSB7fVxufSwgTnVsbFNjcm9sbGJhcnMucHJvdG90eXBlKVxuXG5mdW5jdGlvbiB1cGRhdGVTY3JvbGxiYXJzKGNtLCBtZWFzdXJlKSB7XG4gIGlmICghbWVhc3VyZSkgeyBtZWFzdXJlID0gbWVhc3VyZUZvclNjcm9sbGJhcnMoY20pIH1cbiAgdmFyIHN0YXJ0V2lkdGggPSBjbS5kaXNwbGF5LmJhcldpZHRoLCBzdGFydEhlaWdodCA9IGNtLmRpc3BsYXkuYmFySGVpZ2h0XG4gIHVwZGF0ZVNjcm9sbGJhcnNJbm5lcihjbSwgbWVhc3VyZSlcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCA0ICYmIHN0YXJ0V2lkdGggIT0gY20uZGlzcGxheS5iYXJXaWR0aCB8fCBzdGFydEhlaWdodCAhPSBjbS5kaXNwbGF5LmJhckhlaWdodDsgaSsrKSB7XG4gICAgaWYgKHN0YXJ0V2lkdGggIT0gY20uZGlzcGxheS5iYXJXaWR0aCAmJiBjbS5vcHRpb25zLmxpbmVXcmFwcGluZylcbiAgICAgIHsgdXBkYXRlSGVpZ2h0c0luVmlld3BvcnQoY20pIH1cbiAgICB1cGRhdGVTY3JvbGxiYXJzSW5uZXIoY20sIG1lYXN1cmVGb3JTY3JvbGxiYXJzKGNtKSlcbiAgICBzdGFydFdpZHRoID0gY20uZGlzcGxheS5iYXJXaWR0aDsgc3RhcnRIZWlnaHQgPSBjbS5kaXNwbGF5LmJhckhlaWdodFxuICB9XG59XG5cbi8vIFJlLXN5bmNocm9uaXplIHRoZSBmYWtlIHNjcm9sbGJhcnMgd2l0aCB0aGUgYWN0dWFsIHNpemUgb2YgdGhlXG4vLyBjb250ZW50LlxuZnVuY3Rpb24gdXBkYXRlU2Nyb2xsYmFyc0lubmVyKGNtLCBtZWFzdXJlKSB7XG4gIHZhciBkID0gY20uZGlzcGxheVxuICB2YXIgc2l6ZXMgPSBkLnNjcm9sbGJhcnMudXBkYXRlKG1lYXN1cmUpXG5cbiAgZC5zaXplci5zdHlsZS5wYWRkaW5nUmlnaHQgPSAoZC5iYXJXaWR0aCA9IHNpemVzLnJpZ2h0KSArIFwicHhcIlxuICBkLnNpemVyLnN0eWxlLnBhZGRpbmdCb3R0b20gPSAoZC5iYXJIZWlnaHQgPSBzaXplcy5ib3R0b20pICsgXCJweFwiXG4gIGQuaGVpZ2h0Rm9yY2VyLnN0eWxlLmJvcmRlckJvdHRvbSA9IHNpemVzLmJvdHRvbSArIFwicHggc29saWQgdHJhbnNwYXJlbnRcIlxuXG4gIGlmIChzaXplcy5yaWdodCAmJiBzaXplcy5ib3R0b20pIHtcbiAgICBkLnNjcm9sbGJhckZpbGxlci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiXG4gICAgZC5zY3JvbGxiYXJGaWxsZXIuc3R5bGUuaGVpZ2h0ID0gc2l6ZXMuYm90dG9tICsgXCJweFwiXG4gICAgZC5zY3JvbGxiYXJGaWxsZXIuc3R5bGUud2lkdGggPSBzaXplcy5yaWdodCArIFwicHhcIlxuICB9IGVsc2UgeyBkLnNjcm9sbGJhckZpbGxlci5zdHlsZS5kaXNwbGF5ID0gXCJcIiB9XG4gIGlmIChzaXplcy5ib3R0b20gJiYgY20ub3B0aW9ucy5jb3Zlckd1dHRlck5leHRUb1Njcm9sbGJhciAmJiBjbS5vcHRpb25zLmZpeGVkR3V0dGVyKSB7XG4gICAgZC5ndXR0ZXJGaWxsZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIlxuICAgIGQuZ3V0dGVyRmlsbGVyLnN0eWxlLmhlaWdodCA9IHNpemVzLmJvdHRvbSArIFwicHhcIlxuICAgIGQuZ3V0dGVyRmlsbGVyLnN0eWxlLndpZHRoID0gbWVhc3VyZS5ndXR0ZXJXaWR0aCArIFwicHhcIlxuICB9IGVsc2UgeyBkLmd1dHRlckZpbGxlci5zdHlsZS5kaXNwbGF5ID0gXCJcIiB9XG59XG5cbnZhciBzY3JvbGxiYXJNb2RlbCA9IHtcIm5hdGl2ZVwiOiBOYXRpdmVTY3JvbGxiYXJzLCBcIm51bGxcIjogTnVsbFNjcm9sbGJhcnN9XG5cbmZ1bmN0aW9uIGluaXRTY3JvbGxiYXJzKGNtKSB7XG4gIGlmIChjbS5kaXNwbGF5LnNjcm9sbGJhcnMpIHtcbiAgICBjbS5kaXNwbGF5LnNjcm9sbGJhcnMuY2xlYXIoKVxuICAgIGlmIChjbS5kaXNwbGF5LnNjcm9sbGJhcnMuYWRkQ2xhc3MpXG4gICAgICB7IHJtQ2xhc3MoY20uZGlzcGxheS53cmFwcGVyLCBjbS5kaXNwbGF5LnNjcm9sbGJhcnMuYWRkQ2xhc3MpIH1cbiAgfVxuXG4gIGNtLmRpc3BsYXkuc2Nyb2xsYmFycyA9IG5ldyBzY3JvbGxiYXJNb2RlbFtjbS5vcHRpb25zLnNjcm9sbGJhclN0eWxlXShmdW5jdGlvbiAobm9kZSkge1xuICAgIGNtLmRpc3BsYXkud3JhcHBlci5pbnNlcnRCZWZvcmUobm9kZSwgY20uZGlzcGxheS5zY3JvbGxiYXJGaWxsZXIpXG4gICAgLy8gUHJldmVudCBjbGlja3MgaW4gdGhlIHNjcm9sbGJhcnMgZnJvbSBraWxsaW5nIGZvY3VzXG4gICAgb24obm9kZSwgXCJtb3VzZWRvd25cIiwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGNtLnN0YXRlLmZvY3VzZWQpIHsgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBjbS5kaXNwbGF5LmlucHV0LmZvY3VzKCk7IH0sIDApIH1cbiAgICB9KVxuICAgIG5vZGUuc2V0QXR0cmlidXRlKFwiY20tbm90LWNvbnRlbnRcIiwgXCJ0cnVlXCIpXG4gIH0sIGZ1bmN0aW9uIChwb3MsIGF4aXMpIHtcbiAgICBpZiAoYXhpcyA9PSBcImhvcml6b250YWxcIikgeyBzZXRTY3JvbGxMZWZ0KGNtLCBwb3MpIH1cbiAgICBlbHNlIHsgc2V0U2Nyb2xsVG9wKGNtLCBwb3MpIH1cbiAgfSwgY20pXG4gIGlmIChjbS5kaXNwbGF5LnNjcm9sbGJhcnMuYWRkQ2xhc3MpXG4gICAgeyBhZGRDbGFzcyhjbS5kaXNwbGF5LndyYXBwZXIsIGNtLmRpc3BsYXkuc2Nyb2xsYmFycy5hZGRDbGFzcykgfVxufVxuXG4vLyBTQ1JPTExJTkcgVEhJTkdTIElOVE8gVklFV1xuXG4vLyBJZiBhbiBlZGl0b3Igc2l0cyBvbiB0aGUgdG9wIG9yIGJvdHRvbSBvZiB0aGUgd2luZG93LCBwYXJ0aWFsbHlcbi8vIHNjcm9sbGVkIG91dCBvZiB2aWV3LCB0aGlzIGVuc3VyZXMgdGhhdCB0aGUgY3Vyc29yIGlzIHZpc2libGUuXG5mdW5jdGlvbiBtYXliZVNjcm9sbFdpbmRvdyhjbSwgY29vcmRzKSB7XG4gIGlmIChzaWduYWxET01FdmVudChjbSwgXCJzY3JvbGxDdXJzb3JJbnRvVmlld1wiKSkgeyByZXR1cm4gfVxuXG4gIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgYm94ID0gZGlzcGxheS5zaXplci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgZG9TY3JvbGwgPSBudWxsXG4gIGlmIChjb29yZHMudG9wICsgYm94LnRvcCA8IDApIHsgZG9TY3JvbGwgPSB0cnVlIH1cbiAgZWxzZSBpZiAoY29vcmRzLmJvdHRvbSArIGJveC50b3AgPiAod2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpKSB7IGRvU2Nyb2xsID0gZmFsc2UgfVxuICBpZiAoZG9TY3JvbGwgIT0gbnVsbCAmJiAhcGhhbnRvbSkge1xuICAgIHZhciBzY3JvbGxOb2RlID0gZWx0KFwiZGl2XCIsIFwiXFx1MjAwYlwiLCBudWxsLCAoXCJwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogXCIgKyAoY29vcmRzLnRvcCAtIGRpc3BsYXkudmlld09mZnNldCAtIHBhZGRpbmdUb3AoY20uZGlzcGxheSkpICsgXCJweDtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIiArIChjb29yZHMuYm90dG9tIC0gY29vcmRzLnRvcCArIHNjcm9sbEdhcChjbSkgKyBkaXNwbGF5LmJhckhlaWdodCkgKyBcInB4O1xcbiAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBcIiArIChjb29yZHMubGVmdCkgKyBcInB4OyB3aWR0aDogMnB4O1wiKSlcbiAgICBjbS5kaXNwbGF5LmxpbmVTcGFjZS5hcHBlbmRDaGlsZChzY3JvbGxOb2RlKVxuICAgIHNjcm9sbE5vZGUuc2Nyb2xsSW50b1ZpZXcoZG9TY3JvbGwpXG4gICAgY20uZGlzcGxheS5saW5lU3BhY2UucmVtb3ZlQ2hpbGQoc2Nyb2xsTm9kZSlcbiAgfVxufVxuXG4vLyBTY3JvbGwgYSBnaXZlbiBwb3NpdGlvbiBpbnRvIHZpZXcgKGltbWVkaWF0ZWx5KSwgdmVyaWZ5aW5nIHRoYXRcbi8vIGl0IGFjdHVhbGx5IGJlY2FtZSB2aXNpYmxlIChhcyBsaW5lIGhlaWdodHMgYXJlIGFjY3VyYXRlbHlcbi8vIG1lYXN1cmVkLCB0aGUgcG9zaXRpb24gb2Ygc29tZXRoaW5nIG1heSAnZHJpZnQnIGR1cmluZyBkcmF3aW5nKS5cbmZ1bmN0aW9uIHNjcm9sbFBvc0ludG9WaWV3KGNtLCBwb3MsIGVuZCwgbWFyZ2luKSB7XG4gIGlmIChtYXJnaW4gPT0gbnVsbCkgeyBtYXJnaW4gPSAwIH1cbiAgdmFyIGNvb3Jkc1xuICBmb3IgKHZhciBsaW1pdCA9IDA7IGxpbWl0IDwgNTsgbGltaXQrKykge1xuICAgIHZhciBjaGFuZ2VkID0gZmFsc2VcbiAgICBjb29yZHMgPSBjdXJzb3JDb29yZHMoY20sIHBvcylcbiAgICB2YXIgZW5kQ29vcmRzID0gIWVuZCB8fCBlbmQgPT0gcG9zID8gY29vcmRzIDogY3Vyc29yQ29vcmRzKGNtLCBlbmQpXG4gICAgdmFyIHNjcm9sbFBvcyA9IGNhbGN1bGF0ZVNjcm9sbFBvcyhjbSwgTWF0aC5taW4oY29vcmRzLmxlZnQsIGVuZENvb3Jkcy5sZWZ0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKGNvb3Jkcy50b3AsIGVuZENvb3Jkcy50b3ApIC0gbWFyZ2luLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoY29vcmRzLmxlZnQsIGVuZENvb3Jkcy5sZWZ0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KGNvb3Jkcy5ib3R0b20sIGVuZENvb3Jkcy5ib3R0b20pICsgbWFyZ2luKVxuICAgIHZhciBzdGFydFRvcCA9IGNtLmRvYy5zY3JvbGxUb3AsIHN0YXJ0TGVmdCA9IGNtLmRvYy5zY3JvbGxMZWZ0XG4gICAgaWYgKHNjcm9sbFBvcy5zY3JvbGxUb3AgIT0gbnVsbCkge1xuICAgICAgc2V0U2Nyb2xsVG9wKGNtLCBzY3JvbGxQb3Muc2Nyb2xsVG9wKVxuICAgICAgaWYgKE1hdGguYWJzKGNtLmRvYy5zY3JvbGxUb3AgLSBzdGFydFRvcCkgPiAxKSB7IGNoYW5nZWQgPSB0cnVlIH1cbiAgICB9XG4gICAgaWYgKHNjcm9sbFBvcy5zY3JvbGxMZWZ0ICE9IG51bGwpIHtcbiAgICAgIHNldFNjcm9sbExlZnQoY20sIHNjcm9sbFBvcy5zY3JvbGxMZWZ0KVxuICAgICAgaWYgKE1hdGguYWJzKGNtLmRvYy5zY3JvbGxMZWZ0IC0gc3RhcnRMZWZ0KSA+IDEpIHsgY2hhbmdlZCA9IHRydWUgfVxuICAgIH1cbiAgICBpZiAoIWNoYW5nZWQpIHsgYnJlYWsgfVxuICB9XG4gIHJldHVybiBjb29yZHNcbn1cblxuLy8gU2Nyb2xsIGEgZ2l2ZW4gc2V0IG9mIGNvb3JkaW5hdGVzIGludG8gdmlldyAoaW1tZWRpYXRlbHkpLlxuZnVuY3Rpb24gc2Nyb2xsSW50b1ZpZXcoY20sIHgxLCB5MSwgeDIsIHkyKSB7XG4gIHZhciBzY3JvbGxQb3MgPSBjYWxjdWxhdGVTY3JvbGxQb3MoY20sIHgxLCB5MSwgeDIsIHkyKVxuICBpZiAoc2Nyb2xsUG9zLnNjcm9sbFRvcCAhPSBudWxsKSB7IHNldFNjcm9sbFRvcChjbSwgc2Nyb2xsUG9zLnNjcm9sbFRvcCkgfVxuICBpZiAoc2Nyb2xsUG9zLnNjcm9sbExlZnQgIT0gbnVsbCkgeyBzZXRTY3JvbGxMZWZ0KGNtLCBzY3JvbGxQb3Muc2Nyb2xsTGVmdCkgfVxufVxuXG4vLyBDYWxjdWxhdGUgYSBuZXcgc2Nyb2xsIHBvc2l0aW9uIG5lZWRlZCB0byBzY3JvbGwgdGhlIGdpdmVuXG4vLyByZWN0YW5nbGUgaW50byB2aWV3LiBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIHNjcm9sbFRvcCBhbmRcbi8vIHNjcm9sbExlZnQgcHJvcGVydGllcy4gV2hlbiB0aGVzZSBhcmUgdW5kZWZpbmVkLCB0aGVcbi8vIHZlcnRpY2FsL2hvcml6b250YWwgcG9zaXRpb24gZG9lcyBub3QgbmVlZCB0byBiZSBhZGp1c3RlZC5cbmZ1bmN0aW9uIGNhbGN1bGF0ZVNjcm9sbFBvcyhjbSwgeDEsIHkxLCB4MiwgeTIpIHtcbiAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBzbmFwTWFyZ2luID0gdGV4dEhlaWdodChjbS5kaXNwbGF5KVxuICBpZiAoeTEgPCAwKSB7IHkxID0gMCB9XG4gIHZhciBzY3JlZW50b3AgPSBjbS5jdXJPcCAmJiBjbS5jdXJPcC5zY3JvbGxUb3AgIT0gbnVsbCA/IGNtLmN1ck9wLnNjcm9sbFRvcCA6IGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wXG4gIHZhciBzY3JlZW4gPSBkaXNwbGF5SGVpZ2h0KGNtKSwgcmVzdWx0ID0ge31cbiAgaWYgKHkyIC0geTEgPiBzY3JlZW4pIHsgeTIgPSB5MSArIHNjcmVlbiB9XG4gIHZhciBkb2NCb3R0b20gPSBjbS5kb2MuaGVpZ2h0ICsgcGFkZGluZ1ZlcnQoZGlzcGxheSlcbiAgdmFyIGF0VG9wID0geTEgPCBzbmFwTWFyZ2luLCBhdEJvdHRvbSA9IHkyID4gZG9jQm90dG9tIC0gc25hcE1hcmdpblxuICBpZiAoeTEgPCBzY3JlZW50b3ApIHtcbiAgICByZXN1bHQuc2Nyb2xsVG9wID0gYXRUb3AgPyAwIDogeTFcbiAgfSBlbHNlIGlmICh5MiA+IHNjcmVlbnRvcCArIHNjcmVlbikge1xuICAgIHZhciBuZXdUb3AgPSBNYXRoLm1pbih5MSwgKGF0Qm90dG9tID8gZG9jQm90dG9tIDogeTIpIC0gc2NyZWVuKVxuICAgIGlmIChuZXdUb3AgIT0gc2NyZWVudG9wKSB7IHJlc3VsdC5zY3JvbGxUb3AgPSBuZXdUb3AgfVxuICB9XG5cbiAgdmFyIHNjcmVlbmxlZnQgPSBjbS5jdXJPcCAmJiBjbS5jdXJPcC5zY3JvbGxMZWZ0ICE9IG51bGwgPyBjbS5jdXJPcC5zY3JvbGxMZWZ0IDogZGlzcGxheS5zY3JvbGxlci5zY3JvbGxMZWZ0XG4gIHZhciBzY3JlZW53ID0gZGlzcGxheVdpZHRoKGNtKSAtIChjbS5vcHRpb25zLmZpeGVkR3V0dGVyID8gZGlzcGxheS5ndXR0ZXJzLm9mZnNldFdpZHRoIDogMClcbiAgdmFyIHRvb1dpZGUgPSB4MiAtIHgxID4gc2NyZWVud1xuICBpZiAodG9vV2lkZSkgeyB4MiA9IHgxICsgc2NyZWVudyB9XG4gIGlmICh4MSA8IDEwKVxuICAgIHsgcmVzdWx0LnNjcm9sbExlZnQgPSAwIH1cbiAgZWxzZSBpZiAoeDEgPCBzY3JlZW5sZWZ0KVxuICAgIHsgcmVzdWx0LnNjcm9sbExlZnQgPSBNYXRoLm1heCgwLCB4MSAtICh0b29XaWRlID8gMCA6IDEwKSkgfVxuICBlbHNlIGlmICh4MiA+IHNjcmVlbncgKyBzY3JlZW5sZWZ0IC0gMylcbiAgICB7IHJlc3VsdC5zY3JvbGxMZWZ0ID0geDIgKyAodG9vV2lkZSA/IDAgOiAxMCkgLSBzY3JlZW53IH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG4vLyBTdG9yZSBhIHJlbGF0aXZlIGFkanVzdG1lbnQgdG8gdGhlIHNjcm9sbCBwb3NpdGlvbiBpbiB0aGUgY3VycmVudFxuLy8gb3BlcmF0aW9uICh0byBiZSBhcHBsaWVkIHdoZW4gdGhlIG9wZXJhdGlvbiBmaW5pc2hlcykuXG5mdW5jdGlvbiBhZGRUb1Njcm9sbFBvcyhjbSwgbGVmdCwgdG9wKSB7XG4gIGlmIChsZWZ0ICE9IG51bGwgfHwgdG9wICE9IG51bGwpIHsgcmVzb2x2ZVNjcm9sbFRvUG9zKGNtKSB9XG4gIGlmIChsZWZ0ICE9IG51bGwpXG4gICAgeyBjbS5jdXJPcC5zY3JvbGxMZWZ0ID0gKGNtLmN1ck9wLnNjcm9sbExlZnQgPT0gbnVsbCA/IGNtLmRvYy5zY3JvbGxMZWZ0IDogY20uY3VyT3Auc2Nyb2xsTGVmdCkgKyBsZWZ0IH1cbiAgaWYgKHRvcCAhPSBudWxsKVxuICAgIHsgY20uY3VyT3Auc2Nyb2xsVG9wID0gKGNtLmN1ck9wLnNjcm9sbFRvcCA9PSBudWxsID8gY20uZG9jLnNjcm9sbFRvcCA6IGNtLmN1ck9wLnNjcm9sbFRvcCkgKyB0b3AgfVxufVxuXG4vLyBNYWtlIHN1cmUgdGhhdCBhdCB0aGUgZW5kIG9mIHRoZSBvcGVyYXRpb24gdGhlIGN1cnJlbnQgY3Vyc29yIGlzXG4vLyBzaG93bi5cbmZ1bmN0aW9uIGVuc3VyZUN1cnNvclZpc2libGUoY20pIHtcbiAgcmVzb2x2ZVNjcm9sbFRvUG9zKGNtKVxuICB2YXIgY3VyID0gY20uZ2V0Q3Vyc29yKCksIGZyb20gPSBjdXIsIHRvID0gY3VyXG4gIGlmICghY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpIHtcbiAgICBmcm9tID0gY3VyLmNoID8gUG9zKGN1ci5saW5lLCBjdXIuY2ggLSAxKSA6IGN1clxuICAgIHRvID0gUG9zKGN1ci5saW5lLCBjdXIuY2ggKyAxKVxuICB9XG4gIGNtLmN1ck9wLnNjcm9sbFRvUG9zID0ge2Zyb206IGZyb20sIHRvOiB0bywgbWFyZ2luOiBjbS5vcHRpb25zLmN1cnNvclNjcm9sbE1hcmdpbiwgaXNDdXJzb3I6IHRydWV9XG59XG5cbi8vIFdoZW4gYW4gb3BlcmF0aW9uIGhhcyBpdHMgc2Nyb2xsVG9Qb3MgcHJvcGVydHkgc2V0LCBhbmQgYW5vdGhlclxuLy8gc2Nyb2xsIGFjdGlvbiBpcyBhcHBsaWVkIGJlZm9yZSB0aGUgZW5kIG9mIHRoZSBvcGVyYXRpb24sIHRoaXNcbi8vICdzaW11bGF0ZXMnIHNjcm9sbGluZyB0aGF0IHBvc2l0aW9uIGludG8gdmlldyBpbiBhIGNoZWFwIHdheSwgc29cbi8vIHRoYXQgdGhlIGVmZmVjdCBvZiBpbnRlcm1lZGlhdGUgc2Nyb2xsIGNvbW1hbmRzIGlzIG5vdCBpZ25vcmVkLlxuZnVuY3Rpb24gcmVzb2x2ZVNjcm9sbFRvUG9zKGNtKSB7XG4gIHZhciByYW5nZSA9IGNtLmN1ck9wLnNjcm9sbFRvUG9zXG4gIGlmIChyYW5nZSkge1xuICAgIGNtLmN1ck9wLnNjcm9sbFRvUG9zID0gbnVsbFxuICAgIHZhciBmcm9tID0gZXN0aW1hdGVDb29yZHMoY20sIHJhbmdlLmZyb20pLCB0byA9IGVzdGltYXRlQ29vcmRzKGNtLCByYW5nZS50bylcbiAgICB2YXIgc1BvcyA9IGNhbGN1bGF0ZVNjcm9sbFBvcyhjbSwgTWF0aC5taW4oZnJvbS5sZWZ0LCB0by5sZWZ0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihmcm9tLnRvcCwgdG8udG9wKSAtIHJhbmdlLm1hcmdpbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChmcm9tLnJpZ2h0LCB0by5yaWdodCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5tYXgoZnJvbS5ib3R0b20sIHRvLmJvdHRvbSkgKyByYW5nZS5tYXJnaW4pXG4gICAgY20uc2Nyb2xsVG8oc1Bvcy5zY3JvbGxMZWZ0LCBzUG9zLnNjcm9sbFRvcClcbiAgfVxufVxuXG4vLyBPcGVyYXRpb25zIGFyZSB1c2VkIHRvIHdyYXAgYSBzZXJpZXMgb2YgY2hhbmdlcyB0byB0aGUgZWRpdG9yXG4vLyBzdGF0ZSBpbiBzdWNoIGEgd2F5IHRoYXQgZWFjaCBjaGFuZ2Ugd29uJ3QgaGF2ZSB0byB1cGRhdGUgdGhlXG4vLyBjdXJzb3IgYW5kIGRpc3BsYXkgKHdoaWNoIHdvdWxkIGJlIGF3a3dhcmQsIHNsb3csIGFuZFxuLy8gZXJyb3ItcHJvbmUpLiBJbnN0ZWFkLCBkaXNwbGF5IHVwZGF0ZXMgYXJlIGJhdGNoZWQgYW5kIHRoZW4gYWxsXG4vLyBjb21iaW5lZCBhbmQgZXhlY3V0ZWQgYXQgb25jZS5cblxudmFyIG5leHRPcElkID0gMFxuLy8gU3RhcnQgYSBuZXcgb3BlcmF0aW9uLlxuZnVuY3Rpb24gc3RhcnRPcGVyYXRpb24oY20pIHtcbiAgY20uY3VyT3AgPSB7XG4gICAgY206IGNtLFxuICAgIHZpZXdDaGFuZ2VkOiBmYWxzZSwgICAgICAvLyBGbGFnIHRoYXQgaW5kaWNhdGVzIHRoYXQgbGluZXMgbWlnaHQgbmVlZCB0byBiZSByZWRyYXduXG4gICAgc3RhcnRIZWlnaHQ6IGNtLmRvYy5oZWlnaHQsIC8vIFVzZWQgdG8gZGV0ZWN0IG5lZWQgdG8gdXBkYXRlIHNjcm9sbGJhclxuICAgIGZvcmNlVXBkYXRlOiBmYWxzZSwgICAgICAvLyBVc2VkIHRvIGZvcmNlIGEgcmVkcmF3XG4gICAgdXBkYXRlSW5wdXQ6IG51bGwsICAgICAgIC8vIFdoZXRoZXIgdG8gcmVzZXQgdGhlIGlucHV0IHRleHRhcmVhXG4gICAgdHlwaW5nOiBmYWxzZSwgICAgICAgICAgIC8vIFdoZXRoZXIgdGhpcyByZXNldCBzaG91bGQgYmUgY2FyZWZ1bCB0byBsZWF2ZSBleGlzdGluZyB0ZXh0IChmb3IgY29tcG9zaXRpbmcpXG4gICAgY2hhbmdlT2JqczogbnVsbCwgICAgICAgIC8vIEFjY3VtdWxhdGVkIGNoYW5nZXMsIGZvciBmaXJpbmcgY2hhbmdlIGV2ZW50c1xuICAgIGN1cnNvckFjdGl2aXR5SGFuZGxlcnM6IG51bGwsIC8vIFNldCBvZiBoYW5kbGVycyB0byBmaXJlIGN1cnNvckFjdGl2aXR5IG9uXG4gICAgY3Vyc29yQWN0aXZpdHlDYWxsZWQ6IDAsIC8vIFRyYWNrcyB3aGljaCBjdXJzb3JBY3Rpdml0eSBoYW5kbGVycyBoYXZlIGJlZW4gY2FsbGVkIGFscmVhZHlcbiAgICBzZWxlY3Rpb25DaGFuZ2VkOiBmYWxzZSwgLy8gV2hldGhlciB0aGUgc2VsZWN0aW9uIG5lZWRzIHRvIGJlIHJlZHJhd25cbiAgICB1cGRhdGVNYXhMaW5lOiBmYWxzZSwgICAgLy8gU2V0IHdoZW4gdGhlIHdpZGVzdCBsaW5lIG5lZWRzIHRvIGJlIGRldGVybWluZWQgYW5ld1xuICAgIHNjcm9sbExlZnQ6IG51bGwsIHNjcm9sbFRvcDogbnVsbCwgLy8gSW50ZXJtZWRpYXRlIHNjcm9sbCBwb3NpdGlvbiwgbm90IHB1c2hlZCB0byBET00geWV0XG4gICAgc2Nyb2xsVG9Qb3M6IG51bGwsICAgICAgIC8vIFVzZWQgdG8gc2Nyb2xsIHRvIGEgc3BlY2lmaWMgcG9zaXRpb25cbiAgICBmb2N1czogZmFsc2UsXG4gICAgaWQ6ICsrbmV4dE9wSWQgICAgICAgICAgIC8vIFVuaXF1ZSBJRFxuICB9XG4gIHB1c2hPcGVyYXRpb24oY20uY3VyT3ApXG59XG5cbi8vIEZpbmlzaCBhbiBvcGVyYXRpb24sIHVwZGF0aW5nIHRoZSBkaXNwbGF5IGFuZCBzaWduYWxsaW5nIGRlbGF5ZWQgZXZlbnRzXG5mdW5jdGlvbiBlbmRPcGVyYXRpb24oY20pIHtcbiAgdmFyIG9wID0gY20uY3VyT3BcbiAgZmluaXNoT3BlcmF0aW9uKG9wLCBmdW5jdGlvbiAoZ3JvdXApIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyb3VwLm9wcy5sZW5ndGg7IGkrKylcbiAgICAgIHsgZ3JvdXAub3BzW2ldLmNtLmN1ck9wID0gbnVsbCB9XG4gICAgZW5kT3BlcmF0aW9ucyhncm91cClcbiAgfSlcbn1cblxuLy8gVGhlIERPTSB1cGRhdGVzIGRvbmUgd2hlbiBhbiBvcGVyYXRpb24gZmluaXNoZXMgYXJlIGJhdGNoZWQgc29cbi8vIHRoYXQgdGhlIG1pbmltdW0gbnVtYmVyIG9mIHJlbGF5b3V0cyBhcmUgcmVxdWlyZWQuXG5mdW5jdGlvbiBlbmRPcGVyYXRpb25zKGdyb3VwKSB7XG4gIHZhciBvcHMgPSBncm91cC5vcHNcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHMubGVuZ3RoOyBpKyspIC8vIFJlYWQgRE9NXG4gICAgeyBlbmRPcGVyYXRpb25fUjEob3BzW2ldKSB9XG4gIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IG9wcy5sZW5ndGg7IGkkMSsrKSAvLyBXcml0ZSBET00gKG1heWJlKVxuICAgIHsgZW5kT3BlcmF0aW9uX1cxKG9wc1tpJDFdKSB9XG4gIGZvciAodmFyIGkkMiA9IDA7IGkkMiA8IG9wcy5sZW5ndGg7IGkkMisrKSAvLyBSZWFkIERPTVxuICAgIHsgZW5kT3BlcmF0aW9uX1IyKG9wc1tpJDJdKSB9XG4gIGZvciAodmFyIGkkMyA9IDA7IGkkMyA8IG9wcy5sZW5ndGg7IGkkMysrKSAvLyBXcml0ZSBET00gKG1heWJlKVxuICAgIHsgZW5kT3BlcmF0aW9uX1cyKG9wc1tpJDNdKSB9XG4gIGZvciAodmFyIGkkNCA9IDA7IGkkNCA8IG9wcy5sZW5ndGg7IGkkNCsrKSAvLyBSZWFkIERPTVxuICAgIHsgZW5kT3BlcmF0aW9uX2ZpbmlzaChvcHNbaSQ0XSkgfVxufVxuXG5mdW5jdGlvbiBlbmRPcGVyYXRpb25fUjEob3ApIHtcbiAgdmFyIGNtID0gb3AuY20sIGRpc3BsYXkgPSBjbS5kaXNwbGF5XG4gIG1heWJlQ2xpcFNjcm9sbGJhcnMoY20pXG4gIGlmIChvcC51cGRhdGVNYXhMaW5lKSB7IGZpbmRNYXhMaW5lKGNtKSB9XG5cbiAgb3AubXVzdFVwZGF0ZSA9IG9wLnZpZXdDaGFuZ2VkIHx8IG9wLmZvcmNlVXBkYXRlIHx8IG9wLnNjcm9sbFRvcCAhPSBudWxsIHx8XG4gICAgb3Auc2Nyb2xsVG9Qb3MgJiYgKG9wLnNjcm9sbFRvUG9zLmZyb20ubGluZSA8IGRpc3BsYXkudmlld0Zyb20gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgb3Auc2Nyb2xsVG9Qb3MudG8ubGluZSA+PSBkaXNwbGF5LnZpZXdUbykgfHxcbiAgICBkaXNwbGF5Lm1heExpbmVDaGFuZ2VkICYmIGNtLm9wdGlvbnMubGluZVdyYXBwaW5nXG4gIG9wLnVwZGF0ZSA9IG9wLm11c3RVcGRhdGUgJiZcbiAgICBuZXcgRGlzcGxheVVwZGF0ZShjbSwgb3AubXVzdFVwZGF0ZSAmJiB7dG9wOiBvcC5zY3JvbGxUb3AsIGVuc3VyZTogb3Auc2Nyb2xsVG9Qb3N9LCBvcC5mb3JjZVVwZGF0ZSlcbn1cblxuZnVuY3Rpb24gZW5kT3BlcmF0aW9uX1cxKG9wKSB7XG4gIG9wLnVwZGF0ZWREaXNwbGF5ID0gb3AubXVzdFVwZGF0ZSAmJiB1cGRhdGVEaXNwbGF5SWZOZWVkZWQob3AuY20sIG9wLnVwZGF0ZSlcbn1cblxuZnVuY3Rpb24gZW5kT3BlcmF0aW9uX1IyKG9wKSB7XG4gIHZhciBjbSA9IG9wLmNtLCBkaXNwbGF5ID0gY20uZGlzcGxheVxuICBpZiAob3AudXBkYXRlZERpc3BsYXkpIHsgdXBkYXRlSGVpZ2h0c0luVmlld3BvcnQoY20pIH1cblxuICBvcC5iYXJNZWFzdXJlID0gbWVhc3VyZUZvclNjcm9sbGJhcnMoY20pXG5cbiAgLy8gSWYgdGhlIG1heCBsaW5lIGNoYW5nZWQgc2luY2UgaXQgd2FzIGxhc3QgbWVhc3VyZWQsIG1lYXN1cmUgaXQsXG4gIC8vIGFuZCBlbnN1cmUgdGhlIGRvY3VtZW50J3Mgd2lkdGggbWF0Y2hlcyBpdC5cbiAgLy8gdXBkYXRlRGlzcGxheV9XMiB3aWxsIHVzZSB0aGVzZSBwcm9wZXJ0aWVzIHRvIGRvIHRoZSBhY3R1YWwgcmVzaXppbmdcbiAgaWYgKGRpc3BsYXkubWF4TGluZUNoYW5nZWQgJiYgIWNtLm9wdGlvbnMubGluZVdyYXBwaW5nKSB7XG4gICAgb3AuYWRqdXN0V2lkdGhUbyA9IG1lYXN1cmVDaGFyKGNtLCBkaXNwbGF5Lm1heExpbmUsIGRpc3BsYXkubWF4TGluZS50ZXh0Lmxlbmd0aCkubGVmdCArIDNcbiAgICBjbS5kaXNwbGF5LnNpemVyV2lkdGggPSBvcC5hZGp1c3RXaWR0aFRvXG4gICAgb3AuYmFyTWVhc3VyZS5zY3JvbGxXaWR0aCA9XG4gICAgICBNYXRoLm1heChkaXNwbGF5LnNjcm9sbGVyLmNsaWVudFdpZHRoLCBkaXNwbGF5LnNpemVyLm9mZnNldExlZnQgKyBvcC5hZGp1c3RXaWR0aFRvICsgc2Nyb2xsR2FwKGNtKSArIGNtLmRpc3BsYXkuYmFyV2lkdGgpXG4gICAgb3AubWF4U2Nyb2xsTGVmdCA9IE1hdGgubWF4KDAsIGRpc3BsYXkuc2l6ZXIub2Zmc2V0TGVmdCArIG9wLmFkanVzdFdpZHRoVG8gLSBkaXNwbGF5V2lkdGgoY20pKVxuICB9XG5cbiAgaWYgKG9wLnVwZGF0ZWREaXNwbGF5IHx8IG9wLnNlbGVjdGlvbkNoYW5nZWQpXG4gICAgeyBvcC5wcmVwYXJlZFNlbGVjdGlvbiA9IGRpc3BsYXkuaW5wdXQucHJlcGFyZVNlbGVjdGlvbihvcC5mb2N1cykgfVxufVxuXG5mdW5jdGlvbiBlbmRPcGVyYXRpb25fVzIob3ApIHtcbiAgdmFyIGNtID0gb3AuY21cblxuICBpZiAob3AuYWRqdXN0V2lkdGhUbyAhPSBudWxsKSB7XG4gICAgY20uZGlzcGxheS5zaXplci5zdHlsZS5taW5XaWR0aCA9IG9wLmFkanVzdFdpZHRoVG8gKyBcInB4XCJcbiAgICBpZiAob3AubWF4U2Nyb2xsTGVmdCA8IGNtLmRvYy5zY3JvbGxMZWZ0KVxuICAgICAgeyBzZXRTY3JvbGxMZWZ0KGNtLCBNYXRoLm1pbihjbS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbExlZnQsIG9wLm1heFNjcm9sbExlZnQpLCB0cnVlKSB9XG4gICAgY20uZGlzcGxheS5tYXhMaW5lQ2hhbmdlZCA9IGZhbHNlXG4gIH1cblxuICB2YXIgdGFrZUZvY3VzID0gb3AuZm9jdXMgJiYgb3AuZm9jdXMgPT0gYWN0aXZlRWx0KCkgJiYgKCFkb2N1bWVudC5oYXNGb2N1cyB8fCBkb2N1bWVudC5oYXNGb2N1cygpKVxuICBpZiAob3AucHJlcGFyZWRTZWxlY3Rpb24pXG4gICAgeyBjbS5kaXNwbGF5LmlucHV0LnNob3dTZWxlY3Rpb24ob3AucHJlcGFyZWRTZWxlY3Rpb24sIHRha2VGb2N1cykgfVxuICBpZiAob3AudXBkYXRlZERpc3BsYXkgfHwgb3Auc3RhcnRIZWlnaHQgIT0gY20uZG9jLmhlaWdodClcbiAgICB7IHVwZGF0ZVNjcm9sbGJhcnMoY20sIG9wLmJhck1lYXN1cmUpIH1cbiAgaWYgKG9wLnVwZGF0ZWREaXNwbGF5KVxuICAgIHsgc2V0RG9jdW1lbnRIZWlnaHQoY20sIG9wLmJhck1lYXN1cmUpIH1cblxuICBpZiAob3Auc2VsZWN0aW9uQ2hhbmdlZCkgeyByZXN0YXJ0QmxpbmsoY20pIH1cblxuICBpZiAoY20uc3RhdGUuZm9jdXNlZCAmJiBvcC51cGRhdGVJbnB1dClcbiAgICB7IGNtLmRpc3BsYXkuaW5wdXQucmVzZXQob3AudHlwaW5nKSB9XG4gIGlmICh0YWtlRm9jdXMpIHsgZW5zdXJlRm9jdXMob3AuY20pIH1cbn1cblxuZnVuY3Rpb24gZW5kT3BlcmF0aW9uX2ZpbmlzaChvcCkge1xuICB2YXIgY20gPSBvcC5jbSwgZGlzcGxheSA9IGNtLmRpc3BsYXksIGRvYyA9IGNtLmRvY1xuXG4gIGlmIChvcC51cGRhdGVkRGlzcGxheSkgeyBwb3N0VXBkYXRlRGlzcGxheShjbSwgb3AudXBkYXRlKSB9XG5cbiAgLy8gQWJvcnQgbW91c2Ugd2hlZWwgZGVsdGEgbWVhc3VyZW1lbnQsIHdoZW4gc2Nyb2xsaW5nIGV4cGxpY2l0bHlcbiAgaWYgKGRpc3BsYXkud2hlZWxTdGFydFggIT0gbnVsbCAmJiAob3Auc2Nyb2xsVG9wICE9IG51bGwgfHwgb3Auc2Nyb2xsTGVmdCAhPSBudWxsIHx8IG9wLnNjcm9sbFRvUG9zKSlcbiAgICB7IGRpc3BsYXkud2hlZWxTdGFydFggPSBkaXNwbGF5LndoZWVsU3RhcnRZID0gbnVsbCB9XG5cbiAgLy8gUHJvcGFnYXRlIHRoZSBzY3JvbGwgcG9zaXRpb24gdG8gdGhlIGFjdHVhbCBET00gc2Nyb2xsZXJcbiAgaWYgKG9wLnNjcm9sbFRvcCAhPSBudWxsICYmIChkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcCAhPSBvcC5zY3JvbGxUb3AgfHwgb3AuZm9yY2VTY3JvbGwpKSB7XG4gICAgZG9jLnNjcm9sbFRvcCA9IE1hdGgubWF4KDAsIE1hdGgubWluKGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsSGVpZ2h0IC0gZGlzcGxheS5zY3JvbGxlci5jbGllbnRIZWlnaHQsIG9wLnNjcm9sbFRvcCkpXG4gICAgZGlzcGxheS5zY3JvbGxiYXJzLnNldFNjcm9sbFRvcChkb2Muc2Nyb2xsVG9wKVxuICAgIGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wID0gZG9jLnNjcm9sbFRvcFxuICB9XG4gIGlmIChvcC5zY3JvbGxMZWZ0ICE9IG51bGwgJiYgKGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsTGVmdCAhPSBvcC5zY3JvbGxMZWZ0IHx8IG9wLmZvcmNlU2Nyb2xsKSkge1xuICAgIGRvYy5zY3JvbGxMZWZ0ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oZGlzcGxheS5zY3JvbGxlci5zY3JvbGxXaWR0aCAtIGRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50V2lkdGgsIG9wLnNjcm9sbExlZnQpKVxuICAgIGRpc3BsYXkuc2Nyb2xsYmFycy5zZXRTY3JvbGxMZWZ0KGRvYy5zY3JvbGxMZWZ0KVxuICAgIGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsTGVmdCA9IGRvYy5zY3JvbGxMZWZ0XG4gICAgYWxpZ25Ib3Jpem9udGFsbHkoY20pXG4gIH1cbiAgLy8gSWYgd2UgbmVlZCB0byBzY3JvbGwgYSBzcGVjaWZpYyBwb3NpdGlvbiBpbnRvIHZpZXcsIGRvIHNvLlxuICBpZiAob3Auc2Nyb2xsVG9Qb3MpIHtcbiAgICB2YXIgY29vcmRzID0gc2Nyb2xsUG9zSW50b1ZpZXcoY20sIGNsaXBQb3MoZG9jLCBvcC5zY3JvbGxUb1Bvcy5mcm9tKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpcFBvcyhkb2MsIG9wLnNjcm9sbFRvUG9zLnRvKSwgb3Auc2Nyb2xsVG9Qb3MubWFyZ2luKVxuICAgIGlmIChvcC5zY3JvbGxUb1Bvcy5pc0N1cnNvciAmJiBjbS5zdGF0ZS5mb2N1c2VkKSB7IG1heWJlU2Nyb2xsV2luZG93KGNtLCBjb29yZHMpIH1cbiAgfVxuXG4gIC8vIEZpcmUgZXZlbnRzIGZvciBtYXJrZXJzIHRoYXQgYXJlIGhpZGRlbi91bmlkZGVuIGJ5IGVkaXRpbmcgb3JcbiAgLy8gdW5kb2luZ1xuICB2YXIgaGlkZGVuID0gb3AubWF5YmVIaWRkZW5NYXJrZXJzLCB1bmhpZGRlbiA9IG9wLm1heWJlVW5oaWRkZW5NYXJrZXJzXG4gIGlmIChoaWRkZW4pIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBoaWRkZW4ubGVuZ3RoOyArK2kpXG4gICAgeyBpZiAoIWhpZGRlbltpXS5saW5lcy5sZW5ndGgpIHsgc2lnbmFsKGhpZGRlbltpXSwgXCJoaWRlXCIpIH0gfSB9XG4gIGlmICh1bmhpZGRlbikgeyBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCB1bmhpZGRlbi5sZW5ndGg7ICsraSQxKVxuICAgIHsgaWYgKHVuaGlkZGVuW2kkMV0ubGluZXMubGVuZ3RoKSB7IHNpZ25hbCh1bmhpZGRlbltpJDFdLCBcInVuaGlkZVwiKSB9IH0gfVxuXG4gIGlmIChkaXNwbGF5LndyYXBwZXIub2Zmc2V0SGVpZ2h0KVxuICAgIHsgZG9jLnNjcm9sbFRvcCA9IGNtLmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wIH1cblxuICAvLyBGaXJlIGNoYW5nZSBldmVudHMsIGFuZCBkZWxheWVkIGV2ZW50IGhhbmRsZXJzXG4gIGlmIChvcC5jaGFuZ2VPYmpzKVxuICAgIHsgc2lnbmFsKGNtLCBcImNoYW5nZXNcIiwgY20sIG9wLmNoYW5nZU9ianMpIH1cbiAgaWYgKG9wLnVwZGF0ZSlcbiAgICB7IG9wLnVwZGF0ZS5maW5pc2goKSB9XG59XG5cbi8vIFJ1biB0aGUgZ2l2ZW4gZnVuY3Rpb24gaW4gYW4gb3BlcmF0aW9uXG5mdW5jdGlvbiBydW5Jbk9wKGNtLCBmKSB7XG4gIGlmIChjbS5jdXJPcCkgeyByZXR1cm4gZigpIH1cbiAgc3RhcnRPcGVyYXRpb24oY20pXG4gIHRyeSB7IHJldHVybiBmKCkgfVxuICBmaW5hbGx5IHsgZW5kT3BlcmF0aW9uKGNtKSB9XG59XG4vLyBXcmFwcyBhIGZ1bmN0aW9uIGluIGFuIG9wZXJhdGlvbi4gUmV0dXJucyB0aGUgd3JhcHBlZCBmdW5jdGlvbi5cbmZ1bmN0aW9uIG9wZXJhdGlvbihjbSwgZikge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGNtLmN1ck9wKSB7IHJldHVybiBmLmFwcGx5KGNtLCBhcmd1bWVudHMpIH1cbiAgICBzdGFydE9wZXJhdGlvbihjbSlcbiAgICB0cnkgeyByZXR1cm4gZi5hcHBseShjbSwgYXJndW1lbnRzKSB9XG4gICAgZmluYWxseSB7IGVuZE9wZXJhdGlvbihjbSkgfVxuICB9XG59XG4vLyBVc2VkIHRvIGFkZCBtZXRob2RzIHRvIGVkaXRvciBhbmQgZG9jIGluc3RhbmNlcywgd3JhcHBpbmcgdGhlbSBpblxuLy8gb3BlcmF0aW9ucy5cbmZ1bmN0aW9uIG1ldGhvZE9wKGYpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmN1ck9wKSB7IHJldHVybiBmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfVxuICAgIHN0YXJ0T3BlcmF0aW9uKHRoaXMpXG4gICAgdHJ5IHsgcmV0dXJuIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKSB9XG4gICAgZmluYWxseSB7IGVuZE9wZXJhdGlvbih0aGlzKSB9XG4gIH1cbn1cbmZ1bmN0aW9uIGRvY01ldGhvZE9wKGYpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBjbSA9IHRoaXMuY21cbiAgICBpZiAoIWNtIHx8IGNtLmN1ck9wKSB7IHJldHVybiBmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfVxuICAgIHN0YXJ0T3BlcmF0aW9uKGNtKVxuICAgIHRyeSB7IHJldHVybiBmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfVxuICAgIGZpbmFsbHkgeyBlbmRPcGVyYXRpb24oY20pIH1cbiAgfVxufVxuXG4vLyBVcGRhdGVzIHRoZSBkaXNwbGF5LnZpZXcgZGF0YSBzdHJ1Y3R1cmUgZm9yIGEgZ2l2ZW4gY2hhbmdlIHRvIHRoZVxuLy8gZG9jdW1lbnQuIEZyb20gYW5kIHRvIGFyZSBpbiBwcmUtY2hhbmdlIGNvb3JkaW5hdGVzLiBMZW5kaWZmIGlzXG4vLyB0aGUgYW1vdW50IG9mIGxpbmVzIGFkZGVkIG9yIHN1YnRyYWN0ZWQgYnkgdGhlIGNoYW5nZS4gVGhpcyBpc1xuLy8gdXNlZCBmb3IgY2hhbmdlcyB0aGF0IHNwYW4gbXVsdGlwbGUgbGluZXMsIG9yIGNoYW5nZSB0aGUgd2F5XG4vLyBsaW5lcyBhcmUgZGl2aWRlZCBpbnRvIHZpc3VhbCBsaW5lcy4gcmVnTGluZUNoYW5nZSAoYmVsb3cpXG4vLyByZWdpc3RlcnMgc2luZ2xlLWxpbmUgY2hhbmdlcy5cbmZ1bmN0aW9uIHJlZ0NoYW5nZShjbSwgZnJvbSwgdG8sIGxlbmRpZmYpIHtcbiAgaWYgKGZyb20gPT0gbnVsbCkgeyBmcm9tID0gY20uZG9jLmZpcnN0IH1cbiAgaWYgKHRvID09IG51bGwpIHsgdG8gPSBjbS5kb2MuZmlyc3QgKyBjbS5kb2Muc2l6ZSB9XG4gIGlmICghbGVuZGlmZikgeyBsZW5kaWZmID0gMCB9XG5cbiAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5XG4gIGlmIChsZW5kaWZmICYmIHRvIDwgZGlzcGxheS52aWV3VG8gJiZcbiAgICAgIChkaXNwbGF5LnVwZGF0ZUxpbmVOdW1iZXJzID09IG51bGwgfHwgZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycyA+IGZyb20pKVxuICAgIHsgZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycyA9IGZyb20gfVxuXG4gIGNtLmN1ck9wLnZpZXdDaGFuZ2VkID0gdHJ1ZVxuXG4gIGlmIChmcm9tID49IGRpc3BsYXkudmlld1RvKSB7IC8vIENoYW5nZSBhZnRlclxuICAgIGlmIChzYXdDb2xsYXBzZWRTcGFucyAmJiB2aXN1YWxMaW5lTm8oY20uZG9jLCBmcm9tKSA8IGRpc3BsYXkudmlld1RvKVxuICAgICAgeyByZXNldFZpZXcoY20pIH1cbiAgfSBlbHNlIGlmICh0byA8PSBkaXNwbGF5LnZpZXdGcm9tKSB7IC8vIENoYW5nZSBiZWZvcmVcbiAgICBpZiAoc2F3Q29sbGFwc2VkU3BhbnMgJiYgdmlzdWFsTGluZUVuZE5vKGNtLmRvYywgdG8gKyBsZW5kaWZmKSA+IGRpc3BsYXkudmlld0Zyb20pIHtcbiAgICAgIHJlc2V0VmlldyhjbSlcbiAgICB9IGVsc2Uge1xuICAgICAgZGlzcGxheS52aWV3RnJvbSArPSBsZW5kaWZmXG4gICAgICBkaXNwbGF5LnZpZXdUbyArPSBsZW5kaWZmXG4gICAgfVxuICB9IGVsc2UgaWYgKGZyb20gPD0gZGlzcGxheS52aWV3RnJvbSAmJiB0byA+PSBkaXNwbGF5LnZpZXdUbykgeyAvLyBGdWxsIG92ZXJsYXBcbiAgICByZXNldFZpZXcoY20pXG4gIH0gZWxzZSBpZiAoZnJvbSA8PSBkaXNwbGF5LnZpZXdGcm9tKSB7IC8vIFRvcCBvdmVybGFwXG4gICAgdmFyIGN1dCA9IHZpZXdDdXR0aW5nUG9pbnQoY20sIHRvLCB0byArIGxlbmRpZmYsIDEpXG4gICAgaWYgKGN1dCkge1xuICAgICAgZGlzcGxheS52aWV3ID0gZGlzcGxheS52aWV3LnNsaWNlKGN1dC5pbmRleClcbiAgICAgIGRpc3BsYXkudmlld0Zyb20gPSBjdXQubGluZU5cbiAgICAgIGRpc3BsYXkudmlld1RvICs9IGxlbmRpZmZcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzZXRWaWV3KGNtKVxuICAgIH1cbiAgfSBlbHNlIGlmICh0byA+PSBkaXNwbGF5LnZpZXdUbykgeyAvLyBCb3R0b20gb3ZlcmxhcFxuICAgIHZhciBjdXQkMSA9IHZpZXdDdXR0aW5nUG9pbnQoY20sIGZyb20sIGZyb20sIC0xKVxuICAgIGlmIChjdXQkMSkge1xuICAgICAgZGlzcGxheS52aWV3ID0gZGlzcGxheS52aWV3LnNsaWNlKDAsIGN1dCQxLmluZGV4KVxuICAgICAgZGlzcGxheS52aWV3VG8gPSBjdXQkMS5saW5lTlxuICAgIH0gZWxzZSB7XG4gICAgICByZXNldFZpZXcoY20pXG4gICAgfVxuICB9IGVsc2UgeyAvLyBHYXAgaW4gdGhlIG1pZGRsZVxuICAgIHZhciBjdXRUb3AgPSB2aWV3Q3V0dGluZ1BvaW50KGNtLCBmcm9tLCBmcm9tLCAtMSlcbiAgICB2YXIgY3V0Qm90ID0gdmlld0N1dHRpbmdQb2ludChjbSwgdG8sIHRvICsgbGVuZGlmZiwgMSlcbiAgICBpZiAoY3V0VG9wICYmIGN1dEJvdCkge1xuICAgICAgZGlzcGxheS52aWV3ID0gZGlzcGxheS52aWV3LnNsaWNlKDAsIGN1dFRvcC5pbmRleClcbiAgICAgICAgLmNvbmNhdChidWlsZFZpZXdBcnJheShjbSwgY3V0VG9wLmxpbmVOLCBjdXRCb3QubGluZU4pKVxuICAgICAgICAuY29uY2F0KGRpc3BsYXkudmlldy5zbGljZShjdXRCb3QuaW5kZXgpKVxuICAgICAgZGlzcGxheS52aWV3VG8gKz0gbGVuZGlmZlxuICAgIH0gZWxzZSB7XG4gICAgICByZXNldFZpZXcoY20pXG4gICAgfVxuICB9XG5cbiAgdmFyIGV4dCA9IGRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZFxuICBpZiAoZXh0KSB7XG4gICAgaWYgKHRvIDwgZXh0LmxpbmVOKVxuICAgICAgeyBleHQubGluZU4gKz0gbGVuZGlmZiB9XG4gICAgZWxzZSBpZiAoZnJvbSA8IGV4dC5saW5lTiArIGV4dC5zaXplKVxuICAgICAgeyBkaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQgPSBudWxsIH1cbiAgfVxufVxuXG4vLyBSZWdpc3RlciBhIGNoYW5nZSB0byBhIHNpbmdsZSBsaW5lLiBUeXBlIG11c3QgYmUgb25lIG9mIFwidGV4dFwiLFxuLy8gXCJndXR0ZXJcIiwgXCJjbGFzc1wiLCBcIndpZGdldFwiXG5mdW5jdGlvbiByZWdMaW5lQ2hhbmdlKGNtLCBsaW5lLCB0eXBlKSB7XG4gIGNtLmN1ck9wLnZpZXdDaGFuZ2VkID0gdHJ1ZVxuICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIGV4dCA9IGNtLmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZFxuICBpZiAoZXh0ICYmIGxpbmUgPj0gZXh0LmxpbmVOICYmIGxpbmUgPCBleHQubGluZU4gKyBleHQuc2l6ZSlcbiAgICB7IGRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZCA9IG51bGwgfVxuXG4gIGlmIChsaW5lIDwgZGlzcGxheS52aWV3RnJvbSB8fCBsaW5lID49IGRpc3BsYXkudmlld1RvKSB7IHJldHVybiB9XG4gIHZhciBsaW5lVmlldyA9IGRpc3BsYXkudmlld1tmaW5kVmlld0luZGV4KGNtLCBsaW5lKV1cbiAgaWYgKGxpbmVWaWV3Lm5vZGUgPT0gbnVsbCkgeyByZXR1cm4gfVxuICB2YXIgYXJyID0gbGluZVZpZXcuY2hhbmdlcyB8fCAobGluZVZpZXcuY2hhbmdlcyA9IFtdKVxuICBpZiAoaW5kZXhPZihhcnIsIHR5cGUpID09IC0xKSB7IGFyci5wdXNoKHR5cGUpIH1cbn1cblxuLy8gQ2xlYXIgdGhlIHZpZXcuXG5mdW5jdGlvbiByZXNldFZpZXcoY20pIHtcbiAgY20uZGlzcGxheS52aWV3RnJvbSA9IGNtLmRpc3BsYXkudmlld1RvID0gY20uZG9jLmZpcnN0XG4gIGNtLmRpc3BsYXkudmlldyA9IFtdXG4gIGNtLmRpc3BsYXkudmlld09mZnNldCA9IDBcbn1cblxuZnVuY3Rpb24gdmlld0N1dHRpbmdQb2ludChjbSwgb2xkTiwgbmV3TiwgZGlyKSB7XG4gIHZhciBpbmRleCA9IGZpbmRWaWV3SW5kZXgoY20sIG9sZE4pLCBkaWZmLCB2aWV3ID0gY20uZGlzcGxheS52aWV3XG4gIGlmICghc2F3Q29sbGFwc2VkU3BhbnMgfHwgbmV3TiA9PSBjbS5kb2MuZmlyc3QgKyBjbS5kb2Muc2l6ZSlcbiAgICB7IHJldHVybiB7aW5kZXg6IGluZGV4LCBsaW5lTjogbmV3Tn0gfVxuICB2YXIgbiA9IGNtLmRpc3BsYXkudmlld0Zyb21cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmRleDsgaSsrKVxuICAgIHsgbiArPSB2aWV3W2ldLnNpemUgfVxuICBpZiAobiAhPSBvbGROKSB7XG4gICAgaWYgKGRpciA+IDApIHtcbiAgICAgIGlmIChpbmRleCA9PSB2aWV3Lmxlbmd0aCAtIDEpIHsgcmV0dXJuIG51bGwgfVxuICAgICAgZGlmZiA9IChuICsgdmlld1tpbmRleF0uc2l6ZSkgLSBvbGROXG4gICAgICBpbmRleCsrXG4gICAgfSBlbHNlIHtcbiAgICAgIGRpZmYgPSBuIC0gb2xkTlxuICAgIH1cbiAgICBvbGROICs9IGRpZmY7IG5ld04gKz0gZGlmZlxuICB9XG4gIHdoaWxlICh2aXN1YWxMaW5lTm8oY20uZG9jLCBuZXdOKSAhPSBuZXdOKSB7XG4gICAgaWYgKGluZGV4ID09IChkaXIgPCAwID8gMCA6IHZpZXcubGVuZ3RoIC0gMSkpIHsgcmV0dXJuIG51bGwgfVxuICAgIG5ld04gKz0gZGlyICogdmlld1tpbmRleCAtIChkaXIgPCAwID8gMSA6IDApXS5zaXplXG4gICAgaW5kZXggKz0gZGlyXG4gIH1cbiAgcmV0dXJuIHtpbmRleDogaW5kZXgsIGxpbmVOOiBuZXdOfVxufVxuXG4vLyBGb3JjZSB0aGUgdmlldyB0byBjb3ZlciBhIGdpdmVuIHJhbmdlLCBhZGRpbmcgZW1wdHkgdmlldyBlbGVtZW50XG4vLyBvciBjbGlwcGluZyBvZmYgZXhpc3Rpbmcgb25lcyBhcyBuZWVkZWQuXG5mdW5jdGlvbiBhZGp1c3RWaWV3KGNtLCBmcm9tLCB0bykge1xuICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIHZpZXcgPSBkaXNwbGF5LnZpZXdcbiAgaWYgKHZpZXcubGVuZ3RoID09IDAgfHwgZnJvbSA+PSBkaXNwbGF5LnZpZXdUbyB8fCB0byA8PSBkaXNwbGF5LnZpZXdGcm9tKSB7XG4gICAgZGlzcGxheS52aWV3ID0gYnVpbGRWaWV3QXJyYXkoY20sIGZyb20sIHRvKVxuICAgIGRpc3BsYXkudmlld0Zyb20gPSBmcm9tXG4gIH0gZWxzZSB7XG4gICAgaWYgKGRpc3BsYXkudmlld0Zyb20gPiBmcm9tKVxuICAgICAgeyBkaXNwbGF5LnZpZXcgPSBidWlsZFZpZXdBcnJheShjbSwgZnJvbSwgZGlzcGxheS52aWV3RnJvbSkuY29uY2F0KGRpc3BsYXkudmlldykgfVxuICAgIGVsc2UgaWYgKGRpc3BsYXkudmlld0Zyb20gPCBmcm9tKVxuICAgICAgeyBkaXNwbGF5LnZpZXcgPSBkaXNwbGF5LnZpZXcuc2xpY2UoZmluZFZpZXdJbmRleChjbSwgZnJvbSkpIH1cbiAgICBkaXNwbGF5LnZpZXdGcm9tID0gZnJvbVxuICAgIGlmIChkaXNwbGF5LnZpZXdUbyA8IHRvKVxuICAgICAgeyBkaXNwbGF5LnZpZXcgPSBkaXNwbGF5LnZpZXcuY29uY2F0KGJ1aWxkVmlld0FycmF5KGNtLCBkaXNwbGF5LnZpZXdUbywgdG8pKSB9XG4gICAgZWxzZSBpZiAoZGlzcGxheS52aWV3VG8gPiB0bylcbiAgICAgIHsgZGlzcGxheS52aWV3ID0gZGlzcGxheS52aWV3LnNsaWNlKDAsIGZpbmRWaWV3SW5kZXgoY20sIHRvKSkgfVxuICB9XG4gIGRpc3BsYXkudmlld1RvID0gdG9cbn1cblxuLy8gQ291bnQgdGhlIG51bWJlciBvZiBsaW5lcyBpbiB0aGUgdmlldyB3aG9zZSBET00gcmVwcmVzZW50YXRpb24gaXNcbi8vIG91dCBvZiBkYXRlIChvciBub25leGlzdGVudCkuXG5mdW5jdGlvbiBjb3VudERpcnR5VmlldyhjbSkge1xuICB2YXIgdmlldyA9IGNtLmRpc3BsYXkudmlldywgZGlydHkgPSAwXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBsaW5lVmlldyA9IHZpZXdbaV1cbiAgICBpZiAoIWxpbmVWaWV3LmhpZGRlbiAmJiAoIWxpbmVWaWV3Lm5vZGUgfHwgbGluZVZpZXcuY2hhbmdlcykpIHsgKytkaXJ0eSB9XG4gIH1cbiAgcmV0dXJuIGRpcnR5XG59XG5cbi8vIEhJR0hMSUdIVCBXT1JLRVJcblxuZnVuY3Rpb24gc3RhcnRXb3JrZXIoY20sIHRpbWUpIHtcbiAgaWYgKGNtLmRvYy5tb2RlLnN0YXJ0U3RhdGUgJiYgY20uZG9jLmZyb250aWVyIDwgY20uZGlzcGxheS52aWV3VG8pXG4gICAgeyBjbS5zdGF0ZS5oaWdobGlnaHQuc2V0KHRpbWUsIGJpbmQoaGlnaGxpZ2h0V29ya2VyLCBjbSkpIH1cbn1cblxuZnVuY3Rpb24gaGlnaGxpZ2h0V29ya2VyKGNtKSB7XG4gIHZhciBkb2MgPSBjbS5kb2NcbiAgaWYgKGRvYy5mcm9udGllciA8IGRvYy5maXJzdCkgeyBkb2MuZnJvbnRpZXIgPSBkb2MuZmlyc3QgfVxuICBpZiAoZG9jLmZyb250aWVyID49IGNtLmRpc3BsYXkudmlld1RvKSB7IHJldHVybiB9XG4gIHZhciBlbmQgPSArbmV3IERhdGUgKyBjbS5vcHRpb25zLndvcmtUaW1lXG4gIHZhciBzdGF0ZSA9IGNvcHlTdGF0ZShkb2MubW9kZSwgZ2V0U3RhdGVCZWZvcmUoY20sIGRvYy5mcm9udGllcikpXG4gIHZhciBjaGFuZ2VkTGluZXMgPSBbXVxuXG4gIGRvYy5pdGVyKGRvYy5mcm9udGllciwgTWF0aC5taW4oZG9jLmZpcnN0ICsgZG9jLnNpemUsIGNtLmRpc3BsYXkudmlld1RvICsgNTAwKSwgZnVuY3Rpb24gKGxpbmUpIHtcbiAgICBpZiAoZG9jLmZyb250aWVyID49IGNtLmRpc3BsYXkudmlld0Zyb20pIHsgLy8gVmlzaWJsZVxuICAgICAgdmFyIG9sZFN0eWxlcyA9IGxpbmUuc3R5bGVzLCB0b29Mb25nID0gbGluZS50ZXh0Lmxlbmd0aCA+IGNtLm9wdGlvbnMubWF4SGlnaGxpZ2h0TGVuZ3RoXG4gICAgICB2YXIgaGlnaGxpZ2h0ZWQgPSBoaWdobGlnaHRMaW5lKGNtLCBsaW5lLCB0b29Mb25nID8gY29weVN0YXRlKGRvYy5tb2RlLCBzdGF0ZSkgOiBzdGF0ZSwgdHJ1ZSlcbiAgICAgIGxpbmUuc3R5bGVzID0gaGlnaGxpZ2h0ZWQuc3R5bGVzXG4gICAgICB2YXIgb2xkQ2xzID0gbGluZS5zdHlsZUNsYXNzZXMsIG5ld0NscyA9IGhpZ2hsaWdodGVkLmNsYXNzZXNcbiAgICAgIGlmIChuZXdDbHMpIHsgbGluZS5zdHlsZUNsYXNzZXMgPSBuZXdDbHMgfVxuICAgICAgZWxzZSBpZiAob2xkQ2xzKSB7IGxpbmUuc3R5bGVDbGFzc2VzID0gbnVsbCB9XG4gICAgICB2YXIgaXNjaGFuZ2UgPSAhb2xkU3R5bGVzIHx8IG9sZFN0eWxlcy5sZW5ndGggIT0gbGluZS5zdHlsZXMubGVuZ3RoIHx8XG4gICAgICAgIG9sZENscyAhPSBuZXdDbHMgJiYgKCFvbGRDbHMgfHwgIW5ld0NscyB8fCBvbGRDbHMuYmdDbGFzcyAhPSBuZXdDbHMuYmdDbGFzcyB8fCBvbGRDbHMudGV4dENsYXNzICE9IG5ld0Nscy50ZXh0Q2xhc3MpXG4gICAgICBmb3IgKHZhciBpID0gMDsgIWlzY2hhbmdlICYmIGkgPCBvbGRTdHlsZXMubGVuZ3RoOyArK2kpIHsgaXNjaGFuZ2UgPSBvbGRTdHlsZXNbaV0gIT0gbGluZS5zdHlsZXNbaV0gfVxuICAgICAgaWYgKGlzY2hhbmdlKSB7IGNoYW5nZWRMaW5lcy5wdXNoKGRvYy5mcm9udGllcikgfVxuICAgICAgbGluZS5zdGF0ZUFmdGVyID0gdG9vTG9uZyA/IHN0YXRlIDogY29weVN0YXRlKGRvYy5tb2RlLCBzdGF0ZSlcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGxpbmUudGV4dC5sZW5ndGggPD0gY20ub3B0aW9ucy5tYXhIaWdobGlnaHRMZW5ndGgpXG4gICAgICAgIHsgcHJvY2Vzc0xpbmUoY20sIGxpbmUudGV4dCwgc3RhdGUpIH1cbiAgICAgIGxpbmUuc3RhdGVBZnRlciA9IGRvYy5mcm9udGllciAlIDUgPT0gMCA/IGNvcHlTdGF0ZShkb2MubW9kZSwgc3RhdGUpIDogbnVsbFxuICAgIH1cbiAgICArK2RvYy5mcm9udGllclxuICAgIGlmICgrbmV3IERhdGUgPiBlbmQpIHtcbiAgICAgIHN0YXJ0V29ya2VyKGNtLCBjbS5vcHRpb25zLndvcmtEZWxheSlcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9KVxuICBpZiAoY2hhbmdlZExpbmVzLmxlbmd0aCkgeyBydW5Jbk9wKGNtLCBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFuZ2VkTGluZXMubGVuZ3RoOyBpKyspXG4gICAgICB7IHJlZ0xpbmVDaGFuZ2UoY20sIGNoYW5nZWRMaW5lc1tpXSwgXCJ0ZXh0XCIpIH1cbiAgfSkgfVxufVxuXG4vLyBESVNQTEFZIERSQVdJTkdcblxuZnVuY3Rpb24gRGlzcGxheVVwZGF0ZShjbSwgdmlld3BvcnQsIGZvcmNlKSB7XG4gIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheVxuXG4gIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydFxuICAvLyBTdG9yZSBzb21lIHZhbHVlcyB0aGF0IHdlJ2xsIG5lZWQgbGF0ZXIgKGJ1dCBkb24ndCB3YW50IHRvIGZvcmNlIGEgcmVsYXlvdXQgZm9yKVxuICB0aGlzLnZpc2libGUgPSB2aXNpYmxlTGluZXMoZGlzcGxheSwgY20uZG9jLCB2aWV3cG9ydClcbiAgdGhpcy5lZGl0b3JJc0hpZGRlbiA9ICFkaXNwbGF5LndyYXBwZXIub2Zmc2V0V2lkdGhcbiAgdGhpcy53cmFwcGVySGVpZ2h0ID0gZGlzcGxheS53cmFwcGVyLmNsaWVudEhlaWdodFxuICB0aGlzLndyYXBwZXJXaWR0aCA9IGRpc3BsYXkud3JhcHBlci5jbGllbnRXaWR0aFxuICB0aGlzLm9sZERpc3BsYXlXaWR0aCA9IGRpc3BsYXlXaWR0aChjbSlcbiAgdGhpcy5mb3JjZSA9IGZvcmNlXG4gIHRoaXMuZGltcyA9IGdldERpbWVuc2lvbnMoY20pXG4gIHRoaXMuZXZlbnRzID0gW11cbn1cblxuRGlzcGxheVVwZGF0ZS5wcm90b3R5cGUuc2lnbmFsID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICBpZiAoaGFzSGFuZGxlcihlbWl0dGVyLCB0eXBlKSlcbiAgICB7IHRoaXMuZXZlbnRzLnB1c2goYXJndW1lbnRzKSB9XG59XG5EaXNwbGF5VXBkYXRlLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbigpIHtcbiAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmV2ZW50cy5sZW5ndGg7IGkrKylcbiAgICB7IHNpZ25hbC5hcHBseShudWxsLCB0aGlzJDEuZXZlbnRzW2ldKSB9XG59XG5cbmZ1bmN0aW9uIG1heWJlQ2xpcFNjcm9sbGJhcnMoY20pIHtcbiAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5XG4gIGlmICghZGlzcGxheS5zY3JvbGxiYXJzQ2xpcHBlZCAmJiBkaXNwbGF5LnNjcm9sbGVyLm9mZnNldFdpZHRoKSB7XG4gICAgZGlzcGxheS5uYXRpdmVCYXJXaWR0aCA9IGRpc3BsYXkuc2Nyb2xsZXIub2Zmc2V0V2lkdGggLSBkaXNwbGF5LnNjcm9sbGVyLmNsaWVudFdpZHRoXG4gICAgZGlzcGxheS5oZWlnaHRGb3JjZXIuc3R5bGUuaGVpZ2h0ID0gc2Nyb2xsR2FwKGNtKSArIFwicHhcIlxuICAgIGRpc3BsYXkuc2l6ZXIuc3R5bGUubWFyZ2luQm90dG9tID0gLWRpc3BsYXkubmF0aXZlQmFyV2lkdGggKyBcInB4XCJcbiAgICBkaXNwbGF5LnNpemVyLnN0eWxlLmJvcmRlclJpZ2h0V2lkdGggPSBzY3JvbGxHYXAoY20pICsgXCJweFwiXG4gICAgZGlzcGxheS5zY3JvbGxiYXJzQ2xpcHBlZCA9IHRydWVcbiAgfVxufVxuXG4vLyBEb2VzIHRoZSBhY3R1YWwgdXBkYXRpbmcgb2YgdGhlIGxpbmUgZGlzcGxheS4gQmFpbHMgb3V0XG4vLyAocmV0dXJuaW5nIGZhbHNlKSB3aGVuIHRoZXJlIGlzIG5vdGhpbmcgdG8gYmUgZG9uZSBhbmQgZm9yY2VkIGlzXG4vLyBmYWxzZS5cbmZ1bmN0aW9uIHVwZGF0ZURpc3BsYXlJZk5lZWRlZChjbSwgdXBkYXRlKSB7XG4gIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgZG9jID0gY20uZG9jXG5cbiAgaWYgKHVwZGF0ZS5lZGl0b3JJc0hpZGRlbikge1xuICAgIHJlc2V0VmlldyhjbSlcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8vIEJhaWwgb3V0IGlmIHRoZSB2aXNpYmxlIGFyZWEgaXMgYWxyZWFkeSByZW5kZXJlZCBhbmQgbm90aGluZyBjaGFuZ2VkLlxuICBpZiAoIXVwZGF0ZS5mb3JjZSAmJlxuICAgICAgdXBkYXRlLnZpc2libGUuZnJvbSA+PSBkaXNwbGF5LnZpZXdGcm9tICYmIHVwZGF0ZS52aXNpYmxlLnRvIDw9IGRpc3BsYXkudmlld1RvICYmXG4gICAgICAoZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycyA9PSBudWxsIHx8IGRpc3BsYXkudXBkYXRlTGluZU51bWJlcnMgPj0gZGlzcGxheS52aWV3VG8pICYmXG4gICAgICBkaXNwbGF5LnJlbmRlcmVkVmlldyA9PSBkaXNwbGF5LnZpZXcgJiYgY291bnREaXJ0eVZpZXcoY20pID09IDApXG4gICAgeyByZXR1cm4gZmFsc2UgfVxuXG4gIGlmIChtYXliZVVwZGF0ZUxpbmVOdW1iZXJXaWR0aChjbSkpIHtcbiAgICByZXNldFZpZXcoY20pXG4gICAgdXBkYXRlLmRpbXMgPSBnZXREaW1lbnNpb25zKGNtKVxuICB9XG5cbiAgLy8gQ29tcHV0ZSBhIHN1aXRhYmxlIG5ldyB2aWV3cG9ydCAoZnJvbSAmIHRvKVxuICB2YXIgZW5kID0gZG9jLmZpcnN0ICsgZG9jLnNpemVcbiAgdmFyIGZyb20gPSBNYXRoLm1heCh1cGRhdGUudmlzaWJsZS5mcm9tIC0gY20ub3B0aW9ucy52aWV3cG9ydE1hcmdpbiwgZG9jLmZpcnN0KVxuICB2YXIgdG8gPSBNYXRoLm1pbihlbmQsIHVwZGF0ZS52aXNpYmxlLnRvICsgY20ub3B0aW9ucy52aWV3cG9ydE1hcmdpbilcbiAgaWYgKGRpc3BsYXkudmlld0Zyb20gPCBmcm9tICYmIGZyb20gLSBkaXNwbGF5LnZpZXdGcm9tIDwgMjApIHsgZnJvbSA9IE1hdGgubWF4KGRvYy5maXJzdCwgZGlzcGxheS52aWV3RnJvbSkgfVxuICBpZiAoZGlzcGxheS52aWV3VG8gPiB0byAmJiBkaXNwbGF5LnZpZXdUbyAtIHRvIDwgMjApIHsgdG8gPSBNYXRoLm1pbihlbmQsIGRpc3BsYXkudmlld1RvKSB9XG4gIGlmIChzYXdDb2xsYXBzZWRTcGFucykge1xuICAgIGZyb20gPSB2aXN1YWxMaW5lTm8oY20uZG9jLCBmcm9tKVxuICAgIHRvID0gdmlzdWFsTGluZUVuZE5vKGNtLmRvYywgdG8pXG4gIH1cblxuICB2YXIgZGlmZmVyZW50ID0gZnJvbSAhPSBkaXNwbGF5LnZpZXdGcm9tIHx8IHRvICE9IGRpc3BsYXkudmlld1RvIHx8XG4gICAgZGlzcGxheS5sYXN0V3JhcEhlaWdodCAhPSB1cGRhdGUud3JhcHBlckhlaWdodCB8fCBkaXNwbGF5Lmxhc3RXcmFwV2lkdGggIT0gdXBkYXRlLndyYXBwZXJXaWR0aFxuICBhZGp1c3RWaWV3KGNtLCBmcm9tLCB0bylcblxuICBkaXNwbGF5LnZpZXdPZmZzZXQgPSBoZWlnaHRBdExpbmUoZ2V0TGluZShjbS5kb2MsIGRpc3BsYXkudmlld0Zyb20pKVxuICAvLyBQb3NpdGlvbiB0aGUgbW92ZXIgZGl2IHRvIGFsaWduIHdpdGggdGhlIGN1cnJlbnQgc2Nyb2xsIHBvc2l0aW9uXG4gIGNtLmRpc3BsYXkubW92ZXIuc3R5bGUudG9wID0gZGlzcGxheS52aWV3T2Zmc2V0ICsgXCJweFwiXG5cbiAgdmFyIHRvVXBkYXRlID0gY291bnREaXJ0eVZpZXcoY20pXG4gIGlmICghZGlmZmVyZW50ICYmIHRvVXBkYXRlID09IDAgJiYgIXVwZGF0ZS5mb3JjZSAmJiBkaXNwbGF5LnJlbmRlcmVkVmlldyA9PSBkaXNwbGF5LnZpZXcgJiZcbiAgICAgIChkaXNwbGF5LnVwZGF0ZUxpbmVOdW1iZXJzID09IG51bGwgfHwgZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycyA+PSBkaXNwbGF5LnZpZXdUbykpXG4gICAgeyByZXR1cm4gZmFsc2UgfVxuXG4gIC8vIEZvciBiaWcgY2hhbmdlcywgd2UgaGlkZSB0aGUgZW5jbG9zaW5nIGVsZW1lbnQgZHVyaW5nIHRoZVxuICAvLyB1cGRhdGUsIHNpbmNlIHRoYXQgc3BlZWRzIHVwIHRoZSBvcGVyYXRpb25zIG9uIG1vc3QgYnJvd3NlcnMuXG4gIHZhciBmb2N1c2VkID0gYWN0aXZlRWx0KClcbiAgaWYgKHRvVXBkYXRlID4gNCkgeyBkaXNwbGF5LmxpbmVEaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiIH1cbiAgcGF0Y2hEaXNwbGF5KGNtLCBkaXNwbGF5LnVwZGF0ZUxpbmVOdW1iZXJzLCB1cGRhdGUuZGltcylcbiAgaWYgKHRvVXBkYXRlID4gNCkgeyBkaXNwbGF5LmxpbmVEaXYuc3R5bGUuZGlzcGxheSA9IFwiXCIgfVxuICBkaXNwbGF5LnJlbmRlcmVkVmlldyA9IGRpc3BsYXkudmlld1xuICAvLyBUaGVyZSBtaWdodCBoYXZlIGJlZW4gYSB3aWRnZXQgd2l0aCBhIGZvY3VzZWQgZWxlbWVudCB0aGF0IGdvdFxuICAvLyBoaWRkZW4gb3IgdXBkYXRlZCwgaWYgc28gcmUtZm9jdXMgaXQuXG4gIGlmIChmb2N1c2VkICYmIGFjdGl2ZUVsdCgpICE9IGZvY3VzZWQgJiYgZm9jdXNlZC5vZmZzZXRIZWlnaHQpIHsgZm9jdXNlZC5mb2N1cygpIH1cblxuICAvLyBQcmV2ZW50IHNlbGVjdGlvbiBhbmQgY3Vyc29ycyBmcm9tIGludGVyZmVyaW5nIHdpdGggdGhlIHNjcm9sbFxuICAvLyB3aWR0aCBhbmQgaGVpZ2h0LlxuICByZW1vdmVDaGlsZHJlbihkaXNwbGF5LmN1cnNvckRpdilcbiAgcmVtb3ZlQ2hpbGRyZW4oZGlzcGxheS5zZWxlY3Rpb25EaXYpXG4gIGRpc3BsYXkuZ3V0dGVycy5zdHlsZS5oZWlnaHQgPSBkaXNwbGF5LnNpemVyLnN0eWxlLm1pbkhlaWdodCA9IDBcblxuICBpZiAoZGlmZmVyZW50KSB7XG4gICAgZGlzcGxheS5sYXN0V3JhcEhlaWdodCA9IHVwZGF0ZS53cmFwcGVySGVpZ2h0XG4gICAgZGlzcGxheS5sYXN0V3JhcFdpZHRoID0gdXBkYXRlLndyYXBwZXJXaWR0aFxuICAgIHN0YXJ0V29ya2VyKGNtLCA0MDApXG4gIH1cblxuICBkaXNwbGF5LnVwZGF0ZUxpbmVOdW1iZXJzID0gbnVsbFxuXG4gIHJldHVybiB0cnVlXG59XG5cbmZ1bmN0aW9uIHBvc3RVcGRhdGVEaXNwbGF5KGNtLCB1cGRhdGUpIHtcbiAgdmFyIHZpZXdwb3J0ID0gdXBkYXRlLnZpZXdwb3J0XG5cbiAgZm9yICh2YXIgZmlyc3QgPSB0cnVlOzsgZmlyc3QgPSBmYWxzZSkge1xuICAgIGlmICghZmlyc3QgfHwgIWNtLm9wdGlvbnMubGluZVdyYXBwaW5nIHx8IHVwZGF0ZS5vbGREaXNwbGF5V2lkdGggPT0gZGlzcGxheVdpZHRoKGNtKSkge1xuICAgICAgLy8gQ2xpcCBmb3JjZWQgdmlld3BvcnQgdG8gYWN0dWFsIHNjcm9sbGFibGUgYXJlYS5cbiAgICAgIGlmICh2aWV3cG9ydCAmJiB2aWV3cG9ydC50b3AgIT0gbnVsbClcbiAgICAgICAgeyB2aWV3cG9ydCA9IHt0b3A6IE1hdGgubWluKGNtLmRvYy5oZWlnaHQgKyBwYWRkaW5nVmVydChjbS5kaXNwbGF5KSAtIGRpc3BsYXlIZWlnaHQoY20pLCB2aWV3cG9ydC50b3ApfSB9XG4gICAgICAvLyBVcGRhdGVkIGxpbmUgaGVpZ2h0cyBtaWdodCByZXN1bHQgaW4gdGhlIGRyYXduIGFyZWEgbm90XG4gICAgICAvLyBhY3R1YWxseSBjb3ZlcmluZyB0aGUgdmlld3BvcnQuIEtlZXAgbG9vcGluZyB1bnRpbCBpdCBkb2VzLlxuICAgICAgdXBkYXRlLnZpc2libGUgPSB2aXNpYmxlTGluZXMoY20uZGlzcGxheSwgY20uZG9jLCB2aWV3cG9ydClcbiAgICAgIGlmICh1cGRhdGUudmlzaWJsZS5mcm9tID49IGNtLmRpc3BsYXkudmlld0Zyb20gJiYgdXBkYXRlLnZpc2libGUudG8gPD0gY20uZGlzcGxheS52aWV3VG8pXG4gICAgICAgIHsgYnJlYWsgfVxuICAgIH1cbiAgICBpZiAoIXVwZGF0ZURpc3BsYXlJZk5lZWRlZChjbSwgdXBkYXRlKSkgeyBicmVhayB9XG4gICAgdXBkYXRlSGVpZ2h0c0luVmlld3BvcnQoY20pXG4gICAgdmFyIGJhck1lYXN1cmUgPSBtZWFzdXJlRm9yU2Nyb2xsYmFycyhjbSlcbiAgICB1cGRhdGVTZWxlY3Rpb24oY20pXG4gICAgdXBkYXRlU2Nyb2xsYmFycyhjbSwgYmFyTWVhc3VyZSlcbiAgICBzZXREb2N1bWVudEhlaWdodChjbSwgYmFyTWVhc3VyZSlcbiAgfVxuXG4gIHVwZGF0ZS5zaWduYWwoY20sIFwidXBkYXRlXCIsIGNtKVxuICBpZiAoY20uZGlzcGxheS52aWV3RnJvbSAhPSBjbS5kaXNwbGF5LnJlcG9ydGVkVmlld0Zyb20gfHwgY20uZGlzcGxheS52aWV3VG8gIT0gY20uZGlzcGxheS5yZXBvcnRlZFZpZXdUbykge1xuICAgIHVwZGF0ZS5zaWduYWwoY20sIFwidmlld3BvcnRDaGFuZ2VcIiwgY20sIGNtLmRpc3BsYXkudmlld0Zyb20sIGNtLmRpc3BsYXkudmlld1RvKVxuICAgIGNtLmRpc3BsYXkucmVwb3J0ZWRWaWV3RnJvbSA9IGNtLmRpc3BsYXkudmlld0Zyb207IGNtLmRpc3BsYXkucmVwb3J0ZWRWaWV3VG8gPSBjbS5kaXNwbGF5LnZpZXdUb1xuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZURpc3BsYXlTaW1wbGUoY20sIHZpZXdwb3J0KSB7XG4gIHZhciB1cGRhdGUgPSBuZXcgRGlzcGxheVVwZGF0ZShjbSwgdmlld3BvcnQpXG4gIGlmICh1cGRhdGVEaXNwbGF5SWZOZWVkZWQoY20sIHVwZGF0ZSkpIHtcbiAgICB1cGRhdGVIZWlnaHRzSW5WaWV3cG9ydChjbSlcbiAgICBwb3N0VXBkYXRlRGlzcGxheShjbSwgdXBkYXRlKVxuICAgIHZhciBiYXJNZWFzdXJlID0gbWVhc3VyZUZvclNjcm9sbGJhcnMoY20pXG4gICAgdXBkYXRlU2VsZWN0aW9uKGNtKVxuICAgIHVwZGF0ZVNjcm9sbGJhcnMoY20sIGJhck1lYXN1cmUpXG4gICAgc2V0RG9jdW1lbnRIZWlnaHQoY20sIGJhck1lYXN1cmUpXG4gICAgdXBkYXRlLmZpbmlzaCgpXG4gIH1cbn1cblxuLy8gU3luYyB0aGUgYWN0dWFsIGRpc3BsYXkgRE9NIHN0cnVjdHVyZSB3aXRoIGRpc3BsYXkudmlldywgcmVtb3Zpbmdcbi8vIG5vZGVzIGZvciBsaW5lcyB0aGF0IGFyZSBubyBsb25nZXIgaW4gdmlldywgYW5kIGNyZWF0aW5nIHRoZSBvbmVzXG4vLyB0aGF0IGFyZSBub3QgdGhlcmUgeWV0LCBhbmQgdXBkYXRpbmcgdGhlIG9uZXMgdGhhdCBhcmUgb3V0IG9mXG4vLyBkYXRlLlxuZnVuY3Rpb24gcGF0Y2hEaXNwbGF5KGNtLCB1cGRhdGVOdW1iZXJzRnJvbSwgZGltcykge1xuICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIGxpbmVOdW1iZXJzID0gY20ub3B0aW9ucy5saW5lTnVtYmVyc1xuICB2YXIgY29udGFpbmVyID0gZGlzcGxheS5saW5lRGl2LCBjdXIgPSBjb250YWluZXIuZmlyc3RDaGlsZFxuXG4gIGZ1bmN0aW9uIHJtKG5vZGUpIHtcbiAgICB2YXIgbmV4dCA9IG5vZGUubmV4dFNpYmxpbmdcbiAgICAvLyBXb3JrcyBhcm91bmQgYSB0aHJvdy1zY3JvbGwgYnVnIGluIE9TIFggV2Via2l0XG4gICAgaWYgKHdlYmtpdCAmJiBtYWMgJiYgY20uZGlzcGxheS5jdXJyZW50V2hlZWxUYXJnZXQgPT0gbm9kZSlcbiAgICAgIHsgbm9kZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCIgfVxuICAgIGVsc2VcbiAgICAgIHsgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpIH1cbiAgICByZXR1cm4gbmV4dFxuICB9XG5cbiAgdmFyIHZpZXcgPSBkaXNwbGF5LnZpZXcsIGxpbmVOID0gZGlzcGxheS52aWV3RnJvbVxuICAvLyBMb29wIG92ZXIgdGhlIGVsZW1lbnRzIGluIHRoZSB2aWV3LCBzeW5jaW5nIGN1ciAodGhlIERPTSBub2Rlc1xuICAvLyBpbiBkaXNwbGF5LmxpbmVEaXYpIHdpdGggdGhlIHZpZXcgYXMgd2UgZ28uXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBsaW5lVmlldyA9IHZpZXdbaV1cbiAgICBpZiAobGluZVZpZXcuaGlkZGVuKSB7XG4gICAgfSBlbHNlIGlmICghbGluZVZpZXcubm9kZSB8fCBsaW5lVmlldy5ub2RlLnBhcmVudE5vZGUgIT0gY29udGFpbmVyKSB7IC8vIE5vdCBkcmF3biB5ZXRcbiAgICAgIHZhciBub2RlID0gYnVpbGRMaW5lRWxlbWVudChjbSwgbGluZVZpZXcsIGxpbmVOLCBkaW1zKVxuICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShub2RlLCBjdXIpXG4gICAgfSBlbHNlIHsgLy8gQWxyZWFkeSBkcmF3blxuICAgICAgd2hpbGUgKGN1ciAhPSBsaW5lVmlldy5ub2RlKSB7IGN1ciA9IHJtKGN1cikgfVxuICAgICAgdmFyIHVwZGF0ZU51bWJlciA9IGxpbmVOdW1iZXJzICYmIHVwZGF0ZU51bWJlcnNGcm9tICE9IG51bGwgJiZcbiAgICAgICAgdXBkYXRlTnVtYmVyc0Zyb20gPD0gbGluZU4gJiYgbGluZVZpZXcubGluZU51bWJlclxuICAgICAgaWYgKGxpbmVWaWV3LmNoYW5nZXMpIHtcbiAgICAgICAgaWYgKGluZGV4T2YobGluZVZpZXcuY2hhbmdlcywgXCJndXR0ZXJcIikgPiAtMSkgeyB1cGRhdGVOdW1iZXIgPSBmYWxzZSB9XG4gICAgICAgIHVwZGF0ZUxpbmVGb3JDaGFuZ2VzKGNtLCBsaW5lVmlldywgbGluZU4sIGRpbXMpXG4gICAgICB9XG4gICAgICBpZiAodXBkYXRlTnVtYmVyKSB7XG4gICAgICAgIHJlbW92ZUNoaWxkcmVuKGxpbmVWaWV3LmxpbmVOdW1iZXIpXG4gICAgICAgIGxpbmVWaWV3LmxpbmVOdW1iZXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobGluZU51bWJlckZvcihjbS5vcHRpb25zLCBsaW5lTikpKVxuICAgICAgfVxuICAgICAgY3VyID0gbGluZVZpZXcubm9kZS5uZXh0U2libGluZ1xuICAgIH1cbiAgICBsaW5lTiArPSBsaW5lVmlldy5zaXplXG4gIH1cbiAgd2hpbGUgKGN1cikgeyBjdXIgPSBybShjdXIpIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlR3V0dGVyU3BhY2UoY20pIHtcbiAgdmFyIHdpZHRoID0gY20uZGlzcGxheS5ndXR0ZXJzLm9mZnNldFdpZHRoXG4gIGNtLmRpc3BsYXkuc2l6ZXIuc3R5bGUubWFyZ2luTGVmdCA9IHdpZHRoICsgXCJweFwiXG59XG5cbmZ1bmN0aW9uIHNldERvY3VtZW50SGVpZ2h0KGNtLCBtZWFzdXJlKSB7XG4gIGNtLmRpc3BsYXkuc2l6ZXIuc3R5bGUubWluSGVpZ2h0ID0gbWVhc3VyZS5kb2NIZWlnaHQgKyBcInB4XCJcbiAgY20uZGlzcGxheS5oZWlnaHRGb3JjZXIuc3R5bGUudG9wID0gbWVhc3VyZS5kb2NIZWlnaHQgKyBcInB4XCJcbiAgY20uZGlzcGxheS5ndXR0ZXJzLnN0eWxlLmhlaWdodCA9IChtZWFzdXJlLmRvY0hlaWdodCArIGNtLmRpc3BsYXkuYmFySGVpZ2h0ICsgc2Nyb2xsR2FwKGNtKSkgKyBcInB4XCJcbn1cblxuLy8gUmVidWlsZCB0aGUgZ3V0dGVyIGVsZW1lbnRzLCBlbnN1cmUgdGhlIG1hcmdpbiB0byB0aGUgbGVmdCBvZiB0aGVcbi8vIGNvZGUgbWF0Y2hlcyB0aGVpciB3aWR0aC5cbmZ1bmN0aW9uIHVwZGF0ZUd1dHRlcnMoY20pIHtcbiAgdmFyIGd1dHRlcnMgPSBjbS5kaXNwbGF5Lmd1dHRlcnMsIHNwZWNzID0gY20ub3B0aW9ucy5ndXR0ZXJzXG4gIHJlbW92ZUNoaWxkcmVuKGd1dHRlcnMpXG4gIHZhciBpID0gMFxuICBmb3IgKDsgaSA8IHNwZWNzLmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGd1dHRlckNsYXNzID0gc3BlY3NbaV1cbiAgICB2YXIgZ0VsdCA9IGd1dHRlcnMuYXBwZW5kQ2hpbGQoZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1ndXR0ZXIgXCIgKyBndXR0ZXJDbGFzcykpXG4gICAgaWYgKGd1dHRlckNsYXNzID09IFwiQ29kZU1pcnJvci1saW5lbnVtYmVyc1wiKSB7XG4gICAgICBjbS5kaXNwbGF5LmxpbmVHdXR0ZXIgPSBnRWx0XG4gICAgICBnRWx0LnN0eWxlLndpZHRoID0gKGNtLmRpc3BsYXkubGluZU51bVdpZHRoIHx8IDEpICsgXCJweFwiXG4gICAgfVxuICB9XG4gIGd1dHRlcnMuc3R5bGUuZGlzcGxheSA9IGkgPyBcIlwiIDogXCJub25lXCJcbiAgdXBkYXRlR3V0dGVyU3BhY2UoY20pXG59XG5cbi8vIE1ha2Ugc3VyZSB0aGUgZ3V0dGVycyBvcHRpb25zIGNvbnRhaW5zIHRoZSBlbGVtZW50XG4vLyBcIkNvZGVNaXJyb3ItbGluZW51bWJlcnNcIiB3aGVuIHRoZSBsaW5lTnVtYmVycyBvcHRpb24gaXMgdHJ1ZS5cbmZ1bmN0aW9uIHNldEd1dHRlcnNGb3JMaW5lTnVtYmVycyhvcHRpb25zKSB7XG4gIHZhciBmb3VuZCA9IGluZGV4T2Yob3B0aW9ucy5ndXR0ZXJzLCBcIkNvZGVNaXJyb3ItbGluZW51bWJlcnNcIilcbiAgaWYgKGZvdW5kID09IC0xICYmIG9wdGlvbnMubGluZU51bWJlcnMpIHtcbiAgICBvcHRpb25zLmd1dHRlcnMgPSBvcHRpb25zLmd1dHRlcnMuY29uY2F0KFtcIkNvZGVNaXJyb3ItbGluZW51bWJlcnNcIl0pXG4gIH0gZWxzZSBpZiAoZm91bmQgPiAtMSAmJiAhb3B0aW9ucy5saW5lTnVtYmVycykge1xuICAgIG9wdGlvbnMuZ3V0dGVycyA9IG9wdGlvbnMuZ3V0dGVycy5zbGljZSgwKVxuICAgIG9wdGlvbnMuZ3V0dGVycy5zcGxpY2UoZm91bmQsIDEpXG4gIH1cbn1cblxuLy8gU2VsZWN0aW9uIG9iamVjdHMgYXJlIGltbXV0YWJsZS4gQSBuZXcgb25lIGlzIGNyZWF0ZWQgZXZlcnkgdGltZVxuLy8gdGhlIHNlbGVjdGlvbiBjaGFuZ2VzLiBBIHNlbGVjdGlvbiBpcyBvbmUgb3IgbW9yZSBub24tb3ZlcmxhcHBpbmdcbi8vIChhbmQgbm9uLXRvdWNoaW5nKSByYW5nZXMsIHNvcnRlZCwgYW5kIGFuIGludGVnZXIgdGhhdCBpbmRpY2F0ZXNcbi8vIHdoaWNoIG9uZSBpcyB0aGUgcHJpbWFyeSBzZWxlY3Rpb24gKHRoZSBvbmUgdGhhdCdzIHNjcm9sbGVkIGludG9cbi8vIHZpZXcsIHRoYXQgZ2V0Q3Vyc29yIHJldHVybnMsIGV0YykuXG5mdW5jdGlvbiBTZWxlY3Rpb24ocmFuZ2VzLCBwcmltSW5kZXgpIHtcbiAgdGhpcy5yYW5nZXMgPSByYW5nZXNcbiAgdGhpcy5wcmltSW5kZXggPSBwcmltSW5kZXhcbn1cblxuU2VsZWN0aW9uLnByb3RvdHlwZSA9IHtcbiAgcHJpbWFyeTogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLnJhbmdlc1t0aGlzLnByaW1JbmRleF0gfSxcbiAgZXF1YWxzOiBmdW5jdGlvbihvdGhlcikge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgaWYgKG90aGVyID09IHRoaXMpIHsgcmV0dXJuIHRydWUgfVxuICAgIGlmIChvdGhlci5wcmltSW5kZXggIT0gdGhpcy5wcmltSW5kZXggfHwgb3RoZXIucmFuZ2VzLmxlbmd0aCAhPSB0aGlzLnJhbmdlcy5sZW5ndGgpIHsgcmV0dXJuIGZhbHNlIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVyZSA9IHRoaXMkMS5yYW5nZXNbaV0sIHRoZXJlID0gb3RoZXIucmFuZ2VzW2ldXG4gICAgICBpZiAoY21wKGhlcmUuYW5jaG9yLCB0aGVyZS5hbmNob3IpICE9IDAgfHwgY21wKGhlcmUuaGVhZCwgdGhlcmUuaGVhZCkgIT0gMCkgeyByZXR1cm4gZmFsc2UgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9LFxuICBkZWVwQ29weTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgb3V0ID0gW11cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMucmFuZ2VzLmxlbmd0aDsgaSsrKVxuICAgICAgeyBvdXRbaV0gPSBuZXcgUmFuZ2UoY29weVBvcyh0aGlzJDEucmFuZ2VzW2ldLmFuY2hvciksIGNvcHlQb3ModGhpcyQxLnJhbmdlc1tpXS5oZWFkKSkgfVxuICAgIHJldHVybiBuZXcgU2VsZWN0aW9uKG91dCwgdGhpcy5wcmltSW5kZXgpXG4gIH0sXG4gIHNvbWV0aGluZ1NlbGVjdGVkOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yYW5nZXMubGVuZ3RoOyBpKyspXG4gICAgICB7IGlmICghdGhpcyQxLnJhbmdlc1tpXS5lbXB0eSgpKSB7IHJldHVybiB0cnVlIH0gfVxuICAgIHJldHVybiBmYWxzZVxuICB9LFxuICBjb250YWluczogZnVuY3Rpb24ocG9zLCBlbmQpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGlmICghZW5kKSB7IGVuZCA9IHBvcyB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHJhbmdlID0gdGhpcyQxLnJhbmdlc1tpXVxuICAgICAgaWYgKGNtcChlbmQsIHJhbmdlLmZyb20oKSkgPj0gMCAmJiBjbXAocG9zLCByYW5nZS50bygpKSA8PSAwKVxuICAgICAgICB7IHJldHVybiBpIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xXG4gIH1cbn1cblxuZnVuY3Rpb24gUmFuZ2UoYW5jaG9yLCBoZWFkKSB7XG4gIHRoaXMuYW5jaG9yID0gYW5jaG9yOyB0aGlzLmhlYWQgPSBoZWFkXG59XG5cblJhbmdlLnByb3RvdHlwZSA9IHtcbiAgZnJvbTogZnVuY3Rpb24oKSB7IHJldHVybiBtaW5Qb3ModGhpcy5hbmNob3IsIHRoaXMuaGVhZCkgfSxcbiAgdG86IGZ1bmN0aW9uKCkgeyByZXR1cm4gbWF4UG9zKHRoaXMuYW5jaG9yLCB0aGlzLmhlYWQpIH0sXG4gIGVtcHR5OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5oZWFkLmxpbmUgPT0gdGhpcy5hbmNob3IubGluZSAmJiB0aGlzLmhlYWQuY2ggPT0gdGhpcy5hbmNob3IuY2hcbiAgfVxufVxuXG4vLyBUYWtlIGFuIHVuc29ydGVkLCBwb3RlbnRpYWxseSBvdmVybGFwcGluZyBzZXQgb2YgcmFuZ2VzLCBhbmRcbi8vIGJ1aWxkIGEgc2VsZWN0aW9uIG91dCBvZiBpdC4gJ0NvbnN1bWVzJyByYW5nZXMgYXJyYXkgKG1vZGlmeWluZ1xuLy8gaXQpLlxuZnVuY3Rpb24gbm9ybWFsaXplU2VsZWN0aW9uKHJhbmdlcywgcHJpbUluZGV4KSB7XG4gIHZhciBwcmltID0gcmFuZ2VzW3ByaW1JbmRleF1cbiAgcmFuZ2VzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGNtcChhLmZyb20oKSwgYi5mcm9tKCkpOyB9KVxuICBwcmltSW5kZXggPSBpbmRleE9mKHJhbmdlcywgcHJpbSlcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY3VyID0gcmFuZ2VzW2ldLCBwcmV2ID0gcmFuZ2VzW2kgLSAxXVxuICAgIGlmIChjbXAocHJldi50bygpLCBjdXIuZnJvbSgpKSA+PSAwKSB7XG4gICAgICB2YXIgZnJvbSA9IG1pblBvcyhwcmV2LmZyb20oKSwgY3VyLmZyb20oKSksIHRvID0gbWF4UG9zKHByZXYudG8oKSwgY3VyLnRvKCkpXG4gICAgICB2YXIgaW52ID0gcHJldi5lbXB0eSgpID8gY3VyLmZyb20oKSA9PSBjdXIuaGVhZCA6IHByZXYuZnJvbSgpID09IHByZXYuaGVhZFxuICAgICAgaWYgKGkgPD0gcHJpbUluZGV4KSB7IC0tcHJpbUluZGV4IH1cbiAgICAgIHJhbmdlcy5zcGxpY2UoLS1pLCAyLCBuZXcgUmFuZ2UoaW52ID8gdG8gOiBmcm9tLCBpbnYgPyBmcm9tIDogdG8pKVxuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3IFNlbGVjdGlvbihyYW5nZXMsIHByaW1JbmRleClcbn1cblxuZnVuY3Rpb24gc2ltcGxlU2VsZWN0aW9uKGFuY2hvciwgaGVhZCkge1xuICByZXR1cm4gbmV3IFNlbGVjdGlvbihbbmV3IFJhbmdlKGFuY2hvciwgaGVhZCB8fCBhbmNob3IpXSwgMClcbn1cblxuLy8gQ29tcHV0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIGVuZCBvZiBhIGNoYW5nZSAoaXRzICd0bycgcHJvcGVydHlcbi8vIHJlZmVycyB0byB0aGUgcHJlLWNoYW5nZSBlbmQpLlxuZnVuY3Rpb24gY2hhbmdlRW5kKGNoYW5nZSkge1xuICBpZiAoIWNoYW5nZS50ZXh0KSB7IHJldHVybiBjaGFuZ2UudG8gfVxuICByZXR1cm4gUG9zKGNoYW5nZS5mcm9tLmxpbmUgKyBjaGFuZ2UudGV4dC5sZW5ndGggLSAxLFxuICAgICAgICAgICAgIGxzdChjaGFuZ2UudGV4dCkubGVuZ3RoICsgKGNoYW5nZS50ZXh0Lmxlbmd0aCA9PSAxID8gY2hhbmdlLmZyb20uY2ggOiAwKSlcbn1cblxuLy8gQWRqdXN0IGEgcG9zaXRpb24gdG8gcmVmZXIgdG8gdGhlIHBvc3QtY2hhbmdlIHBvc2l0aW9uIG9mIHRoZVxuLy8gc2FtZSB0ZXh0LCBvciB0aGUgZW5kIG9mIHRoZSBjaGFuZ2UgaWYgdGhlIGNoYW5nZSBjb3ZlcnMgaXQuXG5mdW5jdGlvbiBhZGp1c3RGb3JDaGFuZ2UocG9zLCBjaGFuZ2UpIHtcbiAgaWYgKGNtcChwb3MsIGNoYW5nZS5mcm9tKSA8IDApIHsgcmV0dXJuIHBvcyB9XG4gIGlmIChjbXAocG9zLCBjaGFuZ2UudG8pIDw9IDApIHsgcmV0dXJuIGNoYW5nZUVuZChjaGFuZ2UpIH1cblxuICB2YXIgbGluZSA9IHBvcy5saW5lICsgY2hhbmdlLnRleHQubGVuZ3RoIC0gKGNoYW5nZS50by5saW5lIC0gY2hhbmdlLmZyb20ubGluZSkgLSAxLCBjaCA9IHBvcy5jaFxuICBpZiAocG9zLmxpbmUgPT0gY2hhbmdlLnRvLmxpbmUpIHsgY2ggKz0gY2hhbmdlRW5kKGNoYW5nZSkuY2ggLSBjaGFuZ2UudG8uY2ggfVxuICByZXR1cm4gUG9zKGxpbmUsIGNoKVxufVxuXG5mdW5jdGlvbiBjb21wdXRlU2VsQWZ0ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpIHtcbiAgdmFyIG91dCA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZG9jLnNlbC5yYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcmFuZ2UgPSBkb2Muc2VsLnJhbmdlc1tpXVxuICAgIG91dC5wdXNoKG5ldyBSYW5nZShhZGp1c3RGb3JDaGFuZ2UocmFuZ2UuYW5jaG9yLCBjaGFuZ2UpLFxuICAgICAgICAgICAgICAgICAgICAgICBhZGp1c3RGb3JDaGFuZ2UocmFuZ2UuaGVhZCwgY2hhbmdlKSkpXG4gIH1cbiAgcmV0dXJuIG5vcm1hbGl6ZVNlbGVjdGlvbihvdXQsIGRvYy5zZWwucHJpbUluZGV4KVxufVxuXG5mdW5jdGlvbiBvZmZzZXRQb3MocG9zLCBvbGQsIG53KSB7XG4gIGlmIChwb3MubGluZSA9PSBvbGQubGluZSlcbiAgICB7IHJldHVybiBQb3MobncubGluZSwgcG9zLmNoIC0gb2xkLmNoICsgbncuY2gpIH1cbiAgZWxzZVxuICAgIHsgcmV0dXJuIFBvcyhudy5saW5lICsgKHBvcy5saW5lIC0gb2xkLmxpbmUpLCBwb3MuY2gpIH1cbn1cblxuLy8gVXNlZCBieSByZXBsYWNlU2VsZWN0aW9ucyB0byBhbGxvdyBtb3ZpbmcgdGhlIHNlbGVjdGlvbiB0byB0aGVcbi8vIHN0YXJ0IG9yIGFyb3VuZCB0aGUgcmVwbGFjZWQgdGVzdC4gSGludCBtYXkgYmUgXCJzdGFydFwiIG9yIFwiYXJvdW5kXCIuXG5mdW5jdGlvbiBjb21wdXRlUmVwbGFjZWRTZWwoZG9jLCBjaGFuZ2VzLCBoaW50KSB7XG4gIHZhciBvdXQgPSBbXVxuICB2YXIgb2xkUHJldiA9IFBvcyhkb2MuZmlyc3QsIDApLCBuZXdQcmV2ID0gb2xkUHJldlxuICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY2hhbmdlID0gY2hhbmdlc1tpXVxuICAgIHZhciBmcm9tID0gb2Zmc2V0UG9zKGNoYW5nZS5mcm9tLCBvbGRQcmV2LCBuZXdQcmV2KVxuICAgIHZhciB0byA9IG9mZnNldFBvcyhjaGFuZ2VFbmQoY2hhbmdlKSwgb2xkUHJldiwgbmV3UHJldilcbiAgICBvbGRQcmV2ID0gY2hhbmdlLnRvXG4gICAgbmV3UHJldiA9IHRvXG4gICAgaWYgKGhpbnQgPT0gXCJhcm91bmRcIikge1xuICAgICAgdmFyIHJhbmdlID0gZG9jLnNlbC5yYW5nZXNbaV0sIGludiA9IGNtcChyYW5nZS5oZWFkLCByYW5nZS5hbmNob3IpIDwgMFxuICAgICAgb3V0W2ldID0gbmV3IFJhbmdlKGludiA/IHRvIDogZnJvbSwgaW52ID8gZnJvbSA6IHRvKVxuICAgIH0gZWxzZSB7XG4gICAgICBvdXRbaV0gPSBuZXcgUmFuZ2UoZnJvbSwgZnJvbSlcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ldyBTZWxlY3Rpb24ob3V0LCBkb2Muc2VsLnByaW1JbmRleClcbn1cblxuLy8gVXNlZCB0byBnZXQgdGhlIGVkaXRvciBpbnRvIGEgY29uc2lzdGVudCBzdGF0ZSBhZ2FpbiB3aGVuIG9wdGlvbnMgY2hhbmdlLlxuXG5mdW5jdGlvbiBsb2FkTW9kZShjbSkge1xuICBjbS5kb2MubW9kZSA9IGdldE1vZGUoY20ub3B0aW9ucywgY20uZG9jLm1vZGVPcHRpb24pXG4gIHJlc2V0TW9kZVN0YXRlKGNtKVxufVxuXG5mdW5jdGlvbiByZXNldE1vZGVTdGF0ZShjbSkge1xuICBjbS5kb2MuaXRlcihmdW5jdGlvbiAobGluZSkge1xuICAgIGlmIChsaW5lLnN0YXRlQWZ0ZXIpIHsgbGluZS5zdGF0ZUFmdGVyID0gbnVsbCB9XG4gICAgaWYgKGxpbmUuc3R5bGVzKSB7IGxpbmUuc3R5bGVzID0gbnVsbCB9XG4gIH0pXG4gIGNtLmRvYy5mcm9udGllciA9IGNtLmRvYy5maXJzdFxuICBzdGFydFdvcmtlcihjbSwgMTAwKVxuICBjbS5zdGF0ZS5tb2RlR2VuKytcbiAgaWYgKGNtLmN1ck9wKSB7IHJlZ0NoYW5nZShjbSkgfVxufVxuXG4vLyBET0NVTUVOVCBEQVRBIFNUUlVDVFVSRVxuXG4vLyBCeSBkZWZhdWx0LCB1cGRhdGVzIHRoYXQgc3RhcnQgYW5kIGVuZCBhdCB0aGUgYmVnaW5uaW5nIG9mIGEgbGluZVxuLy8gYXJlIHRyZWF0ZWQgc3BlY2lhbGx5LCBpbiBvcmRlciB0byBtYWtlIHRoZSBhc3NvY2lhdGlvbiBvZiBsaW5lXG4vLyB3aWRnZXRzIGFuZCBtYXJrZXIgZWxlbWVudHMgd2l0aCB0aGUgdGV4dCBiZWhhdmUgbW9yZSBpbnR1aXRpdmUuXG5mdW5jdGlvbiBpc1dob2xlTGluZVVwZGF0ZShkb2MsIGNoYW5nZSkge1xuICByZXR1cm4gY2hhbmdlLmZyb20uY2ggPT0gMCAmJiBjaGFuZ2UudG8uY2ggPT0gMCAmJiBsc3QoY2hhbmdlLnRleHQpID09IFwiXCIgJiZcbiAgICAoIWRvYy5jbSB8fCBkb2MuY20ub3B0aW9ucy53aG9sZUxpbmVVcGRhdGVCZWZvcmUpXG59XG5cbi8vIFBlcmZvcm0gYSBjaGFuZ2Ugb24gdGhlIGRvY3VtZW50IGRhdGEgc3RydWN0dXJlLlxuZnVuY3Rpb24gdXBkYXRlRG9jKGRvYywgY2hhbmdlLCBtYXJrZWRTcGFucywgZXN0aW1hdGVIZWlnaHQpIHtcbiAgZnVuY3Rpb24gc3BhbnNGb3Iobikge3JldHVybiBtYXJrZWRTcGFucyA/IG1hcmtlZFNwYW5zW25dIDogbnVsbH1cbiAgZnVuY3Rpb24gdXBkYXRlKGxpbmUsIHRleHQsIHNwYW5zKSB7XG4gICAgdXBkYXRlTGluZShsaW5lLCB0ZXh0LCBzcGFucywgZXN0aW1hdGVIZWlnaHQpXG4gICAgc2lnbmFsTGF0ZXIobGluZSwgXCJjaGFuZ2VcIiwgbGluZSwgY2hhbmdlKVxuICB9XG4gIGZ1bmN0aW9uIGxpbmVzRm9yKHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgcmVzdWx0ID0gW11cbiAgICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSlcbiAgICAgIHsgcmVzdWx0LnB1c2gobmV3IExpbmUodGV4dFtpXSwgc3BhbnNGb3IoaSksIGVzdGltYXRlSGVpZ2h0KSkgfVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuXG4gIHZhciBmcm9tID0gY2hhbmdlLmZyb20sIHRvID0gY2hhbmdlLnRvLCB0ZXh0ID0gY2hhbmdlLnRleHRcbiAgdmFyIGZpcnN0TGluZSA9IGdldExpbmUoZG9jLCBmcm9tLmxpbmUpLCBsYXN0TGluZSA9IGdldExpbmUoZG9jLCB0by5saW5lKVxuICB2YXIgbGFzdFRleHQgPSBsc3QodGV4dCksIGxhc3RTcGFucyA9IHNwYW5zRm9yKHRleHQubGVuZ3RoIC0gMSksIG5saW5lcyA9IHRvLmxpbmUgLSBmcm9tLmxpbmVcblxuICAvLyBBZGp1c3QgdGhlIGxpbmUgc3RydWN0dXJlXG4gIGlmIChjaGFuZ2UuZnVsbCkge1xuICAgIGRvYy5pbnNlcnQoMCwgbGluZXNGb3IoMCwgdGV4dC5sZW5ndGgpKVxuICAgIGRvYy5yZW1vdmUodGV4dC5sZW5ndGgsIGRvYy5zaXplIC0gdGV4dC5sZW5ndGgpXG4gIH0gZWxzZSBpZiAoaXNXaG9sZUxpbmVVcGRhdGUoZG9jLCBjaGFuZ2UpKSB7XG4gICAgLy8gVGhpcyBpcyBhIHdob2xlLWxpbmUgcmVwbGFjZS4gVHJlYXRlZCBzcGVjaWFsbHkgdG8gbWFrZVxuICAgIC8vIHN1cmUgbGluZSBvYmplY3RzIG1vdmUgdGhlIHdheSB0aGV5IGFyZSBzdXBwb3NlZCB0by5cbiAgICB2YXIgYWRkZWQgPSBsaW5lc0ZvcigwLCB0ZXh0Lmxlbmd0aCAtIDEpXG4gICAgdXBkYXRlKGxhc3RMaW5lLCBsYXN0TGluZS50ZXh0LCBsYXN0U3BhbnMpXG4gICAgaWYgKG5saW5lcykgeyBkb2MucmVtb3ZlKGZyb20ubGluZSwgbmxpbmVzKSB9XG4gICAgaWYgKGFkZGVkLmxlbmd0aCkgeyBkb2MuaW5zZXJ0KGZyb20ubGluZSwgYWRkZWQpIH1cbiAgfSBlbHNlIGlmIChmaXJzdExpbmUgPT0gbGFzdExpbmUpIHtcbiAgICBpZiAodGV4dC5sZW5ndGggPT0gMSkge1xuICAgICAgdXBkYXRlKGZpcnN0TGluZSwgZmlyc3RMaW5lLnRleHQuc2xpY2UoMCwgZnJvbS5jaCkgKyBsYXN0VGV4dCArIGZpcnN0TGluZS50ZXh0LnNsaWNlKHRvLmNoKSwgbGFzdFNwYW5zKVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYWRkZWQkMSA9IGxpbmVzRm9yKDEsIHRleHQubGVuZ3RoIC0gMSlcbiAgICAgIGFkZGVkJDEucHVzaChuZXcgTGluZShsYXN0VGV4dCArIGZpcnN0TGluZS50ZXh0LnNsaWNlKHRvLmNoKSwgbGFzdFNwYW5zLCBlc3RpbWF0ZUhlaWdodCkpXG4gICAgICB1cGRhdGUoZmlyc3RMaW5lLCBmaXJzdExpbmUudGV4dC5zbGljZSgwLCBmcm9tLmNoKSArIHRleHRbMF0sIHNwYW5zRm9yKDApKVxuICAgICAgZG9jLmluc2VydChmcm9tLmxpbmUgKyAxLCBhZGRlZCQxKVxuICAgIH1cbiAgfSBlbHNlIGlmICh0ZXh0Lmxlbmd0aCA9PSAxKSB7XG4gICAgdXBkYXRlKGZpcnN0TGluZSwgZmlyc3RMaW5lLnRleHQuc2xpY2UoMCwgZnJvbS5jaCkgKyB0ZXh0WzBdICsgbGFzdExpbmUudGV4dC5zbGljZSh0by5jaCksIHNwYW5zRm9yKDApKVxuICAgIGRvYy5yZW1vdmUoZnJvbS5saW5lICsgMSwgbmxpbmVzKVxuICB9IGVsc2Uge1xuICAgIHVwZGF0ZShmaXJzdExpbmUsIGZpcnN0TGluZS50ZXh0LnNsaWNlKDAsIGZyb20uY2gpICsgdGV4dFswXSwgc3BhbnNGb3IoMCkpXG4gICAgdXBkYXRlKGxhc3RMaW5lLCBsYXN0VGV4dCArIGxhc3RMaW5lLnRleHQuc2xpY2UodG8uY2gpLCBsYXN0U3BhbnMpXG4gICAgdmFyIGFkZGVkJDIgPSBsaW5lc0ZvcigxLCB0ZXh0Lmxlbmd0aCAtIDEpXG4gICAgaWYgKG5saW5lcyA+IDEpIHsgZG9jLnJlbW92ZShmcm9tLmxpbmUgKyAxLCBubGluZXMgLSAxKSB9XG4gICAgZG9jLmluc2VydChmcm9tLmxpbmUgKyAxLCBhZGRlZCQyKVxuICB9XG5cbiAgc2lnbmFsTGF0ZXIoZG9jLCBcImNoYW5nZVwiLCBkb2MsIGNoYW5nZSlcbn1cblxuLy8gQ2FsbCBmIGZvciBhbGwgbGlua2VkIGRvY3VtZW50cy5cbmZ1bmN0aW9uIGxpbmtlZERvY3MoZG9jLCBmLCBzaGFyZWRIaXN0T25seSkge1xuICBmdW5jdGlvbiBwcm9wYWdhdGUoZG9jLCBza2lwLCBzaGFyZWRIaXN0KSB7XG4gICAgaWYgKGRvYy5saW5rZWQpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBkb2MubGlua2VkLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgcmVsID0gZG9jLmxpbmtlZFtpXVxuICAgICAgaWYgKHJlbC5kb2MgPT0gc2tpcCkgeyBjb250aW51ZSB9XG4gICAgICB2YXIgc2hhcmVkID0gc2hhcmVkSGlzdCAmJiByZWwuc2hhcmVkSGlzdFxuICAgICAgaWYgKHNoYXJlZEhpc3RPbmx5ICYmICFzaGFyZWQpIHsgY29udGludWUgfVxuICAgICAgZihyZWwuZG9jLCBzaGFyZWQpXG4gICAgICBwcm9wYWdhdGUocmVsLmRvYywgZG9jLCBzaGFyZWQpXG4gICAgfSB9XG4gIH1cbiAgcHJvcGFnYXRlKGRvYywgbnVsbCwgdHJ1ZSlcbn1cblxuLy8gQXR0YWNoIGEgZG9jdW1lbnQgdG8gYW4gZWRpdG9yLlxuZnVuY3Rpb24gYXR0YWNoRG9jKGNtLCBkb2MpIHtcbiAgaWYgKGRvYy5jbSkgeyB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIGRvY3VtZW50IGlzIGFscmVhZHkgaW4gdXNlLlwiKSB9XG4gIGNtLmRvYyA9IGRvY1xuICBkb2MuY20gPSBjbVxuICBlc3RpbWF0ZUxpbmVIZWlnaHRzKGNtKVxuICBsb2FkTW9kZShjbSlcbiAgaWYgKCFjbS5vcHRpb25zLmxpbmVXcmFwcGluZykgeyBmaW5kTWF4TGluZShjbSkgfVxuICBjbS5vcHRpb25zLm1vZGUgPSBkb2MubW9kZU9wdGlvblxuICByZWdDaGFuZ2UoY20pXG59XG5cbmZ1bmN0aW9uIEhpc3Rvcnkoc3RhcnRHZW4pIHtcbiAgLy8gQXJyYXlzIG9mIGNoYW5nZSBldmVudHMgYW5kIHNlbGVjdGlvbnMuIERvaW5nIHNvbWV0aGluZyBhZGRzIGFuXG4gIC8vIGV2ZW50IHRvIGRvbmUgYW5kIGNsZWFycyB1bmRvLiBVbmRvaW5nIG1vdmVzIGV2ZW50cyBmcm9tIGRvbmVcbiAgLy8gdG8gdW5kb25lLCByZWRvaW5nIG1vdmVzIHRoZW0gaW4gdGhlIG90aGVyIGRpcmVjdGlvbi5cbiAgdGhpcy5kb25lID0gW107IHRoaXMudW5kb25lID0gW11cbiAgdGhpcy51bmRvRGVwdGggPSBJbmZpbml0eVxuICAvLyBVc2VkIHRvIHRyYWNrIHdoZW4gY2hhbmdlcyBjYW4gYmUgbWVyZ2VkIGludG8gYSBzaW5nbGUgdW5kb1xuICAvLyBldmVudFxuICB0aGlzLmxhc3RNb2RUaW1lID0gdGhpcy5sYXN0U2VsVGltZSA9IDBcbiAgdGhpcy5sYXN0T3AgPSB0aGlzLmxhc3RTZWxPcCA9IG51bGxcbiAgdGhpcy5sYXN0T3JpZ2luID0gdGhpcy5sYXN0U2VsT3JpZ2luID0gbnVsbFxuICAvLyBVc2VkIGJ5IHRoZSBpc0NsZWFuKCkgbWV0aG9kXG4gIHRoaXMuZ2VuZXJhdGlvbiA9IHRoaXMubWF4R2VuZXJhdGlvbiA9IHN0YXJ0R2VuIHx8IDFcbn1cblxuLy8gQ3JlYXRlIGEgaGlzdG9yeSBjaGFuZ2UgZXZlbnQgZnJvbSBhbiB1cGRhdGVEb2Mtc3R5bGUgY2hhbmdlXG4vLyBvYmplY3QuXG5mdW5jdGlvbiBoaXN0b3J5Q2hhbmdlRnJvbUNoYW5nZShkb2MsIGNoYW5nZSkge1xuICB2YXIgaGlzdENoYW5nZSA9IHtmcm9tOiBjb3B5UG9zKGNoYW5nZS5mcm9tKSwgdG86IGNoYW5nZUVuZChjaGFuZ2UpLCB0ZXh0OiBnZXRCZXR3ZWVuKGRvYywgY2hhbmdlLmZyb20sIGNoYW5nZS50byl9XG4gIGF0dGFjaExvY2FsU3BhbnMoZG9jLCBoaXN0Q2hhbmdlLCBjaGFuZ2UuZnJvbS5saW5lLCBjaGFuZ2UudG8ubGluZSArIDEpXG4gIGxpbmtlZERvY3MoZG9jLCBmdW5jdGlvbiAoZG9jKSB7IHJldHVybiBhdHRhY2hMb2NhbFNwYW5zKGRvYywgaGlzdENoYW5nZSwgY2hhbmdlLmZyb20ubGluZSwgY2hhbmdlLnRvLmxpbmUgKyAxKTsgfSwgdHJ1ZSlcbiAgcmV0dXJuIGhpc3RDaGFuZ2Vcbn1cblxuLy8gUG9wIGFsbCBzZWxlY3Rpb24gZXZlbnRzIG9mZiB0aGUgZW5kIG9mIGEgaGlzdG9yeSBhcnJheS4gU3RvcCBhdFxuLy8gYSBjaGFuZ2UgZXZlbnQuXG5mdW5jdGlvbiBjbGVhclNlbGVjdGlvbkV2ZW50cyhhcnJheSkge1xuICB3aGlsZSAoYXJyYXkubGVuZ3RoKSB7XG4gICAgdmFyIGxhc3QgPSBsc3QoYXJyYXkpXG4gICAgaWYgKGxhc3QucmFuZ2VzKSB7IGFycmF5LnBvcCgpIH1cbiAgICBlbHNlIHsgYnJlYWsgfVxuICB9XG59XG5cbi8vIEZpbmQgdGhlIHRvcCBjaGFuZ2UgZXZlbnQgaW4gdGhlIGhpc3RvcnkuIFBvcCBvZmYgc2VsZWN0aW9uXG4vLyBldmVudHMgdGhhdCBhcmUgaW4gdGhlIHdheS5cbmZ1bmN0aW9uIGxhc3RDaGFuZ2VFdmVudChoaXN0LCBmb3JjZSkge1xuICBpZiAoZm9yY2UpIHtcbiAgICBjbGVhclNlbGVjdGlvbkV2ZW50cyhoaXN0LmRvbmUpXG4gICAgcmV0dXJuIGxzdChoaXN0LmRvbmUpXG4gIH0gZWxzZSBpZiAoaGlzdC5kb25lLmxlbmd0aCAmJiAhbHN0KGhpc3QuZG9uZSkucmFuZ2VzKSB7XG4gICAgcmV0dXJuIGxzdChoaXN0LmRvbmUpXG4gIH0gZWxzZSBpZiAoaGlzdC5kb25lLmxlbmd0aCA+IDEgJiYgIWhpc3QuZG9uZVtoaXN0LmRvbmUubGVuZ3RoIC0gMl0ucmFuZ2VzKSB7XG4gICAgaGlzdC5kb25lLnBvcCgpXG4gICAgcmV0dXJuIGxzdChoaXN0LmRvbmUpXG4gIH1cbn1cblxuLy8gUmVnaXN0ZXIgYSBjaGFuZ2UgaW4gdGhlIGhpc3RvcnkuIE1lcmdlcyBjaGFuZ2VzIHRoYXQgYXJlIHdpdGhpblxuLy8gYSBzaW5nbGUgb3BlcmF0aW9uLCBvciBhcmUgY2xvc2UgdG9nZXRoZXIgd2l0aCBhbiBvcmlnaW4gdGhhdFxuLy8gYWxsb3dzIG1lcmdpbmcgKHN0YXJ0aW5nIHdpdGggXCIrXCIpIGludG8gYSBzaW5nbGUgZXZlbnQuXG5mdW5jdGlvbiBhZGRDaGFuZ2VUb0hpc3RvcnkoZG9jLCBjaGFuZ2UsIHNlbEFmdGVyLCBvcElkKSB7XG4gIHZhciBoaXN0ID0gZG9jLmhpc3RvcnlcbiAgaGlzdC51bmRvbmUubGVuZ3RoID0gMFxuICB2YXIgdGltZSA9ICtuZXcgRGF0ZSwgY3VyXG4gIHZhciBsYXN0XG5cbiAgaWYgKChoaXN0Lmxhc3RPcCA9PSBvcElkIHx8XG4gICAgICAgaGlzdC5sYXN0T3JpZ2luID09IGNoYW5nZS5vcmlnaW4gJiYgY2hhbmdlLm9yaWdpbiAmJlxuICAgICAgICgoY2hhbmdlLm9yaWdpbi5jaGFyQXQoMCkgPT0gXCIrXCIgJiYgZG9jLmNtICYmIGhpc3QubGFzdE1vZFRpbWUgPiB0aW1lIC0gZG9jLmNtLm9wdGlvbnMuaGlzdG9yeUV2ZW50RGVsYXkpIHx8XG4gICAgICAgIGNoYW5nZS5vcmlnaW4uY2hhckF0KDApID09IFwiKlwiKSkgJiZcbiAgICAgIChjdXIgPSBsYXN0Q2hhbmdlRXZlbnQoaGlzdCwgaGlzdC5sYXN0T3AgPT0gb3BJZCkpKSB7XG4gICAgLy8gTWVyZ2UgdGhpcyBjaGFuZ2UgaW50byB0aGUgbGFzdCBldmVudFxuICAgIGxhc3QgPSBsc3QoY3VyLmNoYW5nZXMpXG4gICAgaWYgKGNtcChjaGFuZ2UuZnJvbSwgY2hhbmdlLnRvKSA9PSAwICYmIGNtcChjaGFuZ2UuZnJvbSwgbGFzdC50bykgPT0gMCkge1xuICAgICAgLy8gT3B0aW1pemVkIGNhc2UgZm9yIHNpbXBsZSBpbnNlcnRpb24gLS0gZG9uJ3Qgd2FudCB0byBhZGRcbiAgICAgIC8vIG5ldyBjaGFuZ2VzZXRzIGZvciBldmVyeSBjaGFyYWN0ZXIgdHlwZWRcbiAgICAgIGxhc3QudG8gPSBjaGFuZ2VFbmQoY2hhbmdlKVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBBZGQgbmV3IHN1Yi1ldmVudFxuICAgICAgY3VyLmNoYW5nZXMucHVzaChoaXN0b3J5Q2hhbmdlRnJvbUNoYW5nZShkb2MsIGNoYW5nZSkpXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIENhbiBub3QgYmUgbWVyZ2VkLCBzdGFydCBhIG5ldyBldmVudC5cbiAgICB2YXIgYmVmb3JlID0gbHN0KGhpc3QuZG9uZSlcbiAgICBpZiAoIWJlZm9yZSB8fCAhYmVmb3JlLnJhbmdlcylcbiAgICAgIHsgcHVzaFNlbGVjdGlvblRvSGlzdG9yeShkb2Muc2VsLCBoaXN0LmRvbmUpIH1cbiAgICBjdXIgPSB7Y2hhbmdlczogW2hpc3RvcnlDaGFuZ2VGcm9tQ2hhbmdlKGRvYywgY2hhbmdlKV0sXG4gICAgICAgICAgIGdlbmVyYXRpb246IGhpc3QuZ2VuZXJhdGlvbn1cbiAgICBoaXN0LmRvbmUucHVzaChjdXIpXG4gICAgd2hpbGUgKGhpc3QuZG9uZS5sZW5ndGggPiBoaXN0LnVuZG9EZXB0aCkge1xuICAgICAgaGlzdC5kb25lLnNoaWZ0KClcbiAgICAgIGlmICghaGlzdC5kb25lWzBdLnJhbmdlcykgeyBoaXN0LmRvbmUuc2hpZnQoKSB9XG4gICAgfVxuICB9XG4gIGhpc3QuZG9uZS5wdXNoKHNlbEFmdGVyKVxuICBoaXN0LmdlbmVyYXRpb24gPSArK2hpc3QubWF4R2VuZXJhdGlvblxuICBoaXN0Lmxhc3RNb2RUaW1lID0gaGlzdC5sYXN0U2VsVGltZSA9IHRpbWVcbiAgaGlzdC5sYXN0T3AgPSBoaXN0Lmxhc3RTZWxPcCA9IG9wSWRcbiAgaGlzdC5sYXN0T3JpZ2luID0gaGlzdC5sYXN0U2VsT3JpZ2luID0gY2hhbmdlLm9yaWdpblxuXG4gIGlmICghbGFzdCkgeyBzaWduYWwoZG9jLCBcImhpc3RvcnlBZGRlZFwiKSB9XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvbkV2ZW50Q2FuQmVNZXJnZWQoZG9jLCBvcmlnaW4sIHByZXYsIHNlbCkge1xuICB2YXIgY2ggPSBvcmlnaW4uY2hhckF0KDApXG4gIHJldHVybiBjaCA9PSBcIipcIiB8fFxuICAgIGNoID09IFwiK1wiICYmXG4gICAgcHJldi5yYW5nZXMubGVuZ3RoID09IHNlbC5yYW5nZXMubGVuZ3RoICYmXG4gICAgcHJldi5zb21ldGhpbmdTZWxlY3RlZCgpID09IHNlbC5zb21ldGhpbmdTZWxlY3RlZCgpICYmXG4gICAgbmV3IERhdGUgLSBkb2MuaGlzdG9yeS5sYXN0U2VsVGltZSA8PSAoZG9jLmNtID8gZG9jLmNtLm9wdGlvbnMuaGlzdG9yeUV2ZW50RGVsYXkgOiA1MDApXG59XG5cbi8vIENhbGxlZCB3aGVuZXZlciB0aGUgc2VsZWN0aW9uIGNoYW5nZXMsIHNldHMgdGhlIG5ldyBzZWxlY3Rpb24gYXNcbi8vIHRoZSBwZW5kaW5nIHNlbGVjdGlvbiBpbiB0aGUgaGlzdG9yeSwgYW5kIHB1c2hlcyB0aGUgb2xkIHBlbmRpbmdcbi8vIHNlbGVjdGlvbiBpbnRvIHRoZSAnZG9uZScgYXJyYXkgd2hlbiBpdCB3YXMgc2lnbmlmaWNhbnRseVxuLy8gZGlmZmVyZW50IChpbiBudW1iZXIgb2Ygc2VsZWN0ZWQgcmFuZ2VzLCBlbXB0aW5lc3MsIG9yIHRpbWUpLlxuZnVuY3Rpb24gYWRkU2VsZWN0aW9uVG9IaXN0b3J5KGRvYywgc2VsLCBvcElkLCBvcHRpb25zKSB7XG4gIHZhciBoaXN0ID0gZG9jLmhpc3RvcnksIG9yaWdpbiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5vcmlnaW5cblxuICAvLyBBIG5ldyBldmVudCBpcyBzdGFydGVkIHdoZW4gdGhlIHByZXZpb3VzIG9yaWdpbiBkb2VzIG5vdCBtYXRjaFxuICAvLyB0aGUgY3VycmVudCwgb3IgdGhlIG9yaWdpbnMgZG9uJ3QgYWxsb3cgbWF0Y2hpbmcuIE9yaWdpbnNcbiAgLy8gc3RhcnRpbmcgd2l0aCAqIGFyZSBhbHdheXMgbWVyZ2VkLCB0aG9zZSBzdGFydGluZyB3aXRoICsgYXJlXG4gIC8vIG1lcmdlZCB3aGVuIHNpbWlsYXIgYW5kIGNsb3NlIHRvZ2V0aGVyIGluIHRpbWUuXG4gIGlmIChvcElkID09IGhpc3QubGFzdFNlbE9wIHx8XG4gICAgICAob3JpZ2luICYmIGhpc3QubGFzdFNlbE9yaWdpbiA9PSBvcmlnaW4gJiZcbiAgICAgICAoaGlzdC5sYXN0TW9kVGltZSA9PSBoaXN0Lmxhc3RTZWxUaW1lICYmIGhpc3QubGFzdE9yaWdpbiA9PSBvcmlnaW4gfHxcbiAgICAgICAgc2VsZWN0aW9uRXZlbnRDYW5CZU1lcmdlZChkb2MsIG9yaWdpbiwgbHN0KGhpc3QuZG9uZSksIHNlbCkpKSlcbiAgICB7IGhpc3QuZG9uZVtoaXN0LmRvbmUubGVuZ3RoIC0gMV0gPSBzZWwgfVxuICBlbHNlXG4gICAgeyBwdXNoU2VsZWN0aW9uVG9IaXN0b3J5KHNlbCwgaGlzdC5kb25lKSB9XG5cbiAgaGlzdC5sYXN0U2VsVGltZSA9ICtuZXcgRGF0ZVxuICBoaXN0Lmxhc3RTZWxPcmlnaW4gPSBvcmlnaW5cbiAgaGlzdC5sYXN0U2VsT3AgPSBvcElkXG4gIGlmIChvcHRpb25zICYmIG9wdGlvbnMuY2xlYXJSZWRvICE9PSBmYWxzZSlcbiAgICB7IGNsZWFyU2VsZWN0aW9uRXZlbnRzKGhpc3QudW5kb25lKSB9XG59XG5cbmZ1bmN0aW9uIHB1c2hTZWxlY3Rpb25Ub0hpc3Rvcnkoc2VsLCBkZXN0KSB7XG4gIHZhciB0b3AgPSBsc3QoZGVzdClcbiAgaWYgKCEodG9wICYmIHRvcC5yYW5nZXMgJiYgdG9wLmVxdWFscyhzZWwpKSlcbiAgICB7IGRlc3QucHVzaChzZWwpIH1cbn1cblxuLy8gVXNlZCB0byBzdG9yZSBtYXJrZWQgc3BhbiBpbmZvcm1hdGlvbiBpbiB0aGUgaGlzdG9yeS5cbmZ1bmN0aW9uIGF0dGFjaExvY2FsU3BhbnMoZG9jLCBjaGFuZ2UsIGZyb20sIHRvKSB7XG4gIHZhciBleGlzdGluZyA9IGNoYW5nZVtcInNwYW5zX1wiICsgZG9jLmlkXSwgbiA9IDBcbiAgZG9jLml0ZXIoTWF0aC5tYXgoZG9jLmZpcnN0LCBmcm9tKSwgTWF0aC5taW4oZG9jLmZpcnN0ICsgZG9jLnNpemUsIHRvKSwgZnVuY3Rpb24gKGxpbmUpIHtcbiAgICBpZiAobGluZS5tYXJrZWRTcGFucylcbiAgICAgIHsgKGV4aXN0aW5nIHx8IChleGlzdGluZyA9IGNoYW5nZVtcInNwYW5zX1wiICsgZG9jLmlkXSA9IHt9KSlbbl0gPSBsaW5lLm1hcmtlZFNwYW5zIH1cbiAgICArK25cbiAgfSlcbn1cblxuLy8gV2hlbiB1bi9yZS1kb2luZyByZXN0b3JlcyB0ZXh0IGNvbnRhaW5pbmcgbWFya2VkIHNwYW5zLCB0aG9zZVxuLy8gdGhhdCBoYXZlIGJlZW4gZXhwbGljaXRseSBjbGVhcmVkIHNob3VsZCBub3QgYmUgcmVzdG9yZWQuXG5mdW5jdGlvbiByZW1vdmVDbGVhcmVkU3BhbnMoc3BhbnMpIHtcbiAgaWYgKCFzcGFucykgeyByZXR1cm4gbnVsbCB9XG4gIHZhciBvdXRcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGFucy5sZW5ndGg7ICsraSkge1xuICAgIGlmIChzcGFuc1tpXS5tYXJrZXIuZXhwbGljaXRseUNsZWFyZWQpIHsgaWYgKCFvdXQpIHsgb3V0ID0gc3BhbnMuc2xpY2UoMCwgaSkgfSB9XG4gICAgZWxzZSBpZiAob3V0KSB7IG91dC5wdXNoKHNwYW5zW2ldKSB9XG4gIH1cbiAgcmV0dXJuICFvdXQgPyBzcGFucyA6IG91dC5sZW5ndGggPyBvdXQgOiBudWxsXG59XG5cbi8vIFJldHJpZXZlIGFuZCBmaWx0ZXIgdGhlIG9sZCBtYXJrZWQgc3BhbnMgc3RvcmVkIGluIGEgY2hhbmdlIGV2ZW50LlxuZnVuY3Rpb24gZ2V0T2xkU3BhbnMoZG9jLCBjaGFuZ2UpIHtcbiAgdmFyIGZvdW5kID0gY2hhbmdlW1wic3BhbnNfXCIgKyBkb2MuaWRdXG4gIGlmICghZm91bmQpIHsgcmV0dXJuIG51bGwgfVxuICB2YXIgbncgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYW5nZS50ZXh0Lmxlbmd0aDsgKytpKVxuICAgIHsgbncucHVzaChyZW1vdmVDbGVhcmVkU3BhbnMoZm91bmRbaV0pKSB9XG4gIHJldHVybiBud1xufVxuXG4vLyBVc2VkIGZvciB1bi9yZS1kb2luZyBjaGFuZ2VzIGZyb20gdGhlIGhpc3RvcnkuIENvbWJpbmVzIHRoZVxuLy8gcmVzdWx0IG9mIGNvbXB1dGluZyB0aGUgZXhpc3Rpbmcgc3BhbnMgd2l0aCB0aGUgc2V0IG9mIHNwYW5zIHRoYXRcbi8vIGV4aXN0ZWQgaW4gdGhlIGhpc3RvcnkgKHNvIHRoYXQgZGVsZXRpbmcgYXJvdW5kIGEgc3BhbiBhbmQgdGhlblxuLy8gdW5kb2luZyBicmluZ3MgYmFjayB0aGUgc3BhbikuXG5mdW5jdGlvbiBtZXJnZU9sZFNwYW5zKGRvYywgY2hhbmdlKSB7XG4gIHZhciBvbGQgPSBnZXRPbGRTcGFucyhkb2MsIGNoYW5nZSlcbiAgdmFyIHN0cmV0Y2hlZCA9IHN0cmV0Y2hTcGFuc092ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpXG4gIGlmICghb2xkKSB7IHJldHVybiBzdHJldGNoZWQgfVxuICBpZiAoIXN0cmV0Y2hlZCkgeyByZXR1cm4gb2xkIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGg7ICsraSkge1xuICAgIHZhciBvbGRDdXIgPSBvbGRbaV0sIHN0cmV0Y2hDdXIgPSBzdHJldGNoZWRbaV1cbiAgICBpZiAob2xkQ3VyICYmIHN0cmV0Y2hDdXIpIHtcbiAgICAgIHNwYW5zOiBmb3IgKHZhciBqID0gMDsgaiA8IHN0cmV0Y2hDdXIubGVuZ3RoOyArK2opIHtcbiAgICAgICAgdmFyIHNwYW4gPSBzdHJldGNoQ3VyW2pdXG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgb2xkQ3VyLmxlbmd0aDsgKytrKVxuICAgICAgICAgIHsgaWYgKG9sZEN1cltrXS5tYXJrZXIgPT0gc3Bhbi5tYXJrZXIpIHsgY29udGludWUgc3BhbnMgfSB9XG4gICAgICAgIG9sZEN1ci5wdXNoKHNwYW4pXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzdHJldGNoQ3VyKSB7XG4gICAgICBvbGRbaV0gPSBzdHJldGNoQ3VyXG4gICAgfVxuICB9XG4gIHJldHVybiBvbGRcbn1cblxuLy8gVXNlZCBib3RoIHRvIHByb3ZpZGUgYSBKU09OLXNhZmUgb2JqZWN0IGluIC5nZXRIaXN0b3J5LCBhbmQsIHdoZW5cbi8vIGRldGFjaGluZyBhIGRvY3VtZW50LCB0byBzcGxpdCB0aGUgaGlzdG9yeSBpbiB0d29cbmZ1bmN0aW9uIGNvcHlIaXN0b3J5QXJyYXkoZXZlbnRzLCBuZXdHcm91cCwgaW5zdGFudGlhdGVTZWwpIHtcbiAgdmFyIGNvcHkgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7ICsraSkge1xuICAgIHZhciBldmVudCA9IGV2ZW50c1tpXVxuICAgIGlmIChldmVudC5yYW5nZXMpIHtcbiAgICAgIGNvcHkucHVzaChpbnN0YW50aWF0ZVNlbCA/IFNlbGVjdGlvbi5wcm90b3R5cGUuZGVlcENvcHkuY2FsbChldmVudCkgOiBldmVudClcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICAgIHZhciBjaGFuZ2VzID0gZXZlbnQuY2hhbmdlcywgbmV3Q2hhbmdlcyA9IFtdXG4gICAgY29weS5wdXNoKHtjaGFuZ2VzOiBuZXdDaGFuZ2VzfSlcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNoYW5nZXMubGVuZ3RoOyArK2opIHtcbiAgICAgIHZhciBjaGFuZ2UgPSBjaGFuZ2VzW2pdLCBtID0gKHZvaWQgMClcbiAgICAgIG5ld0NoYW5nZXMucHVzaCh7ZnJvbTogY2hhbmdlLmZyb20sIHRvOiBjaGFuZ2UudG8sIHRleHQ6IGNoYW5nZS50ZXh0fSlcbiAgICAgIGlmIChuZXdHcm91cCkgeyBmb3IgKHZhciBwcm9wIGluIGNoYW5nZSkgeyBpZiAobSA9IHByb3AubWF0Y2goL15zcGFuc18oXFxkKykkLykpIHtcbiAgICAgICAgaWYgKGluZGV4T2YobmV3R3JvdXAsIE51bWJlcihtWzFdKSkgPiAtMSkge1xuICAgICAgICAgIGxzdChuZXdDaGFuZ2VzKVtwcm9wXSA9IGNoYW5nZVtwcm9wXVxuICAgICAgICAgIGRlbGV0ZSBjaGFuZ2VbcHJvcF1cbiAgICAgICAgfVxuICAgICAgfSB9IH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvcHlcbn1cblxuLy8gVGhlICdzY3JvbGwnIHBhcmFtZXRlciBnaXZlbiB0byBtYW55IG9mIHRoZXNlIGluZGljYXRlZCB3aGV0aGVyXG4vLyB0aGUgbmV3IGN1cnNvciBwb3NpdGlvbiBzaG91bGQgYmUgc2Nyb2xsZWQgaW50byB2aWV3IGFmdGVyXG4vLyBtb2RpZnlpbmcgdGhlIHNlbGVjdGlvbi5cblxuLy8gSWYgc2hpZnQgaXMgaGVsZCBvciB0aGUgZXh0ZW5kIGZsYWcgaXMgc2V0LCBleHRlbmRzIGEgcmFuZ2UgdG9cbi8vIGluY2x1ZGUgYSBnaXZlbiBwb3NpdGlvbiAoYW5kIG9wdGlvbmFsbHkgYSBzZWNvbmQgcG9zaXRpb24pLlxuLy8gT3RoZXJ3aXNlLCBzaW1wbHkgcmV0dXJucyB0aGUgcmFuZ2UgYmV0d2VlbiB0aGUgZ2l2ZW4gcG9zaXRpb25zLlxuLy8gVXNlZCBmb3IgY3Vyc29yIG1vdGlvbiBhbmQgc3VjaC5cbmZ1bmN0aW9uIGV4dGVuZFJhbmdlKGRvYywgcmFuZ2UsIGhlYWQsIG90aGVyKSB7XG4gIGlmIChkb2MuY20gJiYgZG9jLmNtLmRpc3BsYXkuc2hpZnQgfHwgZG9jLmV4dGVuZCkge1xuICAgIHZhciBhbmNob3IgPSByYW5nZS5hbmNob3JcbiAgICBpZiAob3RoZXIpIHtcbiAgICAgIHZhciBwb3NCZWZvcmUgPSBjbXAoaGVhZCwgYW5jaG9yKSA8IDBcbiAgICAgIGlmIChwb3NCZWZvcmUgIT0gKGNtcChvdGhlciwgYW5jaG9yKSA8IDApKSB7XG4gICAgICAgIGFuY2hvciA9IGhlYWRcbiAgICAgICAgaGVhZCA9IG90aGVyXG4gICAgICB9IGVsc2UgaWYgKHBvc0JlZm9yZSAhPSAoY21wKGhlYWQsIG90aGVyKSA8IDApKSB7XG4gICAgICAgIGhlYWQgPSBvdGhlclxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IFJhbmdlKGFuY2hvciwgaGVhZClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IFJhbmdlKG90aGVyIHx8IGhlYWQsIGhlYWQpXG4gIH1cbn1cblxuLy8gRXh0ZW5kIHRoZSBwcmltYXJ5IHNlbGVjdGlvbiByYW5nZSwgZGlzY2FyZCB0aGUgcmVzdC5cbmZ1bmN0aW9uIGV4dGVuZFNlbGVjdGlvbihkb2MsIGhlYWQsIG90aGVyLCBvcHRpb25zKSB7XG4gIHNldFNlbGVjdGlvbihkb2MsIG5ldyBTZWxlY3Rpb24oW2V4dGVuZFJhbmdlKGRvYywgZG9jLnNlbC5wcmltYXJ5KCksIGhlYWQsIG90aGVyKV0sIDApLCBvcHRpb25zKVxufVxuXG4vLyBFeHRlbmQgYWxsIHNlbGVjdGlvbnMgKHBvcyBpcyBhbiBhcnJheSBvZiBzZWxlY3Rpb25zIHdpdGggbGVuZ3RoXG4vLyBlcXVhbCB0aGUgbnVtYmVyIG9mIHNlbGVjdGlvbnMpXG5mdW5jdGlvbiBleHRlbmRTZWxlY3Rpb25zKGRvYywgaGVhZHMsIG9wdGlvbnMpIHtcbiAgdmFyIG91dCA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZG9jLnNlbC5yYW5nZXMubGVuZ3RoOyBpKyspXG4gICAgeyBvdXRbaV0gPSBleHRlbmRSYW5nZShkb2MsIGRvYy5zZWwucmFuZ2VzW2ldLCBoZWFkc1tpXSwgbnVsbCkgfVxuICB2YXIgbmV3U2VsID0gbm9ybWFsaXplU2VsZWN0aW9uKG91dCwgZG9jLnNlbC5wcmltSW5kZXgpXG4gIHNldFNlbGVjdGlvbihkb2MsIG5ld1NlbCwgb3B0aW9ucylcbn1cblxuLy8gVXBkYXRlcyBhIHNpbmdsZSByYW5nZSBpbiB0aGUgc2VsZWN0aW9uLlxuZnVuY3Rpb24gcmVwbGFjZU9uZVNlbGVjdGlvbihkb2MsIGksIHJhbmdlLCBvcHRpb25zKSB7XG4gIHZhciByYW5nZXMgPSBkb2Muc2VsLnJhbmdlcy5zbGljZSgwKVxuICByYW5nZXNbaV0gPSByYW5nZVxuICBzZXRTZWxlY3Rpb24oZG9jLCBub3JtYWxpemVTZWxlY3Rpb24ocmFuZ2VzLCBkb2Muc2VsLnByaW1JbmRleCksIG9wdGlvbnMpXG59XG5cbi8vIFJlc2V0IHRoZSBzZWxlY3Rpb24gdG8gYSBzaW5nbGUgcmFuZ2UuXG5mdW5jdGlvbiBzZXRTaW1wbGVTZWxlY3Rpb24oZG9jLCBhbmNob3IsIGhlYWQsIG9wdGlvbnMpIHtcbiAgc2V0U2VsZWN0aW9uKGRvYywgc2ltcGxlU2VsZWN0aW9uKGFuY2hvciwgaGVhZCksIG9wdGlvbnMpXG59XG5cbi8vIEdpdmUgYmVmb3JlU2VsZWN0aW9uQ2hhbmdlIGhhbmRsZXJzIGEgY2hhbmdlIHRvIGluZmx1ZW5jZSBhXG4vLyBzZWxlY3Rpb24gdXBkYXRlLlxuZnVuY3Rpb24gZmlsdGVyU2VsZWN0aW9uQ2hhbmdlKGRvYywgc2VsLCBvcHRpb25zKSB7XG4gIHZhciBvYmogPSB7XG4gICAgcmFuZ2VzOiBzZWwucmFuZ2VzLFxuICAgIHVwZGF0ZTogZnVuY3Rpb24ocmFuZ2VzKSB7XG4gICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgdGhpcy5yYW5nZXMgPSBbXVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHsgdGhpcyQxLnJhbmdlc1tpXSA9IG5ldyBSYW5nZShjbGlwUG9zKGRvYywgcmFuZ2VzW2ldLmFuY2hvciksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBQb3MoZG9jLCByYW5nZXNbaV0uaGVhZCkpIH1cbiAgICB9LFxuICAgIG9yaWdpbjogb3B0aW9ucyAmJiBvcHRpb25zLm9yaWdpblxuICB9XG4gIHNpZ25hbChkb2MsIFwiYmVmb3JlU2VsZWN0aW9uQ2hhbmdlXCIsIGRvYywgb2JqKVxuICBpZiAoZG9jLmNtKSB7IHNpZ25hbChkb2MuY20sIFwiYmVmb3JlU2VsZWN0aW9uQ2hhbmdlXCIsIGRvYy5jbSwgb2JqKSB9XG4gIGlmIChvYmoucmFuZ2VzICE9IHNlbC5yYW5nZXMpIHsgcmV0dXJuIG5vcm1hbGl6ZVNlbGVjdGlvbihvYmoucmFuZ2VzLCBvYmoucmFuZ2VzLmxlbmd0aCAtIDEpIH1cbiAgZWxzZSB7IHJldHVybiBzZWwgfVxufVxuXG5mdW5jdGlvbiBzZXRTZWxlY3Rpb25SZXBsYWNlSGlzdG9yeShkb2MsIHNlbCwgb3B0aW9ucykge1xuICB2YXIgZG9uZSA9IGRvYy5oaXN0b3J5LmRvbmUsIGxhc3QgPSBsc3QoZG9uZSlcbiAgaWYgKGxhc3QgJiYgbGFzdC5yYW5nZXMpIHtcbiAgICBkb25lW2RvbmUubGVuZ3RoIC0gMV0gPSBzZWxcbiAgICBzZXRTZWxlY3Rpb25Ob1VuZG8oZG9jLCBzZWwsIG9wdGlvbnMpXG4gIH0gZWxzZSB7XG4gICAgc2V0U2VsZWN0aW9uKGRvYywgc2VsLCBvcHRpb25zKVxuICB9XG59XG5cbi8vIFNldCBhIG5ldyBzZWxlY3Rpb24uXG5mdW5jdGlvbiBzZXRTZWxlY3Rpb24oZG9jLCBzZWwsIG9wdGlvbnMpIHtcbiAgc2V0U2VsZWN0aW9uTm9VbmRvKGRvYywgc2VsLCBvcHRpb25zKVxuICBhZGRTZWxlY3Rpb25Ub0hpc3RvcnkoZG9jLCBkb2Muc2VsLCBkb2MuY20gPyBkb2MuY20uY3VyT3AuaWQgOiBOYU4sIG9wdGlvbnMpXG59XG5cbmZ1bmN0aW9uIHNldFNlbGVjdGlvbk5vVW5kbyhkb2MsIHNlbCwgb3B0aW9ucykge1xuICBpZiAoaGFzSGFuZGxlcihkb2MsIFwiYmVmb3JlU2VsZWN0aW9uQ2hhbmdlXCIpIHx8IGRvYy5jbSAmJiBoYXNIYW5kbGVyKGRvYy5jbSwgXCJiZWZvcmVTZWxlY3Rpb25DaGFuZ2VcIikpXG4gICAgeyBzZWwgPSBmaWx0ZXJTZWxlY3Rpb25DaGFuZ2UoZG9jLCBzZWwsIG9wdGlvbnMpIH1cblxuICB2YXIgYmlhcyA9IG9wdGlvbnMgJiYgb3B0aW9ucy5iaWFzIHx8XG4gICAgKGNtcChzZWwucHJpbWFyeSgpLmhlYWQsIGRvYy5zZWwucHJpbWFyeSgpLmhlYWQpIDwgMCA/IC0xIDogMSlcbiAgc2V0U2VsZWN0aW9uSW5uZXIoZG9jLCBza2lwQXRvbWljSW5TZWxlY3Rpb24oZG9jLCBzZWwsIGJpYXMsIHRydWUpKVxuXG4gIGlmICghKG9wdGlvbnMgJiYgb3B0aW9ucy5zY3JvbGwgPT09IGZhbHNlKSAmJiBkb2MuY20pXG4gICAgeyBlbnN1cmVDdXJzb3JWaXNpYmxlKGRvYy5jbSkgfVxufVxuXG5mdW5jdGlvbiBzZXRTZWxlY3Rpb25Jbm5lcihkb2MsIHNlbCkge1xuICBpZiAoc2VsLmVxdWFscyhkb2Muc2VsKSkgeyByZXR1cm4gfVxuXG4gIGRvYy5zZWwgPSBzZWxcblxuICBpZiAoZG9jLmNtKSB7XG4gICAgZG9jLmNtLmN1ck9wLnVwZGF0ZUlucHV0ID0gZG9jLmNtLmN1ck9wLnNlbGVjdGlvbkNoYW5nZWQgPSB0cnVlXG4gICAgc2lnbmFsQ3Vyc29yQWN0aXZpdHkoZG9jLmNtKVxuICB9XG4gIHNpZ25hbExhdGVyKGRvYywgXCJjdXJzb3JBY3Rpdml0eVwiLCBkb2MpXG59XG5cbi8vIFZlcmlmeSB0aGF0IHRoZSBzZWxlY3Rpb24gZG9lcyBub3QgcGFydGlhbGx5IHNlbGVjdCBhbnkgYXRvbWljXG4vLyBtYXJrZWQgcmFuZ2VzLlxuZnVuY3Rpb24gcmVDaGVja1NlbGVjdGlvbihkb2MpIHtcbiAgc2V0U2VsZWN0aW9uSW5uZXIoZG9jLCBza2lwQXRvbWljSW5TZWxlY3Rpb24oZG9jLCBkb2Muc2VsLCBudWxsLCBmYWxzZSksIHNlbF9kb250U2Nyb2xsKVxufVxuXG4vLyBSZXR1cm4gYSBzZWxlY3Rpb24gdGhhdCBkb2VzIG5vdCBwYXJ0aWFsbHkgc2VsZWN0IGFueSBhdG9taWNcbi8vIHJhbmdlcy5cbmZ1bmN0aW9uIHNraXBBdG9taWNJblNlbGVjdGlvbihkb2MsIHNlbCwgYmlhcywgbWF5Q2xlYXIpIHtcbiAgdmFyIG91dFxuICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbC5yYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcmFuZ2UgPSBzZWwucmFuZ2VzW2ldXG4gICAgdmFyIG9sZCA9IHNlbC5yYW5nZXMubGVuZ3RoID09IGRvYy5zZWwucmFuZ2VzLmxlbmd0aCAmJiBkb2Muc2VsLnJhbmdlc1tpXVxuICAgIHZhciBuZXdBbmNob3IgPSBza2lwQXRvbWljKGRvYywgcmFuZ2UuYW5jaG9yLCBvbGQgJiYgb2xkLmFuY2hvciwgYmlhcywgbWF5Q2xlYXIpXG4gICAgdmFyIG5ld0hlYWQgPSBza2lwQXRvbWljKGRvYywgcmFuZ2UuaGVhZCwgb2xkICYmIG9sZC5oZWFkLCBiaWFzLCBtYXlDbGVhcilcbiAgICBpZiAob3V0IHx8IG5ld0FuY2hvciAhPSByYW5nZS5hbmNob3IgfHwgbmV3SGVhZCAhPSByYW5nZS5oZWFkKSB7XG4gICAgICBpZiAoIW91dCkgeyBvdXQgPSBzZWwucmFuZ2VzLnNsaWNlKDAsIGkpIH1cbiAgICAgIG91dFtpXSA9IG5ldyBSYW5nZShuZXdBbmNob3IsIG5ld0hlYWQpXG4gICAgfVxuICB9XG4gIHJldHVybiBvdXQgPyBub3JtYWxpemVTZWxlY3Rpb24ob3V0LCBzZWwucHJpbUluZGV4KSA6IHNlbFxufVxuXG5mdW5jdGlvbiBza2lwQXRvbWljSW5uZXIoZG9jLCBwb3MsIG9sZFBvcywgZGlyLCBtYXlDbGVhcikge1xuICB2YXIgbGluZSA9IGdldExpbmUoZG9jLCBwb3MubGluZSlcbiAgaWYgKGxpbmUubWFya2VkU3BhbnMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lLm1hcmtlZFNwYW5zLmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIHNwID0gbGluZS5tYXJrZWRTcGFuc1tpXSwgbSA9IHNwLm1hcmtlclxuICAgIGlmICgoc3AuZnJvbSA9PSBudWxsIHx8IChtLmluY2x1c2l2ZUxlZnQgPyBzcC5mcm9tIDw9IHBvcy5jaCA6IHNwLmZyb20gPCBwb3MuY2gpKSAmJlxuICAgICAgICAoc3AudG8gPT0gbnVsbCB8fCAobS5pbmNsdXNpdmVSaWdodCA/IHNwLnRvID49IHBvcy5jaCA6IHNwLnRvID4gcG9zLmNoKSkpIHtcbiAgICAgIGlmIChtYXlDbGVhcikge1xuICAgICAgICBzaWduYWwobSwgXCJiZWZvcmVDdXJzb3JFbnRlclwiKVxuICAgICAgICBpZiAobS5leHBsaWNpdGx5Q2xlYXJlZCkge1xuICAgICAgICAgIGlmICghbGluZS5tYXJrZWRTcGFucykgeyBicmVhayB9XG4gICAgICAgICAgZWxzZSB7LS1pOyBjb250aW51ZX1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFtLmF0b21pYykgeyBjb250aW51ZSB9XG5cbiAgICAgIGlmIChvbGRQb3MpIHtcbiAgICAgICAgdmFyIG5lYXIgPSBtLmZpbmQoZGlyIDwgMCA/IDEgOiAtMSksIGRpZmYgPSAodm9pZCAwKVxuICAgICAgICBpZiAoZGlyIDwgMCA/IG0uaW5jbHVzaXZlUmlnaHQgOiBtLmluY2x1c2l2ZUxlZnQpXG4gICAgICAgICAgeyBuZWFyID0gbW92ZVBvcyhkb2MsIG5lYXIsIC1kaXIsIG5lYXIgJiYgbmVhci5saW5lID09IHBvcy5saW5lID8gbGluZSA6IG51bGwpIH1cbiAgICAgICAgaWYgKG5lYXIgJiYgbmVhci5saW5lID09IHBvcy5saW5lICYmIChkaWZmID0gY21wKG5lYXIsIG9sZFBvcykpICYmIChkaXIgPCAwID8gZGlmZiA8IDAgOiBkaWZmID4gMCkpXG4gICAgICAgICAgeyByZXR1cm4gc2tpcEF0b21pY0lubmVyKGRvYywgbmVhciwgcG9zLCBkaXIsIG1heUNsZWFyKSB9XG4gICAgICB9XG5cbiAgICAgIHZhciBmYXIgPSBtLmZpbmQoZGlyIDwgMCA/IC0xIDogMSlcbiAgICAgIGlmIChkaXIgPCAwID8gbS5pbmNsdXNpdmVMZWZ0IDogbS5pbmNsdXNpdmVSaWdodClcbiAgICAgICAgeyBmYXIgPSBtb3ZlUG9zKGRvYywgZmFyLCBkaXIsIGZhci5saW5lID09IHBvcy5saW5lID8gbGluZSA6IG51bGwpIH1cbiAgICAgIHJldHVybiBmYXIgPyBza2lwQXRvbWljSW5uZXIoZG9jLCBmYXIsIHBvcywgZGlyLCBtYXlDbGVhcikgOiBudWxsXG4gICAgfVxuICB9IH1cbiAgcmV0dXJuIHBvc1xufVxuXG4vLyBFbnN1cmUgYSBnaXZlbiBwb3NpdGlvbiBpcyBub3QgaW5zaWRlIGFuIGF0b21pYyByYW5nZS5cbmZ1bmN0aW9uIHNraXBBdG9taWMoZG9jLCBwb3MsIG9sZFBvcywgYmlhcywgbWF5Q2xlYXIpIHtcbiAgdmFyIGRpciA9IGJpYXMgfHwgMVxuICB2YXIgZm91bmQgPSBza2lwQXRvbWljSW5uZXIoZG9jLCBwb3MsIG9sZFBvcywgZGlyLCBtYXlDbGVhcikgfHxcbiAgICAgICghbWF5Q2xlYXIgJiYgc2tpcEF0b21pY0lubmVyKGRvYywgcG9zLCBvbGRQb3MsIGRpciwgdHJ1ZSkpIHx8XG4gICAgICBza2lwQXRvbWljSW5uZXIoZG9jLCBwb3MsIG9sZFBvcywgLWRpciwgbWF5Q2xlYXIpIHx8XG4gICAgICAoIW1heUNsZWFyICYmIHNraXBBdG9taWNJbm5lcihkb2MsIHBvcywgb2xkUG9zLCAtZGlyLCB0cnVlKSlcbiAgaWYgKCFmb3VuZCkge1xuICAgIGRvYy5jYW50RWRpdCA9IHRydWVcbiAgICByZXR1cm4gUG9zKGRvYy5maXJzdCwgMClcbiAgfVxuICByZXR1cm4gZm91bmRcbn1cblxuZnVuY3Rpb24gbW92ZVBvcyhkb2MsIHBvcywgZGlyLCBsaW5lKSB7XG4gIGlmIChkaXIgPCAwICYmIHBvcy5jaCA9PSAwKSB7XG4gICAgaWYgKHBvcy5saW5lID4gZG9jLmZpcnN0KSB7IHJldHVybiBjbGlwUG9zKGRvYywgUG9zKHBvcy5saW5lIC0gMSkpIH1cbiAgICBlbHNlIHsgcmV0dXJuIG51bGwgfVxuICB9IGVsc2UgaWYgKGRpciA+IDAgJiYgcG9zLmNoID09IChsaW5lIHx8IGdldExpbmUoZG9jLCBwb3MubGluZSkpLnRleHQubGVuZ3RoKSB7XG4gICAgaWYgKHBvcy5saW5lIDwgZG9jLmZpcnN0ICsgZG9jLnNpemUgLSAxKSB7IHJldHVybiBQb3MocG9zLmxpbmUgKyAxLCAwKSB9XG4gICAgZWxzZSB7IHJldHVybiBudWxsIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbmV3IFBvcyhwb3MubGluZSwgcG9zLmNoICsgZGlyKVxuICB9XG59XG5cbmZ1bmN0aW9uIHNlbGVjdEFsbChjbSkge1xuICBjbS5zZXRTZWxlY3Rpb24oUG9zKGNtLmZpcnN0TGluZSgpLCAwKSwgUG9zKGNtLmxhc3RMaW5lKCkpLCBzZWxfZG9udFNjcm9sbClcbn1cblxuLy8gVVBEQVRJTkdcblxuLy8gQWxsb3cgXCJiZWZvcmVDaGFuZ2VcIiBldmVudCBoYW5kbGVycyB0byBpbmZsdWVuY2UgYSBjaGFuZ2VcbmZ1bmN0aW9uIGZpbHRlckNoYW5nZShkb2MsIGNoYW5nZSwgdXBkYXRlKSB7XG4gIHZhciBvYmogPSB7XG4gICAgY2FuY2VsZWQ6IGZhbHNlLFxuICAgIGZyb206IGNoYW5nZS5mcm9tLFxuICAgIHRvOiBjaGFuZ2UudG8sXG4gICAgdGV4dDogY2hhbmdlLnRleHQsXG4gICAgb3JpZ2luOiBjaGFuZ2Uub3JpZ2luLFxuICAgIGNhbmNlbDogZnVuY3Rpb24gKCkgeyByZXR1cm4gb2JqLmNhbmNlbGVkID0gdHJ1ZTsgfVxuICB9XG4gIGlmICh1cGRhdGUpIHsgb2JqLnVwZGF0ZSA9IGZ1bmN0aW9uIChmcm9tLCB0bywgdGV4dCwgb3JpZ2luKSB7XG4gICAgaWYgKGZyb20pIHsgb2JqLmZyb20gPSBjbGlwUG9zKGRvYywgZnJvbSkgfVxuICAgIGlmICh0bykgeyBvYmoudG8gPSBjbGlwUG9zKGRvYywgdG8pIH1cbiAgICBpZiAodGV4dCkgeyBvYmoudGV4dCA9IHRleHQgfVxuICAgIGlmIChvcmlnaW4gIT09IHVuZGVmaW5lZCkgeyBvYmoub3JpZ2luID0gb3JpZ2luIH1cbiAgfSB9XG4gIHNpZ25hbChkb2MsIFwiYmVmb3JlQ2hhbmdlXCIsIGRvYywgb2JqKVxuICBpZiAoZG9jLmNtKSB7IHNpZ25hbChkb2MuY20sIFwiYmVmb3JlQ2hhbmdlXCIsIGRvYy5jbSwgb2JqKSB9XG5cbiAgaWYgKG9iai5jYW5jZWxlZCkgeyByZXR1cm4gbnVsbCB9XG4gIHJldHVybiB7ZnJvbTogb2JqLmZyb20sIHRvOiBvYmoudG8sIHRleHQ6IG9iai50ZXh0LCBvcmlnaW46IG9iai5vcmlnaW59XG59XG5cbi8vIEFwcGx5IGEgY2hhbmdlIHRvIGEgZG9jdW1lbnQsIGFuZCBhZGQgaXQgdG8gdGhlIGRvY3VtZW50J3Ncbi8vIGhpc3RvcnksIGFuZCBwcm9wYWdhdGluZyBpdCB0byBhbGwgbGlua2VkIGRvY3VtZW50cy5cbmZ1bmN0aW9uIG1ha2VDaGFuZ2UoZG9jLCBjaGFuZ2UsIGlnbm9yZVJlYWRPbmx5KSB7XG4gIGlmIChkb2MuY20pIHtcbiAgICBpZiAoIWRvYy5jbS5jdXJPcCkgeyByZXR1cm4gb3BlcmF0aW9uKGRvYy5jbSwgbWFrZUNoYW5nZSkoZG9jLCBjaGFuZ2UsIGlnbm9yZVJlYWRPbmx5KSB9XG4gICAgaWYgKGRvYy5jbS5zdGF0ZS5zdXBwcmVzc0VkaXRzKSB7IHJldHVybiB9XG4gIH1cblxuICBpZiAoaGFzSGFuZGxlcihkb2MsIFwiYmVmb3JlQ2hhbmdlXCIpIHx8IGRvYy5jbSAmJiBoYXNIYW5kbGVyKGRvYy5jbSwgXCJiZWZvcmVDaGFuZ2VcIikpIHtcbiAgICBjaGFuZ2UgPSBmaWx0ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UsIHRydWUpXG4gICAgaWYgKCFjaGFuZ2UpIHsgcmV0dXJuIH1cbiAgfVxuXG4gIC8vIFBvc3NpYmx5IHNwbGl0IG9yIHN1cHByZXNzIHRoZSB1cGRhdGUgYmFzZWQgb24gdGhlIHByZXNlbmNlXG4gIC8vIG9mIHJlYWQtb25seSBzcGFucyBpbiBpdHMgcmFuZ2UuXG4gIHZhciBzcGxpdCA9IHNhd1JlYWRPbmx5U3BhbnMgJiYgIWlnbm9yZVJlYWRPbmx5ICYmIHJlbW92ZVJlYWRPbmx5UmFuZ2VzKGRvYywgY2hhbmdlLmZyb20sIGNoYW5nZS50bylcbiAgaWYgKHNwbGl0KSB7XG4gICAgZm9yICh2YXIgaSA9IHNwbGl0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKVxuICAgICAgeyBtYWtlQ2hhbmdlSW5uZXIoZG9jLCB7ZnJvbTogc3BsaXRbaV0uZnJvbSwgdG86IHNwbGl0W2ldLnRvLCB0ZXh0OiBpID8gW1wiXCJdIDogY2hhbmdlLnRleHR9KSB9XG4gIH0gZWxzZSB7XG4gICAgbWFrZUNoYW5nZUlubmVyKGRvYywgY2hhbmdlKVxuICB9XG59XG5cbmZ1bmN0aW9uIG1ha2VDaGFuZ2VJbm5lcihkb2MsIGNoYW5nZSkge1xuICBpZiAoY2hhbmdlLnRleHQubGVuZ3RoID09IDEgJiYgY2hhbmdlLnRleHRbMF0gPT0gXCJcIiAmJiBjbXAoY2hhbmdlLmZyb20sIGNoYW5nZS50bykgPT0gMCkgeyByZXR1cm4gfVxuICB2YXIgc2VsQWZ0ZXIgPSBjb21wdXRlU2VsQWZ0ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpXG4gIGFkZENoYW5nZVRvSGlzdG9yeShkb2MsIGNoYW5nZSwgc2VsQWZ0ZXIsIGRvYy5jbSA/IGRvYy5jbS5jdXJPcC5pZCA6IE5hTilcblxuICBtYWtlQ2hhbmdlU2luZ2xlRG9jKGRvYywgY2hhbmdlLCBzZWxBZnRlciwgc3RyZXRjaFNwYW5zT3ZlckNoYW5nZShkb2MsIGNoYW5nZSkpXG4gIHZhciByZWJhc2VkID0gW11cblxuICBsaW5rZWREb2NzKGRvYywgZnVuY3Rpb24gKGRvYywgc2hhcmVkSGlzdCkge1xuICAgIGlmICghc2hhcmVkSGlzdCAmJiBpbmRleE9mKHJlYmFzZWQsIGRvYy5oaXN0b3J5KSA9PSAtMSkge1xuICAgICAgcmViYXNlSGlzdChkb2MuaGlzdG9yeSwgY2hhbmdlKVxuICAgICAgcmViYXNlZC5wdXNoKGRvYy5oaXN0b3J5KVxuICAgIH1cbiAgICBtYWtlQ2hhbmdlU2luZ2xlRG9jKGRvYywgY2hhbmdlLCBudWxsLCBzdHJldGNoU3BhbnNPdmVyQ2hhbmdlKGRvYywgY2hhbmdlKSlcbiAgfSlcbn1cblxuLy8gUmV2ZXJ0IGEgY2hhbmdlIHN0b3JlZCBpbiBhIGRvY3VtZW50J3MgaGlzdG9yeS5cbmZ1bmN0aW9uIG1ha2VDaGFuZ2VGcm9tSGlzdG9yeShkb2MsIHR5cGUsIGFsbG93U2VsZWN0aW9uT25seSkge1xuICBpZiAoZG9jLmNtICYmIGRvYy5jbS5zdGF0ZS5zdXBwcmVzc0VkaXRzICYmICFhbGxvd1NlbGVjdGlvbk9ubHkpIHsgcmV0dXJuIH1cblxuICB2YXIgaGlzdCA9IGRvYy5oaXN0b3J5LCBldmVudCwgc2VsQWZ0ZXIgPSBkb2Muc2VsXG4gIHZhciBzb3VyY2UgPSB0eXBlID09IFwidW5kb1wiID8gaGlzdC5kb25lIDogaGlzdC51bmRvbmUsIGRlc3QgPSB0eXBlID09IFwidW5kb1wiID8gaGlzdC51bmRvbmUgOiBoaXN0LmRvbmVcblxuICAvLyBWZXJpZnkgdGhhdCB0aGVyZSBpcyBhIHVzZWFibGUgZXZlbnQgKHNvIHRoYXQgY3RybC16IHdvbid0XG4gIC8vIG5lZWRsZXNzbHkgY2xlYXIgc2VsZWN0aW9uIGV2ZW50cylcbiAgdmFyIGkgPSAwXG4gIGZvciAoOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgZXZlbnQgPSBzb3VyY2VbaV1cbiAgICBpZiAoYWxsb3dTZWxlY3Rpb25Pbmx5ID8gZXZlbnQucmFuZ2VzICYmICFldmVudC5lcXVhbHMoZG9jLnNlbCkgOiAhZXZlbnQucmFuZ2VzKVxuICAgICAgeyBicmVhayB9XG4gIH1cbiAgaWYgKGkgPT0gc291cmNlLmxlbmd0aCkgeyByZXR1cm4gfVxuICBoaXN0Lmxhc3RPcmlnaW4gPSBoaXN0Lmxhc3RTZWxPcmlnaW4gPSBudWxsXG5cbiAgZm9yICg7Oykge1xuICAgIGV2ZW50ID0gc291cmNlLnBvcCgpXG4gICAgaWYgKGV2ZW50LnJhbmdlcykge1xuICAgICAgcHVzaFNlbGVjdGlvblRvSGlzdG9yeShldmVudCwgZGVzdClcbiAgICAgIGlmIChhbGxvd1NlbGVjdGlvbk9ubHkgJiYgIWV2ZW50LmVxdWFscyhkb2Muc2VsKSkge1xuICAgICAgICBzZXRTZWxlY3Rpb24oZG9jLCBldmVudCwge2NsZWFyUmVkbzogZmFsc2V9KVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIHNlbEFmdGVyID0gZXZlbnRcbiAgICB9XG4gICAgZWxzZSB7IGJyZWFrIH1cbiAgfVxuXG4gIC8vIEJ1aWxkIHVwIGEgcmV2ZXJzZSBjaGFuZ2Ugb2JqZWN0IHRvIGFkZCB0byB0aGUgb3Bwb3NpdGUgaGlzdG9yeVxuICAvLyBzdGFjayAocmVkbyB3aGVuIHVuZG9pbmcsIGFuZCB2aWNlIHZlcnNhKS5cbiAgdmFyIGFudGlDaGFuZ2VzID0gW11cbiAgcHVzaFNlbGVjdGlvblRvSGlzdG9yeShzZWxBZnRlciwgZGVzdClcbiAgZGVzdC5wdXNoKHtjaGFuZ2VzOiBhbnRpQ2hhbmdlcywgZ2VuZXJhdGlvbjogaGlzdC5nZW5lcmF0aW9ufSlcbiAgaGlzdC5nZW5lcmF0aW9uID0gZXZlbnQuZ2VuZXJhdGlvbiB8fCArK2hpc3QubWF4R2VuZXJhdGlvblxuXG4gIHZhciBmaWx0ZXIgPSBoYXNIYW5kbGVyKGRvYywgXCJiZWZvcmVDaGFuZ2VcIikgfHwgZG9jLmNtICYmIGhhc0hhbmRsZXIoZG9jLmNtLCBcImJlZm9yZUNoYW5nZVwiKVxuXG4gIHZhciBsb29wID0gZnVuY3Rpb24gKCBpICkge1xuICAgIHZhciBjaGFuZ2UgPSBldmVudC5jaGFuZ2VzW2ldXG4gICAgY2hhbmdlLm9yaWdpbiA9IHR5cGVcbiAgICBpZiAoZmlsdGVyICYmICFmaWx0ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UsIGZhbHNlKSkge1xuICAgICAgc291cmNlLmxlbmd0aCA9IDBcbiAgICAgIHJldHVybiB7fVxuICAgIH1cblxuICAgIGFudGlDaGFuZ2VzLnB1c2goaGlzdG9yeUNoYW5nZUZyb21DaGFuZ2UoZG9jLCBjaGFuZ2UpKVxuXG4gICAgdmFyIGFmdGVyID0gaSA/IGNvbXB1dGVTZWxBZnRlckNoYW5nZShkb2MsIGNoYW5nZSkgOiBsc3Qoc291cmNlKVxuICAgIG1ha2VDaGFuZ2VTaW5nbGVEb2MoZG9jLCBjaGFuZ2UsIGFmdGVyLCBtZXJnZU9sZFNwYW5zKGRvYywgY2hhbmdlKSlcbiAgICBpZiAoIWkgJiYgZG9jLmNtKSB7IGRvYy5jbS5zY3JvbGxJbnRvVmlldyh7ZnJvbTogY2hhbmdlLmZyb20sIHRvOiBjaGFuZ2VFbmQoY2hhbmdlKX0pIH1cbiAgICB2YXIgcmViYXNlZCA9IFtdXG5cbiAgICAvLyBQcm9wYWdhdGUgdG8gdGhlIGxpbmtlZCBkb2N1bWVudHNcbiAgICBsaW5rZWREb2NzKGRvYywgZnVuY3Rpb24gKGRvYywgc2hhcmVkSGlzdCkge1xuICAgICAgaWYgKCFzaGFyZWRIaXN0ICYmIGluZGV4T2YocmViYXNlZCwgZG9jLmhpc3RvcnkpID09IC0xKSB7XG4gICAgICAgIHJlYmFzZUhpc3QoZG9jLmhpc3RvcnksIGNoYW5nZSlcbiAgICAgICAgcmViYXNlZC5wdXNoKGRvYy5oaXN0b3J5KVxuICAgICAgfVxuICAgICAgbWFrZUNoYW5nZVNpbmdsZURvYyhkb2MsIGNoYW5nZSwgbnVsbCwgbWVyZ2VPbGRTcGFucyhkb2MsIGNoYW5nZSkpXG4gICAgfSlcbiAgfTtcblxuICBmb3IgKHZhciBpJDEgPSBldmVudC5jaGFuZ2VzLmxlbmd0aCAtIDE7IGkkMSA+PSAwOyAtLWkkMSkge1xuICAgIHZhciByZXR1cm5lZCA9IGxvb3AoIGkkMSApO1xuXG4gICAgaWYgKCByZXR1cm5lZCApIHJldHVybiByZXR1cm5lZC52O1xuICB9XG59XG5cbi8vIFN1Yi12aWV3cyBuZWVkIHRoZWlyIGxpbmUgbnVtYmVycyBzaGlmdGVkIHdoZW4gdGV4dCBpcyBhZGRlZFxuLy8gYWJvdmUgb3IgYmVsb3cgdGhlbSBpbiB0aGUgcGFyZW50IGRvY3VtZW50LlxuZnVuY3Rpb24gc2hpZnREb2MoZG9jLCBkaXN0YW5jZSkge1xuICBpZiAoZGlzdGFuY2UgPT0gMCkgeyByZXR1cm4gfVxuICBkb2MuZmlyc3QgKz0gZGlzdGFuY2VcbiAgZG9jLnNlbCA9IG5ldyBTZWxlY3Rpb24obWFwKGRvYy5zZWwucmFuZ2VzLCBmdW5jdGlvbiAocmFuZ2UpIHsgcmV0dXJuIG5ldyBSYW5nZShcbiAgICBQb3MocmFuZ2UuYW5jaG9yLmxpbmUgKyBkaXN0YW5jZSwgcmFuZ2UuYW5jaG9yLmNoKSxcbiAgICBQb3MocmFuZ2UuaGVhZC5saW5lICsgZGlzdGFuY2UsIHJhbmdlLmhlYWQuY2gpXG4gICk7IH0pLCBkb2Muc2VsLnByaW1JbmRleClcbiAgaWYgKGRvYy5jbSkge1xuICAgIHJlZ0NoYW5nZShkb2MuY20sIGRvYy5maXJzdCwgZG9jLmZpcnN0IC0gZGlzdGFuY2UsIGRpc3RhbmNlKVxuICAgIGZvciAodmFyIGQgPSBkb2MuY20uZGlzcGxheSwgbCA9IGQudmlld0Zyb207IGwgPCBkLnZpZXdUbzsgbCsrKVxuICAgICAgeyByZWdMaW5lQ2hhbmdlKGRvYy5jbSwgbCwgXCJndXR0ZXJcIikgfVxuICB9XG59XG5cbi8vIE1vcmUgbG93ZXItbGV2ZWwgY2hhbmdlIGZ1bmN0aW9uLCBoYW5kbGluZyBvbmx5IGEgc2luZ2xlIGRvY3VtZW50XG4vLyAobm90IGxpbmtlZCBvbmVzKS5cbmZ1bmN0aW9uIG1ha2VDaGFuZ2VTaW5nbGVEb2MoZG9jLCBjaGFuZ2UsIHNlbEFmdGVyLCBzcGFucykge1xuICBpZiAoZG9jLmNtICYmICFkb2MuY20uY3VyT3ApXG4gICAgeyByZXR1cm4gb3BlcmF0aW9uKGRvYy5jbSwgbWFrZUNoYW5nZVNpbmdsZURvYykoZG9jLCBjaGFuZ2UsIHNlbEFmdGVyLCBzcGFucykgfVxuXG4gIGlmIChjaGFuZ2UudG8ubGluZSA8IGRvYy5maXJzdCkge1xuICAgIHNoaWZ0RG9jKGRvYywgY2hhbmdlLnRleHQubGVuZ3RoIC0gMSAtIChjaGFuZ2UudG8ubGluZSAtIGNoYW5nZS5mcm9tLmxpbmUpKVxuICAgIHJldHVyblxuICB9XG4gIGlmIChjaGFuZ2UuZnJvbS5saW5lID4gZG9jLmxhc3RMaW5lKCkpIHsgcmV0dXJuIH1cblxuICAvLyBDbGlwIHRoZSBjaGFuZ2UgdG8gdGhlIHNpemUgb2YgdGhpcyBkb2NcbiAgaWYgKGNoYW5nZS5mcm9tLmxpbmUgPCBkb2MuZmlyc3QpIHtcbiAgICB2YXIgc2hpZnQgPSBjaGFuZ2UudGV4dC5sZW5ndGggLSAxIC0gKGRvYy5maXJzdCAtIGNoYW5nZS5mcm9tLmxpbmUpXG4gICAgc2hpZnREb2MoZG9jLCBzaGlmdClcbiAgICBjaGFuZ2UgPSB7ZnJvbTogUG9zKGRvYy5maXJzdCwgMCksIHRvOiBQb3MoY2hhbmdlLnRvLmxpbmUgKyBzaGlmdCwgY2hhbmdlLnRvLmNoKSxcbiAgICAgICAgICAgICAgdGV4dDogW2xzdChjaGFuZ2UudGV4dCldLCBvcmlnaW46IGNoYW5nZS5vcmlnaW59XG4gIH1cbiAgdmFyIGxhc3QgPSBkb2MubGFzdExpbmUoKVxuICBpZiAoY2hhbmdlLnRvLmxpbmUgPiBsYXN0KSB7XG4gICAgY2hhbmdlID0ge2Zyb206IGNoYW5nZS5mcm9tLCB0bzogUG9zKGxhc3QsIGdldExpbmUoZG9jLCBsYXN0KS50ZXh0Lmxlbmd0aCksXG4gICAgICAgICAgICAgIHRleHQ6IFtjaGFuZ2UudGV4dFswXV0sIG9yaWdpbjogY2hhbmdlLm9yaWdpbn1cbiAgfVxuXG4gIGNoYW5nZS5yZW1vdmVkID0gZ2V0QmV0d2Vlbihkb2MsIGNoYW5nZS5mcm9tLCBjaGFuZ2UudG8pXG5cbiAgaWYgKCFzZWxBZnRlcikgeyBzZWxBZnRlciA9IGNvbXB1dGVTZWxBZnRlckNoYW5nZShkb2MsIGNoYW5nZSkgfVxuICBpZiAoZG9jLmNtKSB7IG1ha2VDaGFuZ2VTaW5nbGVEb2NJbkVkaXRvcihkb2MuY20sIGNoYW5nZSwgc3BhbnMpIH1cbiAgZWxzZSB7IHVwZGF0ZURvYyhkb2MsIGNoYW5nZSwgc3BhbnMpIH1cbiAgc2V0U2VsZWN0aW9uTm9VbmRvKGRvYywgc2VsQWZ0ZXIsIHNlbF9kb250U2Nyb2xsKVxufVxuXG4vLyBIYW5kbGUgdGhlIGludGVyYWN0aW9uIG9mIGEgY2hhbmdlIHRvIGEgZG9jdW1lbnQgd2l0aCB0aGUgZWRpdG9yXG4vLyB0aGF0IHRoaXMgZG9jdW1lbnQgaXMgcGFydCBvZi5cbmZ1bmN0aW9uIG1ha2VDaGFuZ2VTaW5nbGVEb2NJbkVkaXRvcihjbSwgY2hhbmdlLCBzcGFucykge1xuICB2YXIgZG9jID0gY20uZG9jLCBkaXNwbGF5ID0gY20uZGlzcGxheSwgZnJvbSA9IGNoYW5nZS5mcm9tLCB0byA9IGNoYW5nZS50b1xuXG4gIHZhciByZWNvbXB1dGVNYXhMZW5ndGggPSBmYWxzZSwgY2hlY2tXaWR0aFN0YXJ0ID0gZnJvbS5saW5lXG4gIGlmICghY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpIHtcbiAgICBjaGVja1dpZHRoU3RhcnQgPSBsaW5lTm8odmlzdWFsTGluZShnZXRMaW5lKGRvYywgZnJvbS5saW5lKSkpXG4gICAgZG9jLml0ZXIoY2hlY2tXaWR0aFN0YXJ0LCB0by5saW5lICsgMSwgZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgIGlmIChsaW5lID09IGRpc3BsYXkubWF4TGluZSkge1xuICAgICAgICByZWNvbXB1dGVNYXhMZW5ndGggPSB0cnVlXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfSlcbiAgfVxuXG4gIGlmIChkb2Muc2VsLmNvbnRhaW5zKGNoYW5nZS5mcm9tLCBjaGFuZ2UudG8pID4gLTEpXG4gICAgeyBzaWduYWxDdXJzb3JBY3Rpdml0eShjbSkgfVxuXG4gIHVwZGF0ZURvYyhkb2MsIGNoYW5nZSwgc3BhbnMsIGVzdGltYXRlSGVpZ2h0KGNtKSlcblxuICBpZiAoIWNtLm9wdGlvbnMubGluZVdyYXBwaW5nKSB7XG4gICAgZG9jLml0ZXIoY2hlY2tXaWR0aFN0YXJ0LCBmcm9tLmxpbmUgKyBjaGFuZ2UudGV4dC5sZW5ndGgsIGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICB2YXIgbGVuID0gbGluZUxlbmd0aChsaW5lKVxuICAgICAgaWYgKGxlbiA+IGRpc3BsYXkubWF4TGluZUxlbmd0aCkge1xuICAgICAgICBkaXNwbGF5Lm1heExpbmUgPSBsaW5lXG4gICAgICAgIGRpc3BsYXkubWF4TGluZUxlbmd0aCA9IGxlblxuICAgICAgICBkaXNwbGF5Lm1heExpbmVDaGFuZ2VkID0gdHJ1ZVxuICAgICAgICByZWNvbXB1dGVNYXhMZW5ndGggPSBmYWxzZVxuICAgICAgfVxuICAgIH0pXG4gICAgaWYgKHJlY29tcHV0ZU1heExlbmd0aCkgeyBjbS5jdXJPcC51cGRhdGVNYXhMaW5lID0gdHJ1ZSB9XG4gIH1cblxuICAvLyBBZGp1c3QgZnJvbnRpZXIsIHNjaGVkdWxlIHdvcmtlclxuICBkb2MuZnJvbnRpZXIgPSBNYXRoLm1pbihkb2MuZnJvbnRpZXIsIGZyb20ubGluZSlcbiAgc3RhcnRXb3JrZXIoY20sIDQwMClcblxuICB2YXIgbGVuZGlmZiA9IGNoYW5nZS50ZXh0Lmxlbmd0aCAtICh0by5saW5lIC0gZnJvbS5saW5lKSAtIDFcbiAgLy8gUmVtZW1iZXIgdGhhdCB0aGVzZSBsaW5lcyBjaGFuZ2VkLCBmb3IgdXBkYXRpbmcgdGhlIGRpc3BsYXlcbiAgaWYgKGNoYW5nZS5mdWxsKVxuICAgIHsgcmVnQ2hhbmdlKGNtKSB9XG4gIGVsc2UgaWYgKGZyb20ubGluZSA9PSB0by5saW5lICYmIGNoYW5nZS50ZXh0Lmxlbmd0aCA9PSAxICYmICFpc1dob2xlTGluZVVwZGF0ZShjbS5kb2MsIGNoYW5nZSkpXG4gICAgeyByZWdMaW5lQ2hhbmdlKGNtLCBmcm9tLmxpbmUsIFwidGV4dFwiKSB9XG4gIGVsc2VcbiAgICB7IHJlZ0NoYW5nZShjbSwgZnJvbS5saW5lLCB0by5saW5lICsgMSwgbGVuZGlmZikgfVxuXG4gIHZhciBjaGFuZ2VzSGFuZGxlciA9IGhhc0hhbmRsZXIoY20sIFwiY2hhbmdlc1wiKSwgY2hhbmdlSGFuZGxlciA9IGhhc0hhbmRsZXIoY20sIFwiY2hhbmdlXCIpXG4gIGlmIChjaGFuZ2VIYW5kbGVyIHx8IGNoYW5nZXNIYW5kbGVyKSB7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGZyb206IGZyb20sIHRvOiB0byxcbiAgICAgIHRleHQ6IGNoYW5nZS50ZXh0LFxuICAgICAgcmVtb3ZlZDogY2hhbmdlLnJlbW92ZWQsXG4gICAgICBvcmlnaW46IGNoYW5nZS5vcmlnaW5cbiAgICB9XG4gICAgaWYgKGNoYW5nZUhhbmRsZXIpIHsgc2lnbmFsTGF0ZXIoY20sIFwiY2hhbmdlXCIsIGNtLCBvYmopIH1cbiAgICBpZiAoY2hhbmdlc0hhbmRsZXIpIHsgKGNtLmN1ck9wLmNoYW5nZU9ianMgfHwgKGNtLmN1ck9wLmNoYW5nZU9ianMgPSBbXSkpLnB1c2gob2JqKSB9XG4gIH1cbiAgY20uZGlzcGxheS5zZWxGb3JDb250ZXh0TWVudSA9IG51bGxcbn1cblxuZnVuY3Rpb24gcmVwbGFjZVJhbmdlKGRvYywgY29kZSwgZnJvbSwgdG8sIG9yaWdpbikge1xuICBpZiAoIXRvKSB7IHRvID0gZnJvbSB9XG4gIGlmIChjbXAodG8sIGZyb20pIDwgMCkgeyB2YXIgdG1wID0gdG87IHRvID0gZnJvbTsgZnJvbSA9IHRtcCB9XG4gIGlmICh0eXBlb2YgY29kZSA9PSBcInN0cmluZ1wiKSB7IGNvZGUgPSBkb2Muc3BsaXRMaW5lcyhjb2RlKSB9XG4gIG1ha2VDaGFuZ2UoZG9jLCB7ZnJvbTogZnJvbSwgdG86IHRvLCB0ZXh0OiBjb2RlLCBvcmlnaW46IG9yaWdpbn0pXG59XG5cbi8vIFJlYmFzaW5nL3Jlc2V0dGluZyBoaXN0b3J5IHRvIGRlYWwgd2l0aCBleHRlcm5hbGx5LXNvdXJjZWQgY2hhbmdlc1xuXG5mdW5jdGlvbiByZWJhc2VIaXN0U2VsU2luZ2xlKHBvcywgZnJvbSwgdG8sIGRpZmYpIHtcbiAgaWYgKHRvIDwgcG9zLmxpbmUpIHtcbiAgICBwb3MubGluZSArPSBkaWZmXG4gIH0gZWxzZSBpZiAoZnJvbSA8IHBvcy5saW5lKSB7XG4gICAgcG9zLmxpbmUgPSBmcm9tXG4gICAgcG9zLmNoID0gMFxuICB9XG59XG5cbi8vIFRyaWVzIHRvIHJlYmFzZSBhbiBhcnJheSBvZiBoaXN0b3J5IGV2ZW50cyBnaXZlbiBhIGNoYW5nZSBpbiB0aGVcbi8vIGRvY3VtZW50LiBJZiB0aGUgY2hhbmdlIHRvdWNoZXMgdGhlIHNhbWUgbGluZXMgYXMgdGhlIGV2ZW50LCB0aGVcbi8vIGV2ZW50LCBhbmQgZXZlcnl0aGluZyAnYmVoaW5kJyBpdCwgaXMgZGlzY2FyZGVkLiBJZiB0aGUgY2hhbmdlIGlzXG4vLyBiZWZvcmUgdGhlIGV2ZW50LCB0aGUgZXZlbnQncyBwb3NpdGlvbnMgYXJlIHVwZGF0ZWQuIFVzZXMgYVxuLy8gY29weS1vbi13cml0ZSBzY2hlbWUgZm9yIHRoZSBwb3NpdGlvbnMsIHRvIGF2b2lkIGhhdmluZyB0b1xuLy8gcmVhbGxvY2F0ZSB0aGVtIGFsbCBvbiBldmVyeSByZWJhc2UsIGJ1dCBhbHNvIGF2b2lkIHByb2JsZW1zIHdpdGhcbi8vIHNoYXJlZCBwb3NpdGlvbiBvYmplY3RzIGJlaW5nIHVuc2FmZWx5IHVwZGF0ZWQuXG5mdW5jdGlvbiByZWJhc2VIaXN0QXJyYXkoYXJyYXksIGZyb20sIHRvLCBkaWZmKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgc3ViID0gYXJyYXlbaV0sIG9rID0gdHJ1ZVxuICAgIGlmIChzdWIucmFuZ2VzKSB7XG4gICAgICBpZiAoIXN1Yi5jb3BpZWQpIHsgc3ViID0gYXJyYXlbaV0gPSBzdWIuZGVlcENvcHkoKTsgc3ViLmNvcGllZCA9IHRydWUgfVxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzdWIucmFuZ2VzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHJlYmFzZUhpc3RTZWxTaW5nbGUoc3ViLnJhbmdlc1tqXS5hbmNob3IsIGZyb20sIHRvLCBkaWZmKVxuICAgICAgICByZWJhc2VIaXN0U2VsU2luZ2xlKHN1Yi5yYW5nZXNbal0uaGVhZCwgZnJvbSwgdG8sIGRpZmYpXG4gICAgICB9XG4gICAgICBjb250aW51ZVxuICAgIH1cbiAgICBmb3IgKHZhciBqJDEgPSAwOyBqJDEgPCBzdWIuY2hhbmdlcy5sZW5ndGg7ICsraiQxKSB7XG4gICAgICB2YXIgY3VyID0gc3ViLmNoYW5nZXNbaiQxXVxuICAgICAgaWYgKHRvIDwgY3VyLmZyb20ubGluZSkge1xuICAgICAgICBjdXIuZnJvbSA9IFBvcyhjdXIuZnJvbS5saW5lICsgZGlmZiwgY3VyLmZyb20uY2gpXG4gICAgICAgIGN1ci50byA9IFBvcyhjdXIudG8ubGluZSArIGRpZmYsIGN1ci50by5jaClcbiAgICAgIH0gZWxzZSBpZiAoZnJvbSA8PSBjdXIudG8ubGluZSkge1xuICAgICAgICBvayA9IGZhbHNlXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICAgIGlmICghb2spIHtcbiAgICAgIGFycmF5LnNwbGljZSgwLCBpICsgMSlcbiAgICAgIGkgPSAwXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHJlYmFzZUhpc3QoaGlzdCwgY2hhbmdlKSB7XG4gIHZhciBmcm9tID0gY2hhbmdlLmZyb20ubGluZSwgdG8gPSBjaGFuZ2UudG8ubGluZSwgZGlmZiA9IGNoYW5nZS50ZXh0Lmxlbmd0aCAtICh0byAtIGZyb20pIC0gMVxuICByZWJhc2VIaXN0QXJyYXkoaGlzdC5kb25lLCBmcm9tLCB0bywgZGlmZilcbiAgcmViYXNlSGlzdEFycmF5KGhpc3QudW5kb25lLCBmcm9tLCB0bywgZGlmZilcbn1cblxuLy8gVXRpbGl0eSBmb3IgYXBwbHlpbmcgYSBjaGFuZ2UgdG8gYSBsaW5lIGJ5IGhhbmRsZSBvciBudW1iZXIsXG4vLyByZXR1cm5pbmcgdGhlIG51bWJlciBhbmQgb3B0aW9uYWxseSByZWdpc3RlcmluZyB0aGUgbGluZSBhc1xuLy8gY2hhbmdlZC5cbmZ1bmN0aW9uIGNoYW5nZUxpbmUoZG9jLCBoYW5kbGUsIGNoYW5nZVR5cGUsIG9wKSB7XG4gIHZhciBubyA9IGhhbmRsZSwgbGluZSA9IGhhbmRsZVxuICBpZiAodHlwZW9mIGhhbmRsZSA9PSBcIm51bWJlclwiKSB7IGxpbmUgPSBnZXRMaW5lKGRvYywgY2xpcExpbmUoZG9jLCBoYW5kbGUpKSB9XG4gIGVsc2UgeyBubyA9IGxpbmVObyhoYW5kbGUpIH1cbiAgaWYgKG5vID09IG51bGwpIHsgcmV0dXJuIG51bGwgfVxuICBpZiAob3AobGluZSwgbm8pICYmIGRvYy5jbSkgeyByZWdMaW5lQ2hhbmdlKGRvYy5jbSwgbm8sIGNoYW5nZVR5cGUpIH1cbiAgcmV0dXJuIGxpbmVcbn1cblxuLy8gVGhlIGRvY3VtZW50IGlzIHJlcHJlc2VudGVkIGFzIGEgQlRyZWUgY29uc2lzdGluZyBvZiBsZWF2ZXMsIHdpdGhcbi8vIGNodW5rIG9mIGxpbmVzIGluIHRoZW0sIGFuZCBicmFuY2hlcywgd2l0aCB1cCB0byB0ZW4gbGVhdmVzIG9yXG4vLyBvdGhlciBicmFuY2ggbm9kZXMgYmVsb3cgdGhlbS4gVGhlIHRvcCBub2RlIGlzIGFsd2F5cyBhIGJyYW5jaFxuLy8gbm9kZSwgYW5kIGlzIHRoZSBkb2N1bWVudCBvYmplY3QgaXRzZWxmIChtZWFuaW5nIGl0IGhhc1xuLy8gYWRkaXRpb25hbCBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzKS5cbi8vXG4vLyBBbGwgbm9kZXMgaGF2ZSBwYXJlbnQgbGlua3MuIFRoZSB0cmVlIGlzIHVzZWQgYm90aCB0byBnbyBmcm9tXG4vLyBsaW5lIG51bWJlcnMgdG8gbGluZSBvYmplY3RzLCBhbmQgdG8gZ28gZnJvbSBvYmplY3RzIHRvIG51bWJlcnMuXG4vLyBJdCBhbHNvIGluZGV4ZXMgYnkgaGVpZ2h0LCBhbmQgaXMgdXNlZCB0byBjb252ZXJ0IGJldHdlZW4gaGVpZ2h0XG4vLyBhbmQgbGluZSBvYmplY3QsIGFuZCB0byBmaW5kIHRoZSB0b3RhbCBoZWlnaHQgb2YgdGhlIGRvY3VtZW50LlxuLy9cbi8vIFNlZSBhbHNvIGh0dHA6Ly9tYXJpam5oYXZlcmJla2UubmwvYmxvZy9jb2RlbWlycm9yLWxpbmUtdHJlZS5odG1sXG5cbmZ1bmN0aW9uIExlYWZDaHVuayhsaW5lcykge1xuICB2YXIgdGhpcyQxID0gdGhpcztcblxuICB0aGlzLmxpbmVzID0gbGluZXNcbiAgdGhpcy5wYXJlbnQgPSBudWxsXG4gIHZhciBoZWlnaHQgPSAwXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyArK2kpIHtcbiAgICBsaW5lc1tpXS5wYXJlbnQgPSB0aGlzJDFcbiAgICBoZWlnaHQgKz0gbGluZXNbaV0uaGVpZ2h0XG4gIH1cbiAgdGhpcy5oZWlnaHQgPSBoZWlnaHRcbn1cblxuTGVhZkNodW5rLnByb3RvdHlwZSA9IHtcbiAgY2h1bmtTaXplOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMubGluZXMubGVuZ3RoIH0sXG4gIC8vIFJlbW92ZSB0aGUgbiBsaW5lcyBhdCBvZmZzZXQgJ2F0Jy5cbiAgcmVtb3ZlSW5uZXI6IGZ1bmN0aW9uKGF0LCBuKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICBmb3IgKHZhciBpID0gYXQsIGUgPSBhdCArIG47IGkgPCBlOyArK2kpIHtcbiAgICAgIHZhciBsaW5lID0gdGhpcyQxLmxpbmVzW2ldXG4gICAgICB0aGlzJDEuaGVpZ2h0IC09IGxpbmUuaGVpZ2h0XG4gICAgICBjbGVhblVwTGluZShsaW5lKVxuICAgICAgc2lnbmFsTGF0ZXIobGluZSwgXCJkZWxldGVcIilcbiAgICB9XG4gICAgdGhpcy5saW5lcy5zcGxpY2UoYXQsIG4pXG4gIH0sXG4gIC8vIEhlbHBlciB1c2VkIHRvIGNvbGxhcHNlIGEgc21hbGwgYnJhbmNoIGludG8gYSBzaW5nbGUgbGVhZi5cbiAgY29sbGFwc2U6IGZ1bmN0aW9uKGxpbmVzKSB7XG4gICAgbGluZXMucHVzaC5hcHBseShsaW5lcywgdGhpcy5saW5lcylcbiAgfSxcbiAgLy8gSW5zZXJ0IHRoZSBnaXZlbiBhcnJheSBvZiBsaW5lcyBhdCBvZmZzZXQgJ2F0JywgY291bnQgdGhlbSBhc1xuICAvLyBoYXZpbmcgdGhlIGdpdmVuIGhlaWdodC5cbiAgaW5zZXJ0SW5uZXI6IGZ1bmN0aW9uKGF0LCBsaW5lcywgaGVpZ2h0KSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB0aGlzLmhlaWdodCArPSBoZWlnaHRcbiAgICB0aGlzLmxpbmVzID0gdGhpcy5saW5lcy5zbGljZSgwLCBhdCkuY29uY2F0KGxpbmVzKS5jb25jYXQodGhpcy5saW5lcy5zbGljZShhdCkpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7ICsraSkgeyBsaW5lc1tpXS5wYXJlbnQgPSB0aGlzJDEgfVxuICB9LFxuICAvLyBVc2VkIHRvIGl0ZXJhdGUgb3ZlciBhIHBhcnQgb2YgdGhlIHRyZWUuXG4gIGl0ZXJOOiBmdW5jdGlvbihhdCwgbiwgb3ApIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGZvciAodmFyIGUgPSBhdCArIG47IGF0IDwgZTsgKythdClcbiAgICAgIHsgaWYgKG9wKHRoaXMkMS5saW5lc1thdF0pKSB7IHJldHVybiB0cnVlIH0gfVxuICB9XG59XG5cbmZ1bmN0aW9uIEJyYW5jaENodW5rKGNoaWxkcmVuKSB7XG4gIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlblxuICB2YXIgc2l6ZSA9IDAsIGhlaWdodCA9IDBcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgIHZhciBjaCA9IGNoaWxkcmVuW2ldXG4gICAgc2l6ZSArPSBjaC5jaHVua1NpemUoKTsgaGVpZ2h0ICs9IGNoLmhlaWdodFxuICAgIGNoLnBhcmVudCA9IHRoaXMkMVxuICB9XG4gIHRoaXMuc2l6ZSA9IHNpemVcbiAgdGhpcy5oZWlnaHQgPSBoZWlnaHRcbiAgdGhpcy5wYXJlbnQgPSBudWxsXG59XG5cbkJyYW5jaENodW5rLnByb3RvdHlwZSA9IHtcbiAgY2h1bmtTaXplOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuc2l6ZSB9LFxuICByZW1vdmVJbm5lcjogZnVuY3Rpb24oYXQsIG4pIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHRoaXMuc2l6ZSAtPSBuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgY2hpbGQgPSB0aGlzJDEuY2hpbGRyZW5baV0sIHN6ID0gY2hpbGQuY2h1bmtTaXplKClcbiAgICAgIGlmIChhdCA8IHN6KSB7XG4gICAgICAgIHZhciBybSA9IE1hdGgubWluKG4sIHN6IC0gYXQpLCBvbGRIZWlnaHQgPSBjaGlsZC5oZWlnaHRcbiAgICAgICAgY2hpbGQucmVtb3ZlSW5uZXIoYXQsIHJtKVxuICAgICAgICB0aGlzJDEuaGVpZ2h0IC09IG9sZEhlaWdodCAtIGNoaWxkLmhlaWdodFxuICAgICAgICBpZiAoc3ogPT0gcm0pIHsgdGhpcyQxLmNoaWxkcmVuLnNwbGljZShpLS0sIDEpOyBjaGlsZC5wYXJlbnQgPSBudWxsIH1cbiAgICAgICAgaWYgKChuIC09IHJtKSA9PSAwKSB7IGJyZWFrIH1cbiAgICAgICAgYXQgPSAwXG4gICAgICB9IGVsc2UgeyBhdCAtPSBzeiB9XG4gICAgfVxuICAgIC8vIElmIHRoZSByZXN1bHQgaXMgc21hbGxlciB0aGFuIDI1IGxpbmVzLCBlbnN1cmUgdGhhdCBpdCBpcyBhXG4gICAgLy8gc2luZ2xlIGxlYWYgbm9kZS5cbiAgICBpZiAodGhpcy5zaXplIC0gbiA8IDI1ICYmXG4gICAgICAgICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA+IDEgfHwgISh0aGlzLmNoaWxkcmVuWzBdIGluc3RhbmNlb2YgTGVhZkNodW5rKSkpIHtcbiAgICAgIHZhciBsaW5lcyA9IFtdXG4gICAgICB0aGlzLmNvbGxhcHNlKGxpbmVzKVxuICAgICAgdGhpcy5jaGlsZHJlbiA9IFtuZXcgTGVhZkNodW5rKGxpbmVzKV1cbiAgICAgIHRoaXMuY2hpbGRyZW5bMF0ucGFyZW50ID0gdGhpc1xuICAgIH1cbiAgfSxcbiAgY29sbGFwc2U6IGZ1bmN0aW9uKGxpbmVzKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHsgdGhpcyQxLmNoaWxkcmVuW2ldLmNvbGxhcHNlKGxpbmVzKSB9XG4gIH0sXG4gIGluc2VydElubmVyOiBmdW5jdGlvbihhdCwgbGluZXMsIGhlaWdodCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdGhpcy5zaXplICs9IGxpbmVzLmxlbmd0aFxuICAgIHRoaXMuaGVpZ2h0ICs9IGhlaWdodFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGNoaWxkID0gdGhpcyQxLmNoaWxkcmVuW2ldLCBzeiA9IGNoaWxkLmNodW5rU2l6ZSgpXG4gICAgICBpZiAoYXQgPD0gc3opIHtcbiAgICAgICAgY2hpbGQuaW5zZXJ0SW5uZXIoYXQsIGxpbmVzLCBoZWlnaHQpXG4gICAgICAgIGlmIChjaGlsZC5saW5lcyAmJiBjaGlsZC5saW5lcy5sZW5ndGggPiA1MCkge1xuICAgICAgICAgIC8vIFRvIGF2b2lkIG1lbW9yeSB0aHJhc2hpbmcgd2hlbiBjaGlsZC5saW5lcyBpcyBodWdlIChlLmcuIGZpcnN0IHZpZXcgb2YgYSBsYXJnZSBmaWxlKSwgaXQncyBuZXZlciBzcGxpY2VkLlxuICAgICAgICAgIC8vIEluc3RlYWQsIHNtYWxsIHNsaWNlcyBhcmUgdGFrZW4uIFRoZXkncmUgdGFrZW4gaW4gb3JkZXIgYmVjYXVzZSBzZXF1ZW50aWFsIG1lbW9yeSBhY2Nlc3NlcyBhcmUgZmFzdGVzdC5cbiAgICAgICAgICB2YXIgcmVtYWluaW5nID0gY2hpbGQubGluZXMubGVuZ3RoICUgMjUgKyAyNVxuICAgICAgICAgIGZvciAodmFyIHBvcyA9IHJlbWFpbmluZzsgcG9zIDwgY2hpbGQubGluZXMubGVuZ3RoOykge1xuICAgICAgICAgICAgdmFyIGxlYWYgPSBuZXcgTGVhZkNodW5rKGNoaWxkLmxpbmVzLnNsaWNlKHBvcywgcG9zICs9IDI1KSlcbiAgICAgICAgICAgIGNoaWxkLmhlaWdodCAtPSBsZWFmLmhlaWdodFxuICAgICAgICAgICAgdGhpcyQxLmNoaWxkcmVuLnNwbGljZSgrK2ksIDAsIGxlYWYpXG4gICAgICAgICAgICBsZWFmLnBhcmVudCA9IHRoaXMkMVxuICAgICAgICAgIH1cbiAgICAgICAgICBjaGlsZC5saW5lcyA9IGNoaWxkLmxpbmVzLnNsaWNlKDAsIHJlbWFpbmluZylcbiAgICAgICAgICB0aGlzJDEubWF5YmVTcGlsbCgpXG4gICAgICAgIH1cbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGF0IC09IHN6XG4gICAgfVxuICB9LFxuICAvLyBXaGVuIGEgbm9kZSBoYXMgZ3Jvd24sIGNoZWNrIHdoZXRoZXIgaXQgc2hvdWxkIGJlIHNwbGl0LlxuICBtYXliZVNwaWxsOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPD0gMTApIHsgcmV0dXJuIH1cbiAgICB2YXIgbWUgPSB0aGlzXG4gICAgZG8ge1xuICAgICAgdmFyIHNwaWxsZWQgPSBtZS5jaGlsZHJlbi5zcGxpY2UobWUuY2hpbGRyZW4ubGVuZ3RoIC0gNSwgNSlcbiAgICAgIHZhciBzaWJsaW5nID0gbmV3IEJyYW5jaENodW5rKHNwaWxsZWQpXG4gICAgICBpZiAoIW1lLnBhcmVudCkgeyAvLyBCZWNvbWUgdGhlIHBhcmVudCBub2RlXG4gICAgICAgIHZhciBjb3B5ID0gbmV3IEJyYW5jaENodW5rKG1lLmNoaWxkcmVuKVxuICAgICAgICBjb3B5LnBhcmVudCA9IG1lXG4gICAgICAgIG1lLmNoaWxkcmVuID0gW2NvcHksIHNpYmxpbmddXG4gICAgICAgIG1lID0gY29weVxuICAgICB9IGVsc2Uge1xuICAgICAgICBtZS5zaXplIC09IHNpYmxpbmcuc2l6ZVxuICAgICAgICBtZS5oZWlnaHQgLT0gc2libGluZy5oZWlnaHRcbiAgICAgICAgdmFyIG15SW5kZXggPSBpbmRleE9mKG1lLnBhcmVudC5jaGlsZHJlbiwgbWUpXG4gICAgICAgIG1lLnBhcmVudC5jaGlsZHJlbi5zcGxpY2UobXlJbmRleCArIDEsIDAsIHNpYmxpbmcpXG4gICAgICB9XG4gICAgICBzaWJsaW5nLnBhcmVudCA9IG1lLnBhcmVudFxuICAgIH0gd2hpbGUgKG1lLmNoaWxkcmVuLmxlbmd0aCA+IDEwKVxuICAgIG1lLnBhcmVudC5tYXliZVNwaWxsKClcbiAgfSxcbiAgaXRlck46IGZ1bmN0aW9uKGF0LCBuLCBvcCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgY2hpbGQgPSB0aGlzJDEuY2hpbGRyZW5baV0sIHN6ID0gY2hpbGQuY2h1bmtTaXplKClcbiAgICAgIGlmIChhdCA8IHN6KSB7XG4gICAgICAgIHZhciB1c2VkID0gTWF0aC5taW4obiwgc3ogLSBhdClcbiAgICAgICAgaWYgKGNoaWxkLml0ZXJOKGF0LCB1c2VkLCBvcCkpIHsgcmV0dXJuIHRydWUgfVxuICAgICAgICBpZiAoKG4gLT0gdXNlZCkgPT0gMCkgeyBicmVhayB9XG4gICAgICAgIGF0ID0gMFxuICAgICAgfSBlbHNlIHsgYXQgLT0gc3ogfVxuICAgIH1cbiAgfVxufVxuXG4vLyBMaW5lIHdpZGdldHMgYXJlIGJsb2NrIGVsZW1lbnRzIGRpc3BsYXllZCBhYm92ZSBvciBiZWxvdyBhIGxpbmUuXG5cbmZ1bmN0aW9uIExpbmVXaWRnZXQoZG9jLCBub2RlLCBvcHRpb25zKSB7XG4gIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIGlmIChvcHRpb25zKSB7IGZvciAodmFyIG9wdCBpbiBvcHRpb25zKSB7IGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KG9wdCkpXG4gICAgeyB0aGlzJDFbb3B0XSA9IG9wdGlvbnNbb3B0XSB9IH0gfVxuICB0aGlzLmRvYyA9IGRvY1xuICB0aGlzLm5vZGUgPSBub2RlXG59XG5ldmVudE1peGluKExpbmVXaWRnZXQpXG5cbmZ1bmN0aW9uIGFkanVzdFNjcm9sbFdoZW5BYm92ZVZpc2libGUoY20sIGxpbmUsIGRpZmYpIHtcbiAgaWYgKGhlaWdodEF0TGluZShsaW5lKSA8ICgoY20uY3VyT3AgJiYgY20uY3VyT3Auc2Nyb2xsVG9wKSB8fCBjbS5kb2Muc2Nyb2xsVG9wKSlcbiAgICB7IGFkZFRvU2Nyb2xsUG9zKGNtLCBudWxsLCBkaWZmKSB9XG59XG5cbkxpbmVXaWRnZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIHZhciBjbSA9IHRoaXMuZG9jLmNtLCB3cyA9IHRoaXMubGluZS53aWRnZXRzLCBsaW5lID0gdGhpcy5saW5lLCBubyA9IGxpbmVObyhsaW5lKVxuICBpZiAobm8gPT0gbnVsbCB8fCAhd3MpIHsgcmV0dXJuIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB3cy5sZW5ndGg7ICsraSkgeyBpZiAod3NbaV0gPT0gdGhpcyQxKSB7IHdzLnNwbGljZShpLS0sIDEpIH0gfVxuICBpZiAoIXdzLmxlbmd0aCkgeyBsaW5lLndpZGdldHMgPSBudWxsIH1cbiAgdmFyIGhlaWdodCA9IHdpZGdldEhlaWdodCh0aGlzKVxuICB1cGRhdGVMaW5lSGVpZ2h0KGxpbmUsIE1hdGgubWF4KDAsIGxpbmUuaGVpZ2h0IC0gaGVpZ2h0KSlcbiAgaWYgKGNtKSB7IHJ1bkluT3AoY20sIGZ1bmN0aW9uICgpIHtcbiAgICBhZGp1c3RTY3JvbGxXaGVuQWJvdmVWaXNpYmxlKGNtLCBsaW5lLCAtaGVpZ2h0KVxuICAgIHJlZ0xpbmVDaGFuZ2UoY20sIG5vLCBcIndpZGdldFwiKVxuICB9KSB9XG59XG5MaW5lV2lkZ2V0LnByb3RvdHlwZS5jaGFuZ2VkID0gZnVuY3Rpb24oKSB7XG4gIHZhciBvbGRIID0gdGhpcy5oZWlnaHQsIGNtID0gdGhpcy5kb2MuY20sIGxpbmUgPSB0aGlzLmxpbmVcbiAgdGhpcy5oZWlnaHQgPSBudWxsXG4gIHZhciBkaWZmID0gd2lkZ2V0SGVpZ2h0KHRoaXMpIC0gb2xkSFxuICBpZiAoIWRpZmYpIHsgcmV0dXJuIH1cbiAgdXBkYXRlTGluZUhlaWdodChsaW5lLCBsaW5lLmhlaWdodCArIGRpZmYpXG4gIGlmIChjbSkgeyBydW5Jbk9wKGNtLCBmdW5jdGlvbiAoKSB7XG4gICAgY20uY3VyT3AuZm9yY2VVcGRhdGUgPSB0cnVlXG4gICAgYWRqdXN0U2Nyb2xsV2hlbkFib3ZlVmlzaWJsZShjbSwgbGluZSwgZGlmZilcbiAgfSkgfVxufVxuXG5mdW5jdGlvbiBhZGRMaW5lV2lkZ2V0KGRvYywgaGFuZGxlLCBub2RlLCBvcHRpb25zKSB7XG4gIHZhciB3aWRnZXQgPSBuZXcgTGluZVdpZGdldChkb2MsIG5vZGUsIG9wdGlvbnMpXG4gIHZhciBjbSA9IGRvYy5jbVxuICBpZiAoY20gJiYgd2lkZ2V0Lm5vSFNjcm9sbCkgeyBjbS5kaXNwbGF5LmFsaWduV2lkZ2V0cyA9IHRydWUgfVxuICBjaGFuZ2VMaW5lKGRvYywgaGFuZGxlLCBcIndpZGdldFwiLCBmdW5jdGlvbiAobGluZSkge1xuICAgIHZhciB3aWRnZXRzID0gbGluZS53aWRnZXRzIHx8IChsaW5lLndpZGdldHMgPSBbXSlcbiAgICBpZiAod2lkZ2V0Lmluc2VydEF0ID09IG51bGwpIHsgd2lkZ2V0cy5wdXNoKHdpZGdldCkgfVxuICAgIGVsc2UgeyB3aWRnZXRzLnNwbGljZShNYXRoLm1pbih3aWRnZXRzLmxlbmd0aCAtIDEsIE1hdGgubWF4KDAsIHdpZGdldC5pbnNlcnRBdCkpLCAwLCB3aWRnZXQpIH1cbiAgICB3aWRnZXQubGluZSA9IGxpbmVcbiAgICBpZiAoY20gJiYgIWxpbmVJc0hpZGRlbihkb2MsIGxpbmUpKSB7XG4gICAgICB2YXIgYWJvdmVWaXNpYmxlID0gaGVpZ2h0QXRMaW5lKGxpbmUpIDwgZG9jLnNjcm9sbFRvcFxuICAgICAgdXBkYXRlTGluZUhlaWdodChsaW5lLCBsaW5lLmhlaWdodCArIHdpZGdldEhlaWdodCh3aWRnZXQpKVxuICAgICAgaWYgKGFib3ZlVmlzaWJsZSkgeyBhZGRUb1Njcm9sbFBvcyhjbSwgbnVsbCwgd2lkZ2V0LmhlaWdodCkgfVxuICAgICAgY20uY3VyT3AuZm9yY2VVcGRhdGUgPSB0cnVlXG4gICAgfVxuICAgIHJldHVybiB0cnVlXG4gIH0pXG4gIHJldHVybiB3aWRnZXRcbn1cblxuLy8gVEVYVE1BUktFUlNcblxuLy8gQ3JlYXRlZCB3aXRoIG1hcmtUZXh0IGFuZCBzZXRCb29rbWFyayBtZXRob2RzLiBBIFRleHRNYXJrZXIgaXMgYVxuLy8gaGFuZGxlIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2xlYXIgb3IgZmluZCBhIG1hcmtlZCBwb3NpdGlvbiBpbiB0aGVcbi8vIGRvY3VtZW50LiBMaW5lIG9iamVjdHMgaG9sZCBhcnJheXMgKG1hcmtlZFNwYW5zKSBjb250YWluaW5nXG4vLyB7ZnJvbSwgdG8sIG1hcmtlcn0gb2JqZWN0IHBvaW50aW5nIHRvIHN1Y2ggbWFya2VyIG9iamVjdHMsIGFuZFxuLy8gaW5kaWNhdGluZyB0aGF0IHN1Y2ggYSBtYXJrZXIgaXMgcHJlc2VudCBvbiB0aGF0IGxpbmUuIE11bHRpcGxlXG4vLyBsaW5lcyBtYXkgcG9pbnQgdG8gdGhlIHNhbWUgbWFya2VyIHdoZW4gaXQgc3BhbnMgYWNyb3NzIGxpbmVzLlxuLy8gVGhlIHNwYW5zIHdpbGwgaGF2ZSBudWxsIGZvciB0aGVpciBmcm9tL3RvIHByb3BlcnRpZXMgd2hlbiB0aGVcbi8vIG1hcmtlciBjb250aW51ZXMgYmV5b25kIHRoZSBzdGFydC9lbmQgb2YgdGhlIGxpbmUuIE1hcmtlcnMgaGF2ZVxuLy8gbGlua3MgYmFjayB0byB0aGUgbGluZXMgdGhleSBjdXJyZW50bHkgdG91Y2guXG5cbi8vIENvbGxhcHNlZCBtYXJrZXJzIGhhdmUgdW5pcXVlIGlkcywgaW4gb3JkZXIgdG8gYmUgYWJsZSB0byBvcmRlclxuLy8gdGhlbSwgd2hpY2ggaXMgbmVlZGVkIGZvciB1bmlxdWVseSBkZXRlcm1pbmluZyBhbiBvdXRlciBtYXJrZXJcbi8vIHdoZW4gdGhleSBvdmVybGFwICh0aGV5IG1heSBuZXN0LCBidXQgbm90IHBhcnRpYWxseSBvdmVybGFwKS5cbnZhciBuZXh0TWFya2VySWQgPSAwXG5cbmZ1bmN0aW9uIFRleHRNYXJrZXIoZG9jLCB0eXBlKSB7XG4gIHRoaXMubGluZXMgPSBbXVxuICB0aGlzLnR5cGUgPSB0eXBlXG4gIHRoaXMuZG9jID0gZG9jXG4gIHRoaXMuaWQgPSArK25leHRNYXJrZXJJZFxufVxuZXZlbnRNaXhpbihUZXh0TWFya2VyKVxuXG4vLyBDbGVhciB0aGUgbWFya2VyLlxuVGV4dE1hcmtlci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgaWYgKHRoaXMuZXhwbGljaXRseUNsZWFyZWQpIHsgcmV0dXJuIH1cbiAgdmFyIGNtID0gdGhpcy5kb2MuY20sIHdpdGhPcCA9IGNtICYmICFjbS5jdXJPcFxuICBpZiAod2l0aE9wKSB7IHN0YXJ0T3BlcmF0aW9uKGNtKSB9XG4gIGlmIChoYXNIYW5kbGVyKHRoaXMsIFwiY2xlYXJcIikpIHtcbiAgICB2YXIgZm91bmQgPSB0aGlzLmZpbmQoKVxuICAgIGlmIChmb3VuZCkgeyBzaWduYWxMYXRlcih0aGlzLCBcImNsZWFyXCIsIGZvdW5kLmZyb20sIGZvdW5kLnRvKSB9XG4gIH1cbiAgdmFyIG1pbiA9IG51bGwsIG1heCA9IG51bGxcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpbmVzLmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGxpbmUgPSB0aGlzJDEubGluZXNbaV1cbiAgICB2YXIgc3BhbiA9IGdldE1hcmtlZFNwYW5Gb3IobGluZS5tYXJrZWRTcGFucywgdGhpcyQxKVxuICAgIGlmIChjbSAmJiAhdGhpcyQxLmNvbGxhcHNlZCkgeyByZWdMaW5lQ2hhbmdlKGNtLCBsaW5lTm8obGluZSksIFwidGV4dFwiKSB9XG4gICAgZWxzZSBpZiAoY20pIHtcbiAgICAgIGlmIChzcGFuLnRvICE9IG51bGwpIHsgbWF4ID0gbGluZU5vKGxpbmUpIH1cbiAgICAgIGlmIChzcGFuLmZyb20gIT0gbnVsbCkgeyBtaW4gPSBsaW5lTm8obGluZSkgfVxuICAgIH1cbiAgICBsaW5lLm1hcmtlZFNwYW5zID0gcmVtb3ZlTWFya2VkU3BhbihsaW5lLm1hcmtlZFNwYW5zLCBzcGFuKVxuICAgIGlmIChzcGFuLmZyb20gPT0gbnVsbCAmJiB0aGlzJDEuY29sbGFwc2VkICYmICFsaW5lSXNIaWRkZW4odGhpcyQxLmRvYywgbGluZSkgJiYgY20pXG4gICAgICB7IHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgdGV4dEhlaWdodChjbS5kaXNwbGF5KSkgfVxuICB9XG4gIGlmIChjbSAmJiB0aGlzLmNvbGxhcHNlZCAmJiAhY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpIHsgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgdGhpcy5saW5lcy5sZW5ndGg7ICsraSQxKSB7XG4gICAgdmFyIHZpc3VhbCA9IHZpc3VhbExpbmUodGhpcyQxLmxpbmVzW2kkMV0pLCBsZW4gPSBsaW5lTGVuZ3RoKHZpc3VhbClcbiAgICBpZiAobGVuID4gY20uZGlzcGxheS5tYXhMaW5lTGVuZ3RoKSB7XG4gICAgICBjbS5kaXNwbGF5Lm1heExpbmUgPSB2aXN1YWxcbiAgICAgIGNtLmRpc3BsYXkubWF4TGluZUxlbmd0aCA9IGxlblxuICAgICAgY20uZGlzcGxheS5tYXhMaW5lQ2hhbmdlZCA9IHRydWVcbiAgICB9XG4gIH0gfVxuXG4gIGlmIChtaW4gIT0gbnVsbCAmJiBjbSAmJiB0aGlzLmNvbGxhcHNlZCkgeyByZWdDaGFuZ2UoY20sIG1pbiwgbWF4ICsgMSkgfVxuICB0aGlzLmxpbmVzLmxlbmd0aCA9IDBcbiAgdGhpcy5leHBsaWNpdGx5Q2xlYXJlZCA9IHRydWVcbiAgaWYgKHRoaXMuYXRvbWljICYmIHRoaXMuZG9jLmNhbnRFZGl0KSB7XG4gICAgdGhpcy5kb2MuY2FudEVkaXQgPSBmYWxzZVxuICAgIGlmIChjbSkgeyByZUNoZWNrU2VsZWN0aW9uKGNtLmRvYykgfVxuICB9XG4gIGlmIChjbSkgeyBzaWduYWxMYXRlcihjbSwgXCJtYXJrZXJDbGVhcmVkXCIsIGNtLCB0aGlzKSB9XG4gIGlmICh3aXRoT3ApIHsgZW5kT3BlcmF0aW9uKGNtKSB9XG4gIGlmICh0aGlzLnBhcmVudCkgeyB0aGlzLnBhcmVudC5jbGVhcigpIH1cbn1cblxuLy8gRmluZCB0aGUgcG9zaXRpb24gb2YgdGhlIG1hcmtlciBpbiB0aGUgZG9jdW1lbnQuIFJldHVybnMgYSB7ZnJvbSxcbi8vIHRvfSBvYmplY3QgYnkgZGVmYXVsdC4gU2lkZSBjYW4gYmUgcGFzc2VkIHRvIGdldCBhIHNwZWNpZmljIHNpZGVcbi8vIC0tIDAgKGJvdGgpLCAtMSAobGVmdCksIG9yIDEgKHJpZ2h0KS4gV2hlbiBsaW5lT2JqIGlzIHRydWUsIHRoZVxuLy8gUG9zIG9iamVjdHMgcmV0dXJuZWQgY29udGFpbiBhIGxpbmUgb2JqZWN0LCByYXRoZXIgdGhhbiBhIGxpbmVcbi8vIG51bWJlciAodXNlZCB0byBwcmV2ZW50IGxvb2tpbmcgdXAgdGhlIHNhbWUgbGluZSB0d2ljZSkuXG5UZXh0TWFya2VyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24oc2lkZSwgbGluZU9iaikge1xuICB2YXIgdGhpcyQxID0gdGhpcztcblxuICBpZiAoc2lkZSA9PSBudWxsICYmIHRoaXMudHlwZSA9PSBcImJvb2ttYXJrXCIpIHsgc2lkZSA9IDEgfVxuICB2YXIgZnJvbSwgdG9cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxpbmVzLmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGxpbmUgPSB0aGlzJDEubGluZXNbaV1cbiAgICB2YXIgc3BhbiA9IGdldE1hcmtlZFNwYW5Gb3IobGluZS5tYXJrZWRTcGFucywgdGhpcyQxKVxuICAgIGlmIChzcGFuLmZyb20gIT0gbnVsbCkge1xuICAgICAgZnJvbSA9IFBvcyhsaW5lT2JqID8gbGluZSA6IGxpbmVObyhsaW5lKSwgc3Bhbi5mcm9tKVxuICAgICAgaWYgKHNpZGUgPT0gLTEpIHsgcmV0dXJuIGZyb20gfVxuICAgIH1cbiAgICBpZiAoc3Bhbi50byAhPSBudWxsKSB7XG4gICAgICB0byA9IFBvcyhsaW5lT2JqID8gbGluZSA6IGxpbmVObyhsaW5lKSwgc3Bhbi50bylcbiAgICAgIGlmIChzaWRlID09IDEpIHsgcmV0dXJuIHRvIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZyb20gJiYge2Zyb206IGZyb20sIHRvOiB0b31cbn1cblxuLy8gU2lnbmFscyB0aGF0IHRoZSBtYXJrZXIncyB3aWRnZXQgY2hhbmdlZCwgYW5kIHN1cnJvdW5kaW5nIGxheW91dFxuLy8gc2hvdWxkIGJlIHJlY29tcHV0ZWQuXG5UZXh0TWFya2VyLnByb3RvdHlwZS5jaGFuZ2VkID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwb3MgPSB0aGlzLmZpbmQoLTEsIHRydWUpLCB3aWRnZXQgPSB0aGlzLCBjbSA9IHRoaXMuZG9jLmNtXG4gIGlmICghcG9zIHx8ICFjbSkgeyByZXR1cm4gfVxuICBydW5Jbk9wKGNtLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGxpbmUgPSBwb3MubGluZSwgbGluZU4gPSBsaW5lTm8ocG9zLmxpbmUpXG4gICAgdmFyIHZpZXcgPSBmaW5kVmlld0ZvckxpbmUoY20sIGxpbmVOKVxuICAgIGlmICh2aWV3KSB7XG4gICAgICBjbGVhckxpbmVNZWFzdXJlbWVudENhY2hlRm9yKHZpZXcpXG4gICAgICBjbS5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkID0gY20uY3VyT3AuZm9yY2VVcGRhdGUgPSB0cnVlXG4gICAgfVxuICAgIGNtLmN1ck9wLnVwZGF0ZU1heExpbmUgPSB0cnVlXG4gICAgaWYgKCFsaW5lSXNIaWRkZW4od2lkZ2V0LmRvYywgbGluZSkgJiYgd2lkZ2V0LmhlaWdodCAhPSBudWxsKSB7XG4gICAgICB2YXIgb2xkSGVpZ2h0ID0gd2lkZ2V0LmhlaWdodFxuICAgICAgd2lkZ2V0LmhlaWdodCA9IG51bGxcbiAgICAgIHZhciBkSGVpZ2h0ID0gd2lkZ2V0SGVpZ2h0KHdpZGdldCkgLSBvbGRIZWlnaHRcbiAgICAgIGlmIChkSGVpZ2h0KVxuICAgICAgICB7IHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgbGluZS5oZWlnaHQgKyBkSGVpZ2h0KSB9XG4gICAgfVxuICB9KVxufVxuXG5UZXh0TWFya2VyLnByb3RvdHlwZS5hdHRhY2hMaW5lID0gZnVuY3Rpb24obGluZSkge1xuICBpZiAoIXRoaXMubGluZXMubGVuZ3RoICYmIHRoaXMuZG9jLmNtKSB7XG4gICAgdmFyIG9wID0gdGhpcy5kb2MuY20uY3VyT3BcbiAgICBpZiAoIW9wLm1heWJlSGlkZGVuTWFya2VycyB8fCBpbmRleE9mKG9wLm1heWJlSGlkZGVuTWFya2VycywgdGhpcykgPT0gLTEpXG4gICAgICB7IChvcC5tYXliZVVuaGlkZGVuTWFya2VycyB8fCAob3AubWF5YmVVbmhpZGRlbk1hcmtlcnMgPSBbXSkpLnB1c2godGhpcykgfVxuICB9XG4gIHRoaXMubGluZXMucHVzaChsaW5lKVxufVxuVGV4dE1hcmtlci5wcm90b3R5cGUuZGV0YWNoTGluZSA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgdGhpcy5saW5lcy5zcGxpY2UoaW5kZXhPZih0aGlzLmxpbmVzLCBsaW5lKSwgMSlcbiAgaWYgKCF0aGlzLmxpbmVzLmxlbmd0aCAmJiB0aGlzLmRvYy5jbSkge1xuICAgIHZhciBvcCA9IHRoaXMuZG9jLmNtLmN1ck9wXG4gICAgOyhvcC5tYXliZUhpZGRlbk1hcmtlcnMgfHwgKG9wLm1heWJlSGlkZGVuTWFya2VycyA9IFtdKSkucHVzaCh0aGlzKVxuICB9XG59XG5cbi8vIENyZWF0ZSBhIG1hcmtlciwgd2lyZSBpdCB1cCB0byB0aGUgcmlnaHQgbGluZXMsIGFuZFxuZnVuY3Rpb24gbWFya1RleHQoZG9jLCBmcm9tLCB0bywgb3B0aW9ucywgdHlwZSkge1xuICAvLyBTaGFyZWQgbWFya2VycyAoYWNyb3NzIGxpbmtlZCBkb2N1bWVudHMpIGFyZSBoYW5kbGVkIHNlcGFyYXRlbHlcbiAgLy8gKG1hcmtUZXh0U2hhcmVkIHdpbGwgY2FsbCBvdXQgdG8gdGhpcyBhZ2Fpbiwgb25jZSBwZXJcbiAgLy8gZG9jdW1lbnQpLlxuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnNoYXJlZCkgeyByZXR1cm4gbWFya1RleHRTaGFyZWQoZG9jLCBmcm9tLCB0bywgb3B0aW9ucywgdHlwZSkgfVxuICAvLyBFbnN1cmUgd2UgYXJlIGluIGFuIG9wZXJhdGlvbi5cbiAgaWYgKGRvYy5jbSAmJiAhZG9jLmNtLmN1ck9wKSB7IHJldHVybiBvcGVyYXRpb24oZG9jLmNtLCBtYXJrVGV4dCkoZG9jLCBmcm9tLCB0bywgb3B0aW9ucywgdHlwZSkgfVxuXG4gIHZhciBtYXJrZXIgPSBuZXcgVGV4dE1hcmtlcihkb2MsIHR5cGUpLCBkaWZmID0gY21wKGZyb20sIHRvKVxuICBpZiAob3B0aW9ucykgeyBjb3B5T2JqKG9wdGlvbnMsIG1hcmtlciwgZmFsc2UpIH1cbiAgLy8gRG9uJ3QgY29ubmVjdCBlbXB0eSBtYXJrZXJzIHVubGVzcyBjbGVhcldoZW5FbXB0eSBpcyBmYWxzZVxuICBpZiAoZGlmZiA+IDAgfHwgZGlmZiA9PSAwICYmIG1hcmtlci5jbGVhcldoZW5FbXB0eSAhPT0gZmFsc2UpXG4gICAgeyByZXR1cm4gbWFya2VyIH1cbiAgaWYgKG1hcmtlci5yZXBsYWNlZFdpdGgpIHtcbiAgICAvLyBTaG93aW5nIHVwIGFzIGEgd2lkZ2V0IGltcGxpZXMgY29sbGFwc2VkICh3aWRnZXQgcmVwbGFjZXMgdGV4dClcbiAgICBtYXJrZXIuY29sbGFwc2VkID0gdHJ1ZVxuICAgIG1hcmtlci53aWRnZXROb2RlID0gZWx0KFwic3BhblwiLCBbbWFya2VyLnJlcGxhY2VkV2l0aF0sIFwiQ29kZU1pcnJvci13aWRnZXRcIilcbiAgICBpZiAoIW9wdGlvbnMuaGFuZGxlTW91c2VFdmVudHMpIHsgbWFya2VyLndpZGdldE5vZGUuc2V0QXR0cmlidXRlKFwiY20taWdub3JlLWV2ZW50c1wiLCBcInRydWVcIikgfVxuICAgIGlmIChvcHRpb25zLmluc2VydExlZnQpIHsgbWFya2VyLndpZGdldE5vZGUuaW5zZXJ0TGVmdCA9IHRydWUgfVxuICB9XG4gIGlmIChtYXJrZXIuY29sbGFwc2VkKSB7XG4gICAgaWYgKGNvbmZsaWN0aW5nQ29sbGFwc2VkUmFuZ2UoZG9jLCBmcm9tLmxpbmUsIGZyb20sIHRvLCBtYXJrZXIpIHx8XG4gICAgICAgIGZyb20ubGluZSAhPSB0by5saW5lICYmIGNvbmZsaWN0aW5nQ29sbGFwc2VkUmFuZ2UoZG9jLCB0by5saW5lLCBmcm9tLCB0bywgbWFya2VyKSlcbiAgICAgIHsgdGhyb3cgbmV3IEVycm9yKFwiSW5zZXJ0aW5nIGNvbGxhcHNlZCBtYXJrZXIgcGFydGlhbGx5IG92ZXJsYXBwaW5nIGFuIGV4aXN0aW5nIG9uZVwiKSB9XG4gICAgc2VlQ29sbGFwc2VkU3BhbnMoKVxuICB9XG5cbiAgaWYgKG1hcmtlci5hZGRUb0hpc3RvcnkpXG4gICAgeyBhZGRDaGFuZ2VUb0hpc3RvcnkoZG9jLCB7ZnJvbTogZnJvbSwgdG86IHRvLCBvcmlnaW46IFwibWFya1RleHRcIn0sIGRvYy5zZWwsIE5hTikgfVxuXG4gIHZhciBjdXJMaW5lID0gZnJvbS5saW5lLCBjbSA9IGRvYy5jbSwgdXBkYXRlTWF4TGluZVxuICBkb2MuaXRlcihjdXJMaW5lLCB0by5saW5lICsgMSwgZnVuY3Rpb24gKGxpbmUpIHtcbiAgICBpZiAoY20gJiYgbWFya2VyLmNvbGxhcHNlZCAmJiAhY20ub3B0aW9ucy5saW5lV3JhcHBpbmcgJiYgdmlzdWFsTGluZShsaW5lKSA9PSBjbS5kaXNwbGF5Lm1heExpbmUpXG4gICAgICB7IHVwZGF0ZU1heExpbmUgPSB0cnVlIH1cbiAgICBpZiAobWFya2VyLmNvbGxhcHNlZCAmJiBjdXJMaW5lICE9IGZyb20ubGluZSkgeyB1cGRhdGVMaW5lSGVpZ2h0KGxpbmUsIDApIH1cbiAgICBhZGRNYXJrZWRTcGFuKGxpbmUsIG5ldyBNYXJrZWRTcGFuKG1hcmtlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckxpbmUgPT0gZnJvbS5saW5lID8gZnJvbS5jaCA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJMaW5lID09IHRvLmxpbmUgPyB0by5jaCA6IG51bGwpKVxuICAgICsrY3VyTGluZVxuICB9KVxuICAvLyBsaW5lSXNIaWRkZW4gZGVwZW5kcyBvbiB0aGUgcHJlc2VuY2Ugb2YgdGhlIHNwYW5zLCBzbyBuZWVkcyBhIHNlY29uZCBwYXNzXG4gIGlmIChtYXJrZXIuY29sbGFwc2VkKSB7IGRvYy5pdGVyKGZyb20ubGluZSwgdG8ubGluZSArIDEsIGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgaWYgKGxpbmVJc0hpZGRlbihkb2MsIGxpbmUpKSB7IHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgMCkgfVxuICB9KSB9XG5cbiAgaWYgKG1hcmtlci5jbGVhck9uRW50ZXIpIHsgb24obWFya2VyLCBcImJlZm9yZUN1cnNvckVudGVyXCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1hcmtlci5jbGVhcigpOyB9KSB9XG5cbiAgaWYgKG1hcmtlci5yZWFkT25seSkge1xuICAgIHNlZVJlYWRPbmx5U3BhbnMoKVxuICAgIGlmIChkb2MuaGlzdG9yeS5kb25lLmxlbmd0aCB8fCBkb2MuaGlzdG9yeS51bmRvbmUubGVuZ3RoKVxuICAgICAgeyBkb2MuY2xlYXJIaXN0b3J5KCkgfVxuICB9XG4gIGlmIChtYXJrZXIuY29sbGFwc2VkKSB7XG4gICAgbWFya2VyLmlkID0gKytuZXh0TWFya2VySWRcbiAgICBtYXJrZXIuYXRvbWljID0gdHJ1ZVxuICB9XG4gIGlmIChjbSkge1xuICAgIC8vIFN5bmMgZWRpdG9yIHN0YXRlXG4gICAgaWYgKHVwZGF0ZU1heExpbmUpIHsgY20uY3VyT3AudXBkYXRlTWF4TGluZSA9IHRydWUgfVxuICAgIGlmIChtYXJrZXIuY29sbGFwc2VkKVxuICAgICAgeyByZWdDaGFuZ2UoY20sIGZyb20ubGluZSwgdG8ubGluZSArIDEpIH1cbiAgICBlbHNlIGlmIChtYXJrZXIuY2xhc3NOYW1lIHx8IG1hcmtlci50aXRsZSB8fCBtYXJrZXIuc3RhcnRTdHlsZSB8fCBtYXJrZXIuZW5kU3R5bGUgfHwgbWFya2VyLmNzcylcbiAgICAgIHsgZm9yICh2YXIgaSA9IGZyb20ubGluZTsgaSA8PSB0by5saW5lOyBpKyspIHsgcmVnTGluZUNoYW5nZShjbSwgaSwgXCJ0ZXh0XCIpIH0gfVxuICAgIGlmIChtYXJrZXIuYXRvbWljKSB7IHJlQ2hlY2tTZWxlY3Rpb24oY20uZG9jKSB9XG4gICAgc2lnbmFsTGF0ZXIoY20sIFwibWFya2VyQWRkZWRcIiwgY20sIG1hcmtlcilcbiAgfVxuICByZXR1cm4gbWFya2VyXG59XG5cbi8vIFNIQVJFRCBURVhUTUFSS0VSU1xuXG4vLyBBIHNoYXJlZCBtYXJrZXIgc3BhbnMgbXVsdGlwbGUgbGlua2VkIGRvY3VtZW50cy4gSXQgaXNcbi8vIGltcGxlbWVudGVkIGFzIGEgbWV0YS1tYXJrZXItb2JqZWN0IGNvbnRyb2xsaW5nIG11bHRpcGxlIG5vcm1hbFxuLy8gbWFya2Vycy5cbmZ1bmN0aW9uIFNoYXJlZFRleHRNYXJrZXIobWFya2VycywgcHJpbWFyeSkge1xuICB2YXIgdGhpcyQxID0gdGhpcztcblxuICB0aGlzLm1hcmtlcnMgPSBtYXJrZXJzXG4gIHRoaXMucHJpbWFyeSA9IHByaW1hcnlcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrZXJzLmxlbmd0aDsgKytpKVxuICAgIHsgbWFya2Vyc1tpXS5wYXJlbnQgPSB0aGlzJDEgfVxufVxuZXZlbnRNaXhpbihTaGFyZWRUZXh0TWFya2VyKVxuXG5TaGFyZWRUZXh0TWFya2VyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgdGhpcyQxID0gdGhpcztcblxuICBpZiAodGhpcy5leHBsaWNpdGx5Q2xlYXJlZCkgeyByZXR1cm4gfVxuICB0aGlzLmV4cGxpY2l0bHlDbGVhcmVkID0gdHJ1ZVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubWFya2Vycy5sZW5ndGg7ICsraSlcbiAgICB7IHRoaXMkMS5tYXJrZXJzW2ldLmNsZWFyKCkgfVxuICBzaWduYWxMYXRlcih0aGlzLCBcImNsZWFyXCIpXG59XG5TaGFyZWRUZXh0TWFya2VyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24oc2lkZSwgbGluZU9iaikge1xuICByZXR1cm4gdGhpcy5wcmltYXJ5LmZpbmQoc2lkZSwgbGluZU9iailcbn1cblxuZnVuY3Rpb24gbWFya1RleHRTaGFyZWQoZG9jLCBmcm9tLCB0bywgb3B0aW9ucywgdHlwZSkge1xuICBvcHRpb25zID0gY29weU9iaihvcHRpb25zKVxuICBvcHRpb25zLnNoYXJlZCA9IGZhbHNlXG4gIHZhciBtYXJrZXJzID0gW21hcmtUZXh0KGRvYywgZnJvbSwgdG8sIG9wdGlvbnMsIHR5cGUpXSwgcHJpbWFyeSA9IG1hcmtlcnNbMF1cbiAgdmFyIHdpZGdldCA9IG9wdGlvbnMud2lkZ2V0Tm9kZVxuICBsaW5rZWREb2NzKGRvYywgZnVuY3Rpb24gKGRvYykge1xuICAgIGlmICh3aWRnZXQpIHsgb3B0aW9ucy53aWRnZXROb2RlID0gd2lkZ2V0LmNsb25lTm9kZSh0cnVlKSB9XG4gICAgbWFya2Vycy5wdXNoKG1hcmtUZXh0KGRvYywgY2xpcFBvcyhkb2MsIGZyb20pLCBjbGlwUG9zKGRvYywgdG8pLCBvcHRpb25zLCB0eXBlKSlcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRvYy5saW5rZWQubGVuZ3RoOyArK2kpXG4gICAgICB7IGlmIChkb2MubGlua2VkW2ldLmlzUGFyZW50KSB7IHJldHVybiB9IH1cbiAgICBwcmltYXJ5ID0gbHN0KG1hcmtlcnMpXG4gIH0pXG4gIHJldHVybiBuZXcgU2hhcmVkVGV4dE1hcmtlcihtYXJrZXJzLCBwcmltYXJ5KVxufVxuXG5mdW5jdGlvbiBmaW5kU2hhcmVkTWFya2Vycyhkb2MpIHtcbiAgcmV0dXJuIGRvYy5maW5kTWFya3MoUG9zKGRvYy5maXJzdCwgMCksIGRvYy5jbGlwUG9zKFBvcyhkb2MubGFzdExpbmUoKSkpLCBmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5wYXJlbnQ7IH0pXG59XG5cbmZ1bmN0aW9uIGNvcHlTaGFyZWRNYXJrZXJzKGRvYywgbWFya2Vycykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtlcnMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgbWFya2VyID0gbWFya2Vyc1tpXSwgcG9zID0gbWFya2VyLmZpbmQoKVxuICAgIHZhciBtRnJvbSA9IGRvYy5jbGlwUG9zKHBvcy5mcm9tKSwgbVRvID0gZG9jLmNsaXBQb3MocG9zLnRvKVxuICAgIGlmIChjbXAobUZyb20sIG1UbykpIHtcbiAgICAgIHZhciBzdWJNYXJrID0gbWFya1RleHQoZG9jLCBtRnJvbSwgbVRvLCBtYXJrZXIucHJpbWFyeSwgbWFya2VyLnByaW1hcnkudHlwZSlcbiAgICAgIG1hcmtlci5tYXJrZXJzLnB1c2goc3ViTWFyaylcbiAgICAgIHN1Yk1hcmsucGFyZW50ID0gbWFya2VyXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGRldGFjaFNoYXJlZE1hcmtlcnMobWFya2Vycykge1xuICB2YXIgbG9vcCA9IGZ1bmN0aW9uICggaSApIHtcbiAgICB2YXIgbWFya2VyID0gbWFya2Vyc1tpXSwgbGlua2VkID0gW21hcmtlci5wcmltYXJ5LmRvY11cbiAgICBsaW5rZWREb2NzKG1hcmtlci5wcmltYXJ5LmRvYywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGxpbmtlZC5wdXNoKGQpOyB9KVxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWFya2VyLm1hcmtlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgIHZhciBzdWJNYXJrZXIgPSBtYXJrZXIubWFya2Vyc1tqXVxuICAgICAgaWYgKGluZGV4T2YobGlua2VkLCBzdWJNYXJrZXIuZG9jKSA9PSAtMSkge1xuICAgICAgICBzdWJNYXJrZXIucGFyZW50ID0gbnVsbFxuICAgICAgICBtYXJrZXIubWFya2Vycy5zcGxpY2Uoai0tLCAxKVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtlcnMubGVuZ3RoOyBpKyspIGxvb3AoIGkgKTtcbn1cblxudmFyIG5leHREb2NJZCA9IDBcbnZhciBEb2MgPSBmdW5jdGlvbih0ZXh0LCBtb2RlLCBmaXJzdExpbmUsIGxpbmVTZXApIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIERvYykpIHsgcmV0dXJuIG5ldyBEb2ModGV4dCwgbW9kZSwgZmlyc3RMaW5lLCBsaW5lU2VwKSB9XG4gIGlmIChmaXJzdExpbmUgPT0gbnVsbCkgeyBmaXJzdExpbmUgPSAwIH1cblxuICBCcmFuY2hDaHVuay5jYWxsKHRoaXMsIFtuZXcgTGVhZkNodW5rKFtuZXcgTGluZShcIlwiLCBudWxsKV0pXSlcbiAgdGhpcy5maXJzdCA9IGZpcnN0TGluZVxuICB0aGlzLnNjcm9sbFRvcCA9IHRoaXMuc2Nyb2xsTGVmdCA9IDBcbiAgdGhpcy5jYW50RWRpdCA9IGZhbHNlXG4gIHRoaXMuY2xlYW5HZW5lcmF0aW9uID0gMVxuICB0aGlzLmZyb250aWVyID0gZmlyc3RMaW5lXG4gIHZhciBzdGFydCA9IFBvcyhmaXJzdExpbmUsIDApXG4gIHRoaXMuc2VsID0gc2ltcGxlU2VsZWN0aW9uKHN0YXJ0KVxuICB0aGlzLmhpc3RvcnkgPSBuZXcgSGlzdG9yeShudWxsKVxuICB0aGlzLmlkID0gKytuZXh0RG9jSWRcbiAgdGhpcy5tb2RlT3B0aW9uID0gbW9kZVxuICB0aGlzLmxpbmVTZXAgPSBsaW5lU2VwXG4gIHRoaXMuZXh0ZW5kID0gZmFsc2VcblxuICBpZiAodHlwZW9mIHRleHQgPT0gXCJzdHJpbmdcIikgeyB0ZXh0ID0gdGhpcy5zcGxpdExpbmVzKHRleHQpIH1cbiAgdXBkYXRlRG9jKHRoaXMsIHtmcm9tOiBzdGFydCwgdG86IHN0YXJ0LCB0ZXh0OiB0ZXh0fSlcbiAgc2V0U2VsZWN0aW9uKHRoaXMsIHNpbXBsZVNlbGVjdGlvbihzdGFydCksIHNlbF9kb250U2Nyb2xsKVxufVxuXG5Eb2MucHJvdG90eXBlID0gY3JlYXRlT2JqKEJyYW5jaENodW5rLnByb3RvdHlwZSwge1xuICBjb25zdHJ1Y3RvcjogRG9jLFxuICAvLyBJdGVyYXRlIG92ZXIgdGhlIGRvY3VtZW50LiBTdXBwb3J0cyB0d28gZm9ybXMgLS0gd2l0aCBvbmx5IG9uZVxuICAvLyBhcmd1bWVudCwgaXQgY2FsbHMgdGhhdCBmb3IgZWFjaCBsaW5lIGluIHRoZSBkb2N1bWVudC4gV2l0aFxuICAvLyB0aHJlZSwgaXQgaXRlcmF0ZXMgb3ZlciB0aGUgcmFuZ2UgZ2l2ZW4gYnkgdGhlIGZpcnN0IHR3byAod2l0aFxuICAvLyB0aGUgc2Vjb25kIGJlaW5nIG5vbi1pbmNsdXNpdmUpLlxuICBpdGVyOiBmdW5jdGlvbihmcm9tLCB0bywgb3ApIHtcbiAgICBpZiAob3ApIHsgdGhpcy5pdGVyTihmcm9tIC0gdGhpcy5maXJzdCwgdG8gLSBmcm9tLCBvcCkgfVxuICAgIGVsc2UgeyB0aGlzLml0ZXJOKHRoaXMuZmlyc3QsIHRoaXMuZmlyc3QgKyB0aGlzLnNpemUsIGZyb20pIH1cbiAgfSxcblxuICAvLyBOb24tcHVibGljIGludGVyZmFjZSBmb3IgYWRkaW5nIGFuZCByZW1vdmluZyBsaW5lcy5cbiAgaW5zZXJ0OiBmdW5jdGlvbihhdCwgbGluZXMpIHtcbiAgICB2YXIgaGVpZ2h0ID0gMFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyArK2kpIHsgaGVpZ2h0ICs9IGxpbmVzW2ldLmhlaWdodCB9XG4gICAgdGhpcy5pbnNlcnRJbm5lcihhdCAtIHRoaXMuZmlyc3QsIGxpbmVzLCBoZWlnaHQpXG4gIH0sXG4gIHJlbW92ZTogZnVuY3Rpb24oYXQsIG4pIHsgdGhpcy5yZW1vdmVJbm5lcihhdCAtIHRoaXMuZmlyc3QsIG4pIH0sXG5cbiAgLy8gRnJvbSBoZXJlLCB0aGUgbWV0aG9kcyBhcmUgcGFydCBvZiB0aGUgcHVibGljIGludGVyZmFjZS4gTW9zdFxuICAvLyBhcmUgYWxzbyBhdmFpbGFibGUgZnJvbSBDb2RlTWlycm9yIChlZGl0b3IpIGluc3RhbmNlcy5cblxuICBnZXRWYWx1ZTogZnVuY3Rpb24obGluZVNlcCkge1xuICAgIHZhciBsaW5lcyA9IGdldExpbmVzKHRoaXMsIHRoaXMuZmlyc3QsIHRoaXMuZmlyc3QgKyB0aGlzLnNpemUpXG4gICAgaWYgKGxpbmVTZXAgPT09IGZhbHNlKSB7IHJldHVybiBsaW5lcyB9XG4gICAgcmV0dXJuIGxpbmVzLmpvaW4obGluZVNlcCB8fCB0aGlzLmxpbmVTZXBhcmF0b3IoKSlcbiAgfSxcbiAgc2V0VmFsdWU6IGRvY01ldGhvZE9wKGZ1bmN0aW9uKGNvZGUpIHtcbiAgICB2YXIgdG9wID0gUG9zKHRoaXMuZmlyc3QsIDApLCBsYXN0ID0gdGhpcy5maXJzdCArIHRoaXMuc2l6ZSAtIDFcbiAgICBtYWtlQ2hhbmdlKHRoaXMsIHtmcm9tOiB0b3AsIHRvOiBQb3MobGFzdCwgZ2V0TGluZSh0aGlzLCBsYXN0KS50ZXh0Lmxlbmd0aCksXG4gICAgICAgICAgICAgICAgICAgICAgdGV4dDogdGhpcy5zcGxpdExpbmVzKGNvZGUpLCBvcmlnaW46IFwic2V0VmFsdWVcIiwgZnVsbDogdHJ1ZX0sIHRydWUpXG4gICAgc2V0U2VsZWN0aW9uKHRoaXMsIHNpbXBsZVNlbGVjdGlvbih0b3ApKVxuICB9KSxcbiAgcmVwbGFjZVJhbmdlOiBmdW5jdGlvbihjb2RlLCBmcm9tLCB0bywgb3JpZ2luKSB7XG4gICAgZnJvbSA9IGNsaXBQb3ModGhpcywgZnJvbSlcbiAgICB0byA9IHRvID8gY2xpcFBvcyh0aGlzLCB0bykgOiBmcm9tXG4gICAgcmVwbGFjZVJhbmdlKHRoaXMsIGNvZGUsIGZyb20sIHRvLCBvcmlnaW4pXG4gIH0sXG4gIGdldFJhbmdlOiBmdW5jdGlvbihmcm9tLCB0bywgbGluZVNlcCkge1xuICAgIHZhciBsaW5lcyA9IGdldEJldHdlZW4odGhpcywgY2xpcFBvcyh0aGlzLCBmcm9tKSwgY2xpcFBvcyh0aGlzLCB0bykpXG4gICAgaWYgKGxpbmVTZXAgPT09IGZhbHNlKSB7IHJldHVybiBsaW5lcyB9XG4gICAgcmV0dXJuIGxpbmVzLmpvaW4obGluZVNlcCB8fCB0aGlzLmxpbmVTZXBhcmF0b3IoKSlcbiAgfSxcblxuICBnZXRMaW5lOiBmdW5jdGlvbihsaW5lKSB7dmFyIGwgPSB0aGlzLmdldExpbmVIYW5kbGUobGluZSk7IHJldHVybiBsICYmIGwudGV4dH0sXG5cbiAgZ2V0TGluZUhhbmRsZTogZnVuY3Rpb24obGluZSkge2lmIChpc0xpbmUodGhpcywgbGluZSkpIHsgcmV0dXJuIGdldExpbmUodGhpcywgbGluZSkgfX0sXG4gIGdldExpbmVOdW1iZXI6IGZ1bmN0aW9uKGxpbmUpIHtyZXR1cm4gbGluZU5vKGxpbmUpfSxcblxuICBnZXRMaW5lSGFuZGxlVmlzdWFsU3RhcnQ6IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICBpZiAodHlwZW9mIGxpbmUgPT0gXCJudW1iZXJcIikgeyBsaW5lID0gZ2V0TGluZSh0aGlzLCBsaW5lKSB9XG4gICAgcmV0dXJuIHZpc3VhbExpbmUobGluZSlcbiAgfSxcblxuICBsaW5lQ291bnQ6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLnNpemV9LFxuICBmaXJzdExpbmU6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLmZpcnN0fSxcbiAgbGFzdExpbmU6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLmZpcnN0ICsgdGhpcy5zaXplIC0gMX0sXG5cbiAgY2xpcFBvczogZnVuY3Rpb24ocG9zKSB7cmV0dXJuIGNsaXBQb3ModGhpcywgcG9zKX0sXG5cbiAgZ2V0Q3Vyc29yOiBmdW5jdGlvbihzdGFydCkge1xuICAgIHZhciByYW5nZSA9IHRoaXMuc2VsLnByaW1hcnkoKSwgcG9zXG4gICAgaWYgKHN0YXJ0ID09IG51bGwgfHwgc3RhcnQgPT0gXCJoZWFkXCIpIHsgcG9zID0gcmFuZ2UuaGVhZCB9XG4gICAgZWxzZSBpZiAoc3RhcnQgPT0gXCJhbmNob3JcIikgeyBwb3MgPSByYW5nZS5hbmNob3IgfVxuICAgIGVsc2UgaWYgKHN0YXJ0ID09IFwiZW5kXCIgfHwgc3RhcnQgPT0gXCJ0b1wiIHx8IHN0YXJ0ID09PSBmYWxzZSkgeyBwb3MgPSByYW5nZS50bygpIH1cbiAgICBlbHNlIHsgcG9zID0gcmFuZ2UuZnJvbSgpIH1cbiAgICByZXR1cm4gcG9zXG4gIH0sXG4gIGxpc3RTZWxlY3Rpb25zOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuc2VsLnJhbmdlcyB9LFxuICBzb21ldGhpbmdTZWxlY3RlZDogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMuc2VsLnNvbWV0aGluZ1NlbGVjdGVkKCl9LFxuXG4gIHNldEN1cnNvcjogZG9jTWV0aG9kT3AoZnVuY3Rpb24obGluZSwgY2gsIG9wdGlvbnMpIHtcbiAgICBzZXRTaW1wbGVTZWxlY3Rpb24odGhpcywgY2xpcFBvcyh0aGlzLCB0eXBlb2YgbGluZSA9PSBcIm51bWJlclwiID8gUG9zKGxpbmUsIGNoIHx8IDApIDogbGluZSksIG51bGwsIG9wdGlvbnMpXG4gIH0pLFxuICBzZXRTZWxlY3Rpb246IGRvY01ldGhvZE9wKGZ1bmN0aW9uKGFuY2hvciwgaGVhZCwgb3B0aW9ucykge1xuICAgIHNldFNpbXBsZVNlbGVjdGlvbih0aGlzLCBjbGlwUG9zKHRoaXMsIGFuY2hvciksIGNsaXBQb3ModGhpcywgaGVhZCB8fCBhbmNob3IpLCBvcHRpb25zKVxuICB9KSxcbiAgZXh0ZW5kU2VsZWN0aW9uOiBkb2NNZXRob2RPcChmdW5jdGlvbihoZWFkLCBvdGhlciwgb3B0aW9ucykge1xuICAgIGV4dGVuZFNlbGVjdGlvbih0aGlzLCBjbGlwUG9zKHRoaXMsIGhlYWQpLCBvdGhlciAmJiBjbGlwUG9zKHRoaXMsIG90aGVyKSwgb3B0aW9ucylcbiAgfSksXG4gIGV4dGVuZFNlbGVjdGlvbnM6IGRvY01ldGhvZE9wKGZ1bmN0aW9uKGhlYWRzLCBvcHRpb25zKSB7XG4gICAgZXh0ZW5kU2VsZWN0aW9ucyh0aGlzLCBjbGlwUG9zQXJyYXkodGhpcywgaGVhZHMpLCBvcHRpb25zKVxuICB9KSxcbiAgZXh0ZW5kU2VsZWN0aW9uc0J5OiBkb2NNZXRob2RPcChmdW5jdGlvbihmLCBvcHRpb25zKSB7XG4gICAgdmFyIGhlYWRzID0gbWFwKHRoaXMuc2VsLnJhbmdlcywgZilcbiAgICBleHRlbmRTZWxlY3Rpb25zKHRoaXMsIGNsaXBQb3NBcnJheSh0aGlzLCBoZWFkcyksIG9wdGlvbnMpXG4gIH0pLFxuICBzZXRTZWxlY3Rpb25zOiBkb2NNZXRob2RPcChmdW5jdGlvbihyYW5nZXMsIHByaW1hcnksIG9wdGlvbnMpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGlmICghcmFuZ2VzLmxlbmd0aCkgeyByZXR1cm4gfVxuICAgIHZhciBvdXQgPSBbXVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKVxuICAgICAgeyBvdXRbaV0gPSBuZXcgUmFuZ2UoY2xpcFBvcyh0aGlzJDEsIHJhbmdlc1tpXS5hbmNob3IpLFxuICAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBQb3ModGhpcyQxLCByYW5nZXNbaV0uaGVhZCkpIH1cbiAgICBpZiAocHJpbWFyeSA9PSBudWxsKSB7IHByaW1hcnkgPSBNYXRoLm1pbihyYW5nZXMubGVuZ3RoIC0gMSwgdGhpcy5zZWwucHJpbUluZGV4KSB9XG4gICAgc2V0U2VsZWN0aW9uKHRoaXMsIG5vcm1hbGl6ZVNlbGVjdGlvbihvdXQsIHByaW1hcnkpLCBvcHRpb25zKVxuICB9KSxcbiAgYWRkU2VsZWN0aW9uOiBkb2NNZXRob2RPcChmdW5jdGlvbihhbmNob3IsIGhlYWQsIG9wdGlvbnMpIHtcbiAgICB2YXIgcmFuZ2VzID0gdGhpcy5zZWwucmFuZ2VzLnNsaWNlKDApXG4gICAgcmFuZ2VzLnB1c2gobmV3IFJhbmdlKGNsaXBQb3ModGhpcywgYW5jaG9yKSwgY2xpcFBvcyh0aGlzLCBoZWFkIHx8IGFuY2hvcikpKVxuICAgIHNldFNlbGVjdGlvbih0aGlzLCBub3JtYWxpemVTZWxlY3Rpb24ocmFuZ2VzLCByYW5nZXMubGVuZ3RoIC0gMSksIG9wdGlvbnMpXG4gIH0pLFxuXG4gIGdldFNlbGVjdGlvbjogZnVuY3Rpb24obGluZVNlcCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIHJhbmdlcyA9IHRoaXMuc2VsLnJhbmdlcywgbGluZXNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNlbCA9IGdldEJldHdlZW4odGhpcyQxLCByYW5nZXNbaV0uZnJvbSgpLCByYW5nZXNbaV0udG8oKSlcbiAgICAgIGxpbmVzID0gbGluZXMgPyBsaW5lcy5jb25jYXQoc2VsKSA6IHNlbFxuICAgIH1cbiAgICBpZiAobGluZVNlcCA9PT0gZmFsc2UpIHsgcmV0dXJuIGxpbmVzIH1cbiAgICBlbHNlIHsgcmV0dXJuIGxpbmVzLmpvaW4obGluZVNlcCB8fCB0aGlzLmxpbmVTZXBhcmF0b3IoKSkgfVxuICB9LFxuICBnZXRTZWxlY3Rpb25zOiBmdW5jdGlvbihsaW5lU2VwKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgcGFydHMgPSBbXSwgcmFuZ2VzID0gdGhpcy5zZWwucmFuZ2VzXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzZWwgPSBnZXRCZXR3ZWVuKHRoaXMkMSwgcmFuZ2VzW2ldLmZyb20oKSwgcmFuZ2VzW2ldLnRvKCkpXG4gICAgICBpZiAobGluZVNlcCAhPT0gZmFsc2UpIHsgc2VsID0gc2VsLmpvaW4obGluZVNlcCB8fCB0aGlzJDEubGluZVNlcGFyYXRvcigpKSB9XG4gICAgICBwYXJ0c1tpXSA9IHNlbFxuICAgIH1cbiAgICByZXR1cm4gcGFydHNcbiAgfSxcbiAgcmVwbGFjZVNlbGVjdGlvbjogZnVuY3Rpb24oY29kZSwgY29sbGFwc2UsIG9yaWdpbikge1xuICAgIHZhciBkdXAgPSBbXVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zZWwucmFuZ2VzLmxlbmd0aDsgaSsrKVxuICAgICAgeyBkdXBbaV0gPSBjb2RlIH1cbiAgICB0aGlzLnJlcGxhY2VTZWxlY3Rpb25zKGR1cCwgY29sbGFwc2UsIG9yaWdpbiB8fCBcIitpbnB1dFwiKVxuICB9LFxuICByZXBsYWNlU2VsZWN0aW9uczogZG9jTWV0aG9kT3AoZnVuY3Rpb24oY29kZSwgY29sbGFwc2UsIG9yaWdpbikge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIGNoYW5nZXMgPSBbXSwgc2VsID0gdGhpcy5zZWxcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbC5yYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciByYW5nZSA9IHNlbC5yYW5nZXNbaV1cbiAgICAgIGNoYW5nZXNbaV0gPSB7ZnJvbTogcmFuZ2UuZnJvbSgpLCB0bzogcmFuZ2UudG8oKSwgdGV4dDogdGhpcyQxLnNwbGl0TGluZXMoY29kZVtpXSksIG9yaWdpbjogb3JpZ2lufVxuICAgIH1cbiAgICB2YXIgbmV3U2VsID0gY29sbGFwc2UgJiYgY29sbGFwc2UgIT0gXCJlbmRcIiAmJiBjb21wdXRlUmVwbGFjZWRTZWwodGhpcywgY2hhbmdlcywgY29sbGFwc2UpXG4gICAgZm9yICh2YXIgaSQxID0gY2hhbmdlcy5sZW5ndGggLSAxOyBpJDEgPj0gMDsgaSQxLS0pXG4gICAgICB7IG1ha2VDaGFuZ2UodGhpcyQxLCBjaGFuZ2VzW2kkMV0pIH1cbiAgICBpZiAobmV3U2VsKSB7IHNldFNlbGVjdGlvblJlcGxhY2VIaXN0b3J5KHRoaXMsIG5ld1NlbCkgfVxuICAgIGVsc2UgaWYgKHRoaXMuY20pIHsgZW5zdXJlQ3Vyc29yVmlzaWJsZSh0aGlzLmNtKSB9XG4gIH0pLFxuICB1bmRvOiBkb2NNZXRob2RPcChmdW5jdGlvbigpIHttYWtlQ2hhbmdlRnJvbUhpc3RvcnkodGhpcywgXCJ1bmRvXCIpfSksXG4gIHJlZG86IGRvY01ldGhvZE9wKGZ1bmN0aW9uKCkge21ha2VDaGFuZ2VGcm9tSGlzdG9yeSh0aGlzLCBcInJlZG9cIil9KSxcbiAgdW5kb1NlbGVjdGlvbjogZG9jTWV0aG9kT3AoZnVuY3Rpb24oKSB7bWFrZUNoYW5nZUZyb21IaXN0b3J5KHRoaXMsIFwidW5kb1wiLCB0cnVlKX0pLFxuICByZWRvU2VsZWN0aW9uOiBkb2NNZXRob2RPcChmdW5jdGlvbigpIHttYWtlQ2hhbmdlRnJvbUhpc3RvcnkodGhpcywgXCJyZWRvXCIsIHRydWUpfSksXG5cbiAgc2V0RXh0ZW5kaW5nOiBmdW5jdGlvbih2YWwpIHt0aGlzLmV4dGVuZCA9IHZhbH0sXG4gIGdldEV4dGVuZGluZzogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMuZXh0ZW5kfSxcblxuICBoaXN0b3J5U2l6ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGhpc3QgPSB0aGlzLmhpc3RvcnksIGRvbmUgPSAwLCB1bmRvbmUgPSAwXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoaXN0LmRvbmUubGVuZ3RoOyBpKyspIHsgaWYgKCFoaXN0LmRvbmVbaV0ucmFuZ2VzKSB7ICsrZG9uZSB9IH1cbiAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBoaXN0LnVuZG9uZS5sZW5ndGg7IGkkMSsrKSB7IGlmICghaGlzdC51bmRvbmVbaSQxXS5yYW5nZXMpIHsgKyt1bmRvbmUgfSB9XG4gICAgcmV0dXJuIHt1bmRvOiBkb25lLCByZWRvOiB1bmRvbmV9XG4gIH0sXG4gIGNsZWFySGlzdG9yeTogZnVuY3Rpb24oKSB7dGhpcy5oaXN0b3J5ID0gbmV3IEhpc3RvcnkodGhpcy5oaXN0b3J5Lm1heEdlbmVyYXRpb24pfSxcblxuICBtYXJrQ2xlYW46IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY2xlYW5HZW5lcmF0aW9uID0gdGhpcy5jaGFuZ2VHZW5lcmF0aW9uKHRydWUpXG4gIH0sXG4gIGNoYW5nZUdlbmVyYXRpb246IGZ1bmN0aW9uKGZvcmNlU3BsaXQpIHtcbiAgICBpZiAoZm9yY2VTcGxpdClcbiAgICAgIHsgdGhpcy5oaXN0b3J5Lmxhc3RPcCA9IHRoaXMuaGlzdG9yeS5sYXN0U2VsT3AgPSB0aGlzLmhpc3RvcnkubGFzdE9yaWdpbiA9IG51bGwgfVxuICAgIHJldHVybiB0aGlzLmhpc3RvcnkuZ2VuZXJhdGlvblxuICB9LFxuICBpc0NsZWFuOiBmdW5jdGlvbiAoZ2VuKSB7XG4gICAgcmV0dXJuIHRoaXMuaGlzdG9yeS5nZW5lcmF0aW9uID09IChnZW4gfHwgdGhpcy5jbGVhbkdlbmVyYXRpb24pXG4gIH0sXG5cbiAgZ2V0SGlzdG9yeTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtkb25lOiBjb3B5SGlzdG9yeUFycmF5KHRoaXMuaGlzdG9yeS5kb25lKSxcbiAgICAgICAgICAgIHVuZG9uZTogY29weUhpc3RvcnlBcnJheSh0aGlzLmhpc3RvcnkudW5kb25lKX1cbiAgfSxcbiAgc2V0SGlzdG9yeTogZnVuY3Rpb24oaGlzdERhdGEpIHtcbiAgICB2YXIgaGlzdCA9IHRoaXMuaGlzdG9yeSA9IG5ldyBIaXN0b3J5KHRoaXMuaGlzdG9yeS5tYXhHZW5lcmF0aW9uKVxuICAgIGhpc3QuZG9uZSA9IGNvcHlIaXN0b3J5QXJyYXkoaGlzdERhdGEuZG9uZS5zbGljZSgwKSwgbnVsbCwgdHJ1ZSlcbiAgICBoaXN0LnVuZG9uZSA9IGNvcHlIaXN0b3J5QXJyYXkoaGlzdERhdGEudW5kb25lLnNsaWNlKDApLCBudWxsLCB0cnVlKVxuICB9LFxuXG4gIHNldEd1dHRlck1hcmtlcjogZG9jTWV0aG9kT3AoZnVuY3Rpb24obGluZSwgZ3V0dGVySUQsIHZhbHVlKSB7XG4gICAgcmV0dXJuIGNoYW5nZUxpbmUodGhpcywgbGluZSwgXCJndXR0ZXJcIiwgZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgIHZhciBtYXJrZXJzID0gbGluZS5ndXR0ZXJNYXJrZXJzIHx8IChsaW5lLmd1dHRlck1hcmtlcnMgPSB7fSlcbiAgICAgIG1hcmtlcnNbZ3V0dGVySURdID0gdmFsdWVcbiAgICAgIGlmICghdmFsdWUgJiYgaXNFbXB0eShtYXJrZXJzKSkgeyBsaW5lLmd1dHRlck1hcmtlcnMgPSBudWxsIH1cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSlcbiAgfSksXG5cbiAgY2xlYXJHdXR0ZXI6IGRvY01ldGhvZE9wKGZ1bmN0aW9uKGd1dHRlcklEKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgaSA9IHRoaXMuZmlyc3RcbiAgICB0aGlzLml0ZXIoZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgIGlmIChsaW5lLmd1dHRlck1hcmtlcnMgJiYgbGluZS5ndXR0ZXJNYXJrZXJzW2d1dHRlcklEXSkge1xuICAgICAgICBjaGFuZ2VMaW5lKHRoaXMkMSwgbGluZSwgXCJndXR0ZXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGxpbmUuZ3V0dGVyTWFya2Vyc1tndXR0ZXJJRF0gPSBudWxsXG4gICAgICAgICAgaWYgKGlzRW1wdHkobGluZS5ndXR0ZXJNYXJrZXJzKSkgeyBsaW5lLmd1dHRlck1hcmtlcnMgPSBudWxsIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgKytpXG4gICAgfSlcbiAgfSksXG5cbiAgbGluZUluZm86IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICB2YXIgblxuICAgIGlmICh0eXBlb2YgbGluZSA9PSBcIm51bWJlclwiKSB7XG4gICAgICBpZiAoIWlzTGluZSh0aGlzLCBsaW5lKSkgeyByZXR1cm4gbnVsbCB9XG4gICAgICBuID0gbGluZVxuICAgICAgbGluZSA9IGdldExpbmUodGhpcywgbGluZSlcbiAgICAgIGlmICghbGluZSkgeyByZXR1cm4gbnVsbCB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG4gPSBsaW5lTm8obGluZSlcbiAgICAgIGlmIChuID09IG51bGwpIHsgcmV0dXJuIG51bGwgfVxuICAgIH1cbiAgICByZXR1cm4ge2xpbmU6IG4sIGhhbmRsZTogbGluZSwgdGV4dDogbGluZS50ZXh0LCBndXR0ZXJNYXJrZXJzOiBsaW5lLmd1dHRlck1hcmtlcnMsXG4gICAgICAgICAgICB0ZXh0Q2xhc3M6IGxpbmUudGV4dENsYXNzLCBiZ0NsYXNzOiBsaW5lLmJnQ2xhc3MsIHdyYXBDbGFzczogbGluZS53cmFwQ2xhc3MsXG4gICAgICAgICAgICB3aWRnZXRzOiBsaW5lLndpZGdldHN9XG4gIH0sXG5cbiAgYWRkTGluZUNsYXNzOiBkb2NNZXRob2RPcChmdW5jdGlvbihoYW5kbGUsIHdoZXJlLCBjbHMpIHtcbiAgICByZXR1cm4gY2hhbmdlTGluZSh0aGlzLCBoYW5kbGUsIHdoZXJlID09IFwiZ3V0dGVyXCIgPyBcImd1dHRlclwiIDogXCJjbGFzc1wiLCBmdW5jdGlvbiAobGluZSkge1xuICAgICAgdmFyIHByb3AgPSB3aGVyZSA9PSBcInRleHRcIiA/IFwidGV4dENsYXNzXCJcbiAgICAgICAgICAgICAgIDogd2hlcmUgPT0gXCJiYWNrZ3JvdW5kXCIgPyBcImJnQ2xhc3NcIlxuICAgICAgICAgICAgICAgOiB3aGVyZSA9PSBcImd1dHRlclwiID8gXCJndXR0ZXJDbGFzc1wiIDogXCJ3cmFwQ2xhc3NcIlxuICAgICAgaWYgKCFsaW5lW3Byb3BdKSB7IGxpbmVbcHJvcF0gPSBjbHMgfVxuICAgICAgZWxzZSBpZiAoY2xhc3NUZXN0KGNscykudGVzdChsaW5lW3Byb3BdKSkgeyByZXR1cm4gZmFsc2UgfVxuICAgICAgZWxzZSB7IGxpbmVbcHJvcF0gKz0gXCIgXCIgKyBjbHMgfVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9KVxuICB9KSxcbiAgcmVtb3ZlTGluZUNsYXNzOiBkb2NNZXRob2RPcChmdW5jdGlvbihoYW5kbGUsIHdoZXJlLCBjbHMpIHtcbiAgICByZXR1cm4gY2hhbmdlTGluZSh0aGlzLCBoYW5kbGUsIHdoZXJlID09IFwiZ3V0dGVyXCIgPyBcImd1dHRlclwiIDogXCJjbGFzc1wiLCBmdW5jdGlvbiAobGluZSkge1xuICAgICAgdmFyIHByb3AgPSB3aGVyZSA9PSBcInRleHRcIiA/IFwidGV4dENsYXNzXCJcbiAgICAgICAgICAgICAgIDogd2hlcmUgPT0gXCJiYWNrZ3JvdW5kXCIgPyBcImJnQ2xhc3NcIlxuICAgICAgICAgICAgICAgOiB3aGVyZSA9PSBcImd1dHRlclwiID8gXCJndXR0ZXJDbGFzc1wiIDogXCJ3cmFwQ2xhc3NcIlxuICAgICAgdmFyIGN1ciA9IGxpbmVbcHJvcF1cbiAgICAgIGlmICghY3VyKSB7IHJldHVybiBmYWxzZSB9XG4gICAgICBlbHNlIGlmIChjbHMgPT0gbnVsbCkgeyBsaW5lW3Byb3BdID0gbnVsbCB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIGZvdW5kID0gY3VyLm1hdGNoKGNsYXNzVGVzdChjbHMpKVxuICAgICAgICBpZiAoIWZvdW5kKSB7IHJldHVybiBmYWxzZSB9XG4gICAgICAgIHZhciBlbmQgPSBmb3VuZC5pbmRleCArIGZvdW5kWzBdLmxlbmd0aFxuICAgICAgICBsaW5lW3Byb3BdID0gY3VyLnNsaWNlKDAsIGZvdW5kLmluZGV4KSArICghZm91bmQuaW5kZXggfHwgZW5kID09IGN1ci5sZW5ndGggPyBcIlwiIDogXCIgXCIpICsgY3VyLnNsaWNlKGVuZCkgfHwgbnVsbFxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9KVxuICB9KSxcblxuICBhZGRMaW5lV2lkZ2V0OiBkb2NNZXRob2RPcChmdW5jdGlvbihoYW5kbGUsIG5vZGUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gYWRkTGluZVdpZGdldCh0aGlzLCBoYW5kbGUsIG5vZGUsIG9wdGlvbnMpXG4gIH0pLFxuICByZW1vdmVMaW5lV2lkZ2V0OiBmdW5jdGlvbih3aWRnZXQpIHsgd2lkZ2V0LmNsZWFyKCkgfSxcblxuICBtYXJrVGV4dDogZnVuY3Rpb24oZnJvbSwgdG8sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbWFya1RleHQodGhpcywgY2xpcFBvcyh0aGlzLCBmcm9tKSwgY2xpcFBvcyh0aGlzLCB0byksIG9wdGlvbnMsIG9wdGlvbnMgJiYgb3B0aW9ucy50eXBlIHx8IFwicmFuZ2VcIilcbiAgfSxcbiAgc2V0Qm9va21hcms6IGZ1bmN0aW9uKHBvcywgb3B0aW9ucykge1xuICAgIHZhciByZWFsT3B0cyA9IHtyZXBsYWNlZFdpdGg6IG9wdGlvbnMgJiYgKG9wdGlvbnMubm9kZVR5cGUgPT0gbnVsbCA/IG9wdGlvbnMud2lkZ2V0IDogb3B0aW9ucyksXG4gICAgICAgICAgICAgICAgICAgIGluc2VydExlZnQ6IG9wdGlvbnMgJiYgb3B0aW9ucy5pbnNlcnRMZWZ0LFxuICAgICAgICAgICAgICAgICAgICBjbGVhcldoZW5FbXB0eTogZmFsc2UsIHNoYXJlZDogb3B0aW9ucyAmJiBvcHRpb25zLnNoYXJlZCxcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlTW91c2VFdmVudHM6IG9wdGlvbnMgJiYgb3B0aW9ucy5oYW5kbGVNb3VzZUV2ZW50c31cbiAgICBwb3MgPSBjbGlwUG9zKHRoaXMsIHBvcylcbiAgICByZXR1cm4gbWFya1RleHQodGhpcywgcG9zLCBwb3MsIHJlYWxPcHRzLCBcImJvb2ttYXJrXCIpXG4gIH0sXG4gIGZpbmRNYXJrc0F0OiBmdW5jdGlvbihwb3MpIHtcbiAgICBwb3MgPSBjbGlwUG9zKHRoaXMsIHBvcylcbiAgICB2YXIgbWFya2VycyA9IFtdLCBzcGFucyA9IGdldExpbmUodGhpcywgcG9zLmxpbmUpLm1hcmtlZFNwYW5zXG4gICAgaWYgKHNwYW5zKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgc3BhbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBzcGFuID0gc3BhbnNbaV1cbiAgICAgIGlmICgoc3Bhbi5mcm9tID09IG51bGwgfHwgc3Bhbi5mcm9tIDw9IHBvcy5jaCkgJiZcbiAgICAgICAgICAoc3Bhbi50byA9PSBudWxsIHx8IHNwYW4udG8gPj0gcG9zLmNoKSlcbiAgICAgICAgeyBtYXJrZXJzLnB1c2goc3Bhbi5tYXJrZXIucGFyZW50IHx8IHNwYW4ubWFya2VyKSB9XG4gICAgfSB9XG4gICAgcmV0dXJuIG1hcmtlcnNcbiAgfSxcbiAgZmluZE1hcmtzOiBmdW5jdGlvbihmcm9tLCB0bywgZmlsdGVyKSB7XG4gICAgZnJvbSA9IGNsaXBQb3ModGhpcywgZnJvbSk7IHRvID0gY2xpcFBvcyh0aGlzLCB0bylcbiAgICB2YXIgZm91bmQgPSBbXSwgbGluZU5vID0gZnJvbS5saW5lXG4gICAgdGhpcy5pdGVyKGZyb20ubGluZSwgdG8ubGluZSArIDEsIGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICB2YXIgc3BhbnMgPSBsaW5lLm1hcmtlZFNwYW5zXG4gICAgICBpZiAoc3BhbnMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGFucy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc3BhbiA9IHNwYW5zW2ldXG4gICAgICAgIGlmICghKHNwYW4udG8gIT0gbnVsbCAmJiBsaW5lTm8gPT0gZnJvbS5saW5lICYmIGZyb20uY2ggPj0gc3Bhbi50byB8fFxuICAgICAgICAgICAgICBzcGFuLmZyb20gPT0gbnVsbCAmJiBsaW5lTm8gIT0gZnJvbS5saW5lIHx8XG4gICAgICAgICAgICAgIHNwYW4uZnJvbSAhPSBudWxsICYmIGxpbmVObyA9PSB0by5saW5lICYmIHNwYW4uZnJvbSA+PSB0by5jaCkgJiZcbiAgICAgICAgICAgICghZmlsdGVyIHx8IGZpbHRlcihzcGFuLm1hcmtlcikpKVxuICAgICAgICAgIHsgZm91bmQucHVzaChzcGFuLm1hcmtlci5wYXJlbnQgfHwgc3Bhbi5tYXJrZXIpIH1cbiAgICAgIH0gfVxuICAgICAgKytsaW5lTm9cbiAgICB9KVxuICAgIHJldHVybiBmb3VuZFxuICB9LFxuICBnZXRBbGxNYXJrczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG1hcmtlcnMgPSBbXVxuICAgIHRoaXMuaXRlcihmdW5jdGlvbiAobGluZSkge1xuICAgICAgdmFyIHNwcyA9IGxpbmUubWFya2VkU3BhbnNcbiAgICAgIGlmIChzcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBzcHMubGVuZ3RoOyArK2kpXG4gICAgICAgIHsgaWYgKHNwc1tpXS5mcm9tICE9IG51bGwpIHsgbWFya2Vycy5wdXNoKHNwc1tpXS5tYXJrZXIpIH0gfSB9XG4gICAgfSlcbiAgICByZXR1cm4gbWFya2Vyc1xuICB9LFxuXG4gIHBvc0Zyb21JbmRleDogZnVuY3Rpb24ob2ZmKSB7XG4gICAgdmFyIGNoLCBsaW5lTm8gPSB0aGlzLmZpcnN0LCBzZXBTaXplID0gdGhpcy5saW5lU2VwYXJhdG9yKCkubGVuZ3RoXG4gICAgdGhpcy5pdGVyKGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICB2YXIgc3ogPSBsaW5lLnRleHQubGVuZ3RoICsgc2VwU2l6ZVxuICAgICAgaWYgKHN6ID4gb2ZmKSB7IGNoID0gb2ZmOyByZXR1cm4gdHJ1ZSB9XG4gICAgICBvZmYgLT0gc3pcbiAgICAgICsrbGluZU5vXG4gICAgfSlcbiAgICByZXR1cm4gY2xpcFBvcyh0aGlzLCBQb3MobGluZU5vLCBjaCkpXG4gIH0sXG4gIGluZGV4RnJvbVBvczogZnVuY3Rpb24gKGNvb3Jkcykge1xuICAgIGNvb3JkcyA9IGNsaXBQb3ModGhpcywgY29vcmRzKVxuICAgIHZhciBpbmRleCA9IGNvb3Jkcy5jaFxuICAgIGlmIChjb29yZHMubGluZSA8IHRoaXMuZmlyc3QgfHwgY29vcmRzLmNoIDwgMCkgeyByZXR1cm4gMCB9XG4gICAgdmFyIHNlcFNpemUgPSB0aGlzLmxpbmVTZXBhcmF0b3IoKS5sZW5ndGhcbiAgICB0aGlzLml0ZXIodGhpcy5maXJzdCwgY29vcmRzLmxpbmUsIGZ1bmN0aW9uIChsaW5lKSB7IC8vIGl0ZXIgYWJvcnRzIHdoZW4gY2FsbGJhY2sgcmV0dXJucyBhIHRydXRoeSB2YWx1ZVxuICAgICAgaW5kZXggKz0gbGluZS50ZXh0Lmxlbmd0aCArIHNlcFNpemVcbiAgICB9KVxuICAgIHJldHVybiBpbmRleFxuICB9LFxuXG4gIGNvcHk6IGZ1bmN0aW9uKGNvcHlIaXN0b3J5KSB7XG4gICAgdmFyIGRvYyA9IG5ldyBEb2MoZ2V0TGluZXModGhpcywgdGhpcy5maXJzdCwgdGhpcy5maXJzdCArIHRoaXMuc2l6ZSksXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2RlT3B0aW9uLCB0aGlzLmZpcnN0LCB0aGlzLmxpbmVTZXApXG4gICAgZG9jLnNjcm9sbFRvcCA9IHRoaXMuc2Nyb2xsVG9wOyBkb2Muc2Nyb2xsTGVmdCA9IHRoaXMuc2Nyb2xsTGVmdFxuICAgIGRvYy5zZWwgPSB0aGlzLnNlbFxuICAgIGRvYy5leHRlbmQgPSBmYWxzZVxuICAgIGlmIChjb3B5SGlzdG9yeSkge1xuICAgICAgZG9jLmhpc3RvcnkudW5kb0RlcHRoID0gdGhpcy5oaXN0b3J5LnVuZG9EZXB0aFxuICAgICAgZG9jLnNldEhpc3RvcnkodGhpcy5nZXRIaXN0b3J5KCkpXG4gICAgfVxuICAgIHJldHVybiBkb2NcbiAgfSxcblxuICBsaW5rZWREb2M6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHsgb3B0aW9ucyA9IHt9IH1cbiAgICB2YXIgZnJvbSA9IHRoaXMuZmlyc3QsIHRvID0gdGhpcy5maXJzdCArIHRoaXMuc2l6ZVxuICAgIGlmIChvcHRpb25zLmZyb20gIT0gbnVsbCAmJiBvcHRpb25zLmZyb20gPiBmcm9tKSB7IGZyb20gPSBvcHRpb25zLmZyb20gfVxuICAgIGlmIChvcHRpb25zLnRvICE9IG51bGwgJiYgb3B0aW9ucy50byA8IHRvKSB7IHRvID0gb3B0aW9ucy50byB9XG4gICAgdmFyIGNvcHkgPSBuZXcgRG9jKGdldExpbmVzKHRoaXMsIGZyb20sIHRvKSwgb3B0aW9ucy5tb2RlIHx8IHRoaXMubW9kZU9wdGlvbiwgZnJvbSwgdGhpcy5saW5lU2VwKVxuICAgIGlmIChvcHRpb25zLnNoYXJlZEhpc3QpIHsgY29weS5oaXN0b3J5ID0gdGhpcy5oaXN0b3J5XG4gICAgOyB9KHRoaXMubGlua2VkIHx8ICh0aGlzLmxpbmtlZCA9IFtdKSkucHVzaCh7ZG9jOiBjb3B5LCBzaGFyZWRIaXN0OiBvcHRpb25zLnNoYXJlZEhpc3R9KVxuICAgIGNvcHkubGlua2VkID0gW3tkb2M6IHRoaXMsIGlzUGFyZW50OiB0cnVlLCBzaGFyZWRIaXN0OiBvcHRpb25zLnNoYXJlZEhpc3R9XVxuICAgIGNvcHlTaGFyZWRNYXJrZXJzKGNvcHksIGZpbmRTaGFyZWRNYXJrZXJzKHRoaXMpKVxuICAgIHJldHVybiBjb3B5XG4gIH0sXG4gIHVubGlua0RvYzogZnVuY3Rpb24ob3RoZXIpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIENvZGVNaXJyb3IpIHsgb3RoZXIgPSBvdGhlci5kb2MgfVxuICAgIGlmICh0aGlzLmxpbmtlZCkgeyBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGlua2VkLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgbGluayA9IHRoaXMkMS5saW5rZWRbaV1cbiAgICAgIGlmIChsaW5rLmRvYyAhPSBvdGhlcikgeyBjb250aW51ZSB9XG4gICAgICB0aGlzJDEubGlua2VkLnNwbGljZShpLCAxKVxuICAgICAgb3RoZXIudW5saW5rRG9jKHRoaXMkMSlcbiAgICAgIGRldGFjaFNoYXJlZE1hcmtlcnMoZmluZFNoYXJlZE1hcmtlcnModGhpcyQxKSlcbiAgICAgIGJyZWFrXG4gICAgfSB9XG4gICAgLy8gSWYgdGhlIGhpc3RvcmllcyB3ZXJlIHNoYXJlZCwgc3BsaXQgdGhlbSBhZ2FpblxuICAgIGlmIChvdGhlci5oaXN0b3J5ID09IHRoaXMuaGlzdG9yeSkge1xuICAgICAgdmFyIHNwbGl0SWRzID0gW290aGVyLmlkXVxuICAgICAgbGlua2VkRG9jcyhvdGhlciwgZnVuY3Rpb24gKGRvYykgeyByZXR1cm4gc3BsaXRJZHMucHVzaChkb2MuaWQpOyB9LCB0cnVlKVxuICAgICAgb3RoZXIuaGlzdG9yeSA9IG5ldyBIaXN0b3J5KG51bGwpXG4gICAgICBvdGhlci5oaXN0b3J5LmRvbmUgPSBjb3B5SGlzdG9yeUFycmF5KHRoaXMuaGlzdG9yeS5kb25lLCBzcGxpdElkcylcbiAgICAgIG90aGVyLmhpc3RvcnkudW5kb25lID0gY29weUhpc3RvcnlBcnJheSh0aGlzLmhpc3RvcnkudW5kb25lLCBzcGxpdElkcylcbiAgICB9XG4gIH0sXG4gIGl0ZXJMaW5rZWREb2NzOiBmdW5jdGlvbihmKSB7bGlua2VkRG9jcyh0aGlzLCBmKX0sXG5cbiAgZ2V0TW9kZTogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMubW9kZX0sXG4gIGdldEVkaXRvcjogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMuY219LFxuXG4gIHNwbGl0TGluZXM6IGZ1bmN0aW9uKHN0cikge1xuICAgIGlmICh0aGlzLmxpbmVTZXApIHsgcmV0dXJuIHN0ci5zcGxpdCh0aGlzLmxpbmVTZXApIH1cbiAgICByZXR1cm4gc3BsaXRMaW5lc0F1dG8oc3RyKVxuICB9LFxuICBsaW5lU2VwYXJhdG9yOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMubGluZVNlcCB8fCBcIlxcblwiIH1cbn0pXG5cbi8vIFB1YmxpYyBhbGlhcy5cbkRvYy5wcm90b3R5cGUuZWFjaExpbmUgPSBEb2MucHJvdG90eXBlLml0ZXJcblxuLy8gS2x1ZGdlIHRvIHdvcmsgYXJvdW5kIHN0cmFuZ2UgSUUgYmVoYXZpb3Igd2hlcmUgaXQnbGwgc29tZXRpbWVzXG4vLyByZS1maXJlIGEgc2VyaWVzIG9mIGRyYWctcmVsYXRlZCBldmVudHMgcmlnaHQgYWZ0ZXIgdGhlIGRyb3AgKCMxNTUxKVxudmFyIGxhc3REcm9wID0gMFxuXG5mdW5jdGlvbiBvbkRyb3AoZSkge1xuICB2YXIgY20gPSB0aGlzXG4gIGNsZWFyRHJhZ0N1cnNvcihjbSlcbiAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBlKSB8fCBldmVudEluV2lkZ2V0KGNtLmRpc3BsYXksIGUpKVxuICAgIHsgcmV0dXJuIH1cbiAgZV9wcmV2ZW50RGVmYXVsdChlKVxuICBpZiAoaWUpIHsgbGFzdERyb3AgPSArbmV3IERhdGUgfVxuICB2YXIgcG9zID0gcG9zRnJvbU1vdXNlKGNtLCBlLCB0cnVlKSwgZmlsZXMgPSBlLmRhdGFUcmFuc2Zlci5maWxlc1xuICBpZiAoIXBvcyB8fCBjbS5pc1JlYWRPbmx5KCkpIHsgcmV0dXJuIH1cbiAgLy8gTWlnaHQgYmUgYSBmaWxlIGRyb3AsIGluIHdoaWNoIGNhc2Ugd2Ugc2ltcGx5IGV4dHJhY3QgdGhlIHRleHRcbiAgLy8gYW5kIGluc2VydCBpdC5cbiAgaWYgKGZpbGVzICYmIGZpbGVzLmxlbmd0aCAmJiB3aW5kb3cuRmlsZVJlYWRlciAmJiB3aW5kb3cuRmlsZSkge1xuICAgIHZhciBuID0gZmlsZXMubGVuZ3RoLCB0ZXh0ID0gQXJyYXkobiksIHJlYWQgPSAwXG4gICAgdmFyIGxvYWRGaWxlID0gZnVuY3Rpb24gKGZpbGUsIGkpIHtcbiAgICAgIGlmIChjbS5vcHRpb25zLmFsbG93RHJvcEZpbGVUeXBlcyAmJlxuICAgICAgICAgIGluZGV4T2YoY20ub3B0aW9ucy5hbGxvd0Ryb3BGaWxlVHlwZXMsIGZpbGUudHlwZSkgPT0gLTEpXG4gICAgICAgIHsgcmV0dXJuIH1cblxuICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyXG4gICAgICByZWFkZXIub25sb2FkID0gb3BlcmF0aW9uKGNtLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb250ZW50ID0gcmVhZGVyLnJlc3VsdFxuICAgICAgICBpZiAoL1tcXHgwMC1cXHgwOFxceDBlLVxceDFmXXsyfS8udGVzdChjb250ZW50KSkgeyBjb250ZW50ID0gXCJcIiB9XG4gICAgICAgIHRleHRbaV0gPSBjb250ZW50XG4gICAgICAgIGlmICgrK3JlYWQgPT0gbikge1xuICAgICAgICAgIHBvcyA9IGNsaXBQb3MoY20uZG9jLCBwb3MpXG4gICAgICAgICAgdmFyIGNoYW5nZSA9IHtmcm9tOiBwb3MsIHRvOiBwb3MsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBjbS5kb2Muc3BsaXRMaW5lcyh0ZXh0LmpvaW4oY20uZG9jLmxpbmVTZXBhcmF0b3IoKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luOiBcInBhc3RlXCJ9XG4gICAgICAgICAgbWFrZUNoYW5nZShjbS5kb2MsIGNoYW5nZSlcbiAgICAgICAgICBzZXRTZWxlY3Rpb25SZXBsYWNlSGlzdG9yeShjbS5kb2MsIHNpbXBsZVNlbGVjdGlvbihwb3MsIGNoYW5nZUVuZChjaGFuZ2UpKSlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGZpbGUpXG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKSB7IGxvYWRGaWxlKGZpbGVzW2ldLCBpKSB9XG4gIH0gZWxzZSB7IC8vIE5vcm1hbCBkcm9wXG4gICAgLy8gRG9uJ3QgZG8gYSByZXBsYWNlIGlmIHRoZSBkcm9wIGhhcHBlbmVkIGluc2lkZSBvZiB0aGUgc2VsZWN0ZWQgdGV4dC5cbiAgICBpZiAoY20uc3RhdGUuZHJhZ2dpbmdUZXh0ICYmIGNtLmRvYy5zZWwuY29udGFpbnMocG9zKSA+IC0xKSB7XG4gICAgICBjbS5zdGF0ZS5kcmFnZ2luZ1RleHQoZSlcbiAgICAgIC8vIEVuc3VyZSB0aGUgZWRpdG9yIGlzIHJlLWZvY3VzZWRcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gY20uZGlzcGxheS5pbnB1dC5mb2N1cygpOyB9LCAyMClcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB0cnkge1xuICAgICAgdmFyIHRleHQkMSA9IGUuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJUZXh0XCIpXG4gICAgICBpZiAodGV4dCQxKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZFxuICAgICAgICBpZiAoY20uc3RhdGUuZHJhZ2dpbmdUZXh0ICYmICFjbS5zdGF0ZS5kcmFnZ2luZ1RleHQuY29weSlcbiAgICAgICAgICB7IHNlbGVjdGVkID0gY20ubGlzdFNlbGVjdGlvbnMoKSB9XG4gICAgICAgIHNldFNlbGVjdGlvbk5vVW5kbyhjbS5kb2MsIHNpbXBsZVNlbGVjdGlvbihwb3MsIHBvcykpXG4gICAgICAgIGlmIChzZWxlY3RlZCkgeyBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBzZWxlY3RlZC5sZW5ndGg7ICsraSQxKVxuICAgICAgICAgIHsgcmVwbGFjZVJhbmdlKGNtLmRvYywgXCJcIiwgc2VsZWN0ZWRbaSQxXS5hbmNob3IsIHNlbGVjdGVkW2kkMV0uaGVhZCwgXCJkcmFnXCIpIH0gfVxuICAgICAgICBjbS5yZXBsYWNlU2VsZWN0aW9uKHRleHQkMSwgXCJhcm91bmRcIiwgXCJwYXN0ZVwiKVxuICAgICAgICBjbS5kaXNwbGF5LmlucHV0LmZvY3VzKClcbiAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2goZSl7fVxuICB9XG59XG5cbmZ1bmN0aW9uIG9uRHJhZ1N0YXJ0KGNtLCBlKSB7XG4gIGlmIChpZSAmJiAoIWNtLnN0YXRlLmRyYWdnaW5nVGV4dCB8fCArbmV3IERhdGUgLSBsYXN0RHJvcCA8IDEwMCkpIHsgZV9zdG9wKGUpOyByZXR1cm4gfVxuICBpZiAoc2lnbmFsRE9NRXZlbnQoY20sIGUpIHx8IGV2ZW50SW5XaWRnZXQoY20uZGlzcGxheSwgZSkpIHsgcmV0dXJuIH1cblxuICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwiVGV4dFwiLCBjbS5nZXRTZWxlY3Rpb24oKSlcbiAgZS5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9IFwiY29weU1vdmVcIlxuXG4gIC8vIFVzZSBkdW1teSBpbWFnZSBpbnN0ZWFkIG9mIGRlZmF1bHQgYnJvd3NlcnMgaW1hZ2UuXG4gIC8vIFJlY2VudCBTYWZhcmkgKH42LjAuMikgaGF2ZSBhIHRlbmRlbmN5IHRvIHNlZ2ZhdWx0IHdoZW4gdGhpcyBoYXBwZW5zLCBzbyB3ZSBkb24ndCBkbyBpdCB0aGVyZS5cbiAgaWYgKGUuZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZSAmJiAhc2FmYXJpKSB7XG4gICAgdmFyIGltZyA9IGVsdChcImltZ1wiLCBudWxsLCBudWxsLCBcInBvc2l0aW9uOiBmaXhlZDsgbGVmdDogMDsgdG9wOiAwO1wiKVxuICAgIGltZy5zcmMgPSBcImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBQUFBQUNINUJBRUtBQUVBTEFBQUFBQUJBQUVBQUFJQ1RBRUFPdz09XCJcbiAgICBpZiAocHJlc3RvKSB7XG4gICAgICBpbWcud2lkdGggPSBpbWcuaGVpZ2h0ID0gMVxuICAgICAgY20uZGlzcGxheS53cmFwcGVyLmFwcGVuZENoaWxkKGltZylcbiAgICAgIC8vIEZvcmNlIGEgcmVsYXlvdXQsIG9yIE9wZXJhIHdvbid0IHVzZSBvdXIgaW1hZ2UgZm9yIHNvbWUgb2JzY3VyZSByZWFzb25cbiAgICAgIGltZy5fdG9wID0gaW1nLm9mZnNldFRvcFxuICAgIH1cbiAgICBlLmRhdGFUcmFuc2Zlci5zZXREcmFnSW1hZ2UoaW1nLCAwLCAwKVxuICAgIGlmIChwcmVzdG8pIHsgaW1nLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaW1nKSB9XG4gIH1cbn1cblxuZnVuY3Rpb24gb25EcmFnT3ZlcihjbSwgZSkge1xuICB2YXIgcG9zID0gcG9zRnJvbU1vdXNlKGNtLCBlKVxuICBpZiAoIXBvcykgeyByZXR1cm4gfVxuICB2YXIgZnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKVxuICBkcmF3U2VsZWN0aW9uQ3Vyc29yKGNtLCBwb3MsIGZyYWcpXG4gIGlmICghY20uZGlzcGxheS5kcmFnQ3Vyc29yKSB7XG4gICAgY20uZGlzcGxheS5kcmFnQ3Vyc29yID0gZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1jdXJzb3JzIENvZGVNaXJyb3ItZHJhZ2N1cnNvcnNcIilcbiAgICBjbS5kaXNwbGF5LmxpbmVTcGFjZS5pbnNlcnRCZWZvcmUoY20uZGlzcGxheS5kcmFnQ3Vyc29yLCBjbS5kaXNwbGF5LmN1cnNvckRpdilcbiAgfVxuICByZW1vdmVDaGlsZHJlbkFuZEFkZChjbS5kaXNwbGF5LmRyYWdDdXJzb3IsIGZyYWcpXG59XG5cbmZ1bmN0aW9uIGNsZWFyRHJhZ0N1cnNvcihjbSkge1xuICBpZiAoY20uZGlzcGxheS5kcmFnQ3Vyc29yKSB7XG4gICAgY20uZGlzcGxheS5saW5lU3BhY2UucmVtb3ZlQ2hpbGQoY20uZGlzcGxheS5kcmFnQ3Vyc29yKVxuICAgIGNtLmRpc3BsYXkuZHJhZ0N1cnNvciA9IG51bGxcbiAgfVxufVxuXG4vLyBUaGVzZSBtdXN0IGJlIGhhbmRsZWQgY2FyZWZ1bGx5LCBiZWNhdXNlIG5haXZlbHkgcmVnaXN0ZXJpbmcgYVxuLy8gaGFuZGxlciBmb3IgZWFjaCBlZGl0b3Igd2lsbCBjYXVzZSB0aGUgZWRpdG9ycyB0byBuZXZlciBiZVxuLy8gZ2FyYmFnZSBjb2xsZWN0ZWQuXG5cbmZ1bmN0aW9uIGZvckVhY2hDb2RlTWlycm9yKGYpIHtcbiAgaWYgKCFkb2N1bWVudC5ib2R5LmdldEVsZW1lbnRzQnlDbGFzc05hbWUpIHsgcmV0dXJuIH1cbiAgdmFyIGJ5Q2xhc3MgPSBkb2N1bWVudC5ib2R5LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJDb2RlTWlycm9yXCIpXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYnlDbGFzcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBjbSA9IGJ5Q2xhc3NbaV0uQ29kZU1pcnJvclxuICAgIGlmIChjbSkgeyBmKGNtKSB9XG4gIH1cbn1cblxudmFyIGdsb2JhbHNSZWdpc3RlcmVkID0gZmFsc2VcbmZ1bmN0aW9uIGVuc3VyZUdsb2JhbEhhbmRsZXJzKCkge1xuICBpZiAoZ2xvYmFsc1JlZ2lzdGVyZWQpIHsgcmV0dXJuIH1cbiAgcmVnaXN0ZXJHbG9iYWxIYW5kbGVycygpXG4gIGdsb2JhbHNSZWdpc3RlcmVkID0gdHJ1ZVxufVxuZnVuY3Rpb24gcmVnaXN0ZXJHbG9iYWxIYW5kbGVycygpIHtcbiAgLy8gV2hlbiB0aGUgd2luZG93IHJlc2l6ZXMsIHdlIG5lZWQgdG8gcmVmcmVzaCBhY3RpdmUgZWRpdG9ycy5cbiAgdmFyIHJlc2l6ZVRpbWVyXG4gIG9uKHdpbmRvdywgXCJyZXNpemVcIiwgZnVuY3Rpb24gKCkge1xuICAgIGlmIChyZXNpemVUaW1lciA9PSBudWxsKSB7IHJlc2l6ZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICByZXNpemVUaW1lciA9IG51bGxcbiAgICAgIGZvckVhY2hDb2RlTWlycm9yKG9uUmVzaXplKVxuICAgIH0sIDEwMCkgfVxuICB9KVxuICAvLyBXaGVuIHRoZSB3aW5kb3cgbG9zZXMgZm9jdXMsIHdlIHdhbnQgdG8gc2hvdyB0aGUgZWRpdG9yIGFzIGJsdXJyZWRcbiAgb24od2luZG93LCBcImJsdXJcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gZm9yRWFjaENvZGVNaXJyb3Iob25CbHVyKTsgfSlcbn1cbi8vIENhbGxlZCB3aGVuIHRoZSB3aW5kb3cgcmVzaXplc1xuZnVuY3Rpb24gb25SZXNpemUoY20pIHtcbiAgdmFyIGQgPSBjbS5kaXNwbGF5XG4gIGlmIChkLmxhc3RXcmFwSGVpZ2h0ID09IGQud3JhcHBlci5jbGllbnRIZWlnaHQgJiYgZC5sYXN0V3JhcFdpZHRoID09IGQud3JhcHBlci5jbGllbnRXaWR0aClcbiAgICB7IHJldHVybiB9XG4gIC8vIE1pZ2h0IGJlIGEgdGV4dCBzY2FsaW5nIG9wZXJhdGlvbiwgY2xlYXIgc2l6ZSBjYWNoZXMuXG4gIGQuY2FjaGVkQ2hhcldpZHRoID0gZC5jYWNoZWRUZXh0SGVpZ2h0ID0gZC5jYWNoZWRQYWRkaW5nSCA9IG51bGxcbiAgZC5zY3JvbGxiYXJzQ2xpcHBlZCA9IGZhbHNlXG4gIGNtLnNldFNpemUoKVxufVxuXG52YXIga2V5TmFtZXMgPSB7XG4gIDM6IFwiRW50ZXJcIiwgODogXCJCYWNrc3BhY2VcIiwgOTogXCJUYWJcIiwgMTM6IFwiRW50ZXJcIiwgMTY6IFwiU2hpZnRcIiwgMTc6IFwiQ3RybFwiLCAxODogXCJBbHRcIixcbiAgMTk6IFwiUGF1c2VcIiwgMjA6IFwiQ2Fwc0xvY2tcIiwgMjc6IFwiRXNjXCIsIDMyOiBcIlNwYWNlXCIsIDMzOiBcIlBhZ2VVcFwiLCAzNDogXCJQYWdlRG93blwiLCAzNTogXCJFbmRcIixcbiAgMzY6IFwiSG9tZVwiLCAzNzogXCJMZWZ0XCIsIDM4OiBcIlVwXCIsIDM5OiBcIlJpZ2h0XCIsIDQwOiBcIkRvd25cIiwgNDQ6IFwiUHJpbnRTY3JuXCIsIDQ1OiBcIkluc2VydFwiLFxuICA0NjogXCJEZWxldGVcIiwgNTk6IFwiO1wiLCA2MTogXCI9XCIsIDkxOiBcIk1vZFwiLCA5MjogXCJNb2RcIiwgOTM6IFwiTW9kXCIsXG4gIDEwNjogXCIqXCIsIDEwNzogXCI9XCIsIDEwOTogXCItXCIsIDExMDogXCIuXCIsIDExMTogXCIvXCIsIDEyNzogXCJEZWxldGVcIixcbiAgMTczOiBcIi1cIiwgMTg2OiBcIjtcIiwgMTg3OiBcIj1cIiwgMTg4OiBcIixcIiwgMTg5OiBcIi1cIiwgMTkwOiBcIi5cIiwgMTkxOiBcIi9cIiwgMTkyOiBcImBcIiwgMjE5OiBcIltcIiwgMjIwOiBcIlxcXFxcIixcbiAgMjIxOiBcIl1cIiwgMjIyOiBcIidcIiwgNjMyMzI6IFwiVXBcIiwgNjMyMzM6IFwiRG93blwiLCA2MzIzNDogXCJMZWZ0XCIsIDYzMjM1OiBcIlJpZ2h0XCIsIDYzMjcyOiBcIkRlbGV0ZVwiLFxuICA2MzI3MzogXCJIb21lXCIsIDYzMjc1OiBcIkVuZFwiLCA2MzI3NjogXCJQYWdlVXBcIiwgNjMyNzc6IFwiUGFnZURvd25cIiwgNjMzMDI6IFwiSW5zZXJ0XCJcbn1cblxuLy8gTnVtYmVyIGtleXNcbmZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykgeyBrZXlOYW1lc1tpICsgNDhdID0ga2V5TmFtZXNbaSArIDk2XSA9IFN0cmluZyhpKSB9XG4vLyBBbHBoYWJldGljIGtleXNcbmZvciAodmFyIGkkMSA9IDY1OyBpJDEgPD0gOTA7IGkkMSsrKSB7IGtleU5hbWVzW2kkMV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGkkMSkgfVxuLy8gRnVuY3Rpb24ga2V5c1xuZm9yICh2YXIgaSQyID0gMTsgaSQyIDw9IDEyOyBpJDIrKykgeyBrZXlOYW1lc1tpJDIgKyAxMTFdID0ga2V5TmFtZXNbaSQyICsgNjMyMzVdID0gXCJGXCIgKyBpJDIgfVxuXG52YXIga2V5TWFwID0ge31cblxua2V5TWFwLmJhc2ljID0ge1xuICBcIkxlZnRcIjogXCJnb0NoYXJMZWZ0XCIsIFwiUmlnaHRcIjogXCJnb0NoYXJSaWdodFwiLCBcIlVwXCI6IFwiZ29MaW5lVXBcIiwgXCJEb3duXCI6IFwiZ29MaW5lRG93blwiLFxuICBcIkVuZFwiOiBcImdvTGluZUVuZFwiLCBcIkhvbWVcIjogXCJnb0xpbmVTdGFydFNtYXJ0XCIsIFwiUGFnZVVwXCI6IFwiZ29QYWdlVXBcIiwgXCJQYWdlRG93blwiOiBcImdvUGFnZURvd25cIixcbiAgXCJEZWxldGVcIjogXCJkZWxDaGFyQWZ0ZXJcIiwgXCJCYWNrc3BhY2VcIjogXCJkZWxDaGFyQmVmb3JlXCIsIFwiU2hpZnQtQmFja3NwYWNlXCI6IFwiZGVsQ2hhckJlZm9yZVwiLFxuICBcIlRhYlwiOiBcImRlZmF1bHRUYWJcIiwgXCJTaGlmdC1UYWJcIjogXCJpbmRlbnRBdXRvXCIsXG4gIFwiRW50ZXJcIjogXCJuZXdsaW5lQW5kSW5kZW50XCIsIFwiSW5zZXJ0XCI6IFwidG9nZ2xlT3ZlcndyaXRlXCIsXG4gIFwiRXNjXCI6IFwic2luZ2xlU2VsZWN0aW9uXCJcbn1cbi8vIE5vdGUgdGhhdCB0aGUgc2F2ZSBhbmQgZmluZC1yZWxhdGVkIGNvbW1hbmRzIGFyZW4ndCBkZWZpbmVkIGJ5XG4vLyBkZWZhdWx0LiBVc2VyIGNvZGUgb3IgYWRkb25zIGNhbiBkZWZpbmUgdGhlbS4gVW5rbm93biBjb21tYW5kc1xuLy8gYXJlIHNpbXBseSBpZ25vcmVkLlxua2V5TWFwLnBjRGVmYXVsdCA9IHtcbiAgXCJDdHJsLUFcIjogXCJzZWxlY3RBbGxcIiwgXCJDdHJsLURcIjogXCJkZWxldGVMaW5lXCIsIFwiQ3RybC1aXCI6IFwidW5kb1wiLCBcIlNoaWZ0LUN0cmwtWlwiOiBcInJlZG9cIiwgXCJDdHJsLVlcIjogXCJyZWRvXCIsXG4gIFwiQ3RybC1Ib21lXCI6IFwiZ29Eb2NTdGFydFwiLCBcIkN0cmwtRW5kXCI6IFwiZ29Eb2NFbmRcIiwgXCJDdHJsLVVwXCI6IFwiZ29MaW5lVXBcIiwgXCJDdHJsLURvd25cIjogXCJnb0xpbmVEb3duXCIsXG4gIFwiQ3RybC1MZWZ0XCI6IFwiZ29Hcm91cExlZnRcIiwgXCJDdHJsLVJpZ2h0XCI6IFwiZ29Hcm91cFJpZ2h0XCIsIFwiQWx0LUxlZnRcIjogXCJnb0xpbmVTdGFydFwiLCBcIkFsdC1SaWdodFwiOiBcImdvTGluZUVuZFwiLFxuICBcIkN0cmwtQmFja3NwYWNlXCI6IFwiZGVsR3JvdXBCZWZvcmVcIiwgXCJDdHJsLURlbGV0ZVwiOiBcImRlbEdyb3VwQWZ0ZXJcIiwgXCJDdHJsLVNcIjogXCJzYXZlXCIsIFwiQ3RybC1GXCI6IFwiZmluZFwiLFxuICBcIkN0cmwtR1wiOiBcImZpbmROZXh0XCIsIFwiU2hpZnQtQ3RybC1HXCI6IFwiZmluZFByZXZcIiwgXCJTaGlmdC1DdHJsLUZcIjogXCJyZXBsYWNlXCIsIFwiU2hpZnQtQ3RybC1SXCI6IFwicmVwbGFjZUFsbFwiLFxuICBcIkN0cmwtW1wiOiBcImluZGVudExlc3NcIiwgXCJDdHJsLV1cIjogXCJpbmRlbnRNb3JlXCIsXG4gIFwiQ3RybC1VXCI6IFwidW5kb1NlbGVjdGlvblwiLCBcIlNoaWZ0LUN0cmwtVVwiOiBcInJlZG9TZWxlY3Rpb25cIiwgXCJBbHQtVVwiOiBcInJlZG9TZWxlY3Rpb25cIixcbiAgZmFsbHRocm91Z2g6IFwiYmFzaWNcIlxufVxuLy8gVmVyeSBiYXNpYyByZWFkbGluZS9lbWFjcy1zdHlsZSBiaW5kaW5ncywgd2hpY2ggYXJlIHN0YW5kYXJkIG9uIE1hYy5cbmtleU1hcC5lbWFjc3kgPSB7XG4gIFwiQ3RybC1GXCI6IFwiZ29DaGFyUmlnaHRcIiwgXCJDdHJsLUJcIjogXCJnb0NoYXJMZWZ0XCIsIFwiQ3RybC1QXCI6IFwiZ29MaW5lVXBcIiwgXCJDdHJsLU5cIjogXCJnb0xpbmVEb3duXCIsXG4gIFwiQWx0LUZcIjogXCJnb1dvcmRSaWdodFwiLCBcIkFsdC1CXCI6IFwiZ29Xb3JkTGVmdFwiLCBcIkN0cmwtQVwiOiBcImdvTGluZVN0YXJ0XCIsIFwiQ3RybC1FXCI6IFwiZ29MaW5lRW5kXCIsXG4gIFwiQ3RybC1WXCI6IFwiZ29QYWdlRG93blwiLCBcIlNoaWZ0LUN0cmwtVlwiOiBcImdvUGFnZVVwXCIsIFwiQ3RybC1EXCI6IFwiZGVsQ2hhckFmdGVyXCIsIFwiQ3RybC1IXCI6IFwiZGVsQ2hhckJlZm9yZVwiLFxuICBcIkFsdC1EXCI6IFwiZGVsV29yZEFmdGVyXCIsIFwiQWx0LUJhY2tzcGFjZVwiOiBcImRlbFdvcmRCZWZvcmVcIiwgXCJDdHJsLUtcIjogXCJraWxsTGluZVwiLCBcIkN0cmwtVFwiOiBcInRyYW5zcG9zZUNoYXJzXCIsXG4gIFwiQ3RybC1PXCI6IFwib3BlbkxpbmVcIlxufVxua2V5TWFwLm1hY0RlZmF1bHQgPSB7XG4gIFwiQ21kLUFcIjogXCJzZWxlY3RBbGxcIiwgXCJDbWQtRFwiOiBcImRlbGV0ZUxpbmVcIiwgXCJDbWQtWlwiOiBcInVuZG9cIiwgXCJTaGlmdC1DbWQtWlwiOiBcInJlZG9cIiwgXCJDbWQtWVwiOiBcInJlZG9cIixcbiAgXCJDbWQtSG9tZVwiOiBcImdvRG9jU3RhcnRcIiwgXCJDbWQtVXBcIjogXCJnb0RvY1N0YXJ0XCIsIFwiQ21kLUVuZFwiOiBcImdvRG9jRW5kXCIsIFwiQ21kLURvd25cIjogXCJnb0RvY0VuZFwiLCBcIkFsdC1MZWZ0XCI6IFwiZ29Hcm91cExlZnRcIixcbiAgXCJBbHQtUmlnaHRcIjogXCJnb0dyb3VwUmlnaHRcIiwgXCJDbWQtTGVmdFwiOiBcImdvTGluZUxlZnRcIiwgXCJDbWQtUmlnaHRcIjogXCJnb0xpbmVSaWdodFwiLCBcIkFsdC1CYWNrc3BhY2VcIjogXCJkZWxHcm91cEJlZm9yZVwiLFxuICBcIkN0cmwtQWx0LUJhY2tzcGFjZVwiOiBcImRlbEdyb3VwQWZ0ZXJcIiwgXCJBbHQtRGVsZXRlXCI6IFwiZGVsR3JvdXBBZnRlclwiLCBcIkNtZC1TXCI6IFwic2F2ZVwiLCBcIkNtZC1GXCI6IFwiZmluZFwiLFxuICBcIkNtZC1HXCI6IFwiZmluZE5leHRcIiwgXCJTaGlmdC1DbWQtR1wiOiBcImZpbmRQcmV2XCIsIFwiQ21kLUFsdC1GXCI6IFwicmVwbGFjZVwiLCBcIlNoaWZ0LUNtZC1BbHQtRlwiOiBcInJlcGxhY2VBbGxcIixcbiAgXCJDbWQtW1wiOiBcImluZGVudExlc3NcIiwgXCJDbWQtXVwiOiBcImluZGVudE1vcmVcIiwgXCJDbWQtQmFja3NwYWNlXCI6IFwiZGVsV3JhcHBlZExpbmVMZWZ0XCIsIFwiQ21kLURlbGV0ZVwiOiBcImRlbFdyYXBwZWRMaW5lUmlnaHRcIixcbiAgXCJDbWQtVVwiOiBcInVuZG9TZWxlY3Rpb25cIiwgXCJTaGlmdC1DbWQtVVwiOiBcInJlZG9TZWxlY3Rpb25cIiwgXCJDdHJsLVVwXCI6IFwiZ29Eb2NTdGFydFwiLCBcIkN0cmwtRG93blwiOiBcImdvRG9jRW5kXCIsXG4gIGZhbGx0aHJvdWdoOiBbXCJiYXNpY1wiLCBcImVtYWNzeVwiXVxufVxua2V5TWFwW1wiZGVmYXVsdFwiXSA9IG1hYyA/IGtleU1hcC5tYWNEZWZhdWx0IDoga2V5TWFwLnBjRGVmYXVsdFxuXG4vLyBLRVlNQVAgRElTUEFUQ0hcblxuZnVuY3Rpb24gbm9ybWFsaXplS2V5TmFtZShuYW1lKSB7XG4gIHZhciBwYXJ0cyA9IG5hbWUuc3BsaXQoLy0oPyEkKS8pXG4gIG5hbWUgPSBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXVxuICB2YXIgYWx0LCBjdHJsLCBzaGlmdCwgY21kXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgdmFyIG1vZCA9IHBhcnRzW2ldXG4gICAgaWYgKC9eKGNtZHxtZXRhfG0pJC9pLnRlc3QobW9kKSkgeyBjbWQgPSB0cnVlIH1cbiAgICBlbHNlIGlmICgvXmEobHQpPyQvaS50ZXN0KG1vZCkpIHsgYWx0ID0gdHJ1ZSB9XG4gICAgZWxzZSBpZiAoL14oY3xjdHJsfGNvbnRyb2wpJC9pLnRlc3QobW9kKSkgeyBjdHJsID0gdHJ1ZSB9XG4gICAgZWxzZSBpZiAoL15zKGhpZnQpPyQvaS50ZXN0KG1vZCkpIHsgc2hpZnQgPSB0cnVlIH1cbiAgICBlbHNlIHsgdGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIG1vZGlmaWVyIG5hbWU6IFwiICsgbW9kKSB9XG4gIH1cbiAgaWYgKGFsdCkgeyBuYW1lID0gXCJBbHQtXCIgKyBuYW1lIH1cbiAgaWYgKGN0cmwpIHsgbmFtZSA9IFwiQ3RybC1cIiArIG5hbWUgfVxuICBpZiAoY21kKSB7IG5hbWUgPSBcIkNtZC1cIiArIG5hbWUgfVxuICBpZiAoc2hpZnQpIHsgbmFtZSA9IFwiU2hpZnQtXCIgKyBuYW1lIH1cbiAgcmV0dXJuIG5hbWVcbn1cblxuLy8gVGhpcyBpcyBhIGtsdWRnZSB0byBrZWVwIGtleW1hcHMgbW9zdGx5IHdvcmtpbmcgYXMgcmF3IG9iamVjdHNcbi8vIChiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSkgd2hpbGUgYXQgdGhlIHNhbWUgdGltZSBzdXBwb3J0IGZlYXR1cmVzXG4vLyBsaWtlIG5vcm1hbGl6YXRpb24gYW5kIG11bHRpLXN0cm9rZSBrZXkgYmluZGluZ3MuIEl0IGNvbXBpbGVzIGFcbi8vIG5ldyBub3JtYWxpemVkIGtleW1hcCwgYW5kIHRoZW4gdXBkYXRlcyB0aGUgb2xkIG9iamVjdCB0byByZWZsZWN0XG4vLyB0aGlzLlxuZnVuY3Rpb24gbm9ybWFsaXplS2V5TWFwKGtleW1hcCkge1xuICB2YXIgY29weSA9IHt9XG4gIGZvciAodmFyIGtleW5hbWUgaW4ga2V5bWFwKSB7IGlmIChrZXltYXAuaGFzT3duUHJvcGVydHkoa2V5bmFtZSkpIHtcbiAgICB2YXIgdmFsdWUgPSBrZXltYXBba2V5bmFtZV1cbiAgICBpZiAoL14obmFtZXxmYWxsdGhyb3VnaHwoZGV8YXQpdGFjaCkkLy50ZXN0KGtleW5hbWUpKSB7IGNvbnRpbnVlIH1cbiAgICBpZiAodmFsdWUgPT0gXCIuLi5cIikgeyBkZWxldGUga2V5bWFwW2tleW5hbWVdOyBjb250aW51ZSB9XG5cbiAgICB2YXIga2V5cyA9IG1hcChrZXluYW1lLnNwbGl0KFwiIFwiKSwgbm9ybWFsaXplS2V5TmFtZSlcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB2YWwgPSAodm9pZCAwKSwgbmFtZSA9ICh2b2lkIDApXG4gICAgICBpZiAoaSA9PSBrZXlzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgbmFtZSA9IGtleXMuam9pbihcIiBcIilcbiAgICAgICAgdmFsID0gdmFsdWVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5hbWUgPSBrZXlzLnNsaWNlKDAsIGkgKyAxKS5qb2luKFwiIFwiKVxuICAgICAgICB2YWwgPSBcIi4uLlwiXG4gICAgICB9XG4gICAgICB2YXIgcHJldiA9IGNvcHlbbmFtZV1cbiAgICAgIGlmICghcHJldikgeyBjb3B5W25hbWVdID0gdmFsIH1cbiAgICAgIGVsc2UgaWYgKHByZXYgIT0gdmFsKSB7IHRocm93IG5ldyBFcnJvcihcIkluY29uc2lzdGVudCBiaW5kaW5ncyBmb3IgXCIgKyBuYW1lKSB9XG4gICAgfVxuICAgIGRlbGV0ZSBrZXltYXBba2V5bmFtZV1cbiAgfSB9XG4gIGZvciAodmFyIHByb3AgaW4gY29weSkgeyBrZXltYXBbcHJvcF0gPSBjb3B5W3Byb3BdIH1cbiAgcmV0dXJuIGtleW1hcFxufVxuXG5mdW5jdGlvbiBsb29rdXBLZXkoa2V5LCBtYXAsIGhhbmRsZSwgY29udGV4dCkge1xuICBtYXAgPSBnZXRLZXlNYXAobWFwKVxuICB2YXIgZm91bmQgPSBtYXAuY2FsbCA/IG1hcC5jYWxsKGtleSwgY29udGV4dCkgOiBtYXBba2V5XVxuICBpZiAoZm91bmQgPT09IGZhbHNlKSB7IHJldHVybiBcIm5vdGhpbmdcIiB9XG4gIGlmIChmb3VuZCA9PT0gXCIuLi5cIikgeyByZXR1cm4gXCJtdWx0aVwiIH1cbiAgaWYgKGZvdW5kICE9IG51bGwgJiYgaGFuZGxlKGZvdW5kKSkgeyByZXR1cm4gXCJoYW5kbGVkXCIgfVxuXG4gIGlmIChtYXAuZmFsbHRocm91Z2gpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG1hcC5mYWxsdGhyb3VnaCkgIT0gXCJbb2JqZWN0IEFycmF5XVwiKVxuICAgICAgeyByZXR1cm4gbG9va3VwS2V5KGtleSwgbWFwLmZhbGx0aHJvdWdoLCBoYW5kbGUsIGNvbnRleHQpIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcC5mYWxsdGhyb3VnaC5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHJlc3VsdCA9IGxvb2t1cEtleShrZXksIG1hcC5mYWxsdGhyb3VnaFtpXSwgaGFuZGxlLCBjb250ZXh0KVxuICAgICAgaWYgKHJlc3VsdCkgeyByZXR1cm4gcmVzdWx0IH1cbiAgICB9XG4gIH1cbn1cblxuLy8gTW9kaWZpZXIga2V5IHByZXNzZXMgZG9uJ3QgY291bnQgYXMgJ3JlYWwnIGtleSBwcmVzc2VzIGZvciB0aGVcbi8vIHB1cnBvc2Ugb2Yga2V5bWFwIGZhbGx0aHJvdWdoLlxuZnVuY3Rpb24gaXNNb2RpZmllcktleSh2YWx1ZSkge1xuICB2YXIgbmFtZSA9IHR5cGVvZiB2YWx1ZSA9PSBcInN0cmluZ1wiID8gdmFsdWUgOiBrZXlOYW1lc1t2YWx1ZS5rZXlDb2RlXVxuICByZXR1cm4gbmFtZSA9PSBcIkN0cmxcIiB8fCBuYW1lID09IFwiQWx0XCIgfHwgbmFtZSA9PSBcIlNoaWZ0XCIgfHwgbmFtZSA9PSBcIk1vZFwiXG59XG5cbi8vIExvb2sgdXAgdGhlIG5hbWUgb2YgYSBrZXkgYXMgaW5kaWNhdGVkIGJ5IGFuIGV2ZW50IG9iamVjdC5cbmZ1bmN0aW9uIGtleU5hbWUoZXZlbnQsIG5vU2hpZnQpIHtcbiAgaWYgKHByZXN0byAmJiBldmVudC5rZXlDb2RlID09IDM0ICYmIGV2ZW50W1wiY2hhclwiXSkgeyByZXR1cm4gZmFsc2UgfVxuICB2YXIgYmFzZSA9IGtleU5hbWVzW2V2ZW50LmtleUNvZGVdLCBuYW1lID0gYmFzZVxuICBpZiAobmFtZSA9PSBudWxsIHx8IGV2ZW50LmFsdEdyYXBoS2V5KSB7IHJldHVybiBmYWxzZSB9XG4gIGlmIChldmVudC5hbHRLZXkgJiYgYmFzZSAhPSBcIkFsdFwiKSB7IG5hbWUgPSBcIkFsdC1cIiArIG5hbWUgfVxuICBpZiAoKGZsaXBDdHJsQ21kID8gZXZlbnQubWV0YUtleSA6IGV2ZW50LmN0cmxLZXkpICYmIGJhc2UgIT0gXCJDdHJsXCIpIHsgbmFtZSA9IFwiQ3RybC1cIiArIG5hbWUgfVxuICBpZiAoKGZsaXBDdHJsQ21kID8gZXZlbnQuY3RybEtleSA6IGV2ZW50Lm1ldGFLZXkpICYmIGJhc2UgIT0gXCJDbWRcIikgeyBuYW1lID0gXCJDbWQtXCIgKyBuYW1lIH1cbiAgaWYgKCFub1NoaWZ0ICYmIGV2ZW50LnNoaWZ0S2V5ICYmIGJhc2UgIT0gXCJTaGlmdFwiKSB7IG5hbWUgPSBcIlNoaWZ0LVwiICsgbmFtZSB9XG4gIHJldHVybiBuYW1lXG59XG5cbmZ1bmN0aW9uIGdldEtleU1hcCh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT0gXCJzdHJpbmdcIiA/IGtleU1hcFt2YWxdIDogdmFsXG59XG5cbi8vIEhlbHBlciBmb3IgZGVsZXRpbmcgdGV4dCBuZWFyIHRoZSBzZWxlY3Rpb24ocyksIHVzZWQgdG8gaW1wbGVtZW50XG4vLyBiYWNrc3BhY2UsIGRlbGV0ZSwgYW5kIHNpbWlsYXIgZnVuY3Rpb25hbGl0eS5cbmZ1bmN0aW9uIGRlbGV0ZU5lYXJTZWxlY3Rpb24oY20sIGNvbXB1dGUpIHtcbiAgdmFyIHJhbmdlcyA9IGNtLmRvYy5zZWwucmFuZ2VzLCBraWxsID0gW11cbiAgLy8gQnVpbGQgdXAgYSBzZXQgb2YgcmFuZ2VzIHRvIGtpbGwgZmlyc3QsIG1lcmdpbmcgb3ZlcmxhcHBpbmdcbiAgLy8gcmFuZ2VzLlxuICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB0b0tpbGwgPSBjb21wdXRlKHJhbmdlc1tpXSlcbiAgICB3aGlsZSAoa2lsbC5sZW5ndGggJiYgY21wKHRvS2lsbC5mcm9tLCBsc3Qoa2lsbCkudG8pIDw9IDApIHtcbiAgICAgIHZhciByZXBsYWNlZCA9IGtpbGwucG9wKClcbiAgICAgIGlmIChjbXAocmVwbGFjZWQuZnJvbSwgdG9LaWxsLmZyb20pIDwgMCkge1xuICAgICAgICB0b0tpbGwuZnJvbSA9IHJlcGxhY2VkLmZyb21cbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gICAga2lsbC5wdXNoKHRvS2lsbClcbiAgfVxuICAvLyBOZXh0LCByZW1vdmUgdGhvc2UgYWN0dWFsIHJhbmdlcy5cbiAgcnVuSW5PcChjbSwgZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIGkgPSBraWxsLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgeyByZXBsYWNlUmFuZ2UoY20uZG9jLCBcIlwiLCBraWxsW2ldLmZyb20sIGtpbGxbaV0udG8sIFwiK2RlbGV0ZVwiKSB9XG4gICAgZW5zdXJlQ3Vyc29yVmlzaWJsZShjbSlcbiAgfSlcbn1cblxuLy8gQ29tbWFuZHMgYXJlIHBhcmFtZXRlci1sZXNzIGFjdGlvbnMgdGhhdCBjYW4gYmUgcGVyZm9ybWVkIG9uIGFuXG4vLyBlZGl0b3IsIG1vc3RseSB1c2VkIGZvciBrZXliaW5kaW5ncy5cbnZhciBjb21tYW5kcyA9IHtcbiAgc2VsZWN0QWxsOiBzZWxlY3RBbGwsXG4gIHNpbmdsZVNlbGVjdGlvbjogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5zZXRTZWxlY3Rpb24oY20uZ2V0Q3Vyc29yKFwiYW5jaG9yXCIpLCBjbS5nZXRDdXJzb3IoXCJoZWFkXCIpLCBzZWxfZG9udFNjcm9sbCk7IH0sXG4gIGtpbGxMaW5lOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGRlbGV0ZU5lYXJTZWxlY3Rpb24oY20sIGZ1bmN0aW9uIChyYW5nZSkge1xuICAgIGlmIChyYW5nZS5lbXB0eSgpKSB7XG4gICAgICB2YXIgbGVuID0gZ2V0TGluZShjbS5kb2MsIHJhbmdlLmhlYWQubGluZSkudGV4dC5sZW5ndGhcbiAgICAgIGlmIChyYW5nZS5oZWFkLmNoID09IGxlbiAmJiByYW5nZS5oZWFkLmxpbmUgPCBjbS5sYXN0TGluZSgpKVxuICAgICAgICB7IHJldHVybiB7ZnJvbTogcmFuZ2UuaGVhZCwgdG86IFBvcyhyYW5nZS5oZWFkLmxpbmUgKyAxLCAwKX0gfVxuICAgICAgZWxzZVxuICAgICAgICB7IHJldHVybiB7ZnJvbTogcmFuZ2UuaGVhZCwgdG86IFBvcyhyYW5nZS5oZWFkLmxpbmUsIGxlbil9IH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHtmcm9tOiByYW5nZS5mcm9tKCksIHRvOiByYW5nZS50bygpfVxuICAgIH1cbiAgfSk7IH0sXG4gIGRlbGV0ZUxpbmU6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gZGVsZXRlTmVhclNlbGVjdGlvbihjbSwgZnVuY3Rpb24gKHJhbmdlKSB7IHJldHVybiAoe1xuICAgIGZyb206IFBvcyhyYW5nZS5mcm9tKCkubGluZSwgMCksXG4gICAgdG86IGNsaXBQb3MoY20uZG9jLCBQb3MocmFuZ2UudG8oKS5saW5lICsgMSwgMCkpXG4gIH0pOyB9KTsgfSxcbiAgZGVsTGluZUxlZnQ6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gZGVsZXRlTmVhclNlbGVjdGlvbihjbSwgZnVuY3Rpb24gKHJhbmdlKSB7IHJldHVybiAoe1xuICAgIGZyb206IFBvcyhyYW5nZS5mcm9tKCkubGluZSwgMCksIHRvOiByYW5nZS5mcm9tKClcbiAgfSk7IH0pOyB9LFxuICBkZWxXcmFwcGVkTGluZUxlZnQ6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gZGVsZXRlTmVhclNlbGVjdGlvbihjbSwgZnVuY3Rpb24gKHJhbmdlKSB7XG4gICAgdmFyIHRvcCA9IGNtLmNoYXJDb29yZHMocmFuZ2UuaGVhZCwgXCJkaXZcIikudG9wICsgNVxuICAgIHZhciBsZWZ0UG9zID0gY20uY29vcmRzQ2hhcih7bGVmdDogMCwgdG9wOiB0b3B9LCBcImRpdlwiKVxuICAgIHJldHVybiB7ZnJvbTogbGVmdFBvcywgdG86IHJhbmdlLmZyb20oKX1cbiAgfSk7IH0sXG4gIGRlbFdyYXBwZWRMaW5lUmlnaHQ6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gZGVsZXRlTmVhclNlbGVjdGlvbihjbSwgZnVuY3Rpb24gKHJhbmdlKSB7XG4gICAgdmFyIHRvcCA9IGNtLmNoYXJDb29yZHMocmFuZ2UuaGVhZCwgXCJkaXZcIikudG9wICsgNVxuICAgIHZhciByaWdodFBvcyA9IGNtLmNvb3Jkc0NoYXIoe2xlZnQ6IGNtLmRpc3BsYXkubGluZURpdi5vZmZzZXRXaWR0aCArIDEwMCwgdG9wOiB0b3B9LCBcImRpdlwiKVxuICAgIHJldHVybiB7ZnJvbTogcmFuZ2UuZnJvbSgpLCB0bzogcmlnaHRQb3MgfVxuICB9KTsgfSxcbiAgdW5kbzogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS51bmRvKCk7IH0sXG4gIHJlZG86IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ucmVkbygpOyB9LFxuICB1bmRvU2VsZWN0aW9uOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLnVuZG9TZWxlY3Rpb24oKTsgfSxcbiAgcmVkb1NlbGVjdGlvbjogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5yZWRvU2VsZWN0aW9uKCk7IH0sXG4gIGdvRG9jU3RhcnQ6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20uZXh0ZW5kU2VsZWN0aW9uKFBvcyhjbS5maXJzdExpbmUoKSwgMCkpOyB9LFxuICBnb0RvY0VuZDogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5leHRlbmRTZWxlY3Rpb24oUG9zKGNtLmxhc3RMaW5lKCkpKTsgfSxcbiAgZ29MaW5lU3RhcnQ6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20uZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uIChyYW5nZSkgeyByZXR1cm4gbGluZVN0YXJ0KGNtLCByYW5nZS5oZWFkLmxpbmUpOyB9LFxuICAgIHtvcmlnaW46IFwiK21vdmVcIiwgYmlhczogMX1cbiAgKTsgfSxcbiAgZ29MaW5lU3RhcnRTbWFydDogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24gKHJhbmdlKSB7IHJldHVybiBsaW5lU3RhcnRTbWFydChjbSwgcmFuZ2UuaGVhZCk7IH0sXG4gICAge29yaWdpbjogXCIrbW92ZVwiLCBiaWFzOiAxfVxuICApOyB9LFxuICBnb0xpbmVFbmQ6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20uZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uIChyYW5nZSkgeyByZXR1cm4gbGluZUVuZChjbSwgcmFuZ2UuaGVhZC5saW5lKTsgfSxcbiAgICB7b3JpZ2luOiBcIittb3ZlXCIsIGJpYXM6IC0xfVxuICApOyB9LFxuICBnb0xpbmVSaWdodDogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24gKHJhbmdlKSB7XG4gICAgdmFyIHRvcCA9IGNtLmNoYXJDb29yZHMocmFuZ2UuaGVhZCwgXCJkaXZcIikudG9wICsgNVxuICAgIHJldHVybiBjbS5jb29yZHNDaGFyKHtsZWZ0OiBjbS5kaXNwbGF5LmxpbmVEaXYub2Zmc2V0V2lkdGggKyAxMDAsIHRvcDogdG9wfSwgXCJkaXZcIilcbiAgfSwgc2VsX21vdmUpOyB9LFxuICBnb0xpbmVMZWZ0OiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbiAocmFuZ2UpIHtcbiAgICB2YXIgdG9wID0gY20uY2hhckNvb3JkcyhyYW5nZS5oZWFkLCBcImRpdlwiKS50b3AgKyA1XG4gICAgcmV0dXJuIGNtLmNvb3Jkc0NoYXIoe2xlZnQ6IDAsIHRvcDogdG9wfSwgXCJkaXZcIilcbiAgfSwgc2VsX21vdmUpOyB9LFxuICBnb0xpbmVMZWZ0U21hcnQ6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20uZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uIChyYW5nZSkge1xuICAgIHZhciB0b3AgPSBjbS5jaGFyQ29vcmRzKHJhbmdlLmhlYWQsIFwiZGl2XCIpLnRvcCArIDVcbiAgICB2YXIgcG9zID0gY20uY29vcmRzQ2hhcih7bGVmdDogMCwgdG9wOiB0b3B9LCBcImRpdlwiKVxuICAgIGlmIChwb3MuY2ggPCBjbS5nZXRMaW5lKHBvcy5saW5lKS5zZWFyY2goL1xcUy8pKSB7IHJldHVybiBsaW5lU3RhcnRTbWFydChjbSwgcmFuZ2UuaGVhZCkgfVxuICAgIHJldHVybiBwb3NcbiAgfSwgc2VsX21vdmUpOyB9LFxuICBnb0xpbmVVcDogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5tb3ZlVigtMSwgXCJsaW5lXCIpOyB9LFxuICBnb0xpbmVEb3duOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLm1vdmVWKDEsIFwibGluZVwiKTsgfSxcbiAgZ29QYWdlVXA6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ubW92ZVYoLTEsIFwicGFnZVwiKTsgfSxcbiAgZ29QYWdlRG93bjogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5tb3ZlVigxLCBcInBhZ2VcIik7IH0sXG4gIGdvQ2hhckxlZnQ6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ubW92ZUgoLTEsIFwiY2hhclwiKTsgfSxcbiAgZ29DaGFyUmlnaHQ6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ubW92ZUgoMSwgXCJjaGFyXCIpOyB9LFxuICBnb0NvbHVtbkxlZnQ6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ubW92ZUgoLTEsIFwiY29sdW1uXCIpOyB9LFxuICBnb0NvbHVtblJpZ2h0OiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLm1vdmVIKDEsIFwiY29sdW1uXCIpOyB9LFxuICBnb1dvcmRMZWZ0OiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLm1vdmVIKC0xLCBcIndvcmRcIik7IH0sXG4gIGdvR3JvdXBSaWdodDogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5tb3ZlSCgxLCBcImdyb3VwXCIpOyB9LFxuICBnb0dyb3VwTGVmdDogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5tb3ZlSCgtMSwgXCJncm91cFwiKTsgfSxcbiAgZ29Xb3JkUmlnaHQ6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ubW92ZUgoMSwgXCJ3b3JkXCIpOyB9LFxuICBkZWxDaGFyQmVmb3JlOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLmRlbGV0ZUgoLTEsIFwiY2hhclwiKTsgfSxcbiAgZGVsQ2hhckFmdGVyOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLmRlbGV0ZUgoMSwgXCJjaGFyXCIpOyB9LFxuICBkZWxXb3JkQmVmb3JlOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLmRlbGV0ZUgoLTEsIFwid29yZFwiKTsgfSxcbiAgZGVsV29yZEFmdGVyOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLmRlbGV0ZUgoMSwgXCJ3b3JkXCIpOyB9LFxuICBkZWxHcm91cEJlZm9yZTogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5kZWxldGVIKC0xLCBcImdyb3VwXCIpOyB9LFxuICBkZWxHcm91cEFmdGVyOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLmRlbGV0ZUgoMSwgXCJncm91cFwiKTsgfSxcbiAgaW5kZW50QXV0bzogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5pbmRlbnRTZWxlY3Rpb24oXCJzbWFydFwiKTsgfSxcbiAgaW5kZW50TW9yZTogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5pbmRlbnRTZWxlY3Rpb24oXCJhZGRcIik7IH0sXG4gIGluZGVudExlc3M6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20uaW5kZW50U2VsZWN0aW9uKFwic3VidHJhY3RcIik7IH0sXG4gIGluc2VydFRhYjogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5yZXBsYWNlU2VsZWN0aW9uKFwiXFx0XCIpOyB9LFxuICBpbnNlcnRTb2Z0VGFiOiBmdW5jdGlvbiAoY20pIHtcbiAgICB2YXIgc3BhY2VzID0gW10sIHJhbmdlcyA9IGNtLmxpc3RTZWxlY3Rpb25zKCksIHRhYlNpemUgPSBjbS5vcHRpb25zLnRhYlNpemVcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHBvcyA9IHJhbmdlc1tpXS5mcm9tKClcbiAgICAgIHZhciBjb2wgPSBjb3VudENvbHVtbihjbS5nZXRMaW5lKHBvcy5saW5lKSwgcG9zLmNoLCB0YWJTaXplKVxuICAgICAgc3BhY2VzLnB1c2goc3BhY2VTdHIodGFiU2l6ZSAtIGNvbCAlIHRhYlNpemUpKVxuICAgIH1cbiAgICBjbS5yZXBsYWNlU2VsZWN0aW9ucyhzcGFjZXMpXG4gIH0sXG4gIGRlZmF1bHRUYWI6IGZ1bmN0aW9uIChjbSkge1xuICAgIGlmIChjbS5zb21ldGhpbmdTZWxlY3RlZCgpKSB7IGNtLmluZGVudFNlbGVjdGlvbihcImFkZFwiKSB9XG4gICAgZWxzZSB7IGNtLmV4ZWNDb21tYW5kKFwiaW5zZXJ0VGFiXCIpIH1cbiAgfSxcbiAgLy8gU3dhcCB0aGUgdHdvIGNoYXJzIGxlZnQgYW5kIHJpZ2h0IG9mIGVhY2ggc2VsZWN0aW9uJ3MgaGVhZC5cbiAgLy8gTW92ZSBjdXJzb3IgYmVoaW5kIHRoZSB0d28gc3dhcHBlZCBjaGFyYWN0ZXJzIGFmdGVyd2FyZHMuXG4gIC8vXG4gIC8vIERvZXNuJ3QgY29uc2lkZXIgbGluZSBmZWVkcyBhIGNoYXJhY3Rlci5cbiAgLy8gRG9lc24ndCBzY2FuIG1vcmUgdGhhbiBvbmUgbGluZSBhYm92ZSB0byBmaW5kIGEgY2hhcmFjdGVyLlxuICAvLyBEb2Vzbid0IGRvIGFueXRoaW5nIG9uIGFuIGVtcHR5IGxpbmUuXG4gIC8vIERvZXNuJ3QgZG8gYW55dGhpbmcgd2l0aCBub24tZW1wdHkgc2VsZWN0aW9ucy5cbiAgdHJhbnNwb3NlQ2hhcnM6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gcnVuSW5PcChjbSwgZnVuY3Rpb24gKCkge1xuICAgIHZhciByYW5nZXMgPSBjbS5saXN0U2VsZWN0aW9ucygpLCBuZXdTZWwgPSBbXVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIXJhbmdlc1tpXS5lbXB0eSgpKSB7IGNvbnRpbnVlIH1cbiAgICAgIHZhciBjdXIgPSByYW5nZXNbaV0uaGVhZCwgbGluZSA9IGdldExpbmUoY20uZG9jLCBjdXIubGluZSkudGV4dFxuICAgICAgaWYgKGxpbmUpIHtcbiAgICAgICAgaWYgKGN1ci5jaCA9PSBsaW5lLmxlbmd0aCkgeyBjdXIgPSBuZXcgUG9zKGN1ci5saW5lLCBjdXIuY2ggLSAxKSB9XG4gICAgICAgIGlmIChjdXIuY2ggPiAwKSB7XG4gICAgICAgICAgY3VyID0gbmV3IFBvcyhjdXIubGluZSwgY3VyLmNoICsgMSlcbiAgICAgICAgICBjbS5yZXBsYWNlUmFuZ2UobGluZS5jaGFyQXQoY3VyLmNoIC0gMSkgKyBsaW5lLmNoYXJBdChjdXIuY2ggLSAyKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgUG9zKGN1ci5saW5lLCBjdXIuY2ggLSAyKSwgY3VyLCBcIit0cmFuc3Bvc2VcIilcbiAgICAgICAgfSBlbHNlIGlmIChjdXIubGluZSA+IGNtLmRvYy5maXJzdCkge1xuICAgICAgICAgIHZhciBwcmV2ID0gZ2V0TGluZShjbS5kb2MsIGN1ci5saW5lIC0gMSkudGV4dFxuICAgICAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgICAgICBjdXIgPSBuZXcgUG9zKGN1ci5saW5lLCAxKVxuICAgICAgICAgICAgY20ucmVwbGFjZVJhbmdlKGxpbmUuY2hhckF0KDApICsgY20uZG9jLmxpbmVTZXBhcmF0b3IoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldi5jaGFyQXQocHJldi5sZW5ndGggLSAxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQb3MoY3VyLmxpbmUgLSAxLCBwcmV2Lmxlbmd0aCAtIDEpLCBjdXIsIFwiK3RyYW5zcG9zZVwiKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbmV3U2VsLnB1c2gobmV3IFJhbmdlKGN1ciwgY3VyKSlcbiAgICB9XG4gICAgY20uc2V0U2VsZWN0aW9ucyhuZXdTZWwpXG4gIH0pOyB9LFxuICBuZXdsaW5lQW5kSW5kZW50OiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIHJ1bkluT3AoY20sIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VscyA9IGNtLmxpc3RTZWxlY3Rpb25zKClcbiAgICBmb3IgKHZhciBpID0gc2Vscy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgIHsgY20ucmVwbGFjZVJhbmdlKGNtLmRvYy5saW5lU2VwYXJhdG9yKCksIHNlbHNbaV0uYW5jaG9yLCBzZWxzW2ldLmhlYWQsIFwiK2lucHV0XCIpIH1cbiAgICBzZWxzID0gY20ubGlzdFNlbGVjdGlvbnMoKVxuICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHNlbHMubGVuZ3RoOyBpJDErKylcbiAgICAgIHsgY20uaW5kZW50TGluZShzZWxzW2kkMV0uZnJvbSgpLmxpbmUsIG51bGwsIHRydWUpIH1cbiAgICBlbnN1cmVDdXJzb3JWaXNpYmxlKGNtKVxuICB9KTsgfSxcbiAgb3BlbkxpbmU6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ucmVwbGFjZVNlbGVjdGlvbihcIlxcblwiLCBcInN0YXJ0XCIpOyB9LFxuICB0b2dnbGVPdmVyd3JpdGU6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20udG9nZ2xlT3ZlcndyaXRlKCk7IH1cbn1cblxuXG5mdW5jdGlvbiBsaW5lU3RhcnQoY20sIGxpbmVOKSB7XG4gIHZhciBsaW5lID0gZ2V0TGluZShjbS5kb2MsIGxpbmVOKVxuICB2YXIgdmlzdWFsID0gdmlzdWFsTGluZShsaW5lKVxuICBpZiAodmlzdWFsICE9IGxpbmUpIHsgbGluZU4gPSBsaW5lTm8odmlzdWFsKSB9XG4gIHZhciBvcmRlciA9IGdldE9yZGVyKHZpc3VhbClcbiAgdmFyIGNoID0gIW9yZGVyID8gMCA6IG9yZGVyWzBdLmxldmVsICUgMiA/IGxpbmVSaWdodCh2aXN1YWwpIDogbGluZUxlZnQodmlzdWFsKVxuICByZXR1cm4gUG9zKGxpbmVOLCBjaClcbn1cbmZ1bmN0aW9uIGxpbmVFbmQoY20sIGxpbmVOKSB7XG4gIHZhciBtZXJnZWQsIGxpbmUgPSBnZXRMaW5lKGNtLmRvYywgbGluZU4pXG4gIHdoaWxlIChtZXJnZWQgPSBjb2xsYXBzZWRTcGFuQXRFbmQobGluZSkpIHtcbiAgICBsaW5lID0gbWVyZ2VkLmZpbmQoMSwgdHJ1ZSkubGluZVxuICAgIGxpbmVOID0gbnVsbFxuICB9XG4gIHZhciBvcmRlciA9IGdldE9yZGVyKGxpbmUpXG4gIHZhciBjaCA9ICFvcmRlciA/IGxpbmUudGV4dC5sZW5ndGggOiBvcmRlclswXS5sZXZlbCAlIDIgPyBsaW5lTGVmdChsaW5lKSA6IGxpbmVSaWdodChsaW5lKVxuICByZXR1cm4gUG9zKGxpbmVOID09IG51bGwgPyBsaW5lTm8obGluZSkgOiBsaW5lTiwgY2gpXG59XG5mdW5jdGlvbiBsaW5lU3RhcnRTbWFydChjbSwgcG9zKSB7XG4gIHZhciBzdGFydCA9IGxpbmVTdGFydChjbSwgcG9zLmxpbmUpXG4gIHZhciBsaW5lID0gZ2V0TGluZShjbS5kb2MsIHN0YXJ0LmxpbmUpXG4gIHZhciBvcmRlciA9IGdldE9yZGVyKGxpbmUpXG4gIGlmICghb3JkZXIgfHwgb3JkZXJbMF0ubGV2ZWwgPT0gMCkge1xuICAgIHZhciBmaXJzdE5vbldTID0gTWF0aC5tYXgoMCwgbGluZS50ZXh0LnNlYXJjaCgvXFxTLykpXG4gICAgdmFyIGluV1MgPSBwb3MubGluZSA9PSBzdGFydC5saW5lICYmIHBvcy5jaCA8PSBmaXJzdE5vbldTICYmIHBvcy5jaFxuICAgIHJldHVybiBQb3Moc3RhcnQubGluZSwgaW5XUyA/IDAgOiBmaXJzdE5vbldTKVxuICB9XG4gIHJldHVybiBzdGFydFxufVxuXG4vLyBSdW4gYSBoYW5kbGVyIHRoYXQgd2FzIGJvdW5kIHRvIGEga2V5LlxuZnVuY3Rpb24gZG9IYW5kbGVCaW5kaW5nKGNtLCBib3VuZCwgZHJvcFNoaWZ0KSB7XG4gIGlmICh0eXBlb2YgYm91bmQgPT0gXCJzdHJpbmdcIikge1xuICAgIGJvdW5kID0gY29tbWFuZHNbYm91bmRdXG4gICAgaWYgKCFib3VuZCkgeyByZXR1cm4gZmFsc2UgfVxuICB9XG4gIC8vIEVuc3VyZSBwcmV2aW91cyBpbnB1dCBoYXMgYmVlbiByZWFkLCBzbyB0aGF0IHRoZSBoYW5kbGVyIHNlZXMgYVxuICAvLyBjb25zaXN0ZW50IHZpZXcgb2YgdGhlIGRvY3VtZW50XG4gIGNtLmRpc3BsYXkuaW5wdXQuZW5zdXJlUG9sbGVkKClcbiAgdmFyIHByZXZTaGlmdCA9IGNtLmRpc3BsYXkuc2hpZnQsIGRvbmUgPSBmYWxzZVxuICB0cnkge1xuICAgIGlmIChjbS5pc1JlYWRPbmx5KCkpIHsgY20uc3RhdGUuc3VwcHJlc3NFZGl0cyA9IHRydWUgfVxuICAgIGlmIChkcm9wU2hpZnQpIHsgY20uZGlzcGxheS5zaGlmdCA9IGZhbHNlIH1cbiAgICBkb25lID0gYm91bmQoY20pICE9IFBhc3NcbiAgfSBmaW5hbGx5IHtcbiAgICBjbS5kaXNwbGF5LnNoaWZ0ID0gcHJldlNoaWZ0XG4gICAgY20uc3RhdGUuc3VwcHJlc3NFZGl0cyA9IGZhbHNlXG4gIH1cbiAgcmV0dXJuIGRvbmVcbn1cblxuZnVuY3Rpb24gbG9va3VwS2V5Rm9yRWRpdG9yKGNtLCBuYW1lLCBoYW5kbGUpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbS5zdGF0ZS5rZXlNYXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHJlc3VsdCA9IGxvb2t1cEtleShuYW1lLCBjbS5zdGF0ZS5rZXlNYXBzW2ldLCBoYW5kbGUsIGNtKVxuICAgIGlmIChyZXN1bHQpIHsgcmV0dXJuIHJlc3VsdCB9XG4gIH1cbiAgcmV0dXJuIChjbS5vcHRpb25zLmV4dHJhS2V5cyAmJiBsb29rdXBLZXkobmFtZSwgY20ub3B0aW9ucy5leHRyYUtleXMsIGhhbmRsZSwgY20pKVxuICAgIHx8IGxvb2t1cEtleShuYW1lLCBjbS5vcHRpb25zLmtleU1hcCwgaGFuZGxlLCBjbSlcbn1cblxudmFyIHN0b3BTZXEgPSBuZXcgRGVsYXllZFxuZnVuY3Rpb24gZGlzcGF0Y2hLZXkoY20sIG5hbWUsIGUsIGhhbmRsZSkge1xuICB2YXIgc2VxID0gY20uc3RhdGUua2V5U2VxXG4gIGlmIChzZXEpIHtcbiAgICBpZiAoaXNNb2RpZmllcktleShuYW1lKSkgeyByZXR1cm4gXCJoYW5kbGVkXCIgfVxuICAgIHN0b3BTZXEuc2V0KDUwLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoY20uc3RhdGUua2V5U2VxID09IHNlcSkge1xuICAgICAgICBjbS5zdGF0ZS5rZXlTZXEgPSBudWxsXG4gICAgICAgIGNtLmRpc3BsYXkuaW5wdXQucmVzZXQoKVxuICAgICAgfVxuICAgIH0pXG4gICAgbmFtZSA9IHNlcSArIFwiIFwiICsgbmFtZVxuICB9XG4gIHZhciByZXN1bHQgPSBsb29rdXBLZXlGb3JFZGl0b3IoY20sIG5hbWUsIGhhbmRsZSlcblxuICBpZiAocmVzdWx0ID09IFwibXVsdGlcIilcbiAgICB7IGNtLnN0YXRlLmtleVNlcSA9IG5hbWUgfVxuICBpZiAocmVzdWx0ID09IFwiaGFuZGxlZFwiKVxuICAgIHsgc2lnbmFsTGF0ZXIoY20sIFwia2V5SGFuZGxlZFwiLCBjbSwgbmFtZSwgZSkgfVxuXG4gIGlmIChyZXN1bHQgPT0gXCJoYW5kbGVkXCIgfHwgcmVzdWx0ID09IFwibXVsdGlcIikge1xuICAgIGVfcHJldmVudERlZmF1bHQoZSlcbiAgICByZXN0YXJ0QmxpbmsoY20pXG4gIH1cblxuICBpZiAoc2VxICYmICFyZXN1bHQgJiYgL1xcJyQvLnRlc3QobmFtZSkpIHtcbiAgICBlX3ByZXZlbnREZWZhdWx0KGUpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICByZXR1cm4gISFyZXN1bHRcbn1cblxuLy8gSGFuZGxlIGEga2V5IGZyb20gdGhlIGtleWRvd24gZXZlbnQuXG5mdW5jdGlvbiBoYW5kbGVLZXlCaW5kaW5nKGNtLCBlKSB7XG4gIHZhciBuYW1lID0ga2V5TmFtZShlLCB0cnVlKVxuICBpZiAoIW5hbWUpIHsgcmV0dXJuIGZhbHNlIH1cblxuICBpZiAoZS5zaGlmdEtleSAmJiAhY20uc3RhdGUua2V5U2VxKSB7XG4gICAgLy8gRmlyc3QgdHJ5IHRvIHJlc29sdmUgZnVsbCBuYW1lIChpbmNsdWRpbmcgJ1NoaWZ0LScpLiBGYWlsaW5nXG4gICAgLy8gdGhhdCwgc2VlIGlmIHRoZXJlIGlzIGEgY3Vyc29yLW1vdGlvbiBjb21tYW5kIChzdGFydGluZyB3aXRoXG4gICAgLy8gJ2dvJykgYm91bmQgdG8gdGhlIGtleW5hbWUgd2l0aG91dCAnU2hpZnQtJy5cbiAgICByZXR1cm4gZGlzcGF0Y2hLZXkoY20sIFwiU2hpZnQtXCIgKyBuYW1lLCBlLCBmdW5jdGlvbiAoYikgeyByZXR1cm4gZG9IYW5kbGVCaW5kaW5nKGNtLCBiLCB0cnVlKTsgfSlcbiAgICAgICAgfHwgZGlzcGF0Y2hLZXkoY20sIG5hbWUsIGUsIGZ1bmN0aW9uIChiKSB7XG4gICAgICAgICAgICAgaWYgKHR5cGVvZiBiID09IFwic3RyaW5nXCIgPyAvXmdvW0EtWl0vLnRlc3QoYikgOiBiLm1vdGlvbilcbiAgICAgICAgICAgICAgIHsgcmV0dXJuIGRvSGFuZGxlQmluZGluZyhjbSwgYikgfVxuICAgICAgICAgICB9KVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBkaXNwYXRjaEtleShjbSwgbmFtZSwgZSwgZnVuY3Rpb24gKGIpIHsgcmV0dXJuIGRvSGFuZGxlQmluZGluZyhjbSwgYik7IH0pXG4gIH1cbn1cblxuLy8gSGFuZGxlIGEga2V5IGZyb20gdGhlIGtleXByZXNzIGV2ZW50XG5mdW5jdGlvbiBoYW5kbGVDaGFyQmluZGluZyhjbSwgZSwgY2gpIHtcbiAgcmV0dXJuIGRpc3BhdGNoS2V5KGNtLCBcIidcIiArIGNoICsgXCInXCIsIGUsIGZ1bmN0aW9uIChiKSB7IHJldHVybiBkb0hhbmRsZUJpbmRpbmcoY20sIGIsIHRydWUpOyB9KVxufVxuXG52YXIgbGFzdFN0b3BwZWRLZXkgPSBudWxsXG5mdW5jdGlvbiBvbktleURvd24oZSkge1xuICB2YXIgY20gPSB0aGlzXG4gIGNtLmN1ck9wLmZvY3VzID0gYWN0aXZlRWx0KClcbiAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBlKSkgeyByZXR1cm4gfVxuICAvLyBJRSBkb2VzIHN0cmFuZ2UgdGhpbmdzIHdpdGggZXNjYXBlLlxuICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDExICYmIGUua2V5Q29kZSA9PSAyNykgeyBlLnJldHVyblZhbHVlID0gZmFsc2UgfVxuICB2YXIgY29kZSA9IGUua2V5Q29kZVxuICBjbS5kaXNwbGF5LnNoaWZ0ID0gY29kZSA9PSAxNiB8fCBlLnNoaWZ0S2V5XG4gIHZhciBoYW5kbGVkID0gaGFuZGxlS2V5QmluZGluZyhjbSwgZSlcbiAgaWYgKHByZXN0bykge1xuICAgIGxhc3RTdG9wcGVkS2V5ID0gaGFuZGxlZCA/IGNvZGUgOiBudWxsXG4gICAgLy8gT3BlcmEgaGFzIG5vIGN1dCBldmVudC4uLiB3ZSB0cnkgdG8gYXQgbGVhc3QgY2F0Y2ggdGhlIGtleSBjb21ib1xuICAgIGlmICghaGFuZGxlZCAmJiBjb2RlID09IDg4ICYmICFoYXNDb3B5RXZlbnQgJiYgKG1hYyA/IGUubWV0YUtleSA6IGUuY3RybEtleSkpXG4gICAgICB7IGNtLnJlcGxhY2VTZWxlY3Rpb24oXCJcIiwgbnVsbCwgXCJjdXRcIikgfVxuICB9XG5cbiAgLy8gVHVybiBtb3VzZSBpbnRvIGNyb3NzaGFpciB3aGVuIEFsdCBpcyBoZWxkIG9uIE1hYy5cbiAgaWYgKGNvZGUgPT0gMTggJiYgIS9cXGJDb2RlTWlycm9yLWNyb3NzaGFpclxcYi8udGVzdChjbS5kaXNwbGF5LmxpbmVEaXYuY2xhc3NOYW1lKSlcbiAgICB7IHNob3dDcm9zc0hhaXIoY20pIH1cbn1cblxuZnVuY3Rpb24gc2hvd0Nyb3NzSGFpcihjbSkge1xuICB2YXIgbGluZURpdiA9IGNtLmRpc3BsYXkubGluZURpdlxuICBhZGRDbGFzcyhsaW5lRGl2LCBcIkNvZGVNaXJyb3ItY3Jvc3NoYWlyXCIpXG5cbiAgZnVuY3Rpb24gdXAoZSkge1xuICAgIGlmIChlLmtleUNvZGUgPT0gMTggfHwgIWUuYWx0S2V5KSB7XG4gICAgICBybUNsYXNzKGxpbmVEaXYsIFwiQ29kZU1pcnJvci1jcm9zc2hhaXJcIilcbiAgICAgIG9mZihkb2N1bWVudCwgXCJrZXl1cFwiLCB1cClcbiAgICAgIG9mZihkb2N1bWVudCwgXCJtb3VzZW92ZXJcIiwgdXApXG4gICAgfVxuICB9XG4gIG9uKGRvY3VtZW50LCBcImtleXVwXCIsIHVwKVxuICBvbihkb2N1bWVudCwgXCJtb3VzZW92ZXJcIiwgdXApXG59XG5cbmZ1bmN0aW9uIG9uS2V5VXAoZSkge1xuICBpZiAoZS5rZXlDb2RlID09IDE2KSB7IHRoaXMuZG9jLnNlbC5zaGlmdCA9IGZhbHNlIH1cbiAgc2lnbmFsRE9NRXZlbnQodGhpcywgZSlcbn1cblxuZnVuY3Rpb24gb25LZXlQcmVzcyhlKSB7XG4gIHZhciBjbSA9IHRoaXNcbiAgaWYgKGV2ZW50SW5XaWRnZXQoY20uZGlzcGxheSwgZSkgfHwgc2lnbmFsRE9NRXZlbnQoY20sIGUpIHx8IGUuY3RybEtleSAmJiAhZS5hbHRLZXkgfHwgbWFjICYmIGUubWV0YUtleSkgeyByZXR1cm4gfVxuICB2YXIga2V5Q29kZSA9IGUua2V5Q29kZSwgY2hhckNvZGUgPSBlLmNoYXJDb2RlXG4gIGlmIChwcmVzdG8gJiYga2V5Q29kZSA9PSBsYXN0U3RvcHBlZEtleSkge2xhc3RTdG9wcGVkS2V5ID0gbnVsbDsgZV9wcmV2ZW50RGVmYXVsdChlKTsgcmV0dXJufVxuICBpZiAoKHByZXN0byAmJiAoIWUud2hpY2ggfHwgZS53aGljaCA8IDEwKSkgJiYgaGFuZGxlS2V5QmluZGluZyhjbSwgZSkpIHsgcmV0dXJuIH1cbiAgdmFyIGNoID0gU3RyaW5nLmZyb21DaGFyQ29kZShjaGFyQ29kZSA9PSBudWxsID8ga2V5Q29kZSA6IGNoYXJDb2RlKVxuICAvLyBTb21lIGJyb3dzZXJzIGZpcmUga2V5cHJlc3MgZXZlbnRzIGZvciBiYWNrc3BhY2VcbiAgaWYgKGNoID09IFwiXFx4MDhcIikgeyByZXR1cm4gfVxuICBpZiAoaGFuZGxlQ2hhckJpbmRpbmcoY20sIGUsIGNoKSkgeyByZXR1cm4gfVxuICBjbS5kaXNwbGF5LmlucHV0Lm9uS2V5UHJlc3MoZSlcbn1cblxuLy8gQSBtb3VzZSBkb3duIGNhbiBiZSBhIHNpbmdsZSBjbGljaywgZG91YmxlIGNsaWNrLCB0cmlwbGUgY2xpY2ssXG4vLyBzdGFydCBvZiBzZWxlY3Rpb24gZHJhZywgc3RhcnQgb2YgdGV4dCBkcmFnLCBuZXcgY3Vyc29yXG4vLyAoY3RybC1jbGljayksIHJlY3RhbmdsZSBkcmFnIChhbHQtZHJhZyksIG9yIHh3aW5cbi8vIG1pZGRsZS1jbGljay1wYXN0ZS4gT3IgaXQgbWlnaHQgYmUgYSBjbGljayBvbiBzb21ldGhpbmcgd2Ugc2hvdWxkXG4vLyBub3QgaW50ZXJmZXJlIHdpdGgsIHN1Y2ggYXMgYSBzY3JvbGxiYXIgb3Igd2lkZ2V0LlxuZnVuY3Rpb24gb25Nb3VzZURvd24oZSkge1xuICB2YXIgY20gPSB0aGlzLCBkaXNwbGF5ID0gY20uZGlzcGxheVxuICBpZiAoc2lnbmFsRE9NRXZlbnQoY20sIGUpIHx8IGRpc3BsYXkuYWN0aXZlVG91Y2ggJiYgZGlzcGxheS5pbnB1dC5zdXBwb3J0c1RvdWNoKCkpIHsgcmV0dXJuIH1cbiAgZGlzcGxheS5pbnB1dC5lbnN1cmVQb2xsZWQoKVxuICBkaXNwbGF5LnNoaWZ0ID0gZS5zaGlmdEtleVxuXG4gIGlmIChldmVudEluV2lkZ2V0KGRpc3BsYXksIGUpKSB7XG4gICAgaWYgKCF3ZWJraXQpIHtcbiAgICAgIC8vIEJyaWVmbHkgdHVybiBvZmYgZHJhZ2dhYmlsaXR5LCB0byBhbGxvdyB3aWRnZXRzIHRvIGRvXG4gICAgICAvLyBub3JtYWwgZHJhZ2dpbmcgdGhpbmdzLlxuICAgICAgZGlzcGxheS5zY3JvbGxlci5kcmFnZ2FibGUgPSBmYWxzZVxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBkaXNwbGF5LnNjcm9sbGVyLmRyYWdnYWJsZSA9IHRydWU7IH0sIDEwMClcbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKGNsaWNrSW5HdXR0ZXIoY20sIGUpKSB7IHJldHVybiB9XG4gIHZhciBzdGFydCA9IHBvc0Zyb21Nb3VzZShjbSwgZSlcbiAgd2luZG93LmZvY3VzKClcblxuICBzd2l0Y2ggKGVfYnV0dG9uKGUpKSB7XG4gIGNhc2UgMTpcbiAgICAvLyAjMzI2MTogbWFrZSBzdXJlLCB0aGF0IHdlJ3JlIG5vdCBzdGFydGluZyBhIHNlY29uZCBzZWxlY3Rpb25cbiAgICBpZiAoY20uc3RhdGUuc2VsZWN0aW5nVGV4dClcbiAgICAgIHsgY20uc3RhdGUuc2VsZWN0aW5nVGV4dChlKSB9XG4gICAgZWxzZSBpZiAoc3RhcnQpXG4gICAgICB7IGxlZnRCdXR0b25Eb3duKGNtLCBlLCBzdGFydCkgfVxuICAgIGVsc2UgaWYgKGVfdGFyZ2V0KGUpID09IGRpc3BsYXkuc2Nyb2xsZXIpXG4gICAgICB7IGVfcHJldmVudERlZmF1bHQoZSkgfVxuICAgIGJyZWFrXG4gIGNhc2UgMjpcbiAgICBpZiAod2Via2l0KSB7IGNtLnN0YXRlLmxhc3RNaWRkbGVEb3duID0gK25ldyBEYXRlIH1cbiAgICBpZiAoc3RhcnQpIHsgZXh0ZW5kU2VsZWN0aW9uKGNtLmRvYywgc3RhcnQpIH1cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRpc3BsYXkuaW5wdXQuZm9jdXMoKTsgfSwgMjApXG4gICAgZV9wcmV2ZW50RGVmYXVsdChlKVxuICAgIGJyZWFrXG4gIGNhc2UgMzpcbiAgICBpZiAoY2FwdHVyZVJpZ2h0Q2xpY2spIHsgb25Db250ZXh0TWVudShjbSwgZSkgfVxuICAgIGVsc2UgeyBkZWxheUJsdXJFdmVudChjbSkgfVxuICAgIGJyZWFrXG4gIH1cbn1cblxudmFyIGxhc3RDbGljaztcbnZhciBsYXN0RG91YmxlQ2xpY2s7XG5mdW5jdGlvbiBsZWZ0QnV0dG9uRG93bihjbSwgZSwgc3RhcnQpIHtcbiAgaWYgKGllKSB7IHNldFRpbWVvdXQoYmluZChlbnN1cmVGb2N1cywgY20pLCAwKSB9XG4gIGVsc2UgeyBjbS5jdXJPcC5mb2N1cyA9IGFjdGl2ZUVsdCgpIH1cblxuICB2YXIgbm93ID0gK25ldyBEYXRlLCB0eXBlXG4gIGlmIChsYXN0RG91YmxlQ2xpY2sgJiYgbGFzdERvdWJsZUNsaWNrLnRpbWUgPiBub3cgLSA0MDAgJiYgY21wKGxhc3REb3VibGVDbGljay5wb3MsIHN0YXJ0KSA9PSAwKSB7XG4gICAgdHlwZSA9IFwidHJpcGxlXCJcbiAgfSBlbHNlIGlmIChsYXN0Q2xpY2sgJiYgbGFzdENsaWNrLnRpbWUgPiBub3cgLSA0MDAgJiYgY21wKGxhc3RDbGljay5wb3MsIHN0YXJ0KSA9PSAwKSB7XG4gICAgdHlwZSA9IFwiZG91YmxlXCJcbiAgICBsYXN0RG91YmxlQ2xpY2sgPSB7dGltZTogbm93LCBwb3M6IHN0YXJ0fVxuICB9IGVsc2Uge1xuICAgIHR5cGUgPSBcInNpbmdsZVwiXG4gICAgbGFzdENsaWNrID0ge3RpbWU6IG5vdywgcG9zOiBzdGFydH1cbiAgfVxuXG4gIHZhciBzZWwgPSBjbS5kb2Muc2VsLCBtb2RpZmllciA9IG1hYyA/IGUubWV0YUtleSA6IGUuY3RybEtleSwgY29udGFpbmVkXG4gIGlmIChjbS5vcHRpb25zLmRyYWdEcm9wICYmIGRyYWdBbmREcm9wICYmICFjbS5pc1JlYWRPbmx5KCkgJiZcbiAgICAgIHR5cGUgPT0gXCJzaW5nbGVcIiAmJiAoY29udGFpbmVkID0gc2VsLmNvbnRhaW5zKHN0YXJ0KSkgPiAtMSAmJlxuICAgICAgKGNtcCgoY29udGFpbmVkID0gc2VsLnJhbmdlc1tjb250YWluZWRdKS5mcm9tKCksIHN0YXJ0KSA8IDAgfHwgc3RhcnQueFJlbCA+IDApICYmXG4gICAgICAoY21wKGNvbnRhaW5lZC50bygpLCBzdGFydCkgPiAwIHx8IHN0YXJ0LnhSZWwgPCAwKSlcbiAgICB7IGxlZnRCdXR0b25TdGFydERyYWcoY20sIGUsIHN0YXJ0LCBtb2RpZmllcikgfVxuICBlbHNlXG4gICAgeyBsZWZ0QnV0dG9uU2VsZWN0KGNtLCBlLCBzdGFydCwgdHlwZSwgbW9kaWZpZXIpIH1cbn1cblxuLy8gU3RhcnQgYSB0ZXh0IGRyYWcuIFdoZW4gaXQgZW5kcywgc2VlIGlmIGFueSBkcmFnZ2luZyBhY3R1YWxseVxuLy8gaGFwcGVuLCBhbmQgdHJlYXQgYXMgYSBjbGljayBpZiBpdCBkaWRuJ3QuXG5mdW5jdGlvbiBsZWZ0QnV0dG9uU3RhcnREcmFnKGNtLCBlLCBzdGFydCwgbW9kaWZpZXIpIHtcbiAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBzdGFydFRpbWUgPSArbmV3IERhdGVcbiAgdmFyIGRyYWdFbmQgPSBvcGVyYXRpb24oY20sIGZ1bmN0aW9uIChlMikge1xuICAgIGlmICh3ZWJraXQpIHsgZGlzcGxheS5zY3JvbGxlci5kcmFnZ2FibGUgPSBmYWxzZSB9XG4gICAgY20uc3RhdGUuZHJhZ2dpbmdUZXh0ID0gZmFsc2VcbiAgICBvZmYoZG9jdW1lbnQsIFwibW91c2V1cFwiLCBkcmFnRW5kKVxuICAgIG9mZihkaXNwbGF5LnNjcm9sbGVyLCBcImRyb3BcIiwgZHJhZ0VuZClcbiAgICBpZiAoTWF0aC5hYnMoZS5jbGllbnRYIC0gZTIuY2xpZW50WCkgKyBNYXRoLmFicyhlLmNsaWVudFkgLSBlMi5jbGllbnRZKSA8IDEwKSB7XG4gICAgICBlX3ByZXZlbnREZWZhdWx0KGUyKVxuICAgICAgaWYgKCFtb2RpZmllciAmJiArbmV3IERhdGUgLSAyMDAgPCBzdGFydFRpbWUpXG4gICAgICAgIHsgZXh0ZW5kU2VsZWN0aW9uKGNtLmRvYywgc3RhcnQpIH1cbiAgICAgIC8vIFdvcmsgYXJvdW5kIHVuZXhwbGFpbmFibGUgZm9jdXMgcHJvYmxlbSBpbiBJRTkgKCMyMTI3KSBhbmQgQ2hyb21lICgjMzA4MSlcbiAgICAgIGlmICh3ZWJraXQgfHwgaWUgJiYgaWVfdmVyc2lvbiA9PSA5KVxuICAgICAgICB7IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge2RvY3VtZW50LmJvZHkuZm9jdXMoKTsgZGlzcGxheS5pbnB1dC5mb2N1cygpfSwgMjApIH1cbiAgICAgIGVsc2VcbiAgICAgICAgeyBkaXNwbGF5LmlucHV0LmZvY3VzKCkgfVxuICAgIH1cbiAgfSlcbiAgLy8gTGV0IHRoZSBkcmFnIGhhbmRsZXIgaGFuZGxlIHRoaXMuXG4gIGlmICh3ZWJraXQpIHsgZGlzcGxheS5zY3JvbGxlci5kcmFnZ2FibGUgPSB0cnVlIH1cbiAgY20uc3RhdGUuZHJhZ2dpbmdUZXh0ID0gZHJhZ0VuZFxuICBkcmFnRW5kLmNvcHkgPSBtYWMgPyBlLmFsdEtleSA6IGUuY3RybEtleVxuICAvLyBJRSdzIGFwcHJvYWNoIHRvIGRyYWdnYWJsZVxuICBpZiAoZGlzcGxheS5zY3JvbGxlci5kcmFnRHJvcCkgeyBkaXNwbGF5LnNjcm9sbGVyLmRyYWdEcm9wKCkgfVxuICBvbihkb2N1bWVudCwgXCJtb3VzZXVwXCIsIGRyYWdFbmQpXG4gIG9uKGRpc3BsYXkuc2Nyb2xsZXIsIFwiZHJvcFwiLCBkcmFnRW5kKVxufVxuXG4vLyBOb3JtYWwgc2VsZWN0aW9uLCBhcyBvcHBvc2VkIHRvIHRleHQgZHJhZ2dpbmcuXG5mdW5jdGlvbiBsZWZ0QnV0dG9uU2VsZWN0KGNtLCBlLCBzdGFydCwgdHlwZSwgYWRkTmV3KSB7XG4gIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgZG9jID0gY20uZG9jXG4gIGVfcHJldmVudERlZmF1bHQoZSlcblxuICB2YXIgb3VyUmFuZ2UsIG91ckluZGV4LCBzdGFydFNlbCA9IGRvYy5zZWwsIHJhbmdlcyA9IHN0YXJ0U2VsLnJhbmdlc1xuICBpZiAoYWRkTmV3ICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgb3VySW5kZXggPSBkb2Muc2VsLmNvbnRhaW5zKHN0YXJ0KVxuICAgIGlmIChvdXJJbmRleCA+IC0xKVxuICAgICAgeyBvdXJSYW5nZSA9IHJhbmdlc1tvdXJJbmRleF0gfVxuICAgIGVsc2VcbiAgICAgIHsgb3VyUmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnQsIHN0YXJ0KSB9XG4gIH0gZWxzZSB7XG4gICAgb3VyUmFuZ2UgPSBkb2Muc2VsLnByaW1hcnkoKVxuICAgIG91ckluZGV4ID0gZG9jLnNlbC5wcmltSW5kZXhcbiAgfVxuXG4gIGlmIChjaHJvbWVPUyA/IGUuc2hpZnRLZXkgJiYgZS5tZXRhS2V5IDogZS5hbHRLZXkpIHtcbiAgICB0eXBlID0gXCJyZWN0XCJcbiAgICBpZiAoIWFkZE5ldykgeyBvdXJSYW5nZSA9IG5ldyBSYW5nZShzdGFydCwgc3RhcnQpIH1cbiAgICBzdGFydCA9IHBvc0Zyb21Nb3VzZShjbSwgZSwgdHJ1ZSwgdHJ1ZSlcbiAgICBvdXJJbmRleCA9IC0xXG4gIH0gZWxzZSBpZiAodHlwZSA9PSBcImRvdWJsZVwiKSB7XG4gICAgdmFyIHdvcmQgPSBjbS5maW5kV29yZEF0KHN0YXJ0KVxuICAgIGlmIChjbS5kaXNwbGF5LnNoaWZ0IHx8IGRvYy5leHRlbmQpXG4gICAgICB7IG91clJhbmdlID0gZXh0ZW5kUmFuZ2UoZG9jLCBvdXJSYW5nZSwgd29yZC5hbmNob3IsIHdvcmQuaGVhZCkgfVxuICAgIGVsc2VcbiAgICAgIHsgb3VyUmFuZ2UgPSB3b3JkIH1cbiAgfSBlbHNlIGlmICh0eXBlID09IFwidHJpcGxlXCIpIHtcbiAgICB2YXIgbGluZSA9IG5ldyBSYW5nZShQb3Moc3RhcnQubGluZSwgMCksIGNsaXBQb3MoZG9jLCBQb3Moc3RhcnQubGluZSArIDEsIDApKSlcbiAgICBpZiAoY20uZGlzcGxheS5zaGlmdCB8fCBkb2MuZXh0ZW5kKVxuICAgICAgeyBvdXJSYW5nZSA9IGV4dGVuZFJhbmdlKGRvYywgb3VyUmFuZ2UsIGxpbmUuYW5jaG9yLCBsaW5lLmhlYWQpIH1cbiAgICBlbHNlXG4gICAgICB7IG91clJhbmdlID0gbGluZSB9XG4gIH0gZWxzZSB7XG4gICAgb3VyUmFuZ2UgPSBleHRlbmRSYW5nZShkb2MsIG91clJhbmdlLCBzdGFydClcbiAgfVxuXG4gIGlmICghYWRkTmV3KSB7XG4gICAgb3VySW5kZXggPSAwXG4gICAgc2V0U2VsZWN0aW9uKGRvYywgbmV3IFNlbGVjdGlvbihbb3VyUmFuZ2VdLCAwKSwgc2VsX21vdXNlKVxuICAgIHN0YXJ0U2VsID0gZG9jLnNlbFxuICB9IGVsc2UgaWYgKG91ckluZGV4ID09IC0xKSB7XG4gICAgb3VySW5kZXggPSByYW5nZXMubGVuZ3RoXG4gICAgc2V0U2VsZWN0aW9uKGRvYywgbm9ybWFsaXplU2VsZWN0aW9uKHJhbmdlcy5jb25jYXQoW291clJhbmdlXSksIG91ckluZGV4KSxcbiAgICAgICAgICAgICAgICAge3Njcm9sbDogZmFsc2UsIG9yaWdpbjogXCIqbW91c2VcIn0pXG4gIH0gZWxzZSBpZiAocmFuZ2VzLmxlbmd0aCA+IDEgJiYgcmFuZ2VzW291ckluZGV4XS5lbXB0eSgpICYmIHR5cGUgPT0gXCJzaW5nbGVcIiAmJiAhZS5zaGlmdEtleSkge1xuICAgIHNldFNlbGVjdGlvbihkb2MsIG5vcm1hbGl6ZVNlbGVjdGlvbihyYW5nZXMuc2xpY2UoMCwgb3VySW5kZXgpLmNvbmNhdChyYW5nZXMuc2xpY2Uob3VySW5kZXggKyAxKSksIDApLFxuICAgICAgICAgICAgICAgICB7c2Nyb2xsOiBmYWxzZSwgb3JpZ2luOiBcIiptb3VzZVwifSlcbiAgICBzdGFydFNlbCA9IGRvYy5zZWxcbiAgfSBlbHNlIHtcbiAgICByZXBsYWNlT25lU2VsZWN0aW9uKGRvYywgb3VySW5kZXgsIG91clJhbmdlLCBzZWxfbW91c2UpXG4gIH1cblxuICB2YXIgbGFzdFBvcyA9IHN0YXJ0XG4gIGZ1bmN0aW9uIGV4dGVuZFRvKHBvcykge1xuICAgIGlmIChjbXAobGFzdFBvcywgcG9zKSA9PSAwKSB7IHJldHVybiB9XG4gICAgbGFzdFBvcyA9IHBvc1xuXG4gICAgaWYgKHR5cGUgPT0gXCJyZWN0XCIpIHtcbiAgICAgIHZhciByYW5nZXMgPSBbXSwgdGFiU2l6ZSA9IGNtLm9wdGlvbnMudGFiU2l6ZVxuICAgICAgdmFyIHN0YXJ0Q29sID0gY291bnRDb2x1bW4oZ2V0TGluZShkb2MsIHN0YXJ0LmxpbmUpLnRleHQsIHN0YXJ0LmNoLCB0YWJTaXplKVxuICAgICAgdmFyIHBvc0NvbCA9IGNvdW50Q29sdW1uKGdldExpbmUoZG9jLCBwb3MubGluZSkudGV4dCwgcG9zLmNoLCB0YWJTaXplKVxuICAgICAgdmFyIGxlZnQgPSBNYXRoLm1pbihzdGFydENvbCwgcG9zQ29sKSwgcmlnaHQgPSBNYXRoLm1heChzdGFydENvbCwgcG9zQ29sKVxuICAgICAgZm9yICh2YXIgbGluZSA9IE1hdGgubWluKHN0YXJ0LmxpbmUsIHBvcy5saW5lKSwgZW5kID0gTWF0aC5taW4oY20ubGFzdExpbmUoKSwgTWF0aC5tYXgoc3RhcnQubGluZSwgcG9zLmxpbmUpKTtcbiAgICAgICAgICAgbGluZSA8PSBlbmQ7IGxpbmUrKykge1xuICAgICAgICB2YXIgdGV4dCA9IGdldExpbmUoZG9jLCBsaW5lKS50ZXh0LCBsZWZ0UG9zID0gZmluZENvbHVtbih0ZXh0LCBsZWZ0LCB0YWJTaXplKVxuICAgICAgICBpZiAobGVmdCA9PSByaWdodClcbiAgICAgICAgICB7IHJhbmdlcy5wdXNoKG5ldyBSYW5nZShQb3MobGluZSwgbGVmdFBvcyksIFBvcyhsaW5lLCBsZWZ0UG9zKSkpIH1cbiAgICAgICAgZWxzZSBpZiAodGV4dC5sZW5ndGggPiBsZWZ0UG9zKVxuICAgICAgICAgIHsgcmFuZ2VzLnB1c2gobmV3IFJhbmdlKFBvcyhsaW5lLCBsZWZ0UG9zKSwgUG9zKGxpbmUsIGZpbmRDb2x1bW4odGV4dCwgcmlnaHQsIHRhYlNpemUpKSkpIH1cbiAgICAgIH1cbiAgICAgIGlmICghcmFuZ2VzLmxlbmd0aCkgeyByYW5nZXMucHVzaChuZXcgUmFuZ2Uoc3RhcnQsIHN0YXJ0KSkgfVxuICAgICAgc2V0U2VsZWN0aW9uKGRvYywgbm9ybWFsaXplU2VsZWN0aW9uKHN0YXJ0U2VsLnJhbmdlcy5zbGljZSgwLCBvdXJJbmRleCkuY29uY2F0KHJhbmdlcyksIG91ckluZGV4KSxcbiAgICAgICAgICAgICAgICAgICB7b3JpZ2luOiBcIiptb3VzZVwiLCBzY3JvbGw6IGZhbHNlfSlcbiAgICAgIGNtLnNjcm9sbEludG9WaWV3KHBvcylcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG9sZFJhbmdlID0gb3VyUmFuZ2VcbiAgICAgIHZhciBhbmNob3IgPSBvbGRSYW5nZS5hbmNob3IsIGhlYWQgPSBwb3NcbiAgICAgIGlmICh0eXBlICE9IFwic2luZ2xlXCIpIHtcbiAgICAgICAgdmFyIHJhbmdlXG4gICAgICAgIGlmICh0eXBlID09IFwiZG91YmxlXCIpXG4gICAgICAgICAgeyByYW5nZSA9IGNtLmZpbmRXb3JkQXQocG9zKSB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICB7IHJhbmdlID0gbmV3IFJhbmdlKFBvcyhwb3MubGluZSwgMCksIGNsaXBQb3MoZG9jLCBQb3MocG9zLmxpbmUgKyAxLCAwKSkpIH1cbiAgICAgICAgaWYgKGNtcChyYW5nZS5hbmNob3IsIGFuY2hvcikgPiAwKSB7XG4gICAgICAgICAgaGVhZCA9IHJhbmdlLmhlYWRcbiAgICAgICAgICBhbmNob3IgPSBtaW5Qb3Mob2xkUmFuZ2UuZnJvbSgpLCByYW5nZS5hbmNob3IpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaGVhZCA9IHJhbmdlLmFuY2hvclxuICAgICAgICAgIGFuY2hvciA9IG1heFBvcyhvbGRSYW5nZS50bygpLCByYW5nZS5oZWFkKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgcmFuZ2VzJDEgPSBzdGFydFNlbC5yYW5nZXMuc2xpY2UoMClcbiAgICAgIHJhbmdlcyQxW291ckluZGV4XSA9IG5ldyBSYW5nZShjbGlwUG9zKGRvYywgYW5jaG9yKSwgaGVhZClcbiAgICAgIHNldFNlbGVjdGlvbihkb2MsIG5vcm1hbGl6ZVNlbGVjdGlvbihyYW5nZXMkMSwgb3VySW5kZXgpLCBzZWxfbW91c2UpXG4gICAgfVxuICB9XG5cbiAgdmFyIGVkaXRvclNpemUgPSBkaXNwbGF5LndyYXBwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgLy8gVXNlZCB0byBlbnN1cmUgdGltZW91dCByZS10cmllcyBkb24ndCBmaXJlIHdoZW4gYW5vdGhlciBleHRlbmRcbiAgLy8gaGFwcGVuZWQgaW4gdGhlIG1lYW50aW1lIChjbGVhclRpbWVvdXQgaXNuJ3QgcmVsaWFibGUgLS0gYXRcbiAgLy8gbGVhc3Qgb24gQ2hyb21lLCB0aGUgdGltZW91dHMgc3RpbGwgaGFwcGVuIGV2ZW4gd2hlbiBjbGVhcmVkLFxuICAvLyBpZiB0aGUgY2xlYXIgaGFwcGVucyBhZnRlciB0aGVpciBzY2hlZHVsZWQgZmlyaW5nIHRpbWUpLlxuICB2YXIgY291bnRlciA9IDBcblxuICBmdW5jdGlvbiBleHRlbmQoZSkge1xuICAgIHZhciBjdXJDb3VudCA9ICsrY291bnRlclxuICAgIHZhciBjdXIgPSBwb3NGcm9tTW91c2UoY20sIGUsIHRydWUsIHR5cGUgPT0gXCJyZWN0XCIpXG4gICAgaWYgKCFjdXIpIHsgcmV0dXJuIH1cbiAgICBpZiAoY21wKGN1ciwgbGFzdFBvcykgIT0gMCkge1xuICAgICAgY20uY3VyT3AuZm9jdXMgPSBhY3RpdmVFbHQoKVxuICAgICAgZXh0ZW5kVG8oY3VyKVxuICAgICAgdmFyIHZpc2libGUgPSB2aXNpYmxlTGluZXMoZGlzcGxheSwgZG9jKVxuICAgICAgaWYgKGN1ci5saW5lID49IHZpc2libGUudG8gfHwgY3VyLmxpbmUgPCB2aXNpYmxlLmZyb20pXG4gICAgICAgIHsgc2V0VGltZW91dChvcGVyYXRpb24oY20sIGZ1bmN0aW9uICgpIHtpZiAoY291bnRlciA9PSBjdXJDb3VudCkgeyBleHRlbmQoZSkgfX0pLCAxNTApIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG91dHNpZGUgPSBlLmNsaWVudFkgPCBlZGl0b3JTaXplLnRvcCA/IC0yMCA6IGUuY2xpZW50WSA+IGVkaXRvclNpemUuYm90dG9tID8gMjAgOiAwXG4gICAgICBpZiAob3V0c2lkZSkgeyBzZXRUaW1lb3V0KG9wZXJhdGlvbihjbSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY291bnRlciAhPSBjdXJDb3VudCkgeyByZXR1cm4gfVxuICAgICAgICBkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcCArPSBvdXRzaWRlXG4gICAgICAgIGV4dGVuZChlKVxuICAgICAgfSksIDUwKSB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZG9uZShlKSB7XG4gICAgY20uc3RhdGUuc2VsZWN0aW5nVGV4dCA9IGZhbHNlXG4gICAgY291bnRlciA9IEluZmluaXR5XG4gICAgZV9wcmV2ZW50RGVmYXVsdChlKVxuICAgIGRpc3BsYXkuaW5wdXQuZm9jdXMoKVxuICAgIG9mZihkb2N1bWVudCwgXCJtb3VzZW1vdmVcIiwgbW92ZSlcbiAgICBvZmYoZG9jdW1lbnQsIFwibW91c2V1cFwiLCB1cClcbiAgICBkb2MuaGlzdG9yeS5sYXN0U2VsT3JpZ2luID0gbnVsbFxuICB9XG5cbiAgdmFyIG1vdmUgPSBvcGVyYXRpb24oY20sIGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKCFlX2J1dHRvbihlKSkgeyBkb25lKGUpIH1cbiAgICBlbHNlIHsgZXh0ZW5kKGUpIH1cbiAgfSlcbiAgdmFyIHVwID0gb3BlcmF0aW9uKGNtLCBkb25lKVxuICBjbS5zdGF0ZS5zZWxlY3RpbmdUZXh0ID0gdXBcbiAgb24oZG9jdW1lbnQsIFwibW91c2Vtb3ZlXCIsIG1vdmUpXG4gIG9uKGRvY3VtZW50LCBcIm1vdXNldXBcIiwgdXApXG59XG5cblxuLy8gRGV0ZXJtaW5lcyB3aGV0aGVyIGFuIGV2ZW50IGhhcHBlbmVkIGluIHRoZSBndXR0ZXIsIGFuZCBmaXJlcyB0aGVcbi8vIGhhbmRsZXJzIGZvciB0aGUgY29ycmVzcG9uZGluZyBldmVudC5cbmZ1bmN0aW9uIGd1dHRlckV2ZW50KGNtLCBlLCB0eXBlLCBwcmV2ZW50KSB7XG4gIHZhciBtWCwgbVlcbiAgdHJ5IHsgbVggPSBlLmNsaWVudFg7IG1ZID0gZS5jbGllbnRZIH1cbiAgY2F0Y2goZSkgeyByZXR1cm4gZmFsc2UgfVxuICBpZiAobVggPj0gTWF0aC5mbG9vcihjbS5kaXNwbGF5Lmd1dHRlcnMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQpKSB7IHJldHVybiBmYWxzZSB9XG4gIGlmIChwcmV2ZW50KSB7IGVfcHJldmVudERlZmF1bHQoZSkgfVxuXG4gIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheVxuICB2YXIgbGluZUJveCA9IGRpc3BsYXkubGluZURpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuXG4gIGlmIChtWSA+IGxpbmVCb3guYm90dG9tIHx8ICFoYXNIYW5kbGVyKGNtLCB0eXBlKSkgeyByZXR1cm4gZV9kZWZhdWx0UHJldmVudGVkKGUpIH1cbiAgbVkgLT0gbGluZUJveC50b3AgLSBkaXNwbGF5LnZpZXdPZmZzZXRcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGNtLm9wdGlvbnMuZ3V0dGVycy5sZW5ndGg7ICsraSkge1xuICAgIHZhciBnID0gZGlzcGxheS5ndXR0ZXJzLmNoaWxkTm9kZXNbaV1cbiAgICBpZiAoZyAmJiBnLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0ID49IG1YKSB7XG4gICAgICB2YXIgbGluZSA9IGxpbmVBdEhlaWdodChjbS5kb2MsIG1ZKVxuICAgICAgdmFyIGd1dHRlciA9IGNtLm9wdGlvbnMuZ3V0dGVyc1tpXVxuICAgICAgc2lnbmFsKGNtLCB0eXBlLCBjbSwgbGluZSwgZ3V0dGVyLCBlKVxuICAgICAgcmV0dXJuIGVfZGVmYXVsdFByZXZlbnRlZChlKVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjbGlja0luR3V0dGVyKGNtLCBlKSB7XG4gIHJldHVybiBndXR0ZXJFdmVudChjbSwgZSwgXCJndXR0ZXJDbGlja1wiLCB0cnVlKVxufVxuXG4vLyBDT05URVhUIE1FTlUgSEFORExJTkdcblxuLy8gVG8gbWFrZSB0aGUgY29udGV4dCBtZW51IHdvcmssIHdlIG5lZWQgdG8gYnJpZWZseSB1bmhpZGUgdGhlXG4vLyB0ZXh0YXJlYSAobWFraW5nIGl0IGFzIHVub2J0cnVzaXZlIGFzIHBvc3NpYmxlKSB0byBsZXQgdGhlXG4vLyByaWdodC1jbGljayB0YWtlIGVmZmVjdCBvbiBpdC5cbmZ1bmN0aW9uIG9uQ29udGV4dE1lbnUoY20sIGUpIHtcbiAgaWYgKGV2ZW50SW5XaWRnZXQoY20uZGlzcGxheSwgZSkgfHwgY29udGV4dE1lbnVJbkd1dHRlcihjbSwgZSkpIHsgcmV0dXJuIH1cbiAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBlLCBcImNvbnRleHRtZW51XCIpKSB7IHJldHVybiB9XG4gIGNtLmRpc3BsYXkuaW5wdXQub25Db250ZXh0TWVudShlKVxufVxuXG5mdW5jdGlvbiBjb250ZXh0TWVudUluR3V0dGVyKGNtLCBlKSB7XG4gIGlmICghaGFzSGFuZGxlcihjbSwgXCJndXR0ZXJDb250ZXh0TWVudVwiKSkgeyByZXR1cm4gZmFsc2UgfVxuICByZXR1cm4gZ3V0dGVyRXZlbnQoY20sIGUsIFwiZ3V0dGVyQ29udGV4dE1lbnVcIiwgZmFsc2UpXG59XG5cbmZ1bmN0aW9uIHRoZW1lQ2hhbmdlZChjbSkge1xuICBjbS5kaXNwbGF5LndyYXBwZXIuY2xhc3NOYW1lID0gY20uZGlzcGxheS53cmFwcGVyLmNsYXNzTmFtZS5yZXBsYWNlKC9cXHMqY20tcy1cXFMrL2csIFwiXCIpICtcbiAgICBjbS5vcHRpb25zLnRoZW1lLnJlcGxhY2UoLyhefFxccylcXHMqL2csIFwiIGNtLXMtXCIpXG4gIGNsZWFyQ2FjaGVzKGNtKVxufVxuXG52YXIgSW5pdCA9IHt0b1N0cmluZzogZnVuY3Rpb24oKXtyZXR1cm4gXCJDb2RlTWlycm9yLkluaXRcIn19XG5cbnZhciBkZWZhdWx0cyA9IHt9XG52YXIgb3B0aW9uSGFuZGxlcnMgPSB7fVxuXG5mdW5jdGlvbiBkZWZpbmVPcHRpb25zKENvZGVNaXJyb3IpIHtcbiAgdmFyIG9wdGlvbkhhbmRsZXJzID0gQ29kZU1pcnJvci5vcHRpb25IYW5kbGVyc1xuXG4gIGZ1bmN0aW9uIG9wdGlvbihuYW1lLCBkZWZsdCwgaGFuZGxlLCBub3RPbkluaXQpIHtcbiAgICBDb2RlTWlycm9yLmRlZmF1bHRzW25hbWVdID0gZGVmbHRcbiAgICBpZiAoaGFuZGxlKSB7IG9wdGlvbkhhbmRsZXJzW25hbWVdID1cbiAgICAgIG5vdE9uSW5pdCA/IGZ1bmN0aW9uIChjbSwgdmFsLCBvbGQpIHtpZiAob2xkICE9IEluaXQpIHsgaGFuZGxlKGNtLCB2YWwsIG9sZCkgfX0gOiBoYW5kbGUgfVxuICB9XG5cbiAgQ29kZU1pcnJvci5kZWZpbmVPcHRpb24gPSBvcHRpb25cblxuICAvLyBQYXNzZWQgdG8gb3B0aW9uIGhhbmRsZXJzIHdoZW4gdGhlcmUgaXMgbm8gb2xkIHZhbHVlLlxuICBDb2RlTWlycm9yLkluaXQgPSBJbml0XG5cbiAgLy8gVGhlc2UgdHdvIGFyZSwgb24gaW5pdCwgY2FsbGVkIGZyb20gdGhlIGNvbnN0cnVjdG9yIGJlY2F1c2UgdGhleVxuICAvLyBoYXZlIHRvIGJlIGluaXRpYWxpemVkIGJlZm9yZSB0aGUgZWRpdG9yIGNhbiBzdGFydCBhdCBhbGwuXG4gIG9wdGlvbihcInZhbHVlXCIsIFwiXCIsIGZ1bmN0aW9uIChjbSwgdmFsKSB7IHJldHVybiBjbS5zZXRWYWx1ZSh2YWwpOyB9LCB0cnVlKVxuICBvcHRpb24oXCJtb2RlXCIsIG51bGwsIGZ1bmN0aW9uIChjbSwgdmFsKSB7XG4gICAgY20uZG9jLm1vZGVPcHRpb24gPSB2YWxcbiAgICBsb2FkTW9kZShjbSlcbiAgfSwgdHJ1ZSlcblxuICBvcHRpb24oXCJpbmRlbnRVbml0XCIsIDIsIGxvYWRNb2RlLCB0cnVlKVxuICBvcHRpb24oXCJpbmRlbnRXaXRoVGFic1wiLCBmYWxzZSlcbiAgb3B0aW9uKFwic21hcnRJbmRlbnRcIiwgdHJ1ZSlcbiAgb3B0aW9uKFwidGFiU2l6ZVwiLCA0LCBmdW5jdGlvbiAoY20pIHtcbiAgICByZXNldE1vZGVTdGF0ZShjbSlcbiAgICBjbGVhckNhY2hlcyhjbSlcbiAgICByZWdDaGFuZ2UoY20pXG4gIH0sIHRydWUpXG4gIG9wdGlvbihcImxpbmVTZXBhcmF0b3JcIiwgbnVsbCwgZnVuY3Rpb24gKGNtLCB2YWwpIHtcbiAgICBjbS5kb2MubGluZVNlcCA9IHZhbFxuICAgIGlmICghdmFsKSB7IHJldHVybiB9XG4gICAgdmFyIG5ld0JyZWFrcyA9IFtdLCBsaW5lTm8gPSBjbS5kb2MuZmlyc3RcbiAgICBjbS5kb2MuaXRlcihmdW5jdGlvbiAobGluZSkge1xuICAgICAgZm9yICh2YXIgcG9zID0gMDs7KSB7XG4gICAgICAgIHZhciBmb3VuZCA9IGxpbmUudGV4dC5pbmRleE9mKHZhbCwgcG9zKVxuICAgICAgICBpZiAoZm91bmQgPT0gLTEpIHsgYnJlYWsgfVxuICAgICAgICBwb3MgPSBmb3VuZCArIHZhbC5sZW5ndGhcbiAgICAgICAgbmV3QnJlYWtzLnB1c2goUG9zKGxpbmVObywgZm91bmQpKVxuICAgICAgfVxuICAgICAgbGluZU5vKytcbiAgICB9KVxuICAgIGZvciAodmFyIGkgPSBuZXdCcmVha3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICB7IHJlcGxhY2VSYW5nZShjbS5kb2MsIHZhbCwgbmV3QnJlYWtzW2ldLCBQb3MobmV3QnJlYWtzW2ldLmxpbmUsIG5ld0JyZWFrc1tpXS5jaCArIHZhbC5sZW5ndGgpKSB9XG4gIH0pXG4gIG9wdGlvbihcInNwZWNpYWxDaGFyc1wiLCAvW1xcdTAwMDAtXFx1MDAxZlxcdTAwN2ZcXHUwMGFkXFx1MjAwYi1cXHUyMDBmXFx1MjAyOFxcdTIwMjlcXHVmZWZmXS9nLCBmdW5jdGlvbiAoY20sIHZhbCwgb2xkKSB7XG4gICAgY20uc3RhdGUuc3BlY2lhbENoYXJzID0gbmV3IFJlZ0V4cCh2YWwuc291cmNlICsgKHZhbC50ZXN0KFwiXFx0XCIpID8gXCJcIiA6IFwifFxcdFwiKSwgXCJnXCIpXG4gICAgaWYgKG9sZCAhPSBJbml0KSB7IGNtLnJlZnJlc2goKSB9XG4gIH0pXG4gIG9wdGlvbihcInNwZWNpYWxDaGFyUGxhY2Vob2xkZXJcIiwgZGVmYXVsdFNwZWNpYWxDaGFyUGxhY2Vob2xkZXIsIGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ucmVmcmVzaCgpOyB9LCB0cnVlKVxuICBvcHRpb24oXCJlbGVjdHJpY0NoYXJzXCIsIHRydWUpXG4gIG9wdGlvbihcImlucHV0U3R5bGVcIiwgbW9iaWxlID8gXCJjb250ZW50ZWRpdGFibGVcIiA6IFwidGV4dGFyZWFcIiwgZnVuY3Rpb24gKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcImlucHV0U3R5bGUgY2FuIG5vdCAoeWV0KSBiZSBjaGFuZ2VkIGluIGEgcnVubmluZyBlZGl0b3JcIikgLy8gRklYTUVcbiAgfSwgdHJ1ZSlcbiAgb3B0aW9uKFwic3BlbGxjaGVja1wiLCBmYWxzZSwgZnVuY3Rpb24gKGNtLCB2YWwpIHsgcmV0dXJuIGNtLmdldElucHV0RmllbGQoKS5zcGVsbGNoZWNrID0gdmFsOyB9LCB0cnVlKVxuICBvcHRpb24oXCJydGxNb3ZlVmlzdWFsbHlcIiwgIXdpbmRvd3MpXG4gIG9wdGlvbihcIndob2xlTGluZVVwZGF0ZUJlZm9yZVwiLCB0cnVlKVxuXG4gIG9wdGlvbihcInRoZW1lXCIsIFwiZGVmYXVsdFwiLCBmdW5jdGlvbiAoY20pIHtcbiAgICB0aGVtZUNoYW5nZWQoY20pXG4gICAgZ3V0dGVyc0NoYW5nZWQoY20pXG4gIH0sIHRydWUpXG4gIG9wdGlvbihcImtleU1hcFwiLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24gKGNtLCB2YWwsIG9sZCkge1xuICAgIHZhciBuZXh0ID0gZ2V0S2V5TWFwKHZhbClcbiAgICB2YXIgcHJldiA9IG9sZCAhPSBJbml0ICYmIGdldEtleU1hcChvbGQpXG4gICAgaWYgKHByZXYgJiYgcHJldi5kZXRhY2gpIHsgcHJldi5kZXRhY2goY20sIG5leHQpIH1cbiAgICBpZiAobmV4dC5hdHRhY2gpIHsgbmV4dC5hdHRhY2goY20sIHByZXYgfHwgbnVsbCkgfVxuICB9KVxuICBvcHRpb24oXCJleHRyYUtleXNcIiwgbnVsbClcblxuICBvcHRpb24oXCJsaW5lV3JhcHBpbmdcIiwgZmFsc2UsIHdyYXBwaW5nQ2hhbmdlZCwgdHJ1ZSlcbiAgb3B0aW9uKFwiZ3V0dGVyc1wiLCBbXSwgZnVuY3Rpb24gKGNtKSB7XG4gICAgc2V0R3V0dGVyc0ZvckxpbmVOdW1iZXJzKGNtLm9wdGlvbnMpXG4gICAgZ3V0dGVyc0NoYW5nZWQoY20pXG4gIH0sIHRydWUpXG4gIG9wdGlvbihcImZpeGVkR3V0dGVyXCIsIHRydWUsIGZ1bmN0aW9uIChjbSwgdmFsKSB7XG4gICAgY20uZGlzcGxheS5ndXR0ZXJzLnN0eWxlLmxlZnQgPSB2YWwgPyBjb21wZW5zYXRlRm9ySFNjcm9sbChjbS5kaXNwbGF5KSArIFwicHhcIiA6IFwiMFwiXG4gICAgY20ucmVmcmVzaCgpXG4gIH0sIHRydWUpXG4gIG9wdGlvbihcImNvdmVyR3V0dGVyTmV4dFRvU2Nyb2xsYmFyXCIsIGZhbHNlLCBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIHVwZGF0ZVNjcm9sbGJhcnMoY20pOyB9LCB0cnVlKVxuICBvcHRpb24oXCJzY3JvbGxiYXJTdHlsZVwiLCBcIm5hdGl2ZVwiLCBmdW5jdGlvbiAoY20pIHtcbiAgICBpbml0U2Nyb2xsYmFycyhjbSlcbiAgICB1cGRhdGVTY3JvbGxiYXJzKGNtKVxuICAgIGNtLmRpc3BsYXkuc2Nyb2xsYmFycy5zZXRTY3JvbGxUb3AoY20uZG9jLnNjcm9sbFRvcClcbiAgICBjbS5kaXNwbGF5LnNjcm9sbGJhcnMuc2V0U2Nyb2xsTGVmdChjbS5kb2Muc2Nyb2xsTGVmdClcbiAgfSwgdHJ1ZSlcbiAgb3B0aW9uKFwibGluZU51bWJlcnNcIiwgZmFsc2UsIGZ1bmN0aW9uIChjbSkge1xuICAgIHNldEd1dHRlcnNGb3JMaW5lTnVtYmVycyhjbS5vcHRpb25zKVxuICAgIGd1dHRlcnNDaGFuZ2VkKGNtKVxuICB9LCB0cnVlKVxuICBvcHRpb24oXCJmaXJzdExpbmVOdW1iZXJcIiwgMSwgZ3V0dGVyc0NoYW5nZWQsIHRydWUpXG4gIG9wdGlvbihcImxpbmVOdW1iZXJGb3JtYXR0ZXJcIiwgZnVuY3Rpb24gKGludGVnZXIpIHsgcmV0dXJuIGludGVnZXI7IH0sIGd1dHRlcnNDaGFuZ2VkLCB0cnVlKVxuICBvcHRpb24oXCJzaG93Q3Vyc29yV2hlblNlbGVjdGluZ1wiLCBmYWxzZSwgdXBkYXRlU2VsZWN0aW9uLCB0cnVlKVxuXG4gIG9wdGlvbihcInJlc2V0U2VsZWN0aW9uT25Db250ZXh0TWVudVwiLCB0cnVlKVxuICBvcHRpb24oXCJsaW5lV2lzZUNvcHlDdXRcIiwgdHJ1ZSlcblxuICBvcHRpb24oXCJyZWFkT25seVwiLCBmYWxzZSwgZnVuY3Rpb24gKGNtLCB2YWwpIHtcbiAgICBpZiAodmFsID09IFwibm9jdXJzb3JcIikge1xuICAgICAgb25CbHVyKGNtKVxuICAgICAgY20uZGlzcGxheS5pbnB1dC5ibHVyKClcbiAgICAgIGNtLmRpc3BsYXkuZGlzYWJsZWQgPSB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIGNtLmRpc3BsYXkuZGlzYWJsZWQgPSBmYWxzZVxuICAgIH1cbiAgICBjbS5kaXNwbGF5LmlucHV0LnJlYWRPbmx5Q2hhbmdlZCh2YWwpXG4gIH0pXG4gIG9wdGlvbihcImRpc2FibGVJbnB1dFwiLCBmYWxzZSwgZnVuY3Rpb24gKGNtLCB2YWwpIHtpZiAoIXZhbCkgeyBjbS5kaXNwbGF5LmlucHV0LnJlc2V0KCkgfX0sIHRydWUpXG4gIG9wdGlvbihcImRyYWdEcm9wXCIsIHRydWUsIGRyYWdEcm9wQ2hhbmdlZClcbiAgb3B0aW9uKFwiYWxsb3dEcm9wRmlsZVR5cGVzXCIsIG51bGwpXG5cbiAgb3B0aW9uKFwiY3Vyc29yQmxpbmtSYXRlXCIsIDUzMClcbiAgb3B0aW9uKFwiY3Vyc29yU2Nyb2xsTWFyZ2luXCIsIDApXG4gIG9wdGlvbihcImN1cnNvckhlaWdodFwiLCAxLCB1cGRhdGVTZWxlY3Rpb24sIHRydWUpXG4gIG9wdGlvbihcInNpbmdsZUN1cnNvckhlaWdodFBlckxpbmVcIiwgdHJ1ZSwgdXBkYXRlU2VsZWN0aW9uLCB0cnVlKVxuICBvcHRpb24oXCJ3b3JrVGltZVwiLCAxMDApXG4gIG9wdGlvbihcIndvcmtEZWxheVwiLCAxMDApXG4gIG9wdGlvbihcImZsYXR0ZW5TcGFuc1wiLCB0cnVlLCByZXNldE1vZGVTdGF0ZSwgdHJ1ZSlcbiAgb3B0aW9uKFwiYWRkTW9kZUNsYXNzXCIsIGZhbHNlLCByZXNldE1vZGVTdGF0ZSwgdHJ1ZSlcbiAgb3B0aW9uKFwicG9sbEludGVydmFsXCIsIDEwMClcbiAgb3B0aW9uKFwidW5kb0RlcHRoXCIsIDIwMCwgZnVuY3Rpb24gKGNtLCB2YWwpIHsgcmV0dXJuIGNtLmRvYy5oaXN0b3J5LnVuZG9EZXB0aCA9IHZhbDsgfSlcbiAgb3B0aW9uKFwiaGlzdG9yeUV2ZW50RGVsYXlcIiwgMTI1MClcbiAgb3B0aW9uKFwidmlld3BvcnRNYXJnaW5cIiwgMTAsIGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ucmVmcmVzaCgpOyB9LCB0cnVlKVxuICBvcHRpb24oXCJtYXhIaWdobGlnaHRMZW5ndGhcIiwgMTAwMDAsIHJlc2V0TW9kZVN0YXRlLCB0cnVlKVxuICBvcHRpb24oXCJtb3ZlSW5wdXRXaXRoQ3Vyc29yXCIsIHRydWUsIGZ1bmN0aW9uIChjbSwgdmFsKSB7XG4gICAgaWYgKCF2YWwpIHsgY20uZGlzcGxheS5pbnB1dC5yZXNldFBvc2l0aW9uKCkgfVxuICB9KVxuXG4gIG9wdGlvbihcInRhYmluZGV4XCIsIG51bGwsIGZ1bmN0aW9uIChjbSwgdmFsKSB7IHJldHVybiBjbS5kaXNwbGF5LmlucHV0LmdldEZpZWxkKCkudGFiSW5kZXggPSB2YWwgfHwgXCJcIjsgfSlcbiAgb3B0aW9uKFwiYXV0b2ZvY3VzXCIsIG51bGwpXG59XG5cbmZ1bmN0aW9uIGd1dHRlcnNDaGFuZ2VkKGNtKSB7XG4gIHVwZGF0ZUd1dHRlcnMoY20pXG4gIHJlZ0NoYW5nZShjbSlcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBhbGlnbkhvcml6b250YWxseShjbSk7IH0sIDIwKVxufVxuXG5mdW5jdGlvbiBkcmFnRHJvcENoYW5nZWQoY20sIHZhbHVlLCBvbGQpIHtcbiAgdmFyIHdhc09uID0gb2xkICYmIG9sZCAhPSBJbml0XG4gIGlmICghdmFsdWUgIT0gIXdhc09uKSB7XG4gICAgdmFyIGZ1bmNzID0gY20uZGlzcGxheS5kcmFnRnVuY3Rpb25zXG4gICAgdmFyIHRvZ2dsZSA9IHZhbHVlID8gb24gOiBvZmZcbiAgICB0b2dnbGUoY20uZGlzcGxheS5zY3JvbGxlciwgXCJkcmFnc3RhcnRcIiwgZnVuY3Muc3RhcnQpXG4gICAgdG9nZ2xlKGNtLmRpc3BsYXkuc2Nyb2xsZXIsIFwiZHJhZ2VudGVyXCIsIGZ1bmNzLmVudGVyKVxuICAgIHRvZ2dsZShjbS5kaXNwbGF5LnNjcm9sbGVyLCBcImRyYWdvdmVyXCIsIGZ1bmNzLm92ZXIpXG4gICAgdG9nZ2xlKGNtLmRpc3BsYXkuc2Nyb2xsZXIsIFwiZHJhZ2xlYXZlXCIsIGZ1bmNzLmxlYXZlKVxuICAgIHRvZ2dsZShjbS5kaXNwbGF5LnNjcm9sbGVyLCBcImRyb3BcIiwgZnVuY3MuZHJvcClcbiAgfVxufVxuXG5mdW5jdGlvbiB3cmFwcGluZ0NoYW5nZWQoY20pIHtcbiAgaWYgKGNtLm9wdGlvbnMubGluZVdyYXBwaW5nKSB7XG4gICAgYWRkQ2xhc3MoY20uZGlzcGxheS53cmFwcGVyLCBcIkNvZGVNaXJyb3Itd3JhcFwiKVxuICAgIGNtLmRpc3BsYXkuc2l6ZXIuc3R5bGUubWluV2lkdGggPSBcIlwiXG4gICAgY20uZGlzcGxheS5zaXplcldpZHRoID0gbnVsbFxuICB9IGVsc2Uge1xuICAgIHJtQ2xhc3MoY20uZGlzcGxheS53cmFwcGVyLCBcIkNvZGVNaXJyb3Itd3JhcFwiKVxuICAgIGZpbmRNYXhMaW5lKGNtKVxuICB9XG4gIGVzdGltYXRlTGluZUhlaWdodHMoY20pXG4gIHJlZ0NoYW5nZShjbSlcbiAgY2xlYXJDYWNoZXMoY20pXG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gdXBkYXRlU2Nyb2xsYmFycyhjbSk7IH0sIDEwMClcbn1cblxuLy8gQSBDb2RlTWlycm9yIGluc3RhbmNlIHJlcHJlc2VudHMgYW4gZWRpdG9yLiBUaGlzIGlzIHRoZSBvYmplY3Rcbi8vIHRoYXQgdXNlciBjb2RlIGlzIHVzdWFsbHkgZGVhbGluZyB3aXRoLlxuXG5mdW5jdGlvbiBDb2RlTWlycm9yKHBsYWNlLCBvcHRpb25zKSB7XG4gIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBDb2RlTWlycm9yKSkgeyByZXR1cm4gbmV3IENvZGVNaXJyb3IocGxhY2UsIG9wdGlvbnMpIH1cblxuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zID0gb3B0aW9ucyA/IGNvcHlPYmoob3B0aW9ucykgOiB7fVxuICAvLyBEZXRlcm1pbmUgZWZmZWN0aXZlIG9wdGlvbnMgYmFzZWQgb24gZ2l2ZW4gdmFsdWVzIGFuZCBkZWZhdWx0cy5cbiAgY29weU9iaihkZWZhdWx0cywgb3B0aW9ucywgZmFsc2UpXG4gIHNldEd1dHRlcnNGb3JMaW5lTnVtYmVycyhvcHRpb25zKVxuXG4gIHZhciBkb2MgPSBvcHRpb25zLnZhbHVlXG4gIGlmICh0eXBlb2YgZG9jID09IFwic3RyaW5nXCIpIHsgZG9jID0gbmV3IERvYyhkb2MsIG9wdGlvbnMubW9kZSwgbnVsbCwgb3B0aW9ucy5saW5lU2VwYXJhdG9yKSB9XG4gIHRoaXMuZG9jID0gZG9jXG5cbiAgdmFyIGlucHV0ID0gbmV3IENvZGVNaXJyb3IuaW5wdXRTdHlsZXNbb3B0aW9ucy5pbnB1dFN0eWxlXSh0aGlzKVxuICB2YXIgZGlzcGxheSA9IHRoaXMuZGlzcGxheSA9IG5ldyBEaXNwbGF5KHBsYWNlLCBkb2MsIGlucHV0KVxuICBkaXNwbGF5LndyYXBwZXIuQ29kZU1pcnJvciA9IHRoaXNcbiAgdXBkYXRlR3V0dGVycyh0aGlzKVxuICB0aGVtZUNoYW5nZWQodGhpcylcbiAgaWYgKG9wdGlvbnMubGluZVdyYXBwaW5nKVxuICAgIHsgdGhpcy5kaXNwbGF5LndyYXBwZXIuY2xhc3NOYW1lICs9IFwiIENvZGVNaXJyb3Itd3JhcFwiIH1cbiAgaWYgKG9wdGlvbnMuYXV0b2ZvY3VzICYmICFtb2JpbGUpIHsgZGlzcGxheS5pbnB1dC5mb2N1cygpIH1cbiAgaW5pdFNjcm9sbGJhcnModGhpcylcblxuICB0aGlzLnN0YXRlID0ge1xuICAgIGtleU1hcHM6IFtdLCAgLy8gc3RvcmVzIG1hcHMgYWRkZWQgYnkgYWRkS2V5TWFwXG4gICAgb3ZlcmxheXM6IFtdLCAvLyBoaWdobGlnaHRpbmcgb3ZlcmxheXMsIGFzIGFkZGVkIGJ5IGFkZE92ZXJsYXlcbiAgICBtb2RlR2VuOiAwLCAgIC8vIGJ1bXBlZCB3aGVuIG1vZGUvb3ZlcmxheSBjaGFuZ2VzLCB1c2VkIHRvIGludmFsaWRhdGUgaGlnaGxpZ2h0aW5nIGluZm9cbiAgICBvdmVyd3JpdGU6IGZhbHNlLFxuICAgIGRlbGF5aW5nQmx1ckV2ZW50OiBmYWxzZSxcbiAgICBmb2N1c2VkOiBmYWxzZSxcbiAgICBzdXBwcmVzc0VkaXRzOiBmYWxzZSwgLy8gdXNlZCB0byBkaXNhYmxlIGVkaXRpbmcgZHVyaW5nIGtleSBoYW5kbGVycyB3aGVuIGluIHJlYWRPbmx5IG1vZGVcbiAgICBwYXN0ZUluY29taW5nOiBmYWxzZSwgY3V0SW5jb21pbmc6IGZhbHNlLCAvLyBoZWxwIHJlY29nbml6ZSBwYXN0ZS9jdXQgZWRpdHMgaW4gaW5wdXQucG9sbFxuICAgIHNlbGVjdGluZ1RleHQ6IGZhbHNlLFxuICAgIGRyYWdnaW5nVGV4dDogZmFsc2UsXG4gICAgaGlnaGxpZ2h0OiBuZXcgRGVsYXllZCgpLCAvLyBzdG9yZXMgaGlnaGxpZ2h0IHdvcmtlciB0aW1lb3V0XG4gICAga2V5U2VxOiBudWxsLCAgLy8gVW5maW5pc2hlZCBrZXkgc2VxdWVuY2VcbiAgICBzcGVjaWFsQ2hhcnM6IG51bGxcbiAgfVxuXG4gIC8vIE92ZXJyaWRlIG1hZ2ljIHRleHRhcmVhIGNvbnRlbnQgcmVzdG9yZSB0aGF0IElFIHNvbWV0aW1lcyBkb2VzXG4gIC8vIG9uIG91ciBoaWRkZW4gdGV4dGFyZWEgb24gcmVsb2FkXG4gIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgMTEpIHsgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzJDEuZGlzcGxheS5pbnB1dC5yZXNldCh0cnVlKTsgfSwgMjApIH1cblxuICByZWdpc3RlckV2ZW50SGFuZGxlcnModGhpcylcbiAgZW5zdXJlR2xvYmFsSGFuZGxlcnMoKVxuXG4gIHN0YXJ0T3BlcmF0aW9uKHRoaXMpXG4gIHRoaXMuY3VyT3AuZm9yY2VVcGRhdGUgPSB0cnVlXG4gIGF0dGFjaERvYyh0aGlzLCBkb2MpXG5cbiAgaWYgKChvcHRpb25zLmF1dG9mb2N1cyAmJiAhbW9iaWxlKSB8fCB0aGlzLmhhc0ZvY3VzKCkpXG4gICAgeyBzZXRUaW1lb3V0KGJpbmQob25Gb2N1cywgdGhpcyksIDIwKSB9XG4gIGVsc2VcbiAgICB7IG9uQmx1cih0aGlzKSB9XG5cbiAgZm9yICh2YXIgb3B0IGluIG9wdGlvbkhhbmRsZXJzKSB7IGlmIChvcHRpb25IYW5kbGVycy5oYXNPd25Qcm9wZXJ0eShvcHQpKVxuICAgIHsgb3B0aW9uSGFuZGxlcnNbb3B0XSh0aGlzJDEsIG9wdGlvbnNbb3B0XSwgSW5pdCkgfSB9XG4gIG1heWJlVXBkYXRlTGluZU51bWJlcldpZHRoKHRoaXMpXG4gIGlmIChvcHRpb25zLmZpbmlzaEluaXQpIHsgb3B0aW9ucy5maW5pc2hJbml0KHRoaXMpIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbml0SG9va3MubGVuZ3RoOyArK2kpIHsgaW5pdEhvb2tzW2ldKHRoaXMkMSkgfVxuICBlbmRPcGVyYXRpb24odGhpcylcbiAgLy8gU3VwcHJlc3Mgb3B0aW1pemVsZWdpYmlsaXR5IGluIFdlYmtpdCwgc2luY2UgaXQgYnJlYWtzIHRleHRcbiAgLy8gbWVhc3VyaW5nIG9uIGxpbmUgd3JhcHBpbmcgYm91bmRhcmllcy5cbiAgaWYgKHdlYmtpdCAmJiBvcHRpb25zLmxpbmVXcmFwcGluZyAmJlxuICAgICAgZ2V0Q29tcHV0ZWRTdHlsZShkaXNwbGF5LmxpbmVEaXYpLnRleHRSZW5kZXJpbmcgPT0gXCJvcHRpbWl6ZWxlZ2liaWxpdHlcIilcbiAgICB7IGRpc3BsYXkubGluZURpdi5zdHlsZS50ZXh0UmVuZGVyaW5nID0gXCJhdXRvXCIgfVxufVxuXG4vLyBUaGUgZGVmYXVsdCBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG5Db2RlTWlycm9yLmRlZmF1bHRzID0gZGVmYXVsdHNcbi8vIEZ1bmN0aW9ucyB0byBydW4gd2hlbiBvcHRpb25zIGFyZSBjaGFuZ2VkLlxuQ29kZU1pcnJvci5vcHRpb25IYW5kbGVycyA9IG9wdGlvbkhhbmRsZXJzXG5cbi8vIEF0dGFjaCB0aGUgbmVjZXNzYXJ5IGV2ZW50IGhhbmRsZXJzIHdoZW4gaW5pdGlhbGl6aW5nIHRoZSBlZGl0b3JcbmZ1bmN0aW9uIHJlZ2lzdGVyRXZlbnRIYW5kbGVycyhjbSkge1xuICB2YXIgZCA9IGNtLmRpc3BsYXlcbiAgb24oZC5zY3JvbGxlciwgXCJtb3VzZWRvd25cIiwgb3BlcmF0aW9uKGNtLCBvbk1vdXNlRG93bikpXG4gIC8vIE9sZGVyIElFJ3Mgd2lsbCBub3QgZmlyZSBhIHNlY29uZCBtb3VzZWRvd24gZm9yIGEgZG91YmxlIGNsaWNrXG4gIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgMTEpXG4gICAgeyBvbihkLnNjcm9sbGVyLCBcImRibGNsaWNrXCIsIG9wZXJhdGlvbihjbSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChzaWduYWxET01FdmVudChjbSwgZSkpIHsgcmV0dXJuIH1cbiAgICAgIHZhciBwb3MgPSBwb3NGcm9tTW91c2UoY20sIGUpXG4gICAgICBpZiAoIXBvcyB8fCBjbGlja0luR3V0dGVyKGNtLCBlKSB8fCBldmVudEluV2lkZ2V0KGNtLmRpc3BsYXksIGUpKSB7IHJldHVybiB9XG4gICAgICBlX3ByZXZlbnREZWZhdWx0KGUpXG4gICAgICB2YXIgd29yZCA9IGNtLmZpbmRXb3JkQXQocG9zKVxuICAgICAgZXh0ZW5kU2VsZWN0aW9uKGNtLmRvYywgd29yZC5hbmNob3IsIHdvcmQuaGVhZClcbiAgICB9KSkgfVxuICBlbHNlXG4gICAgeyBvbihkLnNjcm9sbGVyLCBcImRibGNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7IHJldHVybiBzaWduYWxET01FdmVudChjbSwgZSkgfHwgZV9wcmV2ZW50RGVmYXVsdChlKTsgfSkgfVxuICAvLyBTb21lIGJyb3dzZXJzIGZpcmUgY29udGV4dG1lbnUgKmFmdGVyKiBvcGVuaW5nIHRoZSBtZW51LCBhdFxuICAvLyB3aGljaCBwb2ludCB3ZSBjYW4ndCBtZXNzIHdpdGggaXQgYW55bW9yZS4gQ29udGV4dCBtZW51IGlzXG4gIC8vIGhhbmRsZWQgaW4gb25Nb3VzZURvd24gZm9yIHRoZXNlIGJyb3dzZXJzLlxuICBpZiAoIWNhcHR1cmVSaWdodENsaWNrKSB7IG9uKGQuc2Nyb2xsZXIsIFwiY29udGV4dG1lbnVcIiwgZnVuY3Rpb24gKGUpIHsgcmV0dXJuIG9uQ29udGV4dE1lbnUoY20sIGUpOyB9KSB9XG5cbiAgLy8gVXNlZCB0byBzdXBwcmVzcyBtb3VzZSBldmVudCBoYW5kbGluZyB3aGVuIGEgdG91Y2ggaGFwcGVuc1xuICB2YXIgdG91Y2hGaW5pc2hlZCwgcHJldlRvdWNoID0ge2VuZDogMH1cbiAgZnVuY3Rpb24gZmluaXNoVG91Y2goKSB7XG4gICAgaWYgKGQuYWN0aXZlVG91Y2gpIHtcbiAgICAgIHRvdWNoRmluaXNoZWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGQuYWN0aXZlVG91Y2ggPSBudWxsOyB9LCAxMDAwKVxuICAgICAgcHJldlRvdWNoID0gZC5hY3RpdmVUb3VjaFxuICAgICAgcHJldlRvdWNoLmVuZCA9ICtuZXcgRGF0ZVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBpc01vdXNlTGlrZVRvdWNoRXZlbnQoZSkge1xuICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoICE9IDEpIHsgcmV0dXJuIGZhbHNlIH1cbiAgICB2YXIgdG91Y2ggPSBlLnRvdWNoZXNbMF1cbiAgICByZXR1cm4gdG91Y2gucmFkaXVzWCA8PSAxICYmIHRvdWNoLnJhZGl1c1kgPD0gMVxuICB9XG4gIGZ1bmN0aW9uIGZhckF3YXkodG91Y2gsIG90aGVyKSB7XG4gICAgaWYgKG90aGVyLmxlZnQgPT0gbnVsbCkgeyByZXR1cm4gdHJ1ZSB9XG4gICAgdmFyIGR4ID0gb3RoZXIubGVmdCAtIHRvdWNoLmxlZnQsIGR5ID0gb3RoZXIudG9wIC0gdG91Y2gudG9wXG4gICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5ID4gMjAgKiAyMFxuICB9XG4gIG9uKGQuc2Nyb2xsZXIsIFwidG91Y2hzdGFydFwiLCBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghc2lnbmFsRE9NRXZlbnQoY20sIGUpICYmICFpc01vdXNlTGlrZVRvdWNoRXZlbnQoZSkpIHtcbiAgICAgIGQuaW5wdXQuZW5zdXJlUG9sbGVkKClcbiAgICAgIGNsZWFyVGltZW91dCh0b3VjaEZpbmlzaGVkKVxuICAgICAgdmFyIG5vdyA9ICtuZXcgRGF0ZVxuICAgICAgZC5hY3RpdmVUb3VjaCA9IHtzdGFydDogbm93LCBtb3ZlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgIHByZXY6IG5vdyAtIHByZXZUb3VjaC5lbmQgPD0gMzAwID8gcHJldlRvdWNoIDogbnVsbH1cbiAgICAgIGlmIChlLnRvdWNoZXMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgZC5hY3RpdmVUb3VjaC5sZWZ0ID0gZS50b3VjaGVzWzBdLnBhZ2VYXG4gICAgICAgIGQuYWN0aXZlVG91Y2gudG9wID0gZS50b3VjaGVzWzBdLnBhZ2VZXG4gICAgICB9XG4gICAgfVxuICB9KVxuICBvbihkLnNjcm9sbGVyLCBcInRvdWNobW92ZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGQuYWN0aXZlVG91Y2gpIHsgZC5hY3RpdmVUb3VjaC5tb3ZlZCA9IHRydWUgfVxuICB9KVxuICBvbihkLnNjcm9sbGVyLCBcInRvdWNoZW5kXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHRvdWNoID0gZC5hY3RpdmVUb3VjaFxuICAgIGlmICh0b3VjaCAmJiAhZXZlbnRJbldpZGdldChkLCBlKSAmJiB0b3VjaC5sZWZ0ICE9IG51bGwgJiZcbiAgICAgICAgIXRvdWNoLm1vdmVkICYmIG5ldyBEYXRlIC0gdG91Y2guc3RhcnQgPCAzMDApIHtcbiAgICAgIHZhciBwb3MgPSBjbS5jb29yZHNDaGFyKGQuYWN0aXZlVG91Y2gsIFwicGFnZVwiKSwgcmFuZ2VcbiAgICAgIGlmICghdG91Y2gucHJldiB8fCBmYXJBd2F5KHRvdWNoLCB0b3VjaC5wcmV2KSkgLy8gU2luZ2xlIHRhcFxuICAgICAgICB7IHJhbmdlID0gbmV3IFJhbmdlKHBvcywgcG9zKSB9XG4gICAgICBlbHNlIGlmICghdG91Y2gucHJldi5wcmV2IHx8IGZhckF3YXkodG91Y2gsIHRvdWNoLnByZXYucHJldikpIC8vIERvdWJsZSB0YXBcbiAgICAgICAgeyByYW5nZSA9IGNtLmZpbmRXb3JkQXQocG9zKSB9XG4gICAgICBlbHNlIC8vIFRyaXBsZSB0YXBcbiAgICAgICAgeyByYW5nZSA9IG5ldyBSYW5nZShQb3MocG9zLmxpbmUsIDApLCBjbGlwUG9zKGNtLmRvYywgUG9zKHBvcy5saW5lICsgMSwgMCkpKSB9XG4gICAgICBjbS5zZXRTZWxlY3Rpb24ocmFuZ2UuYW5jaG9yLCByYW5nZS5oZWFkKVxuICAgICAgY20uZm9jdXMoKVxuICAgICAgZV9wcmV2ZW50RGVmYXVsdChlKVxuICAgIH1cbiAgICBmaW5pc2hUb3VjaCgpXG4gIH0pXG4gIG9uKGQuc2Nyb2xsZXIsIFwidG91Y2hjYW5jZWxcIiwgZmluaXNoVG91Y2gpXG5cbiAgLy8gU3luYyBzY3JvbGxpbmcgYmV0d2VlbiBmYWtlIHNjcm9sbGJhcnMgYW5kIHJlYWwgc2Nyb2xsYWJsZVxuICAvLyBhcmVhLCBlbnN1cmUgdmlld3BvcnQgaXMgdXBkYXRlZCB3aGVuIHNjcm9sbGluZy5cbiAgb24oZC5zY3JvbGxlciwgXCJzY3JvbGxcIiwgZnVuY3Rpb24gKCkge1xuICAgIGlmIChkLnNjcm9sbGVyLmNsaWVudEhlaWdodCkge1xuICAgICAgc2V0U2Nyb2xsVG9wKGNtLCBkLnNjcm9sbGVyLnNjcm9sbFRvcClcbiAgICAgIHNldFNjcm9sbExlZnQoY20sIGQuc2Nyb2xsZXIuc2Nyb2xsTGVmdCwgdHJ1ZSlcbiAgICAgIHNpZ25hbChjbSwgXCJzY3JvbGxcIiwgY20pXG4gICAgfVxuICB9KVxuXG4gIC8vIExpc3RlbiB0byB3aGVlbCBldmVudHMgaW4gb3JkZXIgdG8gdHJ5IGFuZCB1cGRhdGUgdGhlIHZpZXdwb3J0IG9uIHRpbWUuXG4gIG9uKGQuc2Nyb2xsZXIsIFwibW91c2V3aGVlbFwiLCBmdW5jdGlvbiAoZSkgeyByZXR1cm4gb25TY3JvbGxXaGVlbChjbSwgZSk7IH0pXG4gIG9uKGQuc2Nyb2xsZXIsIFwiRE9NTW91c2VTY3JvbGxcIiwgZnVuY3Rpb24gKGUpIHsgcmV0dXJuIG9uU2Nyb2xsV2hlZWwoY20sIGUpOyB9KVxuXG4gIC8vIFByZXZlbnQgd3JhcHBlciBmcm9tIGV2ZXIgc2Nyb2xsaW5nXG4gIG9uKGQud3JhcHBlciwgXCJzY3JvbGxcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gZC53cmFwcGVyLnNjcm9sbFRvcCA9IGQud3JhcHBlci5zY3JvbGxMZWZ0ID0gMDsgfSlcblxuICBkLmRyYWdGdW5jdGlvbnMgPSB7XG4gICAgZW50ZXI6IGZ1bmN0aW9uIChlKSB7aWYgKCFzaWduYWxET01FdmVudChjbSwgZSkpIHsgZV9zdG9wKGUpIH19LFxuICAgIG92ZXI6IGZ1bmN0aW9uIChlKSB7aWYgKCFzaWduYWxET01FdmVudChjbSwgZSkpIHsgb25EcmFnT3ZlcihjbSwgZSk7IGVfc3RvcChlKSB9fSxcbiAgICBzdGFydDogZnVuY3Rpb24gKGUpIHsgcmV0dXJuIG9uRHJhZ1N0YXJ0KGNtLCBlKTsgfSxcbiAgICBkcm9wOiBvcGVyYXRpb24oY20sIG9uRHJvcCksXG4gICAgbGVhdmU6IGZ1bmN0aW9uIChlKSB7aWYgKCFzaWduYWxET01FdmVudChjbSwgZSkpIHsgY2xlYXJEcmFnQ3Vyc29yKGNtKSB9fVxuICB9XG5cbiAgdmFyIGlucCA9IGQuaW5wdXQuZ2V0RmllbGQoKVxuICBvbihpbnAsIFwia2V5dXBcIiwgZnVuY3Rpb24gKGUpIHsgcmV0dXJuIG9uS2V5VXAuY2FsbChjbSwgZSk7IH0pXG4gIG9uKGlucCwgXCJrZXlkb3duXCIsIG9wZXJhdGlvbihjbSwgb25LZXlEb3duKSlcbiAgb24oaW5wLCBcImtleXByZXNzXCIsIG9wZXJhdGlvbihjbSwgb25LZXlQcmVzcykpXG4gIG9uKGlucCwgXCJmb2N1c1wiLCBmdW5jdGlvbiAoZSkgeyByZXR1cm4gb25Gb2N1cyhjbSwgZSk7IH0pXG4gIG9uKGlucCwgXCJibHVyXCIsIGZ1bmN0aW9uIChlKSB7IHJldHVybiBvbkJsdXIoY20sIGUpOyB9KVxufVxuXG52YXIgaW5pdEhvb2tzID0gW11cbkNvZGVNaXJyb3IuZGVmaW5lSW5pdEhvb2sgPSBmdW5jdGlvbiAoZikgeyByZXR1cm4gaW5pdEhvb2tzLnB1c2goZik7IH1cblxuLy8gSW5kZW50IHRoZSBnaXZlbiBsaW5lLiBUaGUgaG93IHBhcmFtZXRlciBjYW4gYmUgXCJzbWFydFwiLFxuLy8gXCJhZGRcIi9udWxsLCBcInN1YnRyYWN0XCIsIG9yIFwicHJldlwiLiBXaGVuIGFnZ3Jlc3NpdmUgaXMgZmFsc2Vcbi8vICh0eXBpY2FsbHkgc2V0IHRvIHRydWUgZm9yIGZvcmNlZCBzaW5nbGUtbGluZSBpbmRlbnRzKSwgZW1wdHlcbi8vIGxpbmVzIGFyZSBub3QgaW5kZW50ZWQsIGFuZCBwbGFjZXMgd2hlcmUgdGhlIG1vZGUgcmV0dXJucyBQYXNzXG4vLyBhcmUgbGVmdCBhbG9uZS5cbmZ1bmN0aW9uIGluZGVudExpbmUoY20sIG4sIGhvdywgYWdncmVzc2l2ZSkge1xuICB2YXIgZG9jID0gY20uZG9jLCBzdGF0ZVxuICBpZiAoaG93ID09IG51bGwpIHsgaG93ID0gXCJhZGRcIiB9XG4gIGlmIChob3cgPT0gXCJzbWFydFwiKSB7XG4gICAgLy8gRmFsbCBiYWNrIHRvIFwicHJldlwiIHdoZW4gdGhlIG1vZGUgZG9lc24ndCBoYXZlIGFuIGluZGVudGF0aW9uXG4gICAgLy8gbWV0aG9kLlxuICAgIGlmICghZG9jLm1vZGUuaW5kZW50KSB7IGhvdyA9IFwicHJldlwiIH1cbiAgICBlbHNlIHsgc3RhdGUgPSBnZXRTdGF0ZUJlZm9yZShjbSwgbikgfVxuICB9XG5cbiAgdmFyIHRhYlNpemUgPSBjbS5vcHRpb25zLnRhYlNpemVcbiAgdmFyIGxpbmUgPSBnZXRMaW5lKGRvYywgbiksIGN1clNwYWNlID0gY291bnRDb2x1bW4obGluZS50ZXh0LCBudWxsLCB0YWJTaXplKVxuICBpZiAobGluZS5zdGF0ZUFmdGVyKSB7IGxpbmUuc3RhdGVBZnRlciA9IG51bGwgfVxuICB2YXIgY3VyU3BhY2VTdHJpbmcgPSBsaW5lLnRleHQubWF0Y2goL15cXHMqLylbMF0sIGluZGVudGF0aW9uXG4gIGlmICghYWdncmVzc2l2ZSAmJiAhL1xcUy8udGVzdChsaW5lLnRleHQpKSB7XG4gICAgaW5kZW50YXRpb24gPSAwXG4gICAgaG93ID0gXCJub3RcIlxuICB9IGVsc2UgaWYgKGhvdyA9PSBcInNtYXJ0XCIpIHtcbiAgICBpbmRlbnRhdGlvbiA9IGRvYy5tb2RlLmluZGVudChzdGF0ZSwgbGluZS50ZXh0LnNsaWNlKGN1clNwYWNlU3RyaW5nLmxlbmd0aCksIGxpbmUudGV4dClcbiAgICBpZiAoaW5kZW50YXRpb24gPT0gUGFzcyB8fCBpbmRlbnRhdGlvbiA+IDE1MCkge1xuICAgICAgaWYgKCFhZ2dyZXNzaXZlKSB7IHJldHVybiB9XG4gICAgICBob3cgPSBcInByZXZcIlxuICAgIH1cbiAgfVxuICBpZiAoaG93ID09IFwicHJldlwiKSB7XG4gICAgaWYgKG4gPiBkb2MuZmlyc3QpIHsgaW5kZW50YXRpb24gPSBjb3VudENvbHVtbihnZXRMaW5lKGRvYywgbi0xKS50ZXh0LCBudWxsLCB0YWJTaXplKSB9XG4gICAgZWxzZSB7IGluZGVudGF0aW9uID0gMCB9XG4gIH0gZWxzZSBpZiAoaG93ID09IFwiYWRkXCIpIHtcbiAgICBpbmRlbnRhdGlvbiA9IGN1clNwYWNlICsgY20ub3B0aW9ucy5pbmRlbnRVbml0XG4gIH0gZWxzZSBpZiAoaG93ID09IFwic3VidHJhY3RcIikge1xuICAgIGluZGVudGF0aW9uID0gY3VyU3BhY2UgLSBjbS5vcHRpb25zLmluZGVudFVuaXRcbiAgfSBlbHNlIGlmICh0eXBlb2YgaG93ID09IFwibnVtYmVyXCIpIHtcbiAgICBpbmRlbnRhdGlvbiA9IGN1clNwYWNlICsgaG93XG4gIH1cbiAgaW5kZW50YXRpb24gPSBNYXRoLm1heCgwLCBpbmRlbnRhdGlvbilcblxuICB2YXIgaW5kZW50U3RyaW5nID0gXCJcIiwgcG9zID0gMFxuICBpZiAoY20ub3B0aW9ucy5pbmRlbnRXaXRoVGFicylcbiAgICB7IGZvciAodmFyIGkgPSBNYXRoLmZsb29yKGluZGVudGF0aW9uIC8gdGFiU2l6ZSk7IGk7IC0taSkge3BvcyArPSB0YWJTaXplOyBpbmRlbnRTdHJpbmcgKz0gXCJcXHRcIn0gfVxuICBpZiAocG9zIDwgaW5kZW50YXRpb24pIHsgaW5kZW50U3RyaW5nICs9IHNwYWNlU3RyKGluZGVudGF0aW9uIC0gcG9zKSB9XG5cbiAgaWYgKGluZGVudFN0cmluZyAhPSBjdXJTcGFjZVN0cmluZykge1xuICAgIHJlcGxhY2VSYW5nZShkb2MsIGluZGVudFN0cmluZywgUG9zKG4sIDApLCBQb3MobiwgY3VyU3BhY2VTdHJpbmcubGVuZ3RoKSwgXCIraW5wdXRcIilcbiAgICBsaW5lLnN0YXRlQWZ0ZXIgPSBudWxsXG4gICAgcmV0dXJuIHRydWVcbiAgfSBlbHNlIHtcbiAgICAvLyBFbnN1cmUgdGhhdCwgaWYgdGhlIGN1cnNvciB3YXMgaW4gdGhlIHdoaXRlc3BhY2UgYXQgdGhlIHN0YXJ0XG4gICAgLy8gb2YgdGhlIGxpbmUsIGl0IGlzIG1vdmVkIHRvIHRoZSBlbmQgb2YgdGhhdCBzcGFjZS5cbiAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBkb2Muc2VsLnJhbmdlcy5sZW5ndGg7IGkkMSsrKSB7XG4gICAgICB2YXIgcmFuZ2UgPSBkb2Muc2VsLnJhbmdlc1tpJDFdXG4gICAgICBpZiAocmFuZ2UuaGVhZC5saW5lID09IG4gJiYgcmFuZ2UuaGVhZC5jaCA8IGN1clNwYWNlU3RyaW5nLmxlbmd0aCkge1xuICAgICAgICB2YXIgcG9zJDEgPSBQb3MobiwgY3VyU3BhY2VTdHJpbmcubGVuZ3RoKVxuICAgICAgICByZXBsYWNlT25lU2VsZWN0aW9uKGRvYywgaSQxLCBuZXcgUmFuZ2UocG9zJDEsIHBvcyQxKSlcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gVGhpcyB3aWxsIGJlIHNldCB0byBhIHtsaW5lV2lzZTogYm9vbCwgdGV4dDogW3N0cmluZ119IG9iamVjdCwgc29cbi8vIHRoYXQsIHdoZW4gcGFzdGluZywgd2Uga25vdyB3aGF0IGtpbmQgb2Ygc2VsZWN0aW9ucyB0aGUgY29waWVkXG4vLyB0ZXh0IHdhcyBtYWRlIG91dCBvZi5cbnZhciBsYXN0Q29waWVkID0gbnVsbFxuXG5mdW5jdGlvbiBzZXRMYXN0Q29waWVkKG5ld0xhc3RDb3BpZWQpIHtcbiAgbGFzdENvcGllZCA9IG5ld0xhc3RDb3BpZWRcbn1cblxuZnVuY3Rpb24gYXBwbHlUZXh0SW5wdXQoY20sIGluc2VydGVkLCBkZWxldGVkLCBzZWwsIG9yaWdpbikge1xuICB2YXIgZG9jID0gY20uZG9jXG4gIGNtLmRpc3BsYXkuc2hpZnQgPSBmYWxzZVxuICBpZiAoIXNlbCkgeyBzZWwgPSBkb2Muc2VsIH1cblxuICB2YXIgcGFzdGUgPSBjbS5zdGF0ZS5wYXN0ZUluY29taW5nIHx8IG9yaWdpbiA9PSBcInBhc3RlXCJcbiAgdmFyIHRleHRMaW5lcyA9IHNwbGl0TGluZXNBdXRvKGluc2VydGVkKSwgbXVsdGlQYXN0ZSA9IG51bGxcbiAgLy8gV2hlbiBwYXNpbmcgTiBsaW5lcyBpbnRvIE4gc2VsZWN0aW9ucywgaW5zZXJ0IG9uZSBsaW5lIHBlciBzZWxlY3Rpb25cbiAgaWYgKHBhc3RlICYmIHNlbC5yYW5nZXMubGVuZ3RoID4gMSkge1xuICAgIGlmIChsYXN0Q29waWVkICYmIGxhc3RDb3BpZWQudGV4dC5qb2luKFwiXFxuXCIpID09IGluc2VydGVkKSB7XG4gICAgICBpZiAoc2VsLnJhbmdlcy5sZW5ndGggJSBsYXN0Q29waWVkLnRleHQubGVuZ3RoID09IDApIHtcbiAgICAgICAgbXVsdGlQYXN0ZSA9IFtdXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdENvcGllZC50ZXh0Lmxlbmd0aDsgaSsrKVxuICAgICAgICAgIHsgbXVsdGlQYXN0ZS5wdXNoKGRvYy5zcGxpdExpbmVzKGxhc3RDb3BpZWQudGV4dFtpXSkpIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRleHRMaW5lcy5sZW5ndGggPT0gc2VsLnJhbmdlcy5sZW5ndGgpIHtcbiAgICAgIG11bHRpUGFzdGUgPSBtYXAodGV4dExpbmVzLCBmdW5jdGlvbiAobCkgeyByZXR1cm4gW2xdOyB9KVxuICAgIH1cbiAgfVxuXG4gIHZhciB1cGRhdGVJbnB1dFxuICAvLyBOb3JtYWwgYmVoYXZpb3IgaXMgdG8gaW5zZXJ0IHRoZSBuZXcgdGV4dCBpbnRvIGV2ZXJ5IHNlbGVjdGlvblxuICBmb3IgKHZhciBpJDEgPSBzZWwucmFuZ2VzLmxlbmd0aCAtIDE7IGkkMSA+PSAwOyBpJDEtLSkge1xuICAgIHZhciByYW5nZSA9IHNlbC5yYW5nZXNbaSQxXVxuICAgIHZhciBmcm9tID0gcmFuZ2UuZnJvbSgpLCB0byA9IHJhbmdlLnRvKClcbiAgICBpZiAocmFuZ2UuZW1wdHkoKSkge1xuICAgICAgaWYgKGRlbGV0ZWQgJiYgZGVsZXRlZCA+IDApIC8vIEhhbmRsZSBkZWxldGlvblxuICAgICAgICB7IGZyb20gPSBQb3MoZnJvbS5saW5lLCBmcm9tLmNoIC0gZGVsZXRlZCkgfVxuICAgICAgZWxzZSBpZiAoY20uc3RhdGUub3ZlcndyaXRlICYmICFwYXN0ZSkgLy8gSGFuZGxlIG92ZXJ3cml0ZVxuICAgICAgICB7IHRvID0gUG9zKHRvLmxpbmUsIE1hdGgubWluKGdldExpbmUoZG9jLCB0by5saW5lKS50ZXh0Lmxlbmd0aCwgdG8uY2ggKyBsc3QodGV4dExpbmVzKS5sZW5ndGgpKSB9XG4gICAgICBlbHNlIGlmIChsYXN0Q29waWVkICYmIGxhc3RDb3BpZWQubGluZVdpc2UgJiYgbGFzdENvcGllZC50ZXh0LmpvaW4oXCJcXG5cIikgPT0gaW5zZXJ0ZWQpXG4gICAgICAgIHsgZnJvbSA9IHRvID0gUG9zKGZyb20ubGluZSwgMCkgfVxuICAgIH1cbiAgICB1cGRhdGVJbnB1dCA9IGNtLmN1ck9wLnVwZGF0ZUlucHV0XG4gICAgdmFyIGNoYW5nZUV2ZW50ID0ge2Zyb206IGZyb20sIHRvOiB0bywgdGV4dDogbXVsdGlQYXN0ZSA/IG11bHRpUGFzdGVbaSQxICUgbXVsdGlQYXN0ZS5sZW5ndGhdIDogdGV4dExpbmVzLFxuICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW46IG9yaWdpbiB8fCAocGFzdGUgPyBcInBhc3RlXCIgOiBjbS5zdGF0ZS5jdXRJbmNvbWluZyA/IFwiY3V0XCIgOiBcIitpbnB1dFwiKX1cbiAgICBtYWtlQ2hhbmdlKGNtLmRvYywgY2hhbmdlRXZlbnQpXG4gICAgc2lnbmFsTGF0ZXIoY20sIFwiaW5wdXRSZWFkXCIsIGNtLCBjaGFuZ2VFdmVudClcbiAgfVxuICBpZiAoaW5zZXJ0ZWQgJiYgIXBhc3RlKVxuICAgIHsgdHJpZ2dlckVsZWN0cmljKGNtLCBpbnNlcnRlZCkgfVxuXG4gIGVuc3VyZUN1cnNvclZpc2libGUoY20pXG4gIGNtLmN1ck9wLnVwZGF0ZUlucHV0ID0gdXBkYXRlSW5wdXRcbiAgY20uY3VyT3AudHlwaW5nID0gdHJ1ZVxuICBjbS5zdGF0ZS5wYXN0ZUluY29taW5nID0gY20uc3RhdGUuY3V0SW5jb21pbmcgPSBmYWxzZVxufVxuXG5mdW5jdGlvbiBoYW5kbGVQYXN0ZShlLCBjbSkge1xuICB2YXIgcGFzdGVkID0gZS5jbGlwYm9hcmREYXRhICYmIGUuY2xpcGJvYXJkRGF0YS5nZXREYXRhKFwiVGV4dFwiKVxuICBpZiAocGFzdGVkKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgaWYgKCFjbS5pc1JlYWRPbmx5KCkgJiYgIWNtLm9wdGlvbnMuZGlzYWJsZUlucHV0KVxuICAgICAgeyBydW5Jbk9wKGNtLCBmdW5jdGlvbiAoKSB7IHJldHVybiBhcHBseVRleHRJbnB1dChjbSwgcGFzdGVkLCAwLCBudWxsLCBcInBhc3RlXCIpOyB9KSB9XG4gICAgcmV0dXJuIHRydWVcbiAgfVxufVxuXG5mdW5jdGlvbiB0cmlnZ2VyRWxlY3RyaWMoY20sIGluc2VydGVkKSB7XG4gIC8vIFdoZW4gYW4gJ2VsZWN0cmljJyBjaGFyYWN0ZXIgaXMgaW5zZXJ0ZWQsIGltbWVkaWF0ZWx5IHRyaWdnZXIgYSByZWluZGVudFxuICBpZiAoIWNtLm9wdGlvbnMuZWxlY3RyaWNDaGFycyB8fCAhY20ub3B0aW9ucy5zbWFydEluZGVudCkgeyByZXR1cm4gfVxuICB2YXIgc2VsID0gY20uZG9jLnNlbFxuXG4gIGZvciAodmFyIGkgPSBzZWwucmFuZ2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgdmFyIHJhbmdlID0gc2VsLnJhbmdlc1tpXVxuICAgIGlmIChyYW5nZS5oZWFkLmNoID4gMTAwIHx8IChpICYmIHNlbC5yYW5nZXNbaSAtIDFdLmhlYWQubGluZSA9PSByYW5nZS5oZWFkLmxpbmUpKSB7IGNvbnRpbnVlIH1cbiAgICB2YXIgbW9kZSA9IGNtLmdldE1vZGVBdChyYW5nZS5oZWFkKVxuICAgIHZhciBpbmRlbnRlZCA9IGZhbHNlXG4gICAgaWYgKG1vZGUuZWxlY3RyaWNDaGFycykge1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtb2RlLmVsZWN0cmljQ2hhcnMubGVuZ3RoOyBqKyspXG4gICAgICAgIHsgaWYgKGluc2VydGVkLmluZGV4T2YobW9kZS5lbGVjdHJpY0NoYXJzLmNoYXJBdChqKSkgPiAtMSkge1xuICAgICAgICAgIGluZGVudGVkID0gaW5kZW50TGluZShjbSwgcmFuZ2UuaGVhZC5saW5lLCBcInNtYXJ0XCIpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfSB9XG4gICAgfSBlbHNlIGlmIChtb2RlLmVsZWN0cmljSW5wdXQpIHtcbiAgICAgIGlmIChtb2RlLmVsZWN0cmljSW5wdXQudGVzdChnZXRMaW5lKGNtLmRvYywgcmFuZ2UuaGVhZC5saW5lKS50ZXh0LnNsaWNlKDAsIHJhbmdlLmhlYWQuY2gpKSlcbiAgICAgICAgeyBpbmRlbnRlZCA9IGluZGVudExpbmUoY20sIHJhbmdlLmhlYWQubGluZSwgXCJzbWFydFwiKSB9XG4gICAgfVxuICAgIGlmIChpbmRlbnRlZCkgeyBzaWduYWxMYXRlcihjbSwgXCJlbGVjdHJpY0lucHV0XCIsIGNtLCByYW5nZS5oZWFkLmxpbmUpIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjb3B5YWJsZVJhbmdlcyhjbSkge1xuICB2YXIgdGV4dCA9IFtdLCByYW5nZXMgPSBbXVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGNtLmRvYy5zZWwucmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGxpbmUgPSBjbS5kb2Muc2VsLnJhbmdlc1tpXS5oZWFkLmxpbmVcbiAgICB2YXIgbGluZVJhbmdlID0ge2FuY2hvcjogUG9zKGxpbmUsIDApLCBoZWFkOiBQb3MobGluZSArIDEsIDApfVxuICAgIHJhbmdlcy5wdXNoKGxpbmVSYW5nZSlcbiAgICB0ZXh0LnB1c2goY20uZ2V0UmFuZ2UobGluZVJhbmdlLmFuY2hvciwgbGluZVJhbmdlLmhlYWQpKVxuICB9XG4gIHJldHVybiB7dGV4dDogdGV4dCwgcmFuZ2VzOiByYW5nZXN9XG59XG5cbmZ1bmN0aW9uIGRpc2FibGVCcm93c2VyTWFnaWMoZmllbGQsIHNwZWxsY2hlY2spIHtcbiAgZmllbGQuc2V0QXR0cmlidXRlKFwiYXV0b2NvcnJlY3RcIiwgXCJvZmZcIilcbiAgZmllbGQuc2V0QXR0cmlidXRlKFwiYXV0b2NhcGl0YWxpemVcIiwgXCJvZmZcIilcbiAgZmllbGQuc2V0QXR0cmlidXRlKFwic3BlbGxjaGVja1wiLCAhIXNwZWxsY2hlY2spXG59XG5cbmZ1bmN0aW9uIGhpZGRlblRleHRhcmVhKCkge1xuICB2YXIgdGUgPSBlbHQoXCJ0ZXh0YXJlYVwiLCBudWxsLCBudWxsLCBcInBvc2l0aW9uOiBhYnNvbHV0ZTsgYm90dG9tOiAtMWVtOyBwYWRkaW5nOiAwOyB3aWR0aDogMXB4OyBoZWlnaHQ6IDFlbTsgb3V0bGluZTogbm9uZVwiKVxuICB2YXIgZGl2ID0gZWx0KFwiZGl2XCIsIFt0ZV0sIG51bGwsIFwib3ZlcmZsb3c6IGhpZGRlbjsgcG9zaXRpb246IHJlbGF0aXZlOyB3aWR0aDogM3B4OyBoZWlnaHQ6IDBweDtcIilcbiAgLy8gVGhlIHRleHRhcmVhIGlzIGtlcHQgcG9zaXRpb25lZCBuZWFyIHRoZSBjdXJzb3IgdG8gcHJldmVudCB0aGVcbiAgLy8gZmFjdCB0aGF0IGl0J2xsIGJlIHNjcm9sbGVkIGludG8gdmlldyBvbiBpbnB1dCBmcm9tIHNjcm9sbGluZ1xuICAvLyBvdXIgZmFrZSBjdXJzb3Igb3V0IG9mIHZpZXcuIE9uIHdlYmtpdCwgd2hlbiB3cmFwPW9mZiwgcGFzdGUgaXNcbiAgLy8gdmVyeSBzbG93LiBTbyBtYWtlIHRoZSBhcmVhIHdpZGUgaW5zdGVhZC5cbiAgaWYgKHdlYmtpdCkgeyB0ZS5zdHlsZS53aWR0aCA9IFwiMTAwMHB4XCIgfVxuICBlbHNlIHsgdGUuc2V0QXR0cmlidXRlKFwid3JhcFwiLCBcIm9mZlwiKSB9XG4gIC8vIElmIGJvcmRlcjogMDsgLS0gaU9TIGZhaWxzIHRvIG9wZW4ga2V5Ym9hcmQgKGlzc3VlICMxMjg3KVxuICBpZiAoaW9zKSB7IHRlLnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkIGJsYWNrXCIgfVxuICBkaXNhYmxlQnJvd3Nlck1hZ2ljKHRlKVxuICByZXR1cm4gZGl2XG59XG5cbi8vIFRoZSBwdWJsaWNseSB2aXNpYmxlIEFQSS4gTm90ZSB0aGF0IG1ldGhvZE9wKGYpIG1lYW5zXG4vLyAnd3JhcCBmIGluIGFuIG9wZXJhdGlvbiwgcGVyZm9ybWVkIG9uIGl0cyBgdGhpc2AgcGFyYW1ldGVyJy5cblxuLy8gVGhpcyBpcyBub3QgdGhlIGNvbXBsZXRlIHNldCBvZiBlZGl0b3IgbWV0aG9kcy4gTW9zdCBvZiB0aGVcbi8vIG1ldGhvZHMgZGVmaW5lZCBvbiB0aGUgRG9jIHR5cGUgYXJlIGFsc28gaW5qZWN0ZWQgaW50b1xuLy8gQ29kZU1pcnJvci5wcm90b3R5cGUsIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBhbmRcbi8vIGNvbnZlbmllbmNlLlxuXG5mdW5jdGlvbiBhZGRFZGl0b3JNZXRob2RzKENvZGVNaXJyb3IpIHtcbiAgdmFyIG9wdGlvbkhhbmRsZXJzID0gQ29kZU1pcnJvci5vcHRpb25IYW5kbGVyc1xuXG4gIHZhciBoZWxwZXJzID0gQ29kZU1pcnJvci5oZWxwZXJzID0ge31cblxuICBDb2RlTWlycm9yLnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3RvcjogQ29kZU1pcnJvcixcbiAgICBmb2N1czogZnVuY3Rpb24oKXt3aW5kb3cuZm9jdXMoKTsgdGhpcy5kaXNwbGF5LmlucHV0LmZvY3VzKCl9LFxuXG4gICAgc2V0T3B0aW9uOiBmdW5jdGlvbihvcHRpb24sIHZhbHVlKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucywgb2xkID0gb3B0aW9uc1tvcHRpb25dXG4gICAgICBpZiAob3B0aW9uc1tvcHRpb25dID09IHZhbHVlICYmIG9wdGlvbiAhPSBcIm1vZGVcIikgeyByZXR1cm4gfVxuICAgICAgb3B0aW9uc1tvcHRpb25dID0gdmFsdWVcbiAgICAgIGlmIChvcHRpb25IYW5kbGVycy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pKVxuICAgICAgICB7IG9wZXJhdGlvbih0aGlzLCBvcHRpb25IYW5kbGVyc1tvcHRpb25dKSh0aGlzLCB2YWx1ZSwgb2xkKSB9XG4gICAgfSxcblxuICAgIGdldE9wdGlvbjogZnVuY3Rpb24ob3B0aW9uKSB7cmV0dXJuIHRoaXMub3B0aW9uc1tvcHRpb25dfSxcbiAgICBnZXREb2M6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLmRvY30sXG5cbiAgICBhZGRLZXlNYXA6IGZ1bmN0aW9uKG1hcCwgYm90dG9tKSB7XG4gICAgICB0aGlzLnN0YXRlLmtleU1hcHNbYm90dG9tID8gXCJwdXNoXCIgOiBcInVuc2hpZnRcIl0oZ2V0S2V5TWFwKG1hcCkpXG4gICAgfSxcbiAgICByZW1vdmVLZXlNYXA6IGZ1bmN0aW9uKG1hcCkge1xuICAgICAgdmFyIG1hcHMgPSB0aGlzLnN0YXRlLmtleU1hcHNcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFwcy5sZW5ndGg7ICsraSlcbiAgICAgICAgeyBpZiAobWFwc1tpXSA9PSBtYXAgfHwgbWFwc1tpXS5uYW1lID09IG1hcCkge1xuICAgICAgICAgIG1hcHMuc3BsaWNlKGksIDEpXG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfSB9XG4gICAgfSxcblxuICAgIGFkZE92ZXJsYXk6IG1ldGhvZE9wKGZ1bmN0aW9uKHNwZWMsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBtb2RlID0gc3BlYy50b2tlbiA/IHNwZWMgOiBDb2RlTWlycm9yLmdldE1vZGUodGhpcy5vcHRpb25zLCBzcGVjKVxuICAgICAgaWYgKG1vZGUuc3RhcnRTdGF0ZSkgeyB0aHJvdyBuZXcgRXJyb3IoXCJPdmVybGF5cyBtYXkgbm90IGJlIHN0YXRlZnVsLlwiKSB9XG4gICAgICBpbnNlcnRTb3J0ZWQodGhpcy5zdGF0ZS5vdmVybGF5cyxcbiAgICAgICAgICAgICAgICAgICB7bW9kZTogbW9kZSwgbW9kZVNwZWM6IHNwZWMsIG9wYXF1ZTogb3B0aW9ucyAmJiBvcHRpb25zLm9wYXF1ZSxcbiAgICAgICAgICAgICAgICAgICAgcHJpb3JpdHk6IChvcHRpb25zICYmIG9wdGlvbnMucHJpb3JpdHkpIHx8IDB9LFxuICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChvdmVybGF5KSB7IHJldHVybiBvdmVybGF5LnByaW9yaXR5OyB9KVxuICAgICAgdGhpcy5zdGF0ZS5tb2RlR2VuKytcbiAgICAgIHJlZ0NoYW5nZSh0aGlzKVxuICAgIH0pLFxuICAgIHJlbW92ZU92ZXJsYXk6IG1ldGhvZE9wKGZ1bmN0aW9uKHNwZWMpIHtcbiAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICB2YXIgb3ZlcmxheXMgPSB0aGlzLnN0YXRlLm92ZXJsYXlzXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG92ZXJsYXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBjdXIgPSBvdmVybGF5c1tpXS5tb2RlU3BlY1xuICAgICAgICBpZiAoY3VyID09IHNwZWMgfHwgdHlwZW9mIHNwZWMgPT0gXCJzdHJpbmdcIiAmJiBjdXIubmFtZSA9PSBzcGVjKSB7XG4gICAgICAgICAgb3ZlcmxheXMuc3BsaWNlKGksIDEpXG4gICAgICAgICAgdGhpcyQxLnN0YXRlLm1vZGVHZW4rK1xuICAgICAgICAgIHJlZ0NoYW5nZSh0aGlzJDEpXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSxcblxuICAgIGluZGVudExpbmU6IG1ldGhvZE9wKGZ1bmN0aW9uKG4sIGRpciwgYWdncmVzc2l2ZSkge1xuICAgICAgaWYgKHR5cGVvZiBkaXIgIT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgZGlyICE9IFwibnVtYmVyXCIpIHtcbiAgICAgICAgaWYgKGRpciA9PSBudWxsKSB7IGRpciA9IHRoaXMub3B0aW9ucy5zbWFydEluZGVudCA/IFwic21hcnRcIiA6IFwicHJldlwiIH1cbiAgICAgICAgZWxzZSB7IGRpciA9IGRpciA/IFwiYWRkXCIgOiBcInN1YnRyYWN0XCIgfVxuICAgICAgfVxuICAgICAgaWYgKGlzTGluZSh0aGlzLmRvYywgbikpIHsgaW5kZW50TGluZSh0aGlzLCBuLCBkaXIsIGFnZ3Jlc3NpdmUpIH1cbiAgICB9KSxcbiAgICBpbmRlbnRTZWxlY3Rpb246IG1ldGhvZE9wKGZ1bmN0aW9uKGhvdykge1xuICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgIHZhciByYW5nZXMgPSB0aGlzLmRvYy5zZWwucmFuZ2VzLCBlbmQgPSAtMVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHJhbmdlID0gcmFuZ2VzW2ldXG4gICAgICAgIGlmICghcmFuZ2UuZW1wdHkoKSkge1xuICAgICAgICAgIHZhciBmcm9tID0gcmFuZ2UuZnJvbSgpLCB0byA9IHJhbmdlLnRvKClcbiAgICAgICAgICB2YXIgc3RhcnQgPSBNYXRoLm1heChlbmQsIGZyb20ubGluZSlcbiAgICAgICAgICBlbmQgPSBNYXRoLm1pbih0aGlzJDEubGFzdExpbmUoKSwgdG8ubGluZSAtICh0by5jaCA/IDAgOiAxKSkgKyAxXG4gICAgICAgICAgZm9yICh2YXIgaiA9IHN0YXJ0OyBqIDwgZW5kOyArK2opXG4gICAgICAgICAgICB7IGluZGVudExpbmUodGhpcyQxLCBqLCBob3cpIH1cbiAgICAgICAgICB2YXIgbmV3UmFuZ2VzID0gdGhpcyQxLmRvYy5zZWwucmFuZ2VzXG4gICAgICAgICAgaWYgKGZyb20uY2ggPT0gMCAmJiByYW5nZXMubGVuZ3RoID09IG5ld1Jhbmdlcy5sZW5ndGggJiYgbmV3UmFuZ2VzW2ldLmZyb20oKS5jaCA+IDApXG4gICAgICAgICAgICB7IHJlcGxhY2VPbmVTZWxlY3Rpb24odGhpcyQxLmRvYywgaSwgbmV3IFJhbmdlKGZyb20sIG5ld1Jhbmdlc1tpXS50bygpKSwgc2VsX2RvbnRTY3JvbGwpIH1cbiAgICAgICAgfSBlbHNlIGlmIChyYW5nZS5oZWFkLmxpbmUgPiBlbmQpIHtcbiAgICAgICAgICBpbmRlbnRMaW5lKHRoaXMkMSwgcmFuZ2UuaGVhZC5saW5lLCBob3csIHRydWUpXG4gICAgICAgICAgZW5kID0gcmFuZ2UuaGVhZC5saW5lXG4gICAgICAgICAgaWYgKGkgPT0gdGhpcyQxLmRvYy5zZWwucHJpbUluZGV4KSB7IGVuc3VyZUN1cnNvclZpc2libGUodGhpcyQxKSB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSxcblxuICAgIC8vIEZldGNoIHRoZSBwYXJzZXIgdG9rZW4gZm9yIGEgZ2l2ZW4gY2hhcmFjdGVyLiBVc2VmdWwgZm9yIGhhY2tzXG4gICAgLy8gdGhhdCB3YW50IHRvIGluc3BlY3QgdGhlIG1vZGUgc3RhdGUgKHNheSwgZm9yIGNvbXBsZXRpb24pLlxuICAgIGdldFRva2VuQXQ6IGZ1bmN0aW9uKHBvcywgcHJlY2lzZSkge1xuICAgICAgcmV0dXJuIHRha2VUb2tlbih0aGlzLCBwb3MsIHByZWNpc2UpXG4gICAgfSxcblxuICAgIGdldExpbmVUb2tlbnM6IGZ1bmN0aW9uKGxpbmUsIHByZWNpc2UpIHtcbiAgICAgIHJldHVybiB0YWtlVG9rZW4odGhpcywgUG9zKGxpbmUpLCBwcmVjaXNlLCB0cnVlKVxuICAgIH0sXG5cbiAgICBnZXRUb2tlblR5cGVBdDogZnVuY3Rpb24ocG9zKSB7XG4gICAgICBwb3MgPSBjbGlwUG9zKHRoaXMuZG9jLCBwb3MpXG4gICAgICB2YXIgc3R5bGVzID0gZ2V0TGluZVN0eWxlcyh0aGlzLCBnZXRMaW5lKHRoaXMuZG9jLCBwb3MubGluZSkpXG4gICAgICB2YXIgYmVmb3JlID0gMCwgYWZ0ZXIgPSAoc3R5bGVzLmxlbmd0aCAtIDEpIC8gMiwgY2ggPSBwb3MuY2hcbiAgICAgIHZhciB0eXBlXG4gICAgICBpZiAoY2ggPT0gMCkgeyB0eXBlID0gc3R5bGVzWzJdIH1cbiAgICAgIGVsc2UgeyBmb3IgKDs7KSB7XG4gICAgICAgIHZhciBtaWQgPSAoYmVmb3JlICsgYWZ0ZXIpID4+IDFcbiAgICAgICAgaWYgKChtaWQgPyBzdHlsZXNbbWlkICogMiAtIDFdIDogMCkgPj0gY2gpIHsgYWZ0ZXIgPSBtaWQgfVxuICAgICAgICBlbHNlIGlmIChzdHlsZXNbbWlkICogMiArIDFdIDwgY2gpIHsgYmVmb3JlID0gbWlkICsgMSB9XG4gICAgICAgIGVsc2UgeyB0eXBlID0gc3R5bGVzW21pZCAqIDIgKyAyXTsgYnJlYWsgfVxuICAgICAgfSB9XG4gICAgICB2YXIgY3V0ID0gdHlwZSA/IHR5cGUuaW5kZXhPZihcIm92ZXJsYXkgXCIpIDogLTFcbiAgICAgIHJldHVybiBjdXQgPCAwID8gdHlwZSA6IGN1dCA9PSAwID8gbnVsbCA6IHR5cGUuc2xpY2UoMCwgY3V0IC0gMSlcbiAgICB9LFxuXG4gICAgZ2V0TW9kZUF0OiBmdW5jdGlvbihwb3MpIHtcbiAgICAgIHZhciBtb2RlID0gdGhpcy5kb2MubW9kZVxuICAgICAgaWYgKCFtb2RlLmlubmVyTW9kZSkgeyByZXR1cm4gbW9kZSB9XG4gICAgICByZXR1cm4gQ29kZU1pcnJvci5pbm5lck1vZGUobW9kZSwgdGhpcy5nZXRUb2tlbkF0KHBvcykuc3RhdGUpLm1vZGVcbiAgICB9LFxuXG4gICAgZ2V0SGVscGVyOiBmdW5jdGlvbihwb3MsIHR5cGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldEhlbHBlcnMocG9zLCB0eXBlKVswXVxuICAgIH0sXG5cbiAgICBnZXRIZWxwZXJzOiBmdW5jdGlvbihwb3MsIHR5cGUpIHtcbiAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICB2YXIgZm91bmQgPSBbXVxuICAgICAgaWYgKCFoZWxwZXJzLmhhc093blByb3BlcnR5KHR5cGUpKSB7IHJldHVybiBmb3VuZCB9XG4gICAgICB2YXIgaGVscCA9IGhlbHBlcnNbdHlwZV0sIG1vZGUgPSB0aGlzLmdldE1vZGVBdChwb3MpXG4gICAgICBpZiAodHlwZW9mIG1vZGVbdHlwZV0gPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBpZiAoaGVscFttb2RlW3R5cGVdXSkgeyBmb3VuZC5wdXNoKGhlbHBbbW9kZVt0eXBlXV0pIH1cbiAgICAgIH0gZWxzZSBpZiAobW9kZVt0eXBlXSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1vZGVbdHlwZV0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgdmFsID0gaGVscFttb2RlW3R5cGVdW2ldXVxuICAgICAgICAgIGlmICh2YWwpIHsgZm91bmQucHVzaCh2YWwpIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChtb2RlLmhlbHBlclR5cGUgJiYgaGVscFttb2RlLmhlbHBlclR5cGVdKSB7XG4gICAgICAgIGZvdW5kLnB1c2goaGVscFttb2RlLmhlbHBlclR5cGVdKVxuICAgICAgfSBlbHNlIGlmIChoZWxwW21vZGUubmFtZV0pIHtcbiAgICAgICAgZm91bmQucHVzaChoZWxwW21vZGUubmFtZV0pXG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBoZWxwLl9nbG9iYWwubGVuZ3RoOyBpJDErKykge1xuICAgICAgICB2YXIgY3VyID0gaGVscC5fZ2xvYmFsW2kkMV1cbiAgICAgICAgaWYgKGN1ci5wcmVkKG1vZGUsIHRoaXMkMSkgJiYgaW5kZXhPZihmb3VuZCwgY3VyLnZhbCkgPT0gLTEpXG4gICAgICAgICAgeyBmb3VuZC5wdXNoKGN1ci52YWwpIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmb3VuZFxuICAgIH0sXG5cbiAgICBnZXRTdGF0ZUFmdGVyOiBmdW5jdGlvbihsaW5lLCBwcmVjaXNlKSB7XG4gICAgICB2YXIgZG9jID0gdGhpcy5kb2NcbiAgICAgIGxpbmUgPSBjbGlwTGluZShkb2MsIGxpbmUgPT0gbnVsbCA/IGRvYy5maXJzdCArIGRvYy5zaXplIC0gMTogbGluZSlcbiAgICAgIHJldHVybiBnZXRTdGF0ZUJlZm9yZSh0aGlzLCBsaW5lICsgMSwgcHJlY2lzZSlcbiAgICB9LFxuXG4gICAgY3Vyc29yQ29vcmRzOiBmdW5jdGlvbihzdGFydCwgbW9kZSkge1xuICAgICAgdmFyIHBvcywgcmFuZ2UgPSB0aGlzLmRvYy5zZWwucHJpbWFyeSgpXG4gICAgICBpZiAoc3RhcnQgPT0gbnVsbCkgeyBwb3MgPSByYW5nZS5oZWFkIH1cbiAgICAgIGVsc2UgaWYgKHR5cGVvZiBzdGFydCA9PSBcIm9iamVjdFwiKSB7IHBvcyA9IGNsaXBQb3ModGhpcy5kb2MsIHN0YXJ0KSB9XG4gICAgICBlbHNlIHsgcG9zID0gc3RhcnQgPyByYW5nZS5mcm9tKCkgOiByYW5nZS50bygpIH1cbiAgICAgIHJldHVybiBjdXJzb3JDb29yZHModGhpcywgcG9zLCBtb2RlIHx8IFwicGFnZVwiKVxuICAgIH0sXG5cbiAgICBjaGFyQ29vcmRzOiBmdW5jdGlvbihwb3MsIG1vZGUpIHtcbiAgICAgIHJldHVybiBjaGFyQ29vcmRzKHRoaXMsIGNsaXBQb3ModGhpcy5kb2MsIHBvcyksIG1vZGUgfHwgXCJwYWdlXCIpXG4gICAgfSxcblxuICAgIGNvb3Jkc0NoYXI6IGZ1bmN0aW9uKGNvb3JkcywgbW9kZSkge1xuICAgICAgY29vcmRzID0gZnJvbUNvb3JkU3lzdGVtKHRoaXMsIGNvb3JkcywgbW9kZSB8fCBcInBhZ2VcIilcbiAgICAgIHJldHVybiBjb29yZHNDaGFyKHRoaXMsIGNvb3Jkcy5sZWZ0LCBjb29yZHMudG9wKVxuICAgIH0sXG5cbiAgICBsaW5lQXRIZWlnaHQ6IGZ1bmN0aW9uKGhlaWdodCwgbW9kZSkge1xuICAgICAgaGVpZ2h0ID0gZnJvbUNvb3JkU3lzdGVtKHRoaXMsIHt0b3A6IGhlaWdodCwgbGVmdDogMH0sIG1vZGUgfHwgXCJwYWdlXCIpLnRvcFxuICAgICAgcmV0dXJuIGxpbmVBdEhlaWdodCh0aGlzLmRvYywgaGVpZ2h0ICsgdGhpcy5kaXNwbGF5LnZpZXdPZmZzZXQpXG4gICAgfSxcbiAgICBoZWlnaHRBdExpbmU6IGZ1bmN0aW9uKGxpbmUsIG1vZGUsIGluY2x1ZGVXaWRnZXRzKSB7XG4gICAgICB2YXIgZW5kID0gZmFsc2UsIGxpbmVPYmpcbiAgICAgIGlmICh0eXBlb2YgbGluZSA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHZhciBsYXN0ID0gdGhpcy5kb2MuZmlyc3QgKyB0aGlzLmRvYy5zaXplIC0gMVxuICAgICAgICBpZiAobGluZSA8IHRoaXMuZG9jLmZpcnN0KSB7IGxpbmUgPSB0aGlzLmRvYy5maXJzdCB9XG4gICAgICAgIGVsc2UgaWYgKGxpbmUgPiBsYXN0KSB7IGxpbmUgPSBsYXN0OyBlbmQgPSB0cnVlIH1cbiAgICAgICAgbGluZU9iaiA9IGdldExpbmUodGhpcy5kb2MsIGxpbmUpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsaW5lT2JqID0gbGluZVxuICAgICAgfVxuICAgICAgcmV0dXJuIGludG9Db29yZFN5c3RlbSh0aGlzLCBsaW5lT2JqLCB7dG9wOiAwLCBsZWZ0OiAwfSwgbW9kZSB8fCBcInBhZ2VcIiwgaW5jbHVkZVdpZGdldHMpLnRvcCArXG4gICAgICAgIChlbmQgPyB0aGlzLmRvYy5oZWlnaHQgLSBoZWlnaHRBdExpbmUobGluZU9iaikgOiAwKVxuICAgIH0sXG5cbiAgICBkZWZhdWx0VGV4dEhlaWdodDogZnVuY3Rpb24oKSB7IHJldHVybiB0ZXh0SGVpZ2h0KHRoaXMuZGlzcGxheSkgfSxcbiAgICBkZWZhdWx0Q2hhcldpZHRoOiBmdW5jdGlvbigpIHsgcmV0dXJuIGNoYXJXaWR0aCh0aGlzLmRpc3BsYXkpIH0sXG5cbiAgICBnZXRWaWV3cG9ydDogZnVuY3Rpb24oKSB7IHJldHVybiB7ZnJvbTogdGhpcy5kaXNwbGF5LnZpZXdGcm9tLCB0bzogdGhpcy5kaXNwbGF5LnZpZXdUb319LFxuXG4gICAgYWRkV2lkZ2V0OiBmdW5jdGlvbihwb3MsIG5vZGUsIHNjcm9sbCwgdmVydCwgaG9yaXopIHtcbiAgICAgIHZhciBkaXNwbGF5ID0gdGhpcy5kaXNwbGF5XG4gICAgICBwb3MgPSBjdXJzb3JDb29yZHModGhpcywgY2xpcFBvcyh0aGlzLmRvYywgcG9zKSlcbiAgICAgIHZhciB0b3AgPSBwb3MuYm90dG9tLCBsZWZ0ID0gcG9zLmxlZnRcbiAgICAgIG5vZGUuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCJcbiAgICAgIG5vZGUuc2V0QXR0cmlidXRlKFwiY20taWdub3JlLWV2ZW50c1wiLCBcInRydWVcIilcbiAgICAgIHRoaXMuZGlzcGxheS5pbnB1dC5zZXRVbmVkaXRhYmxlKG5vZGUpXG4gICAgICBkaXNwbGF5LnNpemVyLmFwcGVuZENoaWxkKG5vZGUpXG4gICAgICBpZiAodmVydCA9PSBcIm92ZXJcIikge1xuICAgICAgICB0b3AgPSBwb3MudG9wXG4gICAgICB9IGVsc2UgaWYgKHZlcnQgPT0gXCJhYm92ZVwiIHx8IHZlcnQgPT0gXCJuZWFyXCIpIHtcbiAgICAgICAgdmFyIHZzcGFjZSA9IE1hdGgubWF4KGRpc3BsYXkud3JhcHBlci5jbGllbnRIZWlnaHQsIHRoaXMuZG9jLmhlaWdodCksXG4gICAgICAgIGhzcGFjZSA9IE1hdGgubWF4KGRpc3BsYXkuc2l6ZXIuY2xpZW50V2lkdGgsIGRpc3BsYXkubGluZVNwYWNlLmNsaWVudFdpZHRoKVxuICAgICAgICAvLyBEZWZhdWx0IHRvIHBvc2l0aW9uaW5nIGFib3ZlIChpZiBzcGVjaWZpZWQgYW5kIHBvc3NpYmxlKTsgb3RoZXJ3aXNlIGRlZmF1bHQgdG8gcG9zaXRpb25pbmcgYmVsb3dcbiAgICAgICAgaWYgKCh2ZXJ0ID09ICdhYm92ZScgfHwgcG9zLmJvdHRvbSArIG5vZGUub2Zmc2V0SGVpZ2h0ID4gdnNwYWNlKSAmJiBwb3MudG9wID4gbm9kZS5vZmZzZXRIZWlnaHQpXG4gICAgICAgICAgeyB0b3AgPSBwb3MudG9wIC0gbm9kZS5vZmZzZXRIZWlnaHQgfVxuICAgICAgICBlbHNlIGlmIChwb3MuYm90dG9tICsgbm9kZS5vZmZzZXRIZWlnaHQgPD0gdnNwYWNlKVxuICAgICAgICAgIHsgdG9wID0gcG9zLmJvdHRvbSB9XG4gICAgICAgIGlmIChsZWZ0ICsgbm9kZS5vZmZzZXRXaWR0aCA+IGhzcGFjZSlcbiAgICAgICAgICB7IGxlZnQgPSBoc3BhY2UgLSBub2RlLm9mZnNldFdpZHRoIH1cbiAgICAgIH1cbiAgICAgIG5vZGUuc3R5bGUudG9wID0gdG9wICsgXCJweFwiXG4gICAgICBub2RlLnN0eWxlLmxlZnQgPSBub2RlLnN0eWxlLnJpZ2h0ID0gXCJcIlxuICAgICAgaWYgKGhvcml6ID09IFwicmlnaHRcIikge1xuICAgICAgICBsZWZ0ID0gZGlzcGxheS5zaXplci5jbGllbnRXaWR0aCAtIG5vZGUub2Zmc2V0V2lkdGhcbiAgICAgICAgbm9kZS5zdHlsZS5yaWdodCA9IFwiMHB4XCJcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChob3JpeiA9PSBcImxlZnRcIikgeyBsZWZ0ID0gMCB9XG4gICAgICAgIGVsc2UgaWYgKGhvcml6ID09IFwibWlkZGxlXCIpIHsgbGVmdCA9IChkaXNwbGF5LnNpemVyLmNsaWVudFdpZHRoIC0gbm9kZS5vZmZzZXRXaWR0aCkgLyAyIH1cbiAgICAgICAgbm9kZS5zdHlsZS5sZWZ0ID0gbGVmdCArIFwicHhcIlxuICAgICAgfVxuICAgICAgaWYgKHNjcm9sbClcbiAgICAgICAgeyBzY3JvbGxJbnRvVmlldyh0aGlzLCBsZWZ0LCB0b3AsIGxlZnQgKyBub2RlLm9mZnNldFdpZHRoLCB0b3AgKyBub2RlLm9mZnNldEhlaWdodCkgfVxuICAgIH0sXG5cbiAgICB0cmlnZ2VyT25LZXlEb3duOiBtZXRob2RPcChvbktleURvd24pLFxuICAgIHRyaWdnZXJPbktleVByZXNzOiBtZXRob2RPcChvbktleVByZXNzKSxcbiAgICB0cmlnZ2VyT25LZXlVcDogb25LZXlVcCxcblxuICAgIGV4ZWNDb21tYW5kOiBmdW5jdGlvbihjbWQpIHtcbiAgICAgIGlmIChjb21tYW5kcy5oYXNPd25Qcm9wZXJ0eShjbWQpKVxuICAgICAgICB7IHJldHVybiBjb21tYW5kc1tjbWRdLmNhbGwobnVsbCwgdGhpcykgfVxuICAgIH0sXG5cbiAgICB0cmlnZ2VyRWxlY3RyaWM6IG1ldGhvZE9wKGZ1bmN0aW9uKHRleHQpIHsgdHJpZ2dlckVsZWN0cmljKHRoaXMsIHRleHQpIH0pLFxuXG4gICAgZmluZFBvc0g6IGZ1bmN0aW9uKGZyb20sIGFtb3VudCwgdW5pdCwgdmlzdWFsbHkpIHtcbiAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICB2YXIgZGlyID0gMVxuICAgICAgaWYgKGFtb3VudCA8IDApIHsgZGlyID0gLTE7IGFtb3VudCA9IC1hbW91bnQgfVxuICAgICAgdmFyIGN1ciA9IGNsaXBQb3ModGhpcy5kb2MsIGZyb20pXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKSB7XG4gICAgICAgIGN1ciA9IGZpbmRQb3NIKHRoaXMkMS5kb2MsIGN1ciwgZGlyLCB1bml0LCB2aXN1YWxseSlcbiAgICAgICAgaWYgKGN1ci5oaXRTaWRlKSB7IGJyZWFrIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBjdXJcbiAgICB9LFxuXG4gICAgbW92ZUg6IG1ldGhvZE9wKGZ1bmN0aW9uKGRpciwgdW5pdCkge1xuICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgIHRoaXMuZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgICBpZiAodGhpcyQxLmRpc3BsYXkuc2hpZnQgfHwgdGhpcyQxLmRvYy5leHRlbmQgfHwgcmFuZ2UuZW1wdHkoKSlcbiAgICAgICAgICB7IHJldHVybiBmaW5kUG9zSCh0aGlzJDEuZG9jLCByYW5nZS5oZWFkLCBkaXIsIHVuaXQsIHRoaXMkMS5vcHRpb25zLnJ0bE1vdmVWaXN1YWxseSkgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgeyByZXR1cm4gZGlyIDwgMCA/IHJhbmdlLmZyb20oKSA6IHJhbmdlLnRvKCkgfVxuICAgICAgfSwgc2VsX21vdmUpXG4gICAgfSksXG5cbiAgICBkZWxldGVIOiBtZXRob2RPcChmdW5jdGlvbihkaXIsIHVuaXQpIHtcbiAgICAgIHZhciBzZWwgPSB0aGlzLmRvYy5zZWwsIGRvYyA9IHRoaXMuZG9jXG4gICAgICBpZiAoc2VsLnNvbWV0aGluZ1NlbGVjdGVkKCkpXG4gICAgICAgIHsgZG9jLnJlcGxhY2VTZWxlY3Rpb24oXCJcIiwgbnVsbCwgXCIrZGVsZXRlXCIpIH1cbiAgICAgIGVsc2VcbiAgICAgICAgeyBkZWxldGVOZWFyU2VsZWN0aW9uKHRoaXMsIGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgICAgIHZhciBvdGhlciA9IGZpbmRQb3NIKGRvYywgcmFuZ2UuaGVhZCwgZGlyLCB1bml0LCBmYWxzZSlcbiAgICAgICAgICByZXR1cm4gZGlyIDwgMCA/IHtmcm9tOiBvdGhlciwgdG86IHJhbmdlLmhlYWR9IDoge2Zyb206IHJhbmdlLmhlYWQsIHRvOiBvdGhlcn1cbiAgICAgICAgfSkgfVxuICAgIH0pLFxuXG4gICAgZmluZFBvc1Y6IGZ1bmN0aW9uKGZyb20sIGFtb3VudCwgdW5pdCwgZ29hbENvbHVtbikge1xuICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgIHZhciBkaXIgPSAxLCB4ID0gZ29hbENvbHVtblxuICAgICAgaWYgKGFtb3VudCA8IDApIHsgZGlyID0gLTE7IGFtb3VudCA9IC1hbW91bnQgfVxuICAgICAgdmFyIGN1ciA9IGNsaXBQb3ModGhpcy5kb2MsIGZyb20pXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKSB7XG4gICAgICAgIHZhciBjb29yZHMgPSBjdXJzb3JDb29yZHModGhpcyQxLCBjdXIsIFwiZGl2XCIpXG4gICAgICAgIGlmICh4ID09IG51bGwpIHsgeCA9IGNvb3Jkcy5sZWZ0IH1cbiAgICAgICAgZWxzZSB7IGNvb3Jkcy5sZWZ0ID0geCB9XG4gICAgICAgIGN1ciA9IGZpbmRQb3NWKHRoaXMkMSwgY29vcmRzLCBkaXIsIHVuaXQpXG4gICAgICAgIGlmIChjdXIuaGl0U2lkZSkgeyBicmVhayB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY3VyXG4gICAgfSxcblxuICAgIG1vdmVWOiBtZXRob2RPcChmdW5jdGlvbihkaXIsIHVuaXQpIHtcbiAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICB2YXIgZG9jID0gdGhpcy5kb2MsIGdvYWxzID0gW11cbiAgICAgIHZhciBjb2xsYXBzZSA9ICF0aGlzLmRpc3BsYXkuc2hpZnQgJiYgIWRvYy5leHRlbmQgJiYgZG9jLnNlbC5zb21ldGhpbmdTZWxlY3RlZCgpXG4gICAgICBkb2MuZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgICBpZiAoY29sbGFwc2UpXG4gICAgICAgICAgeyByZXR1cm4gZGlyIDwgMCA/IHJhbmdlLmZyb20oKSA6IHJhbmdlLnRvKCkgfVxuICAgICAgICB2YXIgaGVhZFBvcyA9IGN1cnNvckNvb3Jkcyh0aGlzJDEsIHJhbmdlLmhlYWQsIFwiZGl2XCIpXG4gICAgICAgIGlmIChyYW5nZS5nb2FsQ29sdW1uICE9IG51bGwpIHsgaGVhZFBvcy5sZWZ0ID0gcmFuZ2UuZ29hbENvbHVtbiB9XG4gICAgICAgIGdvYWxzLnB1c2goaGVhZFBvcy5sZWZ0KVxuICAgICAgICB2YXIgcG9zID0gZmluZFBvc1YodGhpcyQxLCBoZWFkUG9zLCBkaXIsIHVuaXQpXG4gICAgICAgIGlmICh1bml0ID09IFwicGFnZVwiICYmIHJhbmdlID09IGRvYy5zZWwucHJpbWFyeSgpKVxuICAgICAgICAgIHsgYWRkVG9TY3JvbGxQb3ModGhpcyQxLCBudWxsLCBjaGFyQ29vcmRzKHRoaXMkMSwgcG9zLCBcImRpdlwiKS50b3AgLSBoZWFkUG9zLnRvcCkgfVxuICAgICAgICByZXR1cm4gcG9zXG4gICAgICB9LCBzZWxfbW92ZSlcbiAgICAgIGlmIChnb2Fscy5sZW5ndGgpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBkb2Muc2VsLnJhbmdlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgeyBkb2Muc2VsLnJhbmdlc1tpXS5nb2FsQ29sdW1uID0gZ29hbHNbaV0gfSB9XG4gICAgfSksXG5cbiAgICAvLyBGaW5kIHRoZSB3b3JkIGF0IHRoZSBnaXZlbiBwb3NpdGlvbiAoYXMgcmV0dXJuZWQgYnkgY29vcmRzQ2hhcikuXG4gICAgZmluZFdvcmRBdDogZnVuY3Rpb24ocG9zKSB7XG4gICAgICB2YXIgZG9jID0gdGhpcy5kb2MsIGxpbmUgPSBnZXRMaW5lKGRvYywgcG9zLmxpbmUpLnRleHRcbiAgICAgIHZhciBzdGFydCA9IHBvcy5jaCwgZW5kID0gcG9zLmNoXG4gICAgICBpZiAobGluZSkge1xuICAgICAgICB2YXIgaGVscGVyID0gdGhpcy5nZXRIZWxwZXIocG9zLCBcIndvcmRDaGFyc1wiKVxuICAgICAgICBpZiAoKHBvcy54UmVsIDwgMCB8fCBlbmQgPT0gbGluZS5sZW5ndGgpICYmIHN0YXJ0KSB7IC0tc3RhcnQ7IH0gZWxzZSB7ICsrZW5kIH1cbiAgICAgICAgdmFyIHN0YXJ0Q2hhciA9IGxpbmUuY2hhckF0KHN0YXJ0KVxuICAgICAgICB2YXIgY2hlY2sgPSBpc1dvcmRDaGFyKHN0YXJ0Q2hhciwgaGVscGVyKVxuICAgICAgICAgID8gZnVuY3Rpb24gKGNoKSB7IHJldHVybiBpc1dvcmRDaGFyKGNoLCBoZWxwZXIpOyB9XG4gICAgICAgICAgOiAvXFxzLy50ZXN0KHN0YXJ0Q2hhcikgPyBmdW5jdGlvbiAoY2gpIHsgcmV0dXJuIC9cXHMvLnRlc3QoY2gpOyB9XG4gICAgICAgICAgOiBmdW5jdGlvbiAoY2gpIHsgcmV0dXJuICghL1xccy8udGVzdChjaCkgJiYgIWlzV29yZENoYXIoY2gpKTsgfVxuICAgICAgICB3aGlsZSAoc3RhcnQgPiAwICYmIGNoZWNrKGxpbmUuY2hhckF0KHN0YXJ0IC0gMSkpKSB7IC0tc3RhcnQgfVxuICAgICAgICB3aGlsZSAoZW5kIDwgbGluZS5sZW5ndGggJiYgY2hlY2sobGluZS5jaGFyQXQoZW5kKSkpIHsgKytlbmQgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBSYW5nZShQb3MocG9zLmxpbmUsIHN0YXJ0KSwgUG9zKHBvcy5saW5lLCBlbmQpKVxuICAgIH0sXG5cbiAgICB0b2dnbGVPdmVyd3JpdGU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSA9PSB0aGlzLnN0YXRlLm92ZXJ3cml0ZSkgeyByZXR1cm4gfVxuICAgICAgaWYgKHRoaXMuc3RhdGUub3ZlcndyaXRlID0gIXRoaXMuc3RhdGUub3ZlcndyaXRlKVxuICAgICAgICB7IGFkZENsYXNzKHRoaXMuZGlzcGxheS5jdXJzb3JEaXYsIFwiQ29kZU1pcnJvci1vdmVyd3JpdGVcIikgfVxuICAgICAgZWxzZVxuICAgICAgICB7IHJtQ2xhc3ModGhpcy5kaXNwbGF5LmN1cnNvckRpdiwgXCJDb2RlTWlycm9yLW92ZXJ3cml0ZVwiKSB9XG5cbiAgICAgIHNpZ25hbCh0aGlzLCBcIm92ZXJ3cml0ZVRvZ2dsZVwiLCB0aGlzLCB0aGlzLnN0YXRlLm92ZXJ3cml0ZSlcbiAgICB9LFxuICAgIGhhc0ZvY3VzOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuZGlzcGxheS5pbnB1dC5nZXRGaWVsZCgpID09IGFjdGl2ZUVsdCgpIH0sXG4gICAgaXNSZWFkT25seTogZnVuY3Rpb24oKSB7IHJldHVybiAhISh0aGlzLm9wdGlvbnMucmVhZE9ubHkgfHwgdGhpcy5kb2MuY2FudEVkaXQpIH0sXG5cbiAgICBzY3JvbGxUbzogbWV0aG9kT3AoZnVuY3Rpb24oeCwgeSkge1xuICAgICAgaWYgKHggIT0gbnVsbCB8fCB5ICE9IG51bGwpIHsgcmVzb2x2ZVNjcm9sbFRvUG9zKHRoaXMpIH1cbiAgICAgIGlmICh4ICE9IG51bGwpIHsgdGhpcy5jdXJPcC5zY3JvbGxMZWZ0ID0geCB9XG4gICAgICBpZiAoeSAhPSBudWxsKSB7IHRoaXMuY3VyT3Auc2Nyb2xsVG9wID0geSB9XG4gICAgfSksXG4gICAgZ2V0U2Nyb2xsSW5mbzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2Nyb2xsZXIgPSB0aGlzLmRpc3BsYXkuc2Nyb2xsZXJcbiAgICAgIHJldHVybiB7bGVmdDogc2Nyb2xsZXIuc2Nyb2xsTGVmdCwgdG9wOiBzY3JvbGxlci5zY3JvbGxUb3AsXG4gICAgICAgICAgICAgIGhlaWdodDogc2Nyb2xsZXIuc2Nyb2xsSGVpZ2h0IC0gc2Nyb2xsR2FwKHRoaXMpIC0gdGhpcy5kaXNwbGF5LmJhckhlaWdodCxcbiAgICAgICAgICAgICAgd2lkdGg6IHNjcm9sbGVyLnNjcm9sbFdpZHRoIC0gc2Nyb2xsR2FwKHRoaXMpIC0gdGhpcy5kaXNwbGF5LmJhcldpZHRoLFxuICAgICAgICAgICAgICBjbGllbnRIZWlnaHQ6IGRpc3BsYXlIZWlnaHQodGhpcyksIGNsaWVudFdpZHRoOiBkaXNwbGF5V2lkdGgodGhpcyl9XG4gICAgfSxcblxuICAgIHNjcm9sbEludG9WaWV3OiBtZXRob2RPcChmdW5jdGlvbihyYW5nZSwgbWFyZ2luKSB7XG4gICAgICBpZiAocmFuZ2UgPT0gbnVsbCkge1xuICAgICAgICByYW5nZSA9IHtmcm9tOiB0aGlzLmRvYy5zZWwucHJpbWFyeSgpLmhlYWQsIHRvOiBudWxsfVxuICAgICAgICBpZiAobWFyZ2luID09IG51bGwpIHsgbWFyZ2luID0gdGhpcy5vcHRpb25zLmN1cnNvclNjcm9sbE1hcmdpbiB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiByYW5nZSA9PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJhbmdlID0ge2Zyb206IFBvcyhyYW5nZSwgMCksIHRvOiBudWxsfVxuICAgICAgfSBlbHNlIGlmIChyYW5nZS5mcm9tID09IG51bGwpIHtcbiAgICAgICAgcmFuZ2UgPSB7ZnJvbTogcmFuZ2UsIHRvOiBudWxsfVxuICAgICAgfVxuICAgICAgaWYgKCFyYW5nZS50bykgeyByYW5nZS50byA9IHJhbmdlLmZyb20gfVxuICAgICAgcmFuZ2UubWFyZ2luID0gbWFyZ2luIHx8IDBcblxuICAgICAgaWYgKHJhbmdlLmZyb20ubGluZSAhPSBudWxsKSB7XG4gICAgICAgIHJlc29sdmVTY3JvbGxUb1Bvcyh0aGlzKVxuICAgICAgICB0aGlzLmN1ck9wLnNjcm9sbFRvUG9zID0gcmFuZ2VcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBzUG9zID0gY2FsY3VsYXRlU2Nyb2xsUG9zKHRoaXMsIE1hdGgubWluKHJhbmdlLmZyb20ubGVmdCwgcmFuZ2UudG8ubGVmdCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWluKHJhbmdlLmZyb20udG9wLCByYW5nZS50by50b3ApIC0gcmFuZ2UubWFyZ2luLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLm1heChyYW5nZS5mcm9tLnJpZ2h0LCByYW5nZS50by5yaWdodCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgubWF4KHJhbmdlLmZyb20uYm90dG9tLCByYW5nZS50by5ib3R0b20pICsgcmFuZ2UubWFyZ2luKVxuICAgICAgICB0aGlzLnNjcm9sbFRvKHNQb3Muc2Nyb2xsTGVmdCwgc1Bvcy5zY3JvbGxUb3ApXG4gICAgICB9XG4gICAgfSksXG5cbiAgICBzZXRTaXplOiBtZXRob2RPcChmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgdmFyIGludGVycHJldCA9IGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIHR5cGVvZiB2YWwgPT0gXCJudW1iZXJcIiB8fCAvXlxcZCskLy50ZXN0KFN0cmluZyh2YWwpKSA/IHZhbCArIFwicHhcIiA6IHZhbDsgfVxuICAgICAgaWYgKHdpZHRoICE9IG51bGwpIHsgdGhpcy5kaXNwbGF5LndyYXBwZXIuc3R5bGUud2lkdGggPSBpbnRlcnByZXQod2lkdGgpIH1cbiAgICAgIGlmIChoZWlnaHQgIT0gbnVsbCkgeyB0aGlzLmRpc3BsYXkud3JhcHBlci5zdHlsZS5oZWlnaHQgPSBpbnRlcnByZXQoaGVpZ2h0KSB9XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmxpbmVXcmFwcGluZykgeyBjbGVhckxpbmVNZWFzdXJlbWVudENhY2hlKHRoaXMpIH1cbiAgICAgIHZhciBsaW5lTm8gPSB0aGlzLmRpc3BsYXkudmlld0Zyb21cbiAgICAgIHRoaXMuZG9jLml0ZXIobGluZU5vLCB0aGlzLmRpc3BsYXkudmlld1RvLCBmdW5jdGlvbiAobGluZSkge1xuICAgICAgICBpZiAobGluZS53aWRnZXRzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgbGluZS53aWRnZXRzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgIHsgaWYgKGxpbmUud2lkZ2V0c1tpXS5ub0hTY3JvbGwpIHsgcmVnTGluZUNoYW5nZSh0aGlzJDEsIGxpbmVObywgXCJ3aWRnZXRcIik7IGJyZWFrIH0gfSB9XG4gICAgICAgICsrbGluZU5vXG4gICAgICB9KVxuICAgICAgdGhpcy5jdXJPcC5mb3JjZVVwZGF0ZSA9IHRydWVcbiAgICAgIHNpZ25hbCh0aGlzLCBcInJlZnJlc2hcIiwgdGhpcylcbiAgICB9KSxcblxuICAgIG9wZXJhdGlvbjogZnVuY3Rpb24oZil7cmV0dXJuIHJ1bkluT3AodGhpcywgZil9LFxuXG4gICAgcmVmcmVzaDogbWV0aG9kT3AoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb2xkSGVpZ2h0ID0gdGhpcy5kaXNwbGF5LmNhY2hlZFRleHRIZWlnaHRcbiAgICAgIHJlZ0NoYW5nZSh0aGlzKVxuICAgICAgdGhpcy5jdXJPcC5mb3JjZVVwZGF0ZSA9IHRydWVcbiAgICAgIGNsZWFyQ2FjaGVzKHRoaXMpXG4gICAgICB0aGlzLnNjcm9sbFRvKHRoaXMuZG9jLnNjcm9sbExlZnQsIHRoaXMuZG9jLnNjcm9sbFRvcClcbiAgICAgIHVwZGF0ZUd1dHRlclNwYWNlKHRoaXMpXG4gICAgICBpZiAob2xkSGVpZ2h0ID09IG51bGwgfHwgTWF0aC5hYnMob2xkSGVpZ2h0IC0gdGV4dEhlaWdodCh0aGlzLmRpc3BsYXkpKSA+IC41KVxuICAgICAgICB7IGVzdGltYXRlTGluZUhlaWdodHModGhpcykgfVxuICAgICAgc2lnbmFsKHRoaXMsIFwicmVmcmVzaFwiLCB0aGlzKVxuICAgIH0pLFxuXG4gICAgc3dhcERvYzogbWV0aG9kT3AoZnVuY3Rpb24oZG9jKSB7XG4gICAgICB2YXIgb2xkID0gdGhpcy5kb2NcbiAgICAgIG9sZC5jbSA9IG51bGxcbiAgICAgIGF0dGFjaERvYyh0aGlzLCBkb2MpXG4gICAgICBjbGVhckNhY2hlcyh0aGlzKVxuICAgICAgdGhpcy5kaXNwbGF5LmlucHV0LnJlc2V0KClcbiAgICAgIHRoaXMuc2Nyb2xsVG8oZG9jLnNjcm9sbExlZnQsIGRvYy5zY3JvbGxUb3ApXG4gICAgICB0aGlzLmN1ck9wLmZvcmNlU2Nyb2xsID0gdHJ1ZVxuICAgICAgc2lnbmFsTGF0ZXIodGhpcywgXCJzd2FwRG9jXCIsIHRoaXMsIG9sZClcbiAgICAgIHJldHVybiBvbGRcbiAgICB9KSxcblxuICAgIGdldElucHV0RmllbGQ6IGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzcGxheS5pbnB1dC5nZXRGaWVsZCgpfSxcbiAgICBnZXRXcmFwcGVyRWxlbWVudDogZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXNwbGF5LndyYXBwZXJ9LFxuICAgIGdldFNjcm9sbGVyRWxlbWVudDogZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXNwbGF5LnNjcm9sbGVyfSxcbiAgICBnZXRHdXR0ZXJFbGVtZW50OiBmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpc3BsYXkuZ3V0dGVyc31cbiAgfVxuICBldmVudE1peGluKENvZGVNaXJyb3IpXG5cbiAgQ29kZU1pcnJvci5yZWdpc3RlckhlbHBlciA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKCFoZWxwZXJzLmhhc093blByb3BlcnR5KHR5cGUpKSB7IGhlbHBlcnNbdHlwZV0gPSBDb2RlTWlycm9yW3R5cGVdID0ge19nbG9iYWw6IFtdfSB9XG4gICAgaGVscGVyc1t0eXBlXVtuYW1lXSA9IHZhbHVlXG4gIH1cbiAgQ29kZU1pcnJvci5yZWdpc3Rlckdsb2JhbEhlbHBlciA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHByZWRpY2F0ZSwgdmFsdWUpIHtcbiAgICBDb2RlTWlycm9yLnJlZ2lzdGVySGVscGVyKHR5cGUsIG5hbWUsIHZhbHVlKVxuICAgIGhlbHBlcnNbdHlwZV0uX2dsb2JhbC5wdXNoKHtwcmVkOiBwcmVkaWNhdGUsIHZhbDogdmFsdWV9KVxuICB9XG59XG5cbi8vIFVzZWQgZm9yIGhvcml6b250YWwgcmVsYXRpdmUgbW90aW9uLiBEaXIgaXMgLTEgb3IgMSAobGVmdCBvclxuLy8gcmlnaHQpLCB1bml0IGNhbiBiZSBcImNoYXJcIiwgXCJjb2x1bW5cIiAobGlrZSBjaGFyLCBidXQgZG9lc24ndFxuLy8gY3Jvc3MgbGluZSBib3VuZGFyaWVzKSwgXCJ3b3JkXCIgKGFjcm9zcyBuZXh0IHdvcmQpLCBvciBcImdyb3VwXCIgKHRvXG4vLyB0aGUgc3RhcnQgb2YgbmV4dCBncm91cCBvZiB3b3JkIG9yIG5vbi13b3JkLW5vbi13aGl0ZXNwYWNlXG4vLyBjaGFycykuIFRoZSB2aXN1YWxseSBwYXJhbSBjb250cm9scyB3aGV0aGVyLCBpbiByaWdodC10by1sZWZ0XG4vLyB0ZXh0LCBkaXJlY3Rpb24gMSBtZWFucyB0byBtb3ZlIHRvd2FyZHMgdGhlIG5leHQgaW5kZXggaW4gdGhlXG4vLyBzdHJpbmcsIG9yIHRvd2FyZHMgdGhlIGNoYXJhY3RlciB0byB0aGUgcmlnaHQgb2YgdGhlIGN1cnJlbnRcbi8vIHBvc2l0aW9uLiBUaGUgcmVzdWx0aW5nIHBvc2l0aW9uIHdpbGwgaGF2ZSBhIGhpdFNpZGU9dHJ1ZVxuLy8gcHJvcGVydHkgaWYgaXQgcmVhY2hlZCB0aGUgZW5kIG9mIHRoZSBkb2N1bWVudC5cbmZ1bmN0aW9uIGZpbmRQb3NIKGRvYywgcG9zLCBkaXIsIHVuaXQsIHZpc3VhbGx5KSB7XG4gIHZhciBsaW5lID0gcG9zLmxpbmUsIGNoID0gcG9zLmNoLCBvcmlnRGlyID0gZGlyXG4gIHZhciBsaW5lT2JqID0gZ2V0TGluZShkb2MsIGxpbmUpXG4gIGZ1bmN0aW9uIGZpbmROZXh0TGluZSgpIHtcbiAgICB2YXIgbCA9IGxpbmUgKyBkaXJcbiAgICBpZiAobCA8IGRvYy5maXJzdCB8fCBsID49IGRvYy5maXJzdCArIGRvYy5zaXplKSB7IHJldHVybiBmYWxzZSB9XG4gICAgbGluZSA9IGxcbiAgICByZXR1cm4gbGluZU9iaiA9IGdldExpbmUoZG9jLCBsKVxuICB9XG4gIGZ1bmN0aW9uIG1vdmVPbmNlKGJvdW5kVG9MaW5lKSB7XG4gICAgdmFyIG5leHQgPSAodmlzdWFsbHkgPyBtb3ZlVmlzdWFsbHkgOiBtb3ZlTG9naWNhbGx5KShsaW5lT2JqLCBjaCwgZGlyLCB0cnVlKVxuICAgIGlmIChuZXh0ID09IG51bGwpIHtcbiAgICAgIGlmICghYm91bmRUb0xpbmUgJiYgZmluZE5leHRMaW5lKCkpIHtcbiAgICAgICAgaWYgKHZpc3VhbGx5KSB7IGNoID0gKGRpciA8IDAgPyBsaW5lUmlnaHQgOiBsaW5lTGVmdCkobGluZU9iaikgfVxuICAgICAgICBlbHNlIHsgY2ggPSBkaXIgPCAwID8gbGluZU9iai50ZXh0Lmxlbmd0aCA6IDAgfVxuICAgICAgfSBlbHNlIHsgcmV0dXJuIGZhbHNlIH1cbiAgICB9IGVsc2UgeyBjaCA9IG5leHQgfVxuICAgIHJldHVybiB0cnVlXG4gIH1cblxuICBpZiAodW5pdCA9PSBcImNoYXJcIikge1xuICAgIG1vdmVPbmNlKClcbiAgfSBlbHNlIGlmICh1bml0ID09IFwiY29sdW1uXCIpIHtcbiAgICBtb3ZlT25jZSh0cnVlKVxuICB9IGVsc2UgaWYgKHVuaXQgPT0gXCJ3b3JkXCIgfHwgdW5pdCA9PSBcImdyb3VwXCIpIHtcbiAgICB2YXIgc2F3VHlwZSA9IG51bGwsIGdyb3VwID0gdW5pdCA9PSBcImdyb3VwXCJcbiAgICB2YXIgaGVscGVyID0gZG9jLmNtICYmIGRvYy5jbS5nZXRIZWxwZXIocG9zLCBcIndvcmRDaGFyc1wiKVxuICAgIGZvciAodmFyIGZpcnN0ID0gdHJ1ZTs7IGZpcnN0ID0gZmFsc2UpIHtcbiAgICAgIGlmIChkaXIgPCAwICYmICFtb3ZlT25jZSghZmlyc3QpKSB7IGJyZWFrIH1cbiAgICAgIHZhciBjdXIgPSBsaW5lT2JqLnRleHQuY2hhckF0KGNoKSB8fCBcIlxcblwiXG4gICAgICB2YXIgdHlwZSA9IGlzV29yZENoYXIoY3VyLCBoZWxwZXIpID8gXCJ3XCJcbiAgICAgICAgOiBncm91cCAmJiBjdXIgPT0gXCJcXG5cIiA/IFwiblwiXG4gICAgICAgIDogIWdyb3VwIHx8IC9cXHMvLnRlc3QoY3VyKSA/IG51bGxcbiAgICAgICAgOiBcInBcIlxuICAgICAgaWYgKGdyb3VwICYmICFmaXJzdCAmJiAhdHlwZSkgeyB0eXBlID0gXCJzXCIgfVxuICAgICAgaWYgKHNhd1R5cGUgJiYgc2F3VHlwZSAhPSB0eXBlKSB7XG4gICAgICAgIGlmIChkaXIgPCAwKSB7ZGlyID0gMTsgbW92ZU9uY2UoKX1cbiAgICAgICAgYnJlYWtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGUpIHsgc2F3VHlwZSA9IHR5cGUgfVxuICAgICAgaWYgKGRpciA+IDAgJiYgIW1vdmVPbmNlKCFmaXJzdCkpIHsgYnJlYWsgfVxuICAgIH1cbiAgfVxuICB2YXIgcmVzdWx0ID0gc2tpcEF0b21pYyhkb2MsIFBvcyhsaW5lLCBjaCksIHBvcywgb3JpZ0RpciwgdHJ1ZSlcbiAgaWYgKCFjbXAocG9zLCByZXN1bHQpKSB7IHJlc3VsdC5oaXRTaWRlID0gdHJ1ZSB9XG4gIHJldHVybiByZXN1bHRcbn1cblxuLy8gRm9yIHJlbGF0aXZlIHZlcnRpY2FsIG1vdmVtZW50LiBEaXIgbWF5IGJlIC0xIG9yIDEuIFVuaXQgY2FuIGJlXG4vLyBcInBhZ2VcIiBvciBcImxpbmVcIi4gVGhlIHJlc3VsdGluZyBwb3NpdGlvbiB3aWxsIGhhdmUgYSBoaXRTaWRlPXRydWVcbi8vIHByb3BlcnR5IGlmIGl0IHJlYWNoZWQgdGhlIGVuZCBvZiB0aGUgZG9jdW1lbnQuXG5mdW5jdGlvbiBmaW5kUG9zVihjbSwgcG9zLCBkaXIsIHVuaXQpIHtcbiAgdmFyIGRvYyA9IGNtLmRvYywgeCA9IHBvcy5sZWZ0LCB5XG4gIGlmICh1bml0ID09IFwicGFnZVwiKSB7XG4gICAgdmFyIHBhZ2VTaXplID0gTWF0aC5taW4oY20uZGlzcGxheS53cmFwcGVyLmNsaWVudEhlaWdodCwgd2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpXG4gICAgdmFyIG1vdmVBbW91bnQgPSBNYXRoLm1heChwYWdlU2l6ZSAtIC41ICogdGV4dEhlaWdodChjbS5kaXNwbGF5KSwgMylcbiAgICB5ID0gKGRpciA+IDAgPyBwb3MuYm90dG9tIDogcG9zLnRvcCkgKyBkaXIgKiBtb3ZlQW1vdW50XG5cbiAgfSBlbHNlIGlmICh1bml0ID09IFwibGluZVwiKSB7XG4gICAgeSA9IGRpciA+IDAgPyBwb3MuYm90dG9tICsgMyA6IHBvcy50b3AgLSAzXG4gIH1cbiAgdmFyIHRhcmdldFxuICBmb3IgKDs7KSB7XG4gICAgdGFyZ2V0ID0gY29vcmRzQ2hhcihjbSwgeCwgeSlcbiAgICBpZiAoIXRhcmdldC5vdXRzaWRlKSB7IGJyZWFrIH1cbiAgICBpZiAoZGlyIDwgMCA/IHkgPD0gMCA6IHkgPj0gZG9jLmhlaWdodCkgeyB0YXJnZXQuaGl0U2lkZSA9IHRydWU7IGJyZWFrIH1cbiAgICB5ICs9IGRpciAqIDVcbiAgfVxuICByZXR1cm4gdGFyZ2V0XG59XG5cbi8vIENPTlRFTlRFRElUQUJMRSBJTlBVVCBTVFlMRVxuXG5mdW5jdGlvbiBDb250ZW50RWRpdGFibGVJbnB1dChjbSkge1xuICB0aGlzLmNtID0gY21cbiAgdGhpcy5sYXN0QW5jaG9yTm9kZSA9IHRoaXMubGFzdEFuY2hvck9mZnNldCA9IHRoaXMubGFzdEZvY3VzTm9kZSA9IHRoaXMubGFzdEZvY3VzT2Zmc2V0ID0gbnVsbFxuICB0aGlzLnBvbGxpbmcgPSBuZXcgRGVsYXllZCgpXG4gIHRoaXMuY29tcG9zaW5nID0gbnVsbFxuICB0aGlzLmdyYWNlUGVyaW9kID0gZmFsc2VcbiAgdGhpcy5yZWFkRE9NVGltZW91dCA9IG51bGxcbn1cblxuQ29udGVudEVkaXRhYmxlSW5wdXQucHJvdG90eXBlID0gY29weU9iaih7XG4gIGluaXQ6IGZ1bmN0aW9uKGRpc3BsYXkpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBpbnB1dCA9IHRoaXMsIGNtID0gaW5wdXQuY21cbiAgICB2YXIgZGl2ID0gaW5wdXQuZGl2ID0gZGlzcGxheS5saW5lRGl2XG4gICAgZGlzYWJsZUJyb3dzZXJNYWdpYyhkaXYsIGNtLm9wdGlvbnMuc3BlbGxjaGVjaylcblxuICAgIG9uKGRpdiwgXCJwYXN0ZVwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBlKSB8fCBoYW5kbGVQYXN0ZShlLCBjbSkpIHsgcmV0dXJuIH1cbiAgICAgIC8vIElFIGRvZXNuJ3QgZmlyZSBpbnB1dCBldmVudHMsIHNvIHdlIHNjaGVkdWxlIGEgcmVhZCBmb3IgdGhlIHBhc3RlZCBjb250ZW50IGluIHRoaXMgd2F5XG4gICAgICBpZiAoaWVfdmVyc2lvbiA8PSAxMSkgeyBzZXRUaW1lb3V0KG9wZXJhdGlvbihjbSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWlucHV0LnBvbGxDb250ZW50KCkpIHsgcmVnQ2hhbmdlKGNtKSB9XG4gICAgICB9KSwgMjApIH1cbiAgICB9KVxuXG4gICAgb24oZGl2LCBcImNvbXBvc2l0aW9uc3RhcnRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRoaXMkMS5jb21wb3NpbmcgPSB7ZGF0YTogZS5kYXRhfVxuICAgIH0pXG4gICAgb24oZGl2LCBcImNvbXBvc2l0aW9udXBkYXRlXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoIXRoaXMkMS5jb21wb3NpbmcpIHsgdGhpcyQxLmNvbXBvc2luZyA9IHtkYXRhOiBlLmRhdGF9IH1cbiAgICB9KVxuICAgIG9uKGRpdiwgXCJjb21wb3NpdGlvbmVuZFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKHRoaXMkMS5jb21wb3NpbmcpIHtcbiAgICAgICAgaWYgKGUuZGF0YSAhPSB0aGlzJDEuY29tcG9zaW5nLmRhdGEpIHsgdGhpcyQxLnJlYWRGcm9tRE9NU29vbigpIH1cbiAgICAgICAgdGhpcyQxLmNvbXBvc2luZyA9IG51bGxcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgb24oZGl2LCBcInRvdWNoc3RhcnRcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5wdXQuZm9yY2VDb21wb3NpdGlvbkVuZCgpOyB9KVxuXG4gICAgb24oZGl2LCBcImlucHV0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcyQxLmNvbXBvc2luZykgeyB0aGlzJDEucmVhZEZyb21ET01Tb29uKCkgfVxuICAgIH0pXG5cbiAgICBmdW5jdGlvbiBvbkNvcHlDdXQoZSkge1xuICAgICAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBlKSkgeyByZXR1cm4gfVxuICAgICAgaWYgKGNtLnNvbWV0aGluZ1NlbGVjdGVkKCkpIHtcbiAgICAgICAgc2V0TGFzdENvcGllZCh7bGluZVdpc2U6IGZhbHNlLCB0ZXh0OiBjbS5nZXRTZWxlY3Rpb25zKCl9KVxuICAgICAgICBpZiAoZS50eXBlID09IFwiY3V0XCIpIHsgY20ucmVwbGFjZVNlbGVjdGlvbihcIlwiLCBudWxsLCBcImN1dFwiKSB9XG4gICAgICB9IGVsc2UgaWYgKCFjbS5vcHRpb25zLmxpbmVXaXNlQ29weUN1dCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByYW5nZXMgPSBjb3B5YWJsZVJhbmdlcyhjbSlcbiAgICAgICAgc2V0TGFzdENvcGllZCh7bGluZVdpc2U6IHRydWUsIHRleHQ6IHJhbmdlcy50ZXh0fSlcbiAgICAgICAgaWYgKGUudHlwZSA9PSBcImN1dFwiKSB7XG4gICAgICAgICAgY20ub3BlcmF0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNtLnNldFNlbGVjdGlvbnMocmFuZ2VzLnJhbmdlcywgMCwgc2VsX2RvbnRTY3JvbGwpXG4gICAgICAgICAgICBjbS5yZXBsYWNlU2VsZWN0aW9uKFwiXCIsIG51bGwsIFwiY3V0XCIpXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGUuY2xpcGJvYXJkRGF0YSkge1xuICAgICAgICBlLmNsaXBib2FyZERhdGEuY2xlYXJEYXRhKClcbiAgICAgICAgdmFyIGNvbnRlbnQgPSBsYXN0Q29waWVkLnRleHQuam9pbihcIlxcblwiKVxuICAgICAgICAvLyBpT1MgZXhwb3NlcyB0aGUgY2xpcGJvYXJkIEFQSSwgYnV0IHNlZW1zIHRvIGRpc2NhcmQgY29udGVudCBpbnNlcnRlZCBpbnRvIGl0XG4gICAgICAgIGUuY2xpcGJvYXJkRGF0YS5zZXREYXRhKFwiVGV4dFwiLCBjb250ZW50KVxuICAgICAgICBpZiAoZS5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJUZXh0XCIpID09IGNvbnRlbnQpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gT2xkLWZhc2hpb25lZCBicmllZmx5LWZvY3VzLWEtdGV4dGFyZWEgaGFja1xuICAgICAgdmFyIGtsdWRnZSA9IGhpZGRlblRleHRhcmVhKCksIHRlID0ga2x1ZGdlLmZpcnN0Q2hpbGRcbiAgICAgIGNtLmRpc3BsYXkubGluZVNwYWNlLmluc2VydEJlZm9yZShrbHVkZ2UsIGNtLmRpc3BsYXkubGluZVNwYWNlLmZpcnN0Q2hpbGQpXG4gICAgICB0ZS52YWx1ZSA9IGxhc3RDb3BpZWQudGV4dC5qb2luKFwiXFxuXCIpXG4gICAgICB2YXIgaGFkRm9jdXMgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50XG4gICAgICBzZWxlY3RJbnB1dCh0ZSlcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBjbS5kaXNwbGF5LmxpbmVTcGFjZS5yZW1vdmVDaGlsZChrbHVkZ2UpXG4gICAgICAgIGhhZEZvY3VzLmZvY3VzKClcbiAgICAgICAgaWYgKGhhZEZvY3VzID09IGRpdikgeyBpbnB1dC5zaG93UHJpbWFyeVNlbGVjdGlvbigpIH1cbiAgICAgIH0sIDUwKVxuICAgIH1cbiAgICBvbihkaXYsIFwiY29weVwiLCBvbkNvcHlDdXQpXG4gICAgb24oZGl2LCBcImN1dFwiLCBvbkNvcHlDdXQpXG4gIH0sXG5cbiAgcHJlcGFyZVNlbGVjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlc3VsdCA9IHByZXBhcmVTZWxlY3Rpb24odGhpcy5jbSwgZmFsc2UpXG4gICAgcmVzdWx0LmZvY3VzID0gdGhpcy5jbS5zdGF0ZS5mb2N1c2VkXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9LFxuXG4gIHNob3dTZWxlY3Rpb246IGZ1bmN0aW9uKGluZm8sIHRha2VGb2N1cykge1xuICAgIGlmICghaW5mbyB8fCAhdGhpcy5jbS5kaXNwbGF5LnZpZXcubGVuZ3RoKSB7IHJldHVybiB9XG4gICAgaWYgKGluZm8uZm9jdXMgfHwgdGFrZUZvY3VzKSB7IHRoaXMuc2hvd1ByaW1hcnlTZWxlY3Rpb24oKSB9XG4gICAgdGhpcy5zaG93TXVsdGlwbGVTZWxlY3Rpb25zKGluZm8pXG4gIH0sXG5cbiAgc2hvd1ByaW1hcnlTZWxlY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCksIHByaW0gPSB0aGlzLmNtLmRvYy5zZWwucHJpbWFyeSgpXG4gICAgdmFyIGN1ckFuY2hvciA9IGRvbVRvUG9zKHRoaXMuY20sIHNlbC5hbmNob3JOb2RlLCBzZWwuYW5jaG9yT2Zmc2V0KVxuICAgIHZhciBjdXJGb2N1cyA9IGRvbVRvUG9zKHRoaXMuY20sIHNlbC5mb2N1c05vZGUsIHNlbC5mb2N1c09mZnNldClcbiAgICBpZiAoY3VyQW5jaG9yICYmICFjdXJBbmNob3IuYmFkICYmIGN1ckZvY3VzICYmICFjdXJGb2N1cy5iYWQgJiZcbiAgICAgICAgY21wKG1pblBvcyhjdXJBbmNob3IsIGN1ckZvY3VzKSwgcHJpbS5mcm9tKCkpID09IDAgJiZcbiAgICAgICAgY21wKG1heFBvcyhjdXJBbmNob3IsIGN1ckZvY3VzKSwgcHJpbS50bygpKSA9PSAwKVxuICAgICAgeyByZXR1cm4gfVxuXG4gICAgdmFyIHN0YXJ0ID0gcG9zVG9ET00odGhpcy5jbSwgcHJpbS5mcm9tKCkpXG4gICAgdmFyIGVuZCA9IHBvc1RvRE9NKHRoaXMuY20sIHByaW0udG8oKSlcbiAgICBpZiAoIXN0YXJ0ICYmICFlbmQpIHsgcmV0dXJuIH1cblxuICAgIHZhciB2aWV3ID0gdGhpcy5jbS5kaXNwbGF5LnZpZXdcbiAgICB2YXIgb2xkID0gc2VsLnJhbmdlQ291bnQgJiYgc2VsLmdldFJhbmdlQXQoMClcbiAgICBpZiAoIXN0YXJ0KSB7XG4gICAgICBzdGFydCA9IHtub2RlOiB2aWV3WzBdLm1lYXN1cmUubWFwWzJdLCBvZmZzZXQ6IDB9XG4gICAgfSBlbHNlIGlmICghZW5kKSB7IC8vIEZJWE1FIGRhbmdlcm91c2x5IGhhY2t5XG4gICAgICB2YXIgbWVhc3VyZSA9IHZpZXdbdmlldy5sZW5ndGggLSAxXS5tZWFzdXJlXG4gICAgICB2YXIgbWFwID0gbWVhc3VyZS5tYXBzID8gbWVhc3VyZS5tYXBzW21lYXN1cmUubWFwcy5sZW5ndGggLSAxXSA6IG1lYXN1cmUubWFwXG4gICAgICBlbmQgPSB7bm9kZTogbWFwW21hcC5sZW5ndGggLSAxXSwgb2Zmc2V0OiBtYXBbbWFwLmxlbmd0aCAtIDJdIC0gbWFwW21hcC5sZW5ndGggLSAzXX1cbiAgICB9XG5cbiAgICB2YXIgcm5nXG4gICAgdHJ5IHsgcm5nID0gcmFuZ2Uoc3RhcnQubm9kZSwgc3RhcnQub2Zmc2V0LCBlbmQub2Zmc2V0LCBlbmQubm9kZSkgfVxuICAgIGNhdGNoKGUpIHt9IC8vIE91ciBtb2RlbCBvZiB0aGUgRE9NIG1pZ2h0IGJlIG91dGRhdGVkLCBpbiB3aGljaCBjYXNlIHRoZSByYW5nZSB3ZSB0cnkgdG8gc2V0IGNhbiBiZSBpbXBvc3NpYmxlXG4gICAgaWYgKHJuZykge1xuICAgICAgaWYgKCFnZWNrbyAmJiB0aGlzLmNtLnN0YXRlLmZvY3VzZWQpIHtcbiAgICAgICAgc2VsLmNvbGxhcHNlKHN0YXJ0Lm5vZGUsIHN0YXJ0Lm9mZnNldClcbiAgICAgICAgaWYgKCFybmcuY29sbGFwc2VkKSB7XG4gICAgICAgICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpXG4gICAgICAgICAgc2VsLmFkZFJhbmdlKHJuZylcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpXG4gICAgICAgIHNlbC5hZGRSYW5nZShybmcpXG4gICAgICB9XG4gICAgICBpZiAob2xkICYmIHNlbC5hbmNob3JOb2RlID09IG51bGwpIHsgc2VsLmFkZFJhbmdlKG9sZCkgfVxuICAgICAgZWxzZSBpZiAoZ2Vja28pIHsgdGhpcy5zdGFydEdyYWNlUGVyaW9kKCkgfVxuICAgIH1cbiAgICB0aGlzLnJlbWVtYmVyU2VsZWN0aW9uKClcbiAgfSxcblxuICBzdGFydEdyYWNlUGVyaW9kOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGNsZWFyVGltZW91dCh0aGlzLmdyYWNlUGVyaW9kKVxuICAgIHRoaXMuZ3JhY2VQZXJpb2QgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMkMS5ncmFjZVBlcmlvZCA9IGZhbHNlXG4gICAgICBpZiAodGhpcyQxLnNlbGVjdGlvbkNoYW5nZWQoKSlcbiAgICAgICAgeyB0aGlzJDEuY20ub3BlcmF0aW9uKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMkMS5jbS5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkID0gdHJ1ZTsgfSkgfVxuICAgIH0sIDIwKVxuICB9LFxuXG4gIHNob3dNdWx0aXBsZVNlbGVjdGlvbnM6IGZ1bmN0aW9uKGluZm8pIHtcbiAgICByZW1vdmVDaGlsZHJlbkFuZEFkZCh0aGlzLmNtLmRpc3BsYXkuY3Vyc29yRGl2LCBpbmZvLmN1cnNvcnMpXG4gICAgcmVtb3ZlQ2hpbGRyZW5BbmRBZGQodGhpcy5jbS5kaXNwbGF5LnNlbGVjdGlvbkRpdiwgaW5mby5zZWxlY3Rpb24pXG4gIH0sXG5cbiAgcmVtZW1iZXJTZWxlY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKClcbiAgICB0aGlzLmxhc3RBbmNob3JOb2RlID0gc2VsLmFuY2hvck5vZGU7IHRoaXMubGFzdEFuY2hvck9mZnNldCA9IHNlbC5hbmNob3JPZmZzZXRcbiAgICB0aGlzLmxhc3RGb2N1c05vZGUgPSBzZWwuZm9jdXNOb2RlOyB0aGlzLmxhc3RGb2N1c09mZnNldCA9IHNlbC5mb2N1c09mZnNldFxuICB9LFxuXG4gIHNlbGVjdGlvbkluRWRpdG9yOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpXG4gICAgaWYgKCFzZWwucmFuZ2VDb3VudCkgeyByZXR1cm4gZmFsc2UgfVxuICAgIHZhciBub2RlID0gc2VsLmdldFJhbmdlQXQoMCkuY29tbW9uQW5jZXN0b3JDb250YWluZXJcbiAgICByZXR1cm4gY29udGFpbnModGhpcy5kaXYsIG5vZGUpXG4gIH0sXG5cbiAgZm9jdXM6IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmNtLm9wdGlvbnMucmVhZE9ubHkgIT0gXCJub2N1cnNvclwiKSB7XG4gICAgICBpZiAoIXRoaXMuc2VsZWN0aW9uSW5FZGl0b3IoKSlcbiAgICAgICAgeyB0aGlzLnNob3dTZWxlY3Rpb24odGhpcy5wcmVwYXJlU2VsZWN0aW9uKCksIHRydWUpIH1cbiAgICAgIHRoaXMuZGl2LmZvY3VzKClcbiAgICB9XG4gIH0sXG4gIGJsdXI6IGZ1bmN0aW9uKCkgeyB0aGlzLmRpdi5ibHVyKCkgfSxcbiAgZ2V0RmllbGQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5kaXYgfSxcblxuICBzdXBwb3J0c1RvdWNoOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRydWUgfSxcblxuICByZWNlaXZlZEZvY3VzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5wdXQgPSB0aGlzXG4gICAgaWYgKHRoaXMuc2VsZWN0aW9uSW5FZGl0b3IoKSlcbiAgICAgIHsgdGhpcy5wb2xsU2VsZWN0aW9uKCkgfVxuICAgIGVsc2VcbiAgICAgIHsgcnVuSW5PcCh0aGlzLmNtLCBmdW5jdGlvbiAoKSB7IHJldHVybiBpbnB1dC5jbS5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkID0gdHJ1ZTsgfSkgfVxuXG4gICAgZnVuY3Rpb24gcG9sbCgpIHtcbiAgICAgIGlmIChpbnB1dC5jbS5zdGF0ZS5mb2N1c2VkKSB7XG4gICAgICAgIGlucHV0LnBvbGxTZWxlY3Rpb24oKVxuICAgICAgICBpbnB1dC5wb2xsaW5nLnNldChpbnB1dC5jbS5vcHRpb25zLnBvbGxJbnRlcnZhbCwgcG9sbClcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5wb2xsaW5nLnNldCh0aGlzLmNtLm9wdGlvbnMucG9sbEludGVydmFsLCBwb2xsKVxuICB9LFxuXG4gIHNlbGVjdGlvbkNoYW5nZWQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKClcbiAgICByZXR1cm4gc2VsLmFuY2hvck5vZGUgIT0gdGhpcy5sYXN0QW5jaG9yTm9kZSB8fCBzZWwuYW5jaG9yT2Zmc2V0ICE9IHRoaXMubGFzdEFuY2hvck9mZnNldCB8fFxuICAgICAgc2VsLmZvY3VzTm9kZSAhPSB0aGlzLmxhc3RGb2N1c05vZGUgfHwgc2VsLmZvY3VzT2Zmc2V0ICE9IHRoaXMubGFzdEZvY3VzT2Zmc2V0XG4gIH0sXG5cbiAgcG9sbFNlbGVjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLmNvbXBvc2luZyAmJiB0aGlzLnJlYWRET01UaW1lb3V0ID09IG51bGwgJiYgIXRoaXMuZ3JhY2VQZXJpb2QgJiYgdGhpcy5zZWxlY3Rpb25DaGFuZ2VkKCkpIHtcbiAgICAgIHZhciBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCksIGNtID0gdGhpcy5jbVxuICAgICAgdGhpcy5yZW1lbWJlclNlbGVjdGlvbigpXG4gICAgICB2YXIgYW5jaG9yID0gZG9tVG9Qb3MoY20sIHNlbC5hbmNob3JOb2RlLCBzZWwuYW5jaG9yT2Zmc2V0KVxuICAgICAgdmFyIGhlYWQgPSBkb21Ub1BvcyhjbSwgc2VsLmZvY3VzTm9kZSwgc2VsLmZvY3VzT2Zmc2V0KVxuICAgICAgaWYgKGFuY2hvciAmJiBoZWFkKSB7IHJ1bkluT3AoY20sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2V0U2VsZWN0aW9uKGNtLmRvYywgc2ltcGxlU2VsZWN0aW9uKGFuY2hvciwgaGVhZCksIHNlbF9kb250U2Nyb2xsKVxuICAgICAgICBpZiAoYW5jaG9yLmJhZCB8fCBoZWFkLmJhZCkgeyBjbS5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkID0gdHJ1ZSB9XG4gICAgICB9KSB9XG4gICAgfVxuICB9LFxuXG4gIHBvbGxDb250ZW50OiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5yZWFkRE9NVGltZW91dCAhPSBudWxsKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5yZWFkRE9NVGltZW91dClcbiAgICAgIHRoaXMucmVhZERPTVRpbWVvdXQgPSBudWxsXG4gICAgfVxuXG4gICAgdmFyIGNtID0gdGhpcy5jbSwgZGlzcGxheSA9IGNtLmRpc3BsYXksIHNlbCA9IGNtLmRvYy5zZWwucHJpbWFyeSgpXG4gICAgdmFyIGZyb20gPSBzZWwuZnJvbSgpLCB0byA9IHNlbC50bygpXG4gICAgaWYgKGZyb20uY2ggPT0gMCAmJiBmcm9tLmxpbmUgPiBjbS5maXJzdExpbmUoKSlcbiAgICAgIHsgZnJvbSA9IFBvcyhmcm9tLmxpbmUgLSAxLCBnZXRMaW5lKGNtLmRvYywgZnJvbS5saW5lIC0gMSkubGVuZ3RoKSB9XG4gICAgaWYgKHRvLmNoID09IGdldExpbmUoY20uZG9jLCB0by5saW5lKS50ZXh0Lmxlbmd0aCAmJiB0by5saW5lIDwgY20ubGFzdExpbmUoKSlcbiAgICAgIHsgdG8gPSBQb3ModG8ubGluZSArIDEsIDApIH1cbiAgICBpZiAoZnJvbS5saW5lIDwgZGlzcGxheS52aWV3RnJvbSB8fCB0by5saW5lID4gZGlzcGxheS52aWV3VG8gLSAxKSB7IHJldHVybiBmYWxzZSB9XG5cbiAgICB2YXIgZnJvbUluZGV4LCBmcm9tTGluZSwgZnJvbU5vZGVcbiAgICBpZiAoZnJvbS5saW5lID09IGRpc3BsYXkudmlld0Zyb20gfHwgKGZyb21JbmRleCA9IGZpbmRWaWV3SW5kZXgoY20sIGZyb20ubGluZSkpID09IDApIHtcbiAgICAgIGZyb21MaW5lID0gbGluZU5vKGRpc3BsYXkudmlld1swXS5saW5lKVxuICAgICAgZnJvbU5vZGUgPSBkaXNwbGF5LnZpZXdbMF0ubm9kZVxuICAgIH0gZWxzZSB7XG4gICAgICBmcm9tTGluZSA9IGxpbmVObyhkaXNwbGF5LnZpZXdbZnJvbUluZGV4XS5saW5lKVxuICAgICAgZnJvbU5vZGUgPSBkaXNwbGF5LnZpZXdbZnJvbUluZGV4IC0gMV0ubm9kZS5uZXh0U2libGluZ1xuICAgIH1cbiAgICB2YXIgdG9JbmRleCA9IGZpbmRWaWV3SW5kZXgoY20sIHRvLmxpbmUpXG4gICAgdmFyIHRvTGluZSwgdG9Ob2RlXG4gICAgaWYgKHRvSW5kZXggPT0gZGlzcGxheS52aWV3Lmxlbmd0aCAtIDEpIHtcbiAgICAgIHRvTGluZSA9IGRpc3BsYXkudmlld1RvIC0gMVxuICAgICAgdG9Ob2RlID0gZGlzcGxheS5saW5lRGl2Lmxhc3RDaGlsZFxuICAgIH0gZWxzZSB7XG4gICAgICB0b0xpbmUgPSBsaW5lTm8oZGlzcGxheS52aWV3W3RvSW5kZXggKyAxXS5saW5lKSAtIDFcbiAgICAgIHRvTm9kZSA9IGRpc3BsYXkudmlld1t0b0luZGV4ICsgMV0ubm9kZS5wcmV2aW91c1NpYmxpbmdcbiAgICB9XG5cbiAgICBpZiAoIWZyb21Ob2RlKSB7IHJldHVybiBmYWxzZSB9XG4gICAgdmFyIG5ld1RleHQgPSBjbS5kb2Muc3BsaXRMaW5lcyhkb21UZXh0QmV0d2VlbihjbSwgZnJvbU5vZGUsIHRvTm9kZSwgZnJvbUxpbmUsIHRvTGluZSkpXG4gICAgdmFyIG9sZFRleHQgPSBnZXRCZXR3ZWVuKGNtLmRvYywgUG9zKGZyb21MaW5lLCAwKSwgUG9zKHRvTGluZSwgZ2V0TGluZShjbS5kb2MsIHRvTGluZSkudGV4dC5sZW5ndGgpKVxuICAgIHdoaWxlIChuZXdUZXh0Lmxlbmd0aCA+IDEgJiYgb2xkVGV4dC5sZW5ndGggPiAxKSB7XG4gICAgICBpZiAobHN0KG5ld1RleHQpID09IGxzdChvbGRUZXh0KSkgeyBuZXdUZXh0LnBvcCgpOyBvbGRUZXh0LnBvcCgpOyB0b0xpbmUtLSB9XG4gICAgICBlbHNlIGlmIChuZXdUZXh0WzBdID09IG9sZFRleHRbMF0pIHsgbmV3VGV4dC5zaGlmdCgpOyBvbGRUZXh0LnNoaWZ0KCk7IGZyb21MaW5lKysgfVxuICAgICAgZWxzZSB7IGJyZWFrIH1cbiAgICB9XG5cbiAgICB2YXIgY3V0RnJvbnQgPSAwLCBjdXRFbmQgPSAwXG4gICAgdmFyIG5ld1RvcCA9IG5ld1RleHRbMF0sIG9sZFRvcCA9IG9sZFRleHRbMF0sIG1heEN1dEZyb250ID0gTWF0aC5taW4obmV3VG9wLmxlbmd0aCwgb2xkVG9wLmxlbmd0aClcbiAgICB3aGlsZSAoY3V0RnJvbnQgPCBtYXhDdXRGcm9udCAmJiBuZXdUb3AuY2hhckNvZGVBdChjdXRGcm9udCkgPT0gb2xkVG9wLmNoYXJDb2RlQXQoY3V0RnJvbnQpKVxuICAgICAgeyArK2N1dEZyb250IH1cbiAgICB2YXIgbmV3Qm90ID0gbHN0KG5ld1RleHQpLCBvbGRCb3QgPSBsc3Qob2xkVGV4dClcbiAgICB2YXIgbWF4Q3V0RW5kID0gTWF0aC5taW4obmV3Qm90Lmxlbmd0aCAtIChuZXdUZXh0Lmxlbmd0aCA9PSAxID8gY3V0RnJvbnQgOiAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkQm90Lmxlbmd0aCAtIChvbGRUZXh0Lmxlbmd0aCA9PSAxID8gY3V0RnJvbnQgOiAwKSlcbiAgICB3aGlsZSAoY3V0RW5kIDwgbWF4Q3V0RW5kICYmXG4gICAgICAgICAgIG5ld0JvdC5jaGFyQ29kZUF0KG5ld0JvdC5sZW5ndGggLSBjdXRFbmQgLSAxKSA9PSBvbGRCb3QuY2hhckNvZGVBdChvbGRCb3QubGVuZ3RoIC0gY3V0RW5kIC0gMSkpXG4gICAgICB7ICsrY3V0RW5kIH1cblxuICAgIG5ld1RleHRbbmV3VGV4dC5sZW5ndGggLSAxXSA9IG5ld0JvdC5zbGljZSgwLCBuZXdCb3QubGVuZ3RoIC0gY3V0RW5kKS5yZXBsYWNlKC9eXFx1MjAwYisvLCBcIlwiKVxuICAgIG5ld1RleHRbMF0gPSBuZXdUZXh0WzBdLnNsaWNlKGN1dEZyb250KS5yZXBsYWNlKC9cXHUyMDBiKyQvLCBcIlwiKVxuXG4gICAgdmFyIGNoRnJvbSA9IFBvcyhmcm9tTGluZSwgY3V0RnJvbnQpXG4gICAgdmFyIGNoVG8gPSBQb3ModG9MaW5lLCBvbGRUZXh0Lmxlbmd0aCA/IGxzdChvbGRUZXh0KS5sZW5ndGggLSBjdXRFbmQgOiAwKVxuICAgIGlmIChuZXdUZXh0Lmxlbmd0aCA+IDEgfHwgbmV3VGV4dFswXSB8fCBjbXAoY2hGcm9tLCBjaFRvKSkge1xuICAgICAgcmVwbGFjZVJhbmdlKGNtLmRvYywgbmV3VGV4dCwgY2hGcm9tLCBjaFRvLCBcIitpbnB1dFwiKVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH0sXG5cbiAgZW5zdXJlUG9sbGVkOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmZvcmNlQ29tcG9zaXRpb25FbmQoKVxuICB9LFxuICByZXNldDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5mb3JjZUNvbXBvc2l0aW9uRW5kKClcbiAgfSxcbiAgZm9yY2VDb21wb3NpdGlvbkVuZDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLmNvbXBvc2luZykgeyByZXR1cm4gfVxuICAgIHRoaXMuY29tcG9zaW5nID0gbnVsbFxuICAgIGlmICghdGhpcy5wb2xsQ29udGVudCgpKSB7IHJlZ0NoYW5nZSh0aGlzLmNtKSB9XG4gICAgdGhpcy5kaXYuYmx1cigpXG4gICAgdGhpcy5kaXYuZm9jdXMoKVxuICB9LFxuICByZWFkRnJvbURPTVNvb246IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMucmVhZERPTVRpbWVvdXQgIT0gbnVsbCkgeyByZXR1cm4gfVxuICAgIHRoaXMucmVhZERPTVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMkMS5yZWFkRE9NVGltZW91dCA9IG51bGxcbiAgICAgIGlmICh0aGlzJDEuY29tcG9zaW5nKSB7IHJldHVybiB9XG4gICAgICBpZiAodGhpcyQxLmNtLmlzUmVhZE9ubHkoKSB8fCAhdGhpcyQxLnBvbGxDb250ZW50KCkpXG4gICAgICAgIHsgcnVuSW5PcCh0aGlzJDEuY20sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlZ0NoYW5nZSh0aGlzJDEuY20pOyB9KSB9XG4gICAgfSwgODApXG4gIH0sXG5cbiAgc2V0VW5lZGl0YWJsZTogZnVuY3Rpb24obm9kZSkge1xuICAgIG5vZGUuY29udGVudEVkaXRhYmxlID0gXCJmYWxzZVwiXG4gIH0sXG5cbiAgb25LZXlQcmVzczogZnVuY3Rpb24oZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIGlmICghdGhpcy5jbS5pc1JlYWRPbmx5KCkpXG4gICAgICB7IG9wZXJhdGlvbih0aGlzLmNtLCBhcHBseVRleHRJbnB1dCkodGhpcy5jbSwgU3RyaW5nLmZyb21DaGFyQ29kZShlLmNoYXJDb2RlID09IG51bGwgPyBlLmtleUNvZGUgOiBlLmNoYXJDb2RlKSwgMCkgfVxuICB9LFxuXG4gIHJlYWRPbmx5Q2hhbmdlZDogZnVuY3Rpb24odmFsKSB7XG4gICAgdGhpcy5kaXYuY29udGVudEVkaXRhYmxlID0gU3RyaW5nKHZhbCAhPSBcIm5vY3Vyc29yXCIpXG4gIH0sXG5cbiAgb25Db250ZXh0TWVudTogbm90aGluZyxcbiAgcmVzZXRQb3NpdGlvbjogbm90aGluZyxcblxuICBuZWVkc0NvbnRlbnRBdHRyaWJ1dGU6IHRydWVcbiAgfSwgQ29udGVudEVkaXRhYmxlSW5wdXQucHJvdG90eXBlKVxuXG5mdW5jdGlvbiBwb3NUb0RPTShjbSwgcG9zKSB7XG4gIHZhciB2aWV3ID0gZmluZFZpZXdGb3JMaW5lKGNtLCBwb3MubGluZSlcbiAgaWYgKCF2aWV3IHx8IHZpZXcuaGlkZGVuKSB7IHJldHVybiBudWxsIH1cbiAgdmFyIGxpbmUgPSBnZXRMaW5lKGNtLmRvYywgcG9zLmxpbmUpXG4gIHZhciBpbmZvID0gbWFwRnJvbUxpbmVWaWV3KHZpZXcsIGxpbmUsIHBvcy5saW5lKVxuXG4gIHZhciBvcmRlciA9IGdldE9yZGVyKGxpbmUpLCBzaWRlID0gXCJsZWZ0XCJcbiAgaWYgKG9yZGVyKSB7XG4gICAgdmFyIHBhcnRQb3MgPSBnZXRCaWRpUGFydEF0KG9yZGVyLCBwb3MuY2gpXG4gICAgc2lkZSA9IHBhcnRQb3MgJSAyID8gXCJyaWdodFwiIDogXCJsZWZ0XCJcbiAgfVxuICB2YXIgcmVzdWx0ID0gbm9kZUFuZE9mZnNldEluTGluZU1hcChpbmZvLm1hcCwgcG9zLmNoLCBzaWRlKVxuICByZXN1bHQub2Zmc2V0ID0gcmVzdWx0LmNvbGxhcHNlID09IFwicmlnaHRcIiA/IHJlc3VsdC5lbmQgOiByZXN1bHQuc3RhcnRcbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5mdW5jdGlvbiBiYWRQb3MocG9zLCBiYWQpIHsgaWYgKGJhZCkgeyBwb3MuYmFkID0gdHJ1ZTsgfSByZXR1cm4gcG9zIH1cblxuZnVuY3Rpb24gZG9tVGV4dEJldHdlZW4oY20sIGZyb20sIHRvLCBmcm9tTGluZSwgdG9MaW5lKSB7XG4gIHZhciB0ZXh0ID0gXCJcIiwgY2xvc2luZyA9IGZhbHNlLCBsaW5lU2VwID0gY20uZG9jLmxpbmVTZXBhcmF0b3IoKVxuICBmdW5jdGlvbiByZWNvZ25pemVNYXJrZXIoaWQpIHsgcmV0dXJuIGZ1bmN0aW9uIChtYXJrZXIpIHsgcmV0dXJuIG1hcmtlci5pZCA9PSBpZDsgfSB9XG4gIGZ1bmN0aW9uIHdhbGsobm9kZSkge1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEpIHtcbiAgICAgIHZhciBjbVRleHQgPSBub2RlLmdldEF0dHJpYnV0ZShcImNtLXRleHRcIilcbiAgICAgIGlmIChjbVRleHQgIT0gbnVsbCkge1xuICAgICAgICBpZiAoY21UZXh0ID09IFwiXCIpIHsgdGV4dCArPSBub2RlLnRleHRDb250ZW50LnJlcGxhY2UoL1xcdTIwMGIvZywgXCJcIikgfVxuICAgICAgICBlbHNlIHsgdGV4dCArPSBjbVRleHQgfVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIHZhciBtYXJrZXJJRCA9IG5vZGUuZ2V0QXR0cmlidXRlKFwiY20tbWFya2VyXCIpLCByYW5nZVxuICAgICAgaWYgKG1hcmtlcklEKSB7XG4gICAgICAgIHZhciBmb3VuZCA9IGNtLmZpbmRNYXJrcyhQb3MoZnJvbUxpbmUsIDApLCBQb3ModG9MaW5lICsgMSwgMCksIHJlY29nbml6ZU1hcmtlcigrbWFya2VySUQpKVxuICAgICAgICBpZiAoZm91bmQubGVuZ3RoICYmIChyYW5nZSA9IGZvdW5kWzBdLmZpbmQoKSkpXG4gICAgICAgICAgeyB0ZXh0ICs9IGdldEJldHdlZW4oY20uZG9jLCByYW5nZS5mcm9tLCByYW5nZS50bykuam9pbihsaW5lU2VwKSB9XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgaWYgKG5vZGUuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpID09IFwiZmFsc2VcIikgeyByZXR1cm4gfVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHsgd2Fsayhub2RlLmNoaWxkTm9kZXNbaV0pIH1cbiAgICAgIGlmICgvXihwcmV8ZGl2fHApJC9pLnRlc3Qobm9kZS5ub2RlTmFtZSkpXG4gICAgICAgIHsgY2xvc2luZyA9IHRydWUgfVxuICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PSAzKSB7XG4gICAgICB2YXIgdmFsID0gbm9kZS5ub2RlVmFsdWVcbiAgICAgIGlmICghdmFsKSB7IHJldHVybiB9XG4gICAgICBpZiAoY2xvc2luZykge1xuICAgICAgICB0ZXh0ICs9IGxpbmVTZXBcbiAgICAgICAgY2xvc2luZyA9IGZhbHNlXG4gICAgICB9XG4gICAgICB0ZXh0ICs9IHZhbFxuICAgIH1cbiAgfVxuICBmb3IgKDs7KSB7XG4gICAgd2Fsayhmcm9tKVxuICAgIGlmIChmcm9tID09IHRvKSB7IGJyZWFrIH1cbiAgICBmcm9tID0gZnJvbS5uZXh0U2libGluZ1xuICB9XG4gIHJldHVybiB0ZXh0XG59XG5cbmZ1bmN0aW9uIGRvbVRvUG9zKGNtLCBub2RlLCBvZmZzZXQpIHtcbiAgdmFyIGxpbmVOb2RlXG4gIGlmIChub2RlID09IGNtLmRpc3BsYXkubGluZURpdikge1xuICAgIGxpbmVOb2RlID0gY20uZGlzcGxheS5saW5lRGl2LmNoaWxkTm9kZXNbb2Zmc2V0XVxuICAgIGlmICghbGluZU5vZGUpIHsgcmV0dXJuIGJhZFBvcyhjbS5jbGlwUG9zKFBvcyhjbS5kaXNwbGF5LnZpZXdUbyAtIDEpKSwgdHJ1ZSkgfVxuICAgIG5vZGUgPSBudWxsOyBvZmZzZXQgPSAwXG4gIH0gZWxzZSB7XG4gICAgZm9yIChsaW5lTm9kZSA9IG5vZGU7OyBsaW5lTm9kZSA9IGxpbmVOb2RlLnBhcmVudE5vZGUpIHtcbiAgICAgIGlmICghbGluZU5vZGUgfHwgbGluZU5vZGUgPT0gY20uZGlzcGxheS5saW5lRGl2KSB7IHJldHVybiBudWxsIH1cbiAgICAgIGlmIChsaW5lTm9kZS5wYXJlbnROb2RlICYmIGxpbmVOb2RlLnBhcmVudE5vZGUgPT0gY20uZGlzcGxheS5saW5lRGl2KSB7IGJyZWFrIH1cbiAgICB9XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbS5kaXNwbGF5LnZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgbGluZVZpZXcgPSBjbS5kaXNwbGF5LnZpZXdbaV1cbiAgICBpZiAobGluZVZpZXcubm9kZSA9PSBsaW5lTm9kZSlcbiAgICAgIHsgcmV0dXJuIGxvY2F0ZU5vZGVJbkxpbmVWaWV3KGxpbmVWaWV3LCBub2RlLCBvZmZzZXQpIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBsb2NhdGVOb2RlSW5MaW5lVmlldyhsaW5lVmlldywgbm9kZSwgb2Zmc2V0KSB7XG4gIHZhciB3cmFwcGVyID0gbGluZVZpZXcudGV4dC5maXJzdENoaWxkLCBiYWQgPSBmYWxzZVxuICBpZiAoIW5vZGUgfHwgIWNvbnRhaW5zKHdyYXBwZXIsIG5vZGUpKSB7IHJldHVybiBiYWRQb3MoUG9zKGxpbmVObyhsaW5lVmlldy5saW5lKSwgMCksIHRydWUpIH1cbiAgaWYgKG5vZGUgPT0gd3JhcHBlcikge1xuICAgIGJhZCA9IHRydWVcbiAgICBub2RlID0gd3JhcHBlci5jaGlsZE5vZGVzW29mZnNldF1cbiAgICBvZmZzZXQgPSAwXG4gICAgaWYgKCFub2RlKSB7XG4gICAgICB2YXIgbGluZSA9IGxpbmVWaWV3LnJlc3QgPyBsc3QobGluZVZpZXcucmVzdCkgOiBsaW5lVmlldy5saW5lXG4gICAgICByZXR1cm4gYmFkUG9zKFBvcyhsaW5lTm8obGluZSksIGxpbmUudGV4dC5sZW5ndGgpLCBiYWQpXG4gICAgfVxuICB9XG5cbiAgdmFyIHRleHROb2RlID0gbm9kZS5ub2RlVHlwZSA9PSAzID8gbm9kZSA6IG51bGwsIHRvcE5vZGUgPSBub2RlXG4gIGlmICghdGV4dE5vZGUgJiYgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aCA9PSAxICYmIG5vZGUuZmlyc3RDaGlsZC5ub2RlVHlwZSA9PSAzKSB7XG4gICAgdGV4dE5vZGUgPSBub2RlLmZpcnN0Q2hpbGRcbiAgICBpZiAob2Zmc2V0KSB7IG9mZnNldCA9IHRleHROb2RlLm5vZGVWYWx1ZS5sZW5ndGggfVxuICB9XG4gIHdoaWxlICh0b3BOb2RlLnBhcmVudE5vZGUgIT0gd3JhcHBlcikgeyB0b3BOb2RlID0gdG9wTm9kZS5wYXJlbnROb2RlIH1cbiAgdmFyIG1lYXN1cmUgPSBsaW5lVmlldy5tZWFzdXJlLCBtYXBzID0gbWVhc3VyZS5tYXBzXG5cbiAgZnVuY3Rpb24gZmluZCh0ZXh0Tm9kZSwgdG9wTm9kZSwgb2Zmc2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IC0xOyBpIDwgKG1hcHMgPyBtYXBzLmxlbmd0aCA6IDApOyBpKyspIHtcbiAgICAgIHZhciBtYXAgPSBpIDwgMCA/IG1lYXN1cmUubWFwIDogbWFwc1tpXVxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBtYXAubGVuZ3RoOyBqICs9IDMpIHtcbiAgICAgICAgdmFyIGN1ck5vZGUgPSBtYXBbaiArIDJdXG4gICAgICAgIGlmIChjdXJOb2RlID09IHRleHROb2RlIHx8IGN1ck5vZGUgPT0gdG9wTm9kZSkge1xuICAgICAgICAgIHZhciBsaW5lID0gbGluZU5vKGkgPCAwID8gbGluZVZpZXcubGluZSA6IGxpbmVWaWV3LnJlc3RbaV0pXG4gICAgICAgICAgdmFyIGNoID0gbWFwW2pdICsgb2Zmc2V0XG4gICAgICAgICAgaWYgKG9mZnNldCA8IDAgfHwgY3VyTm9kZSAhPSB0ZXh0Tm9kZSkgeyBjaCA9IG1hcFtqICsgKG9mZnNldCA/IDEgOiAwKV0gfVxuICAgICAgICAgIHJldHVybiBQb3MobGluZSwgY2gpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdmFyIGZvdW5kID0gZmluZCh0ZXh0Tm9kZSwgdG9wTm9kZSwgb2Zmc2V0KVxuICBpZiAoZm91bmQpIHsgcmV0dXJuIGJhZFBvcyhmb3VuZCwgYmFkKSB9XG5cbiAgLy8gRklYTUUgdGhpcyBpcyBhbGwgcmVhbGx5IHNoYWt5LiBtaWdodCBoYW5kbGUgdGhlIGZldyBjYXNlcyBpdCBuZWVkcyB0byBoYW5kbGUsIGJ1dCBsaWtlbHkgdG8gY2F1c2UgcHJvYmxlbXNcbiAgZm9yICh2YXIgYWZ0ZXIgPSB0b3BOb2RlLm5leHRTaWJsaW5nLCBkaXN0ID0gdGV4dE5vZGUgPyB0ZXh0Tm9kZS5ub2RlVmFsdWUubGVuZ3RoIC0gb2Zmc2V0IDogMDsgYWZ0ZXI7IGFmdGVyID0gYWZ0ZXIubmV4dFNpYmxpbmcpIHtcbiAgICBmb3VuZCA9IGZpbmQoYWZ0ZXIsIGFmdGVyLmZpcnN0Q2hpbGQsIDApXG4gICAgaWYgKGZvdW5kKVxuICAgICAgeyByZXR1cm4gYmFkUG9zKFBvcyhmb3VuZC5saW5lLCBmb3VuZC5jaCAtIGRpc3QpLCBiYWQpIH1cbiAgICBlbHNlXG4gICAgICB7IGRpc3QgKz0gYWZ0ZXIudGV4dENvbnRlbnQubGVuZ3RoIH1cbiAgfVxuICBmb3IgKHZhciBiZWZvcmUgPSB0b3BOb2RlLnByZXZpb3VzU2libGluZywgZGlzdCQxID0gb2Zmc2V0OyBiZWZvcmU7IGJlZm9yZSA9IGJlZm9yZS5wcmV2aW91c1NpYmxpbmcpIHtcbiAgICBmb3VuZCA9IGZpbmQoYmVmb3JlLCBiZWZvcmUuZmlyc3RDaGlsZCwgLTEpXG4gICAgaWYgKGZvdW5kKVxuICAgICAgeyByZXR1cm4gYmFkUG9zKFBvcyhmb3VuZC5saW5lLCBmb3VuZC5jaCArIGRpc3QkMSksIGJhZCkgfVxuICAgIGVsc2VcbiAgICAgIHsgZGlzdCQxICs9IGJlZm9yZS50ZXh0Q29udGVudC5sZW5ndGggfVxuICB9XG59XG5cbi8vIFRFWFRBUkVBIElOUFVUIFNUWUxFXG5cbmZ1bmN0aW9uIFRleHRhcmVhSW5wdXQoY20pIHtcbiAgdGhpcy5jbSA9IGNtXG4gIC8vIFNlZSBpbnB1dC5wb2xsIGFuZCBpbnB1dC5yZXNldFxuICB0aGlzLnByZXZJbnB1dCA9IFwiXCJcblxuICAvLyBGbGFnIHRoYXQgaW5kaWNhdGVzIHdoZXRoZXIgd2UgZXhwZWN0IGlucHV0IHRvIGFwcGVhciByZWFsIHNvb25cbiAgLy8gbm93IChhZnRlciBzb21lIGV2ZW50IGxpa2UgJ2tleXByZXNzJyBvciAnaW5wdXQnKSBhbmQgYXJlXG4gIC8vIHBvbGxpbmcgaW50ZW5zaXZlbHkuXG4gIHRoaXMucG9sbGluZ0Zhc3QgPSBmYWxzZVxuICAvLyBTZWxmLXJlc2V0dGluZyB0aW1lb3V0IGZvciB0aGUgcG9sbGVyXG4gIHRoaXMucG9sbGluZyA9IG5ldyBEZWxheWVkKClcbiAgLy8gVHJhY2tzIHdoZW4gaW5wdXQucmVzZXQgaGFzIHB1bnRlZCB0byBqdXN0IHB1dHRpbmcgYSBzaG9ydFxuICAvLyBzdHJpbmcgaW50byB0aGUgdGV4dGFyZWEgaW5zdGVhZCBvZiB0aGUgZnVsbCBzZWxlY3Rpb24uXG4gIHRoaXMuaW5hY2N1cmF0ZVNlbGVjdGlvbiA9IGZhbHNlXG4gIC8vIFVzZWQgdG8gd29yayBhcm91bmQgSUUgaXNzdWUgd2l0aCBzZWxlY3Rpb24gYmVpbmcgZm9yZ290dGVuIHdoZW4gZm9jdXMgbW92ZXMgYXdheSBmcm9tIHRleHRhcmVhXG4gIHRoaXMuaGFzU2VsZWN0aW9uID0gZmFsc2VcbiAgdGhpcy5jb21wb3NpbmcgPSBudWxsXG59XG5cblRleHRhcmVhSW5wdXQucHJvdG90eXBlID0gY29weU9iaih7XG4gIGluaXQ6IGZ1bmN0aW9uKGRpc3BsYXkpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBpbnB1dCA9IHRoaXMsIGNtID0gdGhpcy5jbVxuXG4gICAgLy8gV3JhcHMgYW5kIGhpZGVzIGlucHV0IHRleHRhcmVhXG4gICAgdmFyIGRpdiA9IHRoaXMud3JhcHBlciA9IGhpZGRlblRleHRhcmVhKClcbiAgICAvLyBUaGUgc2VtaWhpZGRlbiB0ZXh0YXJlYSB0aGF0IGlzIGZvY3VzZWQgd2hlbiB0aGUgZWRpdG9yIGlzXG4gICAgLy8gZm9jdXNlZCwgYW5kIHJlY2VpdmVzIGlucHV0LlxuICAgIHZhciB0ZSA9IHRoaXMudGV4dGFyZWEgPSBkaXYuZmlyc3RDaGlsZFxuICAgIGRpc3BsYXkud3JhcHBlci5pbnNlcnRCZWZvcmUoZGl2LCBkaXNwbGF5LndyYXBwZXIuZmlyc3RDaGlsZClcblxuICAgIC8vIE5lZWRlZCB0byBoaWRlIGJpZyBibHVlIGJsaW5raW5nIGN1cnNvciBvbiBNb2JpbGUgU2FmYXJpIChkb2Vzbid0IHNlZW0gdG8gd29yayBpbiBpT1MgOCBhbnltb3JlKVxuICAgIGlmIChpb3MpIHsgdGUuc3R5bGUud2lkdGggPSBcIjBweFwiIH1cblxuICAgIG9uKHRlLCBcImlucHV0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uID49IDkgJiYgdGhpcyQxLmhhc1NlbGVjdGlvbikgeyB0aGlzJDEuaGFzU2VsZWN0aW9uID0gbnVsbCB9XG4gICAgICBpbnB1dC5wb2xsKClcbiAgICB9KVxuXG4gICAgb24odGUsIFwicGFzdGVcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChzaWduYWxET01FdmVudChjbSwgZSkgfHwgaGFuZGxlUGFzdGUoZSwgY20pKSB7IHJldHVybiB9XG5cbiAgICAgIGNtLnN0YXRlLnBhc3RlSW5jb21pbmcgPSB0cnVlXG4gICAgICBpbnB1dC5mYXN0UG9sbCgpXG4gICAgfSlcblxuICAgIGZ1bmN0aW9uIHByZXBhcmVDb3B5Q3V0KGUpIHtcbiAgICAgIGlmIChzaWduYWxET01FdmVudChjbSwgZSkpIHsgcmV0dXJuIH1cbiAgICAgIGlmIChjbS5zb21ldGhpbmdTZWxlY3RlZCgpKSB7XG4gICAgICAgIHNldExhc3RDb3BpZWQoe2xpbmVXaXNlOiBmYWxzZSwgdGV4dDogY20uZ2V0U2VsZWN0aW9ucygpfSlcbiAgICAgICAgaWYgKGlucHV0LmluYWNjdXJhdGVTZWxlY3Rpb24pIHtcbiAgICAgICAgICBpbnB1dC5wcmV2SW5wdXQgPSBcIlwiXG4gICAgICAgICAgaW5wdXQuaW5hY2N1cmF0ZVNlbGVjdGlvbiA9IGZhbHNlXG4gICAgICAgICAgdGUudmFsdWUgPSBsYXN0Q29waWVkLnRleHQuam9pbihcIlxcblwiKVxuICAgICAgICAgIHNlbGVjdElucHV0KHRlKVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFjbS5vcHRpb25zLmxpbmVXaXNlQ29weUN1dCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciByYW5nZXMgPSBjb3B5YWJsZVJhbmdlcyhjbSlcbiAgICAgICAgc2V0TGFzdENvcGllZCh7bGluZVdpc2U6IHRydWUsIHRleHQ6IHJhbmdlcy50ZXh0fSlcbiAgICAgICAgaWYgKGUudHlwZSA9PSBcImN1dFwiKSB7XG4gICAgICAgICAgY20uc2V0U2VsZWN0aW9ucyhyYW5nZXMucmFuZ2VzLCBudWxsLCBzZWxfZG9udFNjcm9sbClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbnB1dC5wcmV2SW5wdXQgPSBcIlwiXG4gICAgICAgICAgdGUudmFsdWUgPSByYW5nZXMudGV4dC5qb2luKFwiXFxuXCIpXG4gICAgICAgICAgc2VsZWN0SW5wdXQodGUpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChlLnR5cGUgPT0gXCJjdXRcIikgeyBjbS5zdGF0ZS5jdXRJbmNvbWluZyA9IHRydWUgfVxuICAgIH1cbiAgICBvbih0ZSwgXCJjdXRcIiwgcHJlcGFyZUNvcHlDdXQpXG4gICAgb24odGUsIFwiY29weVwiLCBwcmVwYXJlQ29weUN1dClcblxuICAgIG9uKGRpc3BsYXkuc2Nyb2xsZXIsIFwicGFzdGVcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChldmVudEluV2lkZ2V0KGRpc3BsYXksIGUpIHx8IHNpZ25hbERPTUV2ZW50KGNtLCBlKSkgeyByZXR1cm4gfVxuICAgICAgY20uc3RhdGUucGFzdGVJbmNvbWluZyA9IHRydWVcbiAgICAgIGlucHV0LmZvY3VzKClcbiAgICB9KVxuXG4gICAgLy8gUHJldmVudCBub3JtYWwgc2VsZWN0aW9uIGluIHRoZSBlZGl0b3IgKHdlIGhhbmRsZSBvdXIgb3duKVxuICAgIG9uKGRpc3BsYXkubGluZVNwYWNlLCBcInNlbGVjdHN0YXJ0XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoIWV2ZW50SW5XaWRnZXQoZGlzcGxheSwgZSkpIHsgZV9wcmV2ZW50RGVmYXVsdChlKSB9XG4gICAgfSlcblxuICAgIG9uKHRlLCBcImNvbXBvc2l0aW9uc3RhcnRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN0YXJ0ID0gY20uZ2V0Q3Vyc29yKFwiZnJvbVwiKVxuICAgICAgaWYgKGlucHV0LmNvbXBvc2luZykgeyBpbnB1dC5jb21wb3NpbmcucmFuZ2UuY2xlYXIoKSB9XG4gICAgICBpbnB1dC5jb21wb3NpbmcgPSB7XG4gICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgcmFuZ2U6IGNtLm1hcmtUZXh0KHN0YXJ0LCBjbS5nZXRDdXJzb3IoXCJ0b1wiKSwge2NsYXNzTmFtZTogXCJDb2RlTWlycm9yLWNvbXBvc2luZ1wifSlcbiAgICAgIH1cbiAgICB9KVxuICAgIG9uKHRlLCBcImNvbXBvc2l0aW9uZW5kXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpbnB1dC5jb21wb3NpbmcpIHtcbiAgICAgICAgaW5wdXQucG9sbCgpXG4gICAgICAgIGlucHV0LmNvbXBvc2luZy5yYW5nZS5jbGVhcigpXG4gICAgICAgIGlucHV0LmNvbXBvc2luZyA9IG51bGxcbiAgICAgIH1cbiAgICB9KVxuICB9LFxuXG4gIHByZXBhcmVTZWxlY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgIC8vIFJlZHJhdyB0aGUgc2VsZWN0aW9uIGFuZC9vciBjdXJzb3JcbiAgICB2YXIgY20gPSB0aGlzLmNtLCBkaXNwbGF5ID0gY20uZGlzcGxheSwgZG9jID0gY20uZG9jXG4gICAgdmFyIHJlc3VsdCA9IHByZXBhcmVTZWxlY3Rpb24oY20pXG5cbiAgICAvLyBNb3ZlIHRoZSBoaWRkZW4gdGV4dGFyZWEgbmVhciB0aGUgY3Vyc29yIHRvIHByZXZlbnQgc2Nyb2xsaW5nIGFydGlmYWN0c1xuICAgIGlmIChjbS5vcHRpb25zLm1vdmVJbnB1dFdpdGhDdXJzb3IpIHtcbiAgICAgIHZhciBoZWFkUG9zID0gY3Vyc29yQ29vcmRzKGNtLCBkb2Muc2VsLnByaW1hcnkoKS5oZWFkLCBcImRpdlwiKVxuICAgICAgdmFyIHdyYXBPZmYgPSBkaXNwbGF5LndyYXBwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGxpbmVPZmYgPSBkaXNwbGF5LmxpbmVEaXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgIHJlc3VsdC50ZVRvcCA9IE1hdGgubWF4KDAsIE1hdGgubWluKGRpc3BsYXkud3JhcHBlci5jbGllbnRIZWlnaHQgLSAxMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRQb3MudG9wICsgbGluZU9mZi50b3AgLSB3cmFwT2ZmLnRvcCkpXG4gICAgICByZXN1bHQudGVMZWZ0ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oZGlzcGxheS53cmFwcGVyLmNsaWVudFdpZHRoIC0gMTAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZFBvcy5sZWZ0ICsgbGluZU9mZi5sZWZ0IC0gd3JhcE9mZi5sZWZ0KSlcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0XG4gIH0sXG5cbiAgc2hvd1NlbGVjdGlvbjogZnVuY3Rpb24oZHJhd24pIHtcbiAgICB2YXIgY20gPSB0aGlzLmNtLCBkaXNwbGF5ID0gY20uZGlzcGxheVxuICAgIHJlbW92ZUNoaWxkcmVuQW5kQWRkKGRpc3BsYXkuY3Vyc29yRGl2LCBkcmF3bi5jdXJzb3JzKVxuICAgIHJlbW92ZUNoaWxkcmVuQW5kQWRkKGRpc3BsYXkuc2VsZWN0aW9uRGl2LCBkcmF3bi5zZWxlY3Rpb24pXG4gICAgaWYgKGRyYXduLnRlVG9wICE9IG51bGwpIHtcbiAgICAgIHRoaXMud3JhcHBlci5zdHlsZS50b3AgPSBkcmF3bi50ZVRvcCArIFwicHhcIlxuICAgICAgdGhpcy53cmFwcGVyLnN0eWxlLmxlZnQgPSBkcmF3bi50ZUxlZnQgKyBcInB4XCJcbiAgICB9XG4gIH0sXG5cbiAgLy8gUmVzZXQgdGhlIGlucHV0IHRvIGNvcnJlc3BvbmQgdG8gdGhlIHNlbGVjdGlvbiAob3IgdG8gYmUgZW1wdHksXG4gIC8vIHdoZW4gbm90IHR5cGluZyBhbmQgbm90aGluZyBpcyBzZWxlY3RlZClcbiAgcmVzZXQ6IGZ1bmN0aW9uKHR5cGluZykge1xuICAgIGlmICh0aGlzLmNvbnRleHRNZW51UGVuZGluZykgeyByZXR1cm4gfVxuICAgIHZhciBtaW5pbWFsLCBzZWxlY3RlZCwgY20gPSB0aGlzLmNtLCBkb2MgPSBjbS5kb2NcbiAgICBpZiAoY20uc29tZXRoaW5nU2VsZWN0ZWQoKSkge1xuICAgICAgdGhpcy5wcmV2SW5wdXQgPSBcIlwiXG4gICAgICB2YXIgcmFuZ2UgPSBkb2Muc2VsLnByaW1hcnkoKVxuICAgICAgbWluaW1hbCA9IGhhc0NvcHlFdmVudCAmJlxuICAgICAgICAocmFuZ2UudG8oKS5saW5lIC0gcmFuZ2UuZnJvbSgpLmxpbmUgPiAxMDAgfHwgKHNlbGVjdGVkID0gY20uZ2V0U2VsZWN0aW9uKCkpLmxlbmd0aCA+IDEwMDApXG4gICAgICB2YXIgY29udGVudCA9IG1pbmltYWwgPyBcIi1cIiA6IHNlbGVjdGVkIHx8IGNtLmdldFNlbGVjdGlvbigpXG4gICAgICB0aGlzLnRleHRhcmVhLnZhbHVlID0gY29udGVudFxuICAgICAgaWYgKGNtLnN0YXRlLmZvY3VzZWQpIHsgc2VsZWN0SW5wdXQodGhpcy50ZXh0YXJlYSkgfVxuICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPj0gOSkgeyB0aGlzLmhhc1NlbGVjdGlvbiA9IGNvbnRlbnQgfVxuICAgIH0gZWxzZSBpZiAoIXR5cGluZykge1xuICAgICAgdGhpcy5wcmV2SW5wdXQgPSB0aGlzLnRleHRhcmVhLnZhbHVlID0gXCJcIlxuICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPj0gOSkgeyB0aGlzLmhhc1NlbGVjdGlvbiA9IG51bGwgfVxuICAgIH1cbiAgICB0aGlzLmluYWNjdXJhdGVTZWxlY3Rpb24gPSBtaW5pbWFsXG4gIH0sXG5cbiAgZ2V0RmllbGQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy50ZXh0YXJlYSB9LFxuXG4gIHN1cHBvcnRzVG91Y2g6IGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFsc2UgfSxcblxuICBmb2N1czogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuY20ub3B0aW9ucy5yZWFkT25seSAhPSBcIm5vY3Vyc29yXCIgJiYgKCFtb2JpbGUgfHwgYWN0aXZlRWx0KCkgIT0gdGhpcy50ZXh0YXJlYSkpIHtcbiAgICAgIHRyeSB7IHRoaXMudGV4dGFyZWEuZm9jdXMoKSB9XG4gICAgICBjYXRjaCAoZSkge30gLy8gSUU4IHdpbGwgdGhyb3cgaWYgdGhlIHRleHRhcmVhIGlzIGRpc3BsYXk6IG5vbmUgb3Igbm90IGluIERPTVxuICAgIH1cbiAgfSxcblxuICBibHVyOiBmdW5jdGlvbigpIHsgdGhpcy50ZXh0YXJlYS5ibHVyKCkgfSxcblxuICByZXNldFBvc2l0aW9uOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLndyYXBwZXIuc3R5bGUudG9wID0gdGhpcy53cmFwcGVyLnN0eWxlLmxlZnQgPSAwXG4gIH0sXG5cbiAgcmVjZWl2ZWRGb2N1czogZnVuY3Rpb24oKSB7IHRoaXMuc2xvd1BvbGwoKSB9LFxuXG4gIC8vIFBvbGwgZm9yIGlucHV0IGNoYW5nZXMsIHVzaW5nIHRoZSBub3JtYWwgcmF0ZSBvZiBwb2xsaW5nLiBUaGlzXG4gIC8vIHJ1bnMgYXMgbG9uZyBhcyB0aGUgZWRpdG9yIGlzIGZvY3VzZWQuXG4gIHNsb3dQb2xsOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGlmICh0aGlzLnBvbGxpbmdGYXN0KSB7IHJldHVybiB9XG4gICAgdGhpcy5wb2xsaW5nLnNldCh0aGlzLmNtLm9wdGlvbnMucG9sbEludGVydmFsLCBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzJDEucG9sbCgpXG4gICAgICBpZiAodGhpcyQxLmNtLnN0YXRlLmZvY3VzZWQpIHsgdGhpcyQxLnNsb3dQb2xsKCkgfVxuICAgIH0pXG4gIH0sXG5cbiAgLy8gV2hlbiBhbiBldmVudCBoYXMganVzdCBjb21lIGluIHRoYXQgaXMgbGlrZWx5IHRvIGFkZCBvciBjaGFuZ2VcbiAgLy8gc29tZXRoaW5nIGluIHRoZSBpbnB1dCB0ZXh0YXJlYSwgd2UgcG9sbCBmYXN0ZXIsIHRvIGVuc3VyZSB0aGF0XG4gIC8vIHRoZSBjaGFuZ2UgYXBwZWFycyBvbiB0aGUgc2NyZWVuIHF1aWNrbHkuXG4gIGZhc3RQb2xsOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbWlzc2VkID0gZmFsc2UsIGlucHV0ID0gdGhpc1xuICAgIGlucHV0LnBvbGxpbmdGYXN0ID0gdHJ1ZVxuICAgIGZ1bmN0aW9uIHAoKSB7XG4gICAgICB2YXIgY2hhbmdlZCA9IGlucHV0LnBvbGwoKVxuICAgICAgaWYgKCFjaGFuZ2VkICYmICFtaXNzZWQpIHttaXNzZWQgPSB0cnVlOyBpbnB1dC5wb2xsaW5nLnNldCg2MCwgcCl9XG4gICAgICBlbHNlIHtpbnB1dC5wb2xsaW5nRmFzdCA9IGZhbHNlOyBpbnB1dC5zbG93UG9sbCgpfVxuICAgIH1cbiAgICBpbnB1dC5wb2xsaW5nLnNldCgyMCwgcClcbiAgfSxcblxuICAvLyBSZWFkIGlucHV0IGZyb20gdGhlIHRleHRhcmVhLCBhbmQgdXBkYXRlIHRoZSBkb2N1bWVudCB0byBtYXRjaC5cbiAgLy8gV2hlbiBzb21ldGhpbmcgaXMgc2VsZWN0ZWQsIGl0IGlzIHByZXNlbnQgaW4gdGhlIHRleHRhcmVhLCBhbmRcbiAgLy8gc2VsZWN0ZWQgKHVubGVzcyBpdCBpcyBodWdlLCBpbiB3aGljaCBjYXNlIGEgcGxhY2Vob2xkZXIgaXNcbiAgLy8gdXNlZCkuIFdoZW4gbm90aGluZyBpcyBzZWxlY3RlZCwgdGhlIGN1cnNvciBzaXRzIGFmdGVyIHByZXZpb3VzbHlcbiAgLy8gc2VlbiB0ZXh0IChjYW4gYmUgZW1wdHkpLCB3aGljaCBpcyBzdG9yZWQgaW4gcHJldklucHV0ICh3ZSBtdXN0XG4gIC8vIG5vdCByZXNldCB0aGUgdGV4dGFyZWEgd2hlbiB0eXBpbmcsIGJlY2F1c2UgdGhhdCBicmVha3MgSU1FKS5cbiAgcG9sbDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgY20gPSB0aGlzLmNtLCBpbnB1dCA9IHRoaXMudGV4dGFyZWEsIHByZXZJbnB1dCA9IHRoaXMucHJldklucHV0XG4gICAgLy8gU2luY2UgdGhpcyBpcyBjYWxsZWQgYSAqbG90KiwgdHJ5IHRvIGJhaWwgb3V0IGFzIGNoZWFwbHkgYXNcbiAgICAvLyBwb3NzaWJsZSB3aGVuIGl0IGlzIGNsZWFyIHRoYXQgbm90aGluZyBoYXBwZW5lZC4gaGFzU2VsZWN0aW9uXG4gICAgLy8gd2lsbCBiZSB0aGUgY2FzZSB3aGVuIHRoZXJlIGlzIGEgbG90IG9mIHRleHQgaW4gdGhlIHRleHRhcmVhLFxuICAgIC8vIGluIHdoaWNoIGNhc2UgcmVhZGluZyBpdHMgdmFsdWUgd291bGQgYmUgZXhwZW5zaXZlLlxuICAgIGlmICh0aGlzLmNvbnRleHRNZW51UGVuZGluZyB8fCAhY20uc3RhdGUuZm9jdXNlZCB8fFxuICAgICAgICAoaGFzU2VsZWN0aW9uKGlucHV0KSAmJiAhcHJldklucHV0ICYmICF0aGlzLmNvbXBvc2luZykgfHxcbiAgICAgICAgY20uaXNSZWFkT25seSgpIHx8IGNtLm9wdGlvbnMuZGlzYWJsZUlucHV0IHx8IGNtLnN0YXRlLmtleVNlcSlcbiAgICAgIHsgcmV0dXJuIGZhbHNlIH1cblxuICAgIHZhciB0ZXh0ID0gaW5wdXQudmFsdWVcbiAgICAvLyBJZiBub3RoaW5nIGNoYW5nZWQsIGJhaWwuXG4gICAgaWYgKHRleHQgPT0gcHJldklucHV0ICYmICFjbS5zb21ldGhpbmdTZWxlY3RlZCgpKSB7IHJldHVybiBmYWxzZSB9XG4gICAgLy8gV29yayBhcm91bmQgbm9uc2Vuc2ljYWwgc2VsZWN0aW9uIHJlc2V0dGluZyBpbiBJRTkvMTAsIGFuZFxuICAgIC8vIGluZXhwbGljYWJsZSBhcHBlYXJhbmNlIG9mIHByaXZhdGUgYXJlYSB1bmljb2RlIGNoYXJhY3RlcnMgb25cbiAgICAvLyBzb21lIGtleSBjb21ib3MgaW4gTWFjICgjMjY4OSkuXG4gICAgaWYgKGllICYmIGllX3ZlcnNpb24gPj0gOSAmJiB0aGlzLmhhc1NlbGVjdGlvbiA9PT0gdGV4dCB8fFxuICAgICAgICBtYWMgJiYgL1tcXHVmNzAwLVxcdWY3ZmZdLy50ZXN0KHRleHQpKSB7XG4gICAgICBjbS5kaXNwbGF5LmlucHV0LnJlc2V0KClcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmIChjbS5kb2Muc2VsID09IGNtLmRpc3BsYXkuc2VsRm9yQ29udGV4dE1lbnUpIHtcbiAgICAgIHZhciBmaXJzdCA9IHRleHQuY2hhckNvZGVBdCgwKVxuICAgICAgaWYgKGZpcnN0ID09IDB4MjAwYiAmJiAhcHJldklucHV0KSB7IHByZXZJbnB1dCA9IFwiXFx1MjAwYlwiIH1cbiAgICAgIGlmIChmaXJzdCA9PSAweDIxZGEpIHsgdGhpcy5yZXNldCgpOyByZXR1cm4gdGhpcy5jbS5leGVjQ29tbWFuZChcInVuZG9cIikgfVxuICAgIH1cbiAgICAvLyBGaW5kIHRoZSBwYXJ0IG9mIHRoZSBpbnB1dCB0aGF0IGlzIGFjdHVhbGx5IG5ld1xuICAgIHZhciBzYW1lID0gMCwgbCA9IE1hdGgubWluKHByZXZJbnB1dC5sZW5ndGgsIHRleHQubGVuZ3RoKVxuICAgIHdoaWxlIChzYW1lIDwgbCAmJiBwcmV2SW5wdXQuY2hhckNvZGVBdChzYW1lKSA9PSB0ZXh0LmNoYXJDb2RlQXQoc2FtZSkpIHsgKytzYW1lIH1cblxuICAgIHJ1bkluT3AoY20sIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwcGx5VGV4dElucHV0KGNtLCB0ZXh0LnNsaWNlKHNhbWUpLCBwcmV2SW5wdXQubGVuZ3RoIC0gc2FtZSxcbiAgICAgICAgICAgICAgICAgICAgIG51bGwsIHRoaXMkMS5jb21wb3NpbmcgPyBcIipjb21wb3NlXCIgOiBudWxsKVxuXG4gICAgICAvLyBEb24ndCBsZWF2ZSBsb25nIHRleHQgaW4gdGhlIHRleHRhcmVhLCBzaW5jZSBpdCBtYWtlcyBmdXJ0aGVyIHBvbGxpbmcgc2xvd1xuICAgICAgaWYgKHRleHQubGVuZ3RoID4gMTAwMCB8fCB0ZXh0LmluZGV4T2YoXCJcXG5cIikgPiAtMSkgeyBpbnB1dC52YWx1ZSA9IHRoaXMkMS5wcmV2SW5wdXQgPSBcIlwiIH1cbiAgICAgIGVsc2UgeyB0aGlzJDEucHJldklucHV0ID0gdGV4dCB9XG5cbiAgICAgIGlmICh0aGlzJDEuY29tcG9zaW5nKSB7XG4gICAgICAgIHRoaXMkMS5jb21wb3NpbmcucmFuZ2UuY2xlYXIoKVxuICAgICAgICB0aGlzJDEuY29tcG9zaW5nLnJhbmdlID0gY20ubWFya1RleHQodGhpcyQxLmNvbXBvc2luZy5zdGFydCwgY20uZ2V0Q3Vyc29yKFwidG9cIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NsYXNzTmFtZTogXCJDb2RlTWlycm9yLWNvbXBvc2luZ1wifSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiB0cnVlXG4gIH0sXG5cbiAgZW5zdXJlUG9sbGVkOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5wb2xsaW5nRmFzdCAmJiB0aGlzLnBvbGwoKSkgeyB0aGlzLnBvbGxpbmdGYXN0ID0gZmFsc2UgfVxuICB9LFxuXG4gIG9uS2V5UHJlc3M6IGZ1bmN0aW9uKCkge1xuICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uID49IDkpIHsgdGhpcy5oYXNTZWxlY3Rpb24gPSBudWxsIH1cbiAgICB0aGlzLmZhc3RQb2xsKClcbiAgfSxcblxuICBvbkNvbnRleHRNZW51OiBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGlucHV0ID0gdGhpcywgY20gPSBpbnB1dC5jbSwgZGlzcGxheSA9IGNtLmRpc3BsYXksIHRlID0gaW5wdXQudGV4dGFyZWFcbiAgICB2YXIgcG9zID0gcG9zRnJvbU1vdXNlKGNtLCBlKSwgc2Nyb2xsUG9zID0gZGlzcGxheS5zY3JvbGxlci5zY3JvbGxUb3BcbiAgICBpZiAoIXBvcyB8fCBwcmVzdG8pIHsgcmV0dXJuIH0gLy8gT3BlcmEgaXMgZGlmZmljdWx0LlxuXG4gICAgLy8gUmVzZXQgdGhlIGN1cnJlbnQgdGV4dCBzZWxlY3Rpb24gb25seSBpZiB0aGUgY2xpY2sgaXMgZG9uZSBvdXRzaWRlIG9mIHRoZSBzZWxlY3Rpb25cbiAgICAvLyBhbmQgJ3Jlc2V0U2VsZWN0aW9uT25Db250ZXh0TWVudScgb3B0aW9uIGlzIHRydWUuXG4gICAgdmFyIHJlc2V0ID0gY20ub3B0aW9ucy5yZXNldFNlbGVjdGlvbk9uQ29udGV4dE1lbnVcbiAgICBpZiAocmVzZXQgJiYgY20uZG9jLnNlbC5jb250YWlucyhwb3MpID09IC0xKVxuICAgICAgeyBvcGVyYXRpb24oY20sIHNldFNlbGVjdGlvbikoY20uZG9jLCBzaW1wbGVTZWxlY3Rpb24ocG9zKSwgc2VsX2RvbnRTY3JvbGwpIH1cblxuICAgIHZhciBvbGRDU1MgPSB0ZS5zdHlsZS5jc3NUZXh0LCBvbGRXcmFwcGVyQ1NTID0gaW5wdXQud3JhcHBlci5zdHlsZS5jc3NUZXh0XG4gICAgaW5wdXQud3JhcHBlci5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjogYWJzb2x1dGVcIlxuICAgIHZhciB3cmFwcGVyQm94ID0gaW5wdXQud3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIHRlLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOiBhYnNvbHV0ZTsgd2lkdGg6IDMwcHg7IGhlaWdodDogMzBweDtcXG4gICAgICB0b3A6IFwiICsgKGUuY2xpZW50WSAtIHdyYXBwZXJCb3gudG9wIC0gNSkgKyBcInB4OyBsZWZ0OiBcIiArIChlLmNsaWVudFggLSB3cmFwcGVyQm94LmxlZnQgLSA1KSArIFwicHg7XFxuICAgICAgei1pbmRleDogMTAwMDsgYmFja2dyb3VuZDogXCIgKyAoaWUgPyBcInJnYmEoMjU1LCAyNTUsIDI1NSwgLjA1KVwiIDogXCJ0cmFuc3BhcmVudFwiKSArIFwiO1xcbiAgICAgIG91dGxpbmU6IG5vbmU7IGJvcmRlci13aWR0aDogMDsgb3V0bGluZTogbm9uZTsgb3ZlcmZsb3c6IGhpZGRlbjsgb3BhY2l0eTogLjA1OyBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9NSk7XCJcbiAgICB2YXIgb2xkU2Nyb2xsWVxuICAgIGlmICh3ZWJraXQpIHsgb2xkU2Nyb2xsWSA9IHdpbmRvdy5zY3JvbGxZIH0gLy8gV29yayBhcm91bmQgQ2hyb21lIGlzc3VlICgjMjcxMilcbiAgICBkaXNwbGF5LmlucHV0LmZvY3VzKClcbiAgICBpZiAod2Via2l0KSB7IHdpbmRvdy5zY3JvbGxUbyhudWxsLCBvbGRTY3JvbGxZKSB9XG4gICAgZGlzcGxheS5pbnB1dC5yZXNldCgpXG4gICAgLy8gQWRkcyBcIlNlbGVjdCBhbGxcIiB0byBjb250ZXh0IG1lbnUgaW4gRkZcbiAgICBpZiAoIWNtLnNvbWV0aGluZ1NlbGVjdGVkKCkpIHsgdGUudmFsdWUgPSBpbnB1dC5wcmV2SW5wdXQgPSBcIiBcIiB9XG4gICAgaW5wdXQuY29udGV4dE1lbnVQZW5kaW5nID0gdHJ1ZVxuICAgIGRpc3BsYXkuc2VsRm9yQ29udGV4dE1lbnUgPSBjbS5kb2Muc2VsXG4gICAgY2xlYXJUaW1lb3V0KGRpc3BsYXkuZGV0ZWN0aW5nU2VsZWN0QWxsKVxuXG4gICAgLy8gU2VsZWN0LWFsbCB3aWxsIGJlIGdyZXllZCBvdXQgaWYgdGhlcmUncyBub3RoaW5nIHRvIHNlbGVjdCwgc29cbiAgICAvLyB0aGlzIGFkZHMgYSB6ZXJvLXdpZHRoIHNwYWNlIHNvIHRoYXQgd2UgY2FuIGxhdGVyIGNoZWNrIHdoZXRoZXJcbiAgICAvLyBpdCBnb3Qgc2VsZWN0ZWQuXG4gICAgZnVuY3Rpb24gcHJlcGFyZVNlbGVjdEFsbEhhY2soKSB7XG4gICAgICBpZiAodGUuc2VsZWN0aW9uU3RhcnQgIT0gbnVsbCkge1xuICAgICAgICB2YXIgc2VsZWN0ZWQgPSBjbS5zb21ldGhpbmdTZWxlY3RlZCgpXG4gICAgICAgIHZhciBleHR2YWwgPSBcIlxcdTIwMGJcIiArIChzZWxlY3RlZCA/IHRlLnZhbHVlIDogXCJcIilcbiAgICAgICAgdGUudmFsdWUgPSBcIlxcdTIxZGFcIiAvLyBVc2VkIHRvIGNhdGNoIGNvbnRleHQtbWVudSB1bmRvXG4gICAgICAgIHRlLnZhbHVlID0gZXh0dmFsXG4gICAgICAgIGlucHV0LnByZXZJbnB1dCA9IHNlbGVjdGVkID8gXCJcIiA6IFwiXFx1MjAwYlwiXG4gICAgICAgIHRlLnNlbGVjdGlvblN0YXJ0ID0gMTsgdGUuc2VsZWN0aW9uRW5kID0gZXh0dmFsLmxlbmd0aFxuICAgICAgICAvLyBSZS1zZXQgdGhpcywgaW4gY2FzZSBzb21lIG90aGVyIGhhbmRsZXIgdG91Y2hlZCB0aGVcbiAgICAgICAgLy8gc2VsZWN0aW9uIGluIHRoZSBtZWFudGltZS5cbiAgICAgICAgZGlzcGxheS5zZWxGb3JDb250ZXh0TWVudSA9IGNtLmRvYy5zZWxcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVoaWRlKCkge1xuICAgICAgaW5wdXQuY29udGV4dE1lbnVQZW5kaW5nID0gZmFsc2VcbiAgICAgIGlucHV0LndyYXBwZXIuc3R5bGUuY3NzVGV4dCA9IG9sZFdyYXBwZXJDU1NcbiAgICAgIHRlLnN0eWxlLmNzc1RleHQgPSBvbGRDU1NcbiAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOSkgeyBkaXNwbGF5LnNjcm9sbGJhcnMuc2V0U2Nyb2xsVG9wKGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wID0gc2Nyb2xsUG9zKSB9XG5cbiAgICAgIC8vIFRyeSB0byBkZXRlY3QgdGhlIHVzZXIgY2hvb3Npbmcgc2VsZWN0LWFsbFxuICAgICAgaWYgKHRlLnNlbGVjdGlvblN0YXJ0ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKCFpZSB8fCAoaWUgJiYgaWVfdmVyc2lvbiA8IDkpKSB7IHByZXBhcmVTZWxlY3RBbGxIYWNrKCkgfVxuICAgICAgICB2YXIgaSA9IDAsIHBvbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKGRpc3BsYXkuc2VsRm9yQ29udGV4dE1lbnUgPT0gY20uZG9jLnNlbCAmJiB0ZS5zZWxlY3Rpb25TdGFydCA9PSAwICYmXG4gICAgICAgICAgICAgIHRlLnNlbGVjdGlvbkVuZCA+IDAgJiYgaW5wdXQucHJldklucHV0ID09IFwiXFx1MjAwYlwiKVxuICAgICAgICAgICAgeyBvcGVyYXRpb24oY20sIHNlbGVjdEFsbCkoY20pIH1cbiAgICAgICAgICBlbHNlIGlmIChpKysgPCAxMCkgeyBkaXNwbGF5LmRldGVjdGluZ1NlbGVjdEFsbCA9IHNldFRpbWVvdXQocG9sbCwgNTAwKSB9XG4gICAgICAgICAgZWxzZSB7IGRpc3BsYXkuaW5wdXQucmVzZXQoKSB9XG4gICAgICAgIH1cbiAgICAgICAgZGlzcGxheS5kZXRlY3RpbmdTZWxlY3RBbGwgPSBzZXRUaW1lb3V0KHBvbGwsIDIwMClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA+PSA5KSB7IHByZXBhcmVTZWxlY3RBbGxIYWNrKCkgfVxuICAgIGlmIChjYXB0dXJlUmlnaHRDbGljaykge1xuICAgICAgZV9zdG9wKGUpXG4gICAgICB2YXIgbW91c2V1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb2ZmKHdpbmRvdywgXCJtb3VzZXVwXCIsIG1vdXNldXApXG4gICAgICAgIHNldFRpbWVvdXQocmVoaWRlLCAyMClcbiAgICAgIH1cbiAgICAgIG9uKHdpbmRvdywgXCJtb3VzZXVwXCIsIG1vdXNldXApXG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFRpbWVvdXQocmVoaWRlLCA1MClcbiAgICB9XG4gIH0sXG5cbiAgcmVhZE9ubHlDaGFuZ2VkOiBmdW5jdGlvbih2YWwpIHtcbiAgICBpZiAoIXZhbCkgeyB0aGlzLnJlc2V0KCkgfVxuICB9LFxuXG4gIHNldFVuZWRpdGFibGU6IG5vdGhpbmcsXG5cbiAgbmVlZHNDb250ZW50QXR0cmlidXRlOiBmYWxzZVxufSwgVGV4dGFyZWFJbnB1dC5wcm90b3R5cGUpXG5cbmZ1bmN0aW9uIGZyb21UZXh0QXJlYSh0ZXh0YXJlYSwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyA/IGNvcHlPYmoob3B0aW9ucykgOiB7fVxuICBvcHRpb25zLnZhbHVlID0gdGV4dGFyZWEudmFsdWVcbiAgaWYgKCFvcHRpb25zLnRhYmluZGV4ICYmIHRleHRhcmVhLnRhYkluZGV4KVxuICAgIHsgb3B0aW9ucy50YWJpbmRleCA9IHRleHRhcmVhLnRhYkluZGV4IH1cbiAgaWYgKCFvcHRpb25zLnBsYWNlaG9sZGVyICYmIHRleHRhcmVhLnBsYWNlaG9sZGVyKVxuICAgIHsgb3B0aW9ucy5wbGFjZWhvbGRlciA9IHRleHRhcmVhLnBsYWNlaG9sZGVyIH1cbiAgLy8gU2V0IGF1dG9mb2N1cyB0byB0cnVlIGlmIHRoaXMgdGV4dGFyZWEgaXMgZm9jdXNlZCwgb3IgaWYgaXQgaGFzXG4gIC8vIGF1dG9mb2N1cyBhbmQgbm8gb3RoZXIgZWxlbWVudCBpcyBmb2N1c2VkLlxuICBpZiAob3B0aW9ucy5hdXRvZm9jdXMgPT0gbnVsbCkge1xuICAgIHZhciBoYXNGb2N1cyA9IGFjdGl2ZUVsdCgpXG4gICAgb3B0aW9ucy5hdXRvZm9jdXMgPSBoYXNGb2N1cyA9PSB0ZXh0YXJlYSB8fFxuICAgICAgdGV4dGFyZWEuZ2V0QXR0cmlidXRlKFwiYXV0b2ZvY3VzXCIpICE9IG51bGwgJiYgaGFzRm9jdXMgPT0gZG9jdW1lbnQuYm9keVxuICB9XG5cbiAgZnVuY3Rpb24gc2F2ZSgpIHt0ZXh0YXJlYS52YWx1ZSA9IGNtLmdldFZhbHVlKCl9XG5cbiAgdmFyIHJlYWxTdWJtaXRcbiAgaWYgKHRleHRhcmVhLmZvcm0pIHtcbiAgICBvbih0ZXh0YXJlYS5mb3JtLCBcInN1Ym1pdFwiLCBzYXZlKVxuICAgIC8vIERlcGxvcmFibGUgaGFjayB0byBtYWtlIHRoZSBzdWJtaXQgbWV0aG9kIGRvIHRoZSByaWdodCB0aGluZy5cbiAgICBpZiAoIW9wdGlvbnMubGVhdmVTdWJtaXRNZXRob2RBbG9uZSkge1xuICAgICAgdmFyIGZvcm0gPSB0ZXh0YXJlYS5mb3JtXG4gICAgICByZWFsU3VibWl0ID0gZm9ybS5zdWJtaXRcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciB3cmFwcGVkU3VibWl0ID0gZm9ybS5zdWJtaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc2F2ZSgpXG4gICAgICAgICAgZm9ybS5zdWJtaXQgPSByZWFsU3VibWl0XG4gICAgICAgICAgZm9ybS5zdWJtaXQoKVxuICAgICAgICAgIGZvcm0uc3VibWl0ID0gd3JhcHBlZFN1Ym1pdFxuICAgICAgICB9XG4gICAgICB9IGNhdGNoKGUpIHt9XG4gICAgfVxuICB9XG5cbiAgb3B0aW9ucy5maW5pc2hJbml0ID0gZnVuY3Rpb24gKGNtKSB7XG4gICAgY20uc2F2ZSA9IHNhdmVcbiAgICBjbS5nZXRUZXh0QXJlYSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRleHRhcmVhOyB9XG4gICAgY20udG9UZXh0QXJlYSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNtLnRvVGV4dEFyZWEgPSBpc05hTiAvLyBQcmV2ZW50IHRoaXMgZnJvbSBiZWluZyByYW4gdHdpY2VcbiAgICAgIHNhdmUoKVxuICAgICAgdGV4dGFyZWEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjbS5nZXRXcmFwcGVyRWxlbWVudCgpKVxuICAgICAgdGV4dGFyZWEuc3R5bGUuZGlzcGxheSA9IFwiXCJcbiAgICAgIGlmICh0ZXh0YXJlYS5mb3JtKSB7XG4gICAgICAgIG9mZih0ZXh0YXJlYS5mb3JtLCBcInN1Ym1pdFwiLCBzYXZlKVxuICAgICAgICBpZiAodHlwZW9mIHRleHRhcmVhLmZvcm0uc3VibWl0ID09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICB7IHRleHRhcmVhLmZvcm0uc3VibWl0ID0gcmVhbFN1Ym1pdCB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdGV4dGFyZWEuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gIHZhciBjbSA9IENvZGVNaXJyb3IoZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIHRleHRhcmVhLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIHRleHRhcmVhLm5leHRTaWJsaW5nKTsgfSxcbiAgICBvcHRpb25zKVxuICByZXR1cm4gY21cbn1cblxuZnVuY3Rpb24gYWRkTGVnYWN5UHJvcHMoQ29kZU1pcnJvcikge1xuICBDb2RlTWlycm9yLm9mZiA9IG9mZlxuICBDb2RlTWlycm9yLm9uID0gb25cbiAgQ29kZU1pcnJvci53aGVlbEV2ZW50UGl4ZWxzID0gd2hlZWxFdmVudFBpeGVsc1xuICBDb2RlTWlycm9yLkRvYyA9IERvY1xuICBDb2RlTWlycm9yLnNwbGl0TGluZXMgPSBzcGxpdExpbmVzQXV0b1xuICBDb2RlTWlycm9yLmNvdW50Q29sdW1uID0gY291bnRDb2x1bW5cbiAgQ29kZU1pcnJvci5maW5kQ29sdW1uID0gZmluZENvbHVtblxuICBDb2RlTWlycm9yLmlzV29yZENoYXIgPSBpc1dvcmRDaGFyQmFzaWNcbiAgQ29kZU1pcnJvci5QYXNzID0gUGFzc1xuICBDb2RlTWlycm9yLnNpZ25hbCA9IHNpZ25hbFxuICBDb2RlTWlycm9yLkxpbmUgPSBMaW5lXG4gIENvZGVNaXJyb3IuY2hhbmdlRW5kID0gY2hhbmdlRW5kXG4gIENvZGVNaXJyb3Iuc2Nyb2xsYmFyTW9kZWwgPSBzY3JvbGxiYXJNb2RlbFxuICBDb2RlTWlycm9yLlBvcyA9IFBvc1xuICBDb2RlTWlycm9yLmNtcFBvcyA9IGNtcFxuICBDb2RlTWlycm9yLm1vZGVzID0gbW9kZXNcbiAgQ29kZU1pcnJvci5taW1lTW9kZXMgPSBtaW1lTW9kZXNcbiAgQ29kZU1pcnJvci5yZXNvbHZlTW9kZSA9IHJlc29sdmVNb2RlXG4gIENvZGVNaXJyb3IuZ2V0TW9kZSA9IGdldE1vZGVcbiAgQ29kZU1pcnJvci5tb2RlRXh0ZW5zaW9ucyA9IG1vZGVFeHRlbnNpb25zXG4gIENvZGVNaXJyb3IuZXh0ZW5kTW9kZSA9IGV4dGVuZE1vZGVcbiAgQ29kZU1pcnJvci5jb3B5U3RhdGUgPSBjb3B5U3RhdGVcbiAgQ29kZU1pcnJvci5zdGFydFN0YXRlID0gc3RhcnRTdGF0ZVxuICBDb2RlTWlycm9yLmlubmVyTW9kZSA9IGlubmVyTW9kZVxuICBDb2RlTWlycm9yLmNvbW1hbmRzID0gY29tbWFuZHNcbiAgQ29kZU1pcnJvci5rZXlNYXAgPSBrZXlNYXBcbiAgQ29kZU1pcnJvci5rZXlOYW1lID0ga2V5TmFtZVxuICBDb2RlTWlycm9yLmlzTW9kaWZpZXJLZXkgPSBpc01vZGlmaWVyS2V5XG4gIENvZGVNaXJyb3IubG9va3VwS2V5ID0gbG9va3VwS2V5XG4gIENvZGVNaXJyb3Iubm9ybWFsaXplS2V5TWFwID0gbm9ybWFsaXplS2V5TWFwXG4gIENvZGVNaXJyb3IuU3RyaW5nU3RyZWFtID0gU3RyaW5nU3RyZWFtXG4gIENvZGVNaXJyb3IuU2hhcmVkVGV4dE1hcmtlciA9IFNoYXJlZFRleHRNYXJrZXJcbiAgQ29kZU1pcnJvci5UZXh0TWFya2VyID0gVGV4dE1hcmtlclxuICBDb2RlTWlycm9yLkxpbmVXaWRnZXQgPSBMaW5lV2lkZ2V0XG4gIENvZGVNaXJyb3IuZV9wcmV2ZW50RGVmYXVsdCA9IGVfcHJldmVudERlZmF1bHRcbiAgQ29kZU1pcnJvci5lX3N0b3BQcm9wYWdhdGlvbiA9IGVfc3RvcFByb3BhZ2F0aW9uXG4gIENvZGVNaXJyb3IuZV9zdG9wID0gZV9zdG9wXG4gIENvZGVNaXJyb3IuYWRkQ2xhc3MgPSBhZGRDbGFzc1xuICBDb2RlTWlycm9yLmNvbnRhaW5zID0gY29udGFpbnNcbiAgQ29kZU1pcnJvci5ybUNsYXNzID0gcm1DbGFzc1xuICBDb2RlTWlycm9yLmtleU5hbWVzID0ga2V5TmFtZXNcbn1cblxuLy8gRURJVE9SIENPTlNUUlVDVE9SXG5cbmRlZmluZU9wdGlvbnMoQ29kZU1pcnJvcilcblxuYWRkRWRpdG9yTWV0aG9kcyhDb2RlTWlycm9yKVxuXG4vLyBTZXQgdXAgbWV0aG9kcyBvbiBDb2RlTWlycm9yJ3MgcHJvdG90eXBlIHRvIHJlZGlyZWN0IHRvIHRoZSBlZGl0b3IncyBkb2N1bWVudC5cbnZhciBkb250RGVsZWdhdGUgPSBcIml0ZXIgaW5zZXJ0IHJlbW92ZSBjb3B5IGdldEVkaXRvciBjb25zdHJ1Y3RvclwiLnNwbGl0KFwiIFwiKVxuZm9yICh2YXIgcHJvcCBpbiBEb2MucHJvdG90eXBlKSB7IGlmIChEb2MucHJvdG90eXBlLmhhc093blByb3BlcnR5KHByb3ApICYmIGluZGV4T2YoZG9udERlbGVnYXRlLCBwcm9wKSA8IDApXG4gIHsgQ29kZU1pcnJvci5wcm90b3R5cGVbcHJvcF0gPSAoZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge3JldHVybiBtZXRob2QuYXBwbHkodGhpcy5kb2MsIGFyZ3VtZW50cyl9XG4gIH0pKERvYy5wcm90b3R5cGVbcHJvcF0pIH0gfVxuXG5ldmVudE1peGluKERvYylcblxuLy8gSU5QVVQgSEFORExJTkdcblxuQ29kZU1pcnJvci5pbnB1dFN0eWxlcyA9IHtcInRleHRhcmVhXCI6IFRleHRhcmVhSW5wdXQsIFwiY29udGVudGVkaXRhYmxlXCI6IENvbnRlbnRFZGl0YWJsZUlucHV0fVxuXG4vLyBNT0RFIERFRklOSVRJT04gQU5EIFFVRVJZSU5HXG5cbi8vIEV4dHJhIGFyZ3VtZW50cyBhcmUgc3RvcmVkIGFzIHRoZSBtb2RlJ3MgZGVwZW5kZW5jaWVzLCB3aGljaCBpc1xuLy8gdXNlZCBieSAobGVnYWN5KSBtZWNoYW5pc21zIGxpa2UgbG9hZG1vZGUuanMgdG8gYXV0b21hdGljYWxseVxuLy8gbG9hZCBhIG1vZGUuIChQcmVmZXJyZWQgbWVjaGFuaXNtIGlzIHRoZSByZXF1aXJlL2RlZmluZSBjYWxscy4pXG5Db2RlTWlycm9yLmRlZmluZU1vZGUgPSBmdW5jdGlvbihuYW1lLyosIG1vZGUsIOKApiovKSB7XG4gIGlmICghQ29kZU1pcnJvci5kZWZhdWx0cy5tb2RlICYmIG5hbWUgIT0gXCJudWxsXCIpIHsgQ29kZU1pcnJvci5kZWZhdWx0cy5tb2RlID0gbmFtZSB9XG4gIGRlZmluZU1vZGUuYXBwbHkodGhpcywgYXJndW1lbnRzKVxufVxuXG5Db2RlTWlycm9yLmRlZmluZU1JTUUgPSBkZWZpbmVNSU1FXG5cbi8vIE1pbmltYWwgZGVmYXVsdCBtb2RlLlxuQ29kZU1pcnJvci5kZWZpbmVNb2RlKFwibnVsbFwiLCBmdW5jdGlvbiAoKSB7IHJldHVybiAoe3Rva2VuOiBmdW5jdGlvbiAoc3RyZWFtKSB7IHJldHVybiBzdHJlYW0uc2tpcFRvRW5kKCk7IH19KTsgfSlcbkNvZGVNaXJyb3IuZGVmaW5lTUlNRShcInRleHQvcGxhaW5cIiwgXCJudWxsXCIpXG5cbi8vIEVYVEVOU0lPTlNcblxuQ29kZU1pcnJvci5kZWZpbmVFeHRlbnNpb24gPSBmdW5jdGlvbiAobmFtZSwgZnVuYykge1xuICBDb2RlTWlycm9yLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmNcbn1cbkNvZGVNaXJyb3IuZGVmaW5lRG9jRXh0ZW5zaW9uID0gZnVuY3Rpb24gKG5hbWUsIGZ1bmMpIHtcbiAgRG9jLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmNcbn1cblxuQ29kZU1pcnJvci5mcm9tVGV4dEFyZWEgPSBmcm9tVGV4dEFyZWFcblxuYWRkTGVnYWN5UHJvcHMoQ29kZU1pcnJvcilcblxuQ29kZU1pcnJvci52ZXJzaW9uID0gXCI1LjIxLjBcIlxuXG5yZXR1cm4gQ29kZU1pcnJvcjtcblxufSkpKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY29kZW1pcnJvci9saWIvY29kZW1pcnJvci5qc1xuLy8gbW9kdWxlIGlkID0gMzZcbi8vIG1vZHVsZSBjaHVua3MgPSAwIDEiXSwic291cmNlUm9vdCI6IiJ9